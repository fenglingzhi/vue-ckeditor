{"version":3,"sources":["webpack:///webpack/bootstrap 5fd8af85ccab2d1aaeeb","webpack:///./core/ckeditor_base.js","webpack:///./core/loader.js","webpack:///./core/event.js","webpack:///./core/editor_basic.js","webpack:///./core/env.js","webpack:///./core/ckeditor_basic.js","webpack:///./core/log.js","webpack:///./core/dom.js","webpack:///./core/tools.js","webpack:///./core/dtd.js","webpack:///./core/dom/event.js","webpack:///./core/dom/domobject.js","webpack:///./core/dom/node.js","webpack:///./core/dom/window.js","webpack:///./core/dom/document.js","webpack:///./core/dom/nodelist.js","webpack:///./core/dom/element.js","webpack:///./core/dom/documentfragment.js","webpack:///./core/dom/walker.js","webpack:///./core/dom/range.js","webpack:///./core/dom/iterator.js","webpack:///./core/command.js","webpack:///./core/config.js","webpack:///./core/filter.js","webpack:///./core/focusmanager.js","webpack:///./core/keystrokehandler.js","webpack:///./core/lang.js","webpack:///./core/scriptloader.js","webpack:///./core/resourcemanager.js","webpack:///./core/plugins.js","webpack:///./core/ui.js","webpack:///./core/editor.js","webpack:///./core/htmlparser.js","webpack:///./core/htmlparser/basicwriter.js","webpack:///./core/htmlparser/node.js","webpack:///./core/htmlparser/comment.js","webpack:///./core/htmlparser/text.js","webpack:///./core/htmlparser/cdata.js","webpack:///./core/htmlparser/fragment.js","webpack:///./core/htmlparser/filter.js","webpack:///./core/htmldataprocessor.js","webpack:///./core/htmlparser/element.js","webpack:///./core/template.js","webpack:///./core/ckeditor.js","webpack:///./core/creators/inline.js","webpack:///./core/creators/themedui.js","webpack:///./core/editable.js","webpack:///./core/selection.js","webpack:///./core/style.js","webpack:///./core/dom/comment.js","webpack:///./core/dom/elementpath.js","webpack:///./core/dom/text.js","webpack:///./core/dom/rangelist.js","webpack:///./core/skin.js","webpack:///./.icons","webpack:///./plugins/sourcearea/icons/source.png","webpack:///./plugins/save/icons/save.png","webpack:///./plugins/newpage/icons/newpage.png","webpack:///./plugins/preview/icons/preview.png","webpack:///./plugins/print/icons/print.png","webpack:///./plugins/templates/icons/templates.png","webpack:///./plugins/clipboard/icons/cut.png","webpack:///./plugins/clipboard/icons/copy.png","webpack:///./plugins/clipboard/icons/paste.png","webpack:///./plugins/pastetext/icons/pastetext.png","webpack:///./plugins/pastefromword/icons/pastefromword.png","webpack:///./plugins/undo/icons/undo.png","webpack:///./plugins/undo/icons/redo.png","webpack:///./plugins/find/icons/find.png","webpack:///./plugins/find/icons/replace.png","webpack:///./plugins/selectall/icons/selectall.png","webpack:///./plugins/forms/icons/form.png","webpack:///./plugins/forms/icons/checkbox.png","webpack:///./plugins/forms/icons/radio.png","webpack:///./plugins/forms/icons/textfield.png","webpack:///./plugins/forms/icons/textarea.png","webpack:///./plugins/forms/icons/select.png","webpack:///./plugins/forms/icons/button.png","webpack:///./plugins/forms/icons/imagebutton.png","webpack:///./plugins/forms/icons/hiddenfield.png","webpack:///./plugins/basicstyles/icons/bold.png","webpack:///./plugins/basicstyles/icons/italic.png","webpack:///./plugins/basicstyles/icons/underline.png","webpack:///./plugins/basicstyles/icons/strike.png","webpack:///./plugins/basicstyles/icons/subscript.png","webpack:///./plugins/basicstyles/icons/superscript.png","webpack:///./plugins/removeformat/icons/removeformat.png","webpack:///./plugins/list/icons/numberedlist.png","webpack:///./plugins/list/icons/bulletedlist.png","webpack:///./plugins/indent/icons/outdent.png","webpack:///./plugins/indent/icons/indent.png","webpack:///./plugins/blockquote/icons/blockquote.png","webpack:///./plugins/div/icons/creatediv.png","webpack:///./plugins/justify/icons/justifyleft.png","webpack:///./plugins/justify/icons/justifycenter.png","webpack:///./plugins/justify/icons/justifyright.png","webpack:///./plugins/justify/icons/justifyblock.png","webpack:///./plugins/bidi/icons/bidiltr.png","webpack:///./plugins/bidi/icons/bidirtl.png","webpack:///./plugins/language/icons/language.png","webpack:///./plugins/link/icons/link.png","webpack:///./plugins/link/icons/unlink.png","webpack:///./plugins/link/icons/anchor.png","webpack:///./plugins/image/icons/image.png","webpack:///./plugins/flash/icons/flash.png","webpack:///./plugins/table/icons/table.png","webpack:///./plugins/horizontalrule/icons/horizontalrule.png","webpack:///./plugins/smiley/icons/smiley.png","webpack:///./plugins/specialchar/icons/specialchar.png","webpack:///./plugins/pagebreak/icons/pagebreak.png","webpack:///./plugins/iframe/icons/iframe.png","webpack:///./plugins/colorbutton/icons/textcolor.png","webpack:///./plugins/colorbutton/icons/bgcolor.png","webpack:///./plugins/maximize/icons/maximize.png","webpack:///./plugins/showblocks/icons/showblocks.png","webpack:///./plugins/about/icons/about.png","webpack:///./plugins/smiley/images/angel_smile.gif","webpack:///./plugins/smiley/images/angel_smile.png","webpack:///./plugins/smiley/images/angry_smile.gif","webpack:///./plugins/smiley/images/angry_smile.png","webpack:///./plugins/smiley/images/broken_heart.gif","webpack:///./plugins/smiley/images/broken_heart.png","webpack:///./plugins/smiley/images/confused_smile.gif","webpack:///./plugins/smiley/images/confused_smile.png","webpack:///./plugins/smiley/images/cry_smile.gif","webpack:///./plugins/smiley/images/cry_smile.png","webpack:///./plugins/smiley/images/devil_smile.gif","webpack:///./plugins/smiley/images/devil_smile.png","webpack:///./plugins/smiley/images/embaressed_smile.gif","webpack:///./plugins/smiley/images/embarrassed_smile.gif","webpack:///./plugins/smiley/images/embarrassed_smile.png","webpack:///./plugins/smiley/images/envelope.gif","webpack:///./plugins/smiley/images/envelope.png","webpack:///./plugins/smiley/images/heart.gif","webpack:///./plugins/smiley/images/heart.png","webpack:///./plugins/smiley/images/kiss.gif","webpack:///./plugins/smiley/images/kiss.png","webpack:///./plugins/smiley/images/lightbulb.gif","webpack:///./plugins/smiley/images/lightbulb.png","webpack:///./plugins/smiley/images/omg_smile.gif","webpack:///./plugins/smiley/images/omg_smile.png","webpack:///./plugins/smiley/images/regular_smile.gif","webpack:///./plugins/smiley/images/regular_smile.png","webpack:///./plugins/smiley/images/sad_smile.gif","webpack:///./plugins/smiley/images/sad_smile.png","webpack:///./plugins/smiley/images/shades_smile.gif","webpack:///./plugins/smiley/images/shades_smile.png","webpack:///./plugins/smiley/images/teeth_smile.gif","webpack:///./plugins/smiley/images/teeth_smile.png","webpack:///./plugins/smiley/images/thumbs_down.gif","webpack:///./plugins/smiley/images/thumbs_down.png","webpack:///./plugins/smiley/images/thumbs_up.gif","webpack:///./plugins/smiley/images/thumbs_up.png","webpack:///./plugins/smiley/images/tongue_smile.gif","webpack:///./plugins/smiley/images/tongue_smile.png","webpack:///./plugins/smiley/images/tounge_smile.gif","webpack:///./plugins/smiley/images/whatchutalkingabout_smile.gif","webpack:///./plugins/smiley/images/whatchutalkingabout_smile.png","webpack:///./plugins/smiley/images/wink_smile.gif","webpack:///./plugins/smiley/images/wink_smile.png","webpack:///./core/_bootstrap.js","webpack:///./config.js","webpack:///./lang/zh-cn.js","webpack:///./plugins/about/plugin.js","webpack:///./plugins/a11yhelp/plugin.js","webpack:///./plugins/basicstyles/plugin.js","webpack:///./plugins/bidi/plugin.js","webpack:///./plugins/blockquote/plugin.js","webpack:///./plugins/clipboard/plugin.js","webpack:///./plugins/colorbutton/plugin.js","webpack:///./plugins/colordialog/plugin.js","webpack:///./plugins/contextmenu/plugin.js","webpack:///./plugins/dialogadvtab/plugin.js","webpack:///./plugins/div/plugin.js","webpack:///./plugins/elementspath/plugin.js","webpack:///./plugins/enterkey/plugin.js","webpack:///./plugins/entities/plugin.js","webpack:///./plugins/filebrowser/plugin.js","webpack:///./plugins/find/plugin.js","webpack:///./plugins/flash/plugin.js","webpack:///./plugins/floatingspace/plugin.js","webpack:///./plugins/font/plugin.js","webpack:///./plugins/format/plugin.js","webpack:///./plugins/forms/plugin.js","webpack:///./plugins/horizontalrule/plugin.js","webpack:///./plugins/htmlwriter/plugin.js","webpack:///./plugins/image/plugin.js","webpack:///./plugins/iframe/plugin.js","webpack:///./plugins/indentlist/plugin.js","webpack:///./plugins/indentblock/plugin.js","webpack:///./plugins/justify/plugin.js","webpack:///./plugins/language/plugin.js","webpack:///./plugins/link/plugin.js","webpack:///./plugins/list/plugin.js","webpack:///./plugins/liststyle/plugin.js","webpack:///./plugins/magicline/plugin.js","webpack:///./plugins/maximize/plugin.js","webpack:///./plugins/newpage/plugin.js","webpack:///./plugins/pagebreak/plugin.js","webpack:///./plugins/pastefromword/plugin.js","webpack:///./plugins/pastetext/plugin.js","webpack:///./plugins/preview/plugin.js","webpack:///./plugins/print/plugin.js","webpack:///./plugins/removeformat/plugin.js","webpack:///./plugins/resize/plugin.js","webpack:///./plugins/save/plugin.js","webpack:///./plugins/selectall/plugin.js","webpack:///./plugins/showblocks/plugin.js","webpack:///./plugins/showborders/plugin.js","webpack:///./plugins/smiley/plugin.js","webpack:///./plugins/sourcearea/plugin.js","webpack:///./plugins/specialchar/plugin.js","webpack:///./plugins/stylescombo/plugin.js","webpack:///./plugins/tab/plugin.js","webpack:///./plugins/table/plugin.js","webpack:///./plugins/tabletools/plugin.js","webpack:///./plugins/templates/plugin.js","webpack:///./plugins/toolbar/plugin.js","webpack:///./plugins/undo/plugin.js","webpack:///./plugins/wysiwygarea/plugin.js","webpack:///./plugins/dialog/dialogDefinition.js","webpack:///./plugins/dialog/plugin.js","webpack:///./plugins/panelbutton/plugin.js","webpack:///./plugins/floatpanel/plugin.js","webpack:///./plugins/menu/plugin.js","webpack:///./plugins/popup/plugin.js","webpack:///./plugins/fakeobjects/plugin.js","webpack:///./plugins/richcombo/plugin.js","webpack:///./plugins/indent/plugin.js","webpack:///./plugins/menubutton/plugin.js","webpack:///./plugins/button/plugin.js","webpack:///./plugins/dialogui/plugin.js","webpack:///./plugins/panel/plugin.js","webpack:///./plugins/listblock/plugin.js","webpack:///./plugins/about/lang/zh-cn.js","webpack:///./plugins/basicstyles/lang/zh-cn.js","webpack:///./plugins/bidi/lang/zh-cn.js","webpack:///./plugins/blockquote/lang/zh-cn.js","webpack:///./plugins/colorbutton/lang/zh-cn.js","webpack:///./plugins/clipboard/lang/zh-cn.js","webpack:///./plugins/contextmenu/lang/zh-cn.js","webpack:///./plugins/colordialog/lang/zh-cn.js","webpack:///./plugins/elementspath/lang/zh-cn.js","webpack:///./plugins/div/lang/zh-cn.js","webpack:///./plugins/find/lang/zh-cn.js","webpack:///./plugins/flash/lang/zh-cn.js","webpack:///./plugins/font/lang/zh-cn.js","webpack:///./plugins/forms/lang/zh-cn.js","webpack:///./plugins/format/lang/zh-cn.js","webpack:///./plugins/horizontalrule/lang/zh-cn.js","webpack:///./plugins/image/lang/zh-cn.js","webpack:///./plugins/iframe/lang/zh-cn.js","webpack:///./plugins/justify/lang/zh-cn.js","webpack:///./plugins/language/lang/zh-cn.js","webpack:///./plugins/link/lang/zh-cn.js","webpack:///./plugins/list/lang/zh-cn.js","webpack:///./plugins/liststyle/lang/zh-cn.js","webpack:///./plugins/maximize/lang/zh-cn.js","webpack:///./plugins/magicline/lang/zh-cn.js","webpack:///./plugins/newpage/lang/zh-cn.js","webpack:///./plugins/pastefromword/lang/zh-cn.js","webpack:///./plugins/pagebreak/lang/zh-cn.js","webpack:///./plugins/pastetext/lang/zh-cn.js","webpack:///./plugins/preview/lang/zh-cn.js","webpack:///./plugins/print/lang/zh-cn.js","webpack:///./plugins/removeformat/lang/zh-cn.js","webpack:///./plugins/save/lang/zh-cn.js","webpack:///./plugins/selectall/lang/zh-cn.js","webpack:///./plugins/showblocks/lang/zh-cn.js","webpack:///./plugins/smiley/lang/zh-cn.js","webpack:///./plugins/sourcearea/lang/zh-cn.js","webpack:///./plugins/specialchar/lang/zh-cn.js","webpack:///./plugins/stylescombo/lang/zh-cn.js","webpack:///./plugins/table/lang/zh-cn.js","webpack:///./plugins/templates/lang/zh-cn.js","webpack:///./plugins/toolbar/lang/zh-cn.js","webpack:///./plugins/undo/lang/zh-cn.js","webpack:///./plugins/fakeobjects/lang/zh-cn.js","webpack:///./plugins/indent/lang/zh-cn.js","webpack:///./plugins/button/lang/zh-cn.js","webpack:///./plugins/about/dialogs/about.js","webpack:///./plugins/clipboard/dialogs/paste.js","webpack:///./plugins/link/dialogs/anchor.js","webpack:///./plugins/link/dialogs/link.js","webpack:///./plugins/codesnippet/dialogs/codesnippet.js","webpack:///./plugins/colordialog/dialogs/colordialog.js","webpack:///./plugins/div/dialogs/div.js","webpack:///./plugins/find/dialogs/find.js","webpack:///./plugins/flash/dialogs/flash.js","webpack:///./plugins/forms/dialogs/button.js","webpack:///./plugins/forms/dialogs/checkbox.js","webpack:///./plugins/forms/dialogs/form.js","webpack:///./plugins/forms/dialogs/hiddenfield.js","webpack:///./plugins/forms/dialogs/radio.js","webpack:///./plugins/forms/dialogs/select.js","webpack:///./plugins/forms/dialogs/textarea.js","webpack:///./plugins/forms/dialogs/textfield.js","webpack:///./plugins/iframe/dialogs/iframe.js","webpack:///./plugins/image/dialogs/image.js","webpack:///./plugins/image2/dialogs/image2.js","webpack:///./plugins/liststyle/dialogs/liststyle.js","webpack:///./plugins/smiley/dialogs/smiley.js","webpack:///./plugins/specialchar/dialogs/specialchar.js","webpack:///./plugins/table/dialogs/table.js","webpack:///./plugins/templates/dialogs/templates.js","webpack:///./skins/moono/skin.js","webpack:///./skins/moono/editor.css?955e","webpack:///./skins/moono/editor.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./skins/moono/reset.css","webpack:///./skins/moono/mainui.css","webpack:///./skins/moono/panel.css","webpack:///./skins/moono/colorpanel.css","webpack:///./skins/moono/toolbar.css","webpack:///./skins/moono/menu.css","webpack:///./skins/moono/images/arrow.png","webpack:///./skins/moono/richcombo.css","webpack:///./skins/moono/elementspath.css","webpack:///./skins/moono/presets.css","webpack:///./skins/moono/notification.css","webpack:///./skins/moono/images/close.png","webpack:///./~/style-loader/addStyles.js","webpack:///./contents.css?0494","webpack:///./contents.css","webpack:///./skins/moono/dialog.css?27bf","webpack:///./skins/moono/dialog.css","webpack:///./skins/moono/images/spinner.gif","webpack:///./skins/moono/images/hidpi/close.png","webpack:///./skins/moono/images/refresh.png","webpack:///./skins/moono/images/hidpi/refresh.png","webpack:///./skins/moono/images/lock.png","webpack:///./skins/moono/images/lock-open.png","webpack:///./skins/moono/images/hidpi/lock.png","webpack:///./skins/moono/images/hidpi/lock-open.png"],"names":[],"mappings":"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AN,EAAyC;AACxC,SAAI,OAAO,cAAe,MAAf,CAAX;AACA,kBAAa,IAAb,CAAmB,IAAnB;;AAEA,SAAI,QAAQ,OAAO,UAAP,EAAZ;AACA;AACA,SAAK,KAAL,EACC,kBAAmB,CAAE,IAAF,CAAnB,EAA6B,SAAS,IAAT,CAAc,SAAd,CAAyB,MAAzB,EAAiC,OAAjC,CAA7B,EAAyE,CAAE,CAAE,aAAF,EAAiB,KAAjB,CAAF,CAAzE;AAED;AACD,IAhBF;;AAkBA,UAAO,EAAP,CAAW,WAAX,EAAwB,YAAxB;AACA,UAAO,EAAP,CAAW,UAAX,EAAuB,YAAvB;;AAEA;AACA,OAAK,OAAO,MAAP,CAAc,OAAnB,EACC,OAAO,UAAP,CAAmB,OAAO,MAAP,CAAc,OAAjC;AACD,GA7BD;AA8BA,EAtSD;;AAwSA;;;;;;;;;;;;;AAaA;;;;;;;AAOA;;;;;;;;;;;;;;;;;;;AAmBA;;;;;;;;;;;;;;;;;;ACxVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;AC1GA,kCAAiC,ogC;;;;;;;;;ACAjC,kCAAiC,o8B;;;;;;;;;ACAjC,kCAAiC,gxB;;;;;;;;;ACAjC,kCAAiC,4nC;;;;;;;;;ACAjC,kCAAiC,ogC;;;;;;;;;ACAjC,kCAAiC,41B;;;;;;;;;ACAjC,kCAAiC,w2C;;;;;;;;;ACAjC,kCAAiC,w5B;;;;;;;;;ACAjC,kCAAiC,g9B;;;;;;;;;ACAjC,kCAAiC,g/B;;;;;;;;;ACAjC,kCAAiC,48B;;;;;;;;;ACAjC,kCAAiC,wnC;;;;;;;;;ACAjC,kCAAiC,4mC;;;;;;;;;ACAjC,kCAAiC,oyC;;;;;;;;;ACAjC,kCAAiC,wvC;;;;;;;;;ACAjC,kCAAiC,g4B;;;;;;;;;ACAjC,kCAAiC,4xB;;;;;;;;;ACAjC,kCAAiC,w/B;;;;;;;;;ACAjC,kCAAiC,wpC;;;;;;;;;ACAjC,kCAAiC,wxB;;;;;;;;;ACAjC,kCAAiC,g5B;;;;;;;;;ACAjC,kCAAiC,g0B;;;;;;;;;ACAjC,kCAAiC,wsB;;;;;;;;;ACAjC,kCAAiC,o5B;;;;;;;;;ACAjC,kCAAiC,wU;;;;;;;;;ACAjC,kCAAiC,okC;;;;;;;;;ACAjC,kCAAiC,w7B;;;;;;;;;ACAjC,kCAAiC,4+B;;;;;;;;;ACAjC,kCAAiC,4pC;;;;;;;;;ACAjC,kCAAiC,4jC;;;;;;;;;ACAjC,kCAAiC,ooC;;;;;;;;;ACAjC,kCAAiC,opC;;;;;;;;;ACAjC,kCAAiC,o2B;;;;;;;;;ACAjC,kCAAiC,w2B;;;;;;;;;ACAjC,kCAAiC,46B;;;;;;;;;ACAjC,kCAAiC,47B;;;;;;;;;ACAjC,kCAAiC,4tC;;;;;;;;;ACAjC,kCAAiC,woC;;;;;;;;;ACAjC,kCAAiC,gvB;;;;;;;;;ACAjC,kCAAiC,ozB;;;;;;;;;ACAjC,kCAAiC,4uB;;;;;;;;;ACAjC,kCAAiC,gqB;;;;;;;;;ACAjC,kCAAiC,4gC;;;;;;;;;ACAjC,kCAAiC,wgC;;;;;;;;;ACAjC,kCAAiC,o4B;;;;;;;;;ACAjC,kCAAiC,o3B;;;;;;;;;ACAjC,kCAAiC,okC;;;;;;;;;ACAjC,kCAAiC,4/B;;;;;;;;;ACAjC,kCAAiC,w/B;;;;;;;;;ACAjC,kCAAiC,g3C;;;;;;;;;ACAjC,kCAAiC,otB;;;;;;;;;ACAjC,kCAAiC,4rB;;;;;;;;;ACAjC,kCAAiC,gtC;;;;;;;;;ACAjC,kCAAiC,wxC;;;;;;;;;ACAjC,kCAAiC,4yB;;;;;;;;;ACAjC,kCAAiC,gzC;;;;;;;;;ACAjC,kCAAiC,okC;;;;;;;;;ACAjC,kCAAiC,gsC;;;;;;;;;ACAjC,kCAAiC,otC;;;;;;;;;ACAjC,kCAAiC,g7B;;;;;;;;;ACAjC,kCAAiC,4mC;;;;;;;;;ACAjC,kCAAiC,ooD;;;;;;;;;ACAjC,kCAAiC,oiD;;;;;;;;;ACAjC,kCAAiC,omD;;;;;;;;;ACAjC,kCAAiC,omD;;;;;;;;;ACAjC,kCAAiC,w9B;;;;;;;;;ACAjC,kCAAiC,w/C;;;;;;;;;ACAjC,kCAAiC,4kD;;;;;;;;;ACAjC,kCAAiC,o8C;;;;;;;;;ACAjC,kCAAiC,4iC;;;;;;;;;ACAjC,kCAAiC,4lD;;;;;;;;;ACAjC,kCAAiC,4nD;;;;;;;;;ACAjC,kCAAiC,omD;;;;;;;;;ACAjC,kCAAiC,giC;;;;;;;;;ACAjC,kCAAiC,giC;;;;;;;;;ACAjC,kCAAiC,ggD;;;;;;;;;ACAjC,kCAAiC,4qB;;;;;;;;;ACAjC,kCAAiC,ggC;;;;;;;;;ACAjC,kCAAiC,o6B;;;;;;;;;ACAjC,kCAAiC,4zC;;;;;;;;;ACAjC,kCAAiC,w5B;;;;;;;;;ACAjC,kCAAiC,o0C;;;;;;;;;ACAjC,kCAAiC,w3B;;;;;;;;;ACAjC,kCAAiC,otC;;;;;;;;;ACAjC,kCAAiC,glC;;;;;;;;;ACAjC,kCAAiC,g+C;;;;;;;;;ACAjC,kCAAiC,olD;;;;;;;;;ACAjC,kCAAiC,g7C;;;;;;;;;ACAjC,kCAAiC,4hC;;;;;;;;;ACAjC,kCAAiC,w9C;;;;;;;;;ACAjC,kCAAiC,onD;;;;;;;;;ACAjC,kCAAiC,glD;;;;;;;;;ACAjC,kCAAiC,4kD;;;;;;;;;ACAjC,kCAAiC,ojD;;;;;;;;;ACAjC,kCAAiC,o8B;;;;;;;;;ACAjC,kCAAiC,4yC;;;;;;;;;ACAjC,kCAAiC,g8B;;;;;;;;;ACAjC,kCAAiC,wwC;;;;;;;;;ACAjC,kCAAiC,wlD;;;;;;;;;ACAjC,kCAAiC,g/C;;;;;;;;;ACAjC,kCAAiC,wlD;;;;;;;;;ACAjC,kCAAiC,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iB,GAAjB,CAAsB,YAAtB,EAAoC;AACnC;AACA,SAAM,oOAF6B,EAEyM;AAC5O;AACA,UAAO,YAJ4B,EAId;AACrB,UAAO,IAL4B,EAKtB;AACb,SAAM,UAAU,MAAV,EAAmB;AACxB,QAAK,OAAO,SAAZ,EACC;;AAED,WAAO,UAAP,CAAmB,YAAnB,EAAiC,aAAjC;;AAEA,WAAO,EAAP,CAAU,SAAV,IAAuB,OAAO,EAAP,CAAU,SAAV,CAAqB,YAArB,EAAmC;AACzD,YAAO,OAAO,IAAP,CAAY,UAAZ,CAAuB,OAD2B;AAEzD,cAAS,YAFgD;AAGzD,cAAS;AAHgD,KAAnC,CAAvB;AAKA;AAjBkC,GAApC;AAmBA,EArPD,I;;;;;;;;;ACLA;;;;;AAKA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE,YAAW;AACZ;AACA,WAAS,OAAT,CAAiB,GAAjB,CAAsB,WAAtB,EAAmC;AAClC,aAAU,QADwB;AAElC;AACA,SAAM,oOAH4B,EAG0M;AAC5O;AACA,UAAO,2CAL2B,EAKkB;AACpD,UAAO,IAN2B,EAMrB;AACb,SAAM,UAAU,MAAV,EAAmB;AACxB,QAAI,UAAJ;AAAA,QACC,iBAAiB,uBADlB;;AAGA,QAAK,OAAO,MAAP,CAAc,qBAAnB,E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AAe,cAAc,iBAAiB,qBAAqB,uBAAuB,eAAe,GAAG,gCAAgC,uBAAuB,yBAAyB,8CAA8C,oBAAoB,sBAAsB,eAAe,4BAA4B,qBAAqB,GAAG,8BAA8B,sFAAiE,iCAAiC,6BAA6B,uBAAuB,oBAAoB,uBAAuB,iBAAiB,gBAAgB,aAAa,eAAe,eAAe,cAAc,eAAe,iBAAiB,gCAAgC,GAAG,oCAAoC,eAAe,iCAAiC,GAAG,mCAAmC,kBAAkB,GAAG,yDAAyD,iBAAiB,gCAAgC,GAAG,+DAA+D,eAAe,iCAAiC,GAAG;;AAE5zJ;;;;;;;;;;ACPA,kCAAiC,wnB;;;;;;;;;ACAjC;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA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","file":"init.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5fd8af85ccab2d1aaeeb\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Contains the first and essential part of the {@link CKEDITOR}\n *\t\tobject definition.\n */\n\n// #### Compressed Code\n// Compressed code in ckeditor.js must be be updated on changes in the script.\n// The Closure Compiler online service should be used when updating this manually:\n// http://closure-compiler.appspot.com/\n\n// #### Raw code\n// ATTENTION: read the above \"Compressed Code\" notes when changing this code.\n\nif ( !window.CKEDITOR ) {\n\t/**\n\t * This is the API entry point. The entire CKEditor code runs under this object.\n\t * @class CKEDITOR\n\t * @singleton\n\t */\n\twindow.CKEDITOR = ( function() {\n\t\tvar basePathSrcPattern = /(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i;\n\n\t\tvar CKEDITOR = {\n\n\t\t\t/**\n\t\t\t * A constant string unique for each release of CKEditor. Its value\n\t\t\t * is used, by default, to build the URL for all resources loaded\n\t\t\t * by the editor code, guaranteeing clean cache results when\n\t\t\t * upgrading.\n\t\t\t *\n\t\t\t * **Note:** There is [a known issue where \"icons.png\" does not include\n\t\t\t * timestamp](http://dev.ckeditor.com/ticket/10685) and might get cached.\n\t\t\t * We are working on having it fixed.\n\t\t\t *\n\t\t\t *\t\talert( CKEDITOR.timestamp ); // e.g. '87dm'\n\t\t\t */\n\t\t\ttimestamp: '',\t\t\t\t// %REMOVE_LINE%\n\t\t\t/*\t\t\t\t\t\t\t// %REMOVE_LINE%\n\t\t\t// The production implementation contains a fixed timestamp, unique\n\t\t\t// for each release and generated by the releaser.\n\t\t\t// (Base 36 value of each component of YYMMDDHH - 4 chars total - e.g. 87bm == 08071122)\n\t\t\ttimestamp: '%TIMESTAMP%',\n\t\t\t// %REMOVE_LINE% */\n\n\t\t\t/**\n\t\t\t * Contains the CKEditor version number.\n\t\t\t *\n\t\t\t *\t\talert( CKEDITOR.version ); // e.g. 'CKEditor 3.4.1'\n\t\t\t */\n\t\t\tversion: '%VERSION%',\n\n\t\t\t/**\n\t\t\t * Contains the CKEditor revision number.\n\t\t\t * The revision number is incremented automatically, following each\n\t\t\t * modification to the CKEditor source code.\n\t\t\t *\n\t\t\t *\t\talert( CKEDITOR.revision ); // e.g. '3975'\n\t\t\t */\n\t\t\trevision: '%REV%',\n\n\t\t\t/**\n\t\t\t * A 3-digit random integer, valid for the entire life of the CKEDITOR object.\n\t\t\t *\n\t\t\t *\t\talert( CKEDITOR.rnd ); // e.g. 319\n\t\t\t *\n\t\t\t * @property {Number}\n\t\t\t */\n\t\t\trnd: Math.floor( Math.random() * ( 999 /*Max*/ - 100 /*Min*/ + 1 ) ) + 100 /*Min*/,\n\n\t\t\t/**\n\t\t\t * Private object used to hold core stuff. It should not be used outside of\n\t\t\t * the API code as properties defined here may change at any time\n\t\t\t * without notice.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\t_: {\n\t\t\t\tpending: [],\n\t\t\t\tbasePathSrcPattern: basePathSrcPattern\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Indicates the API loading status. The following statuses are available:\n\t\t\t *\n\t\t\t * * **unloaded**: the API is not yet loaded.\n\t\t\t * * **basic_loaded**: the basic API features are available.\n\t\t\t * * **basic_ready**: the basic API is ready to load the full core code.\n\t\t\t * * **loaded**: the API can be fully used.\n\t\t\t *\n\t\t\t * Example:\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.status == 'loaded' ) {\n\t\t\t *\t\t\t// The API can now be fully used.\n\t\t\t *\t\t\tdoSomething();\n\t\t\t *\t\t} else {\n\t\t\t *\t\t\t// Wait for the full core to be loaded and fire its loading.\n\t\t\t *\t\t\tCKEDITOR.on( 'load', doSomething );\n\t\t\t *\t\t\tCKEDITOR.loadFullCore && CKEDITOR.loadFullCore();\n\t\t\t *\t\t}\n\t\t\t */\n\t\t\tstatus: 'unloaded',\n\n\t\t\t/**\n\t\t\t * The full URL for the CKEditor installation directory.\n\t\t\t * It is possible to manually provide the base path by setting a\n\t\t\t * global variable named `CKEDITOR_BASEPATH`. This global variable\n\t\t\t * must be set **before** the editor script loading.\n\t\t\t *\n\t\t\t *\t\talert( CKEDITOR.basePath ); // e.g. 'http://www.example.com/ckeditor/'\n\t\t\t *\n\t\t\t * @property {String}\n\t\t\t */\n\t\t\tbasePath: ( function() {\n\t\t\t\t// Find out the editor directory path, based on its <script> tag.\n\t\t\t\tvar path = window.CKEDITOR_BASEPATH || '';\n\n\t\t\t\tif ( !path ) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName( 'script' );\n\n\t\t\t\t\tfor ( var i = 0; i < scripts.length; i++ ) {\n\t\t\t\t\t\tvar match = scripts[ i ].src.match( basePathSrcPattern );\n\n\t\t\t\t\t\tif ( match ) {\n\t\t\t\t\t\t\tpath = match[ 1 ];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// In IE (only) the script.src string is the raw value entered in the\n\t\t\t\t// HTML source. Other browsers return the full resolved URL instead.\n\t\t\t\tif ( path.indexOf( ':/' ) == -1 && path.slice( 0, 2 ) != '//' ) {\n\t\t\t\t\t// Absolute path.\n\t\t\t\t\tif ( path.indexOf( '/' ) === 0 )\n\t\t\t\t\t\tpath = location.href.match( /^.*?:\\/\\/[^\\/]*/ )[ 0 ] + path;\n\t\t\t\t\t// Relative path.\n\t\t\t\t\telse\n\t\t\t\t\t\tpath = location.href.match( /^[^\\?]*\\/(?:)/ )[ 0 ] + path;\n\t\t\t\t}\n\n\t\t\t\tif ( !path )\n\t\t\t\t\tthrow 'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';\n\n\t\t\t\treturn path;\n\t\t\t} )(),\n\n\t\t\t/**\n\t\t\t * Gets the full URL for CKEditor resources. By default, URLs\n\t\t\t * returned by this function contain a querystring parameter (\"t\")\n\t\t\t * set to the {@link CKEDITOR#timestamp} value.\n\t\t\t *\n\t\t\t * It is possible to provide a custom implementation of this\n\t\t\t * function by setting a global variable named `CKEDITOR_GETURL`.\n\t\t\t * This global variable must be set **before** the editor script\n\t\t\t * loading. If the custom implementation returns nothing (`==null`), the\n\t\t\t * default implementation is used.\n\t\t\t *\n\t\t\t *\t\t// e.g. 'http://www.example.com/ckeditor/skins/default/editor.css?t=87dm'\n\t\t\t *\t\talert( CKEDITOR.getUrl( 'skins/default/editor.css' ) );\n\t\t\t *\n\t\t\t *\t\t// e.g. 'http://www.example.com/skins/default/editor.css?t=87dm'\n\t\t\t *\t\talert( CKEDITOR.getUrl( '/skins/default/editor.css' ) );\n\t\t\t *\n\t\t\t *\t\t// e.g. 'http://www.somesite.com/skins/default/editor.css?t=87dm'\n\t\t\t *\t\talert( CKEDITOR.getUrl( 'http://www.somesite.com/skins/default/editor.css' ) );\n\t\t\t *\n\t\t\t * @param {String} resource The resource whose full URL we want to get.\n\t\t\t * It may be a full, absolute, or relative URL.\n\t\t\t * @returns {String} The full URL.\n\t\t\t */\n\t\t\tgetUrl: function( resource ) {\n\t\t\t\t// If this is not a full or absolute path.\n\t\t\t\tif ( resource.indexOf( ':/' ) == -1 && resource.indexOf( '/' ) !== 0 )\n\t\t\t\t\tresource = this.basePath + resource;\n\n\t\t\t\t// Add the timestamp, except for directories.\n\t\t\t\tif ( this.timestamp && resource.charAt( resource.length - 1 ) != '/' && !( /[&?]t=/ ).test( resource ) )\n\t\t\t\t\tresource += ( resource.indexOf( '?' ) >= 0 ? '&' : '?' ) + 't=' + this.timestamp;\n\n\t\t\t\treturn resource;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specify a function to execute when the DOM is fully loaded.\n\t\t\t *\n\t\t\t * If called after the DOM has been initialized, the function passed in will\n\t\t\t * be executed immediately.\n\t\t\t *\n\t\t\t * @method\n\t\t\t * @todo\n\t\t\t */\n\t\t\tdomReady: ( function() {\n\t\t\t\t// Based on the original jQuery code (available under the MIT license, see LICENSE.md).\n\n\t\t\t\tvar callbacks = [];\n\n\t\t\t\tfunction onReady() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// Cleanup functions for the document ready method\n\t\t\t\t\t\tif ( document.addEventListener ) {\n\t\t\t\t\t\t\tdocument.removeEventListener( 'DOMContentLoaded', onReady, false );\n\t\t\t\t\t\t\texecuteCallbacks();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Make sure body exists, at least, in case IE gets a little overzealous.\n\t\t\t\t\t\telse if ( document.attachEvent && document.readyState === 'complete' ) {\n\t\t\t\t\t\t\tdocument.detachEvent( 'onreadystatechange', onReady );\n\t\t\t\t\t\t\texecuteCallbacks();\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch ( er ) {}\n\t\t\t\t}\n\n\t\t\t\tfunction executeCallbacks() {\n\t\t\t\t\tvar i;\n\t\t\t\t\twhile ( ( i = callbacks.shift() ) )\n\t\t\t\t\t\ti();\n\t\t\t\t}\n\n\t\t\t\treturn function( fn ) {\n\t\t\t\t\tcallbacks.push( fn );\n\n\t\t\t\t\t// Catch cases where this is called after the\n\t\t\t\t\t// browser event has already occurred.\n\t\t\t\t\tif ( document.readyState === 'complete' )\n\t\t\t\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\t\t\t\tsetTimeout( onReady, 1 );\n\n\t\t\t\t\t// Run below once on demand only.\n\t\t\t\t\tif ( callbacks.length != 1 )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// For IE>8, Firefox, Opera and Webkit.\n\t\t\t\t\tif ( document.addEventListener ) {\n\t\t\t\t\t\t// Use the handy event callback\n\t\t\t\t\t\tdocument.addEventListener( 'DOMContentLoaded', onReady, false );\n\n\t\t\t\t\t\t// A fallback to window.onload, that will always work\n\t\t\t\t\t\twindow.addEventListener( 'load', onReady, false );\n\n\t\t\t\t\t}\n\t\t\t\t\t// If old IE event model is used\n\t\t\t\t\telse if ( document.attachEvent ) {\n\t\t\t\t\t\t// ensure firing before onload,\n\t\t\t\t\t\t// maybe late but safe also for iframes\n\t\t\t\t\t\tdocument.attachEvent( 'onreadystatechange', onReady );\n\n\t\t\t\t\t\t// A fallback to window.onload, that will always work\n\t\t\t\t\t\twindow.attachEvent( 'onload', onReady );\n\n\t\t\t\t\t\t// If IE and not a frame\n\t\t\t\t\t\t// continually check to see if the document is ready\n\t\t\t\t\t\t// use the trick by Diego Perini\n\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\n\t\t\t\t\t\tvar toplevel = false;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\ttoplevel = !window.frameElement;\n\t\t\t\t\t\t} catch ( e ) {}\n\n\t\t\t\t\t\tif ( document.documentElement.doScroll && toplevel ) {\n\t\t\t\t\t\t\tscrollCheck();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction scrollCheck() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdocument.documentElement.doScroll( 'left' );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\tsetTimeout( scrollCheck, 1 );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonReady();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t} )()\n\t\t};\n\n\t\t// Make it possible to override the \"url\" function with a custom\n\t\t// implementation pointing to a global named CKEDITOR_GETURL.\n\t\tvar newGetUrl = window.CKEDITOR_GETURL;\n\t\tif ( newGetUrl ) {\n\t\t\tvar originalGetUrl = CKEDITOR.getUrl;\n\t\t\tCKEDITOR.getUrl = function( resource ) {\n\t\t\t\treturn newGetUrl.call( CKEDITOR, resource ) || originalGetUrl.call( CKEDITOR, resource );\n\t\t\t};\n\t\t}\n\n\t\treturn CKEDITOR;\n\t} )();\n}\n\n/**\n * Function called upon loading a custom configuration file that can\n * modify the editor instance configuration ({@link CKEDITOR.editor#config}).\n * It is usually defined inside the custom configuration files that can\n * include developer defined settings.\n *\n *\t\t// This is supposed to be placed in the config.js file.\n *\t\tCKEDITOR.editorConfig = function( config ) {\n *\t\t\t// Define changes to default configuration here. For example:\n *\t\t\tconfig.language = 'fr';\n *\t\t\tconfig.uiColor = '#AADC6E';\n *\t\t};\n *\n * @method editorConfig\n * @param {CKEDITOR.config} config A configuration object containing the\n * settings defined for a {@link CKEDITOR.editor} instance up to this\n * function call. Note that not all settings may still be available. See\n * [Configuration Loading Order](http://docs.cksource.com/CKEditor_3.x/Developers_Guide/Setting_Configurations#Configuration_Loading_Order)\n * for details.\n */\n\n// PACKAGER_RENAME( CKEDITOR )\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/ckeditor_base.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.loader} objects, which is used to\n *\t\tload core scripts and their dependencies from _source.\n */\n\nif ( typeof CKEDITOR == 'undefined' )\n\tCKEDITOR = {}; // jshint ignore:line\n\nif ( !CKEDITOR.loader ) {\n\t/**\n\t * Load core scripts and their dependencies from _source.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.loader = ( function() {\n\t\t// Table of script names and their dependencies.\n\t\tvar scripts = {\n\t\t\t'_bootstrap': [\n\t\t\t\t'config', 'creators/inline', 'creators/themedui', 'editable', 'ckeditor', 'plugins',\n\t\t\t\t'scriptloader', 'style', 'tools',\n\t\t\t\t// The following are entries that we want to force loading at the end to avoid dependence recursion.\n\t\t\t\t'dom/comment', 'dom/elementpath', 'dom/text', 'dom/rangelist', 'skin'\n\t\t\t],\n\t\t\t'ckeditor': [\n\t\t\t\t'ckeditor_basic', 'log', 'dom', 'dtd', 'dom/document', 'dom/element', 'dom/iterator', 'editor', 'event',\n\t\t\t\t'htmldataprocessor', 'htmlparser', 'htmlparser/element', 'htmlparser/fragment', 'htmlparser/filter',\n\t\t\t\t'htmlparser/basicwriter', 'template', 'tools'\n\t\t\t],\n\t\t\t'ckeditor_base': [],\n\t\t\t'ckeditor_basic': [ 'editor_basic', 'env', 'event' ],\n\t\t\t'command': [],\n\t\t\t'config': [ 'ckeditor_base' ],\n\t\t\t'dom': [],\n\t\t\t'dom/comment': [ 'dom/node' ],\n\t\t\t'dom/document': [ 'dom/node', 'dom/window' ],\n\t\t\t'dom/documentfragment': [ 'dom/element' ],\n\t\t\t'dom/element': [ 'dom', 'dom/document', 'dom/domobject', 'dom/node', 'dom/nodelist', 'tools' ],\n\t\t\t'dom/elementpath': [ 'dom/element' ],\n\t\t\t'dom/event': [],\n\t\t\t'dom/iterator': [ 'dom/range' ],\n\t\t\t'dom/node': [ 'dom/domobject', 'tools' ],\n\t\t\t'dom/nodelist': [ 'dom/node' ],\n\t\t\t'dom/domobject': [ 'dom/event' ],\n\t\t\t'dom/range': [ 'dom/document', 'dom/documentfragment', 'dom/element', 'dom/walker' ],\n\t\t\t'dom/rangelist': [ 'dom/range' ],\n\t\t\t'dom/text': [ 'dom/node', 'dom/domobject' ],\n\t\t\t'dom/walker': [ 'dom/node' ],\n\t\t\t'dom/window': [ 'dom/domobject' ],\n\t\t\t'dtd': [ 'tools' ],\n\t\t\t'editable': [ 'editor', 'tools' ],\n\t\t\t'editor': [\n\t\t\t\t'command', 'config', 'editor_basic', 'filter', 'focusmanager', 'keystrokehandler', 'lang',\n\t\t\t\t'plugins', 'tools', 'ui'\n\t\t\t],\n\t\t\t'editor_basic': [ 'event' ],\n\t\t\t'env': [],\n\t\t\t'event': [],\n\t\t\t'filter': [ 'dtd', 'tools' ],\n\t\t\t'focusmanager': [],\n\t\t\t'htmldataprocessor': [ 'htmlparser', 'htmlparser/basicwriter', 'htmlparser/fragment', 'htmlparser/filter' ],\n\t\t\t'htmlparser': [],\n\t\t\t'htmlparser/comment': [ 'htmlparser', 'htmlparser/node' ],\n\t\t\t'htmlparser/element': [ 'htmlparser', 'htmlparser/fragment', 'htmlparser/node' ],\n\t\t\t'htmlparser/fragment': [ 'htmlparser', 'htmlparser/comment', 'htmlparser/text', 'htmlparser/cdata' ],\n\t\t\t'htmlparser/text': [ 'htmlparser', 'htmlparser/node' ],\n\t\t\t'htmlparser/cdata': [ 'htmlparser', 'htmlparser/node' ],\n\t\t\t'htmlparser/filter': [ 'htmlparser' ],\n\t\t\t'htmlparser/basicwriter': [ 'htmlparser' ],\n\t\t\t'htmlparser/node': [ 'htmlparser' ],\n\t\t\t'keystrokehandler': [ 'event' ],\n\t\t\t'lang': [],\n\t\t\t'log': [ 'ckeditor_basic' ],\n\t\t\t'plugins': [ 'resourcemanager' ],\n\t\t\t'resourcemanager': [ 'scriptloader', 'tools' ],\n\t\t\t'scriptloader': [ 'dom/element', 'env' ],\n\t\t\t'selection': [ 'dom/range', 'dom/walker' ],\n\t\t\t'skin': [],\n\t\t\t'style': [ 'selection' ],\n\t\t\t'template': [],\n\t\t\t'tools': [ 'env' ],\n\t\t\t'ui': [],\n\t\t\t'creators/themedui': [],\n\t\t\t'creators/inline': []\n\t\t};\n\n\t\t// The production implementation contains a fixed timestamp generated by the releaser.\n\t\tvar timestamp = '%TIMESTAMP%';\n\t\t// The development implementation contains a current timestamp.\t\t\t\t\t// %REMOVE_LINE%\n\t\ttimestamp = ( CKEDITOR && CKEDITOR.timestamp ) || ( new Date() ).valueOf();\t\t// %REMOVE_LINE%\n\n\t\tvar getUrl = function( resource ) {\n\t\t\t\tif ( CKEDITOR && CKEDITOR.getUrl )\n\t\t\t\t\treturn CKEDITOR.getUrl( resource );\n\n\t\t\t\treturn CKEDITOR.basePath + resource + ( resource.indexOf( '?' ) >= 0 ? '&' : '?' ) + 't=' + timestamp;\n\t\t\t};\n\n\t\tvar pendingLoad = [];\n\n\t\treturn {\n\t\t\t/**\n\t\t\t * The list of loaded scripts in their loading order.\n\t\t\t *\n\t\t\t *\t\t// Alert the loaded script names.\n\t\t\t *\t\talert( CKEDITOR.loader.loadedScripts );\n\t\t\t */\n\t\t\tloadedScripts: [],\n\t\t\t/**\n\t\t\t * Table of script names and their dependencies.\n\t\t\t *\n\t\t\t * @property {Array}\n\t\t\t */\n\t\t\tscripts: scripts,\n\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\t test:[],\n\t\t\tloadPending: function() {\n\t\t\t\tvar scriptName = pendingLoad.shift();\n\t\t\t\t\n\n\t\t\t\tif ( !scriptName )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar scriptSrc = getUrl( 'core/' + scriptName + '.js' );\n\n\t\t\t\tvar script = document.createElement( 'script' );\n\t\t\t\tscript.type = 'text/javascript';\n\t\t\t\tscript.src = scriptSrc;\n\n\t\t\t\tfunction onScriptLoaded() {\n\t\t\t\t\t// Append this script to the list of loaded scripts.\n\t\t\t\t\tCKEDITOR.loader.loadedScripts.push( scriptName );\n\n\t\t\t\t\t// Load the next.\n\t\t\t\t\tCKEDITOR.loader.loadPending();\n\t\t\t\t}\n\n\t\t\t\t// We must guarantee the execution order of the scripts, so we\n\t\t\t\t// need to load them one by one. (#4145)\n\t\t\t\t// The following if/else block has been taken from the scriptloader core code.\n\t\t\t\tif ( typeof script.onreadystatechange !== 'undefined' ) {\n\t\t\t\t\t/** @ignore */\n\t\t\t\t\tscript.onreadystatechange = function() {\n\t\t\t\t\t\tif ( script.readyState == 'loaded' || script.readyState == 'complete' ) {\n\t\t\t\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\t\t\t\tonScriptLoaded();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\t/** @ignore */\n\t\t\t\t\tscript.onload = function() {\n\t\t\t\t\t\t// Some browsers, such as Safari, may call the onLoad function\n\t\t\t\t\t\t// immediately. Which will break the loading sequence. (#3661)\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tonScriptLoaded( scriptName );\n\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// document.body.appendChild( script );\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Loads a specific script, including its dependencies. This is not a\n\t\t\t * synchronous loading, which means that the code to be loaded will\n\t\t\t * not necessarily be available after this call.\n\t\t\t *\n\t\t\t *\t\tCKEDITOR.loader.load( 'dom/element' );\n\t\t\t *\n\t\t\t * @param {String} scriptName\n\t\t\t * @param {Boolean} [defer=false]\n\t\t\t * @todo params\n\t\t\t */\n\t\t\tload: function( scriptName, defer ) {\n\t\t\t\t// Check if the script has already been loaded.\n\t\t\t\tif ( ( 's:' + scriptName ) in this.loadedScripts )\n\t\t\t\t\treturn;\n\t\t\t\t// Get the script dependencies list.\n\t\t\t\tvar dependencies = scripts[ scriptName ];\n\t\t\t\tif ( !dependencies )\n\t\t\t\t\tthrow 'The script name\"' + scriptName + '\" is not defined.';\n\n\t\t\t\t// Mark the script as loaded, even before really loading it, to\n\t\t\t\t// avoid cross references recursion.\n\t\t\t\t// Prepend script name with 's:' to avoid conflict with Array's methods.\n\t\t\t\tthis.loadedScripts[ 's:' + scriptName ] = true;\n\n\t\t\t\t// Load all dependencies first.\n\t\t\t\tfor ( var i = 0; i < dependencies.length; i++ )\n\t\t\t\t\tthis.load( dependencies[ i ], true );\n\n\t\t\t\tvar scriptSrc = getUrl( 'core/' + scriptName + '.js' );\n\n\t\t\t\t// Append the <script> element to the DOM.\n\t\t\t\t// If the page is fully loaded, we can't use document.write\n\t\t\t\t// but if the script is run while the body is loading then it's safe to use it\n\t\t\t\t// Unfortunately, Firefox <3.6 doesn't support document.readyState, so it won't get this improvement\n\t\t\t\tif ( document.body && ( !document.readyState || document.readyState == 'complete' ) ) {\n\t\t\t\t\tpendingLoad.push( scriptName );\n\n\t\t\t\t\tif ( !defer )\n\t\t\t\t\t\tthis.loadPending();\n\t\t\t\t} else {\n\t\t\t\t\t// Append this script to the list of loaded scripts.\n\t\t\t\t\tthis.loadedScripts.push( scriptName );\n\t\t\t\t\t// document.write( '<script src=\"' + scriptSrc + '\" type=\"text/javascript\"><\\/script>' );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} )();\n}\n\n// Check if any script has been defined for autoload.\nif ( CKEDITOR._autoLoad ) {\n\tCKEDITOR.loader.load( CKEDITOR._autoLoad );\n\tdelete CKEDITOR._autoLoad;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/loader.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.event} class, which serves as the\n *\t\tbase for classes and objects that require event handling features.\n */\n\nif ( !CKEDITOR.event ) {\n\t/**\n\t * Creates an event class instance. This constructor is rarely used, being\n\t * the {@link #implementOn} function used in class prototypes directly\n\t * instead.\n\t *\n\t * This is a base class for classes and objects that require event\n\t * handling features.\n\t *\n\t * Do not confuse this class with {@link CKEDITOR.dom.event} which is\n\t * instead used for DOM events. The CKEDITOR.event class implements the\n\t * internal event system used by the CKEditor to fire API related events.\n\t *\n\t * @class\n\t * @constructor Creates an event class instance.\n\t */\n\tCKEDITOR.event = function() {};\n\n\t/**\n\t * Implements the {@link CKEDITOR.event} features in an object.\n\t *\n\t *\t\tvar myObject = { message: 'Example' };\n\t *\t\tCKEDITOR.event.implementOn( myObject );\n\t *\n\t *\t\tmyObject.on( 'testEvent', function() {\n\t *\t\t\talert( this.message );\n\t *\t\t} );\n\t *\t\tmyObject.fire( 'testEvent' ); // 'Example'\n\t *\n\t * @static\n\t * @param {Object} targetObject The object into which implement the features.\n\t */\n\tCKEDITOR.event.implementOn = function( targetObject ) {//相当于类的静态方法，但是实例无法调用\n\t\tvar eventProto = CKEDITOR.event.prototype;\n\n\t\tfor ( var prop in eventProto ) {\n\t\t\tif ( targetObject[ prop ] == null )\n\t\t\t\ttargetObject[ prop ] = eventProto[ prop ];\n\t\t}\n\t};\n\n\tCKEDITOR.event.prototype = ( function() {\n\t\t// Returns the private events object for a given object.\n\t\tvar getPrivate = function( obj ) {\n\t\t\t\tvar _ = ( obj.getPrivate && obj.getPrivate() ) || obj._ || ( obj._ = {} );\n\t\t\t\treturn _.events || ( _.events = {} );\n\t\t\t};\n\n\t\tvar eventEntry = function( eventName ) {\n\t\t\t\tthis.name = eventName;\n\t\t\t\tthis.listeners = [];\n\t\t\t};\n\n\t\teventEntry.prototype = {\n\t\t\t// Get the listener index for a specified function.\n\t\t\t// Returns -1 if not found.\n\t\t\tgetListenerIndex: function( listenerFunction ) {\n\t\t\t\tfor ( var i = 0, listeners = this.listeners; i < listeners.length; i++ ) {\n\t\t\t\t\tif ( listeners[ i ].fn == listenerFunction )\n\t\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t};\n\n\t\t// Retrieve the event entry on the event host (create it if needed).\n\t\tfunction getEntry( name ) {\n\t\t\t// Get the event entry (create it if needed).\n\t\t\tvar events = getPrivate( this );\n\t\t\treturn events[ name ] || ( events[ name ] = new eventEntry( name ) );\n\t\t}\n\n\t\treturn {\n\t\t\t/**\n\t\t\t * Predefine some intrinsic properties on a specific event name.\n\t\t\t *\n\t\t\t * @param {String} name The event name\n\t\t\t * @param meta\n\t\t\t * @param [meta.errorProof=false] Whether the event firing should catch error thrown from a per listener call.\n\t\t\t */\n\t\t\tdefine: function( name, meta ) {\n\t\t\t\tvar entry = getEntry.call( this, name );\n\t\t\t\tCKEDITOR.tools.extend( entry, meta, true );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Registers a listener to a specific event in the current object.\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() {\n\t\t\t *\t\t\talert( this == someObject );\t\t// true\n\t\t\t *\t\t} );\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() {\n\t\t\t *\t\t\talert( this == anotherObject );\t\t// true\n\t\t\t *\t\t}, anotherObject );\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function( event ) {\n\t\t\t *\t\t\talert( event.listenerData );\t\t// 'Example'\n\t\t\t *\t\t}, null, 'Example' );\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() { ... } );\t\t\t\t\t\t// 2nd called\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() { ... }, null, null, 100 );\t\t// 3rd called\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() { ... }, null, null, 1 );\t\t// 1st called\n\t\t\t *\n\t\t\t * @param {String} eventName The event name to which listen.\n\t\t\t * @param {Function} listenerFunction The function listening to the\n\t\t\t * event. A single {@link CKEDITOR.eventInfo} object instanced\n\t\t\t * is passed to this function containing all the event data.\n\t\t\t * @param {Object} [scopeObj] The object used to scope the listener\n\t\t\t * call (the `this` object). If omitted, the current object is used.\n\t\t\t * @param {Object} [listenerData] Data to be sent as the\n\t\t\t * {@link CKEDITOR.eventInfo#listenerData} when calling the\n\t\t\t * listener.\n\t\t\t * @param {Number} [priority=10] The listener priority. Lower priority\n\t\t\t * listeners are called first. Listeners with the same priority\n\t\t\t * value are called in registration order.\n\t\t\t * @returns {Object} An object containing the `removeListener`\n\t\t\t * function, which can be used to remove the listener at any time.\n\t\t\t */\n\t\t\ton: function( eventName, listenerFunction, scopeObj, listenerData, priority ) {\n\t\t\t\t// Create the function to be fired for this listener.\n\t\t\t\tfunction listenerFirer( editor, publisherData, stopFn, cancelFn ) {\n\t\t\t\t\tvar ev = {\n\t\t\t\t\t\tname: eventName,\n\t\t\t\t\t\tsender: this,\n\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\tdata: publisherData,\n\t\t\t\t\t\tlistenerData: listenerData,\n\t\t\t\t\t\tstop: stopFn,\n\t\t\t\t\t\tcancel: cancelFn,\n\t\t\t\t\t\tremoveListener: removeListener\n\t\t\t\t\t};\n\n\t\t\t\t\tvar ret = listenerFunction.call( scopeObj, ev );\n\n\t\t\t\t\treturn ret === false ? false : ev.data;\n\t\t\t\t}\n\n\t\t\t\tfunction removeListener() {\n\t\t\t\t\tme.removeListener( eventName, listenerFunction );\n\t\t\t\t}\n\n\t\t\t\tvar event = getEntry.call( this, eventName );\n\n\t\t\t\tif ( event.getListenerIndex( listenerFunction ) < 0 ) {\n\t\t\t\t\t// Get the listeners.\n\t\t\t\t\tvar listeners = event.listeners;\n\n\t\t\t\t\t// Fill the scope.\n\t\t\t\t\tif ( !scopeObj )\n\t\t\t\t\t\tscopeObj = this;\n\n\t\t\t\t\t// Default the priority, if needed.\n\t\t\t\t\tif ( isNaN( priority ) )\n\t\t\t\t\t\tpriority = 10;\n\n\t\t\t\t\tvar me = this;\n\n\t\t\t\t\tlistenerFirer.fn = listenerFunction;\n\t\t\t\t\tlistenerFirer.priority = priority;\n\n\t\t\t\t\t// Search for the right position for this new listener, based on its\n\t\t\t\t\t// priority.\n\t\t\t\t\tfor ( var i = listeners.length - 1; i >= 0; i-- ) {\n\t\t\t\t\t\t// Find the item which should be before the new one.\n\t\t\t\t\t\tif ( listeners[ i ].priority <= priority ) {\n\t\t\t\t\t\t\t// Insert the listener in the array.\n\t\t\t\t\t\t\tlisteners.splice( i + 1, 0, listenerFirer );\n\t\t\t\t\t\t\treturn { removeListener: removeListener };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If no position has been found (or zero length), put it in\n\t\t\t\t\t// the front of list.\n\t\t\t\t\tlisteners.unshift( listenerFirer );\n\t\t\t\t}\n\n\t\t\t\treturn { removeListener: removeListener };\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Similiar with {@link #on} but the listener will be called only once upon the next event firing.\n\t\t\t *\n\t\t\t * @see CKEDITOR.event#on\n\t\t\t */\n\t\t\tonce: function() {\n\t\t\t\tvar args = Array.prototype.slice.call( arguments ),\n\t\t\t\t\tfn = args[ 1 ];\n\n\t\t\t\targs[ 1 ] = function( evt ) {\n\t\t\t\t\tevt.removeListener();\n\t\t\t\t\treturn fn.apply( this, arguments );\n\t\t\t\t};\n\n\t\t\t\treturn this.on.apply( this, args );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @static\n\t\t\t * @property {Boolean} useCapture\n\t\t\t * @todo\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Register event handler under the capturing stage on supported target.\n\t\t\t */\n\t\t\tcapture: function() {\n\t\t\t\tCKEDITOR.event.useCapture = 1;\n\t\t\t\tvar retval = this.on.apply( this, arguments );\n\t\t\t\tCKEDITOR.event.useCapture = 0;\n\t\t\t\treturn retval;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Fires an specific event in the object. All registered listeners are\n\t\t\t * called at this point.\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() { ... } );\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() { ... } );\n\t\t\t *\t\tsomeObject.fire( 'someEvent' );\t\t\t\t// Both listeners are called.\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function( event ) {\n\t\t\t *\t\t\talert( event.data );\t\t\t\t\t// 'Example'\n\t\t\t *\t\t} );\n\t\t\t *\t\tsomeObject.fire( 'someEvent', 'Example' );\n\t\t\t *\n\t\t\t * @method\n\t\t\t * @param {String} eventName The event name to fire.\n\t\t\t * @param {Object} [data] Data to be sent as the\n\t\t\t * {@link CKEDITOR.eventInfo#data} when calling the listeners.\n\t\t\t * @param {CKEDITOR.editor} [editor] The editor instance to send as the\n\t\t\t * {@link CKEDITOR.eventInfo#editor} when calling the listener.\n\t\t\t * @returns {Boolean/Object} A boolean indicating that the event is to be\n\t\t\t * canceled, or data returned by one of the listeners.\n\t\t\t */\n\t\t\tfire: ( function() {\n\t\t\t\t// Create the function that marks the event as stopped.\n\t\t\t\tvar stopped = 0;\n\t\t\t\tvar stopEvent = function() {\n\t\t\t\t\t\tstopped = 1;\n\t\t\t\t\t};\n\n\t\t\t\t// Create the function that marks the event as canceled.\n\t\t\t\tvar canceled = 0;\n\t\t\t\tvar cancelEvent = function() {\n\t\t\t\t\t\tcanceled = 1;\n\t\t\t\t\t};\n\n\t\t\t\treturn function( eventName, data, editor ) {\n\t\t\t\t\t// Get the event entry.\n\t\t\t\t\tvar event = getPrivate( this )[ eventName ];\n\n\t\t\t\t\t// Save the previous stopped and cancelled states. We may\n\t\t\t\t\t// be nesting fire() calls.\n\t\t\t\t\tvar previousStopped = stopped,\n\t\t\t\t\t\tpreviousCancelled = canceled;\n\n\t\t\t\t\t// Reset the stopped and canceled flags.\n\t\t\t\t\tstopped = canceled = 0;\n\n\t\t\t\t\tif ( event ) {\n\t\t\t\t\t\tvar listeners = event.listeners;\n\n\t\t\t\t\t\tif ( listeners.length ) {\n\t\t\t\t\t\t\t// As some listeners may remove themselves from the\n\t\t\t\t\t\t\t// event, the original array length is dinamic. So,\n\t\t\t\t\t\t\t// let's make a copy of all listeners, so we are\n\t\t\t\t\t\t\t// sure we'll call all of them.\n\t\t\t\t\t\t\tlisteners = listeners.slice( 0 );\n\n\t\t\t\t\t\t\tvar retData;\n\t\t\t\t\t\t\t// Loop through all listeners.\n\t\t\t\t\t\t\tfor ( var i = 0; i < listeners.length; i++ ) {\n\t\t\t\t\t\t\t\t// Call the listener, passing the event data.\n\t\t\t\t\t\t\t\tif ( event.errorProof ) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tretData = listeners[ i ].call( this, editor, data, stopEvent, cancelEvent );\n\t\t\t\t\t\t\t\t\t} catch ( er ) {}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tretData = listeners[ i ].call( this, editor, data, stopEvent, cancelEvent );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( retData === false )\n\t\t\t\t\t\t\t\t\tcanceled = 1;\n\t\t\t\t\t\t\t\telse if ( typeof retData != 'undefined' )\n\t\t\t\t\t\t\t\t\tdata = retData;\n\n\t\t\t\t\t\t\t\t// No further calls is stopped or canceled.\n\t\t\t\t\t\t\t\tif ( stopped || canceled )\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar ret = canceled ? false : ( typeof data == 'undefined' ? true : data );\n\n\t\t\t\t\t// Restore the previous stopped and canceled states.\n\t\t\t\t\tstopped = previousStopped;\n\t\t\t\t\tcanceled = previousCancelled;\n\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t} )(),\n\n\t\t\t/**\n\t\t\t * Fires an specific event in the object, releasing all listeners\n\t\t\t * registered to that event. The same listeners are not called again on\n\t\t\t * successive calls of it or of {@link #fire}.\n\t\t\t *\n\t\t\t *\t\tsomeObject.on( 'someEvent', function() { ... } );\n\t\t\t *\t\tsomeObject.fire( 'someEvent' );\t\t\t// Above listener called.\n\t\t\t *\t\tsomeObject.fireOnce( 'someEvent' );\t\t// Above listener called.\n\t\t\t *\t\tsomeObject.fire( 'someEvent' );\t\t\t// No listeners called.\n\t\t\t *\n\t\t\t * @param {String} eventName The event name to fire.\n\t\t\t * @param {Object} [data] Data to be sent as the\n\t\t\t * {@link CKEDITOR.eventInfo#data} when calling the listeners.\n\t\t\t * @param {CKEDITOR.editor} [editor] The editor instance to send as the\n\t\t\t * {@link CKEDITOR.eventInfo#editor} when calling the listener.\n\t\t\t * @returns {Boolean/Object} A booloan indicating that the event is to be\n\t\t\t * canceled, or data returned by one of the listeners.\n\t\t\t */\n\t\t\tfireOnce: function( eventName, data, editor ) {\n\t\t\t\tvar ret = this.fire( eventName, data, editor );\n\t\t\t\tdelete getPrivate( this )[ eventName ];\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Unregisters a listener function from being called at the specified\n\t\t\t * event. No errors are thrown if the listener has not been registered previously.\n\t\t\t *\n\t\t\t *\t\tvar myListener = function() { ... };\n\t\t\t *\t\tsomeObject.on( 'someEvent', myListener );\n\t\t\t *\t\tsomeObject.fire( 'someEvent' );\t\t\t\t\t// myListener called.\n\t\t\t *\t\tsomeObject.removeListener( 'someEvent', myListener );\n\t\t\t *\t\tsomeObject.fire( 'someEvent' );\t\t\t\t\t// myListener not called.\n\t\t\t *\n\t\t\t * @param {String} eventName The event name.\n\t\t\t * @param {Function} listenerFunction The listener function to unregister.\n\t\t\t */\n\t\t\tremoveListener: function( eventName, listenerFunction ) {\n\t\t\t\t// Get the event entry.\n\t\t\t\tvar event = getPrivate( this )[ eventName ];\n\n\t\t\t\tif ( event ) {\n\t\t\t\t\tvar index = event.getListenerIndex( listenerFunction );\n\t\t\t\t\tif ( index >= 0 )\n\t\t\t\t\t\tevent.listeners.splice( index, 1 );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Remove all existing listeners on this object, for cleanup purpose.\n\t\t\t */\n\t\t\tremoveAllListeners: function() {\n\t\t\t\tvar events = getPrivate( this );\n\t\t\t\tfor ( var i in events )\n\t\t\t\t\tdelete events[ i ];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Checks if there is any listener registered to a given event.\n\t\t\t *\n\t\t\t *\t\tvar myListener = function() { ... };\n\t\t\t *\t\tsomeObject.on( 'someEvent', myListener );\n\t\t\t *\t\talert( someObject.hasListeners( 'someEvent' ) );\t// true\n\t\t\t *\t\talert( someObject.hasListeners( 'noEvent' ) );\t\t// false\n\t\t\t *\n\t\t\t * @param {String} eventName The event name.\n\t\t\t * @returns {Boolean}\n\t\t\t */\n\t\t\thasListeners: function( eventName ) {\n\t\t\t\tvar event = getPrivate( this )[ eventName ];\n\t\t\t\treturn ( event && event.listeners.length > 0 );\n\t\t\t}\n\t\t};\n\t} )();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/event.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif ( !CKEDITOR.editor ) {\n\t// Documented at editor.js.\n\tCKEDITOR.editor = function() {\n\t\t// Push this editor to the pending list. It'll be processed later once\n\t\t// the full editor code is loaded.\n\t\tCKEDITOR._.pending.push( [ this, arguments ] );\n\n\t\t// Call the CKEDITOR.event constructor to initialize this instance.\n\t\tCKEDITOR.event.call( this );\n\t};\n\n\t// Both fire and fireOnce will always pass this editor instance as the\n\t// \"editor\" param in CKEDITOR.event.fire. So, we override it to do that\n\t// automaticaly.\n\tCKEDITOR.editor.prototype.fire = function( eventName, data ) {\n\t\tif ( eventName in { instanceReady: 1, loaded: 1 } )\n\t\t\tthis[ eventName ] = true;\n\n\t\treturn CKEDITOR.event.prototype.fire.call( this, eventName, data, this );\n\t};\n\n\tCKEDITOR.editor.prototype.fireOnce = function( eventName, data ) {\n\t\tif ( eventName in { instanceReady: 1, loaded: 1 } )\n\t\t\tthis[ eventName ] = true;\n\n\t\treturn CKEDITOR.event.prototype.fireOnce.call( this, eventName, data, this );\n\t};\n\n\t// \"Inherit\" (copy actually) from CKEDITOR.event.\n\tCKEDITOR.event.implementOn( CKEDITOR.editor.prototype );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/editor_basic.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.env} object which contains\n *\t\tenvironment and browser information.\n */\n\nif ( !CKEDITOR.env ) {\n\t/**\n\t * Environment and browser information.\n\t *\n\t * @class CKEDITOR.env\n\t * @singleton\n\t */\n\tCKEDITOR.env = ( function() {\n\t\tvar agent = navigator.userAgent.toLowerCase(),\n\t\t\tedge = agent.match( /edge[ \\/](\\d+.?\\d*)/ ),\n\t\t\ttrident = agent.indexOf( 'trident/' ) > -1,\n\t\t\tie = !!( edge || trident );\n\n\t\tvar env = {\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in Internet Explorer.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.ie )\n\t\t\t *\t\t\talert( 'I\\'m running in IE!' );\n\t\t\t *\n\t\t\t * **Note:** This property is also set to `true` if CKEditor is running\n\t\t\t * in {@link #edge Microsoft Edge}.\n\t\t\t *\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tie: ie,\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in Microsoft Edge.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.edge )\n\t\t\t *\t\t\talert( 'I\\'m running in Edge!' );\n\t\t\t *\n\t\t\t * See also {@link #ie}.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tedge: !!edge,\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in a WebKit-based browser, like Safari,\n\t\t\t * or Blink-based browser, like Chrome.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.webkit )\n\t\t\t *\t\t\talert( 'I\\'m running in a WebKit browser!' );\n\t\t\t *\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\twebkit: !ie && ( agent.indexOf( ' applewebkit/' ) > -1 ),\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in Adobe AIR.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.air )\n\t\t\t *\t\t\talert( 'I\\'m on AIR!' );\n\t\t\t *\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tair: ( agent.indexOf( ' adobeair/' ) > -1 ),\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running on Macintosh.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.mac )\n\t\t\t *\t\t\talert( 'I love apples!'' );\n\t\t\t *\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tmac: ( agent.indexOf( 'macintosh' ) > -1 ),\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in a Quirks Mode environment.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.quirks )\n\t\t\t *\t\t\talert( 'Nooooo!' );\n\t\t\t *\n\t\t\t * Internet Explorer 10 introduced the _New Quirks Mode_, which is similar to the _Quirks Mode_\n\t\t\t * implemented in other modern browsers and defined in the HTML5 specification. It can be handled\n\t\t\t * as the Standards mode, so the value of this property will be set to `false`.\n\t\t\t *\n\t\t\t * The _Internet Explorer 5 Quirks_ mode which is still available in Internet Explorer 10+\n\t\t\t * sets this value to `true` and {@link #version} to `7`.\n\t\t\t *\n\t\t\t * Read more: [IEBlog](http://blogs.msdn.com/b/ie/archive/2011/12/14/interoperable-html5-quirks-mode-in-ie10.aspx)\n\t\t\t *\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tquirks: ( document.compatMode == 'BackCompat' && ( !document.documentMode || document.documentMode < 10 ) ),\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in a mobile environemnt.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.mobile )\n\t\t\t *\t\t\talert( 'I\\'m running with CKEditor today!' );\n\t\t\t *\n\t\t\t * @deprecated\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tmobile: ( agent.indexOf( 'mobile' ) > -1 ),\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running on Apple iPhone/iPad/iPod devices.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.iOS )\n\t\t\t *\t\t\talert( 'I like little apples!' );\n\t\t\t *\n\t\t\t * @property {Boolean}\n\t\t\t */\n\t\t\tiOS: /(ipad|iphone|ipod)/.test( agent ),\n\n\t\t\t/**\n\t\t\t * Indicates that the browser has a custom domain enabled. This has\n\t\t\t * been set with `document.domain`.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.isCustomDomain() )\n\t\t\t *\t\t\talert( 'I\\'m in a custom domain!' );\n\t\t\t *\n\t\t\t * @returns {Boolean} `true` if a custom domain is enabled.\n\t\t\t * @deprecated\n\t\t\t */\n\t\t\tisCustomDomain: function() {\n\t\t\t\tif ( !this.ie )\n\t\t\t\t\treturn false;\n\n\t\t\t\tvar domain = document.domain,\n\t\t\t\t\thostname = window.location.hostname;\n\n\t\t\t\treturn domain != hostname && domain != ( '[' + hostname + ']' ); // IPv6 IP support (#5434)\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Indicates that the page is running under an encrypted connection.\n\t\t\t *\n\t\t\t *\t\tif ( CKEDITOR.env.secure )\n\t\t\t *\t\t\talert( 'I\\'m on SSL!' );\n\t\t\t *\n\t\t\t * @returns {Boolean} `true` if the page has an encrypted connection.\n\t\t\t */\n\t\t\tsecure: location.protocol == 'https:'\n\t\t};\n\n\t\t/**\n\t\t * Indicates that CKEditor is running in a Gecko-based browser, like\n\t\t * Firefox.\n\t\t *\n\t\t *\t\tif ( CKEDITOR.env.gecko )\n\t\t *\t\t\talert( 'I\\'m riding a gecko!' );\n\t\t *\n\t\t * @property {Boolean}\n\t\t */\n\t\tenv.gecko = ( navigator.product == 'Gecko' && !env.webkit && !env.ie );\n\n\t\t/**\n\t\t * Indicates that CKEditor is running in a Blink-based browser like Chrome.\n\t\t *\n\t\t *\t\tif ( CKEDITOR.env.chrome )\n\t\t *\t\t\talert( 'I\\'m running in Chrome!' );\n\t\t *\n\t\t * @property {Boolean} chrome\n\t\t */\n\n\t\t/**\n\t\t * Indicates that CKEditor is running in Safari (including the mobile version).\n\t\t *\n\t\t *\t\tif ( CKEDITOR.env.safari )\n\t\t *\t\t\talert( 'I\\'m on Safari!' );\n\t\t *\n\t\t * @property {Boolean} safari\n\t\t */\n\t\tif ( env.webkit ) {\n\t\t\tif ( agent.indexOf( 'chrome' ) > -1 )\n\t\t\t\tenv.chrome = true;\n\t\t\telse\n\t\t\t\tenv.safari = true;\n\t\t}\n\n\t\tvar version = 0;\n\n\t\t// Internet Explorer 6.0+\n\t\tif ( env.ie ) {\n\t\t\t// We use env.version for feature detection, so set it properly.\n\t\t\tif ( edge ) {\n\t\t\t\tversion = parseFloat( edge[ 1 ] );\n\t\t\t} else if ( env.quirks || !document.documentMode ) {\n\t\t\t\tversion = parseFloat( agent.match( /msie (\\d+)/ )[ 1 ] );\n\t\t\t} else {\n\t\t\t\tversion = document.documentMode;\n\t\t\t}\n\n\t\t\t// Deprecated features available just for backwards compatibility.\n\t\t\tenv.ie9Compat = version == 9;\n\t\t\tenv.ie8Compat = version == 8;\n\t\t\tenv.ie7Compat = version == 7;\n\t\t\tenv.ie6Compat = version < 7 || env.quirks;\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in an IE6-like environment, which\n\t\t\t * includes IE6 itself as well as IE7, IE8 and IE9 in Quirks Mode.\n\t\t\t *\n\t\t\t * @deprecated\n\t\t\t * @property {Boolean} ie6Compat\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in an IE7-like environment, which\n\t\t\t * includes IE7 itself and IE8's IE7 Document Mode.\n\t\t\t *\n\t\t\t * @deprecated\n\t\t\t * @property {Boolean} ie7Compat\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in Internet Explorer 8 on\n\t\t\t * Standards Mode.\n\t\t\t *\n\t\t\t * @deprecated\n\t\t\t * @property {Boolean} ie8Compat\n\t\t\t */\n\n\t\t\t/**\n\t\t\t * Indicates that CKEditor is running in Internet Explorer 9 on\n\t\t\t * Standards Mode.\n\t\t\t *\n\t\t\t * @deprecated\n\t\t\t * @property {Boolean} ie9Compat\n\t\t\t */\n\t\t}\n\n\t\t// Gecko.\n\t\tif ( env.gecko ) {\n\t\t\tvar geckoRelease = agent.match( /rv:([\\d\\.]+)/ );\n\t\t\tif ( geckoRelease ) {\n\t\t\t\tgeckoRelease = geckoRelease[ 1 ].split( '.' );\n\t\t\t\tversion = geckoRelease[ 0 ] * 10000 + ( geckoRelease[ 1 ] || 0 ) * 100 + ( geckoRelease[ 2 ] || 0 ) * 1;\n\t\t\t}\n\t\t}\n\n\t\t// Adobe AIR 1.0+\n\t\t// Checked before Safari because AIR have the WebKit rich text editor\n\t\t// features from Safari 3.0.4, but the version reported is 420.\n\t\tif ( env.air )\n\t\t\tversion = parseFloat( agent.match( / adobeair\\/(\\d+)/ )[ 1 ] );\n\n\t\t// WebKit 522+ (Safari 3+)\n\t\tif ( env.webkit )\n\t\t\tversion = parseFloat( agent.match( / applewebkit\\/(\\d+)/ )[ 1 ] );\n\n\t\t/**\n\t\t * Contains the browser version.\n\t\t *\n\t\t * For Gecko-based browsers (like Firefox) it contains the revision\n\t\t * number with first three parts concatenated with a padding zero\n\t\t * (e.g. for revision 1.9.0.2 we have 10900).\n\t\t *\n\t\t * For WebKit-based browsers (like Safari and Chrome) it contains the\n\t\t * WebKit build version (e.g. 522).\n\t\t *\n\t\t * For IE browsers, it matches the \"Document Mode\".\n\t\t *\n\t\t *\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version <= 6 )\n\t\t *\t\t\talert( 'Ouch!' );\n\t\t *\n\t\t * @property {Number}\n\t\t */\n\t\tenv.version = version;\n\n\t\t/**\n\t\t * Since CKEditor 4.5 this property is a blacklist of browsers incompatible with CKEditor. It means that it is\n\t\t * set to `false` only in browsers that are known to be incompatible. Before CKEditor 4.5 this\n\t\t * property was a whitelist of browsers that were known to be compatible with CKEditor.\n\t\t *\n\t\t * The reason for this change is the rising fragmentation of the browser market (especially the mobile segment).\n\t\t * It became too complicated to check in which new environments CKEditor is going to work.\n\t\t *\n\t\t * In order to enable CKEditor 4.4.x and below in unsupported environments see the\n\t\t * [Enabling CKEditor in Unsupported Environments](#!/guide/dev_unsupported_environments) article.\n\t\t *\n\t\t *\t\tif ( CKEDITOR.env.isCompatible )\n\t\t *\t\t\talert( 'Your browser is not known to be incompatible with CKEditor!' );\n\t\t *\n\t\t * @property {Boolean}\n\t\t */\n\t\tenv.isCompatible =\n\t\t\t// IE 7+ (IE 7 is not supported, but IE Compat Mode is and it is recognized as IE7).\n\t\t\t!( env.ie && version < 7 ) &&\n\t\t\t// Firefox 4.0+.\n\t\t\t!( env.gecko && version < 40000 ) &&\n\t\t\t// Chrome 6+, Safari 5.1+, iOS 5+.\n\t\t\t!( env.webkit && version < 534 );\n\n\t\t/**\n\t\t * Indicates that CKEditor is running in the HiDPI environment.\n\t\t *\n\t\t *\t\tif ( CKEDITOR.env.hidpi )\n\t\t *\t\t\talert( 'You are using a screen with high pixel density.' );\n\t\t *\n\t\t * @property {Boolean}\n\t\t */\n\t\tenv.hidpi = window.devicePixelRatio >= 2;\n\n\t\t/**\n\t\t * Indicates that CKEditor is running in a browser which uses a bogus\n\t\t * `<br>` filler in order to correctly display caret in empty blocks.\n\t\t *\n\t\t * @since 4.3\n\t\t * @property {Boolean}\n\t\t */\n\t\tenv.needsBrFiller = env.gecko || env.webkit || ( env.ie && version > 10 );\n\n\t\t/**\n\t\t * Indicates that CKEditor is running in a browser which needs a\n\t\t * non-breaking space filler in order to correctly display caret in empty blocks.\n\t\t *\n\t\t * @since 4.3\n\t\t * @property {Boolean}\n\t\t */\n\t\tenv.needsNbspFiller = env.ie && version < 11;\n\n\t\t/**\n\t\t * A CSS class that denotes the browser where CKEditor runs and is appended\n\t\t * to the HTML element that contains the editor. It makes it easier to apply\n\t\t * browser-specific styles to editor instances.\n\t\t *\n\t\t *\t\tmyDiv.className = CKEDITOR.env.cssClass;\n\t\t *\n\t\t * @property {String}\n\t\t */\n\t\tenv.cssClass = 'cke_browser_' + ( env.ie ? 'ie' : env.gecko ? 'gecko' : env.webkit ? 'webkit' : 'unknown' );\n\n\t\tif ( env.quirks )\n\t\t\tenv.cssClass += ' cke_browser_quirks';\n\n\t\tif ( env.ie )\n\t\t\tenv.cssClass += ' cke_browser_ie' + ( env.quirks ? '6 cke_browser_iequirks' : env.version );\n\n\t\tif ( env.air )\n\t\t\tenv.cssClass += ' cke_browser_air';\n\n\t\tif ( env.iOS )\n\t\t\tenv.cssClass += ' cke_browser_ios';\n\n\t\tif ( env.hidpi )\n\t\t\tenv.cssClass += ' cke_hidpi';\n\n\t\treturn env;\n\t} )();\n}\n\n// PACKAGER_RENAME( CKEDITOR.env )\n// PACKAGER_RENAME( CKEDITOR.env.ie )\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/env.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Contains the second part of the {@link CKEDITOR} object\n *\t\tdefinition, which defines the basic editor features to be available in\n *\t\tthe root ckeditor_basic.js file.\n */\n\nif ( CKEDITOR.status == 'unloaded' ) {\n\t( function() {\n\t\tCKEDITOR.event.implementOn( CKEDITOR );\n\n\t\t/**\n\t\t * Forces the full CKEditor core code, in the case only the basic code has been\n\t\t * loaded (`ckeditor_basic.js`). This method self-destroys (becomes undefined) in\n\t\t * the first call or as soon as the full code is available.\n\t\t *\n\t\t *\t\t// Check if the full core code has been loaded and load it.\n\t\t *\t\tif ( CKEDITOR.loadFullCore )\n\t\t *\t\t\tCKEDITOR.loadFullCore();\n\t\t *\n\t\t * @member CKEDITOR\n\t\t */\n\t\tCKEDITOR.loadFullCore = function() {\n\t\t\t// If the basic code is not ready, just mark it to be loaded.\n\t\t\tif ( CKEDITOR.status != 'basic_ready' ) {\n\t\t\t\tCKEDITOR.loadFullCore._load = 1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Destroy this function.\n\t\t\tdelete CKEDITOR.loadFullCore;\n\n\t\t\t// Append the script to the head.\n\t\t\tvar script = document.createElement( 'script' );\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.src = CKEDITOR.basePath + 'ckeditor.js';\n\t\t\tscript.src = CKEDITOR.basePath + 'ckeditor_source.js'; // %REMOVE_LINE%\n\n\t\t\tdocument.getElementsByTagName( 'head' )[ 0 ].appendChild( script );\n\t\t};\n\n\t\t/**\n\t\t * The time to wait (in seconds) to load the full editor code after the\n\t\t * page load, if the \"ckeditor_basic\" file is used. If set to zero, the\n\t\t * editor is loaded on demand, as soon as an instance is created.\n\t\t *\n\t\t * This value must be set on the page before the page load completion.\n\t\t *\n\t\t *\t\t// Loads the full source after five seconds.\n\t\t *\t\tCKEDITOR.loadFullCoreTimeout = 5;\n\t\t *\n\t\t * @property\n\t\t * @member CKEDITOR\n\t\t */\n\t\tCKEDITOR.loadFullCoreTimeout = 0;\n\n\t\t// Documented at ckeditor.js.\n\t\tCKEDITOR.add = function( editor ) {\n\t\t\t// For now, just put the editor in the pending list. It will be\n\t\t\t// processed as soon as the full code gets loaded.\n\t\t\tvar pending = this._.pending || ( this._.pending = [] );\n\t\t\tpending.push( editor );\n\t\t};\n\n\t\t( function() {\n\t\t\tvar onload = function() {\n\t\t\t\t\tvar loadFullCore = CKEDITOR.loadFullCore,\n\t\t\t\t\t\tloadFullCoreTimeout = CKEDITOR.loadFullCoreTimeout;\n\n\t\t\t\t\tif ( !loadFullCore )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tCKEDITOR.status = 'basic_ready';\n\n\t\t\t\t\tif ( loadFullCore && loadFullCore._load )\n\t\t\t\t\t\tloadFullCore();\n\t\t\t\t\telse if ( loadFullCoreTimeout ) {\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tif ( CKEDITOR.loadFullCore )\n\t\t\t\t\t\t\t\tCKEDITOR.loadFullCore();\n\t\t\t\t\t\t}, loadFullCoreTimeout * 1000 );\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tCKEDITOR.domReady( onload );\n\t\t} )();\n\n\t\tCKEDITOR.status = 'basic_loaded';\n\t} )();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/ckeditor_basic.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines {@link CKEDITOR#verbosity} and binary flags {@link CKEDITOR#VERBOSITY_WARN} and\n * {@link CKEDITOR#VERBOSITY_ERROR}. Defines also the {@link CKEDITOR#error} and {@link CKEDITOR#warn} functions\n * and the default handler for the {@link CKEDITOR#log} event.\n */\n\n/* global console */\n\n'use strict';\n\n/**\n * Warning reporting verbosity level. When {@link CKEDITOR#verbosity} is set to this value, only {@link CKEDITOR#warn}\n * messages will be output to the console. It is a binary flag so it might be combined with\n * the {@link CKEDITOR#VERBOSITY_ERROR} flag.\n *\n * @since 4.5.4\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.VERBOSITY_WARN = 1;\n\n/**\n * Error reporting verbosity level. When {@link CKEDITOR#verbosity} is set to this value, only {@link CKEDITOR#error}\n * messages will be output to the console. It is a binary flag so it might be combined with\n * the {@link CKEDITOR#VERBOSITY_WARN} flag.\n *\n * @since 4.5.4\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.VERBOSITY_ERROR = 2;\n\n/**\n * Verbosity of {@link CKEDITOR#error} and {@link CKEDITOR#warn} methods. Accepts binary flags\n * {@link CKEDITOR#VERBOSITY_WARN} and {@link CKEDITOR#VERBOSITY_ERROR}.\n *\n * \t\t\tCKEDITOR.verbosity = 0; // No console output after CKEDITOR.warn and CKEDITOR.error methods.\n * \t\t\tCKEDITOR.verbosity = CKEDITOR.VERBOSITY_WARN; // Console output after CKEDITOR.warn only.\n * \t\t\tCKEDITOR.verbosity = CKEDITOR.VERBOSITY_ERROR; // Console output after CKEDITOR.error only.\n * \t\t\tCKEDITOR.verbosity = CKEDITOR.VERBOSITY_WARN | CKEDITOR.VERBOSITY_ERROR; // Console output after both methods.\n *\n * Default value enables both {@link CKEDITOR#VERBOSITY_WARN} and {@link CKEDITOR#VERBOSITY_ERROR}.\n *\n * @since 4.5.4\n * @member CKEDITOR\n * @type {Number}\n */\nCKEDITOR.verbosity = CKEDITOR.VERBOSITY_WARN | CKEDITOR.VERBOSITY_ERROR;\n\n/**\n * Warning reporting function. When {@link CKEDITOR#verbosity} has the {@link CKEDITOR#VERBOSITY_WARN} flag set, it fires\n * the {@link CKEDITOR#log} event with type set to `warn`. Fired event contains also provided `errorCode` and `additionalData`.\n *\n * @since 4.5.4\n * @member CKEDITOR\n * @param {String} errorCode Error code describing reported problem.\n * @param {Object} [additionalData] Additional data associated with reported problem.\n */\nCKEDITOR.warn = function( errorCode, additionalData ) {\n\tif ( CKEDITOR.verbosity & CKEDITOR.VERBOSITY_WARN ) {\n\t\tCKEDITOR.fire( 'log', { type: 'warn', errorCode: errorCode, additionalData: additionalData } );\n\t}\n};\n\n/**\n * Error reporting function. When {@link CKEDITOR#verbosity} has {@link CKEDITOR#VERBOSITY_ERROR} flag set, it fires\n * {@link CKEDITOR#log} event with the type set to `error`. The fired event also contains the provided `errorCode` and\n * `additionalData`.\n *\n * @since 4.5.4\n * @member CKEDITOR\n * @param {String} errorCode Error code describing the reported problem.\n * @param {Object} [additionalData] Additional data associated with the reported problem.\n */\nCKEDITOR.error = function( errorCode, additionalData ) {\n\tif ( CKEDITOR.verbosity & CKEDITOR.VERBOSITY_ERROR ) {\n\t\tCKEDITOR.fire( 'log', { type: 'error', errorCode: errorCode, additionalData: additionalData } );\n\t}\n};\n\n/**\n * Fired by {@link CKEDITOR#warn} and {@link CKEDITOR#error} methods.\n * Default listener logs provided information to the console.\n *\n * This event can be used to provide a custom error/warning handler:\n *\n * \t\t\tCKEDTIOR.on( 'log', function( evt ) {\n *\t\t\t    \t// Cancel default listener.\n *\t\t\t\t\tevt.cancel();\n *\t\t\t\t\t// Log event data.\n *\t\t\t\t\tconsole.log( evt.data.type, evt.data.errorCode, evt.data.additionalData );\n * \t\t\t} );\n *\n * @since 4.5.4\n * @event log\n * @member CKEDITOR\n * @param data\n * @param {String} data.type Log type. Can be `error` or `warn`.\n * @param {String} data.errorCode Error code describing the reported problem.\n * @param {Object} [data.additionalData] Additional data associated with this log event.\n */\nCKEDITOR.on( 'log', function( evt ) {\n\tif ( !window.console || !window.console.log ) {\n\t\treturn;\n\t}\n\n\tvar type = console[ evt.data.type ] ? evt.data.type : 'log',\n\t\terrorCode = evt.data.errorCode,\n\t\tadditionalData = evt.data.additionalData,\n\t\tprefix = '[CKEDITOR] ',\n\t\terrorCodeLabel = 'Error code: ';\n\n\tif ( additionalData ) {\n\t\tconsole[ type ]( prefix + errorCodeLabel + errorCode + '.', additionalData );\n\t} else {\n\t\tconsole[ type ]( prefix + errorCodeLabel + errorCode + '.' );\n\t}\n\n\tconsole[ type ]( prefix + 'For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-' + errorCode );\n}, null, null, 999 );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/log.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom} object, which contains DOM\n *\t\tmanipulation objects and function.\n */\n\nCKEDITOR.dom = {};\n\n// PACKAGER_RENAME( CKEDITOR.dom )\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.tools} object that contains\n *\t\tutility functions.\n */\n\n( function() {\n\tvar functions = [],\n\t\tcssVendorPrefix =\n\t\t\tCKEDITOR.env.gecko ? '-moz-' :\n\t\t\tCKEDITOR.env.webkit ? '-webkit-' :\n\t\t\tCKEDITOR.env.ie ? '-ms-' :\n\t\t\t'',\n\t\tampRegex = /&/g,\n\t\tgtRegex = />/g,\n\t\tltRegex = /</g,\n\t\tquoteRegex = /\"/g,\n\t\ttokenCharset = 'abcdefghijklmnopqrstuvwxyz0123456789',\n\t\tTOKEN_COOKIE_NAME = 'ckCsrfToken',\n\t\tTOKEN_LENGTH = 40,\n\n\t\tallEscRegex = /&(lt|gt|amp|quot|nbsp|shy|#\\d{1,5});/g,\n\t\tnamedEntities = {\n\t\t\tlt: '<',\n\t\t\tgt: '>',\n\t\t\tamp: '&',\n\t\t\tquot: '\"',\n\t\t\tnbsp: '\\u00a0',\n\t\t\tshy: '\\u00ad'\n\t\t},\n\t\tallEscDecode = function( match, code ) {\n\t\t\tif ( code[ 0 ] == '#' ) {\n\t\t\t\treturn String.fromCharCode( parseInt( code.slice( 1 ), 10 ) );\n\t\t\t} else {\n\t\t\t\treturn namedEntities[ code ];\n\t\t\t}\n\t\t};\n\n\tCKEDITOR.on( 'reset', function() {\n\t\tfunctions = [];\n\t} );\n\n\t/**\n\t * Utility functions.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.tools = {\n\t\t/**\n\t\t * Compares the elements of two arrays.\n\t\t *\n\t\t *\t\tvar a = [ 1, 'a', 3 ];\n\t\t *\t\tvar b = [ 1, 3, 'a' ];\n\t\t *\t\tvar c = [ 1, 'a', 3 ];\n\t\t *\t\tvar d = [ 1, 'a', 3, 4 ];\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.arrayCompare( a, b ) );  // false\n\t\t *\t\talert( CKEDITOR.tools.arrayCompare( a, c ) );  // true\n\t\t *\t\talert( CKEDITOR.tools.arrayCompare( a, d ) );  // false\n\t\t *\n\t\t * @param {Array} arrayA An array to be compared.\n\t\t * @param {Array} arrayB The other array to be compared.\n\t\t * @returns {Boolean} `true` if the arrays have the same length and\n\t\t * their elements match.\n\t\t */\n\t\tarrayCompare: function( arrayA, arrayB ) {\n\t\t\tif ( !arrayA && !arrayB )\n\t\t\t\treturn true;\n\n\t\t\tif ( !arrayA || !arrayB || arrayA.length != arrayB.length )\n\t\t\t\treturn false;\n\n\t\t\tfor ( var i = 0; i < arrayA.length; i++ ) {\n\t\t\t\tif ( arrayA[ i ] != arrayB[ i ] )\n\t\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Finds the index of the first element in an array for which the `compareFunction` returns `true`.\n\t\t *\n\t\t *\t\tCKEDITOR.tools.getIndex( [ 1, 2, 4, 3, 5 ], function( el ) {\n\t\t *\t\t\treturn el >= 3;\n\t\t *\t\t} ); // 2\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {Array} array Array to search in.\n\t\t * @param {Function} compareFunction Compare function.\n\t\t * @returns {Number} The index of the first matching element or `-1` if none matches.\n\t\t */\n\t\tgetIndex: function( arr, compareFunction ) {\n\t\t\tfor ( var i = 0; i < arr.length; ++i ) {\n\t\t\t\tif ( compareFunction( arr[ i ] ) )\n\t\t\t\t\treturn i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep copy of an object.\n\t\t *\n\t\t * **Note**: Recursive references are not supported.\n\t\t *\n\t\t *\t\tvar obj = {\n\t\t *\t\t\tname: 'John',\n\t\t *\t\t\tcars: {\n\t\t *\t\t\t\tMercedes: { color: 'blue' },\n\t\t *\t\t\t\tPorsche: { color: 'red' }\n\t\t *\t\t\t}\n\t\t *\t\t};\n\t\t *\t\tvar clone = CKEDITOR.tools.clone( obj );\n\t\t *\t\tclone.name = 'Paul';\n\t\t *\t\tclone.cars.Porsche.color = 'silver';\n\t\t *\n\t\t *\t\talert( obj.name );\t\t\t\t\t// 'John'\n\t\t *\t\talert( clone.name );\t\t\t\t// 'Paul'\n\t\t *\t\talert( obj.cars.Porsche.color );\t// 'red'\n\t\t *\t\talert( clone.cars.Porsche.color );\t// 'silver'\n\t\t *\n\t\t * @param {Object} object The object to be cloned.\n\t\t * @returns {Object} The object clone.\n\t\t */\n\t\tclone: function( obj ) {\n\t\t\tvar clone;\n\n\t\t\t// Array.\n\t\t\tif ( obj && ( obj instanceof Array ) ) {\n\t\t\t\tclone = [];\n\n\t\t\t\tfor ( var i = 0; i < obj.length; i++ )\n\t\t\t\t\tclone[ i ] = CKEDITOR.tools.clone( obj[ i ] );\n\n\t\t\t\treturn clone;\n\t\t\t}\n\n\t\t\t// \"Static\" types.\n\t\t\tif ( obj === null || ( typeof obj != 'object' ) || ( obj instanceof String ) || ( obj instanceof Number ) || ( obj instanceof Boolean ) || ( obj instanceof Date ) || ( obj instanceof RegExp ) )\n\t\t\t\treturn obj;\n\n\t\t\t// DOM objects and window.\n\t\t\tif ( obj.nodeType || obj.window === obj )\n\t\t\t\treturn obj;\n\n\t\t\t// Objects.\n\t\t\tclone = new obj.constructor();\n\n\t\t\tfor ( var propertyName in obj ) {\n\t\t\t\tvar property = obj[ propertyName ];\n\t\t\t\tclone[ propertyName ] = CKEDITOR.tools.clone( property );\n\t\t\t}\n\n\t\t\treturn clone;\n\t\t},\n\n\t\t/**\n\t\t * Turns the first letter of a string to upper-case.\n\t\t *\n\t\t * @param {String} str\n\t\t * @param {Boolean} [keepCase] Keep the case of 2nd to last letter.\n\t\t * @returns {String}\n\t\t */\n\t\tcapitalize: function( str, keepCase ) {\n\t\t\treturn str.charAt( 0 ).toUpperCase() + ( keepCase ? str.slice( 1 ) : str.slice( 1 ).toLowerCase() );\n\t\t},\n\n\t\t/**\n\t\t * Copies the properties from one object to another. By default, properties\n\t\t * already present in the target object **are not** overwritten.\n\t\t *\n\t\t *\t\t// Create the sample object.\n\t\t *\t\tvar myObject = {\n\t\t *\t\t\tprop1: true\n\t\t *\t\t};\n\t\t *\n\t\t *\t\t// Extend the above object with two properties.\n\t\t *\t\tCKEDITOR.tools.extend( myObject, {\n\t\t *\t\t\tprop2: true,\n\t\t *\t\t\tprop3: true\n\t\t *\t\t} );\n\t\t *\n\t\t *\t\t// Alert 'prop1', 'prop2' and 'prop3'.\n\t\t *\t\tfor ( var p in myObject )\n\t\t *\t\t\talert( p );\n\t\t *\n\t\t * @param {Object} target The object to be extended.\n\t\t * @param {Object...} source The object(s) from properties will be\n\t\t * copied. Any number of objects can be passed to this function.\n\t\t * @param {Boolean} [overwrite] If `true` is specified, it indicates that\n\t\t * properties already present in the target object could be\n\t\t * overwritten by subsequent objects.\n\t\t * @param {Object} [properties] Only properties within the specified names\n\t\t * list will be received from the source object.\n\t\t * @returns {Object} The extended object (target).\n\t\t */\n\t\textend: function( target ) {\n\t\t\tvar argsLength = arguments.length,\n\t\t\t\toverwrite, propertiesList;\n\n\t\t\tif ( typeof ( overwrite = arguments[ argsLength - 1 ] ) == 'boolean' )\n\t\t\t\targsLength--;\n\t\t\telse if ( typeof ( overwrite = arguments[ argsLength - 2 ] ) == 'boolean' ) {\n\t\t\t\tpropertiesList = arguments[ argsLength - 1 ];\n\t\t\t\targsLength -= 2;\n\t\t\t}\n\t\t\tfor ( var i = 1; i < argsLength; i++ ) {\n\t\t\t\tvar source = arguments[ i ];\n\t\t\t\tfor ( var propertyName in source ) {\n\t\t\t\t\t// Only copy existed fields if in overwrite mode.\n\t\t\t\t\tif ( overwrite === true || target[ propertyName ] == null ) {\n\t\t\t\t\t\t// Only copy  specified fields if list is provided.\n\t\t\t\t\t\tif ( !propertiesList || ( propertyName in propertiesList ) )\n\t\t\t\t\t\t\ttarget[ propertyName ] = source[ propertyName ];\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn target;\n\t\t},\n\n\t\t/**\n\t\t * Creates an object which is an instance of a class whose prototype is a\n\t\t * predefined object. All properties defined in the source object are\n\t\t * automatically inherited by the resulting object, including future\n\t\t * changes to it.\n\t\t *\n\t\t * @param {Object} source The source object to be used as the prototype for\n\t\t * the final object.\n\t\t * @returns {Object} The resulting copy.\n\t\t */\n\t\tprototypedCopy: function( source ) {\n\t\t\tvar copy = function() {};\n\t\t\tcopy.prototype = source;\n\t\t\treturn new copy();\n\t\t},\n\n\t\t/**\n\t\t * Makes fast (shallow) copy of an object.\n\t\t * This method is faster than {@link #clone} which does\n\t\t * a deep copy of an object (including arrays).\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Object} source The object to be copied.\n\t\t * @returns {Object} Copy of `source`.\n\t\t */\n\t\tcopy: function( source ) {\n\t\t\tvar obj = {},\n\t\t\t\tname;\n\n\t\t\tfor ( name in source )\n\t\t\t\tobj[ name ] = source[ name ];\n\n\t\t\treturn obj;\n\t\t},\n\n\t\t/**\n\t\t * Checks if an object is an Array.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.isArray( [] ) );\t\t// true\n\t\t *\t\talert( CKEDITOR.tools.isArray( 'Test' ) );\t// false\n\t\t *\n\t\t * @param {Object} object The object to be checked.\n\t\t * @returns {Boolean} `true` if the object is an Array, otherwise `false`.\n\t\t */\n\t\tisArray: function( object ) {\n\t\t\treturn Object.prototype.toString.call( object ) == '[object Array]';\n\t\t},\n\n\t\t/**\n\t\t * Whether the object contains no properties of its own.\n\t\t *\n\t\t * @param object\n\t\t * @returns {Boolean}\n\t\t */\n\t\tisEmpty: function( object ) {\n\t\t\tfor ( var i in object ) {\n\t\t\t\tif ( object.hasOwnProperty( i ) )\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Generates an object or a string containing vendor-specific and vendor-free CSS properties.\n\t\t *\n\t\t *\t\tCKEDITOR.tools.cssVendorPrefix( 'border-radius', '0', true );\n\t\t *\t\t// On Firefox: '-moz-border-radius:0;border-radius:0'\n\t\t *\t\t// On Chrome: '-webkit-border-radius:0;border-radius:0'\n\t\t *\n\t\t * @param {String} property The CSS property name.\n\t\t * @param {String} value The CSS value.\n\t\t * @param {Boolean} [asString=false] If `true`, then the returned value will be a CSS string.\n\t\t * @returns {Object/String} The object containing CSS properties or its stringified version.\n\t\t */\n\t\tcssVendorPrefix: function( property, value, asString ) {\n\t\t\tif ( asString )\n\t\t\t\treturn cssVendorPrefix + property + ':' + value + ';' + property + ':' + value;\n\n\t\t\tvar ret = {};\n\t\t\tret[ property ] = value;\n\t\t\tret[ cssVendorPrefix + property ] = value;\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t/**\n\t\t * Transforms a CSS property name to its relative DOM style name.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.cssStyleToDomStyle( 'background-color' ) );\t// 'backgroundColor'\n\t\t *\t\talert( CKEDITOR.tools.cssStyleToDomStyle( 'float' ) );\t\t\t\t// 'cssFloat'\n\t\t *\n\t\t * @method\n\t\t * @param {String} cssName The CSS property name.\n\t\t * @returns {String} The transformed name.\n\t\t */\n\t\tcssStyleToDomStyle: ( function() {\n\t\t\tvar test = document.createElement( 'div' ).style;\n\n\t\t\tvar cssFloat = ( typeof test.cssFloat != 'undefined' ) ? 'cssFloat' : ( typeof test.styleFloat != 'undefined' ) ? 'styleFloat' : 'float';\n\n\t\t\treturn function( cssName ) {\n\t\t\t\tif ( cssName == 'float' )\n\t\t\t\t\treturn cssFloat;\n\t\t\t\telse {\n\t\t\t\t\treturn cssName.replace( /-./g, function( match ) {\n\t\t\t\t\t\treturn match.substr( 1 ).toUpperCase();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Builds a HTML snippet from a set of `<style>/<link>`.\n\t\t *\n\t\t * @param {String/Array} css Each of which are URLs (absolute) of a CSS file or\n\t\t * a trunk of style text.\n\t\t * @returns {String}\n\t\t */\n\t\tbuildStyleHtml: function( css ) {\n\t\t\tcss = [].concat( css );\n\t\t\tvar item,\n\t\t\t\tretval = [];\n\t\t\tfor ( var i = 0; i < css.length; i++ ) {\n\t\t\t\tif ( ( item = css[ i ] ) ) {\n\t\t\t\t\t// Is CSS style text ?\n\t\t\t\t\tif ( /@import|[{}]/.test( item ) )\n\t\t\t\t\t\tretval.push( '<style>' + item + '</style>' );\n\t\t\t\t\telse\n\t\t\t\t\t\tretval.push( '<link type=\"text/css\" rel=stylesheet href=\"' + item + '\">' );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn retval.join( '' );\n\t\t},\n\n\t\t/**\n\t\t * Replaces special HTML characters in a string with their relative HTML\n\t\t * entity values.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.htmlEncode( 'A > B & C < D' ) ); // 'A &gt; B &amp; C &lt; D'\n\t\t *\n\t\t * @param {String} text The string to be encoded.\n\t\t * @returns {String} The encoded string.\n\t\t */\n\t\thtmlEncode: function( text ) {\n\t\t\t// Backwards compatibility - accept also non-string values (casting is done below).\n\t\t\t// Since 4.4.8 we return empty string for null and undefined because these values make no sense.\n\t\t\tif ( text === undefined || text === null ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn String( text ).replace( ampRegex, '&amp;' ).replace( gtRegex, '&gt;' ).replace( ltRegex, '&lt;' );\n\t\t},\n\n\t\t/**\n\t\t * Decodes HTML entities that browsers tend to encode when used in text nodes.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.htmlDecode( '&lt;a &amp; b &gt;' ) ); // '<a & b >'\n\t\t *\n\t\t * Read more about chosen entities in the [research](http://dev.ckeditor.com/ticket/13105#comment:8).\n\t\t *\n\t\t * @param {String} The string to be decoded.\n\t\t * @returns {String} The decoded string.\n\t\t */\n\t\thtmlDecode: function( text ) {\n\t\t\t// See:\n\t\t\t// * http://dev.ckeditor.com/ticket/13105#comment:8 and comment:9,\n\t\t\t// * http://jsperf.com/wth-is-going-on-with-jsperf JSPerf has some serious problems, but you can observe\n\t\t\t// that combined regexp tends to be quicker (except on V8). It will also not be prone to fail on '&amp;lt;'\n\t\t\t// (see http://dev.ckeditor.com/ticket/13105#DXWTF:CKEDITOR.tools.htmlEnDecodeAttr).\n\t\t\treturn text.replace( allEscRegex, allEscDecode );\n\t\t},\n\n\t\t/**\n\t\t * Replaces special HTML characters in HTMLElement attribute with their relative HTML entity values.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.htmlEncodeAttr( '<a \" b >' ) ); // '&lt;a &quot; b &gt;'\n\t\t *\n\t\t * @param {String} The attribute value to be encoded.\n\t\t * @returns {String} The encoded value.\n\t\t */\n\t\thtmlEncodeAttr: function( text ) {\n\t\t\treturn CKEDITOR.tools.htmlEncode( text ).replace( quoteRegex, '&quot;' );\n\t\t},\n\n\t\t/**\n\t\t * Decodes HTML entities that browsers tend to encode when used in attributes.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.htmlDecodeAttr( '&lt;a &quot; b&gt;' ) ); // '<a \" b>'\n\t\t *\n\t\t * Since CKEditor 4.5 this method simply executes {@link #htmlDecode} which covers\n\t\t * all necessary entities.\n\t\t *\n\t\t * @param {String} text The text to be decoded.\n\t\t * @returns {String} The decoded text.\n\t\t */\n\t\thtmlDecodeAttr: function( text ) {\n\t\t\treturn CKEDITOR.tools.htmlDecode( text );\n\t\t},\n\n\t\t/**\n\t\t * Transforms text to valid HTML: creates paragraphs, replaces tabs with non-breaking spaces etc.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {String} text Text to transform.\n\t\t * @param {Number} enterMode Editor {@link CKEDITOR.config#enterMode Enter mode}.\n\t\t * @returns {String} HTML generated from the text.\n\t\t */\n\t\ttransformPlainTextToHtml: function( text, enterMode ) {\n\t\t\tvar isEnterBrMode = enterMode == CKEDITOR.ENTER_BR,\n\t\t\t\t// CRLF -> LF\n\t\t\t\thtml = this.htmlEncode( text.replace( /\\r\\n/g, '\\n' ) );\n\n\t\t\t// Tab -> &nbsp x 4;\n\t\t\thtml = html.replace( /\\t/g, '&nbsp;&nbsp; &nbsp;' );\n\n\t\t\tvar paragraphTag = enterMode == CKEDITOR.ENTER_P ? 'p' : 'div';\n\n\t\t\t// Two line-breaks create one paragraphing block.\n\t\t\tif ( !isEnterBrMode ) {\n\t\t\t\tvar duoLF = /\\n{2}/g;\n\t\t\t\tif ( duoLF.test( html ) ) {\n\t\t\t\t\tvar openTag = '<' + paragraphTag + '>', endTag = '</' + paragraphTag + '>';\n\t\t\t\t\thtml = openTag + html.replace( duoLF, function() {\n\t\t\t\t\t\treturn endTag + openTag;\n\t\t\t\t\t} ) + endTag;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// One <br> per line-break.\n\t\t\thtml = html.replace( /\\n/g, '<br>' );\n\n\t\t\t// Compensate padding <br> at the end of block, avoid loosing them during insertion.\n\t\t\tif ( !isEnterBrMode ) {\n\t\t\t\thtml = html.replace( new RegExp( '<br>(?=</' + paragraphTag + '>)' ), function( match ) {\n\t\t\t\t\treturn CKEDITOR.tools.repeat( match, 2 );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Preserve spaces at the ends, so they won't be lost after insertion (merged with adjacent ones).\n\t\t\thtml = html.replace( /^ | $/g, '&nbsp;' );\n\n\t\t\t// Finally, preserve whitespaces that are to be lost.\n\t\t\thtml = html.replace( /(>|\\s) /g, function( match, before ) {\n\t\t\t\treturn before + '&nbsp;';\n\t\t\t} ).replace( / (?=<)/g, '&nbsp;' );\n\n\t\t\treturn html;\n\t\t},\n\n\t\t/**\n\t\t * Gets a unique number for this CKEDITOR execution session. It returns\n\t\t * consecutive numbers starting from 1.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.getNextNumber() ); // (e.g.) 1\n\t\t *\t\talert( CKEDITOR.tools.getNextNumber() ); // 2\n\t\t *\n\t\t * @method\n\t\t * @returns {Number} A unique number.\n\t\t */\n\t\tgetNextNumber: ( function() {\n\t\t\tvar last = 0;\n\t\t\treturn function() {\n\t\t\t\treturn ++last;\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets a unique ID for CKEditor interface elements. It returns a\n\t\t * string with the \"cke_\" prefix and a consecutive number.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.getNextId() ); // (e.g.) 'cke_1'\n\t\t *\t\talert( CKEDITOR.tools.getNextId() ); // 'cke_2'\n\t\t *\n\t\t * @returns {String} A unique ID.\n\t\t */\n\t\tgetNextId: function() {\n\t\t\treturn 'cke_' + this.getNextNumber();\n\t\t},\n\n\t\t/**\n\t\t * Gets a universally unique ID. It returns a random string\n\t\t * compliant with ISO/IEC 11578:1996, without dashes, with the \"e\" prefix to\n\t\t * make sure that the ID does not start with a number.\n\t\t *\n\t\t * @returns {String} A global unique ID.\n\t\t */\n\t\tgetUniqueId: function() {\n\t\t\tvar uuid = 'e'; // Make sure that id does not start with number.\n\t\t\tfor ( var i = 0; i < 8; i++ ) {\n\t\t\t\tuuid += Math.floor( ( 1 + Math.random() ) * 0x10000 ).toString( 16 ).substring( 1 );\n\t\t\t}\n\t\t\treturn uuid;\n\t\t},\n\n\t\t/**\n\t\t * Creates a function override.\n\t\t *\n\t\t *\t\tvar obj = {\n\t\t *\t\t\tmyFunction: function( name ) {\n\t\t *\t\t\t\talert( 'Name: ' + name );\n\t\t *\t\t\t}\n\t\t *\t\t};\n\t\t *\n\t\t *\t\tobj.myFunction = CKEDITOR.tools.override( obj.myFunction, function( myFunctionOriginal ) {\n\t\t *\t\t\treturn function( name ) {\n\t\t *\t\t\t\talert( 'Overriden name: ' + name );\n\t\t *\t\t\t\tmyFunctionOriginal.call( this, name );\n\t\t *\t\t\t};\n\t\t *\t\t} );\n\t\t *\n\t\t * @param {Function} originalFunction The function to be overridden.\n\t\t * @param {Function} functionBuilder A function that returns the new\n\t\t * function. The original function reference will be passed to this function.\n\t\t * @returns {Function} The new function.\n\t\t */\n\t\toverride: function( originalFunction, functionBuilder ) {\n\t\t\tvar newFn = functionBuilder( originalFunction );\n\t\t\tnewFn.prototype = originalFunction.prototype;\n\t\t\treturn newFn;\n\t\t},\n\n\t\t/**\n\t\t * Executes a function after a specified delay.\n\t\t *\n\t\t *\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t *\t\t\talert( 'Executed after 2 seconds' );\n\t\t *\t\t}, 2000 );\n\t\t *\n\t\t * @param {Function} func The function to be executed.\n\t\t * @param {Number} [milliseconds=0] The amount of time (in milliseconds) to wait\n\t\t * to fire the function execution.\n\t\t * @param {Object} [scope=window] The object to store the function execution scope\n\t\t * (the `this` object).\n\t\t * @param {Object/Array} [args] A single object, or an array of objects, to\n\t\t * pass as argument to the function.\n\t\t * @param {Object} [ownerWindow=window] The window that will be used to set the\n\t\t * timeout.\n\t\t * @returns {Object} A value that can be used to cancel the function execution.\n\t\t */\n\t\tsetTimeout: function( func, milliseconds, scope, args, ownerWindow ) {\n\t\t\tif ( !ownerWindow )\n\t\t\t\townerWindow = window;\n\n\t\t\tif ( !scope )\n\t\t\t\tscope = ownerWindow;\n\n\t\t\treturn ownerWindow.setTimeout( function() {\n\t\t\t\tif ( args )\n\t\t\t\t\tfunc.apply( scope, [].concat( args ) );\n\t\t\t\telse\n\t\t\t\t\tfunc.apply( scope );\n\t\t\t}, milliseconds || 0 );\n\t\t},\n\n\t\t/**\n\t\t * Removes spaces from the start and the end of a string. The following\n\t\t * characters are removed: space, tab, line break, line feed.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.trim( '  example ' ); // 'example'\n\t\t *\n\t\t * @method\n\t\t * @param {String} str The text from which the spaces will be removed.\n\t\t * @returns {String} The modified string without the boundary spaces.\n\t\t */\n\t\ttrim: ( function() {\n\t\t\t// We are not using \\s because we don't want \"non-breaking spaces\" to be caught.\n\t\t\tvar trimRegex = /(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;\n\t\t\treturn function( str ) {\n\t\t\t\treturn str.replace( trimRegex, '' );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Removes spaces from the start (left) of a string. The following\n\t\t * characters are removed: space, tab, line break, line feed.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.ltrim( '  example ' ); // 'example '\n\t\t *\n\t\t * @method\n\t\t * @param {String} str The text from which the spaces will be removed.\n\t\t * @returns {String} The modified string excluding the removed spaces.\n\t\t */\n\t\tltrim: ( function() {\n\t\t\t// We are not using \\s because we don't want \"non-breaking spaces\" to be caught.\n\t\t\tvar trimRegex = /^[ \\t\\n\\r]+/g;\n\t\t\treturn function( str ) {\n\t\t\t\treturn str.replace( trimRegex, '' );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Removes spaces from the end (right) of a string. The following\n\t\t * characters are removed: space, tab, line break, line feed.\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.ltrim( '  example ' ); // '  example'\n\t\t *\n\t\t * @method\n\t\t * @param {String} str The text from which spaces will be removed.\n\t\t * @returns {String} The modified string excluding the removed spaces.\n\t\t */\n\t\trtrim: ( function() {\n\t\t\t// We are not using \\s because we don't want \"non-breaking spaces\" to be caught.\n\t\t\tvar trimRegex = /[ \\t\\n\\r]+$/g;\n\t\t\treturn function( str ) {\n\t\t\t\treturn str.replace( trimRegex, '' );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Returns the index of an element in an array.\n\t\t *\n\t\t *\t\tvar letters = [ 'a', 'b', 0, 'c', false ];\n\t\t *\t\talert( CKEDITOR.tools.indexOf( letters, '0' ) );\t\t// -1 because 0 !== '0'\n\t\t *\t\talert( CKEDITOR.tools.indexOf( letters, false ) );\t\t// 4 because 0 !== false\n\t\t *\n\t\t * @param {Array} array The array to be searched.\n\t\t * @param {Object/Function} value The element to be found. This can be an\n\t\t * evaluation function which receives a single parameter call for\n\t\t * each entry in the array, returning `true` if the entry matches.\n\t\t * @returns {Number} The (zero-based) index of the first entry that matches\n\t\t * the entry, or `-1` if not found.\n\t\t */\n\t\tindexOf: function( array, value ) {\n\t\t\tif ( typeof value == 'function' ) {\n\t\t\t\tfor ( var i = 0, len = array.length; i < len; i++ ) {\n\t\t\t\t\tif ( value( array[ i ] ) )\n\t\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t} else if ( array.indexOf )\n\t\t\t\treturn array.indexOf( value );\n\t\t\telse {\n\t\t\t\tfor ( i = 0, len = array.length; i < len; i++ ) {\n\t\t\t\t\tif ( array[ i ] === value )\n\t\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\t/**\n\t\t * Returns the index of an element in an array.\n\t\t *\n\t\t *\t\tvar obj = { prop: true };\n\t\t *\t\tvar letters = [ 'a', 'b', 0, obj, false ];\n\t\t *\n\t\t *\t\talert( CKEDITOR.tools.indexOf( letters, '0' ) ); // null\n\t\t *\t\talert( CKEDITOR.tools.indexOf( letters, function( value ) {\n\t\t *\t\t\t// Return true when passed value has property 'prop'.\n\t\t *\t\t\treturn value && 'prop' in value;\n\t\t *\t\t} ) );\t\t\t\t\t\t\t\t\t\t\t// obj\n\t\t *\n\t\t * @param {Array} array The array to be searched.\n\t\t * @param {Object/Function} value The element to be found. Can be an\n\t\t * evaluation function which receives a single parameter call for\n\t\t * each entry in the array, returning `true` if the entry matches.\n\t\t * @returns Object The value that was found in an array.\n\t\t */\n\t\tsearch: function( array, value ) {\n\t\t\tvar index = CKEDITOR.tools.indexOf( array, value );\n\t\t\treturn index >= 0 ? array[ index ] : null;\n\t\t},\n\n\t\t/**\n\t\t * Creates a function that will always execute in the context of a\n\t\t * specified object.\n\t\t *\n\t\t *\t\tvar obj = { text: 'My Object' };\n\t\t *\n\t\t *\t\tfunction alertText() {\n\t\t *\t\t\talert( this.text );\n\t\t *\t\t}\n\t\t *\n\t\t *\t\tvar newFunc = CKEDITOR.tools.bind( alertText, obj );\n\t\t *\t\tnewFunc(); // Alerts 'My Object'.\n\t\t *\n\t\t * @param {Function} func The function to be executed.\n\t\t * @param {Object} obj The object to which the execution context will be bound.\n\t\t * @returns {Function} The function that can be used to execute the\n\t\t * `func` function in the context of `obj`.\n\t\t */\n\t\tbind: function( func, obj ) {\n\t\t\treturn function() {\n\t\t\t\treturn func.apply( obj, arguments );\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Class creation based on prototype inheritance which supports of the\n\t\t * following features:\n\t\t *\n\t\t * * Static fields\n\t\t * * Private fields\n\t\t * * Public (prototype) fields\n\t\t * * Chainable base class constructor\n\t\t *\n\t\t * @param {Object} definition The class definition object.\n\t\t * @returns {Function} A class-like JavaScript function.\n\t\t */\n\t\tcreateClass: function( definition ) {\n\t\t\tvar $ = definition.$,\n\t\t\t\tbaseClass = definition.base,\n\t\t\t\tprivates = definition.privates || definition._,\n\t\t\t\tproto = definition.proto,\n\t\t\t\tstatics = definition.statics;\n\n\t\t\t// Create the constructor, if not present in the definition.\n\t\t\t!$ && ( $ = function() {\n\t\t\t\tbaseClass && this.base.apply( this, arguments );\n\t\t\t} );\n\n\t\t\tif ( privates ) {\n\t\t\t\tvar originalConstructor = $;\n\t\t\t\t$ = function() {\n\t\t\t\t\t// Create (and get) the private namespace.\n\t\t\t\t\tvar _ = this._ || ( this._ = {} );\n\n\t\t\t\t\t// Make some magic so \"this\" will refer to the main\n\t\t\t\t\t// instance when coding private functions.\n\t\t\t\t\tfor ( var privateName in privates ) {\n\t\t\t\t\t\tvar priv = privates[ privateName ];\n\n\t\t\t\t\t\t_[ privateName ] = ( typeof priv == 'function' ) ? CKEDITOR.tools.bind( priv, this ) : priv;\n\t\t\t\t\t}\n\n\t\t\t\t\toriginalConstructor.apply( this, arguments );\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif ( baseClass ) {\n\t\t\t\t$.prototype = this.prototypedCopy( baseClass.prototype );\n\t\t\t\t$.prototype.constructor = $;\n\t\t\t\t// Super references.\n\t\t\t\t$.base = baseClass;\n\t\t\t\t$.baseProto = baseClass.prototype;\n\t\t\t\t// Super constructor.\n\t\t\t\t$.prototype.base = function() {\n\t\t\t\t\tthis.base = baseClass.prototype.base;\n\t\t\t\t\tbaseClass.apply( this, arguments );\n\t\t\t\t\tthis.base = arguments.callee;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif ( proto )\n\t\t\t\tthis.extend( $.prototype, proto, true );\n\n\t\t\tif ( statics )\n\t\t\t\tthis.extend( $, statics, true );\n\n\t\t\treturn $;\n\t\t},\n\n\t\t/**\n\t\t * Creates a function reference that can be called later using\n\t\t * {@link #callFunction}. This approach is especially useful to\n\t\t * make DOM attribute function calls to JavaScript-defined functions.\n\t\t *\n\t\t *\t\tvar ref = CKEDITOR.tools.addFunction( function() {\n\t\t *\t\t\talert( 'Hello!');\n\t\t *\t\t} );\n\t\t *\t\tCKEDITOR.tools.callFunction( ref ); // 'Hello!'\n\t\t *\n\t\t * @param {Function} fn The function to be executed on call.\n\t\t * @param {Object} [scope] The object to have the context on `fn` execution.\n\t\t * @returns {Number} A unique reference to be used in conjuction with\n\t\t * {@link #callFunction}.\n\t\t */\n\t\taddFunction: function( fn, scope ) {\n\t\t\treturn functions.push( function() {\n\t\t\t\treturn fn.apply( scope || this, arguments );\n\t\t\t} ) - 1;\n\t\t},\n\n\t\t/**\n\t\t * Removes the function reference created with {@link #addFunction}.\n\t\t *\n\t\t * @param {Number} ref The function reference created with\n\t\t * {@link #addFunction}.\n\t\t */\n\t\tremoveFunction: function( ref ) {\n\t\t\tfunctions[ ref ] = null;\n\t\t},\n\n\t\t/**\n\t\t * Executes a function based on the reference created with {@link #addFunction}.\n\t\t *\n\t\t *\t\tvar ref = CKEDITOR.tools.addFunction( function() {\n\t\t *\t\t\talert( 'Hello!');\n\t\t *\t\t} );\n\t\t *\t\tCKEDITOR.tools.callFunction( ref ); // 'Hello!'\n\t\t *\n\t\t * @param {Number} ref The function reference created with {@link #addFunction}.\n\t\t * @param {Mixed} params Any number of parameters to be passed to the executed function.\n\t\t * @returns {Mixed} The return value of the function.\n\t\t */\n\t\tcallFunction: function( ref ) {\n\t\t\tvar fn = functions[ ref ];\n\t\t\treturn fn && fn.apply( window, Array.prototype.slice.call( arguments, 1 ) );\n\t\t},\n\n\t\t/**\n\t\t * Appends the `px` length unit to the size value if it is missing.\n\t\t *\n\t\t *\t\tvar cssLength = CKEDITOR.tools.cssLength;\n\t\t *\t\tcssLength( 42 );\t\t// '42px'\n\t\t *\t\tcssLength( '42' );\t\t// '42px'\n\t\t *\t\tcssLength( '42px' );\t// '42px'\n\t\t *\t\tcssLength( '42%' );\t\t// '42%'\n\t\t *\t\tcssLength( 'bold' );\t// 'bold'\n\t\t *\t\tcssLength( false );\t\t// ''\n\t\t *\t\tcssLength( NaN );\t\t// ''\n\t\t *\n\t\t * @method\n\t\t * @param {Number/String/Boolean} length\n\t\t */\n\t\tcssLength: ( function() {\n\t\t\tvar pixelRegex = /^-?\\d+\\.?\\d*px$/,\n\t\t\t\tlengthTrimmed;\n\n\t\t\treturn function( length ) {\n\t\t\t\tlengthTrimmed = CKEDITOR.tools.trim( length + '' ) + 'px';\n\n\t\t\t\tif ( pixelRegex.test( lengthTrimmed ) )\n\t\t\t\t\treturn lengthTrimmed;\n\t\t\t\telse\n\t\t\t\t\treturn length || '';\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Converts the specified CSS length value to the calculated pixel length inside this page.\n\t\t *\n\t\t * **Note:** Percentage-based value is left intact.\n\t\t *\n\t\t * @method\n\t\t * @param {String} cssLength CSS length value.\n\t\t */\n\t\tconvertToPx: ( function() {\n\t\t\tvar calculator;\n\n\t\t\treturn function( cssLength ) {\n\t\t\t\tif ( !calculator ) {\n\t\t\t\t\tcalculator = CKEDITOR.dom.element.createFromHtml( '<div style=\"position:absolute;left:-9999px;' +\n\t\t\t\t\t\t'top:-9999px;margin:0px;padding:0px;border:0px;\"' +\n\t\t\t\t\t\t'></div>', CKEDITOR.document );\n\t\t\t\t\tCKEDITOR.document.getBody().append( calculator );\n\t\t\t\t}\n\n\t\t\t\tif ( !( /%$/ ).test( cssLength ) ) {\n\t\t\t\t\tcalculator.setStyle( 'width', cssLength );\n\t\t\t\t\treturn calculator.$.clientWidth;\n\t\t\t\t}\n\n\t\t\t\treturn cssLength;\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * String specified by `str` repeats `times` times.\n\t\t *\n\t\t * @param {String} str\n\t\t * @param {Number} times\n\t\t * @returns {String}\n\t\t */\n\t\trepeat: function( str, times ) {\n\t\t\treturn new Array( times + 1 ).join( str );\n\t\t},\n\n\t\t/**\n\t\t * Returns the first successfully executed return value of a function that\n\t\t * does not throw any exception.\n\t\t *\n\t\t * @param {Function...} fn\n\t\t * @returns {Mixed}\n\t\t */\n\t\ttryThese: function() {\n\t\t\tvar returnValue;\n\t\t\tfor ( var i = 0, length = arguments.length; i < length; i++ ) {\n\t\t\t\tvar lambda = arguments[ i ];\n\t\t\t\ttry {\n\t\t\t\t\treturnValue = lambda();\n\t\t\t\t\tbreak;\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\t\t\treturn returnValue;\n\t\t},\n\n\t\t/**\n\t\t * Generates a combined key from a series of params.\n\t\t *\n\t\t *\t\tvar key = CKEDITOR.tools.genKey( 'key1', 'key2', 'key3' );\n\t\t *\t\talert( key ); // 'key1-key2-key3'.\n\t\t *\n\t\t * @param {String} subKey One or more strings used as subkeys.\n\t\t * @returns {String}\n\t\t */\n\t\tgenKey: function() {\n\t\t\treturn Array.prototype.slice.call( arguments ).join( '-' );\n\t\t},\n\n\t\t/**\n\t\t * Creates a \"deferred\" function which will not run immediately,\n\t\t * but rather runs as soon as the interpreter’s call stack is empty.\n\t\t * Behaves much like `window.setTimeout` with a delay.\n\t\t *\n\t\t * **Note:** The return value of the original function will be lost.\n\t\t *\n\t\t * @param {Function} fn The callee function.\n\t\t * @returns {Function} The new deferred function.\n\t\t */\n\t\tdefer: function( fn ) {\n\t\t\treturn function() {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\tself = this;\n\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\tfn.apply( self, args );\n\t\t\t\t}, 0 );\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Normalizes CSS data in order to avoid differences in the style attribute.\n\t\t *\n\t\t * @param {String} styleText The style data to be normalized.\n\t\t * @param {Boolean} [nativeNormalize=false] Parse the data using the browser.\n\t\t * @returns {String} The normalized value.\n\t\t */\n\t\tnormalizeCssText: function( styleText, nativeNormalize ) {\n\t\t\tvar props = [],\n\t\t\t\tname,\n\t\t\t\tparsedProps = CKEDITOR.tools.parseCssText( styleText, true, nativeNormalize );\n\n\t\t\tfor ( name in parsedProps )\n\t\t\t\tprops.push( name + ':' + parsedProps[ name ] );\n\n\t\t\tprops.sort();\n\n\t\t\treturn props.length ? ( props.join( ';' ) + ';' ) : '';\n\t\t},\n\n\t\t/**\n\t\t * Finds and converts `rgb(x,x,x)` color definition to hexadecimal notation.\n\t\t *\n\t\t * @param {String} styleText The style data (or just a string containing RGB colors) to be converted.\n\t\t * @returns {String} The style data with RGB colors converted to hexadecimal equivalents.\n\t\t */\n\t\tconvertRgbToHex: function( styleText ) {\n\t\t\treturn styleText.replace( /(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi, function( match, red, green, blue ) {\n\t\t\t\tvar color = [ red, green, blue ];\n\t\t\t\t// Add padding zeros if the hex value is less than 0x10.\n\t\t\t\tfor ( var i = 0; i < 3; i++ )\n\t\t\t\t\tcolor[ i ] = ( '0' + parseInt( color[ i ], 10 ).toString( 16 ) ).slice( -2 );\n\t\t\t\treturn '#' + color.join( '' );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Normalizes hexadecimal notation so that the color string is always 6 characters long and lowercase.\n\t\t *\n\t\t * @param {String} styleText The style data (or just a string containing hex colors) to be converted.\n\t\t * @returns {String} The style data with hex colors normalized.\n\t\t */\n\t\tnormalizeHex: function( styleText ) {\n\t\t\treturn styleText.replace( /#(([0-9a-f]{3}){1,2})($|;|\\s+)/gi, function( match, hexColor, hexColorPart, separator ) {\n\t\t\t\tvar normalizedHexColor = hexColor.toLowerCase();\n\t\t\t\tif ( normalizedHexColor.length == 3 ) {\n\t\t\t\t\tvar parts = normalizedHexColor.split( '' );\n\t\t\t\t\tnormalizedHexColor = [ parts[ 0 ], parts[ 0 ], parts[ 1 ], parts[ 1 ], parts[ 2 ], parts[ 2 ] ].join( '' );\n\t\t\t\t}\n\t\t\t\treturn '#' + normalizedHexColor + separator;\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Turns inline style text properties into one hash.\n\t\t *\n\t\t * @param {String} styleText The style data to be parsed.\n\t\t * @param {Boolean} [normalize=false] Normalize properties and values\n\t\t * (e.g. trim spaces, convert to lower case).\n\t\t * @param {Boolean} [nativeNormalize=false] Parse the data using the browser.\n\t\t * @returns {Object} The object containing parsed properties.\n\t\t */\n\t\tparseCssText: function( styleText, normalize, nativeNormalize ) {\n\t\t\tvar retval = {};\n\n\t\t\tif ( nativeNormalize ) {\n\t\t\t\t// Injects the style in a temporary span object, so the browser parses it,\n\t\t\t\t// retrieving its final format.\n\t\t\t\tvar temp = new CKEDITOR.dom.element( 'span' );\n\t\t\t\tstyleText = temp.setAttribute( 'style', styleText ).getAttribute( 'style' ) || '';\n\t\t\t}\n\n\t\t\t// Normalize colors.\n\t\t\tif ( styleText ) {\n\t\t\t\tstyleText = CKEDITOR.tools.normalizeHex( CKEDITOR.tools.convertRgbToHex( styleText ) );\n\t\t\t}\n\n\t\t\t// IE will leave a single semicolon when failed to parse the style text. (#3891)\n\t\t\tif ( !styleText || styleText == ';' )\n\t\t\t\treturn retval;\n\n\t\t\tstyleText.replace( /&quot;/g, '\"' ).replace( /\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g, function( match, name, value ) {\n\t\t\t\tif ( normalize ) {\n\t\t\t\t\tname = name.toLowerCase();\n\t\t\t\t\t// Drop extra whitespacing from font-family.\n\t\t\t\t\tif ( name == 'font-family' )\n\t\t\t\t\t\tvalue = value.replace( /\\s*,\\s*/g, ',' );\n\t\t\t\t\tvalue = CKEDITOR.tools.trim( value );\n\t\t\t\t}\n\n\t\t\t\tretval[ name ] = value;\n\t\t\t} );\n\t\t\treturn retval;\n\t\t},\n\n\t\t/**\n\t\t * Serializes the `style name => value` hash to a style text.\n\t\t *\n\t\t *\t\tvar styleObj = CKEDITOR.tools.parseCssText( 'color: red; border: none' );\n\t\t *\t\tconsole.log( styleObj.color ); // -> 'red'\n\t\t *\t\tCKEDITOR.tools.writeCssText( styleObj ); // -> 'color:red; border:none'\n\t\t *\t\tCKEDITOR.tools.writeCssText( styleObj, true ); // -> 'border:none; color:red'\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Object} styles The object contaning style properties.\n\t\t * @param {Boolean} [sort] Whether to sort CSS properties.\n\t\t * @returns {String} The serialized style text.\n\t\t */\n\t\twriteCssText: function( styles, sort ) {\n\t\t\tvar name,\n\t\t\t\tstylesArr = [];\n\n\t\t\tfor ( name in styles )\n\t\t\t\tstylesArr.push( name + ':' + styles[ name ] );\n\n\t\t\tif ( sort )\n\t\t\t\tstylesArr.sort();\n\n\t\t\treturn stylesArr.join( '; ' );\n\t\t},\n\n\t\t/**\n\t\t * Compares two objects.\n\t\t *\n\t\t * **Note:** This method performs shallow, non-strict comparison.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Object} left\n\t\t * @param {Object} right\n\t\t * @param {Boolean} [onlyLeft] Check only the properties that are present in the `left` object.\n\t\t * @returns {Boolean} Whether objects are identical.\n\t\t */\n\t\tobjectCompare: function( left, right, onlyLeft ) {\n\t\t\tvar name;\n\n\t\t\tif ( !left && !right )\n\t\t\t\treturn true;\n\t\t\tif ( !left || !right )\n\t\t\t\treturn false;\n\n\t\t\tfor ( name in left ) {\n\t\t\t\tif ( left[ name ] != right[ name ] )\n\t\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\tif ( !onlyLeft ) {\n\t\t\t\tfor ( name in right ) {\n\t\t\t\t\tif ( left[ name ] != right[ name ] )\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Returns an array of passed object's keys.\n\t\t *\n\t\t *\t\tconsole.log( CKEDITOR.tools.objectKeys( { foo: 1, bar: false } );\n\t\t *\t\t// -> [ 'foo', 'bar' ]\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Object} obj\n\t\t * @returns {Array} Object's keys.\n\t\t */\n\t\tobjectKeys: function( obj ) {\n\t\t\tvar keys = [];\n\t\t\tfor ( var i in obj )\n\t\t\t\tkeys.push( i );\n\n\t\t\treturn keys;\n\t\t},\n\n\t\t/**\n\t\t * Converts an array to an object by rewriting array items\n\t\t * to object properties.\n\t\t *\n\t\t *\t\tvar arr = [ 'foo', 'bar', 'foo' ];\n\t\t *\t\tconsole.log( CKEDITOR.tools.convertArrayToObject( arr ) );\n\t\t *\t\t// -> { foo: true, bar: true }\n\t\t *\t\tconsole.log( CKEDITOR.tools.convertArrayToObject( arr, 1 ) );\n\t\t *\t\t// -> { foo: 1, bar: 1 }\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Array} arr The array to be converted to an object.\n\t\t * @param [fillWith=true] Set each property of an object to `fillWith` value.\n\t\t */\n\t\tconvertArrayToObject: function( arr, fillWith ) {\n\t\t\tvar obj = {};\n\n\t\t\tif ( arguments.length == 1 )\n\t\t\t\tfillWith = true;\n\n\t\t\tfor ( var i = 0, l = arr.length; i < l; ++i )\n\t\t\t\tobj[ arr[ i ] ] = fillWith;\n\n\t\t\treturn obj;\n\t\t},\n\n\t\t/**\n\t\t * Tries to fix the `document.domain` of the current document to match the\n\t\t * parent window domain, avoiding \"Same Origin\" policy issues.\n\t\t * This is an Internet Explorer only requirement.\n\t\t *\n\t\t * @since 4.1.2\n\t\t * @returns {Boolean} `true` if the current domain is already good or if\n\t\t * it has been fixed successfully.\n\t\t */\n\t\tfixDomain: function() {\n\t\t\tvar domain;\n\n\t\t\twhile ( 1 ) {\n\t\t\t\ttry {\n\t\t\t\t\t// Try to access the parent document. It throws\n\t\t\t\t\t// \"access denied\" if restricted by the \"Same Origin\" policy.\n\t\t\t\t\tdomain = window.parent.document.domain;\n\t\t\t\t\tbreak;\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\t// Calculate the value to set to document.domain.\n\t\t\t\t\tdomain = domain ?\n\n\t\t\t\t\t\t// If it is not the first pass, strip one part of the\n\t\t\t\t\t\t// name. E.g.  \"test.example.com\"  => \"example.com\"\n\t\t\t\t\t\tdomain.replace( /.+?(?:\\.|$)/, '' ) :\n\n\t\t\t\t\t\t// In the first pass, we'll handle the\n\t\t\t\t\t\t// \"document.domain = document.domain\" case.\n\t\t\t\t\t\tdocument.domain;\n\n\t\t\t\t\t// Stop here if there is no more domain parts available.\n\t\t\t\t\tif ( !domain )\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdocument.domain = domain;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!domain;\n\t\t},\n\n\t\t/**\n\t\t * Buffers `input` events (or any `input` calls)\n\t\t * and triggers `output` not more often than once per `minInterval`.\n\t\t *\n\t\t *\t\tvar buffer = CKEDITOR.tools.eventsBuffer( 200, function() {\n\t\t *\t\t\tconsole.log( 'foo!' );\n\t\t *\t\t} );\n\t\t *\n\t\t *\t\tbuffer.input();\n\t\t *\t\t// 'foo!' logged immediately.\n\t\t *\t\tbuffer.input();\n\t\t *\t\t// Nothing logged.\n\t\t *\t\tbuffer.input();\n\t\t *\t\t// Nothing logged.\n\t\t *\t\t// ... after 200ms a single 'foo!' will be logged.\n\t\t *\n\t\t * Can be easily used with events:\n\t\t *\n\t\t *\t\tvar buffer = CKEDITOR.tools.eventsBuffer( 200, function() {\n\t\t *\t\t\tconsole.log( 'foo!' );\n\t\t *\t\t} );\n\t\t *\n\t\t *\t\teditor.on( 'key', buffer.input );\n\t\t *\t\t// Note: There is no need to bind buffer as a context.\n\t\t *\n\t\t * @since 4.2.1\n\t\t * @param {Number} minInterval Minimum interval between `output` calls in milliseconds.\n\t\t * @param {Function} output Function that will be executed as `output`.\n\t\t * @param {Object} [scopeObj] The object used to scope the listener call (the `this` object).\n\t\t * @returns {Object}\n\t\t * @returns {Function} return.input Buffer's input method.\n\t\t * @returns {Function} return.reset Resets buffered events &mdash; `output` will not be executed\n\t\t * until next `input` is triggered.\n\t\t */\n\t\teventsBuffer: function( minInterval, output, scopeObj ) {\n\t\t\tvar scheduled,\n\t\t\t\tlastOutput = 0;\n\n\t\t\tfunction triggerOutput() {\n\t\t\t\tlastOutput = ( new Date() ).getTime();\n\t\t\t\tscheduled = false;\n\t\t\t\tif ( scopeObj ) {\n\t\t\t\t\toutput.call( scopeObj );\n\t\t\t\t} else {\n\t\t\t\t\toutput();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tinput: function() {\n\t\t\t\t\tif ( scheduled )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar diff = ( new Date() ).getTime() - lastOutput;\n\n\t\t\t\t\t// If less than minInterval passed after last check,\n\t\t\t\t\t// schedule next for minInterval after previous one.\n\t\t\t\t\tif ( diff < minInterval )\n\t\t\t\t\t\tscheduled = setTimeout( triggerOutput, minInterval - diff );\n\t\t\t\t\telse\n\t\t\t\t\t\ttriggerOutput();\n\t\t\t\t},\n\n\t\t\t\treset: function() {\n\t\t\t\t\tif ( scheduled )\n\t\t\t\t\t\tclearTimeout( scheduled );\n\n\t\t\t\t\tscheduled = lastOutput = 0;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Enables HTML5 elements for older browsers (IE8) in the passed document.\n\t\t *\n\t\t * In IE8 this method can also be executed on a document fragment.\n\t\t *\n\t\t * **Note:** This method has to be used in the `<head>` section of the document.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {Object} doc Native `Document` or `DocumentFragment` in which the elements will be enabled.\n\t\t * @param {Boolean} [withAppend] Whether to append created elements to the `doc`.\n\t\t */\n\t\tenableHtml5Elements: function( doc, withAppend ) {\n\t\t\tvar els = 'abbr,article,aside,audio,bdi,canvas,data,datalist,details,figcaption,figure,footer,header,hgroup,main,mark,meter,nav,output,progress,section,summary,time,video'.split( ',' ),\n\t\t\t\ti = els.length,\n\t\t\t\tel;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tel = doc.createElement( els[ i ] );\n\t\t\t\tif ( withAppend )\n\t\t\t\t\tdoc.appendChild( el );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if any of the `arr` items match the provided regular expression.\n\t\t *\n\t\t * @param {Array} arr The array whose items will be checked.\n\t\t * @param {RegExp} regexp The regular expression.\n\t\t * @returns {Boolean} Returns `true` for the first occurrence of the search pattern.\n\t\t * @since 4.4\n\t\t */\n\t\tcheckIfAnyArrayItemMatches: function( arr, regexp ) {\n\t\t\tfor ( var i = 0, l = arr.length; i < l; ++i ) {\n\t\t\t\tif ( arr[ i ].match( regexp ) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Checks if any of the `obj` properties match the provided regular expression.\n\t\t *\n\t\t * @param obj The object whose properties will be checked.\n\t\t * @param {RegExp} regexp The regular expression.\n\t\t * @returns {Boolean} Returns `true` for the first occurrence of the search pattern.\n\t\t * @since 4.4\n\t\t */\n\t\tcheckIfAnyObjectPropertyMatches: function( obj, regexp ) {\n\t\t\tfor ( var i in obj ) {\n\t\t\t\tif ( i.match( regexp ) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * The data URI of a transparent image. May be used e.g. in HTML as an image source or in CSS in `url()`.\n\t\t *\n\t\t * @since 4.4\n\t\t * @readonly\n\t\t */\n\t\ttransparentImageData: 'data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==',\n\n\n\t\t/**\n\t\t * Returns the value of the cookie with a given name or `null` if the cookie is not found.\n\t\t *\n\t\t * @since 4.5.6\n\t\t * @param {String} name\n\t\t * @returns {String}\n\t\t */\n\t\tgetCookie: function( name ) {\n\t\t\tname = name.toLowerCase();\n\t\t\tvar parts = document.cookie.split( ';' );\n\t\t\tvar pair, key;\n\n\t\t\tfor ( var i = 0; i < parts.length; i++ ) {\n\t\t\t\tpair = parts[ i ].split( '=' );\n\t\t\t\tkey = decodeURIComponent( CKEDITOR.tools.trim( pair[ 0 ] ).toLowerCase() );\n\n\t\t\t\tif ( key === name ) {\n\t\t\t\t\treturn decodeURIComponent( pair.length > 1 ? pair[ 1 ] : '' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Sets the value of the cookie with a given name.\n\t\t *\n\t\t * @since 4.5.6\n\t\t * @param {String} name\n\t\t * @param {String} value\n\t\t */\n\t\tsetCookie: function( name, value ) {\n\t\t\tdocument.cookie = encodeURIComponent( name ) + '=' + encodeURIComponent( value ) + ';path=/';\n\t\t},\n\n\t\t/**\n\t\t * Returns the CSRF token value. The value is a hash stored in `document.cookie`\n\t\t * under the `ckCsrfToken` key. The CSRF token can be used to secure the communication\n\t\t * between the web browser and the server, i.e. for the file upload feature in the editor.\n\t\t *\n\t\t * @since 4.5.6\n\t\t * @returns {String}\n\t\t */\n\t\tgetCsrfToken: function() {\n\t\t\tvar token = CKEDITOR.tools.getCookie( TOKEN_COOKIE_NAME );\n\n\t\t\tif ( !token || token.length != TOKEN_LENGTH ) {\n\t\t\t\ttoken = generateToken( TOKEN_LENGTH );\n\t\t\t\tCKEDITOR.tools.setCookie( TOKEN_COOKIE_NAME, token );\n\t\t\t}\n\n\t\t\treturn token;\n\t\t},\n\n\t\t/**\n\t\t * Returns an escaped CSS selector. `CSS.escape()` is used if defined, leading digit is escaped otherwise.\n\t\t *\n\t\t * @since 4.5.10\n\t\t * @param {String} selector A CSS selector to escape.\n\t\t * @returns {String} An escaped selector.\n\t\t */\n\t\tescapeCss: function( selector ) {\n\t\t\t// Invalid input.\n\t\t\tif ( !selector ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\t// CSS.escape() can be used.\n\t\t\tif ( window.CSS && CSS.escape ) {\n\t\t\t\treturn CSS.escape( selector );\n\t\t\t}\n\n\t\t\t// Simple leading digit escape.\n\t\t\tif ( !isNaN( parseInt( selector.charAt( 0 ), 10 ) ) ) {\n\t\t\t\treturn '\\\\3' + selector.charAt( 0 ) + ' ' + selector.substring( 1, selector.length );\n\t\t\t}\n\n\t\t\treturn selector;\n\t\t}\n\t};\n\n\t// Generates a CSRF token with a given length.\n\t//\n\t// @since 4.5.6\n\t// @param {Number} length\n\t// @returns {string}\n\tfunction generateToken( length ) {\n\t\tvar randValues = [];\n\t\tvar result = '';\n\n\t\tif ( window.crypto && window.crypto.getRandomValues ) {\n\t\t\trandValues = new Uint8Array( length );\n\t\t\twindow.crypto.getRandomValues( randValues );\n\t\t} else {\n\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\trandValues.push( Math.floor( Math.random() * 256 ) );\n\t\t\t}\n\t\t}\n\n\t\tfor ( var j = 0; j < randValues.length; j++ ) {\n\t\t\tvar character = tokenCharset.charAt( randValues[ j ] % tokenCharset.length );\n\t\t\tresult += Math.random() > 0.5 ? character.toUpperCase() : character;\n\t\t}\n\n\t\treturn result;\n\t}\n} )();\n\n// PACKAGER_RENAME( CKEDITOR.tools )\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/tools.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dtd} object, which holds the DTD\n *\t\tmapping for XHTML 1.0 Transitional. This file was automatically\n *\t\tgenerated from the file: xhtml1-transitional.dtd.\n */\n\n/**\n * Holds and object representation of the HTML DTD to be used by the\n * editor in its internal operations.\n *\n * Each element in the DTD is represented by a property in this object. Each\n * property contains the list of elements that can be contained by the element.\n * Text is represented by the `#` property.\n *\n * Several special grouping properties are also available. Their names start\n * with the `$` character.\n *\n *\t\t// Check if <div> can be contained in a <p> element.\n *\t\talert( !!CKEDITOR.dtd[ 'p' ][ 'div' ] ); // false\n *\n *\t\t// Check if <p> can be contained in a <div> element.\n *\t\talert( !!CKEDITOR.dtd[ 'div' ][ 'p' ] ); // true\n *\n *\t\t// Check if <p> is a block element.\n *\t\talert( !!CKEDITOR.dtd.$block[ 'p' ] ); // true\n *\n * @class CKEDITOR.dtd\n * @singleton\n */\nCKEDITOR.dtd = ( function() {\n\t'use strict';\n\n\tvar X = CKEDITOR.tools.extend,\n\t\t// Subtraction rest of sets, from the first set.\n\t\tY = function( source, removed ) {\n\t\t\tvar substracted = CKEDITOR.tools.clone( source );\n\t\t\tfor ( var i = 1; i < arguments.length; i++ ) {\n\t\t\t\tremoved = arguments[ i ];\n\t\t\t\tfor ( var name in removed )\n\t\t\t\t\tdelete substracted[ name ];\n\t\t\t}\n\t\t\treturn substracted;\n\t\t};\n\n\t// Phrasing elements.\n\t// P = { a: 1, em: 1, strong: 1, small: 1, abbr: 1, dfn: 1, i: 1, b: 1, s: 1,\n\t//\t\tu: 1, code: 1, 'var': 1, samp: 1, kbd: 1, sup: 1, sub: 1, q: 1, cite: 1,\n\t//\t\tspan: 1, bdo: 1, bdi: 1, br: 1, wbr: 1, ins: 1, del: 1, img: 1, embed: 1,\n\t//\t\tobject: 1, iframe: 1, map: 1, area: 1, script: 1, noscript: 1, ruby: 1,\n\t//\t\tvideo: 1, audio: 1, input: 1, textarea: 1, select: 1, button: 1, label: 1,\n\t//\t\toutput: 1, keygen: 1, progress: 1, command: 1, canvas: 1, time: 1,\n\t//\t\tmeter: 1, detalist: 1 },\n\n\t// Flow elements.\n\t// F = { a: 1, p: 1, hr: 1, pre: 1, ul: 1, ol: 1, dl: 1, div: 1, h1: 1, h2: 1,\n\t//\t\th3: 1, h4: 1, h5: 1, h6: 1, hgroup: 1, address: 1, blockquote: 1, ins: 1,\n\t//\t\tdel: 1, object: 1, map: 1, noscript: 1, section: 1, nav: 1, article: 1,\n\t//\t\taside: 1, header: 1, footer: 1, video: 1, audio: 1, figure: 1, table: 1,\n\t//\t\tform: 1, fieldset: 1, menu: 1, canvas: 1, details:1 },\n\n\t// Text can be everywhere.\n\t// X( P, T );\n\t// Flow elements set consists of phrasing elements set.\n\t// X( F, P );\n\n\tvar P = {}, F = {},\n\t\t// Intersection of flow elements set and phrasing elements set.\n\t\tPF = {\n\t\t\ta: 1, abbr: 1, area: 1, audio: 1, b: 1, bdi: 1, bdo: 1, br: 1, button: 1, canvas: 1, cite: 1,\n\t\t\tcode: 1, command: 1, datalist: 1, del: 1, dfn: 1, em: 1, embed: 1, i: 1, iframe: 1, img: 1,\n\t\t\tinput: 1, ins: 1, kbd: 1, keygen: 1, label: 1, map: 1, mark: 1, meter: 1, noscript: 1, object: 1,\n\t\t\toutput: 1, progress: 1, q: 1, ruby: 1, s: 1, samp: 1, script: 1, select: 1, small: 1, span: 1,\n\t\t\tstrong: 1, sub: 1, sup: 1, textarea: 1, time: 1, u: 1, 'var': 1, video: 1, wbr: 1\n\t\t},\n\t\t// F - PF (Flow Only).\n\t\tFO = {\n\t\t\taddress: 1, article: 1, aside: 1, blockquote: 1, details: 1, div: 1, dl: 1, fieldset: 1,\n\t\t\tfigure: 1, footer: 1, form: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, header: 1, hgroup: 1,\n\t\t\thr: 1, main: 1, menu: 1, nav: 1, ol: 1, p: 1, pre: 1, section: 1, table: 1, ul: 1\n\t\t},\n\t\t// Metadata elements.\n\t\tM = { command: 1, link: 1, meta: 1, noscript: 1, script: 1, style: 1 },\n\t\t// Empty.\n\t\tE = {},\n\t\t// Text.\n\t\tT = { '#': 1 },\n\n\t\t// Deprecated phrasing elements.\n\t\tDP = { acronym: 1, applet: 1, basefont: 1, big: 1, font: 1, isindex: 1, strike: 1, style: 1, tt: 1 }, // TODO remove \"style\".\n\t\t// Deprecated flow only elements.\n\t\tDFO = { center: 1, dir: 1, noframes: 1 };\n\n\t// Phrasing elements := PF + T + DP\n\tX( P, PF, T, DP );\n\t// Flow elements := FO + P + DFO\n\tX( F, FO, P, DFO );\n\n\tvar dtd = {\n\t\ta: Y( P, { a: 1, button: 1 } ), // Treat as normal inline element (not a transparent one).\n\t\tabbr: P,\n\t\taddress: F,\n\t\tarea: E,\n\t\tarticle: F,\n\t\taside: F,\n\t\taudio: X( { source: 1, track: 1 }, F ),\n\t\tb: P,\n\t\tbase: E,\n\t\tbdi: P,\n\t\tbdo: P,\n\t\tblockquote: F,\n\t\tbody: F,\n\t\tbr: E,\n\t\tbutton: Y( P, { a: 1, button: 1 } ),\n\t\tcanvas: P, // Treat as normal inline element (not a transparent one).\n\t\tcaption: F,\n\t\tcite: P,\n\t\tcode: P,\n\t\tcol: E,\n\t\tcolgroup: { col: 1 },\n\t\tcommand: E,\n\t\tdatalist: X( { option: 1 }, P ),\n\t\tdd: F,\n\t\tdel: P, // Treat as normal inline element (not a transparent one).\n\t\tdetails: X( { summary: 1 }, F ),\n\t\tdfn: P,\n\t\tdiv: F,\n\t\tdl: { dt: 1, dd: 1 },\n\t\tdt: F,\n\t\tem: P,\n\t\tembed: E,\n\t\tfieldset: X( { legend: 1 }, F ),\n\t\tfigcaption: F,\n\t\tfigure: X( { figcaption: 1 }, F ),\n\t\tfooter: F,\n\t\tform: F,\n\t\th1: P,\n\t\th2: P,\n\t\th3: P,\n\t\th4: P,\n\t\th5: P,\n\t\th6: P,\n\t\thead: X( { title: 1, base: 1 }, M ),\n\t\theader: F,\n\t\thgroup: { h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1 },\n\t\thr: E,\n\t\thtml: X( { head: 1, body: 1 }, F, M ), // Head and body are optional...\n\t\ti: P,\n\t\tiframe: T,\n\t\timg: E,\n\t\tinput: E,\n\t\tins: P, // Treat as normal inline element (not a transparent one).\n\t\tkbd: P,\n\t\tkeygen: E,\n\t\tlabel: P,\n\t\tlegend: P,\n\t\tli: F,\n\t\tlink: E,\n\t\t// Can't be a descendant of article, aside, footer, header, nav, but we don't need this\n\t\t// complication. As well as checking if it's used only once.\n\t\tmain: F,\n\t\tmap: F,\n\t\tmark: P, // Treat as normal inline element (not a transparent one).\n\t\tmenu: X( { li: 1 }, F ),\n\t\tmeta: E,\n\t\tmeter: Y( P, { meter: 1 } ),\n\t\tnav: F,\n\t\tnoscript: X( { link: 1, meta: 1, style: 1 }, P ), // Treat as normal inline element (not a transparent one).\n\t\tobject: X( { param: 1 }, P ), // Treat as normal inline element (not a transparent one).\n\t\tol: { li: 1 },\n\t\toptgroup: { option: 1 },\n\t\toption: T,\n\t\toutput: P,\n\t\tp: P,\n\t\tparam: E,\n\t\tpre: P,\n\t\tprogress: Y( P, { progress: 1 } ),\n\t\tq: P,\n\t\trp: P,\n\t\trt: P,\n\t\truby: X( { rp: 1, rt: 1 }, P ),\n\t\ts: P,\n\t\tsamp: P,\n\t\tscript: T,\n\t\tsection: F,\n\t\tselect: { optgroup: 1, option: 1 },\n\t\tsmall: P,\n\t\tsource: E,\n\t\tspan: P,\n\t\tstrong: P,\n\t\tstyle: T,\n\t\tsub: P,\n\t\tsummary: X( { h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1 }, P ),\n\t\tsup: P,\n\t\ttable: { caption: 1, colgroup: 1, thead: 1, tfoot: 1, tbody: 1, tr: 1 },\n\t\ttbody: { tr: 1 },\n\t\ttd: F,\n\t\ttextarea: T,\n\t\ttfoot: { tr: 1 },\n\t\tth: F,\n\t\tthead: { tr: 1 },\n\t\ttime: Y( P, { time: 1 } ),\n\t\ttitle: T,\n\t\ttr: { th: 1, td: 1 },\n\t\ttrack: E,\n\t\tu: P,\n\t\tul: { li: 1 },\n\t\t'var': P,\n\t\tvideo: X( { source: 1, track: 1 }, F ),\n\t\twbr: E,\n\n\t\t// Deprecated tags.\n\t\tacronym: P,\n\t\tapplet: X( { param: 1 }, F ),\n\t\tbasefont: E,\n\t\tbig: P,\n\t\tcenter: F,\n\t\tdialog: E,\n\t\tdir: { li: 1 },\n\t\tfont: P,\n\t\tisindex: E,\n\t\tnoframes: F,\n\t\tstrike: P,\n\t\ttt: P\n\t};\n\n\tX( dtd, {\n\t\t/**\n\t\t * List of block elements, like `<p>` or `<div>`.\n\t\t */\n\t\t$block: X( { audio: 1, dd: 1, dt: 1, figcaption: 1, li: 1, video: 1 }, FO, DFO ),\n\n\t\t/**\n\t\t * List of elements that contain other blocks, in which block-level operations should be limited,\n\t\t * this property is not intended to be checked directly, use {@link CKEDITOR.dom.elementPath#blockLimit} instead.\n\t\t *\n\t\t * Some examples of editor behaviors that are impacted by block limits:\n\t\t *\n\t\t * * Enter key never split a block-limit element;\n\t\t * * Style application is constraint by the block limit of the current selection.\n\t\t * * Pasted html will be inserted into the block limit of the current selection.\n\t\t *\n\t\t * **Note:** As an exception `<li>` is not considered as a block limit, as it's generally used as a text block.\n\t\t */\n\t\t$blockLimit: {\n\t\t\tarticle: 1, aside: 1, audio: 1, body: 1, caption: 1, details: 1, dir: 1, div: 1, dl: 1,\n\t\t\tfieldset: 1, figcaption: 1, figure: 1, footer: 1, form: 1, header: 1, hgroup: 1, main: 1, menu: 1, nav: 1,\n\t\t\tol: 1, section: 1, table: 1, td: 1, th: 1, tr: 1, ul: 1, video: 1\n\t\t},\n\n\t\t/**\n\t\t * List of elements that contain character data.\n\t\t */\n\t\t$cdata: { script: 1, style: 1 },\n\n\t\t/**\n\t\t * List of elements that are accepted as inline editing hosts.\n\t\t */\n\t\t$editable: {\n\t\t\taddress: 1, article: 1, aside: 1, blockquote: 1, body: 1, details: 1, div: 1, fieldset: 1,\n\t\t\tfigcaption: 1, footer: 1, form: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, header: 1, hgroup: 1,\n\t\t\tmain: 1, nav: 1, p: 1, pre: 1, section: 1\n\t\t},\n\n\t\t/**\n\t\t * List of empty (self-closing) elements, like `<br>` or `<img>`.\n\t\t */\n\t\t$empty: {\n\t\t\tarea: 1, base: 1, basefont: 1, br: 1, col: 1, command: 1, dialog: 1, embed: 1, hr: 1, img: 1,\n\t\t\tinput: 1, isindex: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, track: 1, wbr: 1\n\t\t},\n\n\t\t/**\n\t\t * List of inline (`<span>` like) elements.\n\t\t */\n\t\t$inline: P,\n\n\t\t/**\n\t\t * List of list root elements.\n\t\t */\n\t\t$list: { dl: 1, ol: 1, ul: 1 },\n\n\t\t/**\n\t\t * List of list item elements, like `<li>` or `<dd>`.\n\t\t */\n\t\t$listItem: { dd: 1, dt: 1, li: 1 },\n\n\t\t/**\n\t\t * List of elements which may live outside body.\n\t\t */\n\t\t$nonBodyContent: X( { body: 1, head: 1, html: 1 }, dtd.head ),\n\n\t\t/**\n\t\t * Elements that accept text nodes, but are not possible to edit into the browser.\n\t\t */\n\t\t$nonEditable: {\n\t\t\tapplet: 1, audio: 1, button: 1, embed: 1, iframe: 1, map: 1, object: 1, option: 1,\n\t\t\tparam: 1, script: 1, textarea: 1, video: 1\n\t\t},\n\n\t\t/**\n\t\t * Elements that are considered objects, therefore selected as a whole in the editor.\n\t\t */\n\t\t$object: {\n\t\t\tapplet: 1, audio: 1, button: 1, hr: 1, iframe: 1, img: 1, input: 1, object: 1, select: 1,\n\t\t\ttable: 1, textarea: 1, video: 1\n\t\t},\n\n\t\t/**\n\t\t * List of elements that can be ignored if empty, like `<b>` or `<span>`.\n\t\t */\n\t\t$removeEmpty: {\n\t\t\tabbr: 1, acronym: 1, b: 1, bdi: 1, bdo: 1, big: 1, cite: 1, code: 1, del: 1, dfn: 1,\n\t\t\tem: 1, font: 1, i: 1, ins: 1, label: 1, kbd: 1, mark: 1, meter: 1, output: 1, q: 1, ruby: 1, s: 1,\n\t\t\tsamp: 1, small: 1, span: 1, strike: 1, strong: 1, sub: 1, sup: 1, time: 1, tt: 1, u: 1, 'var': 1\n\t\t},\n\n\t\t/**\n\t\t * List of elements that have tabindex set to zero by default.\n\t\t */\n\t\t$tabIndex: { a: 1, area: 1, button: 1, input: 1, object: 1, select: 1, textarea: 1 },\n\n\t\t/**\n\t\t * List of elements used inside the `<table>` element, like `<tbody>` or `<td>`.\n\t\t */\n\t\t$tableContent: { caption: 1, col: 1, colgroup: 1, tbody: 1, td: 1, tfoot: 1, th: 1, thead: 1, tr: 1 },\n\n\t\t/**\n\t\t * List of \"transparent\" elements. See [W3C's definition of \"transparent\" element](http://dev.w3.org/html5/markup/terminology.html#transparent).\n\t\t */\n\t\t$transparent: { a: 1, audio: 1, canvas: 1, del: 1, ins: 1, map: 1, noscript: 1, object: 1, video: 1 },\n\n\t\t/**\n\t\t * List of elements that are not to exist standalone that must live under it's parent element.\n\t\t */\n\t\t$intermediate: {\n\t\t\tcaption: 1, colgroup: 1, dd: 1, dt: 1, figcaption: 1, legend: 1, li: 1, optgroup: 1,\n\t\t\toption: 1, rp: 1, rt: 1, summary: 1, tbody: 1, td: 1, tfoot: 1, th: 1, thead: 1, tr: 1\n\t\t}\n\t} );\n\n\treturn dtd;\n} )();\n\n// PACKAGER_RENAME( CKEDITOR.dtd )\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dtd.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.event} class, which\n *\t\trepresents the a native DOM event object.\n */\n\n/**\n * Represents a native DOM event object.\n *\n * @class\n * @constructor Creates an event class instance.\n * @param {Object} domEvent A native DOM event object.\n */\nCKEDITOR.dom.event = function( domEvent ) {\n\t/**\n\t * The native DOM event object represented by this class instance.\n\t *\n\t * @readonly\n\t */\n\tthis.$ = domEvent;\n};\n\nCKEDITOR.dom.event.prototype = {\n\t/**\n\t * Gets the key code associated to the event.\n\t *\n\t *\t\talert( event.getKey() ); // '65' is 'a' has been pressed\n\t *\n\t * @returns {Number} The key code.\n\t */\n\tgetKey: function() {\n\t\treturn this.$.keyCode || this.$.which;\n\t},\n\n\t/**\n\t * Gets a number represeting the combination of the keys pressed during the\n\t * event. It is the sum with the current key code and the {@link CKEDITOR#CTRL},\n\t * {@link CKEDITOR#SHIFT} and {@link CKEDITOR#ALT} constants.\n\t *\n\t *\t\talert( event.getKeystroke() == 65 );\t\t\t\t\t\t\t\t\t// 'a' key\n\t *\t\talert( event.getKeystroke() == CKEDITOR.CTRL + 65 );\t\t\t\t\t// CTRL + 'a' key\n\t *\t\talert( event.getKeystroke() == CKEDITOR.CTRL + CKEDITOR.SHIFT + 65 );\t// CTRL + SHIFT + 'a' key\n\t *\n\t * @returns {Number} The number representing the keys combination.\n\t */\n\tgetKeystroke: function() {\n\t\tvar keystroke = this.getKey();\n\n\t\tif ( this.$.ctrlKey || this.$.metaKey )\n\t\t\tkeystroke += CKEDITOR.CTRL;\n\n\t\tif ( this.$.shiftKey )\n\t\t\tkeystroke += CKEDITOR.SHIFT;\n\n\t\tif ( this.$.altKey )\n\t\t\tkeystroke += CKEDITOR.ALT;\n\n\t\treturn keystroke;\n\t},\n\n\t/**\n\t * Prevents the original behavior of the event to happen. It can optionally\n\t * stop propagating the event in the event chain.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t *\t\telement.on( 'click', function( ev ) {\n\t *\t\t\t// The DOM event object is passed by the 'data' property.\n\t *\t\t\tvar domEvent = ev.data;\n\t *\t\t\t// Prevent the click to chave any effect in the element.\n\t *\t\t\tdomEvent.preventDefault();\n\t *\t\t} );\n\t *\n\t * @param {Boolean} [stopPropagation=false] Stop propagating this event in the\n\t * event chain.\n\t */\n\tpreventDefault: function( stopPropagation ) {\n\t\tvar $ = this.$;\n\t\tif ( $.preventDefault )\n\t\t\t$.preventDefault();\n\t\telse\n\t\t\t$.returnValue = false;\n\n\t\tif ( stopPropagation )\n\t\t\tthis.stopPropagation();\n\t},\n\n\t/**\n\t * Stops this event propagation in the event chain.\n\t */\n\tstopPropagation: function() {\n\t\tvar $ = this.$;\n\t\tif ( $.stopPropagation )\n\t\t\t$.stopPropagation();\n\t\telse\n\t\t\t$.cancelBubble = true;\n\t},\n\n\t/**\n\t * Returns the DOM node where the event was targeted to.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t *\t\telement.on( 'click', function( ev ) {\n\t *\t\t\t// The DOM event object is passed by the 'data' property.\n\t *\t\t\tvar domEvent = ev.data;\n\t *\t\t\t// Add a CSS class to the event target.\n\t *\t\t\tdomEvent.getTarget().addClass( 'clicked' );\n\t *\t\t} );\n\t *\n\t * @returns {CKEDITOR.dom.node} The target DOM node.\n\t */\n\tgetTarget: function() {\n\t\tvar rawNode = this.$.target || this.$.srcElement;\n\t\treturn rawNode ? new CKEDITOR.dom.node( rawNode ) : null;\n\t},\n\n\t/**\n\t * Returns an integer value that indicates the current processing phase of an event.\n\t * For browsers that doesn't support event phase, {@link CKEDITOR#EVENT_PHASE_AT_TARGET} is always returned.\n\t *\n\t * @returns {Number} One of {@link CKEDITOR#EVENT_PHASE_CAPTURING},\n\t * {@link CKEDITOR#EVENT_PHASE_AT_TARGET}, or {@link CKEDITOR#EVENT_PHASE_BUBBLING}.\n\t */\n\tgetPhase: function() {\n\t\treturn this.$.eventPhase || 2;\n\t},\n\n\t/**\n\t * Retrieves the coordinates of the mouse pointer relative to the top-left\n\t * corner of the document, in mouse related event.\n\t *\n\t *\t\telement.on( 'mousemouse', function( ev ) {\n\t *\t\t\tvar pageOffset = ev.data.getPageOffset();\n\t *\t\t\talert( pageOffset.x );\t\t\t// page offset X\n\t *\t\t\talert( pageOffset.y );\t\t\t// page offset Y\n\t *     } );\n\t *\n\t * @returns {Object} The object contains the position.\n\t * @returns {Number} return.x\n\t * @returns {Number} return.y\n\t */\n\tgetPageOffset: function() {\n\t\tvar doc = this.getTarget().getDocument().$;\n\t\tvar pageX = this.$.pageX || this.$.clientX + ( doc.documentElement.scrollLeft || doc.body.scrollLeft );\n\t\tvar pageY = this.$.pageY || this.$.clientY + ( doc.documentElement.scrollTop || doc.body.scrollTop );\n\t\treturn { x: pageX, y: pageY };\n\t}\n};\n\n// For the followind constants, we need to go over the Unicode boundaries\n// (0x10FFFF) to avoid collision.\n\n/**\n * CTRL key (0x110000).\n *\n * @readonly\n * @property {Number} [=0x110000]\n * @member CKEDITOR\n */\nCKEDITOR.CTRL = 0x110000;\n\n/**\n * SHIFT key (0x220000).\n *\n * @readonly\n * @property {Number} [=0x220000]\n * @member CKEDITOR\n */\nCKEDITOR.SHIFT = 0x220000;\n\n/**\n * ALT key (0x440000).\n *\n * @readonly\n * @property {Number} [=0x440000]\n * @member CKEDITOR\n */\nCKEDITOR.ALT = 0x440000;\n\n/**\n * Capturing phase.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.EVENT_PHASE_CAPTURING = 1;\n\n/**\n * Event at target.\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.EVENT_PHASE_AT_TARGET = 2;\n\n/**\n * Bubbling phase.\n *\n * @readonly\n * @property {Number} [=3]\n * @member CKEDITOR\n */\nCKEDITOR.EVENT_PHASE_BUBBLING = 3;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/event.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.editor} class, which is the base\n *\t\tfor other classes representing DOM objects.\n */\n\n/**\n * Represents a DOM object. This class is not intended to be used directly. It\n * serves as the base class for other classes representing specific DOM\n * objects.\n *\n * @class\n * @mixins CKEDITOR.event\n * @constructor Creates a domObject class instance.\n * @param {Object} nativeDomObject A native DOM object.\n */\nCKEDITOR.dom.domObject = function( nativeDomObject ) {\n\tif ( nativeDomObject ) {\n\t\t/**\n\t\t * The native DOM object represented by this class instance.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n\t\t *\t\talert( element.$.nodeType ); // '1'\n\t\t *\n\t\t * @readonly\n\t\t * @property {Object}\n\t\t */\n\t\tthis.$ = nativeDomObject;\n\t}\n};\n\nCKEDITOR.dom.domObject.prototype = ( function() {\n\t// Do not define other local variables here. We want to keep the native\n\t// listener closures as clean as possible.\n\n\tvar getNativeListener = function( domObject, eventName ) {\n\t\t\treturn function( domEvent ) {\n\t\t\t\t// In FF, when reloading the page with the editor focused, it may\n\t\t\t\t// throw an error because the CKEDITOR global is not anymore\n\t\t\t\t// available. So, we check it here first. (#2923)\n\t\t\t\tif ( typeof CKEDITOR != 'undefined' )\n\t\t\t\t\tdomObject.fire( eventName, new CKEDITOR.dom.event( domEvent ) );\n\t\t\t};\n\t\t};\n\n\treturn {\n\n\t\t/**\n\t\t * Gets the private `_` object which is bound to the native\n\t\t * DOM object using {@link #getCustomData}.\n\t\t *\n\t\t *\t\tvar elementA = new CKEDITOR.dom.element( nativeElement );\n\t\t *\t\telementA.getPrivate().value = 1;\n\t\t *\t\t...\n\t\t *\t\tvar elementB = new CKEDITOR.dom.element( nativeElement );\n\t\t *\t\telementB.getPrivate().value; // 1\n\t\t *\n\t\t * @returns {Object} The private object.\n\t\t */\n\t\tgetPrivate: function() {\n\t\t\tvar priv;\n\n\t\t\t// Get the main private object from the custom data. Create it if not defined.\n\t\t\tif ( !( priv = this.getCustomData( '_' ) ) )\n\t\t\t\tthis.setCustomData( '_', ( priv = {} ) );\n\n\t\t\treturn priv;\n\t\t},\n\n\t\t// Docs inherited from event.\n\t\ton: function( eventName ) {\n\t\t\t// We customize the \"on\" function here. The basic idea is that we'll have\n\t\t\t// only one listener for a native event, which will then call all listeners\n\t\t\t// set to the event.\n\n\t\t\t// Get the listeners holder object.\n\t\t\tvar nativeListeners = this.getCustomData( '_cke_nativeListeners' );\n\n\t\t\tif ( !nativeListeners ) {\n\t\t\t\tnativeListeners = {};\n\t\t\t\tthis.setCustomData( '_cke_nativeListeners', nativeListeners );\n\t\t\t}\n\n\t\t\t// Check if we have a listener for that event.\n\t\t\tif ( !nativeListeners[ eventName ] ) {\n\t\t\t\tvar listener = nativeListeners[ eventName ] = getNativeListener( this, eventName );\n\n\t\t\t\tif ( this.$.addEventListener )\n\t\t\t\t\tthis.$.addEventListener( eventName, listener, !!CKEDITOR.event.useCapture );\n\t\t\t\telse if ( this.$.attachEvent )\n\t\t\t\t\tthis.$.attachEvent( 'on' + eventName, listener );\n\t\t\t}\n\n\t\t\t// Call the original implementation.\n\t\t\treturn CKEDITOR.event.prototype.on.apply( this, arguments );\n\t\t},\n\n\t\t// Docs inherited from event.\n\t\tremoveListener: function( eventName ) {\n\t\t\t// Call the original implementation.\n\t\t\tCKEDITOR.event.prototype.removeListener.apply( this, arguments );\n\n\t\t\t// If we don't have listeners for this event, clean the DOM up.\n\t\t\tif ( !this.hasListeners( eventName ) ) {\n\t\t\t\tvar nativeListeners = this.getCustomData( '_cke_nativeListeners' );\n\t\t\t\tvar listener = nativeListeners && nativeListeners[ eventName ];\n\t\t\t\tif ( listener ) {\n\t\t\t\t\tif ( this.$.removeEventListener )\n\t\t\t\t\t\tthis.$.removeEventListener( eventName, listener, false );\n\t\t\t\t\telse if ( this.$.detachEvent )\n\t\t\t\t\t\tthis.$.detachEvent( 'on' + eventName, listener );\n\n\t\t\t\t\tdelete nativeListeners[ eventName ];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes any listener set on this object.\n\t\t *\n\t\t * To avoid memory leaks we must assure that there are no\n\t\t * references left after the object is no longer needed.\n\t\t */\n\t\tremoveAllListeners: function() {\n\t\t\tvar nativeListeners = this.getCustomData( '_cke_nativeListeners' );\n\t\t\tfor ( var eventName in nativeListeners ) {\n\t\t\t\tvar listener = nativeListeners[ eventName ];\n\t\t\t\tif ( this.$.detachEvent )\n\t\t\t\t\tthis.$.detachEvent( 'on' + eventName, listener );\n\t\t\t\telse if ( this.$.removeEventListener )\n\t\t\t\t\tthis.$.removeEventListener( eventName, listener, false );\n\n\t\t\t\tdelete nativeListeners[ eventName ];\n\t\t\t}\n\n\t\t\t// Remove events from events object so fire() method will not call\n\t\t\t// listeners (#11400).\n\t\t\tCKEDITOR.event.prototype.removeAllListeners.call( this );\n\t\t}\n\t};\n} )();\n\n( function( domObjectProto ) {\n\tvar customData = {};\n\n\tCKEDITOR.on( 'reset', function() {\n\t\tcustomData = {};\n\t} );\n\n\t/**\n\t * Determines whether the specified object is equal to the current object.\n\t *\n\t *\t\tvar doc = new CKEDITOR.dom.document( document );\n\t *\t\talert( doc.equals( CKEDITOR.document ) );\t// true\n\t *\t\talert( doc == CKEDITOR.document );\t\t\t// false\n\t *\n\t * @param {Object} object The object to compare with the current object.\n\t * @returns {Boolean} `true` if the object is equal.\n\t */\n\tdomObjectProto.equals = function( object ) {\n\t\t// Try/Catch to avoid IE permission error when object is from different document.\n\t\ttry {\n\t\t\treturn ( object && object.$ === this.$ );\n\t\t} catch ( er ) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Sets a data slot value for this object. These values are shared by all\n\t * instances pointing to that same DOM object.\n\t *\n\t * **Note:** The created data slot is only guaranteed to be available on this unique DOM node,\n\t * thus any wish to continue access to it from other element clones (either created by\n\t * clone node or from `innerHtml`) will fail. For such usage please use\n\t * {@link CKEDITOR.dom.element#setAttribute} instead.\n\t *\n\t * **Note**: This method does not work on text nodes prior to Internet Explorer 9.\n\t *\n\t *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n\t *\t\telement.setCustomData( 'hasCustomData', true );\n\t *\n\t * @param {String} key A key used to identify the data slot.\n\t * @param {Object} value The value to set to the data slot.\n\t * @returns {CKEDITOR.dom.domObject} This DOM object instance.\n\t * @chainable\n\t */\n\tdomObjectProto.setCustomData = function( key, value ) {\n\t\tvar expandoNumber = this.getUniqueId(),\n\t\t\tdataSlot = customData[ expandoNumber ] || ( customData[ expandoNumber ] = {} );\n\n\t\tdataSlot[ key ] = value;\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Gets the value set to a data slot in this object.\n\t *\n\t *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n\t *\t\talert( element.getCustomData( 'hasCustomData' ) );\t\t// e.g. 'true'\n\t *\t\talert( element.getCustomData( 'nonExistingKey' ) );\t\t// null\n\t *\n\t * @param {String} key The key used to identify the data slot.\n\t * @returns {Object} This value set to the data slot.\n\t */\n\tdomObjectProto.getCustomData = function( key ) {\n\t\tvar expandoNumber = this.$[ 'data-cke-expando' ],\n\t\t\tdataSlot = expandoNumber && customData[ expandoNumber ];\n\n\t\treturn ( dataSlot && key in dataSlot ) ? dataSlot[ key ] : null;\n\t};\n\n\t/**\n\t * Removes the value in the data slot under the given `key`.\n\t *\n\t * @param {String} key\n\t * @returns {Object} Removed value or `null` if not found.\n\t */\n\tdomObjectProto.removeCustomData = function( key ) {\n\t\tvar expandoNumber = this.$[ 'data-cke-expando' ],\n\t\t\tdataSlot = expandoNumber && customData[ expandoNumber ],\n\t\t\tretval, hadKey;\n\n\t\tif ( dataSlot ) {\n\t\t\tretval = dataSlot[ key ];\n\t\t\thadKey = key in dataSlot;\n\t\t\tdelete dataSlot[ key ];\n\t\t}\n\n\t\treturn hadKey ? retval : null;\n\t};\n\n\t/**\n\t * Removes any data stored in this object.\n\t * To avoid memory leaks we must assure that there are no\n\t * references left after the object is no longer needed.\n\t */\n\tdomObjectProto.clearCustomData = function() {\n\t\t// Clear all event listeners\n\t\tthis.removeAllListeners();\n\n\t\tvar expandoNumber = this.$[ 'data-cke-expando' ];\n\t\texpandoNumber && delete customData[ expandoNumber ];\n\t};\n\n\t/**\n\t * Gets an ID that can be used to identify this DOM object in\n\t * the running session.\n\t *\n\t * **Note**: This method does not work on text nodes prior to Internet Explorer 9.\n\t *\n\t * @returns {Number} A unique ID.\n\t */\n\tdomObjectProto.getUniqueId = function() {\n\t\treturn this.$[ 'data-cke-expando' ] || ( this.$[ 'data-cke-expando' ] = CKEDITOR.tools.getNextNumber() );\n\t};\n\n\t// Implement CKEDITOR.event.\n\tCKEDITOR.event.implementOn( domObjectProto );\n\n} )( CKEDITOR.dom.domObject.prototype );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/domobject.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.node} class which is the base\n *\t\tclass for classes that represent DOM nodes.\n */\n\n/**\n * Base class for classes representing DOM nodes. This constructor may return\n * an instance of a class that inherits from this class, like\n * {@link CKEDITOR.dom.element} or {@link CKEDITOR.dom.text}.\n *\n * @class\n * @extends CKEDITOR.dom.domObject\n * @constructor Creates a node class instance.\n * @param {Object} domNode A native DOM node.\n * @see CKEDITOR.dom.element\n * @see CKEDITOR.dom.text\n */\nCKEDITOR.dom.node = function( domNode ) {\n\tif ( domNode ) {\n\t\tvar type =\n\t\t\tdomNode.nodeType == CKEDITOR.NODE_DOCUMENT ? 'document' :\n\t\t\tdomNode.nodeType == CKEDITOR.NODE_ELEMENT ? 'element' :\n\t\t\tdomNode.nodeType == CKEDITOR.NODE_TEXT ? 'text' :\n\t\t\tdomNode.nodeType == CKEDITOR.NODE_COMMENT ? 'comment' :\n\t\t\tdomNode.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT ? 'documentFragment' :\n\t\t\t'domObject'; // Call the base constructor otherwise.\n\n\t\treturn new CKEDITOR.dom[ type ]( domNode );\n\t}\n\n\treturn this;\n};\n\nCKEDITOR.dom.node.prototype = new CKEDITOR.dom.domObject();\n\n/**\n * Element node type.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.NODE_ELEMENT = 1;\n\n/**\n * Document node type.\n *\n * @readonly\n * @property {Number} [=9]\n * @member CKEDITOR\n */\nCKEDITOR.NODE_DOCUMENT = 9;\n\n/**\n * Text node type.\n *\n * @readonly\n * @property {Number} [=3]\n * @member CKEDITOR\n */\nCKEDITOR.NODE_TEXT = 3;\n\n/**\n * Comment node type.\n *\n * @readonly\n * @property {Number} [=8]\n * @member CKEDITOR\n */\nCKEDITOR.NODE_COMMENT = 8;\n\n/**\n * Document fragment node type.\n *\n * @readonly\n * @property {Number} [=11]\n * @member CKEDITOR\n */\nCKEDITOR.NODE_DOCUMENT_FRAGMENT = 11;\n\n/**\n * Indicates that positions of both nodes are identical (this is the same node). See {@link CKEDITOR.dom.node#getPosition}.\n *\n * @readonly\n * @property {Number} [=0]\n * @member CKEDITOR\n */\nCKEDITOR.POSITION_IDENTICAL = 0;\n\n/**\n * Indicates that nodes are in different (detached) trees. See {@link CKEDITOR.dom.node#getPosition}.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.POSITION_DISCONNECTED = 1;\n\n/**\n * Indicates that the context node follows the other node. See {@link CKEDITOR.dom.node#getPosition}.\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.POSITION_FOLLOWING = 2;\n\n/**\n * Indicates that the context node precedes the other node. See {@link CKEDITOR.dom.node#getPosition}.\n *\n * @readonly\n * @property {Number} [=4]\n * @member CKEDITOR\n */\nCKEDITOR.POSITION_PRECEDING = 4;\n\n/**\n * Indicates that the context node is a descendant of the other node. See {@link CKEDITOR.dom.node#getPosition}.\n *\n * @readonly\n * @property {Number} [=8]\n * @member CKEDITOR\n */\nCKEDITOR.POSITION_IS_CONTAINED = 8;\n\n/**\n * Indicates that the context node contains the other node. See {@link CKEDITOR.dom.node#getPosition}.\n *\n * @readonly\n * @property {Number} [=16]\n * @member CKEDITOR\n */\nCKEDITOR.POSITION_CONTAINS = 16;\n\nCKEDITOR.tools.extend( CKEDITOR.dom.node.prototype, {\n\t/**\n\t * Makes this node a child of another element.\n\t *\n\t *\t\tvar p = new CKEDITOR.dom.element( 'p' );\n\t *\t\tvar strong = new CKEDITOR.dom.element( 'strong' );\n\t *\t\tstrong.appendTo( p );\n\t *\n\t *\t\t// Result: '<p><strong></strong></p>'.\n\t *\n\t * @param {CKEDITOR.dom.element} element The target element to which this node will be appended.\n\t * @returns {CKEDITOR.dom.element} The target element.\n\t */\n\tappendTo: function( element, toStart ) {\n\t\telement.append( this, toStart );\n\t\treturn element;\n\t},\n\n\t/**\n\t * Clones this node.\n\t *\n\t * **Note**: Values set by {#setCustomData} will not be available in the clone.\n\t *\n\t * @param {Boolean} [includeChildren=false] If `true` then all node's\n\t * children will be cloned recursively.\n\t * @param {Boolean} [cloneId=false] Whether ID attributes should be cloned, too.\n\t * @returns {CKEDITOR.dom.node} Clone of this node.\n\t */\n\tclone: function( includeChildren, cloneId ) {\n\t\tvar $clone = this.$.cloneNode( includeChildren );\n\n\t\t// The \"id\" attribute should never be cloned to avoid duplication.\n\t\tremoveIds( $clone );\n\n\t\tvar node = new CKEDITOR.dom.node( $clone );\n\n\t\t// On IE8 we need to fixed HTML5 node name, see details below.\n\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 &&\n\t\t\t( this.type == CKEDITOR.NODE_ELEMENT || this.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT ) ) {\n\t\t\trenameNodes( node );\n\t\t}\n\n\t\treturn node;\n\n\t\tfunction removeIds( node ) {\n\t\t\t// Reset data-cke-expando only when has been cloned (IE and only for some types of objects).\n\t\t\tif ( node[ 'data-cke-expando' ] )\n\t\t\t\tnode[ 'data-cke-expando' ] = false;\n\n\t\t\tif ( node.nodeType != CKEDITOR.NODE_ELEMENT && node.nodeType != CKEDITOR.NODE_DOCUMENT_FRAGMENT  )\n\t\t\t\treturn;\n\n\t\t\tif ( !cloneId && node.nodeType == CKEDITOR.NODE_ELEMENT )\n\t\t\t\tnode.removeAttribute( 'id', false );\n\n\t\t\tif ( includeChildren ) {\n\t\t\t\tvar childs = node.childNodes;\n\t\t\t\tfor ( var i = 0; i < childs.length; i++ )\n\t\t\t\t\tremoveIds( childs[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// IE8 rename HTML5 nodes by adding `:` at the begging of the tag name when the node is cloned,\n\t\t// so `<figure>` will be `<:figure>` after 'cloneNode'. We need to fix it (#13101).\n\t\tfunction renameNodes( node ) {\n\t\t\tif ( node.type != CKEDITOR.NODE_ELEMENT && node.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT )\n\t\t\t\treturn;\n\n\t\t\tif ( node.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT ) {\n\t\t\t\tvar name = node.getName();\n\t\t\t\tif ( name[ 0 ] == ':' ) {\n\t\t\t\t\tnode.renameNode( name.substring( 1 ) );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( includeChildren ) {\n\t\t\t\tfor ( var i = 0; i < node.getChildCount(); i++ )\n\t\t\t\t\trenameNodes( node.getChild( i ) );\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Checks if the node is preceded by any sibling.\n\t *\n\t * @returns {Boolean}\n\t */\n\thasPrevious: function() {\n\t\treturn !!this.$.previousSibling;\n\t},\n\n\t/**\n\t * Checks if the node is succeeded by any sibling.\n\t *\n\t * @returns {Boolean}\n\t */\n\thasNext: function() {\n\t\treturn !!this.$.nextSibling;\n\t},\n\n\t/**\n\t * Inserts this element after a node.\n\t *\n\t *\t\tvar em = new CKEDITOR.dom.element( 'em' );\n\t *\t\tvar strong = new CKEDITOR.dom.element( 'strong' );\n\t *\t\tstrong.insertAfter( em );\n\t *\n\t *\t\t// Result: '<em></em><strong></strong>'\n\t *\n\t * @param {CKEDITOR.dom.node} node The node that will precede this element.\n\t * @returns {CKEDITOR.dom.node} The node preceding this one after insertion.\n\t */\n\tinsertAfter: function( node ) {\n\t\tnode.$.parentNode.insertBefore( this.$, node.$.nextSibling );\n\t\treturn node;\n\t},\n\n\t/**\n\t * Inserts this element before a node.\n\t *\n\t *\t\tvar em = new CKEDITOR.dom.element( 'em' );\n\t *\t\tvar strong = new CKEDITOR.dom.element( 'strong' );\n\t *\t\tstrong.insertBefore( em );\n\t *\n\t *\t\t// result: '<strong></strong><em></em>'\n\t *\n\t * @param {CKEDITOR.dom.node} node The node that will succeed this element.\n\t * @returns {CKEDITOR.dom.node} The node being inserted.\n\t */\n\tinsertBefore: function( node ) {\n\t\tnode.$.parentNode.insertBefore( this.$, node.$ );\n\t\treturn node;\n\t},\n\n\t/**\n\t * Inserts a node before this node.\n\t *\n\t *\t\tvar em = new CKEDITOR.dom.element( 'em' );\n\t *\t\tvar strong = new CKEDITOR.dom.element( 'strong' );\n\t *\t\tstrong.insertBeforeMe( em );\n\t *\n\t *\t\t// result: '<em></em><strong></strong>'\n\t *\n\t * @param {CKEDITOR.dom.node} node The node that will preceed this element.\n\t * @returns {CKEDITOR.dom.node} The node being inserted.\n\t */\n\tinsertBeforeMe: function( node ) {\n\t\tthis.$.parentNode.insertBefore( node.$, this.$ );\n\t\treturn node;\n\t},\n\n\t/**\n\t * Retrieves a uniquely identifiable tree address for this node.\n\t * The tree address returned is an array of integers, with each integer\n\t * indicating a child index of a DOM node, starting from\n\t * `document.documentElement`.\n\t *\n\t * For example, assuming `<body>` is the second child\n\t * of `<html>` (`<head>` being the first),\n\t * and we would like to address the third child under the\n\t * fourth child of `<body>`, the tree address returned would be:\n\t * `[1, 3, 2]`.\n\t *\n\t * The tree address cannot be used for finding back the DOM tree node once\n\t * the DOM tree structure has been modified.\n\t *\n\t * @param {Boolean} [normalized=false] See {@link #getIndex}.\n\t * @returns {Array} The address.\n\t */\n\tgetAddress: function( normalized ) {\n\t\tvar address = [];\n\t\tvar $documentElement = this.getDocument().$.documentElement;\n\t\tvar node = this.$;\n\n\t\twhile ( node && node != $documentElement ) {\n\t\t\tvar parentNode = node.parentNode;\n\n\t\t\tif ( parentNode ) {\n\t\t\t\t// Get the node index. For performance, call getIndex\n\t\t\t\t// directly, instead of creating a new node object.\n\t\t\t\taddress.unshift( this.getIndex.call( { $: node }, normalized ) );\n\t\t\t}\n\n\t\t\tnode = parentNode;\n\t\t}\n\n\t\treturn address;\n\t},\n\n\t/**\n\t * Gets the document containing this element.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getById( 'example' );\n\t *\t\talert( element.getDocument().equals( CKEDITOR.document ) ); // true\n\t *\n\t * @returns {CKEDITOR.dom.document} The document.\n\t */\n\tgetDocument: function() {\n\t\treturn new CKEDITOR.dom.document( this.$.ownerDocument || this.$.parentNode.ownerDocument );\n\t},\n\n\t/**\n\t * Gets the index of a node in an array of its `parent.childNodes`.\n\t * Returns `-1` if a node does not have a parent or when the `normalized` argument is set to `true`\n\t * and the text node is empty and will be removed during the normalization.\n\t *\n\t * Let us assume having the following `childNodes` array:\n\t *\n\t *\t\t[ emptyText, element1, text, text, element2, emptyText2 ]\n\t *\n\t *\t\temptyText.getIndex()\t\t\t// 0\n\t *\t\temptyText.getIndex( true )\t\t// -1\n\t *\t\telement1.getIndex();\t\t\t// 1\n\t *\t\telement1.getIndex( true );\t\t// 0\n\t *\t\telement2.getIndex();\t\t\t// 4\n\t *\t\telement2.getIndex( true );\t\t// 2\n\t *\t\temptyText2.getIndex();\t\t\t// 5\n\t *\t\temptyText2.getIndex( true );\t// -1\n\t *\n\t * @param {Boolean} normalized When `true`, adjacent text nodes are merged and empty text nodes are removed.\n\t * @returns {Number} Index of a node or `-1` if a node does not have a parent or is removed during the normalization.\n\t */\n\tgetIndex: function( normalized ) {\n\t\t// Attention: getAddress depends on this.$\n\t\t// getIndex is called on a plain object: { $ : node }\n\n\t\tvar current = this.$,\n\t\t\tindex = -1,\n\t\t\tisNormalizing;\n\n\t\tif ( !this.$.parentNode )\n\t\t\treturn -1;\n\n\t\t// The idea is - all empty text nodes will be virtually merged into their adjacent text nodes.\n\t\t// If an empty text node does not have an adjacent non-empty text node we can return -1 straight away,\n\t\t// because it and all its sibling text nodes will be merged into an empty text node and then totally ignored.\n\t\tif ( normalized && current.nodeType == CKEDITOR.NODE_TEXT && isEmpty( current ) ) {\n\t\t\tvar adjacent = getAdjacentNonEmptyTextNode( current ) || getAdjacentNonEmptyTextNode( current, true );\n\n\t\t\tif ( !adjacent )\n\t\t\t\treturn -1;\n\t\t}\n\n\t\tdo {\n\t\t\t// Bypass blank node and adjacent text nodes.\n\t\t\tif ( normalized && current != this.$ && current.nodeType == CKEDITOR.NODE_TEXT && ( isNormalizing || isEmpty( current ) ) )\n\t\t\t\tcontinue;\n\n\t\t\tindex++;\n\t\t\tisNormalizing = current.nodeType == CKEDITOR.NODE_TEXT;\n\t\t}\n\t\twhile ( ( current = current.previousSibling ) );\n\n\t\treturn index;\n\n\t\tfunction getAdjacentNonEmptyTextNode( node, lookForward ) {\n\t\t\tvar sibling = lookForward ? node.nextSibling : node.previousSibling;\n\n\t\t\tif ( !sibling || sibling.nodeType != CKEDITOR.NODE_TEXT ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// If found a non-empty text node, then return it.\n\t\t\t// If not, then continue search.\n\t\t\treturn isEmpty( sibling ) ? getAdjacentNonEmptyTextNode( sibling, lookForward ) : sibling;\n\t\t}\n\n\t\t// Checks whether a text node is empty or is FCSeq string (which will be totally removed when normalizing).\n\t\tfunction isEmpty( textNode ) {\n\t\t\treturn !textNode.nodeValue || textNode.nodeValue == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE;\n\t\t}\n\t},\n\n\t/**\n\t * @todo\n\t */\n\tgetNextSourceNode: function( startFromSibling, nodeType, guard ) {\n\t\t// If \"guard\" is a node, transform it in a function.\n\t\tif ( guard && !guard.call ) {\n\t\t\tvar guardNode = guard;\n\t\t\tguard = function( node ) {\n\t\t\t\treturn !node.equals( guardNode );\n\t\t\t};\n\t\t}\n\n\t\tvar node = ( !startFromSibling && this.getFirst && this.getFirst() ),\n\t\t\tparent;\n\n\t\t// Guarding when we're skipping the current element( no children or 'startFromSibling' ).\n\t\t// send the 'moving out' signal even we don't actually dive into.\n\t\tif ( !node ) {\n\t\t\tif ( this.type == CKEDITOR.NODE_ELEMENT && guard && guard( this, true ) === false )\n\t\t\t\treturn null;\n\t\t\tnode = this.getNext();\n\t\t}\n\n\t\twhile ( !node && ( parent = ( parent || this ).getParent() ) ) {\n\t\t\t// The guard check sends the \"true\" paramenter to indicate that\n\t\t\t// we are moving \"out\" of the element.\n\t\t\tif ( guard && guard( parent, true ) === false )\n\t\t\t\treturn null;\n\n\t\t\tnode = parent.getNext();\n\t\t}\n\n\t\tif ( !node )\n\t\t\treturn null;\n\n\t\tif ( guard && guard( node ) === false )\n\t\t\treturn null;\n\n\t\tif ( nodeType && nodeType != node.type )\n\t\t\treturn node.getNextSourceNode( false, nodeType, guard );\n\n\t\treturn node;\n\t},\n\n\t/**\n\t * @todo\n\t */\n\tgetPreviousSourceNode: function( startFromSibling, nodeType, guard ) {\n\t\tif ( guard && !guard.call ) {\n\t\t\tvar guardNode = guard;\n\t\t\tguard = function( node ) {\n\t\t\t\treturn !node.equals( guardNode );\n\t\t\t};\n\t\t}\n\n\t\tvar node = ( !startFromSibling && this.getLast && this.getLast() ),\n\t\t\tparent;\n\n\t\t// Guarding when we're skipping the current element( no children or 'startFromSibling' ).\n\t\t// send the 'moving out' signal even we don't actually dive into.\n\t\tif ( !node ) {\n\t\t\tif ( this.type == CKEDITOR.NODE_ELEMENT && guard && guard( this, true ) === false )\n\t\t\t\treturn null;\n\t\t\tnode = this.getPrevious();\n\t\t}\n\n\t\twhile ( !node && ( parent = ( parent || this ).getParent() ) ) {\n\t\t\t// The guard check sends the \"true\" paramenter to indicate that\n\t\t\t// we are moving \"out\" of the element.\n\t\t\tif ( guard && guard( parent, true ) === false )\n\t\t\t\treturn null;\n\n\t\t\tnode = parent.getPrevious();\n\t\t}\n\n\t\tif ( !node )\n\t\t\treturn null;\n\n\t\tif ( guard && guard( node ) === false )\n\t\t\treturn null;\n\n\t\tif ( nodeType && node.type != nodeType )\n\t\t\treturn node.getPreviousSourceNode( false, nodeType, guard );\n\n\t\treturn node;\n\t},\n\n\t/**\n\t * Gets the node that preceeds this element in its parent's child list.\n\t *\n\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div><i>prev</i><b>Example</b></div>' );\n\t *\t\tvar first = element.getLast().getPrev();\n\t *\t\talert( first.getName() ); // 'i'\n\t *\n\t * @param {Function} [evaluator] Filtering the result node.\n\t * @returns {CKEDITOR.dom.node} The previous node or null if not available.\n\t */\n\tgetPrevious: function( evaluator ) {\n\t\tvar previous = this.$,\n\t\t\tretval;\n\t\tdo {\n\t\t\tprevious = previous.previousSibling;\n\n\t\t\t// Avoid returning the doc type node.\n\t\t\t// http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-412266927\n\t\t\tretval = previous && previous.nodeType != 10 && new CKEDITOR.dom.node( previous );\n\t\t}\n\t\twhile ( retval && evaluator && !evaluator( retval ) );\n\t\treturn retval;\n\t},\n\n\t/**\n\t * Gets the node that follows this element in its parent's child list.\n\t *\n\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div><b>Example</b><i>next</i></div>' );\n\t *\t\tvar last = element.getFirst().getNext();\n\t *\t\talert( last.getName() ); // 'i'\n\t *\n\t * @param {Function} [evaluator] Filtering the result node.\n\t * @returns {CKEDITOR.dom.node} The next node or null if not available.\n\t */\n\tgetNext: function( evaluator ) {\n\t\tvar next = this.$,\n\t\t\tretval;\n\t\tdo {\n\t\t\tnext = next.nextSibling;\n\t\t\tretval = next && new CKEDITOR.dom.node( next );\n\t\t}\n\t\twhile ( retval && evaluator && !evaluator( retval ) );\n\t\treturn retval;\n\t},\n\n\t/**\n\t * Gets the parent element for this node.\n\t *\n\t *\t\tvar node = editor.document.getBody().getFirst();\n\t *\t\tvar parent = node.getParent();\n\t *\t\talert( parent.getName() ); // 'body'\n\t *\n\t * @param {Boolean} [allowFragmentParent=false] Consider also parent node that is of\n\t * fragment type {@link CKEDITOR#NODE_DOCUMENT_FRAGMENT}.\n\t * @returns {CKEDITOR.dom.element} The parent element.\n\t */\n\tgetParent: function( allowFragmentParent ) {\n\t\tvar parent = this.$.parentNode;\n\t\treturn ( parent && ( parent.nodeType == CKEDITOR.NODE_ELEMENT || allowFragmentParent && parent.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT ) ) ? new CKEDITOR.dom.node( parent ) : null;\n\t},\n\n\t/**\n\t * Returns an array containing node parents and the node itself. By default nodes are in _descending_ order.\n\t *\n\t *\t\t// Assuming that body has paragraph as the first child.\n\t *\t\tvar node = editor.document.getBody().getFirst();\n\t *\t\tvar parents = node.getParents();\n\t *\t\talert( parents[ 0 ].getName() + ',' + parents[ 2 ].getName() ); // 'html,p'\n\t *\n\t * @param {Boolean} [closerFirst=false] Determines the order of returned nodes.\n\t * @returns {Array} Returns an array of {@link CKEDITOR.dom.node}.\n\t */\n\tgetParents: function( closerFirst ) {\n\t\tvar node = this;\n\t\tvar parents = [];\n\n\t\tdo {\n\t\t\tparents[ closerFirst ? 'push' : 'unshift' ]( node );\n\t\t}\n\t\twhile ( ( node = node.getParent() ) );\n\n\t\treturn parents;\n\t},\n\n\t/**\n\t * @todo\n\t */\n\tgetCommonAncestor: function( node ) {\n\t\tif ( node.equals( this ) )\n\t\t\treturn this;\n\n\t\tif ( node.contains && node.contains( this ) )\n\t\t\treturn node;\n\n\t\tvar start = this.contains ? this : this.getParent();\n\n\t\tdo {\n\t\t\tif ( start.contains( node ) ) return start;\n\t\t}\n\t\twhile ( ( start = start.getParent() ) );\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Determines the position relation between this node and the given {@link CKEDITOR.dom.node} in the document.\n\t * This node can be preceding ({@link CKEDITOR#POSITION_PRECEDING}) or following ({@link CKEDITOR#POSITION_FOLLOWING})\n\t * the given node. This node can also contain ({@link CKEDITOR#POSITION_CONTAINS}) or be contained by\n\t * ({@link CKEDITOR#POSITION_IS_CONTAINED}) the given node. The function returns a bitmask of constants\n\t * listed above or {@link CKEDITOR#POSITION_IDENTICAL} if the given node is the same as this node.\n\t *\n\t * @param {CKEDITOR.dom.node} otherNode A node to check relation with.\n\t * @returns {Number} Position relation between this node and given node.\n\t */\n\tgetPosition: function( otherNode ) {\n\t\tvar $ = this.$;\n\t\tvar $other = otherNode.$;\n\n\t\tif ( $.compareDocumentPosition )\n\t\t\treturn $.compareDocumentPosition( $other );\n\n\t\t// IE and Safari have no support for compareDocumentPosition.\n\n\t\tif ( $ == $other )\n\t\t\treturn CKEDITOR.POSITION_IDENTICAL;\n\n\t\t// Only element nodes support contains and sourceIndex.\n\t\tif ( this.type == CKEDITOR.NODE_ELEMENT && otherNode.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\tif ( $.contains ) {\n\t\t\t\tif ( $.contains( $other ) )\n\t\t\t\t\treturn CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING;\n\n\t\t\t\tif ( $other.contains( $ ) )\n\t\t\t\t\treturn CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING;\n\t\t\t}\n\n\t\t\tif ( 'sourceIndex' in $ )\n\t\t\t\treturn ( $.sourceIndex < 0 || $other.sourceIndex < 0 ) ? CKEDITOR.POSITION_DISCONNECTED : ( $.sourceIndex < $other.sourceIndex ) ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;\n\n\t\t}\n\n\t\t// For nodes that don't support compareDocumentPosition, contains\n\t\t// or sourceIndex, their \"address\" is compared.\n\n\t\tvar addressOfThis = this.getAddress(),\n\t\t\taddressOfOther = otherNode.getAddress(),\n\t\t\tminLevel = Math.min( addressOfThis.length, addressOfOther.length );\n\n\t\t// Determinate preceding/following relationship.\n\t\tfor ( var i = 0; i < minLevel; i++ ) {\n\t\t\tif ( addressOfThis[ i ] != addressOfOther[ i ] ) {\n\t\t\t\treturn addressOfThis[ i ] < addressOfOther[ i ] ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;\n\t\t\t}\n\t\t}\n\n\t\t// Determinate contains/contained relationship.\n\t\treturn ( addressOfThis.length < addressOfOther.length ) ? CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING;\n\t},\n\n\t/**\n\t * Gets the closest ancestor node of this node, specified by its name or using an evaluator function.\n\t *\n\t *\t\t// Suppose we have the following HTML structure:\n\t *\t\t// <div id=\"outer\"><div id=\"inner\"><p><b>Some text</b></p></div></div>\n\t *\t\t// If node == <b>\n\t *\t\tascendant = node.getAscendant( 'div' );\t\t\t\t// ascendant == <div id=\"inner\">\n\t *\t\tascendant = node.getAscendant( 'b' );\t\t\t\t// ascendant == null\n\t *\t\tascendant = node.getAscendant( 'b', true );\t\t\t// ascendant == <b>\n\t *\t\tascendant = node.getAscendant( { div:1, p:1 } );\t// Searches for the first 'div' or 'p': ascendant == <div id=\"inner\">\n\t *\n\t *\t\t// Using custom evaluator:\n\t *\t\tascendant = node.getAscendant( function( el ) {\n\t *\t\t\treturn el.getId() == 'inner';\n\t *\t\t} );\n\t *\t\t// ascendant == <div id=\"inner\">\n\t *\n\t * @since 3.6.1\n\t * @param {String/Function/Object} query The name of the ancestor node to search or\n\t * an object with the node names to search for or an evaluator function.\n\t * @param {Boolean} [includeSelf] Whether to include the current\n\t * node in the search.\n\t * @returns {CKEDITOR.dom.node} The located ancestor node or `null` if not found.\n\t */\n\tgetAscendant: function( query, includeSelf ) {\n\t\tvar $ = this.$,\n\t\t\tevaluator,\n\t\t\tisCustomEvaluator;\n\n\t\tif ( !includeSelf ) {\n\t\t\t$ = $.parentNode;\n\t\t}\n\n\t\t// Custom checker provided in an argument.\n\t\tif ( typeof query == 'function' ) {\n\t\t\tisCustomEvaluator = true;\n\t\t\tevaluator = query;\n\t\t} else {\n\t\t\t// Predefined tag name checker.\n\t\t\tisCustomEvaluator = false;\n\t\t\tevaluator = function( $ ) {\n\t\t\t\tvar name = ( typeof $.nodeName == 'string' ? $.nodeName.toLowerCase() : '' );\n\n\t\t\t\treturn ( typeof query == 'string' ? name == query : name in query );\n\t\t\t};\n\t\t}\n\n\t\twhile ( $ ) {\n\t\t\t// For user provided checker we use CKEDITOR.dom.node.\n\t\t\tif ( evaluator( isCustomEvaluator ? new CKEDITOR.dom.node( $ ) : $ ) ) {\n\t\t\t\treturn new CKEDITOR.dom.node( $ );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t$ = $.parentNode;\n\t\t\t} catch ( e ) {\n\t\t\t\t$ = null;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * @todo\n\t */\n\thasAscendant: function( name, includeSelf ) {\n\t\tvar $ = this.$;\n\n\t\tif ( !includeSelf )\n\t\t\t$ = $.parentNode;\n\n\t\twhile ( $ ) {\n\t\t\tif ( $.nodeName && $.nodeName.toLowerCase() == name )\n\t\t\t\treturn true;\n\n\t\t\t$ = $.parentNode;\n\t\t}\n\t\treturn false;\n\t},\n\n\t/**\n\t * @todo\n\t */\n\tmove: function( target, toStart ) {\n\t\ttarget.append( this.remove(), toStart );\n\t},\n\n\t/**\n\t * Removes this node from the document DOM.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getById( 'MyElement' );\n\t *\t\telement.remove();\n\t *\n\t * @param {Boolean} [preserveChildren=false] Indicates that the children\n\t * elements must remain in the document, removing only the outer tags.\n\t */\n\tremove: function( preserveChildren ) {\n\t\tvar $ = this.$;\n\t\tvar parent = $.parentNode;\n\n\t\tif ( parent ) {\n\t\t\tif ( preserveChildren ) {\n\t\t\t\t// Move all children before the node.\n\t\t\t\tfor ( var child;\n\t\t\t\t( child = $.firstChild ); ) {\n\t\t\t\t\tparent.insertBefore( $.removeChild( child ), $ );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparent.removeChild( $ );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * @todo\n\t */\n\treplace: function( nodeToReplace ) {\n\t\tthis.insertBefore( nodeToReplace );\n\t\tnodeToReplace.remove();\n\t},\n\n\t/**\n\t * @todo\n\t */\n\ttrim: function() {\n\t\tthis.ltrim();\n\t\tthis.rtrim();\n\t},\n\n\t/**\n\t * @todo\n\t */\n\tltrim: function() {\n\t\tvar child;\n\t\twhile ( this.getFirst && ( child = this.getFirst() ) ) {\n\t\t\tif ( child.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tvar trimmed = CKEDITOR.tools.ltrim( child.getText() ),\n\t\t\t\t\toriginalLength = child.getLength();\n\n\t\t\t\tif ( !trimmed ) {\n\t\t\t\t\tchild.remove();\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( trimmed.length < originalLength ) {\n\t\t\t\t\tchild.split( originalLength - trimmed.length );\n\n\t\t\t\t\t// IE BUG: child.remove() may raise JavaScript errors here. (#81)\n\t\t\t\t\tthis.$.removeChild( this.$.firstChild );\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t * @todo\n\t */\n\trtrim: function() {\n\t\tvar child;\n\t\twhile ( this.getLast && ( child = this.getLast() ) ) {\n\t\t\tif ( child.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tvar trimmed = CKEDITOR.tools.rtrim( child.getText() ),\n\t\t\t\t\toriginalLength = child.getLength();\n\n\t\t\t\tif ( !trimmed ) {\n\t\t\t\t\tchild.remove();\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( trimmed.length < originalLength ) {\n\t\t\t\t\tchild.split( trimmed.length );\n\n\t\t\t\t\t// IE BUG: child.getNext().remove() may raise JavaScript errors here.\n\t\t\t\t\t// (#81)\n\t\t\t\t\tthis.$.lastChild.parentNode.removeChild( this.$.lastChild );\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\tif ( CKEDITOR.env.needsBrFiller ) {\n\t\t\tchild = this.$.lastChild;\n\n\t\t\tif ( child && child.type == 1 && child.nodeName.toLowerCase() == 'br' ) {\n\t\t\t\t// Use \"eChildNode.parentNode\" instead of \"node\" to avoid IE bug (#324).\n\t\t\t\tchild.parentNode.removeChild( child );\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Checks if this node is read-only (should not be changed).\n\t *\n\t *\t\t// For the following HTML:\n\t *\t\t// <b>foo</b><div contenteditable=\"false\"><i>bar</i></div>\n\t *\n\t *\t\telB.isReadOnly(); // -> false\n\t *\t\tfoo.isReadOnly(); // -> false\n\t *\t\telDiv.isReadOnly(); // -> true\n\t *\t\telI.isReadOnly(); // -> true\n\t *\n\t * This method works in two modes depending on browser support for the `element.isContentEditable` property and\n\t * the value of the `checkOnlyAttributes` parameter. The `element.isContentEditable` check is faster, but it is known\n\t * to malfunction in hidden or detached nodes. Additionally, when processing some detached DOM tree you may want to imitate\n\t * that this happens inside an editable container (like it would happen inside the {@link CKEDITOR.editable}). To do so,\n\t * you can temporarily attach this tree to an element with the `data-cke-editable` attribute and use the\n\t * `checkOnlyAttributes` mode.\n\t *\n\t * @since 3.5\n\t * @param {Boolean} [checkOnlyAttributes=false] If `true`, only attributes will be checked, native methods will not\n\t * be used. This parameter needs to be `true` to check hidden or detached elements. Introduced in 4.5.\n\t * @returns {Boolean}\n\t */\n\tisReadOnly: function( checkOnlyAttributes ) {\n\t\tvar element = this;\n\t\tif ( this.type != CKEDITOR.NODE_ELEMENT )\n\t\t\telement = this.getParent();\n\n\t\t// Prevent Edge crash (#13609, #13919).\n\t\tif ( CKEDITOR.env.edge && element && element.is( 'textarea', 'input' ) ) {\n\t\t\tcheckOnlyAttributes = true;\n\t\t}\n\n\t\tif ( !checkOnlyAttributes && element && typeof element.$.isContentEditable != 'undefined' ) {\n\t\t\treturn !( element.$.isContentEditable || element.data( 'cke-editable' ) );\n\t\t}\n\t\telse {\n\t\t\t// Degrade for old browsers which don't support \"isContentEditable\", e.g. FF3\n\n\t\t\twhile ( element ) {\n\t\t\t\tif ( element.data( 'cke-editable' ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else if ( element.hasAttribute( 'contenteditable' ) ) {\n\t\t\t\t\treturn element.getAttribute( 'contenteditable' ) == 'false';\n\t\t\t\t}\n\n\t\t\t\telement = element.getParent();\n\t\t\t}\n\n\t\t\t// Reached the root of DOM tree, no editable found.\n\t\t\treturn true;\n\t\t}\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/node.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.document} class, which\n *\t\trepresents a DOM document.\n */\n\n/**\n * Represents a DOM window.\n *\n *\t\tvar document = new CKEDITOR.dom.window( window );\n *\n * @class\n * @extends CKEDITOR.dom.domObject\n * @constructor Creates a window class instance.\n * @param {Object} domWindow A native DOM window.\n */\nCKEDITOR.dom.window = function( domWindow ) {\n\tCKEDITOR.dom.domObject.call( this, domWindow );\n};\n\nCKEDITOR.dom.window.prototype = new CKEDITOR.dom.domObject();\n\nCKEDITOR.tools.extend( CKEDITOR.dom.window.prototype, {\n\t/**\n\t * Moves the selection focus to this window.\n\t *\n\t *\t\tvar win = new CKEDITOR.dom.window( window );\n\t *\t\twin.focus();\n\t */\n\tfocus: function() {\n\t\tthis.$.focus();\n\t},\n\n\t/**\n\t * Gets the width and height of this window's viewable area.\n\t *\n\t *\t\tvar win = new CKEDITOR.dom.window( window );\n\t *\t\tvar size = win.getViewPaneSize();\n\t *\t\talert( size.width );\n\t *\t\talert( size.height );\n\t *\n\t * @returns {Object} An object with the `width` and `height`\n\t * properties containing the size.\n\t */\n\tgetViewPaneSize: function() {\n\t\tvar doc = this.$.document,\n\t\t\tstdMode = doc.compatMode == 'CSS1Compat';\n\t\treturn {\n\t\t\twidth: ( stdMode ? doc.documentElement.clientWidth : doc.body.clientWidth ) || 0,\n\t\t\theight: ( stdMode ? doc.documentElement.clientHeight : doc.body.clientHeight ) || 0\n\t\t};\n\t},\n\n\t/**\n\t * Gets the current position of the window's scroll.\n\t *\n\t *\t\tvar win = new CKEDITOR.dom.window( window );\n\t *\t\tvar pos = win.getScrollPosition();\n\t *\t\talert( pos.x );\n\t *\t\talert( pos.y );\n\t *\n\t * @returns {Object} An object with the `x` and `y` properties\n\t * containing the scroll position.\n\t */\n\tgetScrollPosition: function() {\n\t\tvar $ = this.$;\n\n\t\tif ( 'pageXOffset' in $ ) {\n\t\t\treturn {\n\t\t\t\tx: $.pageXOffset || 0,\n\t\t\t\ty: $.pageYOffset || 0\n\t\t\t};\n\t\t} else {\n\t\t\tvar doc = $.document;\n\t\t\treturn {\n\t\t\t\tx: doc.documentElement.scrollLeft || doc.body.scrollLeft || 0,\n\t\t\t\ty: doc.documentElement.scrollTop || doc.body.scrollTop || 0\n\t\t\t};\n\t\t}\n\t},\n\n\t/**\n\t * Gets the frame element containing this window context.\n\t *\n\t * @returns {CKEDITOR.dom.element} The frame element or `null` if not in a frame context.\n\t */\n\tgetFrame: function() {\n\t\tvar iframe = this.$.frameElement;\n\t\treturn iframe ? new CKEDITOR.dom.element.get( iframe ) : null;\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/window.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.document} class which\n *\t\trepresents a DOM document.\n */\n\n/**\n * Represents a DOM document.\n *\n *\t\tvar document = new CKEDITOR.dom.document( document );\n *\n * @class\n * @extends CKEDITOR.dom.domObject\n * @constructor Creates a document class instance.\n * @param {Object} domDocument A native DOM document.\n */\n\nCKEDITOR.dom.document = function( domDocument ) {\n\tCKEDITOR.dom.domObject.call( this, domDocument );\n};\n\n// PACKAGER_RENAME( CKEDITOR.dom.document )\n\nCKEDITOR.dom.document.prototype = new CKEDITOR.dom.domObject();\n\nCKEDITOR.tools.extend( CKEDITOR.dom.document.prototype, {\n\t/**\n\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_DOCUMENT}.\n\t *\n\t * @readonly\n\t * @property {Number} [=CKEDITOR.NODE_DOCUMENT]\n\t */\n\ttype: CKEDITOR.NODE_DOCUMENT,\n\n\t/**\n\t * Appends a CSS file to the document.\n\t *\n\t *\t\tCKEDITOR.document.appendStyleSheet( '/mystyles.css' );\n\t *\n\t * @param {String} cssFileUrl The CSS file URL.\n\t */\n\tappendStyleSheet: function( cssFileUrl ) {\n\t\tif ( this.$.createStyleSheet )\n\t\t\tthis.$.createStyleSheet( cssFileUrl );\n\t\telse {\n\t\t\tvar link = new CKEDITOR.dom.element( 'link' );\n\t\t\tlink.setAttributes( {\n\t\t\t\trel: 'stylesheet',\n\t\t\t\ttype: 'text/css',\n\t\t\t\thref: cssFileUrl\n\t\t\t} );\n\t\t\tthis.getHead().append( link );\n\t\t}\n\t},\n\n\t/**\n\t * Creates a CSS stylesheet and inserts it into the document.\n\t *\n\t * @param cssStyleText {String} CSS style text.\n\t * @returns {Object} The created DOM native stylesheet object.\n\t */\n\tappendStyleText: function( cssStyleText ) {\n\t\tif ( this.$.createStyleSheet ) {\n\t\t\tvar styleSheet = this.$.createStyleSheet( '' );\n\t\t\tstyleSheet.cssText = cssStyleText;\n\t\t} else {\n\t\t\tvar style = new CKEDITOR.dom.element( 'style', this );\n\t\t\tstyle.append( new CKEDITOR.dom.text( cssStyleText, this ) );\n\t\t\tthis.getHead().append( style );\n\t\t}\n\n\t\treturn styleSheet || style.$.sheet;\n\t},\n\n\t/**\n\t * Creates a {@link CKEDITOR.dom.element} instance in this document.\n\t *\n\t * @param {String} name The name of the element.\n\t * @param {Object} [attributesAndStyles]\n\t * @param {Object} [attributesAndStyles.attributes] Attributes that will be set.\n\t * @param {Object} [attributesAndStyles.styles] Styles that will be set.\n\t * @returns {CKEDITOR.dom.element}\n\t */\n\tcreateElement: function( name, attribsAndStyles ) {\n\t\tvar element = new CKEDITOR.dom.element( name, this );\n\n\t\tif ( attribsAndStyles ) {\n\t\t\tif ( attribsAndStyles.attributes )\n\t\t\t\telement.setAttributes( attribsAndStyles.attributes );\n\n\t\t\tif ( attribsAndStyles.styles )\n\t\t\t\telement.setStyles( attribsAndStyles.styles );\n\t\t}\n\n\t\treturn element;\n\t},\n\n\t/**\n\t * Creates a {@link CKEDITOR.dom.text} instance in this document.\n\t *\n\t * @param {String} text Value of the text node.\n\t * @returns {CKEDITOR.dom.element}\n\t */\n\tcreateText: function( text ) {\n\t\treturn new CKEDITOR.dom.text( text, this );\n\t},\n\n\t/**\n\t * Moves the selection focus to this document's window.\n\t */\n\tfocus: function() {\n\t\tthis.getWindow().focus();\n\t},\n\n\t/**\n\t * Returns the element that is currently designated as the active element in the document.\n\t *\n\t * **Note:** Only one element can be active at a time in a document.\n\t * An active element does not necessarily have focus,\n\t * but an element with focus is always the active element in a document.\n\t *\n\t * @returns {CKEDITOR.dom.element} Active element or `null` if an IE8-9 bug is encountered.\n\t * See [#10030](http://dev.ckeditor.com/ticket/10030).\n\t */\n\tgetActive: function() {\n\t\tvar $active;\n\t\ttry {\n\t\t\t$active = this.$.activeElement;\n\t\t} catch ( e ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn new CKEDITOR.dom.element( $active );\n\t},\n\n\t/**\n\t * Gets an element based on its ID.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t *\t\talert( element.getId() ); // 'myElement'\n\t *\n\t * @param {String} elementId The element ID.\n\t * @returns {CKEDITOR.dom.element} The element instance, or `null` if not found.\n\t */\n\tgetById: function( elementId ) {\n\t\tvar $ = this.$.getElementById( elementId );\n\t\treturn $ ? new CKEDITOR.dom.element( $ ) : null;\n\t},\n\n\t/**\n\t * Gets a node based on its address. See {@link CKEDITOR.dom.node#getAddress}.\n\t *\n\t * @param {Array} address\n\t * @param {Boolean} [normalized=false]\n\t */\n\tgetByAddress: function( address, normalized ) {\n\t\tvar $ = this.$.documentElement;\n\n\t\tfor ( var i = 0; $ && i < address.length; i++ ) {\n\t\t\tvar target = address[ i ];\n\n\t\t\tif ( !normalized ) {\n\t\t\t\t$ = $.childNodes[ target ];\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar currentIndex = -1;\n\n\t\t\tfor ( var j = 0; j < $.childNodes.length; j++ ) {\n\t\t\t\tvar candidate = $.childNodes[ j ];\n\n\t\t\t\tif ( normalized === true && candidate.nodeType == 3 && candidate.previousSibling && candidate.previousSibling.nodeType == 3 )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tcurrentIndex++;\n\n\t\t\t\tif ( currentIndex == target ) {\n\t\t\t\t\t$ = candidate;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn $ ? new CKEDITOR.dom.node( $ ) : null;\n\t},\n\n\t/**\n\t * Gets elements list based on a given tag name.\n\t *\n\t * @param {String} tagName The element tag name.\n\t * @returns {CKEDITOR.dom.nodeList} The nodes list.\n\t */\n\tgetElementsByTag: function( tagName, namespace ) {\n\t\tif ( !( CKEDITOR.env.ie && ( document.documentMode <= 8 ) ) && namespace )\n\t\t\ttagName = namespace + ':' + tagName;\n\t\treturn new CKEDITOR.dom.nodeList( this.$.getElementsByTagName( tagName ) );\n\t},\n\n\t/**\n\t * Gets the `<head>` element for this document.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getHead();\n\t *\t\talert( element.getName() ); // 'head'\n\t *\n\t * @returns {CKEDITOR.dom.element} The `<head>` element.\n\t */\n\tgetHead: function() {\n\t\tvar head = this.$.getElementsByTagName( 'head' )[ 0 ];\n\t\tif ( !head )\n\t\t\thead = this.getDocumentElement().append( new CKEDITOR.dom.element( 'head' ), true );\n\t\telse\n\t\t\thead = new CKEDITOR.dom.element( head );\n\n\t\treturn head;\n\t},\n\n\t/**\n\t * Gets the `<body>` element for this document.\n\t *\n\t *\t\tvar element = CKEDITOR.document.getBody();\n\t *\t\talert( element.getName() ); // 'body'\n\t *\n\t * @returns {CKEDITOR.dom.element} The `<body>` element.\n\t */\n\tgetBody: function() {\n\t\treturn new CKEDITOR.dom.element( this.$.body );\n\t},\n\n\t/**\n\t * Gets the DOM document element for this document.\n\t *\n\t * @returns {CKEDITOR.dom.element} The DOM document element.\n\t */\n\tgetDocumentElement: function() {\n\t\treturn new CKEDITOR.dom.element( this.$.documentElement );\n\t},\n\n\t/**\n\t * Gets the window object that stores this document.\n\t *\n\t * @returns {CKEDITOR.dom.window} The window object.\n\t */\n\tgetWindow: function() {\n\t\treturn new CKEDITOR.dom.window( this.$.parentWindow || this.$.defaultView );\n\t},\n\n\t/**\n\t * Defines the document content through `document.write`. Note that the\n\t * previous document content will be lost (cleaned).\n\t *\n\t *\t\tdocument.write(\n\t *\t\t\t'<html>' +\n\t *\t\t\t\t'<head><title>Sample Document</title></head>' +\n\t *\t\t\t\t'<body>Document content created by code.</body>' +\n\t *\t\t\t'</html>'\n\t *\t\t);\n\t *\n\t * @since 3.5\n\t * @param {String} html The HTML defining the document content.\n\t */\n\twrite: function( html ) {\n\t\t// Don't leave any history log in IE. (#5657)\n\t\tthis.$.open( 'text/html', 'replace' );\n\n\t\t// Support for custom document.domain in IE.\n\t\t//\n\t\t// The script must be appended because if placed before the\n\t\t// doctype, IE will go into quirks mode and mess with\n\t\t// the editable, e.g. by changing its default height.\n\t\tif ( CKEDITOR.env.ie )\n\t\t\thtml = html.replace( /(?:^\\s*<!DOCTYPE[^>]*?>)|^/i, '$&\\n<script data-cke-temp=\"1\">(' + CKEDITOR.tools.fixDomain + ')();</script>' );\n\t\tthis.$.write( html );\n\t\tthis.$.close();\n\t},\n\n\t/**\n\t * Wrapper for `querySelectorAll`. Returns a list of elements within this document that match\n\t * the specified `selector`.\n\t *\n\t * **Note:** The returned list is not a live collection (like the result of native `querySelectorAll`).\n\t *\n\t * @since 4.3\n\t * @param {String} selector\n\t * @returns {CKEDITOR.dom.nodeList}\n\t */\n\tfind: function( selector ) {\n\t\treturn new CKEDITOR.dom.nodeList( this.$.querySelectorAll( selector ) );\n\t},\n\n\t/**\n\t * Wrapper for `querySelector`. Returns the first element within this document that matches\n\t * the specified `selector`.\n\t *\n\t * @since 4.3\n\t * @param {String} selector\n\t * @returns {CKEDITOR.dom.element}\n\t */\n\tfindOne: function( selector ) {\n\t\tvar el = this.$.querySelector( selector );\n\n\t\treturn el ? new CKEDITOR.dom.element( el ) : null;\n\t},\n\n\t/**\n\t * Internet Explorer 8 only method. It returns a document fragment which has all HTML5 elements enabled.\n\t *\n\t * @since 4.3\n\t * @private\n\t * @returns DocumentFragment\n\t */\n\t_getHtml5ShivFrag: function() {\n\t\tvar $frag = this.getCustomData( 'html5ShivFrag' );\n\n\t\tif ( !$frag ) {\n\t\t\t$frag = this.$.createDocumentFragment();\n\t\t\tCKEDITOR.tools.enableHtml5Elements( $frag, true );\n\t\t\tthis.setCustomData( 'html5ShivFrag', $frag );\n\t\t}\n\n\t\treturn $frag;\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/document.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * Represents a list of {@link CKEDITOR.dom.node} objects.\n * It's a wrapper for native nodes list.\n *\n *\t\tvar nodeList = CKEDITOR.document.getBody().getChildren();\n *\t\talert( nodeList.count() ); // number [0;N]\n *\n * @class\n * @constructor Creates a document class instance.\n * @param {Object} nativeList\n */\nCKEDITOR.dom.nodeList = function( nativeList ) {\n\tthis.$ = nativeList;\n};\n\nCKEDITOR.dom.nodeList.prototype = {\n\t/**\n\t * Get count of nodes in this list.\n\t *\n\t * @returns {Number}\n\t */\n\tcount: function() {\n\t\treturn this.$.length;\n\t},\n\n\t/**\n\t * Get node from the list.\n\t *\n\t * @returns {CKEDITOR.dom.node}\n\t */\n\tgetItem: function( index ) {\n\t\tif ( index < 0 || index >= this.$.length )\n\t\t\treturn null;\n\n\t\tvar $node = this.$[ index ];\n\t\treturn $node ? new CKEDITOR.dom.node( $node ) : null;\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/nodelist.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.element} class, which\n *\t\trepresents a DOM element.\n */\n\n/**\n * Represents a DOM element.\n *\n *\t\t// Create a new <span> element.\n *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n *\n *\t\t// Create an element based on a native DOM element.\n *\t\tvar element = new CKEDITOR.dom.element( document.getElementById( 'myId' ) );\n *\n * @class\n * @extends CKEDITOR.dom.node\n * @constructor Creates an element class instance.\n * @param {Object/String} element A native DOM element or the element name for\n * new elements.\n * @param {CKEDITOR.dom.document} [ownerDocument] The document that will contain\n * the element in case of element creation.\n */\nCKEDITOR.dom.element = function( element, ownerDocument ) {\n\tif ( typeof element == 'string' )\n\t\telement = ( ownerDocument ? ownerDocument.$ : document ).createElement( element );\n\n\t// Call the base constructor (we must not call CKEDITOR.dom.node).\n\tCKEDITOR.dom.domObject.call( this, element );\n};\n\n// PACKAGER_RENAME( CKEDITOR.dom.element )\n/**\n * The the {@link CKEDITOR.dom.element} representing and element. If the\n * element is a native DOM element, it will be transformed into a valid\n * CKEDITOR.dom.element object.\n *\n *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n *\t\talert( element == CKEDITOR.dom.element.get( element ) ); // true\n *\n *\t\tvar element = document.getElementById( 'myElement' );\n *\t\talert( CKEDITOR.dom.element.get( element ).getName() ); // (e.g.) 'p'\n *\n * @static\n * @param {String/Object} element Element's id or name or native DOM element.\n * @returns {CKEDITOR.dom.element} The transformed element.\n */\nCKEDITOR.dom.element.get = function( element ) {\n\tvar el = typeof element == 'string' ? document.getElementById( element ) || document.getElementsByName( element )[ 0 ] : element;\n\n\treturn el && ( el.$ ? el : new CKEDITOR.dom.element( el ) );\n};\n\nCKEDITOR.dom.element.prototype = new CKEDITOR.dom.node();\n\n/**\n * Creates an instance of the {@link CKEDITOR.dom.element} class based on the\n * HTML representation of an element.\n *\n *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<strong class=\"anyclass\">My element</strong>' );\n *\t\talert( element.getName() ); // 'strong'\n *\n * @static\n * @param {String} html The element HTML. It should define only one element in\n * the \"root\" level. The \"root\" element can have child nodes, but not siblings.\n * @returns {CKEDITOR.dom.element} The element instance.\n */\nCKEDITOR.dom.element.createFromHtml = function( html, ownerDocument ) {\n\tvar temp = new CKEDITOR.dom.element( 'div', ownerDocument );\n\ttemp.setHtml( html );\n\n\t// When returning the node, remove it from its parent to detach it.\n\treturn temp.getFirst().remove();\n};\n\n/**\n * Sets {@link CKEDITOR.dom.element#setCustomData custom data} on an element in a way that it is later\n * possible to {@link #clearAllMarkers clear all data} set on all elements sharing the same database.\n *\n * This mechanism is very useful when processing some portion of DOM. All markers can later be removed\n * by calling the {@link #clearAllMarkers} method, hence markers will not leak to second pass of this algorithm.\n *\n *\t\tvar database = {};\n *\t\tCKEDITOR.dom.element.setMarker( database, element1, 'foo', 'bar' );\n *\t\tCKEDITOR.dom.element.setMarker( database, element2, 'oof', [ 1, 2, 3 ] );\n *\n *\t\telement1.getCustomData( 'foo' ); // 'bar'\n *\t\telement2.getCustomData( 'oof' ); // [ 1, 2, 3 ]\n *\n *\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n *\n *\t\telement1.getCustomData( 'foo' ); // null\n *\n * @static\n * @param {Object} database\n * @param {CKEDITOR.dom.element} element\n * @param {String} name\n * @param {Object} value\n * @returns {CKEDITOR.dom.element} The element.\n */\nCKEDITOR.dom.element.setMarker = function( database, element, name, value ) {\n\tvar id = element.getCustomData( 'list_marker_id' ) || ( element.setCustomData( 'list_marker_id', CKEDITOR.tools.getNextNumber() ).getCustomData( 'list_marker_id' ) ),\n\t\tmarkerNames = element.getCustomData( 'list_marker_names' ) || ( element.setCustomData( 'list_marker_names', {} ).getCustomData( 'list_marker_names' ) );\n\tdatabase[ id ] = element;\n\tmarkerNames[ name ] = 1;\n\n\treturn element.setCustomData( name, value );\n};\n\n/**\n * Removes all markers added using this database. See the {@link #setMarker} method for more information.\n *\n * @param {Object} database\n * @static\n */\nCKEDITOR.dom.element.clearAllMarkers = function( database ) {\n\tfor ( var i in database )\n\t\tCKEDITOR.dom.element.clearMarkers( database, database[ i ], 1 );\n};\n\n/**\n * Removes all markers added to this element and removes it from the database if\n * `removeFromDatabase` was passed. See the {@link #setMarker} method for more information.\n *\n *\t\tvar database = {};\n *\t\tCKEDITOR.dom.element.setMarker( database, element1, 'foo', 'bar' );\n *\t\tCKEDITOR.dom.element.setMarker( database, element2, 'oof', [ 1, 2, 3 ] );\n *\n *\t\telement1.getCustomData( 'foo' ); // 'bar'\n *\t\telement2.getCustomData( 'oof' ); // [ 1, 2, 3 ]\n *\n *\t\tCKEDITOR.dom.element.clearMarkers( database, element1, true );\n *\n *\t\telement1.getCustomData( 'foo' ); // null\n *\t\telement2.getCustomData( 'oof' ); // [ 1, 2, 3 ]\n *\n * @param {Object} database\n * @static\n */\nCKEDITOR.dom.element.clearMarkers = function( database, element, removeFromDatabase ) {\n\tvar names = element.getCustomData( 'list_marker_names' ),\n\t\tid = element.getCustomData( 'list_marker_id' );\n\tfor ( var i in names )\n\t\telement.removeCustomData( i );\n\telement.removeCustomData( 'list_marker_names' );\n\tif ( removeFromDatabase ) {\n\t\telement.removeCustomData( 'list_marker_id' );\n\t\tdelete database[ id ];\n\t}\n};\n\n( function() {\n\tvar elementsClassList = document.createElement( '_' ).classList,\n\t\tsupportsClassLists = typeof elementsClassList !== 'undefined' && String( elementsClassList.add ).match( /\\[Native code\\]/gi ) !== null,\n\t\trclass = /[\\n\\t\\r]/g;\n\n\tfunction hasClass( classNames, className ) {\n\t\t// Source: jQuery.\n\t\treturn ( ' ' + classNames + ' ' ).replace( rclass, ' ' ).indexOf( ' ' + className + ' ' ) > -1;\n\t}\n\n\tCKEDITOR.tools.extend( CKEDITOR.dom.element.prototype, {\n\t\t/**\n\t\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_ELEMENT}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [=CKEDITOR.NODE_ELEMENT]\n\t\t */\n\t\ttype: CKEDITOR.NODE_ELEMENT,\n\n\t\t/**\n\t\t * Adds a CSS class to the element. It appends the class to the\n\t\t * already existing names.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'div' );\n\t\t *\t\telement.addClass( 'classA' ); // <div class=\"classA\">\n\t\t *\t\telement.addClass( 'classB' ); // <div class=\"classA classB\">\n\t\t *\t\telement.addClass( 'classA' ); // <div class=\"classA classB\">\n\t\t *\n\t\t * **Note:** Since CKEditor 4.5 this method cannot be used with multiple classes (`'classA classB'`).\n\t\t *\n\t\t * @chainable\n\t\t * @method addClass\n\t\t * @param {String} className The name of the class to be added.\n\t\t */\n\t\taddClass: supportsClassLists ?\n\t\t\tfunction( className ) {\n\t\t\t\tthis.$.classList.add( className );\n\n\t\t\t\treturn this;\n\t\t\t} : function( className ) {\n\t\t\t\tvar c = this.$.className;\n\t\t\t\tif ( c ) {\n\t\t\t\t\tif ( !hasClass( c, className ) )\n\t\t\t\t\t\tc += ' ' + className;\n\t\t\t\t}\n\t\t\t\tthis.$.className = c || className;\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t/**\n\t\t * Removes a CSS class name from the elements classes. Other classes\n\t\t * remain untouched.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'div' );\n\t\t *\t\telement.addClass( 'classA' );\t\t// <div class=\"classA\">\n\t\t *\t\telement.addClass( 'classB' );\t\t// <div class=\"classA classB\">\n\t\t *\t\telement.removeClass( 'classA' );\t// <div class=\"classB\">\n\t\t *\t\telement.removeClass( 'classB' );\t// <div>\n\t\t *\n\t\t * @chainable\n\t\t * @method removeClass\n\t\t * @param {String} className The name of the class to remove.\n\t\t */\n\t\tremoveClass: supportsClassLists ?\n\t\t\tfunction( className ) {\n\t\t\t\tvar $ = this.$;\n\t\t\t\t$.classList.remove( className );\n\n\t\t\t\tif ( !$.className )\n\t\t\t\t\t$.removeAttribute( 'class' );\n\n\t\t\t\treturn this;\n\t\t\t} : function( className ) {\n\t\t\t\tvar c = this.getAttribute( 'class' );\n\t\t\t\tif ( c && hasClass( c, className ) ) {\n\t\t\t\t\tc = c\n\t\t\t\t\t\t.replace( new RegExp( '(?:^|\\\\s+)' + className + '(?=\\\\s|$)' ), '' )\n\t\t\t\t\t\t.replace( /^\\s+/, '' );\n\n\t\t\t\t\tif ( c )\n\t\t\t\t\t\tthis.setAttribute( 'class', c );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.removeAttribute( 'class' );\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t/**\n\t\t * Checks if element has class name.\n\t\t *\n\t\t * @param {String} className\n\t\t * @returns {Boolean}\n\t\t */\n\t\thasClass: function( className ) {\n\t\t\treturn hasClass( this.$.className, className );\n\t\t},\n\n\t\t/**\n\t\t * Append a node as a child of this element.\n\t\t *\n\t\t *\t\tvar p = new CKEDITOR.dom.element( 'p' );\n\t\t *\n\t\t *\t\tvar strong = new CKEDITOR.dom.element( 'strong' );\n\t\t *\t\tp.append( strong );\n\t\t *\n\t\t *\t\tvar em = p.append( 'em' );\n\t\t *\n\t\t *\t\t// Result: '<p><strong></strong><em></em></p>'\n\t\t *\n\t\t * @param {CKEDITOR.dom.node/String} node The node or element name to be appended.\n\t\t * @param {Boolean} [toStart=false] Indicates that the element is to be appended at the start.\n\t\t * @returns {CKEDITOR.dom.node} The appended node.\n\t\t */\n\t\tappend: function( node, toStart ) {\n\t\t\tif ( typeof node == 'string' )\n\t\t\t\tnode = this.getDocument().createElement( node );\n\n\t\t\tif ( toStart )\n\t\t\t\tthis.$.insertBefore( node.$, this.$.firstChild );\n\t\t\telse\n\t\t\t\tthis.$.appendChild( node.$ );\n\n\t\t\treturn node;\n\t\t},\n\n\t\t/**\n\t\t * Append HTML as a child(ren) of this element.\n\t\t *\n\t\t * @param {String} html\n\t\t */\n\t\tappendHtml: function( html ) {\n\t\t\tif ( !this.$.childNodes.length )\n\t\t\t\tthis.setHtml( html );\n\t\t\telse {\n\t\t\t\tvar temp = new CKEDITOR.dom.element( 'div', this.getDocument() );\n\t\t\t\ttemp.setHtml( html );\n\t\t\t\ttemp.moveChildren( this );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Append text to this element.\n\t\t *\n\t\t *\t\tvar p = new CKEDITOR.dom.element( 'p' );\n\t\t *\t\tp.appendText( 'This is' );\n\t\t *\t\tp.appendText( ' some text' );\n\t\t *\n\t\t *\t\t// Result: '<p>This is some text</p>'\n\t\t *\n\t\t * @param {String} text The text to be appended.\n\t\t */\n\t\tappendText: function( text ) {\n\t\t\t// On IE8 it is impossible to append node to script tag, so we use its text.\n\t\t\t// On the contrary, on Safari the text property is unpredictable in links. (#13232)\n\t\t\tif ( this.$.text != null && CKEDITOR.env.ie && CKEDITOR.env.version < 9 )\n\t\t\t\tthis.$.text += text;\n\t\t\telse\n\t\t\t\tthis.append( new CKEDITOR.dom.text( text ) );\n\t\t},\n\n\t\t/**\n\t\t * Appends a `<br>` filler element to this element if the filler is not present already.\n\t\t * By default filler is appended only if {@link CKEDITOR.env#needsBrFiller} is `true`,\n\t\t * however when `force` is set to `true` filler will be appended regardless of the environment.\n\t\t *\n\t\t * @param {Boolean} [force] Append filler regardless of the environment.\n\t\t */\n\t\tappendBogus: function( force ) {\n\t\t\tif ( !force && !CKEDITOR.env.needsBrFiller )\n\t\t\t\treturn;\n\n\t\t\tvar lastChild = this.getLast();\n\n\t\t\t// Ignore empty/spaces text.\n\t\t\twhile ( lastChild && lastChild.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.rtrim( lastChild.getText() ) )\n\t\t\t\tlastChild = lastChild.getPrevious();\n\t\t\tif ( !lastChild || !lastChild.is || !lastChild.is( 'br' ) ) {\n\t\t\t\tvar bogus = this.getDocument().createElement( 'br' );\n\n\t\t\t\tCKEDITOR.env.gecko && bogus.setAttribute( 'type', '_moz' );\n\n\t\t\t\tthis.append( bogus );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Breaks one of the ancestor element in the element position, moving\n\t\t * this element between the broken parts.\n\t\t *\n\t\t *\t\t// Before breaking:\n\t\t *\t\t//\t\t<b>This <i>is some<span /> sample</i> test text</b>\n\t\t *\t\t// If \"element\" is <span /> and \"parent\" is <i>:\n\t\t *\t\t//\t\t<b>This <i>is some</i><span /><i> sample</i> test text</b>\n\t\t *\t\telement.breakParent( parent );\n\t\t *\n\t\t *\t\t// Before breaking:\n\t\t *\t\t//\t\t<b>This <i>is some<span /> sample</i> test text</b>\n\t\t *\t\t// If \"element\" is <span /> and \"parent\" is <b>:\n\t\t *\t\t//\t\t<b>This <i>is some</i></b><span /><b><i> sample</i> test text</b>\n\t\t *\t\telement.breakParent( parent );\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} parent The anscestor element to get broken.\n\t\t * @param {Boolean} [cloneId=false] Whether to preserve ancestor ID attributes while breaking.\n\t\t */\n\t\tbreakParent: function( parent, cloneId ) {\n\t\t\tvar range = new CKEDITOR.dom.range( this.getDocument() );\n\n\t\t\t// We'll be extracting part of this element, so let's use our\n\t\t\t// range to get the correct piece.\n\t\t\trange.setStartAfter( this );\n\t\t\trange.setEndAfter( parent );\n\n\t\t\t// Extract it.\n\t\t\tvar docFrag = range.extractContents( false, cloneId || false ),\n\t\t\t\ttmpElement,\n\t\t\t\tcurrent;\n\n\t\t\t// Move the element outside the broken element.\n\t\t\trange.insertNode( this.remove() );\n\n\t\t\t// In case of Internet Explorer, we must check if there is no background-color\n\t\t\t// added to the element. In such case, we have to overwrite it to prevent \"switching it off\"\n\t\t\t// by a browser (#14667).\n\t\t\tif ( CKEDITOR.env.ie && !CKEDITOR.env.edge ) {\n\t\t\t\ttmpElement = new CKEDITOR.dom.element( 'div' );\n\n\t\t\t\twhile ( current = docFrag.getFirst() ) {\n\t\t\t\t\tif ( current.$.style.backgroundColor ) {\n\t\t\t\t\t\t// This is a necessary hack to make sure that IE will track backgroundColor CSS property, see\n\t\t\t\t\t\t// http://dev.ckeditor.com/ticket/14667#comment:8 for more details.\n\t\t\t\t\t\tcurrent.$.style.backgroundColor = current.$.style.backgroundColor;\n\t\t\t\t\t}\n\n\t\t\t\t\ttmpElement.append( current );\n\t\t\t\t}\n\n\t\t\t\t// Re-insert the extracted piece after the element.\n\t\t\t\ttmpElement.insertAfter( this );\n\t\t\t\ttmpElement.remove( true );\n\t\t\t} else {\n\t\t\t\t// Re-insert the extracted piece after the element.\n\t\t\t\tdocFrag.insertAfterNode( this );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if this element contains given node.\n\t\t *\n\t\t * @method\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t * @returns {Boolean}\n\t\t */\n\t\tcontains: !document.compareDocumentPosition ?\n\t\t\tfunction( node ) {\n\t\t\t\tvar $ = this.$;\n\n\t\t\t\treturn node.type != CKEDITOR.NODE_ELEMENT ? $.contains( node.getParent().$ ) : $ != node.$ && $.contains( node.$ );\n\t\t\t} : function( node ) {\n\t\t\t\treturn !!( this.$.compareDocumentPosition( node.$ ) & 16 );\n\t\t\t},\n\n\t\t/**\n\t\t * Moves the selection focus to this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myTextarea' );\n\t\t *\t\telement.focus();\n\t\t *\n\t\t * @method\n\t\t * @param  {Boolean} defer Whether to asynchronously defer the\n\t\t * execution by 100 ms.\n\t\t */\n\t\tfocus: ( function() {\n\t\t\tfunction exec() {\n\t\t\t\t// IE throws error if the element is not visible.\n\t\t\t\ttry {\n\t\t\t\t\tthis.$.focus();\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\treturn function( defer ) {\n\t\t\t\tif ( defer )\n\t\t\t\t\tCKEDITOR.tools.setTimeout( exec, 100, this );\n\t\t\t\telse\n\t\t\t\t\texec.call( this );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets the inner HTML of this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div><b>Example</b></div>' );\n\t\t *\t\talert( element.getHtml() ); // '<b>Example</b>'\n\t\t *\n\t\t * @returns {String} The inner HTML of this element.\n\t\t */\n\t\tgetHtml: function() {\n\t\t\tvar retval = this.$.innerHTML;\n\t\t\t// Strip <?xml:namespace> tags in IE. (#3341).\n\t\t\treturn CKEDITOR.env.ie ? retval.replace( /<\\?[^>]*>/g, '' ) : retval;\n\t\t},\n\n\t\t/**\n\t\t * Gets the outer (inner plus tags) HTML of this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div class=\"bold\"><b>Example</b></div>' );\n\t\t *\t\talert( element.getOuterHtml() ); // '<div class=\"bold\"><b>Example</b></div>'\n\t\t *\n\t\t * @returns {String} The outer HTML of this element.\n\t\t */\n\t\tgetOuterHtml: function() {\n\t\t\tif ( this.$.outerHTML ) {\n\t\t\t\t// IE includes the <?xml:namespace> tag in the outerHTML of\n\t\t\t\t// namespaced element. So, we must strip it here. (#3341)\n\t\t\t\treturn this.$.outerHTML.replace( /<\\?[^>]*>/, '' );\n\t\t\t}\n\n\t\t\tvar tmpDiv = this.$.ownerDocument.createElement( 'div' );\n\t\t\ttmpDiv.appendChild( this.$.cloneNode( true ) );\n\t\t\treturn tmpDiv.innerHTML;\n\t\t},\n\n\t\t/**\n\t\t * Retrieve the bounding rectangle of the current element, in pixels,\n\t\t * relative to the upper-left corner of the browser's client area.\n\t\t *\n\t\t * @returns {Object} The dimensions of the DOM element including\n\t\t * `left`, `top`, `right`, `bottom`, `width` and `height`.\n\t\t */\n\t\tgetClientRect: function() {\n\t\t\t// http://help.dottoro.com/ljvmcrrn.php\n\t\t\tvar rect = CKEDITOR.tools.extend( {}, this.$.getBoundingClientRect() );\n\n\t\t\t!rect.width && ( rect.width = rect.right - rect.left );\n\t\t\t!rect.height && ( rect.height = rect.bottom - rect.top );\n\n\t\t\treturn rect;\n\t\t},\n\n\t\t/**\n\t\t * Sets the inner HTML of this element.\n\t\t *\n\t\t *\t\tvar p = new CKEDITOR.dom.element( 'p' );\n\t\t *\t\tp.setHtml( '<b>Inner</b> HTML' );\n\t\t *\n\t\t *\t\t// Result: '<p><b>Inner</b> HTML</p>'\n\t\t *\n\t\t * @method\n\t\t * @param {String} html The HTML to be set for this element.\n\t\t * @returns {String} The inserted HTML.\n\t\t */\n\t\tsetHtml: ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 ) ?\n\t\t\t// old IEs throws error on HTML manipulation (through the \"innerHTML\" property)\n\t\t\t// on the element which resides in an DTD invalid position,  e.g. <span><div></div></span>\n\t\t\t// fortunately it can be worked around with DOM manipulation.\n\t\t\tfunction( html ) {\n\t\t\t\ttry {\n\t\t\t\t\tvar $ = this.$;\n\n\t\t\t\t\t// Fix the case when setHtml is called on detached element.\n\t\t\t\t\t// HTML5 shiv used for document in which this element was created\n\t\t\t\t\t// won't affect that detached element. So get document fragment with\n\t\t\t\t\t// all HTML5 elements enabled and set innerHTML while this element is appended to it.\n\t\t\t\t\tif ( this.getParent() )\n\t\t\t\t\t\treturn ( $.innerHTML = html );\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar $frag = this.getDocument()._getHtml5ShivFrag();\n\t\t\t\t\t\t$frag.appendChild( $ );\n\t\t\t\t\t\t$.innerHTML = html;\n\t\t\t\t\t\t$frag.removeChild( $ );\n\n\t\t\t\t\t\treturn html;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch ( e ) {\n\t\t\t\t\tthis.$.innerHTML = '';\n\n\t\t\t\t\tvar temp = new CKEDITOR.dom.element( 'body', this.getDocument() );\n\t\t\t\t\ttemp.$.innerHTML = html;\n\n\t\t\t\t\tvar children = temp.getChildren();\n\t\t\t\t\twhile ( children.count() )\n\t\t\t\t\t\tthis.append( children.getItem( 0 ) );\n\n\t\t\t\t\treturn html;\n\t\t\t\t}\n\t\t\t} : function( html ) {\n\t\t\t\treturn ( this.$.innerHTML = html );\n\t\t\t},\n\n\t\t/**\n\t\t * Sets the element contents as plain text.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'div' );\n\t\t *\t\telement.setText( 'A > B & C < D' );\n\t\t *\t\talert( element.innerHTML ); // 'A &gt; B &amp; C &lt; D'\n\t\t *\n\t\t * @param {String} text The text to be set.\n\t\t * @returns {String} The inserted text.\n\t\t */\n\t\tsetText: ( function() {\n\t\t\tvar supportsTextContent = document.createElement( 'p' );\n\t\t\tsupportsTextContent.innerHTML = 'x';\n\t\t\tsupportsTextContent = supportsTextContent.textContent;\n\n\t\t\treturn function( text ) {\n\t\t\t\tthis.$[ supportsTextContent ? 'textContent' : 'innerText' ] = text;\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets the value of an element attribute.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<input type=\"text\" />' );\n\t\t *\t\talert( element.getAttribute( 'type' ) ); // 'text'\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The attribute name.\n\t\t * @returns {String} The attribute value or null if not defined.\n\t\t */\n\t\tgetAttribute: ( function() {\n\t\t\tvar standard = function( name ) {\n\t\t\t\t\treturn this.$.getAttribute( name, 2 );\n\t\t\t\t};\n\n\t\t\tif ( CKEDITOR.env.ie && ( CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks ) ) {\n\t\t\t\treturn function( name ) {\n\t\t\t\t\tswitch ( name ) {\n\t\t\t\t\t\tcase 'class':\n\t\t\t\t\t\t\tname = 'className';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'http-equiv':\n\t\t\t\t\t\t\tname = 'httpEquiv';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'name':\n\t\t\t\t\t\t\treturn this.$.name;\n\n\t\t\t\t\t\tcase 'tabindex':\n\t\t\t\t\t\t\tvar tabIndex = standard.call( this, name );\n\n\t\t\t\t\t\t\t// IE returns tabIndex=0 by default for all\n\t\t\t\t\t\t\t// elements. For those elements,\n\t\t\t\t\t\t\t// getAtrribute( 'tabindex', 2 ) returns 32768\n\t\t\t\t\t\t\t// instead. So, we must make this check to give a\n\t\t\t\t\t\t\t// uniform result among all browsers.\n\t\t\t\t\t\t\tif ( tabIndex !== 0 && this.$.tabIndex === 0 )\n\t\t\t\t\t\t\t\ttabIndex = null;\n\n\t\t\t\t\t\t\treturn tabIndex;\n\n\t\t\t\t\t\tcase 'checked':\n\t\t\t\t\t\t\tvar attr = this.$.attributes.getNamedItem( name ),\n\t\t\t\t\t\t\t\tattrValue = attr.specified ? attr.nodeValue // For value given by parser.\n\t\t\t\t\t\t\t\t: this.$.checked; // For value created via DOM interface.\n\n\t\t\t\t\t\t\treturn attrValue ? 'checked' : null;\n\n\t\t\t\t\t\tcase 'hspace':\n\t\t\t\t\t\tcase 'value':\n\t\t\t\t\t\t\treturn this.$[ name ];\n\n\t\t\t\t\t\tcase 'style':\n\t\t\t\t\t\t\t// IE does not return inline styles via getAttribute(). See #2947.\n\t\t\t\t\t\t\treturn this.$.style.cssText;\n\n\t\t\t\t\t\tcase 'contenteditable':\n\t\t\t\t\t\tcase 'contentEditable':\n\t\t\t\t\t\t\treturn this.$.attributes.getNamedItem( 'contentEditable' ).specified ? this.$.getAttribute( 'contentEditable' ) : null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn standard.call( this, name );\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn standard;\n\t\t\t}\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets the values of all element attributes.\n\t\t *\n\t\t * @param {Array} exclude The names of attributes to be excluded from the returned object.\n\t\t * @return {Object} An object containing all element attributes with their values.\n\t\t */\n\t\tgetAttributes: function( exclude ) {\n\t\t\tvar attributes = {},\n\t\t\t\tattrDefs = this.$.attributes,\n\t\t\t\ti;\n\n\t\t\texclude = CKEDITOR.tools.isArray( exclude ) ? exclude : [];\n\n\t\t\tfor ( i = 0; i < attrDefs.length; i++ ) {\n\t\t\t\tif ( CKEDITOR.tools.indexOf( exclude, attrDefs[ i ].name ) === -1 ) {\n\t\t\t\t\tattributes[ attrDefs[ i ].name ] = attrDefs[ i ].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn attributes;\n\t\t},\n\n\t\t/**\n\t\t * Gets the nodes list containing all children of this element.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.nodeList}\n\t\t */\n\t\tgetChildren: function() {\n\t\t\treturn new CKEDITOR.dom.nodeList( this.$.childNodes );\n\t\t},\n\n\t\t/**\n\t\t * Gets the current computed value of one of the element CSS style\n\t\t * properties.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n\t\t *\t\talert( element.getComputedStyle( 'display' ) ); // 'inline'\n\t\t *\n\t\t * @method\n\t\t * @param {String} propertyName The style property name.\n\t\t * @returns {String} The property value.\n\t\t */\n\t\tgetComputedStyle: ( document.defaultView && document.defaultView.getComputedStyle ) ?\n\t\t\t\tfunction( propertyName ) {\n\t\t\t\t\tvar style = this.getWindow().$.getComputedStyle( this.$, null );\n\n\t\t\t\t\t// Firefox may return null if we call the above on a hidden iframe. (#9117)\n\t\t\t\t\treturn style ? style.getPropertyValue( propertyName ) : '';\n\t\t\t\t} : function( propertyName ) {\n\t\t\t\t\treturn this.$.currentStyle[ CKEDITOR.tools.cssStyleToDomStyle( propertyName ) ];\n\t\t\t\t},\n\n\t\t/**\n\t\t * Gets the DTD entries for this element.\n\t\t *\n\t\t * @returns {Object} An object containing the list of elements accepted\n\t\t * by this element.\n\t\t */\n\t\tgetDtd: function() {\n\t\t\tvar dtd = CKEDITOR.dtd[ this.getName() ];\n\n\t\t\tthis.getDtd = function() {\n\t\t\t\treturn dtd;\n\t\t\t};\n\n\t\t\treturn dtd;\n\t\t},\n\n\t\t/**\n\t\t * Gets all this element's descendants having given tag name.\n\t\t *\n\t\t * @method\n\t\t * @param {String} tagName\n\t\t */\n\t\tgetElementsByTag: CKEDITOR.dom.document.prototype.getElementsByTag,\n\n\t\t/**\n\t\t * Gets the computed tabindex for this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myDiv' );\n\t\t *\t\talert( element.getTabIndex() ); // (e.g.) '-1'\n\t\t *\n\t\t * @method\n\t\t * @returns {Number} The tabindex value.\n\t\t */\n\t\tgetTabIndex: function() {\n\t\t\tvar tabIndex = this.$.tabIndex;\n\n\t\t\t// IE returns tabIndex=0 by default for all elements. In\n\t\t\t// those cases we must check that the element really has\n\t\t\t// the tabindex attribute set to zero, or it is one of\n\t\t\t// those element that should have zero by default.\n\t\t\tif ( tabIndex === 0 && !CKEDITOR.dtd.$tabIndex[ this.getName() ] && parseInt( this.getAttribute( 'tabindex' ), 10 ) !== 0 )\n\t\t\t\treturn -1;\n\n\t\t\treturn tabIndex;\n\t\t},\n\n\t\t/**\n\t\t * Gets the text value of this element.\n\t\t *\n\t\t * Only in IE (which uses innerText), `<br>` will cause linebreaks,\n\t\t * and sucessive whitespaces (including line breaks) will be reduced to\n\t\t * a single space. This behavior is ok for us, for now. It may change\n\t\t * in the future.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div>Sample <i>text</i>.</div>' );\n\t\t *\t\talert( <b>element.getText()</b> ); // 'Sample text.'\n\t\t *\n\t\t * @returns {String} The text value.\n\t\t */\n\t\tgetText: function() {\n\t\t\treturn this.$.textContent || this.$.innerText || '';\n\t\t},\n\n\t\t/**\n\t\t * Gets the window object that contains this element.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.window} The window object.\n\t\t */\n\t\tgetWindow: function() {\n\t\t\treturn this.getDocument().getWindow();\n\t\t},\n\n\t\t/**\n\t\t * Gets the value of the `id` attribute of this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<p id=\"myId\"></p>' );\n\t\t *\t\talert( element.getId() ); // 'myId'\n\t\t *\n\t\t * @returns {String} The element id, or null if not available.\n\t\t */\n\t\tgetId: function() {\n\t\t\treturn this.$.id || null;\n\t\t},\n\n\t\t/**\n\t\t * Gets the value of the `name` attribute of this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<input name=\"myName\"></input>' );\n\t\t *\t\talert( <b>element.getNameAtt()</b> ); // 'myName'\n\t\t *\n\t\t * @returns {String} The element name, or null if not available.\n\t\t */\n\t\tgetNameAtt: function() {\n\t\t\treturn this.$.name || null;\n\t\t},\n\n\t\t/**\n\t\t * Gets the element name (tag name). The returned name is guaranteed to\n\t\t * be always full lowercased.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'span' );\n\t\t *\t\talert( element.getName() ); // 'span'\n\t\t *\n\t\t * @returns {String} The element name.\n\t\t */\n\t\tgetName: function() {\n\t\t\t// Cache the lowercased name inside a closure.\n\t\t\tvar nodeName = this.$.nodeName.toLowerCase();\n\n\t\t\tif ( CKEDITOR.env.ie && ( document.documentMode <= 8 ) ) {\n\t\t\t\tvar scopeName = this.$.scopeName;\n\t\t\t\tif ( scopeName != 'HTML' )\n\t\t\t\t\tnodeName = scopeName.toLowerCase() + ':' + nodeName;\n\t\t\t}\n\n\t\t\tthis.getName = function() {\n\t\t\t\treturn nodeName;\n\t\t\t};\n\n\t\t\treturn this.getName();\n\t\t},\n\n\t\t/**\n\t\t * Gets the value set to this element. This value is usually available\n\t\t * for form field elements.\n\t\t *\n\t\t * @returns {String} The element value.\n\t\t */\n\t\tgetValue: function() {\n\t\t\treturn this.$.value;\n\t\t},\n\n\t\t/**\n\t\t * Gets the first child node of this element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div><b>Example</b></div>' );\n\t\t *\t\tvar first = element.getFirst();\n\t\t *\t\talert( first.getName() ); // 'b'\n\t\t *\n\t\t * @param {Function} evaluator Filtering the result node.\n\t\t * @returns {CKEDITOR.dom.node} The first child node or null if not available.\n\t\t */\n\t\tgetFirst: function( evaluator ) {\n\t\t\tvar first = this.$.firstChild,\n\t\t\t\tretval = first && new CKEDITOR.dom.node( first );\n\t\t\tif ( retval && evaluator && !evaluator( retval ) )\n\t\t\t\tretval = retval.getNext( evaluator );\n\n\t\t\treturn retval;\n\t\t},\n\n\t\t/**\n\t\t * See {@link #getFirst}.\n\t\t *\n\t\t * @param {Function} evaluator Filtering the result node.\n\t\t * @returns {CKEDITOR.dom.node}\n\t\t */\n\t\tgetLast: function( evaluator ) {\n\t\t\tvar last = this.$.lastChild,\n\t\t\t\tretval = last && new CKEDITOR.dom.node( last );\n\t\t\tif ( retval && evaluator && !evaluator( retval ) )\n\t\t\t\tretval = retval.getPrevious( evaluator );\n\n\t\t\treturn retval;\n\t\t},\n\n\t\t/**\n\t\t * Gets CSS style value.\n\t\t *\n\t\t * @param {String} name The CSS property name.\n\t\t * @returns {String} Style value.\n\t\t */\n\t\tgetStyle: function( name ) {\n\t\t\treturn this.$.style[ CKEDITOR.tools.cssStyleToDomStyle( name ) ];\n\t\t},\n\n\t\t/**\n\t\t * Checks if the element name matches the specified criteria.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.element( 'span' );\n\t\t *\t\talert( element.is( 'span' ) );\t\t\t// true\n\t\t *\t\talert( element.is( 'p', 'span' ) );\t\t// true\n\t\t *\t\talert( element.is( 'p' ) );\t\t\t\t// false\n\t\t *\t\talert( element.is( 'p', 'div' ) );\t\t// false\n\t\t *\t\talert( element.is( { p:1,span:1 } ) );\t// true\n\t\t *\n\t\t * @param {String.../Object} name One or more names to be checked, or a {@link CKEDITOR.dtd} object.\n\t\t * @returns {Boolean} `true` if the element name matches any of the names.\n\t\t */\n\t\tis: function() {\n\t\t\tvar name = this.getName();\n\n\t\t\t// Check against the specified DTD liternal.\n\t\t\tif ( typeof arguments[ 0 ] == 'object' )\n\t\t\t\treturn !!arguments[ 0 ][ name ];\n\n\t\t\t// Check for tag names\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] == name )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Decide whether one element is able to receive cursor.\n\t\t *\n\t\t * @param {Boolean} [textCursor=true] Only consider element that could receive text child.\n\t\t */\n\t\tisEditable: function( textCursor ) {\n\t\t\tvar name = this.getName();\n\n\t\t\tif ( this.isReadOnly() || this.getComputedStyle( 'display' ) == 'none' ||\n\t\t\t\tthis.getComputedStyle( 'visibility' ) == 'hidden' ||\n\t\t\t\tCKEDITOR.dtd.$nonEditable[ name ] ||\n\t\t\t\tCKEDITOR.dtd.$empty[ name ] ||\n\t\t\t\t( this.is( 'a' ) &&\n\t\t\t\t\t( this.data( 'cke-saved-name' ) || this.hasAttribute( 'name' ) ) &&\n\t\t\t\t\t!this.getChildCount()\n\t\t\t\t) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( textCursor !== false ) {\n\t\t\t\t// Get the element DTD (defaults to span for unknown elements).\n\t\t\t\tvar dtd = CKEDITOR.dtd[ name ] || CKEDITOR.dtd.span;\n\t\t\t\t// In the DTD # == text node.\n\t\t\t\treturn !!( dtd && dtd[ '#' ] );\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Compare this element's inner html, tag name, attributes, etc. with other one.\n\t\t *\n\t\t * See [W3C's DOM Level 3 spec - node#isEqualNode](http://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-isEqualNode)\n\t\t * for more details.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} otherElement Element to compare.\n\t\t * @returns {Boolean}\n\t\t */\n\t\tisIdentical: function( otherElement ) {\n\t\t\t// do shallow clones, but with IDs\n\t\t\tvar thisEl = this.clone( 0, 1 ),\n\t\t\t\totherEl = otherElement.clone( 0, 1 );\n\n\t\t\t// Remove distractions.\n\t\t\tthisEl.removeAttributes( [ '_moz_dirty', 'data-cke-expando', 'data-cke-saved-href', 'data-cke-saved-name' ] );\n\t\t\totherEl.removeAttributes( [ '_moz_dirty', 'data-cke-expando', 'data-cke-saved-href', 'data-cke-saved-name' ] );\n\n\t\t\t// Native comparison available.\n\t\t\tif ( thisEl.$.isEqualNode ) {\n\t\t\t\t// Styles order matters.\n\t\t\t\tthisEl.$.style.cssText = CKEDITOR.tools.normalizeCssText( thisEl.$.style.cssText );\n\t\t\t\totherEl.$.style.cssText = CKEDITOR.tools.normalizeCssText( otherEl.$.style.cssText );\n\t\t\t\treturn thisEl.$.isEqualNode( otherEl.$ );\n\t\t\t} else {\n\t\t\t\tthisEl = thisEl.getOuterHtml();\n\t\t\t\totherEl = otherEl.getOuterHtml();\n\n\t\t\t\t// Fix tiny difference between link href in older IEs.\n\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 && this.is( 'a' ) ) {\n\t\t\t\t\tvar parent = this.getParent();\n\t\t\t\t\tif ( parent.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\tvar el = parent.clone();\n\t\t\t\t\t\tel.setHtml( thisEl ), thisEl = el.getHtml();\n\t\t\t\t\t\tel.setHtml( otherEl ), otherEl = el.getHtml();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn thisEl == otherEl;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if this element is visible. May not work if the element is\n\t\t * child of an element with visibility set to `hidden`, but works well\n\t\t * on the great majority of cases.\n\t\t *\n\t\t * @returns {Boolean} True if the element is visible.\n\t\t */\n\t\tisVisible: function() {\n\t\t\tvar isVisible = ( this.$.offsetHeight || this.$.offsetWidth ) && this.getComputedStyle( 'visibility' ) != 'hidden',\n\t\t\t\telementWindow, elementWindowFrame;\n\n\t\t\t// Webkit and Opera report non-zero offsetHeight despite that\n\t\t\t// element is inside an invisible iframe. (#4542)\n\t\t\tif ( isVisible && CKEDITOR.env.webkit ) {\n\t\t\t\telementWindow = this.getWindow();\n\n\t\t\t\tif ( !elementWindow.equals( CKEDITOR.document.getWindow() ) && ( elementWindowFrame = elementWindow.$.frameElement ) )\n\t\t\t\t\tisVisible = new CKEDITOR.dom.element( elementWindowFrame ).isVisible();\n\n\t\t\t}\n\n\t\t\treturn !!isVisible;\n\t\t},\n\n\t\t/**\n\t\t * Whether it's an empty inline elements which has no visual impact when removed.\n\t\t *\n\t\t * @returns {Boolean}\n\t\t */\n\t\tisEmptyInlineRemoveable: function() {\n\t\t\tif ( !CKEDITOR.dtd.$removeEmpty[ this.getName() ] )\n\t\t\t\treturn false;\n\n\t\t\tvar children = this.getChildren();\n\t\t\tfor ( var i = 0, count = children.count(); i < count; i++ ) {\n\t\t\t\tvar child = children.getItem( i );\n\n\t\t\t\tif ( child.type == CKEDITOR.NODE_ELEMENT && child.data( 'cke-bookmark' ) )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tif ( child.type == CKEDITOR.NODE_ELEMENT && !child.isEmptyInlineRemoveable() || child.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim( child.getText() ) )\n\t\t\t\t\treturn false;\n\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the element has any defined attributes.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div title=\"Test\">Example</div>' );\n\t\t *\t\talert( element.hasAttributes() ); // true\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div>Example</div>' );\n\t\t *\t\talert( element.hasAttributes() ); // false\n\t\t *\n\t\t * @method\n\t\t * @returns {Boolean} True if the element has attributes.\n\t\t */\n\t\thasAttributes: CKEDITOR.env.ie && ( CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks ) ?\n\t\t\tfunction() {\n\t\t\t\tvar attributes = this.$.attributes;\n\n\t\t\t\tfor ( var i = 0; i < attributes.length; i++ ) {\n\t\t\t\t\tvar attribute = attributes[ i ];\n\n\t\t\t\t\tswitch ( attribute.nodeName ) {\n\t\t\t\t\t\tcase 'class':\n\t\t\t\t\t\t\t// IE has a strange bug. If calling removeAttribute('className'),\n\t\t\t\t\t\t\t// the attributes collection will still contain the \"class\"\n\t\t\t\t\t\t\t// attribute, which will be marked as \"specified\", even if the\n\t\t\t\t\t\t\t// outerHTML of the element is not displaying the class attribute.\n\t\t\t\t\t\t\t// Note : I was not able to reproduce it outside the editor,\n\t\t\t\t\t\t\t// but I've faced it while working on the TC of #1391.\n\t\t\t\t\t\t\tif ( this.getAttribute( 'class' ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Attributes to be ignored.\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\tcase 'data-cke-expando':\n\t\t\t\t\t\t\tcontinue;\n\n\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif ( attribute.specified ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t} : function() {\n\t\t\t\tvar attrs = this.$.attributes,\n\t\t\t\t\tattrsNum = attrs.length;\n\n\t\t\t\t// The _moz_dirty attribute might get into the element after pasting (#5455)\n\t\t\t\tvar execludeAttrs = { 'data-cke-expando': 1, _moz_dirty: 1 };\n\n\t\t\t\treturn attrsNum > 0 && ( attrsNum > 2 || !execludeAttrs[ attrs[ 0 ].nodeName ] || ( attrsNum == 2 && !execludeAttrs[ attrs[ 1 ].nodeName ] ) );\n\t\t\t},\n\n\t\t/**\n\t\t * Checks if the specified attribute is defined for this element.\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The attribute name.\n\t\t * @returns {Boolean} `true` if the specified attribute is defined.\n\t\t */\n\t\thasAttribute: ( function() {\n\t\t\tfunction ieHasAttribute( name ) {\n\t\t\t\tvar $attr = this.$.attributes.getNamedItem( name );\n\n\t\t\t\tif ( this.getName() == 'input' ) {\n\t\t\t\t\tswitch ( name ) {\n\t\t\t\t\t\tcase 'class':\n\t\t\t\t\t\t\treturn this.$.className.length > 0;\n\t\t\t\t\t\tcase 'checked':\n\t\t\t\t\t\t\treturn !!this.$.checked;\n\t\t\t\t\t\tcase 'value':\n\t\t\t\t\t\t\tvar type = this.getAttribute( 'type' );\n\t\t\t\t\t\t\treturn type == 'checkbox' || type == 'radio' ? this.$.value != 'on' : !!this.$.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( !$attr )\n\t\t\t\t\treturn false;\n\n\t\t\t\treturn $attr.specified;\n\t\t\t}\n\n\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\tif ( CKEDITOR.env.version < 8 ) {\n\t\t\t\t\treturn function( name ) {\n\t\t\t\t\t\t// On IE < 8 the name attribute cannot be retrieved\n\t\t\t\t\t\t// right after the element creation and setting the\n\t\t\t\t\t\t// name with setAttribute.\n\t\t\t\t\t\tif ( name == 'name' )\n\t\t\t\t\t\t\treturn !!this.$.name;\n\n\t\t\t\t\t\treturn ieHasAttribute.call( this, name );\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn ieHasAttribute;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn function( name ) {\n\t\t\t\t\t// On other browsers specified property is deprecated and return always true,\n\t\t\t\t\t// but fortunately $.attributes contains only specified attributes.\n\t\t\t\t\treturn !!this.$.attributes.getNamedItem( name );\n\t\t\t\t};\n\t\t\t}\n\t\t} )(),\n\n\t\t/**\n\t\t * Hides this element (sets `display: none`).\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.hide();\n\t\t */\n\t\thide: function() {\n\t\t\tthis.setStyle( 'display', 'none' );\n\t\t},\n\n\t\t/**\n\t\t * Moves this element's children to the target element.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} target\n\t\t * @param {Boolean} [toStart=false] Insert moved children at the\n\t\t * beginning of the target element.\n\t\t */\n\t\tmoveChildren: function( target, toStart ) {\n\t\t\tvar $ = this.$;\n\t\t\ttarget = target.$;\n\n\t\t\tif ( $ == target )\n\t\t\t\treturn;\n\n\t\t\tvar child;\n\n\t\t\tif ( toStart ) {\n\t\t\t\twhile ( ( child = $.lastChild ) )\n\t\t\t\t\ttarget.insertBefore( $.removeChild( child ), target.firstChild );\n\t\t\t} else {\n\t\t\t\twhile ( ( child = $.firstChild ) )\n\t\t\t\t\ttarget.appendChild( $.removeChild( child ) );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Merges sibling elements that are identical to this one.\n\t\t *\n\t\t * Identical child elements are also merged. For example:\n\t\t *\n\t\t *\t\t<b><i></i></b><b><i></i></b> => <b><i></i></b>\n\t\t *\n\t\t * @method\n\t\t * @param {Boolean} [inlineOnly=true] Allow only inline elements to be merged.\n\t\t */\n\t\tmergeSiblings: ( function() {\n\t\t\tfunction mergeElements( element, sibling, isNext ) {\n\t\t\t\tif ( sibling && sibling.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t// Jumping over bookmark nodes and empty inline elements, e.g. <b><i></i></b>,\n\t\t\t\t\t// queuing them to be moved later. (#5567)\n\t\t\t\t\tvar pendingNodes = [];\n\n\t\t\t\t\twhile ( sibling.data( 'cke-bookmark' ) || sibling.isEmptyInlineRemoveable() ) {\n\t\t\t\t\t\tpendingNodes.push( sibling );\n\t\t\t\t\t\tsibling = isNext ? sibling.getNext() : sibling.getPrevious();\n\t\t\t\t\t\tif ( !sibling || sibling.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( element.isIdentical( sibling ) ) {\n\t\t\t\t\t\t// Save the last child to be checked too, to merge things like\n\t\t\t\t\t\t// <b><i></i></b><b><i></i></b> => <b><i></i></b>\n\t\t\t\t\t\tvar innerSibling = isNext ? element.getLast() : element.getFirst();\n\n\t\t\t\t\t\t// Move pending nodes first into the target element.\n\t\t\t\t\t\twhile ( pendingNodes.length )\n\t\t\t\t\t\t\tpendingNodes.shift().move( element, !isNext );\n\n\t\t\t\t\t\tsibling.moveChildren( element, !isNext );\n\t\t\t\t\t\tsibling.remove();\n\n\t\t\t\t\t\t// Now check the last inner child (see two comments above).\n\t\t\t\t\t\tif ( innerSibling && innerSibling.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\t\tinnerSibling.mergeSiblings();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn function( inlineOnly ) {\n\t\t\t\t// Merge empty links and anchors also. (#5567)\n\t\t\t\tif ( !( inlineOnly === false || CKEDITOR.dtd.$removeEmpty[ this.getName() ] || this.is( 'a' ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tmergeElements( this, this.getNext(), true );\n\t\t\t\tmergeElements( this, this.getPrevious() );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Shows this element (displays it).\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.show();\n\t\t */\n\t\tshow: function() {\n\t\t\tthis.setStyles( {\n\t\t\t\tdisplay: '',\n\t\t\t\tvisibility: ''\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Sets the value of an element attribute.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.setAttribute( 'class', 'myClass' );\n\t\t *\t\telement.setAttribute( 'title', 'This is an example' );\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The name of the attribute.\n\t\t * @param {String} value The value to be set to the attribute.\n\t\t * @returns {CKEDITOR.dom.element} This element instance.\n\t\t */\n\t\tsetAttribute: ( function() {\n\t\t\tvar standard = function( name, value ) {\n\t\t\t\t\tthis.$.setAttribute( name, value );\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\tif ( CKEDITOR.env.ie && ( CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks ) ) {\n\t\t\t\treturn function( name, value ) {\n\t\t\t\t\tif ( name == 'class' )\n\t\t\t\t\t\tthis.$.className = value;\n\t\t\t\t\telse if ( name == 'style' )\n\t\t\t\t\t\tthis.$.style.cssText = value;\n\t\t\t\t\telse if ( name == 'tabindex' ) // Case sensitive.\n\t\t\t\t\tthis.$.tabIndex = value;\n\t\t\t\t\telse if ( name == 'checked' )\n\t\t\t\t\t\tthis.$.checked = value;\n\t\t\t\t\telse if ( name == 'contenteditable' )\n\t\t\t\t\t\tstandard.call( this, 'contentEditable', value );\n\t\t\t\t\telse\n\t\t\t\t\t\tstandard.apply( this, arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\t} else if ( CKEDITOR.env.ie8Compat && CKEDITOR.env.secure ) {\n\t\t\t\treturn function( name, value ) {\n\t\t\t\t\t// IE8 throws error when setting src attribute to non-ssl value. (#7847)\n\t\t\t\t\tif ( name == 'src' && value.match( /^http:\\/\\// ) ) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tstandard.apply( this, arguments );\n\t\t\t\t\t\t} catch ( e ) {}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstandard.apply( this, arguments );\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn standard;\n\t\t\t}\n\t\t} )(),\n\n\t\t/**\n\t\t * Sets the value of several element attributes.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.setAttributes( {\n\t\t *\t\t\t'class':\t'myClass',\n\t\t *\t\t\ttitle:\t\t'This is an example'\n\t\t *\t\t} );\n\t\t *\n\t\t * @chainable\n\t\t * @param {Object} attributesPairs An object containing the names and\n\t\t * values of the attributes.\n\t\t * @returns {CKEDITOR.dom.element} This element instance.\n\t\t */\n\t\tsetAttributes: function( attributesPairs ) {\n\t\t\tfor ( var name in attributesPairs )\n\t\t\t\tthis.setAttribute( name, attributesPairs[ name ] );\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Sets the element value. This function is usually used with form\n\t\t * field element.\n\t\t *\n\t\t * @chainable\n\t\t * @param {String} value The element value.\n\t\t * @returns {CKEDITOR.dom.element} This element instance.\n\t\t */\n\t\tsetValue: function( value ) {\n\t\t\tthis.$.value = value;\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Removes an attribute from the element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div class=\"classA\"></div>' );\n\t\t *\t\telement.removeAttribute( 'class' );\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The attribute name.\n\t\t */\n\t\tremoveAttribute: ( function() {\n\t\t\tvar standard = function( name ) {\n\t\t\t\t\tthis.$.removeAttribute( name );\n\t\t\t\t};\n\n\t\t\tif ( CKEDITOR.env.ie && ( CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks ) ) {\n\t\t\t\treturn function( name ) {\n\t\t\t\t\tif ( name == 'class' )\n\t\t\t\t\t\tname = 'className';\n\t\t\t\t\telse if ( name == 'tabindex' )\n\t\t\t\t\t\tname = 'tabIndex';\n\t\t\t\t\telse if ( name == 'contenteditable' )\n\t\t\t\t\t\tname = 'contentEditable';\n\t\t\t\t\tstandard.call( this, name );\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn standard;\n\t\t\t}\n\t\t} )(),\n\n\t\t/**\n\t\t * Removes all element's attributes or just given ones.\n\t\t *\n\t\t * @param {Array} [attributes] The array with attributes names.\n\t\t */\n\t\tremoveAttributes: function( attributes ) {\n\t\t\tif ( CKEDITOR.tools.isArray( attributes ) ) {\n\t\t\t\tfor ( var i = 0; i < attributes.length; i++ ) {\n\t\t\t\t\tthis.removeAttribute( attributes[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattributes = attributes || this.getAttributes();\n\n\t\t\t\tfor ( var attr in attributes ) {\n\t\t\t\t\tattributes.hasOwnProperty( attr ) && this.removeAttribute( attr );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes a style from the element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div style=\"display:none\"></div>' );\n\t\t *\t\telement.removeStyle( 'display' );\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The style name.\n\t\t */\n\t\tremoveStyle: function( name ) {\n\t\t\t// Removes the specified property from the current style object.\n\t\t\tvar $ = this.$.style;\n\n\t\t\t// \"removeProperty\" need to be specific on the following styles.\n\t\t\tif ( !$.removeProperty && ( name == 'border' || name == 'margin' || name == 'padding' ) ) {\n\t\t\t\tvar names = expandedRules( name );\n\t\t\t\tfor ( var i = 0 ; i < names.length ; i++ )\n\t\t\t\t\tthis.removeStyle( names[ i ] );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.removeProperty ? $.removeProperty( name ) : $.removeAttribute( CKEDITOR.tools.cssStyleToDomStyle( name ) );\n\n\t\t\t// Eventually remove empty style attribute.\n\t\t\tif ( !this.$.style.cssText )\n\t\t\t\tthis.removeAttribute( 'style' );\n\t\t},\n\n\t\t/**\n\t\t * Sets the value of an element style.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.setStyle( 'background-color', '#ff0000' );\n\t\t *\t\telement.setStyle( 'margin-top', '10px' );\n\t\t *\t\telement.setStyle( 'float', 'right' );\n\t\t *\n\t\t * @param {String} name The name of the style. The CSS naming notation\n\t\t * must be used (e.g. `background-color`).\n\t\t * @param {String} value The value to be set to the style.\n\t\t * @returns {CKEDITOR.dom.element} This element instance.\n\t\t */\n\t\tsetStyle: function( name, value ) {\n\t\t\tthis.$.style[ CKEDITOR.tools.cssStyleToDomStyle( name ) ] = value;\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Sets the value of several element styles.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.setStyles( {\n\t\t *\t\t\tposition:\t'absolute',\n\t\t *\t\t\tfloat:\t\t'right'\n\t\t *\t\t} );\n\t\t *\n\t\t * @param {Object} stylesPairs An object containing the names and\n\t\t * values of the styles.\n\t\t * @returns {CKEDITOR.dom.element} This element instance.\n\t\t */\n\t\tsetStyles: function( stylesPairs ) {\n\t\t\tfor ( var name in stylesPairs )\n\t\t\t\tthis.setStyle( name, stylesPairs[ name ] );\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Sets the opacity of an element.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.setOpacity( 0.75 );\n\t\t *\n\t\t * @param {Number} opacity A number within the range `[0.0, 1.0]`.\n\t\t */\n\t\tsetOpacity: function( opacity ) {\n\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 ) {\n\t\t\t\topacity = Math.round( opacity * 100 );\n\t\t\t\tthis.setStyle( 'filter', opacity >= 100 ? '' : 'progid:DXImageTransform.Microsoft.Alpha(opacity=' + opacity + ')' );\n\t\t\t} else {\n\t\t\t\tthis.setStyle( 'opacity', opacity );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Makes the element and its children unselectable.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.document.getById( 'myElement' );\n\t\t *\t\telement.unselectable();\n\t\t *\n\t\t * @method\n\t\t */\n\t\tunselectable: function() {\n\t\t\t// CSS unselectable.\n\t\t\tthis.setStyles( CKEDITOR.tools.cssVendorPrefix( 'user-select', 'none' ) );\n\n\t\t\t// For IE/Opera which doesn't support for the above CSS style,\n\t\t\t// the unselectable=\"on\" attribute only specifies the selection\n\t\t\t// process cannot start in the element itself, and it doesn't inherit.\n\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\tthis.setAttribute( 'unselectable', 'on' );\n\n\t\t\t\tvar element,\n\t\t\t\t\telements = this.getElementsByTag( '*' );\n\n\t\t\t\tfor ( var i = 0, count = elements.count() ; i < count ; i++ ) {\n\t\t\t\t\telement = elements.getItem( i );\n\t\t\t\t\telement.setAttribute( 'unselectable', 'on' );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets closest positioned (`position != static`) ancestor.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} Positioned ancestor or `null`.\n\t\t */\n\t\tgetPositionedAncestor: function() {\n\t\t\tvar current = this;\n\t\t\twhile ( current.getName() != 'html' ) {\n\t\t\t\tif ( current.getComputedStyle( 'position' ) != 'static' )\n\t\t\t\t\treturn current;\n\n\t\t\t\tcurrent = current.getParent();\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Gets this element's position in document.\n\t\t *\n\t\t * @param {CKEDITOR.dom.document} [refDocument]\n\t\t * @returns {Object} Element's position.\n\t\t * @returns {Number} return.x\n\t\t * @returns {Number} return.y\n\t\t * @todo refDocument\n\t\t */\n\t\tgetDocumentPosition: function( refDocument ) {\n\t\t\tvar x = 0,\n\t\t\t\ty = 0,\n\t\t\t\tdoc = this.getDocument(),\n\t\t\t\tbody = doc.getBody(),\n\t\t\t\tquirks = doc.$.compatMode == 'BackCompat';\n\n\t\t\tif ( document.documentElement.getBoundingClientRect &&\n\t\t\t\t( CKEDITOR.env.ie ? CKEDITOR.env.version !== 8 : true ) ) {\n\t\t\t\tvar box = this.$.getBoundingClientRect(),\n\t\t\t\t\t$doc = doc.$,\n\t\t\t\t\t$docElem = $doc.documentElement;\n\n\t\t\t\tvar clientTop = $docElem.clientTop || body.$.clientTop || 0,\n\t\t\t\t\tclientLeft = $docElem.clientLeft || body.$.clientLeft || 0,\n\t\t\t\t\tneedAdjustScrollAndBorders = true;\n\n\t\t\t\t// #3804: getBoundingClientRect() works differently on IE and non-IE\n\t\t\t\t// browsers, regarding scroll positions.\n\t\t\t\t//\n\t\t\t\t// On IE, the top position of the <html> element is always 0, no matter\n\t\t\t\t// how much you scrolled down.\n\t\t\t\t//\n\t\t\t\t// On other browsers, the top position of the <html> element is negative\n\t\t\t\t// scrollTop.\n\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\tvar inDocElem = doc.getDocumentElement().contains( this ),\n\t\t\t\t\t\tinBody = doc.getBody().contains( this );\n\n\t\t\t\t\tneedAdjustScrollAndBorders = ( quirks && inBody ) || ( !quirks && inDocElem );\n\t\t\t\t}\n\n\t\t\t\t// #12747.\n\t\t\t\tif ( needAdjustScrollAndBorders ) {\n\t\t\t\t\tvar scrollRelativeLeft,\n\t\t\t\t\t\tscrollRelativeTop;\n\n\t\t\t\t\t// See #12758 to know more about document.(documentElement|body).scroll(Left|Top) in Webkit.\n\t\t\t\t\tif ( CKEDITOR.env.webkit || ( CKEDITOR.env.ie && CKEDITOR.env.version >= 12 ) ) {\n\t\t\t\t\t\tscrollRelativeLeft = body.$.scrollLeft || $docElem.scrollLeft;\n\t\t\t\t\t\tscrollRelativeTop = body.$.scrollTop || $docElem.scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar scrollRelativeElement = quirks ? body.$ : $docElem;\n\n\t\t\t\t\t\tscrollRelativeLeft = scrollRelativeElement.scrollLeft;\n\t\t\t\t\t\tscrollRelativeTop = scrollRelativeElement.scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tx = box.left + scrollRelativeLeft - clientLeft;\n\t\t\t\t\ty = box.top + scrollRelativeTop - clientTop;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar current = this,\n\t\t\t\t\tprevious = null,\n\t\t\t\t\toffsetParent;\n\t\t\t\twhile ( current && !( current.getName() == 'body' || current.getName() == 'html' ) ) {\n\t\t\t\t\tx += current.$.offsetLeft - current.$.scrollLeft;\n\t\t\t\t\ty += current.$.offsetTop - current.$.scrollTop;\n\n\t\t\t\t\t// Opera includes clientTop|Left into offsetTop|Left.\n\t\t\t\t\tif ( !current.equals( this ) ) {\n\t\t\t\t\t\tx += ( current.$.clientLeft || 0 );\n\t\t\t\t\t\ty += ( current.$.clientTop || 0 );\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scrollElement = previous;\n\t\t\t\t\twhile ( scrollElement && !scrollElement.equals( current ) ) {\n\t\t\t\t\t\tx -= scrollElement.$.scrollLeft;\n\t\t\t\t\t\ty -= scrollElement.$.scrollTop;\n\t\t\t\t\t\tscrollElement = scrollElement.getParent();\n\t\t\t\t\t}\n\n\t\t\t\t\tprevious = current;\n\t\t\t\t\tcurrent = ( offsetParent = current.$.offsetParent ) ? new CKEDITOR.dom.element( offsetParent ) : null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( refDocument ) {\n\t\t\t\tvar currentWindow = this.getWindow(),\n\t\t\t\t\trefWindow = refDocument.getWindow();\n\n\t\t\t\tif ( !currentWindow.equals( refWindow ) && currentWindow.$.frameElement ) {\n\t\t\t\t\tvar iframePosition = ( new CKEDITOR.dom.element( currentWindow.$.frameElement ) ).getDocumentPosition( refDocument );\n\n\t\t\t\t\tx += iframePosition.x;\n\t\t\t\t\ty += iframePosition.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !document.documentElement.getBoundingClientRect ) {\n\t\t\t\t// In Firefox, we'll endup one pixel before the element positions,\n\t\t\t\t// so we must add it here.\n\t\t\t\tif ( CKEDITOR.env.gecko && !quirks ) {\n\t\t\t\t\tx += this.$.clientLeft ? 1 : 0;\n\t\t\t\t\ty += this.$.clientTop ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn { x: x, y: y };\n\t\t},\n\n\t\t/**\n\t\t * Make any page element visible inside the browser viewport.\n\t\t *\n\t\t * @param {Boolean} [alignToTop=false]\n\t\t */\n\t\tscrollIntoView: function( alignToTop ) {\n\t\t\tvar parent = this.getParent();\n\t\t\tif ( !parent )\n\t\t\t\treturn;\n\n\t\t\t// Scroll the element into parent container from the inner out.\n\t\t\tdo {\n\t\t\t\t// Check ancestors that overflows.\n\t\t\t\tvar overflowed =\n\t\t\t\t\tparent.$.clientWidth && parent.$.clientWidth < parent.$.scrollWidth ||\n\t\t\t\t\tparent.$.clientHeight && parent.$.clientHeight < parent.$.scrollHeight;\n\n\t\t\t\t// Skip body element, which will report wrong clientHeight when containing\n\t\t\t\t// floated content. (#9523)\n\t\t\t\tif ( overflowed && !parent.is( 'body' ) )\n\t\t\t\t\tthis.scrollIntoParent( parent, alignToTop, 1 );\n\n\t\t\t\t// Walk across the frame.\n\t\t\t\tif ( parent.is( 'html' ) ) {\n\t\t\t\t\tvar win = parent.getWindow();\n\n\t\t\t\t\t// Avoid security error.\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar iframe = win.$.frameElement;\n\t\t\t\t\t\tiframe && ( parent = new CKEDITOR.dom.element( iframe ) );\n\t\t\t\t\t} catch ( er ) {}\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile ( ( parent = parent.getParent() ) );\n\t\t},\n\n\t\t/**\n\t\t * Make any page element visible inside one of the ancestors by scrolling the parent.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element/CKEDITOR.dom.window} parent The container to scroll into.\n\t\t * @param {Boolean} [alignToTop] Align the element's top side with the container's\n\t\t * when `true` is specified; align the bottom with viewport bottom when\n\t\t * `false` is specified. Otherwise scroll on either side with the minimum\n\t\t * amount to show the element.\n\t\t * @param {Boolean} [hscroll] Whether horizontal overflow should be considered.\n\t\t */\n\t\tscrollIntoParent: function( parent, alignToTop, hscroll ) {\n\t\t\t!parent && ( parent = this.getWindow() );\n\n\t\t\tvar doc = parent.getDocument();\n\t\t\tvar isQuirks = doc.$.compatMode == 'BackCompat';\n\n\t\t\t// On window <html> is scrolled while quirks scrolls <body>.\n\t\t\tif ( parent instanceof CKEDITOR.dom.window )\n\t\t\t\tparent = isQuirks ? doc.getBody() : doc.getDocumentElement();\n\n\t\t\t// Scroll the parent by the specified amount.\n\t\t\tfunction scrollBy( x, y ) {\n\t\t\t\t// Webkit doesn't support \"scrollTop/scrollLeft\"\n\t\t\t\t// on documentElement/body element.\n\t\t\t\tif ( /body|html/.test( parent.getName() ) )\n\t\t\t\t\tparent.getWindow().$.scrollBy( x, y );\n\t\t\t\telse {\n\t\t\t\t\tparent.$.scrollLeft += x;\n\t\t\t\t\tparent.$.scrollTop += y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Figure out the element position relative to the specified window.\n\t\t\tfunction screenPos( element, refWin ) {\n\t\t\t\tvar pos = { x: 0, y: 0 };\n\n\t\t\t\tif ( !( element.is( isQuirks ? 'body' : 'html' ) ) ) {\n\t\t\t\t\tvar box = element.$.getBoundingClientRect();\n\t\t\t\t\tpos.x = box.left, pos.y = box.top;\n\t\t\t\t}\n\n\t\t\t\tvar win = element.getWindow();\n\t\t\t\tif ( !win.equals( refWin ) ) {\n\t\t\t\t\tvar outerPos = screenPos( CKEDITOR.dom.element.get( win.$.frameElement ), refWin );\n\t\t\t\t\tpos.x += outerPos.x, pos.y += outerPos.y;\n\t\t\t\t}\n\n\t\t\t\treturn pos;\n\t\t\t}\n\n\t\t\t// calculated margin size.\n\t\t\tfunction margin( element, side ) {\n\t\t\t\treturn parseInt( element.getComputedStyle( 'margin-' + side ) || 0, 10 ) || 0;\n\t\t\t}\n\n\t\t\tvar win = parent.getWindow();\n\n\t\t\tvar thisPos = screenPos( this, win ),\n\t\t\t\tparentPos = screenPos( parent, win ),\n\t\t\t\teh = this.$.offsetHeight,\n\t\t\t\tew = this.$.offsetWidth,\n\t\t\t\tch = parent.$.clientHeight,\n\t\t\t\tcw = parent.$.clientWidth,\n\t\t\t\tlt, br;\n\n\t\t\t// Left-top margins.\n\t\t\tlt = {\n\t\t\t\tx: thisPos.x - margin( this, 'left' ) - parentPos.x || 0,\n\t\t\t\ty: thisPos.y - margin( this, 'top' ) - parentPos.y || 0\n\t\t\t};\n\n\t\t\t// Bottom-right margins.\n\t\t\tbr = {\n\t\t\t\tx: thisPos.x + ew + margin( this, 'right' ) - ( ( parentPos.x ) + cw ) || 0,\n\t\t\t\ty: thisPos.y + eh + margin( this, 'bottom' ) - ( ( parentPos.y ) + ch ) || 0\n\t\t\t};\n\n\t\t\t// 1. Do the specified alignment as much as possible;\n\t\t\t// 2. Otherwise be smart to scroll only the minimum amount;\n\t\t\t// 3. Never cut at the top;\n\t\t\t// 4. DO NOT scroll when already visible.\n\t\t\tif ( lt.y < 0 || br.y > 0 )\n\t\t\t\tscrollBy( 0, alignToTop === true ? lt.y : alignToTop === false ? br.y : lt.y < 0 ? lt.y : br.y );\n\n\t\t\tif ( hscroll && ( lt.x < 0 || br.x > 0 ) )\n\t\t\t\tscrollBy( lt.x < 0 ? lt.x : br.x, 0 );\n\t\t},\n\n\t\t/**\n\t\t * Switch the `class` attribute to reflect one of the triple states of an\n\t\t * element in one of {@link CKEDITOR#TRISTATE_ON}, {@link CKEDITOR#TRISTATE_OFF}\n\t\t * or {@link CKEDITOR#TRISTATE_DISABLED}.\n\t\t *\n\t\t *\t\tlink.setState( CKEDITOR.TRISTATE_ON );\n\t\t *\t\t// <a class=\"cke_on\" aria-pressed=\"true\">...</a>\n\t\t *\t\tlink.setState( CKEDITOR.TRISTATE_OFF );\n\t\t *\t\t// <a class=\"cke_off\">...</a>\n\t\t *\t\tlink.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t *\t\t// <a class=\"cke_disabled\" aria-disabled=\"true\">...</a>\n\t\t *\n\t\t *\t\tspan.setState( CKEDITOR.TRISTATE_ON, 'cke_button' );\n\t\t *\t\t// <span class=\"cke_button_on\">...</span>\n\t\t *\n\t\t * @param {Number} state Indicate the element state. One of {@link CKEDITOR#TRISTATE_ON},\n\t\t * {@link CKEDITOR#TRISTATE_OFF}, {@link CKEDITOR#TRISTATE_DISABLED}.\n\t\t * @param [base='cke'] The prefix apply to each of the state class name.\n\t\t * @param [useAria=true] Whether toggle the ARIA state attributes besides of class name change.\n\t\t */\n\t\tsetState: function( state, base, useAria ) {\n\t\t\tbase = base || 'cke';\n\n\t\t\tswitch ( state ) {\n\t\t\t\tcase CKEDITOR.TRISTATE_ON:\n\t\t\t\t\tthis.addClass( base + '_on' );\n\t\t\t\t\tthis.removeClass( base + '_off' );\n\t\t\t\t\tthis.removeClass( base + '_disabled' );\n\t\t\t\t\tuseAria && this.setAttribute( 'aria-pressed', true );\n\t\t\t\t\tuseAria && this.removeAttribute( 'aria-disabled' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.TRISTATE_DISABLED:\n\t\t\t\t\tthis.addClass( base + '_disabled' );\n\t\t\t\t\tthis.removeClass( base + '_off' );\n\t\t\t\t\tthis.removeClass( base + '_on' );\n\t\t\t\t\tuseAria && this.setAttribute( 'aria-disabled', true );\n\t\t\t\t\tuseAria && this.removeAttribute( 'aria-pressed' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.addClass( base + '_off' );\n\t\t\t\t\tthis.removeClass( base + '_on' );\n\t\t\t\t\tthis.removeClass( base + '_disabled' );\n\t\t\t\t\tuseAria && this.removeAttribute( 'aria-pressed' );\n\t\t\t\t\tuseAria && this.removeAttribute( 'aria-disabled' );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the inner document of this `<iframe>` element.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.document} The inner document.\n\t\t */\n\t\tgetFrameDocument: function() {\n\t\t\tvar $ = this.$;\n\n\t\t\ttry {\n\t\t\t\t// In IE, with custom document.domain, it may happen that\n\t\t\t\t// the iframe is not yet available, resulting in \"Access\n\t\t\t\t// Denied\" for the following property access.\n\t\t\t\t$.contentWindow.document;\n\t\t\t} catch ( e ) {\n\t\t\t\t// Trick to solve this issue, forcing the iframe to get ready\n\t\t\t\t// by simply setting its \"src\" property.\n\t\t\t\t$.src = $.src;\n\t\t\t}\n\n\t\t\treturn $ && new CKEDITOR.dom.document( $.contentWindow.document );\n\t\t},\n\n\t\t/**\n\t\t * Copy all the attributes from one node to the other, kinda like a clone\n\t\t * skipAttributes is an object with the attributes that must **not** be copied.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} dest The destination element.\n\t\t * @param {Object} skipAttributes A dictionary of attributes to skip.\n\t\t */\n\t\tcopyAttributes: function( dest, skipAttributes ) {\n\t\t\tvar attributes = this.$.attributes;\n\t\t\tskipAttributes = skipAttributes || {};\n\n\t\t\tfor ( var n = 0; n < attributes.length; n++ ) {\n\t\t\t\tvar attribute = attributes[ n ];\n\n\t\t\t\t// Lowercase attribute name hard rule is broken for\n\t\t\t\t// some attribute on IE, e.g. CHECKED.\n\t\t\t\tvar attrName = attribute.nodeName.toLowerCase(),\n\t\t\t\t\tattrValue;\n\n\t\t\t\t// We can set the type only once, so do it with the proper value, not copying it.\n\t\t\t\tif ( attrName in skipAttributes )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tif ( attrName == 'checked' && ( attrValue = this.getAttribute( attrName ) ) )\n\t\t\t\t\tdest.setAttribute( attrName, attrValue );\n\t\t\t\t// IE contains not specified attributes in $.attributes so we need to check\n\t\t\t\t// if elements attribute is specified using hasAttribute.\n\t\t\t\telse if ( !CKEDITOR.env.ie || this.hasAttribute( attrName ) ) {\n\t\t\t\t\tattrValue = this.getAttribute( attrName );\n\t\t\t\t\tif ( attrValue === null )\n\t\t\t\t\t\tattrValue = attribute.nodeValue;\n\n\t\t\t\t\tdest.setAttribute( attrName, attrValue );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The style:\n\t\t\tif ( this.$.style.cssText !== '' )\n\t\t\t\tdest.$.style.cssText = this.$.style.cssText;\n\t\t},\n\n\t\t/**\n\t\t * Changes the tag name of the current element.\n\t\t *\n\t\t * @param {String} newTag The new tag for the element.\n\t\t */\n\t\trenameNode: function( newTag ) {\n\t\t\t// If it's already correct exit here.\n\t\t\tif ( this.getName() == newTag )\n\t\t\t\treturn;\n\n\t\t\tvar doc = this.getDocument();\n\n\t\t\t// Create the new node.\n\t\t\tvar newNode = new CKEDITOR.dom.element( newTag, doc );\n\n\t\t\t// Copy all attributes.\n\t\t\tthis.copyAttributes( newNode );\n\n\t\t\t// Move children to the new node.\n\t\t\tthis.moveChildren( newNode );\n\n\t\t\t// Replace the node.\n\t\t\tthis.getParent( true ) && this.$.parentNode.replaceChild( newNode.$, this.$ );\n\t\t\tnewNode.$[ 'data-cke-expando' ] = this.$[ 'data-cke-expando' ];\n\t\t\tthis.$ = newNode.$;\n\t\t\t// Bust getName's cache. (#8663)\n\t\t\tdelete this.getName;\n\t\t},\n\n\t\t/**\n\t\t * Gets a DOM tree descendant under the current node.\n\t\t *\n\t\t *\t\tvar strong = p.getChild( 0 );\n\t\t *\n\t\t * @method\n\t\t * @param {Array/Number} indices The child index or array of child indices under the node.\n\t\t * @returns {CKEDITOR.dom.node} The specified DOM child under the current node. Null if child does not exist.\n\t\t */\n\t\tgetChild: ( function() {\n\t\t\tfunction getChild( rawNode, index ) {\n\t\t\t\tvar childNodes = rawNode.childNodes;\n\n\t\t\t\tif ( index >= 0 && index < childNodes.length )\n\t\t\t\t\treturn childNodes[ index ];\n\t\t\t}\n\n\t\t\treturn function( indices ) {\n\t\t\t\tvar rawNode = this.$;\n\n\t\t\t\tif ( !indices.slice )\n\t\t\t\t\trawNode = getChild( rawNode, indices );\n\t\t\t\telse {\n\t\t\t\t\tindices = indices.slice();\n\t\t\t\t\twhile ( indices.length > 0 && rawNode )\n\t\t\t\t\t\trawNode = getChild( rawNode, indices.shift() );\n\t\t\t\t}\n\n\t\t\t\treturn rawNode ? new CKEDITOR.dom.node( rawNode ) : null;\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets number of element's children.\n\t\t *\n\t\t * @returns {Number}\n\t\t */\n\t\tgetChildCount: function() {\n\t\t\treturn this.$.childNodes.length;\n\t\t},\n\n\t\t/**\n\t\t * Disables browser's context menu in this element.\n\t\t */\n\t\tdisableContextMenu: function() {\n\t\t\tthis.on( 'contextmenu', function( evt ) {\n\t\t\t\t// Cancel the browser context menu.\n\t\t\t\tif ( !evt.data.getTarget().getAscendant( enablesContextMenu, true ) )\n\t\t\t\t\tevt.data.preventDefault();\n\t\t\t} );\n\n\t\t\tfunction enablesContextMenu( node ) {\n\t\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT && node.hasClass( 'cke_enable_context_menu' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets element's direction. Supports both CSS `direction` prop and `dir` attr.\n\t\t */\n\t\tgetDirection: function( useComputed ) {\n\t\t\tif ( useComputed ) {\n\t\t\t\treturn this.getComputedStyle( 'direction' ) ||\n\t\t\t\t\t\tthis.getDirection() ||\n\t\t\t\t\t\tthis.getParent() && this.getParent().getDirection( 1 ) ||\n\t\t\t\t\t\tthis.getDocument().$.dir ||\n\t\t\t\t\t\t'ltr';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.getStyle( 'direction' ) || this.getAttribute( 'dir' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets, sets and removes custom data to be stored as HTML5 data-* attributes.\n\t\t *\n\t\t *\t\telement.data( 'extra-info', 'test' );\t// Appended the attribute data-extra-info=\"test\" to the element.\n\t\t *\t\talert( element.data( 'extra-info' ) );\t// 'test'\n\t\t *\t\telement.data( 'extra-info', false );\t// Remove the data-extra-info attribute from the element.\n\t\t *\n\t\t * @param {String} name The name of the attribute, excluding the `data-` part.\n\t\t * @param {String} [value] The value to set. If set to false, the attribute will be removed.\n\t\t */\n\t\tdata: function( name, value ) {\n\t\t\tname = 'data-' + name;\n\t\t\tif ( value === undefined )\n\t\t\t\treturn this.getAttribute( name );\n\t\t\telse if ( value === false )\n\t\t\t\tthis.removeAttribute( name );\n\t\t\telse\n\t\t\t\tthis.setAttribute( name, value );\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves an editor instance which is based on this element (if any).\n\t\t * It basically loops over {@link CKEDITOR#instances} in search for an instance\n\t\t * that uses the element.\n\t\t *\n\t\t *\t\tvar element = new CKEDITOR.dom.element( 'div' );\n\t\t *\t\telement.appendTo( CKEDITOR.document.getBody() );\n\t\t *\t\tCKEDITOR.replace( element );\n\t\t *\t\talert( element.getEditor().name ); // 'editor1'\n\t\t *\n\t\t * @returns {CKEDITOR.editor} An editor instance or null if nothing has been found.\n\t\t */\n\t\tgetEditor: function() {\n\t\t\tvar instances = CKEDITOR.instances,\n\t\t\t\tname, instance;\n\n\t\t\tfor ( name in instances ) {\n\t\t\t\tinstance = instances[ name ];\n\n\t\t\t\tif ( instance.element.equals( this ) && instance.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO )\n\t\t\t\t\treturn instance;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Returns list of elements within this element that match specified `selector`.\n\t\t *\n\t\t * **Notes:**\n\t\t *\n\t\t *\t* Not available in IE7.\n\t\t *\t* Returned list is not a live collection (like a result of native `querySelectorAll`).\n\t\t *\t* Unlike native `querySelectorAll` this method ensures selector contextualization. This is:\n\t\t *\n\t\t *\t\t\tHTML:\t\t'<body><div><i>foo</i></div></body>'\n\t\t *\t\t\tNative:\t\tdiv.querySelectorAll( 'body i' ) // ->\t\t[ <i>foo</i> ]\n\t\t *\t\t\tMethod:\t\tdiv.find( 'body i' ) // ->\t\t\t\t\t[]\n\t\t *\t\t\t\t\t\tdiv.find( 'i' ) // ->\t\t\t\t\t\t[ <i>foo</i> ]\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String} selector\n\t\t * @returns {CKEDITOR.dom.nodeList}\n\t\t */\n\t\tfind: function( selector ) {\n\t\t\tvar removeTmpId = createTmpId( this ),\n\t\t\t\tlist = new CKEDITOR.dom.nodeList(\n\t\t\t\t\tthis.$.querySelectorAll( getContextualizedSelector( this, selector ) )\n\t\t\t\t);\n\n\t\t\tremoveTmpId();\n\n\t\t\treturn list;\n\t\t},\n\n\t\t/**\n\t\t * Returns first element within this element that matches specified `selector`.\n\t\t *\n\t\t * **Notes:**\n\t\t *\n\t\t *\t* Not available in IE7.\n\t\t *\t* Unlike native `querySelectorAll` this method ensures selector contextualization. This is:\n\t\t *\n\t\t *\t\t\tHTML:\t\t'<body><div><i>foo</i></div></body>'\n\t\t *\t\t\tNative:\t\tdiv.querySelector( 'body i' ) // ->\t\t\t<i>foo</i>\n\t\t *\t\t\tMethod:\t\tdiv.findOne( 'body i' ) // ->\t\t\t\tnull\n\t\t *\t\t\t\t\t\tdiv.findOne( 'i' ) // ->\t\t\t\t\t<i>foo</i>\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String} selector\n\t\t * @returns {CKEDITOR.dom.element}\n\t\t */\n\t\tfindOne: function( selector ) {\n\t\t\tvar removeTmpId = createTmpId( this ),\n\t\t\t\tfound = this.$.querySelector( getContextualizedSelector( this, selector ) );\n\n\t\t\tremoveTmpId();\n\n\t\t\treturn found ? new CKEDITOR.dom.element( found ) : null;\n\t\t},\n\n\t\t/**\n\t\t * Traverse the DOM of this element (inclusive), executing a callback for\n\t\t * each node.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<div><p>foo<b>bar</b>bom</p></div>' );\n\t\t *\t\telement.forEach( function( node ) {\n\t\t *\t\t\tconsole.log( node );\n\t\t *\t\t} );\n\t\t *\t\t// Will log:\n\t\t *\t\t// 1. <div> element,\n\t\t *\t\t// 2. <p> element,\n\t\t *\t\t// 3. \"foo\" text node,\n\t\t *\t\t// 4. <b> element,\n\t\t *\t\t// 5. \"bar\" text node,\n\t\t *\t\t// 6. \"bom\" text node.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {Function} callback Function to be executed on every node.\n\t\t * If `callback` returns `false` descendants of the node will be ignored.\n\t\t * @param {CKEDITOR.htmlParser.node} callback.node Node passed as argument.\n\t\t * @param {Number} [type] If specified `callback` will be executed only on\n\t\t * nodes of this type.\n\t\t * @param {Boolean} [skipRoot] Don't execute `callback` on this element.\n\t\t */\n\t\tforEach: function( callback, type, skipRoot ) {\n\t\t\tif ( !skipRoot && ( !type || this.type == type ) )\n\t\t\t\t\tvar ret = callback( this );\n\n\t\t\t// Do not filter children if callback returned false.\n\t\t\tif ( ret === false )\n\t\t\t\treturn;\n\n\t\t\tvar children = this.getChildren(),\n\t\t\t\tnode,\n\t\t\t\ti = 0;\n\n\t\t\t// We do not cache the size, because the live list of nodes may be changed by the callback.\n\t\t\tfor ( ; i < children.count(); i++ ) {\n\t\t\t\tnode = children.getItem( i );\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\tnode.forEach( callback, type );\n\t\t\t\telse if ( !type || node.type == type )\n\t\t\t\t\tcallback( node );\n\t\t\t}\n\t\t}\n\t} );\n\n\tfunction createTmpId( element ) {\n\t\tvar hadId = true;\n\n\t\tif ( !element.$.id ) {\n\t\t\telement.$.id = 'cke_tmp_' + CKEDITOR.tools.getNextNumber();\n\t\t\thadId = false;\n\t\t}\n\n\t\treturn function() {\n\t\t\tif ( !hadId )\n\t\t\t\telement.removeAttribute( 'id' );\n\t\t};\n\t}\n\n\tfunction getContextualizedSelector( element, selector ) {\n\t\tvar id = CKEDITOR.tools.escapeCss( element.$.id );\n\t\treturn '#' + id + ' ' + selector.split( /,\\s*/ ).join( ', #' + id + ' ' );\n\t}\n\n\tvar sides = {\n\t\twidth: [ 'border-left-width', 'border-right-width', 'padding-left', 'padding-right' ],\n\t\theight: [ 'border-top-width', 'border-bottom-width', 'padding-top', 'padding-bottom' ]\n\t};\n\n\t// Generate list of specific style rules, applicable to margin/padding/border.\n\tfunction expandedRules( style ) {\n\t\tvar sides = [ 'top', 'left', 'right', 'bottom' ], components;\n\n\t\tif ( style == 'border' )\n\t\t\t\tcomponents = [ 'color', 'style', 'width' ];\n\n\t\tvar styles = [];\n\t\tfor ( var i = 0 ; i < sides.length ; i++ ) {\n\n\t\t\tif ( components ) {\n\t\t\t\tfor ( var j = 0 ; j < components.length ; j++ )\n\t\t\t\t\tstyles.push( [ style, sides[ i ], components[ j ] ].join( '-' ) );\n\t\t\t} else {\n\t\t\t\tstyles.push( [ style, sides[ i ] ].join( '-' ) );\n\t\t\t}\n\t\t}\n\n\t\treturn styles;\n\t}\n\n\tfunction marginAndPaddingSize( type ) {\n\t\tvar adjustment = 0;\n\t\tfor ( var i = 0, len = sides[ type ].length; i < len; i++ )\n\t\t\tadjustment += parseInt( this.getComputedStyle( sides[ type ][ i ] ) || 0, 10 ) || 0;\n\t\treturn adjustment;\n\t}\n\n\t/**\n\t * Sets the element size considering the box model.\n\t *\n\t * @param {'width'/'height'} type The dimension to set.\n\t * @param {Number} size The length unit in px.\n\t * @param {Boolean} isBorderBox Apply the size based on the border box model.\n\t */\n\tCKEDITOR.dom.element.prototype.setSize = function( type, size, isBorderBox ) {\n\t\tif ( typeof size == 'number' ) {\n\t\t\tif ( isBorderBox && !( CKEDITOR.env.ie && CKEDITOR.env.quirks ) )\n\t\t\t\tsize -= marginAndPaddingSize.call( this, type );\n\n\t\t\tthis.setStyle( type, size + 'px' );\n\t\t}\n\t};\n\n\t/**\n\t * Gets the element size, possibly considering the box model.\n\t *\n\t * @param {'width'/'height'} type The dimension to get.\n\t * @param {Boolean} isBorderBox Get the size based on the border box model.\n\t */\n\tCKEDITOR.dom.element.prototype.getSize = function( type, isBorderBox ) {\n\t\tvar size = Math.max( this.$[ 'offset' + CKEDITOR.tools.capitalize( type ) ], this.$[ 'client' + CKEDITOR.tools.capitalize( type ) ] ) || 0;\n\n\t\tif ( isBorderBox )\n\t\t\tsize -= marginAndPaddingSize.call( this, type );\n\n\t\treturn size;\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/element.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * DocumentFragment is a \"lightweight\" or \"minimal\" Document object. It is\n * commonly used to extract a portion of a document's tree or to create a new\n * fragment of a document. Various operations may take document fragment objects\n * as arguments and result in all the child nodes of the document fragment being\n * moved to the child list of this node.\n *\n * @class\n * @constructor Creates a document fragment class instance.\n * @param {CKEDITOR.dom.document/DocumentFragment} [nodeOrDoc=CKEDITOR.document]\n */\nCKEDITOR.dom.documentFragment = function( nodeOrDoc ) {\n\tnodeOrDoc = nodeOrDoc || CKEDITOR.document;\n\n\tif ( nodeOrDoc.type == CKEDITOR.NODE_DOCUMENT )\n\t\tthis.$ = nodeOrDoc.$.createDocumentFragment();\n\telse\n\t\tthis.$ = nodeOrDoc;\n};\n\nCKEDITOR.tools.extend( CKEDITOR.dom.documentFragment.prototype, CKEDITOR.dom.element.prototype, {\n\t/**\n\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_DOCUMENT_FRAGMENT}.\n\t *\n\t * @readonly\n\t * @property {Number} [=CKEDITOR.NODE_DOCUMENT_FRAGMENT]\n\t */\n\ttype: CKEDITOR.NODE_DOCUMENT_FRAGMENT,\n\n\t/**\n\t * Inserts the document fragment content after the specified node.\n\t *\n\t * @param {CKEDITOR.dom.node} node\n\t */\n\tinsertAfterNode: function( node ) {\n\t\tnode = node.$;\n\t\tnode.parentNode.insertBefore( this.$, node.nextSibling );\n\t},\n\n\t/**\n\t * Gets HTML of this document fragment's children.\n\t *\n\t * @since 4.5\n\t * @returns {String} The HTML of this document fragment's children.\n\t */\n\tgetHtml: function() {\n\t\tvar container = new CKEDITOR.dom.element( 'div' );\n\n\t\tthis.clone( 1, 1 ).appendTo( container );\n\n\t\treturn container.getHtml().replace( /\\s*data-cke-expando=\".*?\"/g, '' );\n\t}\n}, true, {\n\t'append': 1, 'appendBogus': 1, 'clone': 1, 'getFirst': 1, 'getHtml': 1, 'getLast': 1, 'getParent': 1, 'getNext': 1, 'getPrevious': 1,\n\t'appendTo': 1, 'moveChildren': 1, 'insertBefore': 1, 'insertAfterNode': 1, 'replace': 1, 'trim': 1, 'type': 1,\n\t'ltrim': 1, 'rtrim': 1, 'getDocument': 1, 'getChildCount': 1, 'getChild': 1, 'getChildren': 1\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/documentfragment.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t// This function is to be called under a \"walker\" instance scope.\n\tfunction iterate( rtl, breakOnFalse ) {\n\t\tvar range = this.range;\n\n\t\t// Return null if we have reached the end.\n\t\tif ( this._.end )\n\t\t\treturn null;\n\n\t\t// This is the first call. Initialize it.\n\t\tif ( !this._.start ) {\n\t\t\tthis._.start = 1;\n\n\t\t\t// A collapsed range must return null at first call.\n\t\t\tif ( range.collapsed ) {\n\t\t\t\tthis.end();\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Move outside of text node edges.\n\t\t\trange.optimize();\n\t\t}\n\n\t\tvar node,\n\t\t\tstartCt = range.startContainer,\n\t\t\tendCt = range.endContainer,\n\t\t\tstartOffset = range.startOffset,\n\t\t\tendOffset = range.endOffset,\n\t\t\tguard,\n\t\t\tuserGuard = this.guard,\n\t\t\ttype = this.type,\n\t\t\tgetSourceNodeFn = ( rtl ? 'getPreviousSourceNode' : 'getNextSourceNode' );\n\n\t\t// Create the LTR guard function, if necessary.\n\t\tif ( !rtl && !this._.guardLTR ) {\n\t\t\t// The node that stops walker from moving up.\n\t\t\tvar limitLTR = endCt.type == CKEDITOR.NODE_ELEMENT ? endCt : endCt.getParent();\n\n\t\t\t// The node that stops the walker from going to next.\n\t\t\tvar blockerLTR = endCt.type == CKEDITOR.NODE_ELEMENT ? endCt.getChild( endOffset ) : endCt.getNext();\n\n\t\t\tthis._.guardLTR = function( node, movingOut ) {\n\t\t\t\treturn ( ( !movingOut || !limitLTR.equals( node ) ) && ( !blockerLTR || !node.equals( blockerLTR ) ) && ( node.type != CKEDITOR.NODE_ELEMENT || !movingOut || !node.equals( range.root ) ) );\n\t\t\t};\n\t\t}\n\n\t\t// Create the RTL guard function, if necessary.\n\t\tif ( rtl && !this._.guardRTL ) {\n\t\t\t// The node that stops walker from moving up.\n\t\t\tvar limitRTL = startCt.type == CKEDITOR.NODE_ELEMENT ? startCt : startCt.getParent();\n\n\t\t\t// The node that stops the walker from going to next.\n\t\t\tvar blockerRTL = startCt.type == CKEDITOR.NODE_ELEMENT ? startOffset ? startCt.getChild( startOffset - 1 ) : null : startCt.getPrevious();\n\n\t\t\tthis._.guardRTL = function( node, movingOut ) {\n\t\t\t\treturn ( ( !movingOut || !limitRTL.equals( node ) ) && ( !blockerRTL || !node.equals( blockerRTL ) ) && ( node.type != CKEDITOR.NODE_ELEMENT || !movingOut || !node.equals( range.root ) ) );\n\t\t\t};\n\t\t}\n\n\t\t// Define which guard function to use.\n\t\tvar stopGuard = rtl ? this._.guardRTL : this._.guardLTR;\n\n\t\t// Make the user defined guard function participate in the process,\n\t\t// otherwise simply use the boundary guard.\n\t\tif ( userGuard ) {\n\t\t\tguard = function( node, movingOut ) {\n\t\t\t\tif ( stopGuard( node, movingOut ) === false )\n\t\t\t\t\treturn false;\n\n\t\t\t\treturn userGuard( node, movingOut );\n\t\t\t};\n\t\t} else {\n\t\t\tguard = stopGuard;\n\t\t}\n\n\t\tif ( this.current )\n\t\t\tnode = this.current[ getSourceNodeFn ]( false, type, guard );\n\t\telse {\n\t\t\t// Get the first node to be returned.\n\t\t\tif ( rtl ) {\n\t\t\t\tnode = endCt;\n\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tif ( endOffset > 0 )\n\t\t\t\t\t\tnode = node.getChild( endOffset - 1 );\n\t\t\t\t\telse\n\t\t\t\t\t\tnode = ( guard( node, true ) === false ) ? null : node.getPreviousSourceNode( true, type, guard );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode = startCt;\n\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tif ( !( node = node.getChild( startOffset ) ) )\n\t\t\t\t\t\tnode = ( guard( startCt, true ) === false ) ? null : startCt.getNextSourceNode( true, type, guard );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( node && guard( node ) === false )\n\t\t\t\tnode = null;\n\t\t}\n\n\t\twhile ( node && !this._.end ) {\n\t\t\tthis.current = node;\n\n\t\t\tif ( !this.evaluator || this.evaluator( node ) !== false ) {\n\t\t\t\tif ( !breakOnFalse )\n\t\t\t\t\treturn node;\n\t\t\t} else if ( breakOnFalse && this.evaluator ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tnode = node[ getSourceNodeFn ]( false, type, guard );\n\t\t}\n\n\t\tthis.end();\n\t\treturn this.current = null;\n\t}\n\n\tfunction iterateToLast( rtl ) {\n\t\tvar node,\n\t\t\tlast = null;\n\n\t\twhile ( ( node = iterate.call( this, rtl ) ) )\n\t\t\tlast = node;\n\n\t\treturn last;\n\t}\n\n\t/**\n\t * Utility class to \"walk\" the DOM inside range boundaries. If the\n\t * range starts or ends in the middle of the text node, this node will\n\t * be included as a whole. Outside changes to the range may break the walker.\n\t *\n\t * The walker may return nodes that are not totally included in the\n\t * range boundaries. Let us take the following range representation,\n\t * where the square brackets indicate the boundaries:\n\t *\n\t *\t\t[<p>Some <b>sample] text</b>\n\t *\n\t * While walking forward into the above range, the following nodes are\n\t * returned: `<p>`, `\"Some \"`, `<b>` and `\"sample\"`. Going\n\t * backwards instead we have: `\"sample\"` and `\"Some \"`. So note that the\n\t * walker always returns nodes when \"entering\" them, but not when\n\t * \"leaving\" them. The {@link #guard} function is instead called both when\n\t * entering and when leaving nodes.\n\t *\n\t * @class\n\t */\n\tCKEDITOR.dom.walker = CKEDITOR.tools.createClass( {\n\t\t/**\n\t\t * Creates a walker class instance.\n\t\t *\n\t\t * @constructor\n\t\t * @param {CKEDITOR.dom.range} range The range within which to walk.\n\t\t */\n\t\t$: function( range ) {\n\t\t\tthis.range = range;\n\n\t\t\t/**\n\t\t\t * A function executed for every matched node to check whether\n\t\t\t * it is to be considered in the walk or not. If not provided, all\n\t\t\t * matched nodes are considered good.\n\t\t\t *\n\t\t\t * If the function returns `false`, the node is ignored.\n\t\t\t *\n\t\t\t * @property {Function} evaluator\n\t\t\t */\n\t\t\t// this.evaluator = null;\n\n\t\t\t/**\n\t\t\t * A function executed for every node the walk passes by to check\n\t\t\t * whether the walk is to be finished. It is called both when\n\t\t\t * entering and when exiting nodes, as well as for the matched nodes.\n\t\t\t *\n\t\t\t * If this function returns `false`, the walking ends and no more\n\t\t\t * nodes are evaluated.\n\n\t\t\t * @property {Function} guard\n\t\t\t */\n\t\t\t// this.guard = null;\n\n\t\t\t/** @private */\n\t\t\tthis._ = {};\n\t\t},\n\n\t\t//\t\tstatics :\n\t\t//\t\t{\n\t\t//\t\t\t/* Creates a CKEDITOR.dom.walker instance to walk inside DOM boundaries set by nodes.\n\t\t//\t\t\t * @param {CKEDITOR.dom.node} startNode The node from which the walk\n\t\t//\t\t\t *\t\twill start.\n\t\t//\t\t\t * @param {CKEDITOR.dom.node} [endNode] The last node to be considered\n\t\t//\t\t\t *\t\tin the walk. No more nodes are retrieved after touching or\n\t\t//\t\t\t *\t\tpassing it. If not provided, the walker stops at the\n\t\t//\t\t\t *\t\t&lt;body&gt; closing boundary.\n\t\t//\t\t\t * @returns {CKEDITOR.dom.walker} A DOM walker for the nodes between the\n\t\t//\t\t\t *\t\tprovided nodes.\n\t\t//\t\t\t */\n\t\t//\t\t\tcreateOnNodes : function( startNode, endNode, startInclusive, endInclusive )\n\t\t//\t\t\t{\n\t\t//\t\t\t\tvar range = new CKEDITOR.dom.range();\n\t\t//\t\t\t\tif ( startNode )\n\t\t//\t\t\t\t\trange.setStartAt( startNode, startInclusive ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_END ) ;\n\t\t//\t\t\t\telse\n\t\t//\t\t\t\t\trange.setStartAt( startNode.getDocument().getBody(), CKEDITOR.POSITION_AFTER_START ) ;\n\t\t//\n\t\t//\t\t\t\tif ( endNode )\n\t\t//\t\t\t\t\trange.setEndAt( endNode, endInclusive ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START ) ;\n\t\t//\t\t\t\telse\n\t\t//\t\t\t\t\trange.setEndAt( startNode.getDocument().getBody(), CKEDITOR.POSITION_BEFORE_END ) ;\n\t\t//\n\t\t//\t\t\t\treturn new CKEDITOR.dom.walker( range );\n\t\t//\t\t\t}\n\t\t//\t\t},\n\t\t//\n\t\tproto: {\n\t\t\t/**\n\t\t\t * Stops walking. No more nodes are retrieved if this function is called.\n\t\t\t */\n\t\t\tend: function() {\n\t\t\t\tthis._.end = 1;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the next node (on the right).\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.node} The next node or `null` if no more\n\t\t\t * nodes are available.\n\t\t\t */\n\t\t\tnext: function() {\n\t\t\t\treturn iterate.call( this );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the previous node (on the left).\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.node} The previous node or `null` if no more\n\t\t\t * nodes are available.\n\t\t\t */\n\t\t\tprevious: function() {\n\t\t\t\treturn iterate.call( this, 1 );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Checks all nodes on the right, executing the evaluation function.\n\t\t\t *\n\t\t\t * @returns {Boolean} `false` if the evaluator function returned\n\t\t\t * `false` for any of the matched nodes. Otherwise `true`.\n\t\t\t */\n\t\t\tcheckForward: function() {\n\t\t\t\treturn iterate.call( this, 0, 1 ) !== false;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Check all nodes on the left, executing the evaluation function.\n\t\t\t *\n\t\t\t * @returns {Boolean} `false` if the evaluator function returned\n\t\t\t * `false` for any of the matched nodes. Otherwise `true`.\n\t\t\t */\n\t\t\tcheckBackward: function() {\n\t\t\t\treturn iterate.call( this, 1, 1 ) !== false;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Executes a full walk forward (to the right), until no more nodes\n\t\t\t * are available, returning the last valid node.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.node} The last node on the right or `null`\n\t\t\t * if no valid nodes are available.\n\t\t\t */\n\t\t\tlastForward: function() {\n\t\t\t\treturn iterateToLast.call( this );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Executes a full walk backwards (to the left), until no more nodes\n\t\t\t * are available, returning the last valid node.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.node} The last node on the left or `null`\n\t\t\t * if no valid nodes are available.\n\t\t\t */\n\t\t\tlastBackward: function() {\n\t\t\t\treturn iterateToLast.call( this, 1 );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Resets the walker.\n\t\t\t */\n\t\t\treset: function() {\n\t\t\t\tdelete this.current;\n\t\t\t\tthis._ = {};\n\t\t\t}\n\n\t\t}\n\t} );\n\n\t// Anything whose display computed style is block, list-item, table,\n\t// table-row-group, table-header-group, table-footer-group, table-row,\n\t// table-column-group, table-column, table-cell, table-caption, or whose node\n\t// name is hr, br (when enterMode is br only) is a block boundary.\n\tvar blockBoundaryDisplayMatch = {\n\t\t\tblock: 1, 'list-item': 1, table: 1, 'table-row-group': 1,\n\t\t\t'table-header-group': 1, 'table-footer-group': 1, 'table-row': 1, 'table-column-group': 1,\n\t\t\t'table-column': 1, 'table-cell': 1, 'table-caption': 1\n\t\t},\n\t\toutOfFlowPositions = { absolute: 1, fixed: 1 };\n\n\t/**\n\t * Checks whether an element is displayed as a block.\n\t *\n\t * @member CKEDITOR.dom.element\n\t * @param [customNodeNames] Custom list of nodes which will extend\n\t * the default {@link CKEDITOR.dtd#$block} list.\n\t * @returns {Boolean}\n\t */\n\tCKEDITOR.dom.element.prototype.isBlockBoundary = function( customNodeNames ) {\n\t\t// Whether element is in normal page flow. Floated or positioned elements are out of page flow.\n\t\t// Don't consider floated or positioned formatting as block boundary, fall back to dtd check in that case. (#6297)\n\t\tvar inPageFlow = this.getComputedStyle( 'float' ) == 'none' && !( this.getComputedStyle( 'position' ) in outOfFlowPositions );\n\n\t\tif ( inPageFlow && blockBoundaryDisplayMatch[ this.getComputedStyle( 'display' ) ] )\n\t\t\treturn true;\n\n\t\t// Either in $block or in customNodeNames if defined.\n\t\treturn !!( this.is( CKEDITOR.dtd.$block ) || customNodeNames && this.is( customNodeNames ) );\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node is a block boundary.\n\t * See {@link CKEDITOR.dom.element#isBlockBoundary}.\n\t *\n\t * @static\n\t * @param customNodeNames\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.blockBoundary = function( customNodeNames ) {\n\t\treturn function( node ) {\n\t\t\treturn !( node.type == CKEDITOR.NODE_ELEMENT && node.isBlockBoundary( customNodeNames ) );\n\t\t};\n\t};\n\n\t/**\n\t * @static\n\t * @todo\n\t */\n\tCKEDITOR.dom.walker.listItemBoundary = function() {\n\t\treturn this.blockBoundary( { br: 1 } );\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node is a bookmark node or the bookmark node\n\t * inner content.\n\t *\n\t * @static\n\t * @param {Boolean} [contentOnly=false] Whether only test against the text content of\n\t * a bookmark node instead of the element itself (default).\n\t * @param {Boolean} [isReject=false] Whether to return `false` for the bookmark\n\t * node instead of `true` (default).\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.bookmark = function( contentOnly, isReject ) {\n\t\tfunction isBookmarkNode( node ) {\n\t\t\treturn ( node && node.getName && node.getName() == 'span' && node.data( 'cke-bookmark' ) );\n\t\t}\n\n\t\treturn function( node ) {\n\t\t\tvar isBookmark, parent;\n\t\t\t// Is bookmark inner text node?\n\t\t\tisBookmark = ( node && node.type != CKEDITOR.NODE_ELEMENT && ( parent = node.getParent() ) && isBookmarkNode( parent ) );\n\t\t\t// Is bookmark node?\n\t\t\tisBookmark = contentOnly ? isBookmark : isBookmark || isBookmarkNode( node );\n\t\t\treturn !!( isReject ^ isBookmark );\n\t\t};\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node is a text node containing only whitespace characters.\n\t *\n\t * @static\n\t * @param {Boolean} [isReject=false]\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.whitespaces = function( isReject ) {\n\t\treturn function( node ) {\n\t\t\tvar isWhitespace;\n\t\t\tif ( node && node.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t// Whitespace, as well as the Filling Char Sequence text node used in Webkit. (#9384, #13816)\n\t\t\t\tisWhitespace = !CKEDITOR.tools.trim( node.getText() ) ||\n\t\t\t\t\tCKEDITOR.env.webkit && node.getText() == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE;\n\t\t\t}\n\n\t\t\treturn !!( isReject ^ isWhitespace );\n\t\t};\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node is invisible in the WYSIWYG mode.\n\t *\n\t * @static\n\t * @param {Boolean} [isReject=false]\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.invisible = function( isReject ) {\n\t\tvar whitespace = CKEDITOR.dom.walker.whitespaces(),\n\t\t\t// #12221 (Chrome) plus #11111 (Safari).\n\t\t\toffsetWidth0 = CKEDITOR.env.webkit ? 1 : 0;\n\n\t\treturn function( node ) {\n\t\t\tvar invisible;\n\n\t\t\tif ( whitespace( node ) )\n\t\t\t\tinvisible = 1;\n\t\t\telse {\n\t\t\t\t// Visibility should be checked on element.\n\t\t\t\tif ( node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\t\tnode = node.getParent();\n\n\t\t\t\t// Nodes that take no spaces in wysiwyg:\n\t\t\t\t// 1. White-spaces but not including NBSP.\n\t\t\t\t// 2. Empty inline elements, e.g. <b></b>.\n\t\t\t\t// 3. <br> elements (bogus, surrounded by text) (#12423).\n\t\t\t\tinvisible = node.$.offsetWidth <= offsetWidth0;\n\t\t\t}\n\n\t\t\treturn !!( isReject ^ invisible );\n\t\t};\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node type is equal to the passed one.\n\t *\n\t * @static\n\t * @param {Number} type\n\t * @param {Boolean} [isReject=false]\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.nodeType = function( type, isReject ) {\n\t\treturn function( node ) {\n\t\t\treturn !!( isReject ^ ( node.type == type ) );\n\t\t};\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node is a bogus (filler) node from\n\t * `contenteditable` element's point of view.\n\t *\n\t * @static\n\t * @param {Boolean} [isReject=false]\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.bogus = function( isReject ) {\n\t\tfunction nonEmpty( node ) {\n\t\t\treturn !isWhitespaces( node ) && !isBookmark( node );\n\t\t}\n\n\t\treturn function( node ) {\n\t\t\tvar isBogus = CKEDITOR.env.needsBrFiller ? node.is && node.is( 'br' ) : node.getText && tailNbspRegex.test( node.getText() );\n\n\t\t\tif ( isBogus ) {\n\t\t\t\tvar parent = node.getParent(),\n\t\t\t\t\tnext = node.getNext( nonEmpty );\n\n\t\t\t\tisBogus = parent.isBlockBoundary() && ( !next || next.type == CKEDITOR.NODE_ELEMENT && next.isBlockBoundary() );\n\t\t\t}\n\n\t\t\treturn !!( isReject ^ isBogus );\n\t\t};\n\t};\n\n\t/**\n\t * Returns a function which checks whether the node is a temporary element\n\t * (element with the `data-cke-temp` attribute) or its child.\n\t *\n\t * @since 4.3\n\t * @static\n\t * @param {Boolean} [isReject=false] Whether to return `false` for the\n\t * temporary element instead of `true` (default).\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.temp = function( isReject ) {\n\t\treturn function( node ) {\n\t\t\tif ( node.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\tnode = node.getParent();\n\n\t\t\tvar isTemp = node && node.hasAttribute( 'data-cke-temp' );\n\n\t\t\treturn !!( isReject ^ isTemp );\n\t\t};\n\t};\n\n\tvar tailNbspRegex = /^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,\n\t\tisWhitespaces = CKEDITOR.dom.walker.whitespaces(),\n\t\tisBookmark = CKEDITOR.dom.walker.bookmark(),\n\t\tisTemp = CKEDITOR.dom.walker.temp(),\n\t\ttoSkip = function( node ) {\n\t\t\treturn isBookmark( node ) ||\n\t\t\t\tisWhitespaces( node ) ||\n\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT && node.is( CKEDITOR.dtd.$inline ) && !node.is( CKEDITOR.dtd.$empty );\n\t\t};\n\n\t/**\n\t * Returns a function which checks whether the node should be ignored in terms of \"editability\".\n\t *\n\t * This includes:\n\t *\n\t * * whitespaces (see {@link CKEDITOR.dom.walker#whitespaces}),\n\t * * bookmarks (see {@link CKEDITOR.dom.walker#bookmark}),\n\t * * temporary elements (see {@link CKEDITOR.dom.walker#temp}).\n\t *\n\t * @since 4.3\n\t * @static\n\t * @param {Boolean} [isReject=false] Whether to return `false` for the\n\t * ignored element instead of `true` (default).\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.ignored = function( isReject ) {\n\t\treturn function( node ) {\n\t\t\tvar isIgnored = isWhitespaces( node ) || isBookmark( node ) || isTemp( node );\n\n\t\t\treturn !!( isReject ^ isIgnored );\n\t\t};\n\t};\n\n\tvar isIgnored = CKEDITOR.dom.walker.ignored();\n\n\t/**\n\t * Returns a function which checks whether the node is empty.\n\t *\n\t * @since 4.5\n\t * @static\n\t * @param {Boolean} [isReject=false] Whether to return `false` for the\n\t * ignored element instead of `true` (default).\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.empty = function( isReject ) {\n\t\treturn function( node ) {\n\t\t\tvar i = 0,\n\t\t\t\tl = node.getChildCount();\n\n\t\t\tfor ( ; i < l; ++i ) {\n\t\t\t\tif ( !isIgnored( node.getChild( i ) ) ) {\n\t\t\t\t\treturn !!isReject;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !isReject;\n\t\t};\n\t};\n\n\tvar isEmpty = CKEDITOR.dom.walker.empty();\n\n\tfunction filterTextContainers( dtd ) {\n\t\tvar hash = {},\n\t\t\tname;\n\n\t\tfor ( name in dtd ) {\n\t\t\tif ( CKEDITOR.dtd[ name ][ '#' ] )\n\t\t\t\thash[ name ] = 1;\n\t\t}\n\t\treturn hash;\n\t}\n\n\t/**\n\t * A hash of element names which in browsers that {@link CKEDITOR.env#needsBrFiller do not need `<br>` fillers}\n\t * can be selection containers despite being empty.\n\t *\n\t * @since 4.5\n\t * @static\n\t * @property {Object} validEmptyBlockContainers\n\t */\n\tvar validEmptyBlocks = CKEDITOR.dom.walker.validEmptyBlockContainers = CKEDITOR.tools.extend(\n\t\tfilterTextContainers( CKEDITOR.dtd.$block ),\n\t\t{ caption: 1, td: 1, th: 1 }\n\t);\n\n\tfunction isEditable( node ) {\n\t\t// Skip temporary elements, bookmarks and whitespaces.\n\t\tif ( isIgnored( node ) )\n\t\t\treturn false;\n\n\t\tif ( node.type == CKEDITOR.NODE_TEXT )\n\t\t\treturn true;\n\n\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t// All inline and non-editable elements are valid editable places.\n\t\t\t// Note: the <hr> is currently the only element in CKEDITOR.dtd.$empty and CKEDITOR.dtd.$block,\n\t\t\t// but generally speaking we need an intersection of these two sets.\n\t\t\t// Note: non-editable block has to be treated differently (should be selected entirely).\n\t\t\tif ( node.is( CKEDITOR.dtd.$inline ) || node.is( 'hr' ) || node.getAttribute( 'contenteditable' ) == 'false' )\n\t\t\t\treturn true;\n\n\t\t\t// Empty blocks are editable on IE.\n\t\t\tif ( !CKEDITOR.env.needsBrFiller && node.is( validEmptyBlocks ) && isEmpty( node ) )\n\t\t\t\treturn true;\n\t\t}\n\n\t\t// Skip all other nodes.\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns a function which checks whether the node can be a container or a sibling\n\t * of the selection end.\n\t *\n\t * This includes:\n\t *\n\t * * text nodes (but not whitespaces),\n\t * * inline elements,\n\t * * intersection of {@link CKEDITOR.dtd#$empty} and {@link CKEDITOR.dtd#$block} (currently\n\t * it is only `<hr>`),\n\t * * non-editable blocks (special case &mdash; such blocks cannot be containers nor\n\t * siblings, they need to be selected entirely),\n\t * * empty {@link #validEmptyBlockContainers blocks} which can contain text\n\t * ({@link CKEDITOR.env#needsBrFiller old IEs only}).\n\t *\n\t * @since 4.3\n\t * @static\n\t * @param {Boolean} [isReject=false] Whether to return `false` for the\n\t * ignored element instead of `true` (default).\n\t * @returns {Function}\n\t */\n\tCKEDITOR.dom.walker.editable = function( isReject ) {\n\t\treturn function( node ) {\n\t\t\treturn !!( isReject ^ isEditable( node ) );\n\t\t};\n\t};\n\n\t/**\n\t * Checks if there is a filler node at the end of an element, and returns it.\n\t *\n\t * @member CKEDITOR.dom.element\n\t * @returns {CKEDITOR.dom.node/Boolean} Bogus node or `false`.\n\t */\n\tCKEDITOR.dom.element.prototype.getBogus = function() {\n\t\t// Bogus are not always at the end, e.g. <p><a>text<br /></a></p> (#7070).\n\t\tvar tail = this;\n\t\tdo {\n\t\t\ttail = tail.getPreviousSourceNode();\n\t\t}\n\t\twhile ( toSkip( tail ) );\n\n\t\tif ( tail && ( CKEDITOR.env.needsBrFiller ? tail.is && tail.is( 'br' ) : tail.getText && tailNbspRegex.test( tail.getText() ) ) )\n\t\t\treturn tail;\n\n\t\treturn false;\n\t};\n\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/walker.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * Represents a delimited piece of content in a DOM Document.\n * It is contiguous in the sense that it can be characterized as selecting all\n * of the content between a pair of boundary-points.\n *\n * This class shares much of the W3C\n * [Document Object Model Range](http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html)\n * ideas and features, adding several range manipulation tools to it, but it's\n * not intended to be compatible with it.\n *\n *\t\t// Create a range for the entire contents of the editor document body.\n *\t\tvar range = new CKEDITOR.dom.range( editor.document );\n *\t\trange.selectNodeContents( editor.document.getBody() );\n *\t\t// Delete the contents.\n *\t\trange.deleteContents();\n *\n * Usually you will want to work on a ranges rooted in the editor's {@link CKEDITOR.editable editable}\n * element. Such ranges can be created with a shorthand method &ndash; {@link CKEDITOR.editor#createRange editor.createRange}.\n *\n *\t\tvar range = editor.createRange();\n *\t\trange.root.equals( editor.editable() ); // -> true\n *\n * Note that the {@link #root} of a range is an important property, which limits many\n * algorithms implemented in range's methods. Therefore it is crucial, especially\n * when using ranges inside inline editors, to specify correct root, so using\n * the {@link CKEDITOR.editor#createRange} method is highly recommended.\n *\n * ### Selection\n *\n * Range is only a logical representation of a piece of content in a DOM. It should not\n * be confused with a {@link CKEDITOR.dom.selection selection} which represents \"physically\n * marked\" content. It is possible to create unlimited number of various ranges, when\n * only one real selection may exist at a time in a document. Ranges are used to read position\n * of selection in the DOM and to move selection to new positions.\n *\n * The editor selection may be retrieved using the {@link CKEDITOR.editor#getSelection} method:\n *\n *\t\tvar sel = editor.getSelection(),\n *\t\t\tranges = sel.getRanges(); // CKEDITOR.dom.rangeList instance.\n *\n *\t\tvar range = ranges[ 0 ];\n *\t\trange.root; // -> editor's editable element.\n *\n * A range can also be selected:\n *\n *\t\tvar range = editor.createRange();\n *\t\trange.selectNodeContents( editor.editable() );\n *\t\tsel.selectRanges( [ range ] );\n *\n * @class\n * @constructor Creates a {@link CKEDITOR.dom.range} instance that can be used inside a specific DOM Document.\n * @param {CKEDITOR.dom.document/CKEDITOR.dom.element} root The document or element\n * within which the range will be scoped.\n * @todo global \"TODO\" - precise algorithms descriptions needed for the most complex methods like #enlarge.\n */\nCKEDITOR.dom.range = function( root ) {\n\t/**\n\t * Node within which the range begins.\n\t *\n\t *\t\tvar range = new CKEDITOR.dom.range( editor.document );\n\t *\t\trange.selectNodeContents( editor.document.getBody() );\n\t *\t\talert( range.startContainer.getName() ); // 'body'\n\t *\n\t * @readonly\n\t * @property {CKEDITOR.dom.element/CKEDITOR.dom.text}\n\t */\n\tthis.startContainer = null;\n\n\t/**\n\t * Offset within the starting node of the range.\n\t *\n\t *\t\tvar range = new CKEDITOR.dom.range( editor.document );\n\t *\t\trange.selectNodeContents( editor.document.getBody() );\n\t *\t\talert( range.startOffset ); // 0\n\t *\n\t * @readonly\n\t * @property {Number}\n\t */\n\tthis.startOffset = null;\n\n\t/**\n\t * Node within which the range ends.\n\t *\n\t *\t\tvar range = new CKEDITOR.dom.range( editor.document );\n\t *\t\trange.selectNodeContents( editor.document.getBody() );\n\t *\t\talert( range.endContainer.getName() ); // 'body'\n\t *\n\t * @readonly\n\t * @property {CKEDITOR.dom.element/CKEDITOR.dom.text}\n\t */\n\tthis.endContainer = null;\n\n\t/**\n\t * Offset within the ending node of the range.\n\t *\n\t *\t\tvar range = new CKEDITOR.dom.range( editor.document );\n\t *\t\trange.selectNodeContents( editor.document.getBody() );\n\t *\t\talert( range.endOffset ); // == editor.document.getBody().getChildCount()\n\t *\n\t * @readonly\n\t * @property {Number}\n\t */\n\tthis.endOffset = null;\n\n\t/**\n\t * Indicates that this is a collapsed range. A collapsed range has its\n\t * start and end boundaries at the very same point so nothing is contained\n\t * in it.\n\t *\n\t *\t\tvar range = new CKEDITOR.dom.range( editor.document );\n\t *\t\trange.selectNodeContents( editor.document.getBody() );\n\t *\t\talert( range.collapsed ); // false\n\t *\t\trange.collapse();\n\t *\t\talert( range.collapsed ); // true\n\t *\n\t * @readonly\n\t */\n\tthis.collapsed = true;\n\n\tvar isDocRoot = root instanceof CKEDITOR.dom.document;\n\t/**\n\t * The document within which the range can be used.\n\t *\n\t *\t\t// Selects the body contents of the range document.\n\t *\t\trange.selectNodeContents( range.document.getBody() );\n\t *\n\t * @readonly\n\t * @property {CKEDITOR.dom.document}\n\t */\n\tthis.document = isDocRoot ? root : root.getDocument();\n\n\t/**\n\t * The ancestor DOM element within which the range manipulation are limited.\n\t *\n\t * @readonly\n\t * @property {CKEDITOR.dom.element}\n\t */\n\tthis.root = isDocRoot ? root.getBody() : root;\n};\n\n( function() {\n\t// Updates the \"collapsed\" property for the given range object.\n\tfunction updateCollapsed( range ) {\n\t\trange.collapsed = ( range.startContainer && range.endContainer && range.startContainer.equals( range.endContainer ) && range.startOffset == range.endOffset );\n\t}\n\n\t// This is a shared function used to delete, extract and clone the range content.\n\t//\n\t// The outline of the algorithm:\n\t//\n\t// 1. Normalization. We handle special cases, split text nodes if we can, find boundary nodes (startNode and endNode).\n\t// 2. Gathering data.\n\t//   * We start by creating two arrays of boundary nodes parents. You can imagine these arrays as lines limiting\n\t//   the tree from the left and right and thus marking the part which is selected by the range. The both lines\n\t//   start in the same node which is the range.root and end in startNode and endNode.\n\t//   * Then we find min level and max levels. Level represents all nodes which are equally far from the range.root.\n\t//   Min level is the level at which the left and right boundaries diverged (the first diverged level). And max levels\n\t//   are how deep the start and end nodes are nested.\n\t// 3. Cloning/extraction.\n\t//   * We start iterating over start node parents (left branch) from min level and clone the parent (usually shallow clone,\n\t//   because we know that it's not fully selected) and its right siblings (deep clone, because they are fully selected).\n\t//   We iterate over siblings up to meeting end node parent or end of the siblings chain.\n\t//   * We clone level after level down to the startNode.\n\t//   * Then we do the same with end node parents (right branch), because it may contains notes we omit during the previous\n\t//   step, for example if the right branch is deeper then left branch. Things are more complicated here because we have to\n\t//   watch out for nodes that were already cloned.\n\t//   * ***Note:** Setting `cloneId` option to `false` for **extraction** works for partially selected elements only.\n\t//   See range.extractContents to know more.\n\t// 4. Clean up.\n\t//   * There are two things we need to do - updating the range position and perform the action of the \"mergeThen\"\n\t//   param (see range.deleteContents or range.extractContents).\n\t//   See comments in mergeAndUpdate because this is lots of fun too.\n\tfunction execContentsAction( range, action, docFrag, mergeThen, cloneId ) {\n\t\t'use strict';\n\n\t\trange.optimizeBookmark();\n\n\t\tvar isDelete = action === 0;\n\t\tvar isExtract = action == 1;\n\t\tvar isClone = action == 2;\n\t\tvar doClone = isClone || isExtract;\n\n\t\tvar startNode = range.startContainer;\n\t\tvar endNode = range.endContainer;\n\n\t\tvar startOffset = range.startOffset;\n\t\tvar endOffset = range.endOffset;\n\n\t\tvar cloneStartNode;\n\t\tvar cloneEndNode;\n\n\t\tvar doNotRemoveStartNode;\n\t\tvar doNotRemoveEndNode;\n\n\t\tvar cloneStartText;\n\t\tvar cloneEndText;\n\n\t\t// Handle here an edge case where we clone a range which is located in one text node.\n\t\t// This allows us to not think about startNode == endNode case later on.\n\t\t// We do that only when cloning, because in other cases we can safely split this text node\n\t\t// and hence we can easily handle this case as many others.\n\t\tif ( isClone && endNode.type == CKEDITOR.NODE_TEXT && startNode.equals( endNode ) ) {\n\t\t\tstartNode = range.document.createText( startNode.substring( startOffset, endOffset ) );\n\t\t\tdocFrag.append( startNode );\n\t\t\treturn;\n\t\t}\n\n\t\t// For text containers, we must simply split the node and point to the\n\t\t// second part. The removal will be handled by the rest of the code.\n\t\tif ( endNode.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t// If Extract or Delete we can split the text node,\n\t\t\t// but if Clone (2), then we cannot modify the DOM (#11586) so we mark the text node for cloning.\n\t\t\tif ( !isClone ) {\n\t\t\t\tendNode = endNode.split( endOffset );\n\t\t\t} else {\n\t\t\t\tcloneEndText = true;\n\t\t\t}\n\t\t} else {\n\t\t\t// If there's no node after the range boundary we set endNode to the previous node\n\t\t\t// and mark it to be cloned.\n\t\t\tif ( endNode.getChildCount() > 0 ) {\n\t\t\t\t// If the offset points after the last node.\n\t\t\t\tif ( endOffset >= endNode.getChildCount() ) {\n\t\t\t\t\tendNode = endNode.getChild( endOffset - 1 );\n\t\t\t\t\tcloneEndNode = true;\n\t\t\t\t} else {\n\t\t\t\t\tendNode = endNode.getChild( endOffset );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// The end container is empty (<h1>]</h1>), but we want to clone it, although not remove.\n\t\t\telse {\n\t\t\t\tcloneEndNode = true;\n\t\t\t\tdoNotRemoveEndNode = true;\n\t\t\t}\n\t\t}\n\n\t\t// For text containers, we must simply split the node. The removal will\n\t\t// be handled by the rest of the code .\n\t\tif ( startNode.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t// If Extract or Delete we can split the text node,\n\t\t\t// but if Clone (2), then we cannot modify the DOM (#11586) so we mark\n\t\t\t// the text node for cloning.\n\t\t\tif ( !isClone ) {\n\t\t\t\tstartNode.split( startOffset );\n\t\t\t} else {\n\t\t\t\tcloneStartText = true;\n\t\t\t}\n\t\t} else {\n\t\t\t// If there's no node before the range boundary we set startNode to the next node\n\t\t\t// and mark it to be cloned.\n\t\t\tif ( startNode.getChildCount() > 0 ) {\n\t\t\t\tif ( startOffset === 0 ) {\n\t\t\t\t\tstartNode = startNode.getChild( startOffset );\n\t\t\t\t\tcloneStartNode = true;\n\t\t\t\t} else {\n\t\t\t\t\tstartNode = startNode.getChild( startOffset - 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// The start container is empty (<h1>[</h1>), but we want to clone it, although not remove.\n\t\t\telse {\n\t\t\t\tcloneStartNode = true;\n\t\t\t\tdoNotRemoveStartNode = true;\n\t\t\t}\n\t\t}\n\n\t\t\t// Get the parent nodes tree for the start and end boundaries.\n\t\tvar startParents = startNode.getParents(),\n\t\t\tendParents = endNode.getParents(),\n\t\t\t// Level at which start and end boundaries diverged.\n\t\t\tminLevel = findMinLevel(),\n\t\t\tmaxLevelLeft = startParents.length - 1,\n\t\t\tmaxLevelRight = endParents.length - 1,\n\t\t\t// Keeps the frag/element which is parent of the level that we are currently cloning.\n\t\t\tlevelParent = docFrag,\n\t\t\tnextLevelParent,\n\t\t\tleftNode,\n\t\t\trightNode,\n\t\t\tnextSibling,\n\t\t\t// Keeps track of the last connected level (on which left and right branches are connected)\n\t\t\t// Usually this is minLevel, but not always.\n\t\t\tlastConnectedLevel = -1;\n\n\t\t// THE LEFT BRANCH.\n\t\tfor ( var level = minLevel; level <= maxLevelLeft; level++ ) {\n\t\t\tleftNode = startParents[ level ];\n\t\t\tnextSibling = leftNode.getNext();\n\n\t\t\t// 1.\n\t\t\t// The first step is to handle partial selection of the left branch.\n\n\t\t\t// Max depth of the left branch. It means that ( leftSibling == endNode ).\n\t\t\t// We also check if the leftNode isn't only partially selected, because in this case\n\t\t\t// we want to make a shallow clone of it (the else part).\n\t\t\tif ( level == maxLevelLeft && !( leftNode.equals( endParents[ level ] ) && maxLevelLeft < maxLevelRight ) ) {\n\t\t\t\tif ( cloneStartNode ) {\n\t\t\t\t\tconsume( leftNode, levelParent, false, doNotRemoveStartNode );\n\t\t\t\t} else if ( cloneStartText ) {\n\t\t\t\t\tlevelParent.append( range.document.createText( leftNode.substring( startOffset ) ) );\n\t\t\t\t}\n\t\t\t} else if ( doClone ) {\n\t\t\t\tnextLevelParent = levelParent.append( leftNode.clone( 0, cloneId ) );\n\t\t\t}\n\n\t\t\t// 2.\n\t\t\t// The second step is to handle full selection of the content between the left branch and the right branch.\n\n\t\t\twhile ( nextSibling ) {\n\t\t\t\t// We can't clone entire endParent just like we can't clone entire startParent -\n\t\t\t\t// - they are not fully selected with the range. Partial endParent selection\n\t\t\t\t// will be cloned in the next loop.\n\t\t\t\tif ( nextSibling.equals( endParents[ level ] ) ) {\n\t\t\t\t\tlastConnectedLevel = level;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tnextSibling = consume( nextSibling, levelParent );\n\t\t\t}\n\n\t\t\tlevelParent = nextLevelParent;\n\t\t}\n\n\t\t// Reset levelParent, because we reset the level.\n\t\tlevelParent = docFrag;\n\n\t\t// THE RIGHT BRANCH.\n\t\tfor ( level = minLevel; level <= maxLevelRight; level++ ) {\n\t\t\trightNode = endParents[ level ];\n\t\t\tnextSibling = rightNode.getPrevious();\n\n\t\t\t// Do not process this node if it is shared with the left branch\n\t\t\t// because it was already processed.\n\t\t\t//\n\t\t\t// Note: Don't worry about text nodes selection - if the entire range was placed in a single text node\n\t\t\t// it was handled as a special case at the beginning. In other cases when startNode == endNode\n\t\t\t// or when on this level leftNode == rightNode (so rightNode.equals( startParents[ level ] ))\n\t\t\t// this node was handled by the previous loop.\n\t\t\tif ( !rightNode.equals( startParents[ level ] ) ) {\n\t\t\t\t// 1.\n\t\t\t\t// The first step is to handle partial selection of the right branch.\n\n\t\t\t\t// Max depth of the right branch. It means that ( rightNode == endNode ).\n\t\t\t\t// We also check if the rightNode isn't only partially selected, because in this case\n\t\t\t\t// we want to make a shallow clone of it (the else part).\n\t\t\t\tif ( level == maxLevelRight && !( rightNode.equals( startParents[ level ] ) && maxLevelRight < maxLevelLeft ) ) {\n\t\t\t\t\tif ( cloneEndNode ) {\n\t\t\t\t\t\tconsume( rightNode, levelParent, false, doNotRemoveEndNode );\n\t\t\t\t\t} else if ( cloneEndText ) {\n\t\t\t\t\t\tlevelParent.append( range.document.createText( rightNode.substring( 0, endOffset ) ) );\n\t\t\t\t\t}\n\t\t\t\t} else if ( doClone ) {\n\t\t\t\t\tnextLevelParent = levelParent.append( rightNode.clone( 0, cloneId ) );\n\t\t\t\t}\n\n\t\t\t\t// 2.\n\t\t\t\t// The second step is to handle all left (selected) siblings of the rightNode which\n\t\t\t\t// have not yet been handled. If the level branches were connected, the previous loop\n\t\t\t\t// already copied all siblings (except the current rightNode).\n\t\t\t\tif ( level > lastConnectedLevel ) {\n\t\t\t\t\twhile ( nextSibling ) {\n\t\t\t\t\t\tnextSibling = consume( nextSibling, levelParent, true );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlevelParent = nextLevelParent;\n\t\t\t} else if ( doClone ) {\n\t\t\t\t// If this is \"shared\" node and we are in cloning mode we have to update levelParent to\n\t\t\t\t// reflect that we visited the node (even though we didn't process it).\n\t\t\t\t// If we don't do that, in next iterations nodes will be appended to wrong parent.\n\t\t\t\t//\n\t\t\t\t// We can just take first child because the algorithm guarantees\n\t\t\t\t// that this will be the only child on this level. (#13568)\n\t\t\t\tlevelParent = levelParent.getChild( 0 );\n\t\t\t}\n\t\t}\n\n\t\t// Delete or Extract.\n\t\t// We need to update the range and if mergeThen was passed do it.\n\t\tif ( !isClone ) {\n\t\t\tmergeAndUpdate();\n\t\t}\n\n\t\t// Depending on an action:\n\t\t// * clones node and adds to new parent,\n\t\t// * removes node,\n\t\t// * moves node to the new parent.\n\t\tfunction consume( node, newParent, toStart, forceClone ) {\n\t\t\tvar nextSibling = toStart ? node.getPrevious() : node.getNext();\n\n\t\t\t// We do not clone if we are only deleting, so do nothing.\n\t\t\tif ( forceClone && isDelete ) {\n\t\t\t\treturn nextSibling;\n\t\t\t}\n\n\t\t\t// If cloning, just clone it.\n\t\t\tif ( isClone || forceClone ) {\n\t\t\t\tnewParent.append( node.clone( true, cloneId ), toStart );\n\t\t\t} else {\n\t\t\t\t// Both Delete and Extract will remove the node.\n\t\t\t\tnode.remove();\n\n\t\t\t\t// When Extracting, move the removed node to the docFrag.\n\t\t\t\tif ( isExtract ) {\n\t\t\t\t\tnewParent.append( node );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn nextSibling;\n\t\t}\n\n\t\t// Finds a level number on which both branches starts diverging.\n\t\t// If such level does not exist, return the last on which both branches have nodes.\n\t\tfunction findMinLevel() {\n\t\t\t// Compare them, to find the top most siblings.\n\t\t\tvar i, topStart, topEnd,\n\t\t\t\tmaxLevel = Math.min( startParents.length, endParents.length );\n\n\t\t\tfor ( i = 0; i < maxLevel; i++ ) {\n\t\t\t\ttopStart = startParents[ i ];\n\t\t\t\ttopEnd = endParents[ i ];\n\n\t\t\t\t// The compared nodes will match until we find the top most siblings (different nodes that have the same parent).\n\t\t\t\t// \"i\" will hold the index in the parents array for the top most element.\n\t\t\t\tif ( !topStart.equals( topEnd ) ) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// When startNode == endNode.\n\t\t\treturn i - 1;\n\t\t}\n\n\t\t// Executed only when deleting or extracting to update range position\n\t\t// and perform the merge operation.\n\t\tfunction mergeAndUpdate() {\n\t\t\tvar commonLevel = minLevel - 1,\n\t\t\t\tboundariesInEmptyNode = doNotRemoveStartNode && doNotRemoveEndNode && !startNode.equals( endNode );\n\n\t\t\t// If a node has been partially selected, collapse the range between\n\t\t\t// startParents[ minLevel + 1 ] and endParents[ minLevel + 1 ] (the first diverged elements).\n\t\t\t// Otherwise, simply collapse it to the start. (W3C specs).\n\t\t\t//\n\t\t\t// All clear, right?\n\t\t\t//\n\t\t\t// It took me few hours to truly understand a previous version of this condition.\n\t\t\t// Mine seems to be more straightforward (even if it doesn't look so) and I could leave you here\n\t\t\t// without additional comments, but I'm not that mean so here goes the explanation.\n\t\t\t//\n\t\t\t// We want to know if both ends of the range are anchored in the same element. Really. It's this simple.\n\t\t\t// But why? Because we need to differentiate situations like:\n\t\t\t//\n\t\t\t// <p>foo[<b>x</b>bar]y</p>\t\t(commonLevel = p, maxLL = \"foo\", maxLR = \"y\")\n\t\t\t// from:\n\t\t\t// <p>foo<b>x[</b>bar]y</p>\t\t(commonLevel = p, maxLL = \"x\", maxLR = \"y\")\n\t\t\t//\n\t\t\t// In the first case we can collapse the range to the left, because simply everything between range's\n\t\t\t// boundaries was removed.\n\t\t\t// In the second case we must place the range after </b>, because <b> was only **partially selected**.\n\t\t\t//\n\t\t\t// * <b> is our startParents[ commonLevel + 1 ]\n\t\t\t// * \"y\" is our endParents[ commonLevel + 1 ].\n\t\t\t//\n\t\t\t// By now \"bar\" is removed from the DOM so <b> is a direct sibling of \"y\":\n\t\t\t// <p>foo<b>x</b>y</p>\n\t\t\t//\n\t\t\t// Therefore it's enough to place the range between <b> and \"y\".\n\t\t\t//\n\t\t\t// Now, what does the comparison mean? Why not just taking startNode and endNode and checking\n\t\t\t// their parents? Because the tree is already changed and they may be gone. Plus, thanks to\n\t\t\t// cloneStartNode and cloneEndNode, that would be reaaaaly tricky.\n\t\t\t//\n\t\t\t// So we play with levels which can give us the same information:\n\t\t\t// * commonLevel - the level of common ancestor,\n\t\t\t// * maxLevel - 1 - the level of range boundary parent (range boundary is here like a bookmark span).\n\t\t\t// * commonLevel < maxLevel - 1 - whether the range boundary is not a child of common ancestor.\n\t\t\t//\n\t\t\t// There's also an edge case in which both range boundaries were placed in empty nodes like:\n\t\t\t// <p>[</p><p>]</p>\n\t\t\t// Those boundaries were not removed, but in this case start and end nodes are child of the common ancestor.\n\t\t\t// We handle this edge case separately.\n\t\t\tif ( commonLevel < ( maxLevelLeft - 1 ) || commonLevel < ( maxLevelRight - 1 ) || boundariesInEmptyNode ) {\n\t\t\t\tif ( boundariesInEmptyNode ) {\n\t\t\t\t\trange.moveToPosition( endNode, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t} else if ( ( maxLevelRight == commonLevel + 1 ) && cloneEndNode ) {\n\t\t\t\t\t// The maxLevelRight + 1 element could be already removed so we use the fact that\n\t\t\t\t\t// we know that it was the last element in its parent.\n\t\t\t\t\trange.moveToPosition( endParents[ commonLevel ], CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t} else {\n\t\t\t\t\trange.moveToPosition( endParents[ commonLevel + 1 ], CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t}\n\n\t\t\t\t// Merge split parents.\n\t\t\t\tif ( mergeThen ) {\n\t\t\t\t\t// Find the first diverged node in the left branch.\n\t\t\t\t\tvar topLeft = startParents[ commonLevel + 1 ];\n\n\t\t\t\t\t// TopLeft may simply not exist if commonLevel == maxLevel or may be a text node.\n\t\t\t\t\tif ( topLeft && topLeft.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\tvar span = CKEDITOR.dom.element.createFromHtml( '<span ' +\n\t\t\t\t\t\t\t'data-cke-bookmark=\"1\" style=\"display:none\">&nbsp;</span>', range.document );\n\t\t\t\t\t\tspan.insertAfter( topLeft );\n\t\t\t\t\t\ttopLeft.mergeSiblings( false );\n\t\t\t\t\t\trange.moveToBookmark( { startNode: span } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Collapse it to the start.\n\t\t\t\trange.collapse( true );\n\t\t\t}\n\t\t}\n\t}\n\n\tvar inlineChildReqElements = {\n\t\tabbr: 1, acronym: 1, b: 1, bdo: 1, big: 1, cite: 1, code: 1, del: 1,\n\t\tdfn: 1, em: 1, font: 1, i: 1, ins: 1, label: 1, kbd: 1, q: 1, samp: 1, small: 1, span: 1, strike: 1,\n\t\tstrong: 1, sub: 1, sup: 1, tt: 1, u: 1, 'var': 1\n\t};\n\n\t// Creates the appropriate node evaluator for the dom walker used inside\n\t// check(Start|End)OfBlock.\n\tfunction getCheckStartEndBlockEvalFunction() {\n\t\tvar skipBogus = false,\n\t\t\twhitespaces = CKEDITOR.dom.walker.whitespaces(),\n\t\t\tbookmarkEvaluator = CKEDITOR.dom.walker.bookmark( true ),\n\t\t\tisBogus = CKEDITOR.dom.walker.bogus();\n\n\t\treturn function( node ) {\n\t\t\t// First skip empty nodes\n\t\t\tif ( bookmarkEvaluator( node ) || whitespaces( node ) )\n\t\t\t\treturn true;\n\n\t\t\t// Skip the bogus node at the end of block.\n\t\t\tif ( isBogus( node ) && !skipBogus ) {\n\t\t\t\tskipBogus = true;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// If there's any visible text, then we're not at the start.\n\t\t\tif ( node.type == CKEDITOR.NODE_TEXT &&\n\t\t\t\t( node.hasAscendant( 'pre' ) ||\n\t\t\t\t\tCKEDITOR.tools.trim( node.getText() ).length ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If there are non-empty inline elements (e.g. <img />), then we're not\n\t\t\t// at the start.\n\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && !node.is( inlineChildReqElements ) )\n\t\t\t\treturn false;\n\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tvar isBogus = CKEDITOR.dom.walker.bogus(),\n\t\tnbspRegExp = /^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,\n\t\teditableEval = CKEDITOR.dom.walker.editable(),\n\t\tnotIgnoredEval = CKEDITOR.dom.walker.ignored( true );\n\n\t// Evaluator for CKEDITOR.dom.element::checkBoundaryOfElement, reject any\n\t// text node and non-empty elements unless it's being bookmark text.\n\tfunction elementBoundaryEval( checkStart ) {\n\t\tvar whitespaces = CKEDITOR.dom.walker.whitespaces(),\n\t\t\tbookmark = CKEDITOR.dom.walker.bookmark( 1 );\n\n\t\treturn function( node ) {\n\t\t\t// First skip empty nodes.\n\t\t\tif ( bookmark( node ) || whitespaces( node ) )\n\t\t\t\treturn true;\n\n\t\t\t// Tolerant bogus br when checking at the end of block.\n\t\t\t// Reject any text node unless it's being bookmark\n\t\t\t// OR it's spaces.\n\t\t\t// Reject any element unless it's being invisible empty. (#3883)\n\t\t\treturn !checkStart && isBogus( node ) ||\n\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tnode.is( CKEDITOR.dtd.$removeEmpty );\n\t\t};\n\t}\n\n\tfunction getNextEditableNode( isPrevious ) {\n\t\treturn function() {\n\t\t\tvar first;\n\n\t\t\treturn this[ isPrevious ? 'getPreviousNode' : 'getNextNode' ]( function( node ) {\n\t\t\t\t// Cache first not ignorable node.\n\t\t\t\tif ( !first && notIgnoredEval( node ) )\n\t\t\t\t\tfirst = node;\n\n\t\t\t\t// Return true if found editable node, but not a bogus next to start of our lookup (first != bogus).\n\t\t\t\treturn editableEval( node ) && !( isBogus( node ) && node.equals( first ) );\n\t\t\t} );\n\t\t};\n\t}\n\n\tCKEDITOR.dom.range.prototype = {\n\t\t/**\n\t\t * Clones this range.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.range}\n\t\t */\n\t\tclone: function() {\n\t\t\tvar clone = new CKEDITOR.dom.range( this.root );\n\n\t\t\tclone._setStartContainer( this.startContainer );\n\t\t\tclone.startOffset = this.startOffset;\n\t\t\tclone._setEndContainer( this.endContainer );\n\t\t\tclone.endOffset = this.endOffset;\n\t\t\tclone.collapsed = this.collapsed;\n\n\t\t\treturn clone;\n\t\t},\n\n\t\t/**\n\t\t * Makes the range collapsed by moving its start point (or end point if `toStart==true`)\n\t\t * to the second end.\n\t\t *\n\t\t * @param {Boolean} toStart Collapse range \"to start\".\n\t\t */\n\t\tcollapse: function( toStart ) {\n\t\t\tif ( toStart ) {\n\t\t\t\tthis._setEndContainer( this.startContainer );\n\t\t\t\tthis.endOffset = this.startOffset;\n\t\t\t} else {\n\t\t\t\tthis._setStartContainer( this.endContainer );\n\t\t\t\tthis.startOffset = this.endOffset;\n\t\t\t}\n\n\t\t\tthis.collapsed = true;\n\t\t},\n\n\t\t/**\n\t\t * Clones content nodes of the range and adds them to a document fragment, which is returned.\n\t\t *\n\t\t * @param {Boolean} [cloneId=true] Whether to preserve ID attributes in the clone.\n\t\t * @returns {CKEDITOR.dom.documentFragment} Document fragment containing a clone of range's content.\n\t\t */\n\t\tcloneContents: function( cloneId ) {\n\t\t\tvar docFrag = new CKEDITOR.dom.documentFragment( this.document );\n\n\t\t\tcloneId = typeof cloneId == 'undefined' ? true : cloneId;\n\n\t\t\tif ( !this.collapsed )\n\t\t\t\texecContentsAction( this, 2, docFrag, false, cloneId );\n\n\t\t\treturn docFrag;\n\t\t},\n\n\t\t/**\n\t\t * Deletes the content nodes of the range permanently from the DOM tree.\n\t\t *\n\t\t * @param {Boolean} [mergeThen] Merge any split elements result in DOM true due to partial selection.\n\t\t */\n\t\tdeleteContents: function( mergeThen ) {\n\t\t\tif ( this.collapsed )\n\t\t\t\treturn;\n\n\t\t\texecContentsAction( this, 0, null, mergeThen );\n\t\t},\n\n\t\t/**\n\t\t * The content nodes of the range are cloned and added to a document fragment,\n\t\t * meanwhile they are removed permanently from the DOM tree.\n\t\t *\n\t\t * **Note:** Setting the `cloneId` parameter to `false` works for **partially** selected elements only.\n\t\t * If an element with an ID attribute is **fully enclosed** in a range, it will keep the ID attribute\n\t\t * regardless of the `cloneId` parameter value, because it is not cloned &mdash; it is moved to the returned\n\t\t * document fragment.\n\t\t *\n\t\t * @param {Boolean} [mergeThen] Merge any split elements result in DOM true due to partial selection.\n\t\t * @param {Boolean} [cloneId=true] Whether to preserve ID attributes in the extracted content.\n\t\t * @returns {CKEDITOR.dom.documentFragment} Document fragment containing extracted content.\n\t\t */\n\t\textractContents: function( mergeThen, cloneId ) {\n\t\t\tvar docFrag = new CKEDITOR.dom.documentFragment( this.document );\n\n\t\t\tcloneId = typeof cloneId == 'undefined' ? true : cloneId;\n\n\t\t\tif ( !this.collapsed )\n\t\t\t\texecContentsAction( this, 1, docFrag, mergeThen, cloneId );\n\n\t\t\treturn docFrag;\n\t\t},\n\n\t\t/**\n\t\t * Creates a bookmark object, which can be later used to restore the\n\t\t * range by using the {@link #moveToBookmark} function.\n\t\t *\n\t\t * This is an \"intrusive\" way to create a bookmark. It includes `<span>` tags\n\t\t * in the range boundaries. The advantage of it is that it is possible to\n\t\t * handle DOM mutations when moving back to the bookmark.\n\t\t *\n\t\t * **Note:** The inclusion of nodes in the DOM is a design choice and\n\t\t * should not be changed as there are other points in the code that may be\n\t\t * using those nodes to perform operations.\n\t\t *\n\t\t * @param {Boolean} [serializable] Indicates that the bookmark nodes\n\t\t * must contain IDs, which can be used to restore the range even\n\t\t * when these nodes suffer mutations (like cloning or `innerHTML` change).\n\t\t * @returns {Object} And object representing a bookmark.\n\t\t * @returns {CKEDITOR.dom.node/String} return.startNode Node or element ID.\n\t\t * @returns {CKEDITOR.dom.node/String} return.endNode Node or element ID.\n\t\t * @returns {Boolean} return.serializable\n\t\t * @returns {Boolean} return.collapsed\n\t\t */\n\t\tcreateBookmark: function( serializable ) {\n\t\t\tvar startNode, endNode;\n\t\t\tvar baseId;\n\t\t\tvar clone;\n\t\t\tvar collapsed = this.collapsed;\n\n\t\t\tstartNode = this.document.createElement( 'span' );\n\t\t\tstartNode.data( 'cke-bookmark', 1 );\n\t\t\tstartNode.setStyle( 'display', 'none' );\n\n\t\t\t// For IE, it must have something inside, otherwise it may be\n\t\t\t// removed during DOM operations.\n\t\t\tstartNode.setHtml( '&nbsp;' );\n\n\t\t\tif ( serializable ) {\n\t\t\t\tbaseId = 'cke_bm_' + CKEDITOR.tools.getNextNumber();\n\t\t\t\tstartNode.setAttribute( 'id', baseId + ( collapsed ? 'C' : 'S' ) );\n\t\t\t}\n\n\t\t\t// If collapsed, the endNode will not be created.\n\t\t\tif ( !collapsed ) {\n\t\t\t\tendNode = startNode.clone();\n\t\t\t\tendNode.setHtml( '&nbsp;' );\n\n\t\t\t\tif ( serializable )\n\t\t\t\t\tendNode.setAttribute( 'id', baseId + 'E' );\n\n\t\t\t\tclone = this.clone();\n\t\t\t\tclone.collapse();\n\t\t\t\tclone.insertNode( endNode );\n\t\t\t}\n\n\t\t\tclone = this.clone();\n\t\t\tclone.collapse( true );\n\t\t\tclone.insertNode( startNode );\n\n\t\t\t// Update the range position.\n\t\t\tif ( endNode ) {\n\t\t\t\tthis.setStartAfter( startNode );\n\t\t\t\tthis.setEndBefore( endNode );\n\t\t\t} else {\n\t\t\t\tthis.moveToPosition( startNode, CKEDITOR.POSITION_AFTER_END );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tstartNode: serializable ? baseId + ( collapsed ? 'C' : 'S' ) : startNode,\n\t\t\t\tendNode: serializable ? baseId + 'E' : endNode,\n\t\t\t\tserializable: serializable,\n\t\t\t\tcollapsed: collapsed\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Creates a \"non intrusive\" and \"mutation sensible\" bookmark. This\n\t\t * kind of bookmark should be used only when the DOM is supposed to\n\t\t * remain stable after its creation.\n\t\t *\n\t\t * @param {Boolean} [normalized] Indicates that the bookmark must\n\t\t * be normalized. When normalized, the successive text nodes are\n\t\t * considered a single node. To successfully load a normalized\n\t\t * bookmark, the DOM tree must also be normalized before calling\n\t\t * {@link #moveToBookmark}.\n\t\t * @returns {Object} An object representing the bookmark.\n\t\t * @returns {Array} return.start Start container's address (see {@link CKEDITOR.dom.node#getAddress}).\n\t\t * @returns {Array} return.end Start container's address.\n\t\t * @returns {Number} return.startOffset\n\t\t * @returns {Number} return.endOffset\n\t\t * @returns {Boolean} return.collapsed\n\t\t * @returns {Boolean} return.normalized\n\t\t * @returns {Boolean} return.is2 This is \"bookmark2\".\n\t\t */\n\t\tcreateBookmark2: ( function() {\n\t\t\tvar isNotText = CKEDITOR.dom.walker.nodeType( CKEDITOR.NODE_TEXT, true );\n\n\t\t\t// Returns true for limit anchored in element and placed between text nodes.\n\t\t\t//\n\t\t\t//               v\n\t\t\t// <p>[text node] [text node]</p> -> true\n\t\t\t//\n\t\t\t//    v\n\t\t\t// <p> [text node]</p> -> false\n\t\t\t//\n\t\t\t//              v\n\t\t\t// <p>[text node][text node]</p> -> false (limit is anchored in text node)\n\t\t\tfunction betweenTextNodes( container, offset ) {\n\t\t\t\t// Not anchored in element or limit is on the edge.\n\t\t\t\tif ( container.type != CKEDITOR.NODE_ELEMENT || offset === 0 || offset == container.getChildCount() )\n\t\t\t\t\treturn 0;\n\n\t\t\t\treturn container.getChild( offset - 1 ).type == CKEDITOR.NODE_TEXT &&\n\t\t\t\t\tcontainer.getChild( offset ).type == CKEDITOR.NODE_TEXT;\n\t\t\t}\n\n\t\t\t// Sums lengths of all preceding text nodes.\n\t\t\tfunction getLengthOfPrecedingTextNodes( node ) {\n\t\t\t\tvar sum = 0;\n\n\t\t\t\twhile ( ( node = node.getPrevious() ) && node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\t\tsum += node.getText().replace( CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE, '' ).length;\n\n\t\t\t\treturn sum;\n\t\t\t}\n\n\t\t\tfunction normalizeTextNodes( limit ) {\n\t\t\t\tvar container = limit.container,\n\t\t\t\t\toffset = limit.offset;\n\n\t\t\t\t// If limit is between text nodes move it to the end of preceding one,\n\t\t\t\t// because they will be merged.\n\t\t\t\tif ( betweenTextNodes( container, offset ) ) {\n\t\t\t\t\tcontainer = container.getChild( offset - 1 );\n\t\t\t\t\toffset = container.getLength();\n\t\t\t\t}\n\n\t\t\t\t// Now, if limit is anchored in element and has at least one node before it,\n\t\t\t\t// it may happen that some of them will be merged. Normalize the offset\n\t\t\t\t// by setting it to normalized index of its preceding, safe node.\n\t\t\t\t// (safe == one for which getIndex(true) does not return -1, so one which won't disappear).\n\t\t\t\tif ( container.type == CKEDITOR.NODE_ELEMENT && offset > 0 ) {\n\t\t\t\t\toffset = getPrecedingSafeNodeIndex( container, offset ) + 1;\n\t\t\t\t}\n\n\t\t\t\t// The last step - fix the offset inside text node by adding\n\t\t\t\t// lengths of preceding text nodes which will be merged with container.\n\t\t\t\tif ( container.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\tvar precedingLength = getLengthOfPrecedingTextNodes( container );\n\n\t\t\t\t\t// Normal case - text node is not empty.\n\t\t\t\t\tif ( container.getText() ) {\n\t\t\t\t\t\toffset += precedingLength;\n\n\t\t\t\t\t// Awful case - the text node is empty and thus will be totally lost.\n\t\t\t\t\t// In this case we are trying to normalize the limit to the left:\n\t\t\t\t\t// * either to the preceding text node,\n\t\t\t\t\t// * or to the \"gap\" after the preceding element.\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Find the closest non-text sibling.\n\t\t\t\t\t\tvar precedingContainer = container.getPrevious( isNotText );\n\n\t\t\t\t\t\t// If there are any characters on the left, that means that we can anchor\n\t\t\t\t\t\t// there, because this text node will not be lost.\n\t\t\t\t\t\tif ( precedingLength ) {\n\t\t\t\t\t\t\toffset = precedingLength;\n\n\t\t\t\t\t\t\tif ( precedingContainer ) {\n\t\t\t\t\t\t\t\t// The text node is the first node after the closest non-text sibling.\n\t\t\t\t\t\t\t\tcontainer = precedingContainer.getNext();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// But if there was no non-text sibling, then the text node is the first child.\n\t\t\t\t\t\t\t\tcontainer = container.getParent().getFirst();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If there are no characters on the left, then anchor after the previous non-text node.\n\t\t\t\t\t\t// E.g. (see tests for a legend :D):\n\t\t\t\t\t\t// <b>x</b>(foo)({}bar) -> <b>x</b>[](foo)(bar)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontainer = container.getParent();\n\t\t\t\t\t\t\toffset = precedingContainer ? ( precedingContainer.getIndex( true ) + 1 ) : 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlimit.container = container;\n\t\t\t\tlimit.offset = offset;\n\t\t\t}\n\n\t\t\tfunction normalizeFCSeq( limit, root ) {\n\t\t\t\tvar fcseq = root.getCustomData( 'cke-fillingChar' );\n\n\t\t\t\tif ( !fcseq ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar container = limit.container;\n\n\t\t\t\tif ( fcseq.equals( container ) ) {\n\t\t\t\t\tlimit.offset -= CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length;\n\n\t\t\t\t\t// == 0\t\thandles case when limit was at the end of FCS.\n\t\t\t\t\t//  < 0\t\thandles all cases where limit was somewhere in the middle or at the beginning.\n\t\t\t\t\t//  > 0\t\t(the \"else\" case) means cases where there are some more characters in the FCS node (FCSabc^def).\n\t\t\t\t\tif ( limit.offset <= 0 ) {\n\t\t\t\t\t\tlimit.offset = container.getIndex();\n\t\t\t\t\t\tlimit.container = container.getParent();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// And here goes the funny part - all other cases are handled inside node.getAddress() and getIndex() thanks to\n\t\t\t\t// node.getIndex() being aware of FCS (handling it as an empty node).\n\t\t\t}\n\n\t\t\t// Finds a normalized index of a safe node preceding this one.\n\t\t\t// Safe == one that will not disappear, so one for which getIndex( true ) does not return -1.\n\t\t\t// Return -1 if there's no safe preceding node.\n\t\t\tfunction getPrecedingSafeNodeIndex( container, offset ) {\n\t\t\t\tvar index;\n\n\t\t\t\twhile ( offset-- ) {\n\t\t\t\t\tindex = container.getChild( offset ).getIndex( true );\n\n\t\t\t\t\tif ( index >= 0 )\n\t\t\t\t\t\treturn index;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\treturn function( normalized ) {\n\t\t\t\tvar collapsed = this.collapsed,\n\t\t\t\t\tbmStart = {\n\t\t\t\t\t\tcontainer: this.startContainer,\n\t\t\t\t\t\toffset: this.startOffset\n\t\t\t\t\t},\n\t\t\t\t\tbmEnd = {\n\t\t\t\t\t\tcontainer: this.endContainer,\n\t\t\t\t\t\toffset: this.endOffset\n\t\t\t\t\t};\n\n\t\t\t\tif ( normalized ) {\n\t\t\t\t\tnormalizeTextNodes( bmStart );\n\t\t\t\t\tnormalizeFCSeq( bmStart, this.root );\n\n\t\t\t\t\tif ( !collapsed ) {\n\t\t\t\t\t\tnormalizeTextNodes( bmEnd );\n\t\t\t\t\t\tnormalizeFCSeq( bmEnd, this.root );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tstart: bmStart.container.getAddress( normalized ),\n\t\t\t\t\tend: collapsed ? null : bmEnd.container.getAddress( normalized ),\n\t\t\t\t\tstartOffset: bmStart.offset,\n\t\t\t\t\tendOffset: bmEnd.offset,\n\t\t\t\t\tnormalized: normalized,\n\t\t\t\t\tcollapsed: collapsed,\n\t\t\t\t\tis2: true // It's a createBookmark2 bookmark.\n\t\t\t\t};\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Moves this range to the given bookmark. See {@link #createBookmark} and {@link #createBookmark2}.\n\t\t *\n\t\t * If serializable bookmark passed, then its `<span>` markers will be removed.\n\t\t *\n\t\t * @param {Object} bookmark\n\t\t */\n\t\tmoveToBookmark: function( bookmark ) {\n\t\t\t// Created with createBookmark2().\n\t\t\tif ( bookmark.is2 ) {\n\t\t\t\t// Get the start information.\n\t\t\t\tvar startContainer = this.document.getByAddress( bookmark.start, bookmark.normalized ),\n\t\t\t\t\tstartOffset = bookmark.startOffset;\n\n\t\t\t\t// Get the end information.\n\t\t\t\tvar endContainer = bookmark.end && this.document.getByAddress( bookmark.end, bookmark.normalized ),\n\t\t\t\t\tendOffset = bookmark.endOffset;\n\n\t\t\t\t// Set the start boundary.\n\t\t\t\tthis.setStart( startContainer, startOffset );\n\n\t\t\t\t// Set the end boundary. If not available, collapse it.\n\t\t\t\tif ( endContainer )\n\t\t\t\t\tthis.setEnd( endContainer, endOffset );\n\t\t\t\telse\n\t\t\t\t\tthis.collapse( true );\n\t\t\t}\n\t\t\t// Created with createBookmark().\n\t\t\telse {\n\t\t\t\tvar serializable = bookmark.serializable,\n\t\t\t\t\tstartNode = serializable ? this.document.getById( bookmark.startNode ) : bookmark.startNode,\n\t\t\t\t\tendNode = serializable ? this.document.getById( bookmark.endNode ) : bookmark.endNode;\n\n\t\t\t\t// Set the range start at the bookmark start node position.\n\t\t\t\tthis.setStartBefore( startNode );\n\n\t\t\t\t// Remove it, because it may interfere in the setEndBefore call.\n\t\t\t\tstartNode.remove();\n\n\t\t\t\t// Set the range end at the bookmark end node position, or simply\n\t\t\t\t// collapse it if it is not available.\n\t\t\t\tif ( endNode ) {\n\t\t\t\t\tthis.setEndBefore( endNode );\n\t\t\t\t\tendNode.remove();\n\t\t\t\t} else {\n\t\t\t\t\tthis.collapse( true );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns two nodes which are on the boundaries of this range.\n\t\t *\n\t\t * @returns {Object}\n\t\t * @returns {CKEDITOR.dom.node} return.startNode\n\t\t * @returns {CKEDITOR.dom.node} return.endNode\n\t\t * @todo precise desc/algorithm\n\t\t */\n\t\tgetBoundaryNodes: function() {\n\t\t\tvar startNode = this.startContainer,\n\t\t\t\tendNode = this.endContainer,\n\t\t\t\tstartOffset = this.startOffset,\n\t\t\t\tendOffset = this.endOffset,\n\t\t\t\tchildCount;\n\n\t\t\tif ( startNode.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\tchildCount = startNode.getChildCount();\n\t\t\t\tif ( childCount > startOffset ) {\n\t\t\t\t\tstartNode = startNode.getChild( startOffset );\n\t\t\t\t} else if ( childCount < 1 ) {\n\t\t\t\t\tstartNode = startNode.getPreviousSourceNode();\n\t\t\t\t}\n\t\t\t\t// startOffset > childCount but childCount is not 0\n\t\t\t\telse {\n\t\t\t\t\t// Try to take the node just after the current position.\n\t\t\t\t\tstartNode = startNode.$;\n\t\t\t\t\twhile ( startNode.lastChild )\n\t\t\t\t\t\tstartNode = startNode.lastChild;\n\t\t\t\t\tstartNode = new CKEDITOR.dom.node( startNode );\n\n\t\t\t\t\t// Normally we should take the next node in DFS order. But it\n\t\t\t\t\t// is also possible that we've already reached the end of\n\t\t\t\t\t// document.\n\t\t\t\t\tstartNode = startNode.getNextSourceNode() || startNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( endNode.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\tchildCount = endNode.getChildCount();\n\t\t\t\tif ( childCount > endOffset ) {\n\t\t\t\t\tendNode = endNode.getChild( endOffset ).getPreviousSourceNode( true );\n\t\t\t\t} else if ( childCount < 1 ) {\n\t\t\t\t\tendNode = endNode.getPreviousSourceNode();\n\t\t\t\t}\n\t\t\t\t// endOffset > childCount but childCount is not 0.\n\t\t\t\telse {\n\t\t\t\t\t// Try to take the node just before the current position.\n\t\t\t\t\tendNode = endNode.$;\n\t\t\t\t\twhile ( endNode.lastChild )\n\t\t\t\t\t\tendNode = endNode.lastChild;\n\t\t\t\t\tendNode = new CKEDITOR.dom.node( endNode );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Sometimes the endNode will come right before startNode for collapsed\n\t\t\t// ranges. Fix it. (#3780)\n\t\t\tif ( startNode.getPosition( endNode ) & CKEDITOR.POSITION_FOLLOWING )\n\t\t\t\tstartNode = endNode;\n\n\t\t\treturn { startNode: startNode, endNode: endNode };\n\t\t},\n\n\t\t/**\n\t\t * Find the node which fully contains the range.\n\t\t *\n\t\t * @param {Boolean} [includeSelf=false]\n\t\t * @param {Boolean} [ignoreTextNode=false] Whether ignore {@link CKEDITOR#NODE_TEXT} type.\n\t\t * @returns {CKEDITOR.dom.element}\n\t\t */\n\t\tgetCommonAncestor: function( includeSelf, ignoreTextNode ) {\n\t\t\tvar start = this.startContainer,\n\t\t\t\tend = this.endContainer,\n\t\t\t\tancestor;\n\n\t\t\tif ( start.equals( end ) ) {\n\t\t\t\tif ( includeSelf && start.type == CKEDITOR.NODE_ELEMENT && this.startOffset == this.endOffset - 1 )\n\t\t\t\t\tancestor = start.getChild( this.startOffset );\n\t\t\t\telse\n\t\t\t\t\tancestor = start;\n\t\t\t} else {\n\t\t\t\tancestor = start.getCommonAncestor( end );\n\t\t\t}\n\n\t\t\treturn ignoreTextNode && !ancestor.is ? ancestor.getParent() : ancestor;\n\t\t},\n\n\t\t/**\n\t\t * Transforms the {@link #startContainer} and {@link #endContainer} properties from text\n\t\t * nodes to element nodes, whenever possible. This is actually possible\n\t\t * if either of the boundary containers point to a text node, and its\n\t\t * offset is set to zero, or after the last char in the node.\n\t\t */\n\t\toptimize: function() {\n\t\t\tvar container = this.startContainer;\n\t\t\tvar offset = this.startOffset;\n\n\t\t\tif ( container.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\tif ( !offset )\n\t\t\t\t\tthis.setStartBefore( container );\n\t\t\t\telse if ( offset >= container.getLength() )\n\t\t\t\t\tthis.setStartAfter( container );\n\t\t\t}\n\n\t\t\tcontainer = this.endContainer;\n\t\t\toffset = this.endOffset;\n\n\t\t\tif ( container.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\tif ( !offset )\n\t\t\t\t\tthis.setEndBefore( container );\n\t\t\t\telse if ( offset >= container.getLength() )\n\t\t\t\t\tthis.setEndAfter( container );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Move the range out of bookmark nodes if they'd been the container.\n\t\t */\n\t\toptimizeBookmark: function() {\n\t\t\tvar startNode = this.startContainer,\n\t\t\t\tendNode = this.endContainer;\n\n\t\t\tif ( startNode.is && startNode.is( 'span' ) && startNode.data( 'cke-bookmark' ) )\n\t\t\t\tthis.setStartAt( startNode, CKEDITOR.POSITION_BEFORE_START );\n\t\t\tif ( endNode && endNode.is && endNode.is( 'span' ) && endNode.data( 'cke-bookmark' ) )\n\t\t\t\tthis.setEndAt( endNode, CKEDITOR.POSITION_AFTER_END );\n\t\t},\n\n\t\t/**\n\t\t * @param {Boolean} [ignoreStart=false]\n\t\t * @param {Boolean} [ignoreEnd=false]\n\t\t * @todo precise desc/algorithm\n\t\t */\n\t\ttrim: function( ignoreStart, ignoreEnd ) {\n\t\t\tvar startContainer = this.startContainer,\n\t\t\t\tstartOffset = this.startOffset,\n\t\t\t\tcollapsed = this.collapsed;\n\t\t\tif ( ( !ignoreStart || collapsed ) && startContainer && startContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t// If the offset is zero, we just insert the new node before\n\t\t\t\t// the start.\n\t\t\t\tif ( !startOffset ) {\n\t\t\t\t\tstartOffset = startContainer.getIndex();\n\t\t\t\t\tstartContainer = startContainer.getParent();\n\t\t\t\t}\n\t\t\t\t// If the offset is at the end, we'll insert it after the text\n\t\t\t\t// node.\n\t\t\t\telse if ( startOffset >= startContainer.getLength() ) {\n\t\t\t\t\tstartOffset = startContainer.getIndex() + 1;\n\t\t\t\t\tstartContainer = startContainer.getParent();\n\t\t\t\t}\n\t\t\t\t// In other case, we split the text node and insert the new\n\t\t\t\t// node at the split point.\n\t\t\t\telse {\n\t\t\t\t\tvar nextText = startContainer.split( startOffset );\n\n\t\t\t\t\tstartOffset = startContainer.getIndex() + 1;\n\t\t\t\t\tstartContainer = startContainer.getParent();\n\n\t\t\t\t\t// Check all necessity of updating the end boundary.\n\t\t\t\t\tif ( this.startContainer.equals( this.endContainer ) )\n\t\t\t\t\t\tthis.setEnd( nextText, this.endOffset - this.startOffset );\n\t\t\t\t\telse if ( startContainer.equals( this.endContainer ) )\n\t\t\t\t\t\tthis.endOffset += 1;\n\t\t\t\t}\n\n\t\t\t\tthis.setStart( startContainer, startOffset );\n\n\t\t\t\tif ( collapsed ) {\n\t\t\t\t\tthis.collapse( true );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar endContainer = this.endContainer;\n\t\t\tvar endOffset = this.endOffset;\n\n\t\t\tif ( !( ignoreEnd || collapsed ) && endContainer && endContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t// If the offset is zero, we just insert the new node before\n\t\t\t\t// the start.\n\t\t\t\tif ( !endOffset ) {\n\t\t\t\t\tendOffset = endContainer.getIndex();\n\t\t\t\t\tendContainer = endContainer.getParent();\n\t\t\t\t}\n\t\t\t\t// If the offset is at the end, we'll insert it after the text\n\t\t\t\t// node.\n\t\t\t\telse if ( endOffset >= endContainer.getLength() ) {\n\t\t\t\t\tendOffset = endContainer.getIndex() + 1;\n\t\t\t\t\tendContainer = endContainer.getParent();\n\t\t\t\t}\n\t\t\t\t// In other case, we split the text node and insert the new\n\t\t\t\t// node at the split point.\n\t\t\t\telse {\n\t\t\t\t\tendContainer.split( endOffset );\n\n\t\t\t\t\tendOffset = endContainer.getIndex() + 1;\n\t\t\t\t\tendContainer = endContainer.getParent();\n\t\t\t\t}\n\n\t\t\t\tthis.setEnd( endContainer, endOffset );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Expands the range so that partial units are completely contained.\n\t\t *\n\t\t * @param unit {Number} The unit type to expand with.\n\t\t * @param {Boolean} [excludeBrs=false] Whether include line-breaks when expanding.\n\t\t */\n\t\tenlarge: function( unit, excludeBrs ) {\n\t\t\tvar leadingWhitespaceRegex = new RegExp( /[^\\s\\ufeff]/ );\n\n\t\t\tswitch ( unit ) {\n\t\t\t\tcase CKEDITOR.ENLARGE_INLINE:\n\t\t\t\t\tvar enlargeInlineOnly = 1;\n\n\t\t\t\t/* falls through */\n\t\t\t\tcase CKEDITOR.ENLARGE_ELEMENT:\n\n\t\t\t\t\tif ( this.collapsed )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Get the common ancestor.\n\t\t\t\t\tvar commonAncestor = this.getCommonAncestor();\n\n\t\t\t\t\tvar boundary = this.root;\n\n\t\t\t\t\t// For each boundary\n\t\t\t\t\t//\t\ta. Depending on its position, find out the first node to be checked (a sibling) or,\n\t\t\t\t\t//\t\t\tif not available, to be enlarge.\n\t\t\t\t\t//\t\tb. Go ahead checking siblings and enlarging the boundary as much as possible until the\n\t\t\t\t\t//\t\t\tcommon ancestor is not reached. After reaching the common ancestor, just save the\n\t\t\t\t\t//\t\t\tenlargeable node to be used later.\n\n\t\t\t\t\tvar startTop, endTop;\n\n\t\t\t\t\tvar enlargeable, sibling, commonReached;\n\n\t\t\t\t\t// Indicates that the node can be added only if whitespace\n\t\t\t\t\t// is available before it.\n\t\t\t\t\tvar needsWhiteSpace = false;\n\t\t\t\t\tvar isWhiteSpace;\n\t\t\t\t\tvar siblingText;\n\n\t\t\t\t\t// Process the start boundary.\n\n\t\t\t\t\tvar container = this.startContainer;\n\t\t\t\t\tvar offset = this.startOffset;\n\n\t\t\t\t\tif ( container.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\tif ( offset ) {\n\t\t\t\t\t\t\t// Check if there is any non-space text before the\n\t\t\t\t\t\t\t// offset. Otherwise, container is null.\n\t\t\t\t\t\t\tcontainer = !CKEDITOR.tools.trim( container.substring( 0, offset ) ).length && container;\n\n\t\t\t\t\t\t\t// If we found only whitespace in the node, it\n\t\t\t\t\t\t\t// means that we'll need more whitespace to be able\n\t\t\t\t\t\t\t// to expand. For example, <i> can be expanded in\n\t\t\t\t\t\t\t// \"A <i> [B]</i>\", but not in \"A<i> [B]</i>\".\n\t\t\t\t\t\t\tneedsWhiteSpace = !!container;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( container ) {\n\t\t\t\t\t\t\tif ( !( sibling = container.getPrevious() ) )\n\t\t\t\t\t\t\t\tenlargeable = container.getParent();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If we have offset, get the node preceeding it as the\n\t\t\t\t\t\t// first sibling to be checked.\n\t\t\t\t\t\tif ( offset )\n\t\t\t\t\t\t\tsibling = container.getChild( offset - 1 ) || container.getLast();\n\n\t\t\t\t\t\t// If there is no sibling, mark the container to be\n\t\t\t\t\t\t// enlarged.\n\t\t\t\t\t\tif ( !sibling )\n\t\t\t\t\t\t\tenlargeable = container;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ensures that enlargeable can be indeed enlarged, if not it will be nulled.\n\t\t\t\t\tenlargeable = getValidEnlargeable( enlargeable );\n\n\t\t\t\t\twhile ( enlargeable || sibling ) {\n\t\t\t\t\t\tif ( enlargeable && !sibling ) {\n\t\t\t\t\t\t\t// If we reached the common ancestor, mark the flag\n\t\t\t\t\t\t\t// for it.\n\t\t\t\t\t\t\tif ( !commonReached && enlargeable.equals( commonAncestor ) )\n\t\t\t\t\t\t\t\tcommonReached = true;\n\n\t\t\t\t\t\t\tif ( enlargeInlineOnly ? enlargeable.isBlockBoundary() : !boundary.contains( enlargeable ) )\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t// If we don't need space or this element breaks\n\t\t\t\t\t\t\t// the line, then enlarge it.\n\t\t\t\t\t\t\tif ( !needsWhiteSpace || enlargeable.getComputedStyle( 'display' ) != 'inline' ) {\n\t\t\t\t\t\t\t\tneedsWhiteSpace = false;\n\n\t\t\t\t\t\t\t\t// If the common ancestor has been reached,\n\t\t\t\t\t\t\t\t// we'll not enlarge it immediately, but just\n\t\t\t\t\t\t\t\t// mark it to be enlarged later if the end\n\t\t\t\t\t\t\t\t// boundary also enlarges it.\n\t\t\t\t\t\t\t\tif ( commonReached )\n\t\t\t\t\t\t\t\t\tstartTop = enlargeable;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tthis.setStartBefore( enlargeable );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsibling = enlargeable.getPrevious();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check all sibling nodes preceeding the enlargeable\n\t\t\t\t\t\t// node. The node wil lbe enlarged only if none of them\n\t\t\t\t\t\t// blocks it.\n\t\t\t\t\t\twhile ( sibling ) {\n\t\t\t\t\t\t\t// This flag indicates that this node has\n\t\t\t\t\t\t\t// whitespaces at the end.\n\t\t\t\t\t\t\tisWhiteSpace = false;\n\n\t\t\t\t\t\t\tif ( sibling.type == CKEDITOR.NODE_COMMENT ) {\n\t\t\t\t\t\t\t\tsibling = sibling.getPrevious();\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else if ( sibling.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\t\t\tsiblingText = sibling.getText();\n\n\t\t\t\t\t\t\t\tif ( leadingWhitespaceRegex.test( siblingText ) )\n\t\t\t\t\t\t\t\t\tsibling = null;\n\n\t\t\t\t\t\t\t\tisWhiteSpace = /[\\s\\ufeff]$/.test( siblingText );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// #12221 (Chrome) plus #11111 (Safari).\n\t\t\t\t\t\t\t\tvar offsetWidth0 = CKEDITOR.env.webkit ? 1 : 0;\n\n\t\t\t\t\t\t\t\t// If this is a visible element.\n\t\t\t\t\t\t\t\t// We need to check for the bookmark attribute because IE insists on\n\t\t\t\t\t\t\t\t// rendering the display:none nodes we use for bookmarks. (#3363)\n\t\t\t\t\t\t\t\t// Line-breaks (br) are rendered with zero width, which we don't want to include. (#7041)\n\t\t\t\t\t\t\t\tif ( ( sibling.$.offsetWidth > offsetWidth0 || excludeBrs && sibling.is( 'br' ) ) && !sibling.data( 'cke-bookmark' ) ) {\n\t\t\t\t\t\t\t\t\t// We'll accept it only if we need\n\t\t\t\t\t\t\t\t\t// whitespace, and this is an inline\n\t\t\t\t\t\t\t\t\t// element with whitespace only.\n\t\t\t\t\t\t\t\t\tif ( needsWhiteSpace && CKEDITOR.dtd.$removeEmpty[ sibling.getName() ] ) {\n\t\t\t\t\t\t\t\t\t\t// It must contains spaces and inline elements only.\n\n\t\t\t\t\t\t\t\t\t\tsiblingText = sibling.getText();\n\n\t\t\t\t\t\t\t\t\t\tif ( leadingWhitespaceRegex.test( siblingText ) ) // Spaces + Zero Width No-Break Space (U+FEFF)\n\t\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tvar allChildren = sibling.$.getElementsByTagName( '*' );\n\t\t\t\t\t\t\t\t\t\t\tfor ( var i = 0, child; child = allChildren[ i++ ]; ) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !CKEDITOR.dtd.$removeEmpty[ child.nodeName.toLowerCase() ] ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( sibling )\n\t\t\t\t\t\t\t\t\t\t\tisWhiteSpace = !!siblingText.length;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// A node with whitespaces has been found.\n\t\t\t\t\t\t\tif ( isWhiteSpace ) {\n\t\t\t\t\t\t\t\t// Enlarge the last enlargeable node, if we\n\t\t\t\t\t\t\t\t// were waiting for spaces.\n\t\t\t\t\t\t\t\tif ( needsWhiteSpace ) {\n\t\t\t\t\t\t\t\t\tif ( commonReached )\n\t\t\t\t\t\t\t\t\t\tstartTop = enlargeable;\n\t\t\t\t\t\t\t\t\telse if ( enlargeable )\n\t\t\t\t\t\t\t\t\t\tthis.setStartBefore( enlargeable );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tneedsWhiteSpace = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( sibling ) {\n\t\t\t\t\t\t\t\tvar next = sibling.getPrevious();\n\n\t\t\t\t\t\t\t\tif ( !enlargeable && !next ) {\n\t\t\t\t\t\t\t\t\t// Set the sibling as enlargeable, so it's\n\t\t\t\t\t\t\t\t\t// parent will be get later outside this while.\n\t\t\t\t\t\t\t\t\tenlargeable = sibling;\n\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsibling = next;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If sibling has been set to null, then we\n\t\t\t\t\t\t\t\t// need to stop enlarging.\n\t\t\t\t\t\t\t\tenlargeable = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( enlargeable )\n\t\t\t\t\t\t\tenlargeable = getValidEnlargeable( enlargeable.getParent() );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Process the end boundary. This is basically the same\n\t\t\t\t\t// code used for the start boundary, with small changes to\n\t\t\t\t\t// make it work in the oposite side (to the right). This\n\t\t\t\t\t// makes it difficult to reuse the code here. So, fixes to\n\t\t\t\t\t// the above code are likely to be replicated here.\n\n\t\t\t\t\tcontainer = this.endContainer;\n\t\t\t\t\toffset = this.endOffset;\n\n\t\t\t\t\t// Reset the common variables.\n\t\t\t\t\tenlargeable = sibling = null;\n\t\t\t\t\tcommonReached = needsWhiteSpace = false;\n\n\t\t\t\t\t// Function check if there are only whitespaces from the given starting point\n\t\t\t\t\t// (startContainer and startOffset) till the end on block.\n\t\t\t\t\t// Examples (\"[\" is the start point):\n\t\t\t\t\t//  - <p>foo[ </p>           - will return true,\n\t\t\t\t\t//  - <p><b>foo[ </b> </p>   - will return true,\n\t\t\t\t\t//  - <p>foo[ bar</p>        - will return false,\n\t\t\t\t\t//  - <p><b>foo[ </b>bar</p> - will return false,\n\t\t\t\t\t//  - <p>foo[ <b></b></p>    - will return false.\n\t\t\t\t\tfunction onlyWhiteSpaces( startContainer, startOffset ) {\n\t\t\t\t\t\t// We need to enlarge range if there is white space at the end of the block,\n\t\t\t\t\t\t// because it is not displayed in WYSIWYG mode and user can not select it. So\n\t\t\t\t\t\t// \"<p>foo[bar] </p>\" should be changed to \"<p>foo[bar ]</p>\". On the other hand\n\t\t\t\t\t\t// we should do nothing if we are not at the end of the block, so this should not\n\t\t\t\t\t\t// be changed: \"<p><i>[foo] </i>bar</p>\".\n\t\t\t\t\t\tvar walkerRange = new CKEDITOR.dom.range( boundary );\n\t\t\t\t\t\twalkerRange.setStart( startContainer, startOffset );\n\t\t\t\t\t\t// The guard will find the end of range so I put boundary here.\n\t\t\t\t\t\twalkerRange.setEndAt( boundary, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\t\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange ),\n\t\t\t\t\t\t\tnode;\n\n\t\t\t\t\t\twalker.guard = function( node ) {\n\t\t\t\t\t\t\t// Stop if you exit block.\n\t\t\t\t\t\t\treturn !( node.type == CKEDITOR.NODE_ELEMENT && node.isBlockBoundary() );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\twhile ( ( node = walker.next() ) ) {\n\t\t\t\t\t\t\tif ( node.type != CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\t\t\t// Stop if you enter to any node (walker.next() will return node only\n\t\t\t\t\t\t\t\t// it goes out, not if it is go into node).\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Trim the first node to startOffset.\n\t\t\t\t\t\t\t\tif ( node != startContainer )\n\t\t\t\t\t\t\t\t\tsiblingText = node.getText();\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tsiblingText = node.substring( startOffset );\n\n\t\t\t\t\t\t\t\t// Check if it is white space.\n\t\t\t\t\t\t\t\tif ( leadingWhitespaceRegex.test( siblingText ) )\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( container.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\t// Check if there is only white space after the offset.\n\t\t\t\t\t\tif ( CKEDITOR.tools.trim( container.substring( offset ) ).length ) {\n\t\t\t\t\t\t\t// If we found only whitespace in the node, it\n\t\t\t\t\t\t\t// means that we'll need more whitespace to be able\n\t\t\t\t\t\t\t// to expand. For example, <i> can be expanded in\n\t\t\t\t\t\t\t// \"A <i> [B]</i>\", but not in \"A<i> [B]</i>\".\n\t\t\t\t\t\t\tneedsWhiteSpace = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tneedsWhiteSpace = !container.getLength();\n\n\t\t\t\t\t\t\tif ( offset == container.getLength() ) {\n\t\t\t\t\t\t\t\t// If we are at the end of container and this is the last text node,\n\t\t\t\t\t\t\t\t// we should enlarge end to the parent.\n\t\t\t\t\t\t\t\tif ( !( sibling = container.getNext() ) )\n\t\t\t\t\t\t\t\t\tenlargeable = container.getParent();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If we are in the middle on text node and there are only whitespaces\n\t\t\t\t\t\t\t\t// till the end of block, we should enlarge element.\n\t\t\t\t\t\t\t\tif ( onlyWhiteSpaces( container, offset ) )\n\t\t\t\t\t\t\t\t\tenlargeable = container.getParent();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Get the node right after the boudary to be checked\n\t\t\t\t\t\t// first.\n\t\t\t\t\t\tsibling = container.getChild( offset );\n\n\t\t\t\t\t\tif ( !sibling )\n\t\t\t\t\t\t\tenlargeable = container;\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( enlargeable || sibling ) {\n\t\t\t\t\t\tif ( enlargeable && !sibling ) {\n\t\t\t\t\t\t\tif ( !commonReached && enlargeable.equals( commonAncestor ) )\n\t\t\t\t\t\t\t\tcommonReached = true;\n\n\t\t\t\t\t\t\tif ( enlargeInlineOnly ? enlargeable.isBlockBoundary() : !boundary.contains( enlargeable ) )\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tif ( !needsWhiteSpace || enlargeable.getComputedStyle( 'display' ) != 'inline' ) {\n\t\t\t\t\t\t\t\tneedsWhiteSpace = false;\n\n\t\t\t\t\t\t\t\tif ( commonReached )\n\t\t\t\t\t\t\t\t\tendTop = enlargeable;\n\t\t\t\t\t\t\t\telse if ( enlargeable )\n\t\t\t\t\t\t\t\t\tthis.setEndAfter( enlargeable );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsibling = enlargeable.getNext();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twhile ( sibling ) {\n\t\t\t\t\t\t\tisWhiteSpace = false;\n\n\t\t\t\t\t\t\tif ( sibling.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\t\t\tsiblingText = sibling.getText();\n\n\t\t\t\t\t\t\t\t// Check if there are not whitespace characters till the end of editable.\n\t\t\t\t\t\t\t\t// If so stop expanding.\n\t\t\t\t\t\t\t\tif ( !onlyWhiteSpaces( sibling, 0 ) )\n\t\t\t\t\t\t\t\t\tsibling = null;\n\n\t\t\t\t\t\t\t\tisWhiteSpace = /^[\\s\\ufeff]/.test( siblingText );\n\t\t\t\t\t\t\t} else if ( sibling.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t\t\t// If this is a visible element.\n\t\t\t\t\t\t\t\t// We need to check for the bookmark attribute because IE insists on\n\t\t\t\t\t\t\t\t// rendering the display:none nodes we use for bookmarks. (#3363)\n\t\t\t\t\t\t\t\t// Line-breaks (br) are rendered with zero width, which we don't want to include. (#7041)\n\t\t\t\t\t\t\t\tif ( ( sibling.$.offsetWidth > 0 || excludeBrs && sibling.is( 'br' ) ) && !sibling.data( 'cke-bookmark' ) ) {\n\t\t\t\t\t\t\t\t\t// We'll accept it only if we need\n\t\t\t\t\t\t\t\t\t// whitespace, and this is an inline\n\t\t\t\t\t\t\t\t\t// element with whitespace only.\n\t\t\t\t\t\t\t\t\tif ( needsWhiteSpace && CKEDITOR.dtd.$removeEmpty[ sibling.getName() ] ) {\n\t\t\t\t\t\t\t\t\t\t// It must contains spaces and inline elements only.\n\n\t\t\t\t\t\t\t\t\t\tsiblingText = sibling.getText();\n\n\t\t\t\t\t\t\t\t\t\tif ( leadingWhitespaceRegex.test( siblingText ) )\n\t\t\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tallChildren = sibling.$.getElementsByTagName( '*' );\n\t\t\t\t\t\t\t\t\t\t\tfor ( i = 0; child = allChildren[ i++ ]; ) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !CKEDITOR.dtd.$removeEmpty[ child.nodeName.toLowerCase() ] ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( sibling )\n\t\t\t\t\t\t\t\t\t\t\tisWhiteSpace = !!siblingText.length;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tisWhiteSpace = 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( isWhiteSpace ) {\n\t\t\t\t\t\t\t\tif ( needsWhiteSpace ) {\n\t\t\t\t\t\t\t\t\tif ( commonReached )\n\t\t\t\t\t\t\t\t\t\tendTop = enlargeable;\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tthis.setEndAfter( enlargeable );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( sibling ) {\n\t\t\t\t\t\t\t\tnext = sibling.getNext();\n\n\t\t\t\t\t\t\t\tif ( !enlargeable && !next ) {\n\t\t\t\t\t\t\t\t\tenlargeable = sibling;\n\t\t\t\t\t\t\t\t\tsibling = null;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsibling = next;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If sibling has been set to null, then we\n\t\t\t\t\t\t\t\t// need to stop enlarging.\n\t\t\t\t\t\t\t\tenlargeable = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( enlargeable )\n\t\t\t\t\t\t\tenlargeable = getValidEnlargeable( enlargeable.getParent() );\n\t\t\t\t\t}\n\n\t\t\t\t\t// If the common ancestor can be enlarged by both boundaries, then include it also.\n\t\t\t\t\tif ( startTop && endTop ) {\n\t\t\t\t\t\tcommonAncestor = startTop.contains( endTop ) ? endTop : startTop;\n\n\t\t\t\t\t\tthis.setStartBefore( commonAncestor );\n\t\t\t\t\t\tthis.setEndAfter( commonAncestor );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.ENLARGE_BLOCK_CONTENTS:\n\t\t\t\tcase CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:\n\n\t\t\t\t\t// Enlarging the start boundary.\n\t\t\t\t\tvar walkerRange = new CKEDITOR.dom.range( this.root );\n\n\t\t\t\t\tboundary = this.root;\n\n\t\t\t\t\twalkerRange.setStartAt( boundary, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\twalkerRange.setEnd( this.startContainer, this.startOffset );\n\n\t\t\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange ),\n\t\t\t\t\t\tblockBoundary, // The node on which the enlarging should stop.\n\t\t\t\t\t\ttailBr, // In case BR as block boundary.\n\t\t\t\t\t\tnotBlockBoundary = CKEDITOR.dom.walker.blockBoundary( ( unit == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ) ? { br: 1 } : null ),\n\t\t\t\t\t\tinNonEditable = null,\n\t\t\t\t\t\t// Record the encountered 'blockBoundary' for later use.\n\t\t\t\t\t\tboundaryGuard = function( node ) {\n\t\t\t\t\t\t\t// We should not check contents of non-editable elements. It may happen\n\t\t\t\t\t\t\t// that inline widget has display:table child which should not block range#enlarge.\n\t\t\t\t\t\t\t// When encoutered non-editable element...\n\t\t\t\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && node.getAttribute( 'contenteditable' ) == 'false' ) {\n\t\t\t\t\t\t\t\tif ( inNonEditable ) {\n\t\t\t\t\t\t\t\t\t// ... in which we already were, reset it (because we're leaving it) and return.\n\t\t\t\t\t\t\t\t\tif ( inNonEditable.equals( node ) ) {\n\t\t\t\t\t\t\t\t\t\tinNonEditable = null;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// ... which we're entering, remember it but check it (no return).\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tinNonEditable = node;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// When we are in non-editable element, do not check if current node is a block boundary.\n\t\t\t\t\t\t\t} else if ( inNonEditable ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar retval = notBlockBoundary( node );\n\t\t\t\t\t\t\tif ( !retval )\n\t\t\t\t\t\t\t\tblockBoundary = node;\n\t\t\t\t\t\t\treturn retval;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// Record the encounted 'tailBr' for later use.\n\t\t\t\t\t\ttailBrGuard = function( node ) {\n\t\t\t\t\t\t\tvar retval = boundaryGuard( node );\n\t\t\t\t\t\t\tif ( !retval && node.is && node.is( 'br' ) )\n\t\t\t\t\t\t\t\ttailBr = node;\n\t\t\t\t\t\t\treturn retval;\n\t\t\t\t\t\t};\n\n\t\t\t\t\twalker.guard = boundaryGuard;\n\n\t\t\t\t\tenlargeable = walker.lastBackward();\n\n\t\t\t\t\t// It's the body which stop the enlarging if no block boundary found.\n\t\t\t\t\tblockBoundary = blockBoundary || boundary;\n\n\t\t\t\t\t// Start the range either after the end of found block (<p>...</p>[text)\n\t\t\t\t\t// or at the start of block (<p>[text...), by comparing the document position\n\t\t\t\t\t// with 'enlargeable' node.\n\t\t\t\t\tthis.setStartAt( blockBoundary, !blockBoundary.is( 'br' ) && ( !enlargeable && this.checkStartOfBlock() ||\n\t\t\t\t\t\tenlargeable && blockBoundary.contains( enlargeable ) ) ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_AFTER_END );\n\n\t\t\t\t\t// Avoid enlarging the range further when end boundary spans right after the BR. (#7490)\n\t\t\t\t\tif ( unit == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ) {\n\t\t\t\t\t\tvar theRange = this.clone();\n\t\t\t\t\t\twalker = new CKEDITOR.dom.walker( theRange );\n\n\t\t\t\t\t\tvar whitespaces = CKEDITOR.dom.walker.whitespaces(),\n\t\t\t\t\t\t\tbookmark = CKEDITOR.dom.walker.bookmark();\n\n\t\t\t\t\t\twalker.evaluator = function( node ) {\n\t\t\t\t\t\t\treturn !whitespaces( node ) && !bookmark( node );\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar previous = walker.previous();\n\t\t\t\t\t\tif ( previous && previous.type == CKEDITOR.NODE_ELEMENT && previous.is( 'br' ) )\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Enlarging the end boundary.\n\t\t\t\t\t// Set up new range and reset all flags (blockBoundary, inNonEditable, tailBr).\n\n\t\t\t\t\twalkerRange = this.clone();\n\t\t\t\t\twalkerRange.collapse();\n\t\t\t\t\twalkerRange.setEndAt( boundary, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\twalker = new CKEDITOR.dom.walker( walkerRange );\n\n\t\t\t\t\t// tailBrGuard only used for on range end.\n\t\t\t\t\twalker.guard = ( unit == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ) ? tailBrGuard : boundaryGuard;\n\t\t\t\t\tblockBoundary = inNonEditable = tailBr = null;\n\n\t\t\t\t\t// End the range right before the block boundary node.\n\t\t\t\t\tenlargeable = walker.lastForward();\n\n\t\t\t\t\t// It's the body which stop the enlarging if no block boundary found.\n\t\t\t\t\tblockBoundary = blockBoundary || boundary;\n\n\t\t\t\t\t// Close the range either before the found block start (text]<p>...</p>) or at the block end (...text]</p>)\n\t\t\t\t\t// by comparing the document position with 'enlargeable' node.\n\t\t\t\t\tthis.setEndAt( blockBoundary, ( !enlargeable && this.checkEndOfBlock() ||\n\t\t\t\t\t\tenlargeable && blockBoundary.contains( enlargeable ) ) ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t// We must include the <br> at the end of range if there's\n\t\t\t\t\t// one and we're expanding list item contents\n\t\t\t\t\tif ( tailBr ) {\n\t\t\t\t\t\tthis.setEndAfter( tailBr );\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Ensures that returned element can be enlarged by selection, null otherwise.\n\t\t\t// @param {CKEDITOR.dom.element} enlargeable\n\t\t\t// @returns {CKEDITOR.dom.element/null}\n\t\t\tfunction getValidEnlargeable( enlargeable ) {\n\t\t\t\treturn enlargeable && enlargeable.type == CKEDITOR.NODE_ELEMENT && enlargeable.hasAttribute( 'contenteditable' ) ?\n\t\t\t\t\tnull : enlargeable;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Descrease the range to make sure that boundaries\n\t\t * always anchor beside text nodes or innermost element.\n\t\t *\n\t\t * @param {Number} mode The shrinking mode ({@link CKEDITOR#SHRINK_ELEMENT} or {@link CKEDITOR#SHRINK_TEXT}).\n\t\t *\n\t\t * * {@link CKEDITOR#SHRINK_ELEMENT} - Shrink the range boundaries to the edge of the innermost element.\n\t\t * * {@link CKEDITOR#SHRINK_TEXT} - Shrink the range boudaries to anchor by the side of enclosed text\n\t\t *     node, range remains if there's no text nodes on boundaries at all.\n\t\t *\n\t\t * @param {Boolean} selectContents Whether result range anchors at the inner OR outer boundary of the node.\n\t\t */\n\t\tshrink: function( mode, selectContents, shrinkOnBlockBoundary ) {\n\t\t\t// Unable to shrink a collapsed range.\n\t\t\tif ( !this.collapsed ) {\n\t\t\t\tmode = mode || CKEDITOR.SHRINK_TEXT;\n\n\t\t\t\tvar walkerRange = this.clone();\n\n\t\t\t\tvar startContainer = this.startContainer,\n\t\t\t\t\tendContainer = this.endContainer,\n\t\t\t\t\tstartOffset = this.startOffset,\n\t\t\t\t\tendOffset = this.endOffset;\n\n\t\t\t\t// Whether the start/end boundary is moveable.\n\t\t\t\tvar moveStart = 1,\n\t\t\t\t\tmoveEnd = 1;\n\n\t\t\t\tif ( startContainer && startContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\tif ( !startOffset )\n\t\t\t\t\t\twalkerRange.setStartBefore( startContainer );\n\t\t\t\t\telse if ( startOffset >= startContainer.getLength() )\n\t\t\t\t\t\twalkerRange.setStartAfter( startContainer );\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Enlarge the range properly to avoid walker making\n\t\t\t\t\t\t// DOM changes caused by triming the text nodes later.\n\t\t\t\t\t\twalkerRange.setStartBefore( startContainer );\n\t\t\t\t\t\tmoveStart = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( endContainer && endContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\tif ( !endOffset )\n\t\t\t\t\t\twalkerRange.setEndBefore( endContainer );\n\t\t\t\t\telse if ( endOffset >= endContainer.getLength() )\n\t\t\t\t\t\twalkerRange.setEndAfter( endContainer );\n\t\t\t\t\telse {\n\t\t\t\t\t\twalkerRange.setEndAfter( endContainer );\n\t\t\t\t\t\tmoveEnd = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange ),\n\t\t\t\t\tisBookmark = CKEDITOR.dom.walker.bookmark();\n\n\t\t\t\twalker.evaluator = function( node ) {\n\t\t\t\t\treturn node.type == ( mode == CKEDITOR.SHRINK_ELEMENT ? CKEDITOR.NODE_ELEMENT : CKEDITOR.NODE_TEXT );\n\t\t\t\t};\n\n\t\t\t\tvar currentElement;\n\t\t\t\twalker.guard = function( node, movingOut ) {\n\t\t\t\t\tif ( isBookmark( node ) )\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t// Stop when we're shrink in element mode while encountering a text node.\n\t\t\t\t\tif ( mode == CKEDITOR.SHRINK_ELEMENT && node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t// Stop when we've already walked \"through\" an element.\n\t\t\t\t\tif ( movingOut && node.equals( currentElement ) )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tif ( shrinkOnBlockBoundary === false && node.type == CKEDITOR.NODE_ELEMENT && node.isBlockBoundary() )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t// Stop shrinking when encountering an editable border.\n\t\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && node.hasAttribute( 'contenteditable' ) )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tif ( !movingOut && node.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\tcurrentElement = node;\n\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\n\t\t\t\tif ( moveStart ) {\n\t\t\t\t\tvar textStart = walker[ mode == CKEDITOR.SHRINK_ELEMENT ? 'lastForward' : 'next' ]();\n\t\t\t\t\ttextStart && this.setStartAt( textStart, selectContents ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t}\n\n\t\t\t\tif ( moveEnd ) {\n\t\t\t\t\twalker.reset();\n\t\t\t\t\tvar textEnd = walker[ mode == CKEDITOR.SHRINK_ELEMENT ? 'lastBackward' : 'previous' ]();\n\t\t\t\t\ttextEnd && this.setEndAt( textEnd, selectContents ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t}\n\n\t\t\t\treturn !!( moveStart || moveEnd );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Inserts a node at the start of the range. The range will be expanded\n\t\t * the contain the node.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t */\n\t\tinsertNode: function( node ) {\n\t\t\tthis.optimizeBookmark();\n\t\t\tthis.trim( false, true );\n\n\t\t\tvar startContainer = this.startContainer;\n\t\t\tvar startOffset = this.startOffset;\n\n\t\t\tvar nextNode = startContainer.getChild( startOffset );\n\n\t\t\tif ( nextNode )\n\t\t\t\tnode.insertBefore( nextNode );\n\t\t\telse\n\t\t\t\tstartContainer.append( node );\n\n\t\t\t// Check if we need to update the end boundary.\n\t\t\tif ( node.getParent() && node.getParent().equals( this.endContainer ) )\n\t\t\t\tthis.endOffset++;\n\n\t\t\t// Expand the range to embrace the new node.\n\t\t\tthis.setStartBefore( node );\n\t\t},\n\n\t\t/**\n\t\t * Moves the range to given position according to specified node.\n\t\t *\n\t\t *\t\t// HTML: <p>Foo <b>bar</b></p>\n\t\t *\t\trange.moveToPosition( elB, CKEDITOR.POSITION_BEFORE_START );\n\t\t *\t\t// Range will be moved to: <p>Foo ^<b>bar</b></p>\n\t\t *\n\t\t * See also {@link #setStartAt} and {@link #setEndAt}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node The node according to which position will be set.\n\t\t * @param {Number} position One of {@link CKEDITOR#POSITION_BEFORE_START},\n\t\t * {@link CKEDITOR#POSITION_AFTER_START}, {@link CKEDITOR#POSITION_BEFORE_END},\n\t\t * {@link CKEDITOR#POSITION_AFTER_END}.\n\t\t */\n\t\tmoveToPosition: function( node, position ) {\n\t\t\tthis.setStartAt( node, position );\n\t\t\tthis.collapse( true );\n\t\t},\n\n\t\t/**\n\t\t * Moves the range to the exact position of the specified range.\n\t\t *\n\t\t * @param {CKEDITOR.dom.range} range\n\t\t */\n\t\tmoveToRange: function( range ) {\n\t\t\tthis.setStart( range.startContainer, range.startOffset );\n\t\t\tthis.setEnd( range.endContainer, range.endOffset );\n\t\t},\n\n\t\t/**\n\t\t * Select nodes content. Range will start and end inside this node.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t */\n\t\tselectNodeContents: function( node ) {\n\t\t\tthis.setStart( node, 0 );\n\t\t\tthis.setEnd( node, node.type == CKEDITOR.NODE_TEXT ? node.getLength() : node.getChildCount() );\n\t\t},\n\n\t\t/**\n\t\t * Sets the start position of a range.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} startNode The node to start the range.\n\t\t * @param {Number} startOffset An integer greater than or equal to zero\n\t\t * representing the offset for the start of the range from the start\n\t\t * of `startNode`.\n\t\t */\n\t\tsetStart: function( startNode, startOffset ) {\n\t\t\t// W3C requires a check for the new position. If it is after the end\n\t\t\t// boundary, the range should be collapsed to the new start. It seams\n\t\t\t// we will not need this check for our use of this class so we can\n\t\t\t// ignore it for now.\n\n\t\t\t// Fixing invalid range start inside dtd empty elements.\n\t\t\tif ( startNode.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[ startNode.getName() ] )\n\t\t\t\tstartOffset = startNode.getIndex(), startNode = startNode.getParent();\n\n\t\t\tthis._setStartContainer( startNode );\n\t\t\tthis.startOffset = startOffset;\n\n\t\t\tif ( !this.endContainer ) {\n\t\t\t\tthis._setEndContainer( startNode );\n\t\t\t\tthis.endOffset = startOffset;\n\t\t\t}\n\n\t\t\tupdateCollapsed( this );\n\t\t},\n\n\t\t/**\n\t\t * Sets the end position of a Range.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} endNode The node to end the range.\n\t\t * @param {Number} endOffset An integer greater than or equal to zero\n\t\t * representing the offset for the end of the range from the start\n\t\t * of `endNode`.\n\t\t */\n\t\tsetEnd: function( endNode, endOffset ) {\n\t\t\t// W3C requires a check for the new position. If it is before the start\n\t\t\t// boundary, the range should be collapsed to the new end. It seams we\n\t\t\t// will not need this check for our use of this class so we can ignore\n\t\t\t// it for now.\n\n\t\t\t// Fixing invalid range end inside dtd empty elements.\n\t\t\tif ( endNode.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[ endNode.getName() ] )\n\t\t\t\tendOffset = endNode.getIndex() + 1, endNode = endNode.getParent();\n\n\t\t\tthis._setEndContainer( endNode );\n\t\t\tthis.endOffset = endOffset;\n\n\t\t\tif ( !this.startContainer ) {\n\t\t\t\tthis._setStartContainer( endNode );\n\t\t\t\tthis.startOffset = endOffset;\n\t\t\t}\n\n\t\t\tupdateCollapsed( this );\n\t\t},\n\n\t\t/**\n\t\t * Sets start of this range after the specified node.\n\t\t *\n\t\t *\t\t// Range: <p>foo<b>bar</b>^</p>\n\t\t *\t\trange.setStartAfter( textFoo );\n\t\t *\t\t// The range will be changed to:\n\t\t *\t\t// <p>foo[<b>bar</b>]</p>\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t */\n\t\tsetStartAfter: function( node ) {\n\t\t\tthis.setStart( node.getParent(), node.getIndex() + 1 );\n\t\t},\n\n\t\t/**\n\t\t * Sets start of this range after the specified node.\n\t\t *\n\t\t *\t\t// Range: <p>foo<b>bar</b>^</p>\n\t\t *\t\trange.setStartBefore( elB );\n\t\t *\t\t// The range will be changed to:\n\t\t *\t\t// <p>foo[<b>bar</b>]</p>\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t */\n\t\tsetStartBefore: function( node ) {\n\t\t\tthis.setStart( node.getParent(), node.getIndex() );\n\t\t},\n\n\t\t/**\n\t\t * Sets end of this range after the specified node.\n\t\t *\n\t\t *\t\t// Range: <p>foo^<b>bar</b></p>\n\t\t *\t\trange.setEndAfter( elB );\n\t\t *\t\t// The range will be changed to:\n\t\t *\t\t// <p>foo[<b>bar</b>]</p>\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t */\n\t\tsetEndAfter: function( node ) {\n\t\t\tthis.setEnd( node.getParent(), node.getIndex() + 1 );\n\t\t},\n\n\t\t/**\n\t\t * Sets end of this range before the specified node.\n\t\t *\n\t\t *\t\t// Range: <p>^foo<b>bar</b></p>\n\t\t *\t\trange.setStartAfter( textBar );\n\t\t *\t\t// The range will be changed to:\n\t\t *\t\t// <p>[foo<b>]bar</b></p>\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t */\n\t\tsetEndBefore: function( node ) {\n\t\t\tthis.setEnd( node.getParent(), node.getIndex() );\n\t\t},\n\n\t\t/**\n\t\t * Moves the start of this range to given position according to specified node.\n\t\t *\n\t\t *\t\t// HTML: <p>Foo <b>bar</b>^</p>\n\t\t *\t\trange.setStartAt( elB, CKEDITOR.POSITION_AFTER_START );\n\t\t *\t\t// The range will be changed to:\n\t\t *\t\t// <p>Foo <b>[bar</b>]</p>\n\t\t *\n\t\t * See also {@link #setEndAt} and {@link #moveToPosition}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node The node according to which position will be set.\n\t\t * @param {Number} position One of {@link CKEDITOR#POSITION_BEFORE_START},\n\t\t * {@link CKEDITOR#POSITION_AFTER_START}, {@link CKEDITOR#POSITION_BEFORE_END},\n\t\t * {@link CKEDITOR#POSITION_AFTER_END}.\n\t\t */\n\t\tsetStartAt: function( node, position ) {\n\t\t\tswitch ( position ) {\n\t\t\t\tcase CKEDITOR.POSITION_AFTER_START:\n\t\t\t\t\tthis.setStart( node, 0 );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.POSITION_BEFORE_END:\n\t\t\t\t\tif ( node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\t\t\tthis.setStart( node, node.getLength() );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.setStart( node, node.getChildCount() );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.POSITION_BEFORE_START:\n\t\t\t\t\tthis.setStartBefore( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.POSITION_AFTER_END:\n\t\t\t\t\tthis.setStartAfter( node );\n\t\t\t}\n\n\t\t\tupdateCollapsed( this );\n\t\t},\n\n\t\t/**\n\t\t * Moves the end of this range to given position according to specified node.\n\t\t *\n\t\t *\t\t// HTML: <p>^Foo <b>bar</b></p>\n\t\t *\t\trange.setEndAt( textBar, CKEDITOR.POSITION_BEFORE_START );\n\t\t *\t\t// The range will be changed to:\n\t\t *\t\t// <p>[Foo <b>]bar</b></p>\n\t\t *\n\t\t * See also {@link #setStartAt} and {@link #moveToPosition}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} node The node according to which position will be set.\n\t\t * @param {Number} position One of {@link CKEDITOR#POSITION_BEFORE_START},\n\t\t * {@link CKEDITOR#POSITION_AFTER_START}, {@link CKEDITOR#POSITION_BEFORE_END},\n\t\t * {@link CKEDITOR#POSITION_AFTER_END}.\n\t\t */\n\t\tsetEndAt: function( node, position ) {\n\t\t\tswitch ( position ) {\n\t\t\t\tcase CKEDITOR.POSITION_AFTER_START:\n\t\t\t\t\tthis.setEnd( node, 0 );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.POSITION_BEFORE_END:\n\t\t\t\t\tif ( node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\t\t\tthis.setEnd( node, node.getLength() );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.setEnd( node, node.getChildCount() );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.POSITION_BEFORE_START:\n\t\t\t\t\tthis.setEndBefore( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CKEDITOR.POSITION_AFTER_END:\n\t\t\t\t\tthis.setEndAfter( node );\n\t\t\t}\n\n\t\t\tupdateCollapsed( this );\n\t\t},\n\n\t\t/**\n\t\t * Wraps inline content found around the range's start or end boundary\n\t\t * with a block element.\n\t\t *\n\t\t *\t\t// Assuming the following range:\n\t\t *\t\t// <h1>foo</h1>ba^r<br />bom<p>foo</p>\n\t\t *\t\t// The result of executing:\n\t\t *\t\trange.fixBlock( true, 'p' );\n\t\t *\t\t// will be:\n\t\t *\t\t// <h1>foo</h1><p>ba^r<br />bom</p><p>foo</p>\n\t\t *\n\t\t * Non-collapsed range:\n\t\t *\n\t\t *\t\t// Assuming the following range:\n\t\t *\t\t// ba[r<p>foo</p>bo]m\n\t\t *\t\t// The result of executing:\n\t\t *\t\trange.fixBlock( false, 'p' );\n\t\t *\t\t// will be:\n\t\t *\t\t// ba[r<p>foo</p><p>bo]m</p>\n\t\t *\n\t\t * @param {Boolean} isStart Whether the start or end boundary of a range should be checked.\n\t\t * @param {String} blockTag The name of a block element in which content will be wrapped.\n\t\t * For example: `'p'`.\n\t\t * @returns {CKEDITOR.dom.element} Created block wrapper.\n\t\t */\n\t\tfixBlock: function( isStart, blockTag ) {\n\t\t\tvar bookmark = this.createBookmark(),\n\t\t\t\tfixedBlock = this.document.createElement( blockTag );\n\n\t\t\tthis.collapse( isStart );\n\n\t\t\tthis.enlarge( CKEDITOR.ENLARGE_BLOCK_CONTENTS );\n\n\t\t\tthis.extractContents().appendTo( fixedBlock );\n\t\t\tfixedBlock.trim();\n\n\t\t\tthis.insertNode( fixedBlock );\n\n\t\t\t// Bogus <br> could already exist in the range's container before fixBlock() was called. In such case it was\n\t\t\t// extracted and appended to the fixBlock. However, we are not sure that it's at the end of\n\t\t\t// the fixedBlock, because of FF's terrible bug. When creating a bookmark in an empty editable\n\t\t\t// FF moves the bogus <br> before that bookmark (<editable><br /><bm />[]</editable>).\n\t\t\t// So even if the initial range was placed before the bogus <br>, after creating the bookmark it\n\t\t\t// is placed before the bookmark.\n\t\t\t// Fortunately, getBogus() is able to skip the bookmark so it finds the bogus <br> in this case.\n\t\t\t// We remove incorrectly placed one and add a brand new one. (#13001)\n\t\t\tvar bogus = fixedBlock.getBogus();\n\t\t\tif ( bogus ) {\n\t\t\t\tbogus.remove();\n\t\t\t}\n\t\t\tfixedBlock.appendBogus();\n\n\t\t\tthis.moveToBookmark( bookmark );\n\n\t\t\treturn fixedBlock;\n\t\t},\n\n\t\t/**\n\t\t * @todo\n\t\t * @param {Boolean} [cloneId=false] Whether to preserve ID attributes in the result blocks.\n\t\t */\n\t\tsplitBlock: function( blockTag, cloneId ) {\n\t\t\tvar startPath = new CKEDITOR.dom.elementPath( this.startContainer, this.root ),\n\t\t\t\tendPath = new CKEDITOR.dom.elementPath( this.endContainer, this.root );\n\n\t\t\tvar startBlockLimit = startPath.blockLimit,\n\t\t\t\tendBlockLimit = endPath.blockLimit;\n\n\t\t\tvar startBlock = startPath.block,\n\t\t\t\tendBlock = endPath.block;\n\n\t\t\tvar elementPath = null;\n\t\t\t// Do nothing if the boundaries are in different block limits.\n\t\t\tif ( !startBlockLimit.equals( endBlockLimit ) )\n\t\t\t\treturn null;\n\n\t\t\t// Get or fix current blocks.\n\t\t\tif ( blockTag != 'br' ) {\n\t\t\t\tif ( !startBlock ) {\n\t\t\t\t\tstartBlock = this.fixBlock( true, blockTag );\n\t\t\t\t\tendBlock = new CKEDITOR.dom.elementPath( this.endContainer, this.root ).block;\n\t\t\t\t}\n\n\t\t\t\tif ( !endBlock )\n\t\t\t\t\tendBlock = this.fixBlock( false, blockTag );\n\t\t\t}\n\n\t\t\t// Get the range position.\n\t\t\tvar isStartOfBlock = startBlock && this.checkStartOfBlock(),\n\t\t\t\tisEndOfBlock = endBlock && this.checkEndOfBlock();\n\n\t\t\t// Delete the current contents.\n\t\t\t// TODO: Why is 2.x doing CheckIsEmpty()?\n\t\t\tthis.deleteContents();\n\n\t\t\tif ( startBlock && startBlock.equals( endBlock ) ) {\n\t\t\t\tif ( isEndOfBlock ) {\n\t\t\t\t\telementPath = new CKEDITOR.dom.elementPath( this.startContainer, this.root );\n\t\t\t\t\tthis.moveToPosition( endBlock, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\tendBlock = null;\n\t\t\t\t} else if ( isStartOfBlock ) {\n\t\t\t\t\telementPath = new CKEDITOR.dom.elementPath( this.startContainer, this.root );\n\t\t\t\t\tthis.moveToPosition( startBlock, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\tstartBlock = null;\n\t\t\t\t} else {\n\t\t\t\t\tendBlock = this.splitElement( startBlock, cloneId || false );\n\n\t\t\t\t\t// In Gecko, the last child node must be a bogus <br>.\n\t\t\t\t\t// Note: bogus <br> added under <ul> or <ol> would cause\n\t\t\t\t\t// lists to be incorrectly rendered.\n\t\t\t\t\tif ( !startBlock.is( 'ul', 'ol' ) )\n\t\t\t\t\t\tstartBlock.appendBogus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tpreviousBlock: startBlock,\n\t\t\t\tnextBlock: endBlock,\n\t\t\t\twasStartOfBlock: isStartOfBlock,\n\t\t\t\twasEndOfBlock: isEndOfBlock,\n\t\t\t\telementPath: elementPath\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Branch the specified element from the collapsed range position and\n\t\t * place the caret between the two result branches.\n\t\t *\n\t\t * **Note:** The range must be collapsed and been enclosed by this element.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @param {Boolean} [cloneId=false] Whether to preserve ID attributes in the result elements.\n\t\t * @returns {CKEDITOR.dom.element} Root element of the new branch after the split.\n\t\t */\n\t\tsplitElement: function( toSplit, cloneId ) {\n\t\t\tif ( !this.collapsed )\n\t\t\t\treturn null;\n\n\t\t\t// Extract the contents of the block from the selection point to the end\n\t\t\t// of its contents.\n\t\t\tthis.setEndAt( toSplit, CKEDITOR.POSITION_BEFORE_END );\n\t\t\tvar documentFragment = this.extractContents( false, cloneId || false );\n\n\t\t\t// Duplicate the element after it.\n\t\t\tvar clone = toSplit.clone( false, cloneId || false );\n\n\t\t\t// Place the extracted contents into the duplicated element.\n\t\t\tdocumentFragment.appendTo( clone );\n\t\t\tclone.insertAfter( toSplit );\n\t\t\tthis.moveToPosition( toSplit, CKEDITOR.POSITION_AFTER_END );\n\t\t\treturn clone;\n\t\t},\n\n\t\t/**\n\t\t * Recursively remove any empty path blocks at the range boundary.\n\t\t *\n\t\t * @method\n\t\t * @param {Boolean} atEnd Removal to perform at the end boundary,\n\t\t * otherwise to perform at the start.\n\t\t */\n\t\tremoveEmptyBlocksAtEnd: ( function() {\n\n\t\t\tvar whitespace = CKEDITOR.dom.walker.whitespaces(),\n\t\t\t\t\tbookmark = CKEDITOR.dom.walker.bookmark( false );\n\n\t\t\tfunction childEval( parent ) {\n\t\t\t\treturn function( node ) {\n\t\t\t\t\t// Whitespace, bookmarks, empty inlines.\n\t\t\t\t\tif ( whitespace( node ) || bookmark( node ) ||\n\t\t\t\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t\t\tnode.isEmptyInlineRemoveable() ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if ( parent.is( 'table' ) && node.is( 'caption' ) ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn function( atEnd ) {\n\n\t\t\t\tvar bm = this.createBookmark();\n\t\t\t\tvar path = this[ atEnd ? 'endPath' : 'startPath' ]();\n\t\t\t\tvar block = path.block || path.blockLimit, parent;\n\n\t\t\t\t// Remove any childless block, including list and table.\n\t\t\t\twhile ( block && !block.equals( path.root ) &&\n\t\t\t\t\t\t!block.getFirst( childEval( block ) ) ) {\n\t\t\t\t\tparent = block.getParent();\n\t\t\t\t\tthis[ atEnd ? 'setEndAt' : 'setStartAt' ]( block, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\tblock.remove( 1 );\n\t\t\t\t\tblock = parent;\n\t\t\t\t}\n\n\t\t\t\tthis.moveToBookmark( bm );\n\t\t\t};\n\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets {@link CKEDITOR.dom.elementPath} for the {@link #startContainer}.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.elementPath}\n\t\t */\n\t\tstartPath: function() {\n\t\t\treturn new CKEDITOR.dom.elementPath( this.startContainer, this.root );\n\t\t},\n\n\t\t/**\n\t\t * Gets {@link CKEDITOR.dom.elementPath} for the {@link #endContainer}.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.elementPath}\n\t\t */\n\t\tendPath: function() {\n\t\t\treturn new CKEDITOR.dom.elementPath( this.endContainer, this.root );\n\t\t},\n\n\t\t/**\n\t\t * Check whether a range boundary is at the inner boundary of a given\n\t\t * element.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element The target element to check.\n\t\t * @param {Number} checkType The boundary to check for both the range\n\t\t * and the element. It can be {@link CKEDITOR#START} or {@link CKEDITOR#END}.\n\t\t * @returns {Boolean} `true` if the range boundary is at the inner\n\t\t * boundary of the element.\n\t\t */\n\t\tcheckBoundaryOfElement: function( element, checkType ) {\n\t\t\tvar checkStart = ( checkType == CKEDITOR.START );\n\n\t\t\t// Create a copy of this range, so we can manipulate it for our checks.\n\t\t\tvar walkerRange = this.clone();\n\n\t\t\t// Collapse the range at the proper size.\n\t\t\twalkerRange.collapse( checkStart );\n\n\t\t\t// Expand the range to element boundary.\n\t\t\twalkerRange[ checkStart ? 'setStartAt' : 'setEndAt' ]( element, checkStart ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\t// Create the walker, which will check if we have anything useful\n\t\t\t// in the range.\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\twalker.evaluator = elementBoundaryEval( checkStart );\n\n\t\t\treturn walker[ checkStart ? 'checkBackward' : 'checkForward' ]();\n\t\t},\n\n\t\t/**\n\t\t * **Note:** Calls to this function may produce changes to the DOM. The range may\n\t\t * be updated to reflect such changes.\n\t\t *\n\t\t * @returns {Boolean}\n\t\t * @todo\n\t\t */\n\t\tcheckStartOfBlock: function() {\n\t\t\tvar startContainer = this.startContainer,\n\t\t\t\tstartOffset = this.startOffset;\n\n\t\t\t// [IE] Special handling for range start in text with a leading NBSP,\n\t\t\t// we it to be isolated, for bogus check.\n\t\t\tif ( CKEDITOR.env.ie && startOffset && startContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tvar textBefore = CKEDITOR.tools.ltrim( startContainer.substring( 0, startOffset ) );\n\t\t\t\tif ( nbspRegExp.test( textBefore ) )\n\t\t\t\t\tthis.trim( 0, 1 );\n\t\t\t}\n\n\t\t\t// Antecipate the trim() call here, so the walker will not make\n\t\t\t// changes to the DOM, which would not get reflected into this\n\t\t\t// range otherwise.\n\t\t\tthis.trim();\n\n\t\t\t// We need to grab the block element holding the start boundary, so\n\t\t\t// let's use an element path for it.\n\t\t\tvar path = new CKEDITOR.dom.elementPath( this.startContainer, this.root );\n\n\t\t\t// Creates a range starting at the block start until the range start.\n\t\t\tvar walkerRange = this.clone();\n\t\t\twalkerRange.collapse( true );\n\t\t\twalkerRange.setStartAt( path.block || path.blockLimit, CKEDITOR.POSITION_AFTER_START );\n\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\twalker.evaluator = getCheckStartEndBlockEvalFunction();\n\n\t\t\treturn walker.checkBackward();\n\t\t},\n\n\t\t/**\n\t\t * **Note:** Calls to this function may produce changes to the DOM. The range may\n\t\t * be updated to reflect such changes.\n\t\t *\n\t\t * @returns {Boolean}\n\t\t * @todo\n\t\t */\n\t\tcheckEndOfBlock: function() {\n\t\t\tvar endContainer = this.endContainer,\n\t\t\t\tendOffset = this.endOffset;\n\n\t\t\t// [IE] Special handling for range end in text with a following NBSP,\n\t\t\t// we it to be isolated, for bogus check.\n\t\t\tif ( CKEDITOR.env.ie && endContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tvar textAfter = CKEDITOR.tools.rtrim( endContainer.substring( endOffset ) );\n\t\t\t\tif ( nbspRegExp.test( textAfter ) )\n\t\t\t\t\tthis.trim( 1, 0 );\n\t\t\t}\n\n\t\t\t// Antecipate the trim() call here, so the walker will not make\n\t\t\t// changes to the DOM, which would not get reflected into this\n\t\t\t// range otherwise.\n\t\t\tthis.trim();\n\n\t\t\t// We need to grab the block element holding the start boundary, so\n\t\t\t// let's use an element path for it.\n\t\t\tvar path = new CKEDITOR.dom.elementPath( this.endContainer, this.root );\n\n\t\t\t// Creates a range starting at the block start until the range start.\n\t\t\tvar walkerRange = this.clone();\n\t\t\twalkerRange.collapse( false );\n\t\t\twalkerRange.setEndAt( path.block || path.blockLimit, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\twalker.evaluator = getCheckStartEndBlockEvalFunction();\n\n\t\t\treturn walker.checkForward();\n\t\t},\n\n\t\t/**\n\t\t * Traverse with {@link CKEDITOR.dom.walker} to retrieve the previous element before the range start.\n\t\t *\n\t\t * @param {Function} evaluator Function used as the walker's evaluator.\n\t\t * @param {Function} [guard] Function used as the walker's guard.\n\t\t * @param {CKEDITOR.dom.element} [boundary] A range ancestor element in which the traversal is limited,\n\t\t * default to the root editable if not defined.\n\t\t * @returns {CKEDITOR.dom.element/null} The returned node from the traversal.\n\t\t */\n\t\tgetPreviousNode: function( evaluator, guard, boundary ) {\n\t\t\tvar walkerRange = this.clone();\n\t\t\twalkerRange.collapse( 1 );\n\t\t\twalkerRange.setStartAt( boundary || this.root, CKEDITOR.POSITION_AFTER_START );\n\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\twalker.evaluator = evaluator;\n\t\t\twalker.guard = guard;\n\t\t\treturn walker.previous();\n\t\t},\n\n\t\t/**\n\t\t * Traverse with {@link CKEDITOR.dom.walker} to retrieve the next element before the range start.\n\t\t *\n\t\t * @param {Function} evaluator Function used as the walker's evaluator.\n\t\t * @param {Function} [guard] Function used as the walker's guard.\n\t\t * @param {CKEDITOR.dom.element} [boundary] A range ancestor element in which the traversal is limited,\n\t\t * default to the root editable if not defined.\n\t\t * @returns {CKEDITOR.dom.element/null} The returned node from the traversal.\n\t\t */\n\t\tgetNextNode: function( evaluator, guard, boundary ) {\n\t\t\tvar walkerRange = this.clone();\n\t\t\twalkerRange.collapse();\n\t\t\twalkerRange.setEndAt( boundary || this.root, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\twalker.evaluator = evaluator;\n\t\t\twalker.guard = guard;\n\t\t\treturn walker.next();\n\t\t},\n\n\t\t/**\n\t\t * Check if elements at which the range boundaries anchor are read-only,\n\t\t * with respect to `contenteditable` attribute.\n\t\t *\n\t\t * @returns {Boolean}\n\t\t */\n\t\tcheckReadOnly: ( function() {\n\t\t\tfunction checkNodesEditable( node, anotherEnd ) {\n\t\t\t\twhile ( node ) {\n\t\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\tif ( node.getAttribute( 'contentEditable' ) == 'false' && !node.data( 'cke-editable' ) )\n\t\t\t\t\t\t\treturn 0;\n\n\t\t\t\t\t\t// Range enclosed entirely in an editable element.\n\t\t\t\t\t\telse if ( node.is( 'html' ) || node.getAttribute( 'contentEditable' ) == 'true' && ( node.contains( anotherEnd ) || node.equals( anotherEnd ) ) )\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.getParent();\n\t\t\t\t}\n\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar startNode = this.startContainer,\n\t\t\t\t\tendNode = this.endContainer;\n\n\t\t\t\t// Check if elements path at both boundaries are editable.\n\t\t\t\treturn !( checkNodesEditable( startNode, endNode ) && checkNodesEditable( endNode, startNode ) );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Moves the range boundaries to the first/end editing point inside an\n\t\t * element.\n\t\t *\n\t\t * For example, in an element tree like\n\t\t * `<p><b><i></i></b> Text</p>`, the start editing point is\n\t\t * `<p><b><i>^</i></b> Text</p>` (inside `<i>`).\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} el The element into which look for the\n\t\t * editing spot.\n\t\t * @param {Boolean} isMoveToEnd Whether move to the end editable position.\n\t\t * @returns {Boolean} Whether range was moved.\n\t\t */\n\t\tmoveToElementEditablePosition: function( el, isMoveToEnd ) {\n\n\t\t\tfunction nextDFS( node, childOnly ) {\n\t\t\t\tvar next;\n\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && node.isEditable( false ) )\n\t\t\t\t\tnext = node[ isMoveToEnd ? 'getLast' : 'getFirst' ]( notIgnoredEval );\n\n\t\t\t\tif ( !childOnly && !next )\n\t\t\t\t\tnext = node[ isMoveToEnd ? 'getPrevious' : 'getNext' ]( notIgnoredEval );\n\n\t\t\t\treturn next;\n\t\t\t}\n\n\t\t\t// Handle non-editable element e.g. HR.\n\t\t\tif ( el.type == CKEDITOR.NODE_ELEMENT && !el.isEditable( false ) ) {\n\t\t\t\tthis.moveToPosition( el, isMoveToEnd ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar found = 0;\n\n\t\t\twhile ( el ) {\n\t\t\t\t// Stop immediately if we've found a text node.\n\t\t\t\tif ( el.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t// Put cursor before block filler.\n\t\t\t\t\tif ( isMoveToEnd && this.endContainer && this.checkEndOfBlock() && nbspRegExp.test( el.getText() ) )\n\t\t\t\t\t\tthis.moveToPosition( el, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.moveToPosition( el, isMoveToEnd ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\tfound = 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// If an editable element is found, move inside it, but not stop the searching.\n\t\t\t\tif ( el.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tif ( el.isEditable() ) {\n\t\t\t\t\t\tthis.moveToPosition( el, isMoveToEnd ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\tfound = 1;\n\t\t\t\t\t}\n\t\t\t\t\t// Put cursor before padding block br.\n\t\t\t\t\telse if ( isMoveToEnd && el.is( 'br' ) && this.endContainer && this.checkEndOfBlock() )\n\t\t\t\t\t\tthis.moveToPosition( el, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t// Special case - non-editable block. Select entire element, because it does not make sense\n\t\t\t\t\t// to place collapsed selection next to it, because browsers can't handle that.\n\t\t\t\t\telse if ( el.getAttribute( 'contenteditable' ) == 'false' && el.is( CKEDITOR.dtd.$block ) ) {\n\t\t\t\t\t\tthis.setStartBefore( el );\n\t\t\t\t\t\tthis.setEndAfter( el );\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tel = nextDFS( el, found );\n\t\t\t}\n\n\t\t\treturn !!found;\n\t\t},\n\n\t\t/**\n\t\t * Moves the range boundaries to the closest editing point after/before an\n\t\t * element or the current range position (depends on whether the element was specified).\n\t\t *\n\t\t * For example, if the start element has `id=\"start\"`,\n\t\t * `<p><b>foo</b><span id=\"start\">start</start></p>`, the closest previous editing point is\n\t\t * `<p><b>foo</b>^<span id=\"start\">start</start></p>` (between `<b>` and `<span>`).\n\t\t *\n\t\t * See also: {@link #moveToElementEditablePosition}.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {CKEDITOR.dom.element} [element] The starting element. If not specified, the current range\n\t\t * position will be used.\n\t\t * @param {Boolean} [isMoveForward] Whether move to the end of editable. Otherwise, look back.\n\t\t * @returns {Boolean} Whether the range was moved.\n\t\t */\n\t\tmoveToClosestEditablePosition: function( element, isMoveForward ) {\n\t\t\t// We don't want to modify original range if there's no editable position.\n\t\t\tvar range,\n\t\t\t\tfound = 0,\n\t\t\t\tsibling,\n\t\t\t\tisElement,\n\t\t\t\tpositions = [ CKEDITOR.POSITION_AFTER_END, CKEDITOR.POSITION_BEFORE_START ];\n\n\t\t\tif ( element ) {\n\t\t\t\t// Set collapsed range at one of ends of element.\n\t\t\t\t// Can't clone this range, because this range might not be yet positioned (no containers => errors).\n\t\t\t\trange = new CKEDITOR.dom.range( this.root );\n\t\t\t\trange.moveToPosition( element, positions[ isMoveForward ? 0 : 1 ] );\n\t\t\t} else {\n\t\t\t\trange = this.clone();\n\t\t\t}\n\n\t\t\t// Start element isn't a block, so we can automatically place range\n\t\t\t// next to it.\n\t\t\tif ( element && !element.is( CKEDITOR.dtd.$block ) )\n\t\t\t\tfound = 1;\n\t\t\telse {\n\t\t\t\t// Look for first node that fulfills eval function and place range next to it.\n\t\t\t\tsibling = range[ isMoveForward ? 'getNextEditableNode' : 'getPreviousEditableNode' ]();\n\t\t\t\tif ( sibling ) {\n\t\t\t\t\tfound = 1;\n\t\t\t\t\tisElement = sibling.type == CKEDITOR.NODE_ELEMENT;\n\n\t\t\t\t\t// Special case - eval accepts block element only if it's a non-editable block,\n\t\t\t\t\t// which we want to select, not place collapsed selection next to it (which browsers\n\t\t\t\t\t// can't handle).\n\t\t\t\t\tif ( isElement && sibling.is( CKEDITOR.dtd.$block ) && sibling.getAttribute( 'contenteditable' ) == 'false' ) {\n\t\t\t\t\t\trange.setStartAt( sibling, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\trange.setEndAt( sibling, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t}\n\t\t\t\t\t// Handle empty blocks which can be selection containers on old IEs.\n\t\t\t\t\telse if ( !CKEDITOR.env.needsBrFiller && isElement && sibling.is( CKEDITOR.dom.walker.validEmptyBlockContainers ) ) {\n\t\t\t\t\t\trange.setEnd( sibling, 0 );\n\t\t\t\t\t\trange.collapse();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.moveToPosition( sibling, positions[ isMoveForward ? 1 : 0 ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( found )\n\t\t\t\tthis.moveToRange( range );\n\n\t\t\treturn !!found;\n\t\t},\n\n\t\t/**\n\t\t * See {@link #moveToElementEditablePosition}.\n\t\t *\n\t\t * @returns {Boolean} Whether range was moved.\n\t\t */\n\t\tmoveToElementEditStart: function( target ) {\n\t\t\treturn this.moveToElementEditablePosition( target );\n\t\t},\n\n\t\t/**\n\t\t * See {@link #moveToElementEditablePosition}.\n\t\t *\n\t\t * @returns {Boolean} Whether range was moved.\n\t\t */\n\t\tmoveToElementEditEnd: function( target ) {\n\t\t\treturn this.moveToElementEditablePosition( target, true );\n\t\t},\n\n\t\t/**\n\t\t * Get the single node enclosed within the range if there's one.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.node}\n\t\t */\n\t\tgetEnclosedNode: function() {\n\t\t\tvar walkerRange = this.clone();\n\n\t\t\t// Optimize and analyze the range to avoid DOM destructive nature of walker. (#5780)\n\t\t\twalkerRange.optimize();\n\t\t\tif ( walkerRange.startContainer.type != CKEDITOR.NODE_ELEMENT || walkerRange.endContainer.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\treturn null;\n\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange ),\n\t\t\t\tisNotBookmarks = CKEDITOR.dom.walker.bookmark( false, true ),\n\t\t\t\tisNotWhitespaces = CKEDITOR.dom.walker.whitespaces( true );\n\n\t\t\twalker.evaluator = function( node ) {\n\t\t\t\treturn isNotWhitespaces( node ) && isNotBookmarks( node );\n\t\t\t};\n\t\t\tvar node = walker.next();\n\t\t\twalker.reset();\n\t\t\treturn node && node.equals( walker.previous() ) ? node : null;\n\t\t},\n\n\t\t/**\n\t\t * Get the node adjacent to the range start or {@link #startContainer}.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.node}\n\t\t */\n\t\tgetTouchedStartNode: function() {\n\t\t\tvar container = this.startContainer;\n\n\t\t\tif ( this.collapsed || container.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\treturn container;\n\n\t\t\treturn container.getChild( this.startOffset ) || container;\n\t\t},\n\n\t\t/**\n\t\t * Get the node adjacent to the range end or {@link #endContainer}.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.node}\n\t\t */\n\t\tgetTouchedEndNode: function() {\n\t\t\tvar container = this.endContainer;\n\n\t\t\tif ( this.collapsed || container.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\treturn container;\n\n\t\t\treturn container.getChild( this.endOffset - 1 ) || container;\n\t\t},\n\n\t\t/**\n\t\t * Gets next node which can be a container of a selection.\n\t\t * This methods mimics a behavior of right/left arrow keys in case of\n\t\t * collapsed selection. It does not return an exact position (with offset) though,\n\t\t * but just a selection's container.\n\t\t *\n\t\t * Note: use this method on a collapsed range.\n\t\t *\n\t\t * @since 4.3\n\t\t * @returns {CKEDITOR.dom.element/CKEDITOR.dom.text}\n\t\t */\n\t\tgetNextEditableNode: getNextEditableNode(),\n\n\t\t/**\n\t\t * See {@link #getNextEditableNode}.\n\t\t *\n\t\t * @since 4.3\n\t\t * @returns {CKEDITOR.dom.element/CKEDITOR.dom.text}\n\t\t */\n\t\tgetPreviousEditableNode: getNextEditableNode( 1 ),\n\n\t\t/**\n\t\t * Scrolls the start of current range into view.\n\t\t */\n\t\tscrollIntoView: function() {\n\n\t\t\t// The reference element contains a zero-width space to avoid\n\t\t\t// a premature removal. The view is to be scrolled with respect\n\t\t\t// to this element.\n\t\t\tvar reference = new CKEDITOR.dom.element.createFromHtml( '<span>&nbsp;</span>', this.document ),\n\t\t\t\tafterCaretNode, startContainerText, isStartText;\n\n\t\t\tvar range = this.clone();\n\n\t\t\t// Work with the range to obtain a proper caret position.\n\t\t\trange.optimize();\n\n\t\t\t// Currently in a text node, so we need to split it into two\n\t\t\t// halves and put the reference between.\n\t\t\tif ( isStartText = range.startContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t// Keep the original content. It will be restored.\n\t\t\t\tstartContainerText = range.startContainer.getText();\n\n\t\t\t\t// Split the startContainer at the this position.\n\t\t\t\tafterCaretNode = range.startContainer.split( range.startOffset );\n\n\t\t\t\t// Insert the reference between two text nodes.\n\t\t\t\treference.insertAfter( range.startContainer );\n\t\t\t}\n\n\t\t\t// If not in a text node, simply insert the reference into the range.\n\t\t\telse {\n\t\t\t\trange.insertNode( reference );\n\t\t\t}\n\n\t\t\t// Scroll with respect to the reference element.\n\t\t\treference.scrollIntoView();\n\n\t\t\t// Get rid of split parts if \"in a text node\" case.\n\t\t\t// Revert the original text of the startContainer.\n\t\t\tif ( isStartText ) {\n\t\t\t\trange.startContainer.setText( startContainerText );\n\t\t\t\tafterCaretNode.remove();\n\t\t\t}\n\n\t\t\t// Get rid of the reference node. It is no longer necessary.\n\t\t\treference.remove();\n\t\t},\n\n\t\t/**\n\t\t * Setter for the {@link #startContainer}.\n\t\t *\n\t\t * @since 4.4.6\n\t\t * @private\n\t\t * @param {CKEDITOR.dom.element} startContainer\n\t\t */\n\t\t_setStartContainer: function( startContainer ) {\n\t\t\t// %REMOVE_START%\n\t\t\tvar isRootAscendantOrSelf = this.root.equals( startContainer ) || this.root.contains( startContainer );\n\n\t\t\tif ( !isRootAscendantOrSelf ) {\n\t\t\t\tCKEDITOR.warn( 'range-startcontainer', { startContainer: startContainer, root: this.root } );\n\t\t\t}\n\t\t\t// %REMOVE_END%\n\t\t\tthis.startContainer = startContainer;\n\t\t},\n\n\t\t/**\n\t\t * Setter for the {@link #endContainer}.\n\t\t *\n\t\t * @since 4.4.6\n\t\t * @private\n\t\t * @param {CKEDITOR.dom.element} endContainer\n\t\t */\n\t\t_setEndContainer: function( endContainer ) {\n\t\t\t// %REMOVE_START%\n\t\t\tvar isRootAscendantOrSelf = this.root.equals( endContainer ) || this.root.contains( endContainer );\n\n\t\t\tif ( !isRootAscendantOrSelf ) {\n\t\t\t\tCKEDITOR.warn( 'range-endcontainer', { endContainer: endContainer, root: this.root } );\n\t\t\t}\n\t\t\t// %REMOVE_END%\n\t\t\tthis.endContainer = endContainer;\n\t\t}\n\t};\n\n\n} )();\n\n/**\n * Indicates a position after start of a node.\n *\n *\t\t// When used according to an element:\n *\t\t// <element>^contents</element>\n *\n *\t\t// When used according to a text node:\n *\t\t// \"^text\" (range is anchored in the text node)\n *\n * It is used as a parameter of methods like: {@link CKEDITOR.dom.range#moveToPosition},\n * {@link CKEDITOR.dom.range#setStartAt} and {@link CKEDITOR.dom.range#setEndAt}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=1]\n */\nCKEDITOR.POSITION_AFTER_START = 1;\n\n/**\n * Indicates a position before end of a node.\n *\n *\t\t// When used according to an element:\n *\t\t// <element>contents^</element>\n *\n *\t\t// When used according to a text node:\n *\t\t// \"text^\" (range is anchored in the text node)\n *\n * It is used as a parameter of methods like: {@link CKEDITOR.dom.range#moveToPosition},\n * {@link CKEDITOR.dom.range#setStartAt} and {@link CKEDITOR.dom.range#setEndAt}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=2]\n */\nCKEDITOR.POSITION_BEFORE_END = 2;\n\n/**\n * Indicates a position before start of a node.\n *\n *\t\t// When used according to an element:\n *\t\t// ^<element>contents</element> (range is anchored in element's parent)\n *\n *\t\t// When used according to a text node:\n *\t\t// ^\"text\" (range is anchored in text node's parent)\n *\n * It is used as a parameter of methods like: {@link CKEDITOR.dom.range#moveToPosition},\n * {@link CKEDITOR.dom.range#setStartAt} and {@link CKEDITOR.dom.range#setEndAt}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=3]\n */\nCKEDITOR.POSITION_BEFORE_START = 3;\n\n/**\n * Indicates a position after end of a node.\n *\n *\t\t// When used according to an element:\n *\t\t// <element>contents</element>^ (range is anchored in element's parent)\n *\n *\t\t// When used according to a text node:\n *\t\t// \"text\"^ (range is anchored in text node's parent)\n *\n * It is used as a parameter of methods like: {@link CKEDITOR.dom.range#moveToPosition},\n * {@link CKEDITOR.dom.range#setStartAt} and {@link CKEDITOR.dom.range#setEndAt}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=4]\n */\nCKEDITOR.POSITION_AFTER_END = 4;\n\nCKEDITOR.ENLARGE_ELEMENT = 1;\nCKEDITOR.ENLARGE_BLOCK_CONTENTS = 2;\nCKEDITOR.ENLARGE_LIST_ITEM_CONTENTS = 3;\nCKEDITOR.ENLARGE_INLINE = 4;\n\n// Check boundary types.\n\n/**\n * See {@link CKEDITOR.dom.range#checkBoundaryOfElement}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=1]\n */\nCKEDITOR.START = 1;\n\n/**\n * See {@link CKEDITOR.dom.range#checkBoundaryOfElement}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=2]\n */\nCKEDITOR.END = 2;\n\n// Shrink range types.\n\n/**\n * See {@link CKEDITOR.dom.range#shrink}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=1]\n */\nCKEDITOR.SHRINK_ELEMENT = 1;\n\n/**\n * See {@link CKEDITOR.dom.range#shrink}.\n *\n * @readonly\n * @member CKEDITOR\n * @property {Number} [=2]\n */\nCKEDITOR.SHRINK_TEXT = 2;\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/range.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @ignore\n * File overview: DOM iterator which iterates over list items, lines and paragraphs.\n */\n\n'use strict';\n\n( function() {\n\t/**\n\t * Represents the iterator class. It can be used to iterate\n\t * over all elements (or even text nodes in case of {@link #enlargeBr} set to `false`)\n\t * which establish \"paragraph-like\" spaces within the passed range.\n\t *\n\t *\t\t// <h1>[foo</h1><p>bar]</p>\n\t *\t\tvar iterator = range.createIterator();\n\t *\t\titerator.getNextParagraph(); // h1 element\n\t *\t\titerator.getNextParagraph(); // p element\n\t *\n\t *\t\t// <ul><li>[foo</li><li>bar]</li>\n\t *\t\t// With enforceRealBlocks set to false the iterator will return two list item elements.\n\t *\t\t// With enforceRealBlocks set to true the iterator will return two paragraphs and the DOM will be changed to:\n\t *\t\t// <ul><li><p>foo</p></li><li><p>bar</p></li>\n\t *\n\t * @class CKEDITOR.dom.iterator\n\t * @constructor Creates an iterator class instance.\n\t * @param {CKEDITOR.dom.range} range\n\t */\n\tfunction iterator( range ) {\n\t\tif ( arguments.length < 1 )\n\t\t\treturn;\n\n\t\t/**\n\t\t * @readonly\n\t\t * @property {CKEDITOR.dom.range}\n\t\t */\n\t\tthis.range = range;\n\n\t\t/**\n\t\t * @property {Boolean} [forceBrBreak=false]\n\t\t */\n\t\tthis.forceBrBreak = 0;\n\n\t\t// (#3730).\n\t\t/**\n\t\t * Whether to include `<br>` elements in the enlarged range. Should be\n\t\t * set to `false` when using the iterator in the {@link CKEDITOR#ENTER_BR} mode.\n\t\t *\n\t\t * @property {Boolean} [enlargeBr=true]\n\t\t */\n\t\tthis.enlargeBr = 1;\n\n\t\t/**\n\t\t * Whether the iterator should create a transformable block\n\t\t * if the current one contains text and cannot be transformed.\n\t\t * For example new blocks will be established in elements like\n\t\t * `<li>` or `<td>`.\n\t\t *\n\t\t * @property {Boolean} [enforceRealBlocks=false]\n\t\t */\n\t\tthis.enforceRealBlocks = 0;\n\n\t\tthis._ || ( this._ = {} );\n\t}\n\n\t/**\n\t * Default iterator's filter. It is set only for nested iterators.\n\t *\n\t * @since 4.3\n\t * @readonly\n\t * @property {CKEDITOR.filter} filter\n\t */\n\n\t/**\n\t * Iterator's active filter. It is set by the {@link #getNextParagraph} method\n\t * when it enters a nested editable.\n\t *\n\t * @since 4.3\n\t * @readonly\n\t * @property {CKEDITOR.filter} activeFilter\n\t */\n\n\tvar beginWhitespaceRegex = /^[\\r\\n\\t ]+$/,\n\t\t// Ignore bookmark nodes.(#3783)\n\t\tbookmarkGuard = CKEDITOR.dom.walker.bookmark( false, true ),\n\t\twhitespacesGuard = CKEDITOR.dom.walker.whitespaces( true ),\n\t\tskipGuard = function( node ) {\n\t\t\treturn bookmarkGuard( node ) && whitespacesGuard( node );\n\t\t},\n\t\tlistItemNames = { dd: 1, dt: 1, li: 1 };\n\n\titerator.prototype = {\n\t\t/**\n\t\t * Returns the next paragraph-like element or `null` if the end of a range is reached.\n\t\t *\n\t\t * @param {String} [blockTag='p'] Name of a block element which will be established by\n\t\t * the iterator in block-less elements (see {@link #enforceRealBlocks}).\n\t\t */\n\t\tgetNextParagraph: function( blockTag ) {\n\t\t\t// The block element to be returned.\n\t\t\tvar block;\n\n\t\t\t// The range object used to identify the paragraph contents.\n\t\t\tvar range;\n\n\t\t\t// Indicats that the current element in the loop is the last one.\n\t\t\tvar isLast;\n\n\t\t\t// Instructs to cleanup remaining BRs.\n\t\t\tvar removePreviousBr, removeLastBr;\n\n\t\t\tblockTag = blockTag || 'p';\n\n\t\t\t// We're iterating over nested editable.\n\t\t\tif ( this._.nestedEditable ) {\n\t\t\t\t// Get next block from nested iterator and returns it if was found.\n\t\t\t\tblock = this._.nestedEditable.iterator.getNextParagraph( blockTag );\n\t\t\t\tif ( block ) {\n\t\t\t\t\t// Inherit activeFilter from the nested iterator.\n\t\t\t\t\tthis.activeFilter = this._.nestedEditable.iterator.activeFilter;\n\t\t\t\t\treturn block;\n\t\t\t\t}\n\n\t\t\t\t// No block in nested iterator means that we reached the end of the nested editable.\n\t\t\t\t// Reset the active filter to the default filter (or undefined if this iterator didn't have it).\n\t\t\t\tthis.activeFilter = this.filter;\n\n\t\t\t\t// Try to find next nested editable or get back to parent (this) iterator.\n\t\t\t\tif ( startNestedEditableIterator( this, blockTag, this._.nestedEditable.container, this._.nestedEditable.remaining ) ) {\n\t\t\t\t\t// Inherit activeFilter from the nested iterator.\n\t\t\t\t\tthis.activeFilter = this._.nestedEditable.iterator.activeFilter;\n\t\t\t\t\treturn this._.nestedEditable.iterator.getNextParagraph( blockTag );\n\t\t\t\t} else {\n\t\t\t\t\tthis._.nestedEditable = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Block-less range should be checked first.\n\t\t\tif ( !this.range.root.getDtd()[ blockTag ] )\n\t\t\t\treturn null;\n\n\t\t\t// This is the first iteration. Let's initialize it.\n\t\t\tif ( !this._.started )\n\t\t\t\trange = startIterator.call( this );\n\n\t\t\tvar currentNode = this._.nextNode,\n\t\t\t\tlastNode = this._.lastNode;\n\n\t\t\tthis._.nextNode = null;\n\t\t\twhile ( currentNode ) {\n\t\t\t\t// closeRange indicates that a paragraph boundary has been found,\n\t\t\t\t// so the range can be closed.\n\t\t\t\tvar closeRange = 0,\n\t\t\t\t\tparentPre = currentNode.hasAscendant( 'pre' );\n\n\t\t\t\t// includeNode indicates that the current node is good to be part\n\t\t\t\t// of the range. By default, any non-element node is ok for it.\n\t\t\t\tvar includeNode = ( currentNode.type != CKEDITOR.NODE_ELEMENT ),\n\t\t\t\t\tcontinueFromSibling = 0;\n\n\t\t\t\t// If it is an element node, let's check if it can be part of the range.\n\t\t\t\tif ( !includeNode ) {\n\t\t\t\t\tvar nodeName = currentNode.getName();\n\n\t\t\t\t\t// Non-editable block was found - return it and move to processing\n\t\t\t\t\t// its nested editables if they exist.\n\t\t\t\t\tif ( CKEDITOR.dtd.$block[ nodeName ] && currentNode.getAttribute( 'contenteditable' ) == 'false' ) {\n\t\t\t\t\t\tblock = currentNode;\n\n\t\t\t\t\t\t// Setup iterator for first of nested editables.\n\t\t\t\t\t\t// If there's no editable, then algorithm will move to next element after current block.\n\t\t\t\t\t\tstartNestedEditableIterator( this, blockTag, block );\n\n\t\t\t\t\t\t// Gets us straight to the end of getParagraph() because block variable is set.\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if ( currentNode.isBlockBoundary( this.forceBrBreak && !parentPre && { br: 1 } ) ) {\n\t\t\t\t\t\t// <br> boundaries must be part of the range. It will\n\t\t\t\t\t\t// happen only if ForceBrBreak.\n\t\t\t\t\t\tif ( nodeName == 'br' )\n\t\t\t\t\t\t\tincludeNode = 1;\n\t\t\t\t\t\telse if ( !range && !currentNode.getChildCount() && nodeName != 'hr' ) {\n\t\t\t\t\t\t\t// If we have found an empty block, and haven't started\n\t\t\t\t\t\t\t// the range yet, it means we must return this block.\n\t\t\t\t\t\t\tblock = currentNode;\n\t\t\t\t\t\t\tisLast = currentNode.equals( lastNode );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The range must finish right before the boundary,\n\t\t\t\t\t\t// including possibly skipped empty spaces. (#1603)\n\t\t\t\t\t\tif ( range ) {\n\t\t\t\t\t\t\trange.setEndAt( currentNode, CKEDITOR.POSITION_BEFORE_START );\n\n\t\t\t\t\t\t\t// The found boundary must be set as the next one at this\n\t\t\t\t\t\t\t// point. (#1717)\n\t\t\t\t\t\t\tif ( nodeName != 'br' ) {\n\t\t\t\t\t\t\t\tthis._.nextNode = currentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcloseRange = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If we have child nodes, let's check them.\n\t\t\t\t\t\tif ( currentNode.getFirst() ) {\n\t\t\t\t\t\t\t// If we don't have a range yet, let's start it.\n\t\t\t\t\t\t\tif ( !range ) {\n\t\t\t\t\t\t\t\trange = this.range.clone();\n\t\t\t\t\t\t\t\trange.setStartAt( currentNode, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcurrentNode = currentNode.getFirst();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tincludeNode = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if ( currentNode.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t// Ignore normal whitespaces (i.e. not including &nbsp; or\n\t\t\t\t\t// other unicode whitespaces) before/after a block node.\n\t\t\t\t\tif ( beginWhitespaceRegex.test( currentNode.getText() ) )\n\t\t\t\t\t\tincludeNode = 0;\n\t\t\t\t}\n\n\t\t\t\t// The current node is good to be part of the range and we are\n\t\t\t\t// starting a new range, initialize it first.\n\t\t\t\tif ( includeNode && !range ) {\n\t\t\t\t\trange = this.range.clone();\n\t\t\t\t\trange.setStartAt( currentNode, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t}\n\n\t\t\t\t// The last node has been found.\n\t\t\t\tisLast = ( ( !closeRange || includeNode ) && currentNode.equals( lastNode ) );\n\n\t\t\t\t// If we are in an element boundary, let's check if it is time\n\t\t\t\t// to close the range, otherwise we include the parent within it.\n\t\t\t\tif ( range && !closeRange ) {\n\t\t\t\t\twhile ( !currentNode.getNext( skipGuard ) && !isLast ) {\n\t\t\t\t\t\tvar parentNode = currentNode.getParent();\n\n\t\t\t\t\t\tif ( parentNode.isBlockBoundary( this.forceBrBreak && !parentPre && { br: 1 } ) ) {\n\t\t\t\t\t\t\tcloseRange = 1;\n\t\t\t\t\t\t\tincludeNode = 0;\n\t\t\t\t\t\t\tisLast = isLast || ( parentNode.equals( lastNode ) );\n\t\t\t\t\t\t\t// Make sure range includes bookmarks at the end of the block. (#7359)\n\t\t\t\t\t\t\trange.setEndAt( parentNode, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentNode = parentNode;\n\t\t\t\t\t\tincludeNode = 1;\n\t\t\t\t\t\tisLast = ( currentNode.equals( lastNode ) );\n\t\t\t\t\t\tcontinueFromSibling = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Now finally include the node.\n\t\t\t\tif ( includeNode )\n\t\t\t\t\trange.setEndAt( currentNode, CKEDITOR.POSITION_AFTER_END );\n\n\t\t\t\tcurrentNode = this._getNextSourceNode( currentNode, continueFromSibling, lastNode );\n\t\t\t\tisLast = !currentNode;\n\n\t\t\t\t// We have found a block boundary. Let's close the range and move out of the\n\t\t\t\t// loop.\n\t\t\t\tif ( isLast || ( closeRange && range ) )\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Now, based on the processed range, look for (or create) the block to be returned.\n\t\t\tif ( !block ) {\n\t\t\t\t// If no range has been found, this is the end.\n\t\t\t\tif ( !range ) {\n\t\t\t\t\tthis._.docEndMarker && this._.docEndMarker.remove();\n\t\t\t\t\tthis._.nextNode = null;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar startPath = new CKEDITOR.dom.elementPath( range.startContainer, range.root );\n\t\t\t\tvar startBlockLimit = startPath.blockLimit,\n\t\t\t\t\tcheckLimits = { div: 1, th: 1, td: 1 };\n\t\t\t\tblock = startPath.block;\n\n\t\t\t\tif ( !block && startBlockLimit && !this.enforceRealBlocks && checkLimits[ startBlockLimit.getName() ] &&\n\t\t\t\t\trange.checkStartOfBlock() && range.checkEndOfBlock() && !startBlockLimit.equals( range.root ) ) {\n\t\t\t\t\tblock = startBlockLimit;\n\t\t\t\t} else if ( !block || ( this.enforceRealBlocks && block.is( listItemNames ) ) ) {\n\t\t\t\t\t// Create the fixed block.\n\t\t\t\t\tblock = this.range.document.createElement( blockTag );\n\n\t\t\t\t\t// Move the contents of the temporary range to the fixed block.\n\t\t\t\t\trange.extractContents().appendTo( block );\n\t\t\t\t\tblock.trim();\n\n\t\t\t\t\t// Insert the fixed block into the DOM.\n\t\t\t\t\trange.insertNode( block );\n\n\t\t\t\t\tremovePreviousBr = removeLastBr = true;\n\t\t\t\t} else if ( block.getName() != 'li' ) {\n\t\t\t\t\t// If the range doesn't includes the entire contents of the\n\t\t\t\t\t// block, we must split it, isolating the range in a dedicated\n\t\t\t\t\t// block.\n\t\t\t\t\tif ( !range.checkStartOfBlock() || !range.checkEndOfBlock() ) {\n\t\t\t\t\t\t// The resulting block will be a clone of the current one.\n\t\t\t\t\t\tblock = block.clone( false );\n\n\t\t\t\t\t\t// Extract the range contents, moving it to the new block.\n\t\t\t\t\t\trange.extractContents().appendTo( block );\n\t\t\t\t\t\tblock.trim();\n\n\t\t\t\t\t\t// Split the block. At this point, the range will be in the\n\t\t\t\t\t\t// right position for our intents.\n\t\t\t\t\t\tvar splitInfo = range.splitBlock();\n\n\t\t\t\t\t\tremovePreviousBr = !splitInfo.wasStartOfBlock;\n\t\t\t\t\t\tremoveLastBr = !splitInfo.wasEndOfBlock;\n\n\t\t\t\t\t\t// Insert the new block into the DOM.\n\t\t\t\t\t\trange.insertNode( block );\n\t\t\t\t\t}\n\t\t\t\t} else if ( !isLast ) {\n\t\t\t\t\t// LIs are returned as is, with all their children (due to the\n\t\t\t\t\t// nested lists). But, the next node is the node right after\n\t\t\t\t\t// the current range, which could be an <li> child (nested\n\t\t\t\t\t// lists) or the next sibling <li>.\n\n\t\t\t\t\tthis._.nextNode = ( block.equals( lastNode ) ? null : this._getNextSourceNode( range.getBoundaryNodes().endNode, 1, lastNode  ) );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( removePreviousBr ) {\n\t\t\t\tvar previousSibling = block.getPrevious();\n\t\t\t\tif ( previousSibling && previousSibling.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tif ( previousSibling.getName() == 'br' )\n\t\t\t\t\t\tpreviousSibling.remove();\n\t\t\t\t\telse if ( previousSibling.getLast() && previousSibling.getLast().$.nodeName.toLowerCase() == 'br' )\n\t\t\t\t\t\tpreviousSibling.getLast().remove();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( removeLastBr ) {\n\t\t\t\tvar lastChild = block.getLast();\n\t\t\t\tif ( lastChild && lastChild.type == CKEDITOR.NODE_ELEMENT && lastChild.getName() == 'br' ) {\n\t\t\t\t\t// Remove br filler on browser which do not need it.\n\t\t\t\t\tif ( !CKEDITOR.env.needsBrFiller || lastChild.getPrevious( bookmarkGuard ) || lastChild.getNext( bookmarkGuard ) )\n\t\t\t\t\t\tlastChild.remove();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Get a reference for the next element. This is important because the\n\t\t\t// above block can be removed or changed, so we can rely on it for the\n\t\t\t// next interation.\n\t\t\tif ( !this._.nextNode ) {\n\t\t\t\tthis._.nextNode = ( isLast || block.equals( lastNode ) || !lastNode ) ? null : this._getNextSourceNode( block, 1, lastNode );\n\t\t\t}\n\n\t\t\treturn block;\n\t\t},\n\n\t\t/**\n\t\t * Gets the next element to check or `null` when the `lastNode` or the\n\t\t * {@link #range}'s {@link CKEDITOR.dom.range#root root} is reached. Bookmarks are skipped.\n\t\t *\n\t\t * @since 4.4.6\n\t\t * @private\n\t\t * @param {CKEDITOR.dom.node} node\n\t\t * @param {Boolean} startFromSibling\n\t\t * @param {CKEDITOR.dom.node} lastNode\n\t\t * @returns {CKEDITOR.dom.node}\n\t\t */\n\t\t_getNextSourceNode: function( node, startFromSibling, lastNode ) {\n\t\t\tvar rootNode = this.range.root,\n\t\t\t\tnext;\n\n\t\t\t// Here we are checking in guard function whether current element\n\t\t\t// reach lastNode(default behaviour) and root node to prevent against\n\t\t\t// getting out of editor instance root DOM object.\n\t\t\t// #12484\n\t\t\tfunction guardFunction( node ) {\n\t\t\t\treturn !( node.equals( lastNode ) || node.equals( rootNode ) );\n\t\t\t}\n\n\t\t\tnext = node.getNextSourceNode( startFromSibling, null, guardFunction );\n\t\t\twhile ( !bookmarkGuard( next ) ) {\n\t\t\t\tnext = next.getNextSourceNode( startFromSibling, null, guardFunction );\n\t\t\t}\n\t\t\treturn next;\n\t\t}\n\t};\n\n\t// @context CKEDITOR.dom.iterator\n\t// @returns Collapsed range which will be reused when during furter processing.\n\tfunction startIterator() {\n\t\tvar range = this.range.clone(),\n\t\t\t// Indicate at least one of the range boundaries is inside a preformat block.\n\t\t\ttouchPre,\n\n\t\t\t// (#12178)\n\t\t\t// Remember if following situation takes place:\n\t\t\t// * startAtInnerBoundary: <p>foo[</p>...\n\t\t\t// * endAtInnerBoundary: ...<p>]bar</p>\n\t\t\t// Because information about line break will be lost when shrinking range.\n\t\t\t// Note that we test only if path block exist, because we must properly shrink\n\t\t\t// range containing table and/or table cells.\n\t\t\t// Note: When range is collapsed there's no way it can be shrinked.\n\t\t\t// By checking if range is collapsed we also prevent #12308.\n\t\t\tstartPath = range.startPath(),\n\t\t\tendPath = range.endPath(),\n\t\t\tstartAtInnerBoundary = !range.collapsed && rangeAtInnerBlockBoundary( range, startPath.block ),\n\t\t\tendAtInnerBoundary = !range.collapsed && rangeAtInnerBlockBoundary( range, endPath.block, 1 );\n\n\t\t// Shrink the range to exclude harmful \"noises\" (#4087, #4450, #5435).\n\t\trange.shrink( CKEDITOR.SHRINK_ELEMENT, true );\n\n\t\tif ( startAtInnerBoundary )\n\t\t\trange.setStartAt( startPath.block, CKEDITOR.POSITION_BEFORE_END );\n\t\tif ( endAtInnerBoundary )\n\t\t\trange.setEndAt( endPath.block, CKEDITOR.POSITION_AFTER_START );\n\n\t\ttouchPre = range.endContainer.hasAscendant( 'pre', true ) || range.startContainer.hasAscendant( 'pre', true );\n\n\t\trange.enlarge( this.forceBrBreak && !touchPre || !this.enlargeBr ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS );\n\n\t\tif ( !range.collapsed ) {\n\t\t\tvar walker = new CKEDITOR.dom.walker( range.clone() ),\n\t\t\t\tignoreBookmarkTextEvaluator = CKEDITOR.dom.walker.bookmark( true, true );\n\t\t\t// Avoid anchor inside bookmark inner text.\n\t\t\twalker.evaluator = ignoreBookmarkTextEvaluator;\n\t\t\tthis._.nextNode = walker.next();\n\t\t\t// TODO: It's better to have walker.reset() used here.\n\t\t\twalker = new CKEDITOR.dom.walker( range.clone() );\n\t\t\twalker.evaluator = ignoreBookmarkTextEvaluator;\n\t\t\tvar lastNode = walker.previous();\n\t\t\tthis._.lastNode = lastNode.getNextSourceNode( true, null, range.root );\n\n\t\t\t// We may have an empty text node at the end of block due to [3770].\n\t\t\t// If that node is the lastNode, it would cause our logic to leak to the\n\t\t\t// next block.(#3887)\n\t\t\tif ( this._.lastNode && this._.lastNode.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim( this._.lastNode.getText() ) && this._.lastNode.getParent().isBlockBoundary() ) {\n\t\t\t\tvar testRange = this.range.clone();\n\t\t\t\ttestRange.moveToPosition( this._.lastNode, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\tif ( testRange.checkEndOfBlock() ) {\n\t\t\t\t\tvar path = new CKEDITOR.dom.elementPath( testRange.endContainer, testRange.root ),\n\t\t\t\t\t\tlastBlock = path.block || path.blockLimit;\n\t\t\t\t\tthis._.lastNode = lastBlock.getNextSourceNode( true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The end of document or range.root was reached, so we need a marker node inside.\n\t\t\tif ( !this._.lastNode || !range.root.contains( this._.lastNode ) ) {\n\t\t\t\tthis._.lastNode = this._.docEndMarker = range.document.createText( '' );\n\t\t\t\tthis._.lastNode.insertAfter( lastNode );\n\t\t\t}\n\n\t\t\t// Let's reuse this variable.\n\t\t\trange = null;\n\t\t}\n\n\t\tthis._.started = 1;\n\n\t\treturn range;\n\t}\n\n\t// Does a nested editables lookup inside editablesContainer.\n\t// If remainingEditables is set will lookup inside this array.\n\t// @param {CKEDITOR.dom.element} editablesContainer\n\t// @param {CKEDITOR.dom.element[]} [remainingEditables]\n\tfunction getNestedEditableIn( editablesContainer, remainingEditables ) {\n\t\tif ( remainingEditables == null )\n\t\t\tremainingEditables = findNestedEditables( editablesContainer );\n\n\t\tvar editable;\n\n\t\twhile ( ( editable = remainingEditables.shift() ) ) {\n\t\t\tif ( isIterableEditable( editable ) )\n\t\t\t\treturn { element: editable, remaining: remainingEditables };\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t// Checkes whether we can iterate over this editable.\n\tfunction isIterableEditable( editable ) {\n\t\t// Reject blockless editables.\n\t\treturn editable.getDtd().p;\n\t}\n\n\t// Finds nested editables within container. Does not return\n\t// editables nested in another editable (twice).\n\tfunction findNestedEditables( container ) {\n\t\tvar editables = [];\n\n\t\tcontainer.forEach( function( element ) {\n\t\t\tif ( element.getAttribute( 'contenteditable' ) == 'true' ) {\n\t\t\t\teditables.push( element );\n\t\t\t\treturn false; // Skip children.\n\t\t\t}\n\t\t}, CKEDITOR.NODE_ELEMENT, true );\n\n\t\treturn editables;\n\t}\n\n\t// Looks for a first nested editable after previousEditable (if passed) and creates\n\t// nested iterator for it.\n\tfunction startNestedEditableIterator( parentIterator, blockTag, editablesContainer, remainingEditables ) {\n\t\tvar editable = getNestedEditableIn( editablesContainer, remainingEditables );\n\n\t\tif ( !editable )\n\t\t\treturn 0;\n\n\t\tvar filter = CKEDITOR.filter.instances[ editable.element.data( 'cke-filter' ) ];\n\n\t\t// If current editable has a filter and this filter does not allow for block tag,\n\t\t// search for next nested editable in remaining ones.\n\t\tif ( filter && !filter.check( blockTag ) )\n\t\t\treturn startNestedEditableIterator( parentIterator, blockTag, editablesContainer, editable.remaining );\n\n\t\tvar range = new CKEDITOR.dom.range( editable.element );\n\t\trange.selectNodeContents( editable.element );\n\n\t\tvar iterator = range.createIterator();\n\t\t// This setting actually does not change anything in this case,\n\t\t// because entire range contents is selected, so there're no <br>s to be included.\n\t\t// But it seems right to copy it too.\n\t\titerator.enlargeBr = parentIterator.enlargeBr;\n\t\t// Inherit configuration from parent iterator.\n\t\titerator.enforceRealBlocks = parentIterator.enforceRealBlocks;\n\t\t// Set the activeFilter (which can be overriden when this iteator will start nested iterator)\n\t\t// and the default filter, which will make it possible to reset to\n\t\t// current iterator's activeFilter after leaving nested editable.\n\t\titerator.activeFilter = iterator.filter = filter;\n\n\t\tparentIterator._.nestedEditable = {\n\t\t\telement: editable.element,\n\t\t\tcontainer: editablesContainer,\n\t\t\tremaining: editable.remaining,\n\t\t\titerator: iterator\n\t\t};\n\n\t\treturn 1;\n\t}\n\n\t// Checks whether range starts or ends at inner block boundary.\n\t// See usage comments to learn more.\n\tfunction rangeAtInnerBlockBoundary( range, block, checkEnd ) {\n\t\tif ( !block )\n\t\t\treturn false;\n\n\t\tvar testRange = range.clone();\n\t\ttestRange.collapse( !checkEnd );\n\t\treturn testRange.checkBoundaryOfElement( block, checkEnd ? CKEDITOR.START : CKEDITOR.END );\n\t}\n\n\t/**\n\t * Creates a {@link CKEDITOR.dom.iterator} instance for this range.\n\t *\n\t * @member CKEDITOR.dom.range\n\t * @returns {CKEDITOR.dom.iterator}\n\t */\n\tCKEDITOR.dom.range.prototype.createIterator = function() {\n\t\treturn new iterator( this );\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/iterator.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * Represents a command that can be executed on an editor instance.\n *\n *\t\tvar command = new CKEDITOR.command( editor, {\n *\t\t\texec: function( editor ) {\n *\t\t\t\talert( editor.document.getBody().getHtml() );\n *\t\t\t}\n *\t\t} );\n *\n * @class\n * @extends CKEDITOR.commandDefinition\n * @mixins CKEDITOR.event\n * @constructor Creates a command class instance.\n * @param {CKEDITOR.editor} editor The editor instance this command will be\n * related to.\n * @param {CKEDITOR.commandDefinition} commandDefinition The command\n * definition.\n */\nCKEDITOR.command = function( editor, commandDefinition ) {\n\t/**\n\t * Lists UI items that are associated to this command. This list can be\n\t * used to interact with the UI on command execution (by the execution code\n\t * itself, for example).\n\t *\n\t *\t\talert( 'Number of UI items associated to this command: ' + command.uiItems.length );\n\t */\n\tthis.uiItems = [];\n\n\t/**\n\t * Executes the command.\n\t *\n\t *\t\tcommand.exec(); // The command gets executed.\n\t *\n\t * **Note:** You should use the {@link CKEDITOR.editor#execCommand} method instead of calling\n\t * `command.exec()` directly.\n\t *\n\t * @param {Object} [data] Any data to pass to the command. Depends on the\n\t * command implementation and requirements.\n\t * @returns {Boolean} A boolean indicating that the command has been successfully executed.\n\t */\n\tthis.exec = function( data ) {\n\t\tif ( this.state == CKEDITOR.TRISTATE_DISABLED || !this.checkAllowed() )\n\t\t\treturn false;\n\n\t\tif ( this.editorFocus ) // Give editor focus if necessary (#4355).\n\t\t\teditor.focus();\n\n\t\tif ( this.fire( 'exec' ) === false )\n\t\t\treturn true;\n\n\t\treturn ( commandDefinition.exec.call( this, editor, data ) !== false );\n\t};\n\n\t/**\n\t * Explicitly update the status of the command, by firing the {@link CKEDITOR.command#event-refresh} event,\n\t * as well as invoke the {@link CKEDITOR.commandDefinition#refresh} method if defined, this method\n\t * is to allow different parts of the editor code to contribute in command status resolution.\n\t *\n\t * @param {CKEDITOR.editor} editor The editor instance.\n\t * @param {CKEDITOR.dom.elementPath} path\n\t */\n\tthis.refresh = function( editor, path ) {\n\t\t// Do nothing is we're on read-only and this command doesn't support it.\n\t\t// We don't need to disabled the command explicitely here, because this\n\t\t// is already done by the \"readOnly\" event listener.\n\t\tif ( !this.readOnly && editor.readOnly )\n\t\t\treturn true;\n\n\t\t// Disable commands that are not allowed in the current selection path context.\n\t\tif ( this.context && !path.isContextFor( this.context ) ) {\n\t\t\tthis.disable();\n\t\t\treturn true;\n\t\t}\n\n\t\t// Disable commands that are not allowed by the active filter.\n\t\tif ( !this.checkAllowed( true ) ) {\n\t\t\tthis.disable();\n\t\t\treturn true;\n\t\t}\n\n\t\t// Make the \"enabled\" state a default for commands enabled from start.\n\t\tif ( !this.startDisabled )\n\t\t\tthis.enable();\n\n\t\t// Disable commands which shouldn't be enabled in this mode.\n\t\tif ( this.modes && !this.modes[ editor.mode ] )\n\t\t\tthis.disable();\n\n\t\tif ( this.fire( 'refresh', { editor: editor, path: path } ) === false )\n\t\t\treturn true;\n\n\t\treturn ( commandDefinition.refresh && commandDefinition.refresh.apply( this, arguments ) !== false );\n\t};\n\n\tvar allowed;\n\n\t/**\n\t * Checks whether this command is allowed by the active allowed\n\t * content filter ({@link CKEDITOR.editor#activeFilter}). This means\n\t * that if command implements {@link CKEDITOR.feature} interface it will be tested\n\t * by the {@link CKEDITOR.filter#checkFeature} method.\n\t *\n\t * @since 4.1\n\t * @param {Boolean} [noCache] Skip cache for example due to active filter change. Since CKEditor 4.2.\n\t * @returns {Boolean} Whether this command is allowed.\n\t */\n\tthis.checkAllowed = function( noCache ) {\n\t\tif ( !noCache && typeof allowed == 'boolean' )\n\t\t\treturn allowed;\n\n\t\treturn allowed = editor.activeFilter.checkFeature( this );\n\t};\n\n\tCKEDITOR.tools.extend( this, commandDefinition, {\n\t\t/**\n\t\t * The editor modes within which the command can be executed. The\n\t\t * execution will have no action if the current mode is not listed\n\t\t * in this property.\n\t\t *\n\t\t *\t\t// Enable the command in both WYSIWYG and Source modes.\n\t\t *\t\tcommand.modes = { wysiwyg:1,source:1 };\n\t\t *\n\t\t *\t\t// Enable the command in Source mode only.\n\t\t *\t\tcommand.modes = { source:1 };\n\t\t *\n\t\t * @see CKEDITOR.editor#mode\n\t\t */\n\t\tmodes: { wysiwyg: 1 },\n\n\t\t/**\n\t\t * Indicates that the editor will get the focus before executing\n\t\t * the command.\n\t\t *\n\t\t *\t\t// Do not force the editor to have focus when executing the command.\n\t\t *\t\tcommand.editorFocus = false;\n\t\t *\n\t\t * @property {Boolean} [=true]\n\t\t */\n\t\teditorFocus: 1,\n\n\t\t/**\n\t\t * Indicates that this command is sensible to the selection context.\n\t\t * If `true`, the {@link CKEDITOR.command#method-refresh} method will be\n\t\t * called for this command on the {@link CKEDITOR.editor#event-selectionChange} event.\n\t\t *\n\t\t * @property {Boolean} [=false]\n\t\t */\n\t\tcontextSensitive: !!commandDefinition.context,\n\n\t\t/**\n\t\t * Indicates the editor state. Possible values are:\n\t\t *\n\t\t * * {@link CKEDITOR#TRISTATE_DISABLED}: the command is\n\t\t *     disabled. It's execution will have no effect. Same as {@link #disable}.\n\t\t * * {@link CKEDITOR#TRISTATE_ON}: the command is enabled\n\t\t *     and currently active in the editor (for context sensitive commands,\tfor example).\n\t\t * * {@link CKEDITOR#TRISTATE_OFF}: the command is enabled\n\t\t *     and currently inactive in the editor (for context sensitive\tcommands, for example).\n\t\t *\n\t\t * Do not set this property directly, using the {@link #setState} method instead.\n\t\t *\n\t\t *\t\tif ( command.state == CKEDITOR.TRISTATE_DISABLED )\n\t\t *\t\t\talert( 'This command is disabled' );\n\t\t *\n\t\t * @property {Number} [=CKEDITOR.TRISTATE_DISABLED]\n\t\t */\n\t\tstate: CKEDITOR.TRISTATE_DISABLED\n\t} );\n\n\t// Call the CKEDITOR.event constructor to initialize this instance.\n\tCKEDITOR.event.call( this );\n};\n\nCKEDITOR.command.prototype = {\n\t/**\n\t * Enables the command for execution. The command state (see\n\t * {@link CKEDITOR.command#property-state}) available before disabling it is restored.\n\t *\n\t *\t\tcommand.enable();\n\t *\t\tcommand.exec(); // Execute the command.\n\t */\n\tenable: function() {\n\t\tif ( this.state == CKEDITOR.TRISTATE_DISABLED && this.checkAllowed() )\n\t\t\tthis.setState( ( !this.preserveState || ( typeof this.previousState == 'undefined' ) ) ? CKEDITOR.TRISTATE_OFF : this.previousState );\n\t},\n\n\t/**\n\t * Disables the command for execution. The command state (see\n\t * {@link CKEDITOR.command#property-state}) will be set to {@link CKEDITOR#TRISTATE_DISABLED}.\n\t *\n\t *\t\tcommand.disable();\n\t *\t\tcommand.exec(); // \"false\" - Nothing happens.\n\t */\n\tdisable: function() {\n\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t},\n\n\t/**\n\t * Sets the command state.\n\t *\n\t *\t\tcommand.setState( CKEDITOR.TRISTATE_ON );\n\t *\t\tcommand.exec(); // Execute the command.\n\t *\t\tcommand.setState( CKEDITOR.TRISTATE_DISABLED );\n\t *\t\tcommand.exec(); // 'false' - Nothing happens.\n\t *\t\tcommand.setState( CKEDITOR.TRISTATE_OFF );\n\t *\t\tcommand.exec(); // Execute the command.\n\t *\n\t * @param {Number} newState The new state. See {@link #property-state}.\n\t * @returns {Boolean} Returns `true` if the command state changed.\n\t */\n\tsetState: function( newState ) {\n\t\t// Do nothing if there is no state change.\n\t\tif ( this.state == newState )\n\t\t\treturn false;\n\n\t\tif ( newState != CKEDITOR.TRISTATE_DISABLED && !this.checkAllowed() )\n\t\t\treturn false;\n\n\t\tthis.previousState = this.state;\n\n\t\t// Set the new state.\n\t\tthis.state = newState;\n\n\t\t// Fire the \"state\" event, so other parts of the code can react to the\n\t\t// change.\n\t\tthis.fire( 'state' );\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * Toggles the on/off (active/inactive) state of the command. This is\n\t * mainly used internally by context sensitive commands.\n\t *\n\t *\t\tcommand.toggleState();\n\t */\n\ttoggleState: function() {\n\t\tif ( this.state == CKEDITOR.TRISTATE_OFF )\n\t\t\tthis.setState( CKEDITOR.TRISTATE_ON );\n\t\telse if ( this.state == CKEDITOR.TRISTATE_ON )\n\t\t\tthis.setState( CKEDITOR.TRISTATE_OFF );\n\t}\n};\n\nCKEDITOR.event.implementOn( CKEDITOR.command.prototype );\n\n/**\n * Indicates the previous command state.\n *\n *\t\talert( command.previousState );\n *\n * @property {Number} previousState\n * @see #state\n */\n\n/**\n * Fired when the command state changes.\n *\n *\t\tcommand.on( 'state', function() {\n *\t\t\t// Alerts the new state.\n *\t\t\talert( this.state );\n *\t\t} );\n *\n * @event state\n */\n\n /**\n * @event refresh\n * @todo\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/command.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.config} object that stores the\n * default configuration settings.\n */\n\n/**\n * Used in conjunction with the {@link CKEDITOR.config#enterMode}\n * and {@link CKEDITOR.config#shiftEnterMode} configuration\n * settings to make the editor produce `<p>` tags when\n * using the <kbd>Enter</kbd> key.\n *\n * Read more in the [documentation](#!/guide/dev_enterkey) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/enterkey.html).\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.ENTER_P = 1;\n\n/**\n * Used in conjunction with the {@link CKEDITOR.config#enterMode}\n * and {@link CKEDITOR.config#shiftEnterMode} configuration\n * settings to make the editor produce `<br>` tags when\n * using the <kbd>Enter</kbd> key.\n *\n * Read more in the [documentation](#!/guide/dev_enterkey) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/enterkey.html).\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.ENTER_BR = 2;\n\n/**\n * Used in conjunction with the {@link CKEDITOR.config#enterMode}\n * and {@link CKEDITOR.config#shiftEnterMode} configuration\n * settings to make the editor produce `<div>` tags when\n * using the <kbd>Enter</kbd> key.\n *\n * Read more in the [documentation](#!/guide/dev_enterkey) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/enterkey.html).\n *\n * @readonly\n * @property {Number} [=3]\n * @member CKEDITOR\n */\nCKEDITOR.ENTER_DIV = 3;\n\n/**\n * Stores default configuration settings. Changes to this object are\n * reflected in all editor instances, if not specified otherwise for a particular\n * instance.\n *\n * Read more about setting CKEditor configuration in the\n * [documentation](#!/guide/dev_configuration).\n *\n * @class\n * @singleton\n */\nCKEDITOR.config = {\n\t/**\n\t * The URL path to the custom configuration file to be loaded. If not\n\t * overwritten with inline configuration, it defaults to the `config.js`\n\t * file present in the root of the CKEditor installation directory.\n\t *\n\t * CKEditor will recursively load custom configuration files defined inside\n\t * other custom configuration files.\n\t *\n\t * Read more about setting CKEditor configuration in the\n\t * [documentation](#!/guide/dev_configuration).\n\t *\n\t *\t\t// Load a specific configuration file.\n\t *\t\tCKEDITOR.replace( 'myfield', { customConfig: '/myconfig.js' } );\n\t *\n\t *\t\t// Do not load any custom configuration file.\n\t *\t\tCKEDITOR.replace( 'myfield', { customConfig: '' } );\n\t *\n\t * @cfg {String} [=\"<CKEditor folder>/config.js\"]\n\t */\n\tcustomConfig: 'config.js',\n\n\t/**\n\t * Whether the element replaced by the editor (usually a `<textarea>`)\n\t * is to be updated automatically when posting the form containing the editor.\n\t *\n\t * @cfg\n\t */\n\tautoUpdateElement: true,\n\n\t/**\n\t * The user interface language localization to use. If left empty, the editor\n\t * will automatically be localized to the user language. If the user language is not supported,\n\t * the language specified in the {@link CKEDITOR.config#defaultLanguage}\n\t * configuration setting is used.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_uilanguage) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/uilanguages.html).\n\t *\n\t *\t\t// Load the German interface.\n\t *\t\tconfig.language = 'de';\n\t *\n\t * @cfg\n\t */\n\tlanguage: '',\n\n\t/**\n\t * The language to be used if the {@link CKEDITOR.config#language}\n\t * setting is left empty and it is not possible to localize the editor to the user language.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_uilanguage) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/uilanguages.html).\n\t *\n\t *\t\tconfig.defaultLanguage = 'it';\n\t *\n\t * @cfg\n\t */\n\tdefaultLanguage: 'en',\n\n\t/**\n\t * The writing direction of the language which is used to create editor content.\n\t * Allowed values are:\n\t *\n\t * * `''` (an empty string) &ndash; Indicates that content direction will be the same as either\n\t *      the editor UI direction or the page element direction depending on the editor type:\n\t *     * [Classic editor](#!/guide/dev_framed) &ndash; The same as the user interface language direction.\n\t *     * [Inline editor](#!/guide/dev_inline)&ndash; The same as the editable element text direction.\n\t * * `'ltr'` &ndash; Indicates a Left-To-Right text direction (like in English).\n\t * * `'rtl'` &ndash; Indicates a Right-To-Left text direction (like in Arabic).\n\t *\n\t * See the [SDK sample](http://sdk.ckeditor.com/samples/language.html).\n\t *\n\t * Example:\n\t *\n\t *\t\tconfig.contentsLangDirection = 'rtl';\n\t *\n\t * @cfg\n\t */\n\tcontentsLangDirection: '',\n\n\t/**\n\t * Sets the behavior of the <kbd>Enter</kbd> key. It also determines other behavior\n\t * rules of the editor, like whether the `<br>` element is to be used\n\t * as a paragraph separator when indenting text.\n\t * The allowed values are the following constants that cause the behavior outlined below:\n\t *\n\t * * {@link CKEDITOR#ENTER_P} (1) &ndash; New `<p>` paragraphs are created.\n\t * * {@link CKEDITOR#ENTER_BR} (2) &ndash; Lines are broken with `<br>` elements.\n\t * * {@link CKEDITOR#ENTER_DIV} (3) &ndash; New `<div>` blocks are created.\n\t *\n\t * **Note**: It is recommended to use the {@link CKEDITOR#ENTER_P} setting because of\n\t * its semantic value and correctness. The editor is optimized for this setting.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_enterkey) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/enterkey.html).\n\t *\n\t *\t\t// Not recommended.\n\t *\t\tconfig.enterMode = CKEDITOR.ENTER_BR;\n\t *\n\t * @cfg {Number} [=CKEDITOR.ENTER_P]\n\t */\n\tenterMode: CKEDITOR.ENTER_P,\n\n\t/**\n\t * Forces the use of {@link CKEDITOR.config#enterMode} as line break regardless\n\t * of the context. If, for example, {@link CKEDITOR.config#enterMode} is set\n\t * to {@link CKEDITOR#ENTER_P}, pressing the <kbd>Enter</kbd> key inside a\n\t * `<div>` element will create a new paragraph with a `<p>`\n\t * instead of a `<div>`.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_enterkey) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/enterkey.html).\n\t *\n\t *\t\t// Not recommended.\n\t *\t\tconfig.forceEnterMode = true;\n\t *\n\t * @since 3.2.1\n\t * @cfg\n\t */\n\tforceEnterMode: false,\n\n\t/**\n\t * Similarly to the {@link CKEDITOR.config#enterMode} setting, it defines the behavior\n\t * of the <kbd>Shift+Enter</kbd> key combination.\n\t *\n\t * The allowed values are the following constants that cause the behavior outlined below:\n\t *\n\t * * {@link CKEDITOR#ENTER_P} (1) &ndash; New `<p>` paragraphs are created.\n\t * * {@link CKEDITOR#ENTER_BR} (2) &ndash; Lines are broken with `<br>` elements.\n\t * * {@link CKEDITOR#ENTER_DIV} (3) &ndash; New `<div>` blocks are created.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_enterkey) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/enterkey.html).\n\t *\n\t * Example:\n\t *\n\t *\t\tconfig.shiftEnterMode = CKEDITOR.ENTER_P;\n\t *\n\t * @cfg {Number} [=CKEDITOR.ENTER_BR]\n\t */\n\tshiftEnterMode: CKEDITOR.ENTER_BR,\n\n\t/**\n\t * Sets the `DOCTYPE` to be used when loading the editor content as HTML.\n\t *\n\t *\t\t// Set the DOCTYPE to the HTML 4 (Quirks) mode.\n\t *\t\tconfig.docType = '<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">';\n\t *\n\t * @cfg\n\t */\n\tdocType: '<!DOCTYPE html>',\n\n\t/**\n\t * Sets the `id` attribute to be used on the `body` element\n\t * of the editing area. This can be useful when you intend to reuse the original CSS\n\t * file you are using on your live website and want to assign the editor the same ID\n\t * as the section that will include the contents. In this way ID-specific CSS rules will\n\t * be enabled.\n\t *\n\t *\t\tconfig.bodyId = 'contents_id';\n\t *\n\t * @since 3.1\n\t * @cfg\n\t */\n\tbodyId: '',\n\n\t/**\n\t * Sets the `class` attribute to be used on the `body` element\n\t * of the editing area. This can be useful when you intend to reuse the original CSS\n\t * file you are using on your live website and want to assign the editor the same class\n\t * as the section that will include the contents. In this way class-specific CSS rules will\n\t * be enabled.\n\t *\n\t *\t\tconfig.bodyClass = 'contents';\n\t *\n\t * **Note:** The editor needs to load stylesheets containing contents styles. You can either\n\t * copy them to the `contents.css` file that the editor loads by default or set the {@link #contentsCss}\n\t * option.\n\t *\n\t * **Note:** This setting only applies to [classic editor](#!/guide/dev_framed) (the one that uses `iframe`).\n\t *\n\t * @since 3.1\n\t * @cfg\n\t */\n\tbodyClass: '',\n\n\t/**\n\t * Indicates whether the content to be edited is being input as a full HTML page.\n\t * A full page includes the `<html>`, `<head>`, and `<body>` elements.\n\t * The final output will also reflect this setting, including the\n\t * `<body>` content only if this setting is disabled.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_fullpage) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/fullpage.html).\n\t *\n\t *\t\tconfig.fullPage = true;\n\t *\n\t * @since 3.1\n\t * @cfg\n\t */\n\tfullPage: false,\n\n\t/**\n\t * The height of the editing area that includes the editor content. This configuration\n\t * option accepts an integer (to denote a value in pixels) or any CSS-defined length unit\n\t * except percent (`%`) values which are not supported.\n\t *\n\t * **Note:** This configuration option is ignored by [inline editor](#!/guide/dev_inline).\n\t *\n\t * Read more in the [documentation](#!/guide/dev_size) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/size.html).\n\t *\n\t *\t\tconfig.height = 500;\t\t// 500 pixels.\n\t *\t\tconfig.height = '25em';\t\t// CSS length.\n\t *\t\tconfig.height = '300px';\t// CSS length.\n\t *\n\t * @cfg {Number/String}\n\t */\n\theight: 200,\n\n\t/**\n\t * The CSS file(s) to be used to apply style to editor content. It should\n\t * reflect the CSS used in the target pages where the content is to be\n\t * displayed.\n\t *\n\t * **Note:** This configuration value is ignored by [inline editor](#!/guide/dev_inline)\n\t * as it uses the styles that come directly from the page that CKEditor is\n\t * rendered on. It is also ignored in the {@link #fullPage full page mode} in\n\t * which the developer has full control over the page HTML code.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_styles) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/styles.html).\n\t *\n\t *\t\tconfig.contentsCss = '/css/mysitestyles.css';\n\t *\t\tconfig.contentsCss = [ '/css/mysitestyles.css', '/css/anotherfile.css' ];\n\t *\n\t * @cfg {String/Array} [contentsCss=CKEDITOR.getUrl( 'contents.css' )]\n\t */\n\tcontentsCss: CKEDITOR.getUrl( 'contents.css' ),\n\n\t/**\n\t * Comma-separated list of plugins to be used in an editor instance. Note that\n\t * the actual plugins that are to be loaded could still be affected by two other settings:\n\t * {@link CKEDITOR.config#extraPlugins} and {@link CKEDITOR.config#removePlugins}.\n\t *\n\t * @cfg {String} [=\"<default list of plugins>\"]\n\t */\n\tplugins: '', // %REMOVE_LINE%\n\n\t/**\n\t * A list of additional plugins to be loaded. This setting makes it easier\n\t * to add new plugins without having to touch the {@link CKEDITOR.config#plugins} setting.\n\t *\n\t * **Note:** The most recommended way to\n\t * [add CKEditor plugins](http://docs.ckeditor.com/#!/guide/dev_plugins) is through\n\t * [CKEditor Builder](http://ckeditor.com/builder). Read more in the\n\t * [documentation](#!/guide/dev_plugins).\n\t *\n\t *\t\tconfig.extraPlugins = 'myplugin,anotherplugin';\n\t *\n\t * @cfg\n\t */\n\textraPlugins: '',\n\n\t/**\n\t * A list of plugins that must not be loaded. This setting makes it possible\n\t * to avoid loading some plugins defined in the {@link CKEDITOR.config#plugins}\n\t * setting without having to touch it.\n\t *\n\t * **Note:** A plugin required by another plugin cannot be removed and will cause\n\t * an error to be thrown. So for example if `contextmenu` is required by `tabletools`,\n\t * it can only be removed if `tabletools` is not loaded.\n\t *\n\t *\t\tconfig.removePlugins = 'elementspath,save,font';\n\t *\n\t * @cfg\n\t */\n\tremovePlugins: '',\n\n\t/**\n\t * A list of regular expressions to be executed on input HTML,\n\t * indicating HTML source code that when matched, must **not** be available in the WYSIWYG\n\t * mode for editing.\n\t *\n\t *\t\tconfig.protectedSource.push( /<\\?[\\s\\S]*?\\?>/g );\t\t\t\t\t\t\t\t\t\t\t// PHP code\n\t *\t\tconfig.protectedSource.push( /<%[\\s\\S]*?%>/g );\t\t\t\t\t\t\t\t\t\t\t\t// ASP code\n\t *\t\tconfig.protectedSource.push( /(<asp:[^\\>]+>[\\s|\\S]*?<\\/asp:[^\\>]+>)|(<asp:[^\\>]+\\/>)/gi );\t// ASP.NET code\n\t *\n\t * @cfg\n\t */\n\tprotectedSource: [],\n\n\t/**\n\t * The editor `tabindex` value.\n\t *\n\t * Read more in the [documentation](#!/guide/dev_tabindex) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/tabindex.html).\n\t *\n\t *\t\tconfig.tabIndex = 1;\n\t *\n\t * @cfg\n\t */\n\ttabIndex: 0,\n\n\t/**\n\t * The editor UI outer width. This configuration option accepts an integer\n\t * (to denote a value in pixels) or any CSS-defined length unit.\n\t *\n\t * Unlike the {@link CKEDITOR.config#height} setting, this\n\t * one will set the outer width of the entire editor UI, not for the\n\t * editing area only.\n\t *\n\t * **Note:** This configuration option is ignored by [inline editor](#!/guide/dev_inline).\n\t *\n\t * Read more in the [documentation](#!/guide/dev_size) and see the\n\t * [SDK sample](http://sdk.ckeditor.com/samples/size.html).\n\t *\n\t *\t\tconfig.width = 850;\t\t// 850 pixels wide.\n\t *\t\tconfig.width = '75%';\t// CSS unit.\n\t *\n\t * @cfg {String/Number}\n\t */\n\twidth: '',\n\n\t/**\n\t * The base Z-index for floating dialog windows and popups.\n\t *\n\t *\t\tconfig.baseFloatZIndex = 2000;\n\t *\n\t * @cfg\n\t */\n\tbaseFloatZIndex: 10000,\n\n\t/**\n\t * The keystrokes that are blocked by default as the browser implementation\n\t * is buggy. These default keystrokes are handled by the editor.\n\t *\n\t *\t\t// Default setting.\n\t *\t\tconfig.blockedKeystrokes = [\n\t *\t\t\tCKEDITOR.CTRL + 66, // Ctrl+B\n\t *\t\t\tCKEDITOR.CTRL + 73, // Ctrl+I\n\t *\t\t\tCKEDITOR.CTRL + 85 // Ctrl+U\n\t *\t\t];\n\t *\n\t * @cfg {Array} [blockedKeystrokes=see example]\n\t */\n\tblockedKeystrokes: [\n\t\tCKEDITOR.CTRL + 66, // Ctrl+B\n\t\tCKEDITOR.CTRL + 73, // Ctrl+I\n\t\tCKEDITOR.CTRL + 85 // Ctrl+U\n\t]\n};\n\n/**\n * Indicates that some of the editor features, like alignment and text\n * direction, should use the \"computed value\" of the feature to indicate its\n * on/off state instead of using the \"real value\".\n *\n * If enabled in a Left-To-Right written document, the \"Left Justify\"\n * alignment button will be shown as active, even if the alignment style is not\n * explicitly applied to the current paragraph in the editor.\n *\n *\t\tconfig.useComputedState = false;\n *\n * @since 3.4\n * @cfg {Boolean} [useComputedState=true]\n */\n\n/**\n * The base user interface color to be used by the editor. Not all skins are\n * [compatible with this setting](#!/guide/skin_sdk_chameleon).\n *\n * Read more in the [documentation](#!/guide/dev_uicolor) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/uicolor.html).\n *\n *\t\t// Using a color code.\n *\t\tconfig.uiColor = '#AADC6E';\n *\n *\t\t// Using an HTML color name.\n *\t\tconfig.uiColor = 'Gold';\n *\n * @cfg {String} uiColor\n */\n\n// PACKAGER_RENAME( CKEDITOR.config )\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/config.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t'use strict';\n\n\tvar DTD = CKEDITOR.dtd,\n\t\t// processElement flag - means that element has been somehow modified.\n\t\tFILTER_ELEMENT_MODIFIED = 1,\n\t\t// processElement flag - meaning explained in CKEDITOR.FILTER_SKIP_TREE doc.\n\t\tFILTER_SKIP_TREE = 2,\n\t\tcopy = CKEDITOR.tools.copy,\n\t\ttrim = CKEDITOR.tools.trim,\n\t\tTEST_VALUE = 'cke-test',\n\t\tenterModeTags = [ '', 'p', 'br', 'div' ];\n\n\t/**\n\t * A flag indicating that the current element and all its ancestors\n\t * should not be filtered.\n\t *\n\t * See {@link CKEDITOR.filter#addElementCallback} for more details.\n\t *\n\t * @since 4.4\n\t * @readonly\n\t * @property {Number} [=2]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.FILTER_SKIP_TREE = FILTER_SKIP_TREE;\n\n\t/**\n\t * Highly configurable class which implements input data filtering mechanisms\n\t * and core functions used for the activation of editor features.\n\t *\n\t * A filter instance is always available under the {@link CKEDITOR.editor#filter}\n\t * property and is used by the editor in its core features like filtering input data,\n\t * applying data transformations, validating whether a feature may be enabled for\n\t * the current setup. It may be configured in two ways:\n\t *\n\t *\t* By the user, with the {@link CKEDITOR.config#allowedContent} setting.\n\t *\t* Automatically, by loaded features (toolbar items, commands, etc.).\n\t *\n\t * In both cases additional allowed content rules may be added by\n\t * setting the {@link CKEDITOR.config#extraAllowedContent}\n\t * configuration option.\n\t *\n\t * **Note**: Filter rules will be extended with the following elements\n\t * depending on the {@link CKEDITOR.config#enterMode} and\n\t * {@link CKEDITOR.config#shiftEnterMode} settings:\n\t *\n\t *\t* `'p'` &ndash; for {@link CKEDITOR#ENTER_P},\n\t *\t* `'div'` &ndash; for {@link CKEDITOR#ENTER_DIV},\n\t *\t* `'br'` &ndash; for {@link CKEDITOR#ENTER_BR}.\n\t *\n\t * **Read more** about the Advanced Content Filter in [guides](#!/guide/dev_advanced_content_filter).\n\t *\n\t * Filter may also be used as a standalone instance by passing\n\t * {@link CKEDITOR.filter.allowedContentRules} instead of {@link CKEDITOR.editor}\n\t * to the constructor:\n\t *\n\t *\t\tvar filter = new CKEDITOR.filter( 'b' );\n\t *\n\t *\t\tfilter.check( 'b' ); // -> true\n\t *\t\tfilter.check( 'i' ); // -> false\n\t *\t\tfilter.allow( 'i' );\n\t *\t\tfilter.check( 'i' ); // -> true\n\t *\n\t * @since 4.1\n\t * @class\n\t * @constructor Creates a filter class instance.\n\t * @param {CKEDITOR.editor/CKEDITOR.filter.allowedContentRules} editorOrRules\n\t */\n\tCKEDITOR.filter = function( editorOrRules ) {\n\t\t/**\n\t\t * Whether custom {@link CKEDITOR.config#allowedContent} was set.\n\t\t *\n\t\t * This property does not apply to the standalone filter.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Boolean} customConfig\n\t\t */\n\n\t\t/**\n\t\t * Array of rules added by the {@link #allow} method (including those\n\t\t * loaded from {@link CKEDITOR.config#allowedContent} and\n\t\t * {@link CKEDITOR.config#extraAllowedContent}).\n\t\t *\n\t\t * Rules in this array are in unified allowed content rules format.\n\t\t *\n\t\t * This property is useful for debugging issues with rules string parsing\n\t\t * or for checking which rules were automatically added by editor features.\n\t\t *\n\t\t * @readonly\n\t\t */\n\t\tthis.allowedContent = [];\n\n\t\t/**\n\t\t * Array of rules added by the {@link #disallow} method (including those\n\t\t * loaded from {@link CKEDITOR.config#disallowedContent}).\n\t\t *\n\t\t * Rules in this array are in unified disallowed content rules format.\n\t\t *\n\t\t * This property is useful for debugging issues with rules string parsing\n\t\t * or for checking which rules were automatically added by editor features.\n\t\t *\n\t\t * @since 4.4\n\t\t * @readonly\n\t\t */\n\t\tthis.disallowedContent = [];\n\n\t\t/**\n\t\t * Array of element callbacks. See {@link #addElementCallback}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Function[]} [=null]\n\t\t */\n\t\tthis.elementCallbacks = null;\n\n\t\t/**\n\t\t * Whether the filter is disabled.\n\t\t *\n\t\t * To disable the filter, set {@link CKEDITOR.config#allowedContent} to `true`\n\t\t * or use the {@link #disable} method.\n\t\t *\n\t\t * @readonly\n\t\t */\n\t\tthis.disabled = false;\n\n\t\t/**\n\t\t * Editor instance if not a standalone filter.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.editor} [=null]\n\t\t */\n\t\tthis.editor = null;\n\n\t\t/**\n\t\t * Filter's unique id. It can be used to find filter instance in\n\t\t * {@link CKEDITOR.filter#instances CKEDITOR.filter.instance} object.\n\t\t *\n\t\t * @since 4.3\n\t\t * @readonly\n\t\t * @property {Number} id\n\t\t */\n\t\tthis.id = CKEDITOR.tools.getNextNumber();\n\n\t\tthis._ = {\n\t\t\t// Optimized allowed content rules.\n\t\t\tallowedRules: {\n\t\t\t\telements: {},\n\t\t\t\tgeneric: []\n\t\t\t},\n\t\t\t// Optimized disallowed content rules.\n\t\t\tdisallowedRules: {\n\t\t\t\telements: {},\n\t\t\t\tgeneric: []\n\t\t\t},\n\t\t\t// Object: element name => array of transformations groups.\n\t\t\ttransformations: {},\n\t\t\tcachedTests: {}\n\t\t};\n\n\t\t// Register filter instance.\n\t\tCKEDITOR.filter.instances[ this.id ] = this;\n\n\t\tif ( editorOrRules instanceof CKEDITOR.editor ) {\n\t\t\tvar editor = this.editor = editorOrRules;\n\t\t\tthis.customConfig = true;\n\n\t\t\tvar allowedContent = editor.config.allowedContent;\n\n\t\t\t// Disable filter completely by setting config.allowedContent = true.\n\t\t\tif ( allowedContent === true ) {\n\t\t\t\tthis.disabled = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( !allowedContent )\n\t\t\t\tthis.customConfig = false;\n\n\t\t\tthis.allow( allowedContent, 'config', 1 );\n\t\t\tthis.allow( editor.config.extraAllowedContent, 'extra', 1 );\n\n\t\t\t// Enter modes should extend filter rules (ENTER_P adds 'p' rule, etc.).\n\t\t\tthis.allow( enterModeTags[ editor.enterMode ] + ' ' + enterModeTags[ editor.shiftEnterMode ], 'default', 1 );\n\n\t\t\tthis.disallow( editor.config.disallowedContent );\n\t\t}\n\t\t// Rules object passed in editorOrRules argument - initialize standalone filter.\n\t\telse {\n\t\t\tthis.customConfig = false;\n\t\t\tthis.allow( editorOrRules, 'default', 1 );\n\t\t}\n\t};\n\n\t/**\n\t * Object containing all filter instances stored under their\n\t * {@link #id} properties.\n\t *\n\t *\t\tvar filter = new CKEDITOR.filter( 'p' );\n\t *\t\tfilter === CKEDITOR.filter.instances[ filter.id ];\n\t *\n\t * @since 4.3\n\t * @static\n\t * @property instances\n\t */\n\tCKEDITOR.filter.instances = {};\n\n\tCKEDITOR.filter.prototype = {\n\t\t/**\n\t\t * Adds allowed content rules to the filter.\n\t\t *\n\t\t * Read about rules formats in [Allowed Content Rules guide](#!/guide/dev_allowed_content_rules).\n\t\t *\n\t\t *\t\t// Add a basic rule for custom image feature (e.g. 'MyImage' button).\n\t\t *\t\teditor.filter.allow( 'img[!src,alt]', 'MyImage' );\n\t\t *\n\t\t *\t\t// Add rules for two header styles allowed by 'HeadersCombo'.\n\t\t *\t\tvar header1Style = new CKEDITOR.style( { element: 'h1' } ),\n\t\t *\t\t\theader2Style = new CKEDITOR.style( { element: 'h2' } );\n\t\t *\t\teditor.filter.allow( [ header1Style, header2Style ], 'HeadersCombo' );\n\t\t *\n\t\t * @param {CKEDITOR.filter.allowedContentRules} newRules Rule(s) to be added.\n\t\t * @param {String} [featureName] Name of a feature that allows this content (most often plugin/button/command name).\n\t\t * @param {Boolean} [overrideCustom] By default this method will reject any rules\n\t\t * if {@link CKEDITOR.config#allowedContent} is defined to avoid overriding it.\n\t\t * Pass `true` to force rules addition.\n\t\t * @returns {Boolean} Whether the rules were accepted.\n\t\t */\n\t\tallow: function( newRules, featureName, overrideCustom ) {\n\t\t\t// Check arguments and constraints. Clear cache.\n\t\t\tif ( !beforeAddingRule( this, newRules, overrideCustom ) )\n\t\t\t\treturn false;\n\n\t\t\tvar i, ret;\n\n\t\t\tif ( typeof newRules == 'string' )\n\t\t\t\tnewRules = parseRulesString( newRules );\n\t\t\telse if ( newRules instanceof CKEDITOR.style ) {\n\t\t\t\t// If style has the cast method defined, use it and abort.\n\t\t\t\tif ( newRules.toAllowedContentRules )\n\t\t\t\t\treturn this.allow( newRules.toAllowedContentRules( this.editor ), featureName, overrideCustom );\n\n\t\t\t\tnewRules = convertStyleToRules( newRules );\n\t\t\t} else if ( CKEDITOR.tools.isArray( newRules ) ) {\n\t\t\t\tfor ( i = 0; i < newRules.length; ++i )\n\t\t\t\t\tret = this.allow( newRules[ i ], featureName, overrideCustom );\n\t\t\t\treturn ret; // Return last status.\n\t\t\t}\n\n\t\t\taddAndOptimizeRules( this, newRules, featureName, this.allowedContent, this._.allowedRules );\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Applies this filter to passed {@link CKEDITOR.htmlParser.fragment} or {@link CKEDITOR.htmlParser.element}.\n\t\t * The result of filtering is a DOM tree without disallowed content.\n\t\t *\n\t\t *\t\t\t// Create standalone filter passing 'p' and 'b' elements.\n\t\t *\t\tvar filter = new CKEDITOR.filter( 'p b' ),\n\t\t *\t\t\t// Parse HTML string to pseudo DOM structure.\n\t\t *\t\t\tfragment = CKEDITOR.htmlParser.fragment.fromHtml( '<p><b>foo</b> <i>bar</i></p>' ),\n\t\t *\t\t\twriter = new CKEDITOR.htmlParser.basicWriter();\n\t\t *\n\t\t *\t\tfilter.applyTo( fragment );\n\t\t *\t\tfragment.writeHtml( writer );\n\t\t *\t\twriter.getHtml(); // -> '<p><b>foo</b> bar</p>'\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.fragment/CKEDITOR.htmlParser.element} fragment Node to be filtered.\n\t\t * @param {Boolean} [toHtml] Set to `true` if the filter is used together with {@link CKEDITOR.htmlDataProcessor#toHtml}.\n\t\t * @param {Boolean} [transformOnly] If set to `true` only transformations will be applied. Content\n\t\t * will not be filtered with allowed content rules.\n\t\t * @param {Number} [enterMode] Enter mode used by the filter when deciding how to strip disallowed element.\n\t\t * Defaults to {@link CKEDITOR.editor#activeEnterMode} for a editor's filter or to {@link CKEDITOR#ENTER_P} for standalone filter.\n\t\t * @returns {Boolean} Whether some part of the `fragment` was removed by the filter.\n\t\t */\n\t\tapplyTo: function( fragment, toHtml, transformOnly, enterMode ) {\n\t\t\tif ( this.disabled )\n\t\t\t\treturn false;\n\n\t\t\tvar that = this,\n\t\t\t\ttoBeRemoved = [],\n\t\t\t\tprotectedRegexs = this.editor && this.editor.config.protectedSource,\n\t\t\t\tprocessRetVal,\n\t\t\t\tisModified = false,\n\t\t\t\tfilterOpts = {\n\t\t\t\t\tdoFilter: !transformOnly,\n\t\t\t\t\tdoTransform: true,\n\t\t\t\t\tdoCallbacks: true,\n\t\t\t\t\ttoHtml: toHtml\n\t\t\t\t};\n\n\t\t\t// Filter all children, skip root (fragment or editable-like wrapper used by data processor).\n\t\t\tfragment.forEach( function( el ) {\n\t\t\t\tif ( el.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t// Do not filter element with data-cke-filter=\"off\" and all their descendants.\n\t\t\t\t\tif ( el.attributes[ 'data-cke-filter' ] == 'off' )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t// (#10260) Don't touch elements like spans with data-cke-* attribute since they're\n\t\t\t\t\t// responsible e.g. for placing markers, bookmarks, odds and stuff.\n\t\t\t\t\t// We love 'em and we don't wanna lose anything during the filtering.\n\t\t\t\t\t// '|' is to avoid tricky joints like data-=\"foo\" + cke-=\"bar\". Yes, they're possible.\n\t\t\t\t\t//\n\t\t\t\t\t// NOTE: data-cke-* assigned elements are preserved only when filter is used with\n\t\t\t\t\t//       htmlDataProcessor.toHtml because we don't want to protect them when outputting data\n\t\t\t\t\t//       (toDataFormat).\n\t\t\t\t\tif ( toHtml && el.name == 'span' && ~CKEDITOR.tools.objectKeys( el.attributes ).join( '|' ).indexOf( 'data-cke-' ) )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tprocessRetVal = processElement( that, el, toBeRemoved, filterOpts );\n\t\t\t\t\tif ( processRetVal & FILTER_ELEMENT_MODIFIED )\n\t\t\t\t\t\tisModified = true;\n\t\t\t\t\telse if ( processRetVal & FILTER_SKIP_TREE )\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse if ( el.type == CKEDITOR.NODE_COMMENT && el.value.match( /^\\{cke_protected\\}(?!\\{C\\})/ ) ) {\n\t\t\t\t\tif ( !processProtectedElement( that, el, protectedRegexs, filterOpts ) )\n\t\t\t\t\t\ttoBeRemoved.push( el );\n\t\t\t\t}\n\t\t\t}, null, true );\n\n\t\t\tif ( toBeRemoved.length )\n\t\t\t\tisModified = true;\n\n\t\t\tvar node, element, check,\n\t\t\t\ttoBeChecked = [],\n\t\t\t\tenterTag = enterModeTags[ enterMode || ( this.editor ? this.editor.enterMode : CKEDITOR.ENTER_P ) ],\n\t\t\t\tparentDtd;\n\n\t\t\t// Remove elements in reverse order - from leaves to root, to avoid conflicts.\n\t\t\twhile ( ( node = toBeRemoved.pop() ) ) {\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\tremoveElement( node, enterTag, toBeChecked );\n\t\t\t\t// This is a comment securing rejected element - remove it completely.\n\t\t\t\telse\n\t\t\t\t\tnode.remove();\n\t\t\t}\n\n\t\t\t// Check elements that have been marked as possibly invalid.\n\t\t\twhile ( ( check = toBeChecked.pop() ) ) {\n\t\t\t\telement = check.el;\n\t\t\t\t// Element has been already removed.\n\t\t\t\tif ( !element.parent )\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Handle custom elements as inline elements (#12683).\n\t\t\t\tparentDtd = DTD[ element.parent.name ] || DTD.span;\n\n\t\t\t\tswitch ( check.check ) {\n\t\t\t\t\t// Check if element itself is correct.\n\t\t\t\t\tcase 'it':\n\t\t\t\t\t\t// Check if element included in $removeEmpty has no children.\n\t\t\t\t\t\tif ( DTD.$removeEmpty[ element.name ] && !element.children.length )\n\t\t\t\t\t\t\tremoveElement( element, enterTag, toBeChecked );\n\t\t\t\t\t\t// Check if that is invalid element.\n\t\t\t\t\t\telse if ( !validateElement( element ) )\n\t\t\t\t\t\t\tremoveElement( element, enterTag, toBeChecked );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t// Check if element is in correct context. If not - remove element.\n\t\t\t\t\tcase 'el-up':\n\t\t\t\t\t\t// Check if e.g. li is a child of body after ul has been removed.\n\t\t\t\t\t\tif ( element.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT && !parentDtd[ element.name ] )\n\t\t\t\t\t\t\tremoveElement( element, enterTag, toBeChecked );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t// Check if element is in correct context. If not - remove parent.\n\t\t\t\t\tcase 'parent-down':\n\t\t\t\t\t\tif ( element.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT && !parentDtd[ element.name ] )\n\t\t\t\t\t\t\tremoveElement( element.parent, enterTag, toBeChecked );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn isModified;\n\t\t},\n\n\t\t/**\n\t\t * Checks whether a {@link CKEDITOR.feature} can be enabled. Unlike {@link #addFeature},\n\t\t * this method always checks the feature, even when the default configuration\n\t\t * for {@link CKEDITOR.config#allowedContent} is used.\n\t\t *\n\t\t *\t\t// TODO example\n\t\t *\n\t\t * @param {CKEDITOR.feature} feature The feature to be tested.\n\t\t * @returns {Boolean} Whether this feature can be enabled.\n\t\t */\n\t\tcheckFeature: function( feature ) {\n\t\t\tif ( this.disabled )\n\t\t\t\treturn true;\n\n\t\t\tif ( !feature )\n\t\t\t\treturn true;\n\n\t\t\t// Some features may want to register other features.\n\t\t\t// E.g. a button may return a command bound to it.\n\t\t\tif ( feature.toFeature )\n\t\t\t\tfeature = feature.toFeature( this.editor );\n\n\t\t\treturn !feature.requiredContent || this.check( feature.requiredContent );\n\t\t},\n\n\t\t/**\n\t\t * Disables Advanced Content Filter.\n\t\t *\n\t\t * This method is meant to be used by plugins which are not\n\t\t * compatible with the filter and in other cases in which the filter\n\t\t * has to be disabled during the initialization phase or runtime.\n\t\t *\n\t\t * In other cases the filter can be disabled by setting\n\t\t * {@link CKEDITOR.config#allowedContent} to `true`.\n\t\t */\n\t\tdisable: function() {\n\t\t\tthis.disabled = true;\n\t\t},\n\n\t\t/**\n\t\t * Adds disallowed content rules to the filter.\n\t\t *\n\t\t * Read about rules formats in the [Allowed Content Rules guide](#!/guide/dev_allowed_content_rules).\n\t\t *\n\t\t *\t\t// Disallow all styles on the image elements.\n\t\t *\t\teditor.filter.disallow( 'img{*}' );\n\t\t *\n\t\t *\t\t// Disallow all span and div elements.\n\t\t *\t\teditor.filter.disallow( 'span div' );\n\t\t *\n\t\t * @since 4.4\n\t\t * @param {CKEDITOR.filter.disallowedContentRules} newRules Rule(s) to be added.\n\t\t */\n\t\tdisallow: function( newRules ) {\n\t\t\t// Check arguments and constraints. Clear cache.\n\t\t\t// Note: we pass true in the 3rd argument, because disallow() should never\n\t\t\t// be blocked by custom configuration.\n\t\t\tif ( !beforeAddingRule( this, newRules, true ) )\n\t\t\t\treturn false;\n\n\t\t\tif ( typeof newRules == 'string' )\n\t\t\t\tnewRules = parseRulesString( newRules );\n\n\t\t\taddAndOptimizeRules( this, newRules, null, this.disallowedContent, this._.disallowedRules );\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Adds an array of {@link CKEDITOR.feature} content forms. All forms\n\t\t * will then be transformed to the first form which is allowed by the filter.\n\t\t *\n\t\t *\t\teditor.filter.allow( 'i; span{!font-style}' );\n\t\t *\t\teditor.filter.addContentForms( [\n\t\t *\t\t\t'em',\n\t\t *\t\t\t'i',\n\t\t *\t\t\t[ 'span', function( el ) {\n\t\t *\t\t\t\treturn el.styles[ 'font-style' ] == 'italic';\n\t\t *\t\t\t} ]\n\t\t *\t\t] );\n\t\t *\t\t// Now <em> and <span style=\"font-style:italic\"> will be replaced with <i>\n\t\t *\t\t// because this is the first allowed form.\n\t\t *\t\t// <span> is allowed too, but it is the last form and\n\t\t *\t\t// additionaly, the editor cannot transform an element based on\n\t\t *\t\t// the array+function form).\n\t\t *\n\t\t * This method is used by the editor to register {@link CKEDITOR.feature#contentForms}\n\t\t * when adding a feature with {@link #addFeature} or {@link CKEDITOR.editor#addFeature}.\n\t\t *\n\t\t * @param {Array} forms The content forms of a feature.\n\t\t */\n\t\taddContentForms: function( forms ) {\n\t\t\tif ( this.disabled )\n\t\t\t\treturn;\n\n\t\t\tif ( !forms )\n\t\t\t\treturn;\n\n\t\t\tvar i, form,\n\t\t\t\ttransfGroups = [],\n\t\t\t\tpreferredForm;\n\n\t\t\t// First, find preferred form - this is, first allowed.\n\t\t\tfor ( i = 0; i < forms.length && !preferredForm; ++i ) {\n\t\t\t\tform = forms[ i ];\n\n\t\t\t\t// Check only strings and styles - array format isn't supported by #check().\n\t\t\t\tif ( ( typeof form == 'string' || form instanceof CKEDITOR.style ) && this.check( form ) )\n\t\t\t\t\tpreferredForm = form;\n\t\t\t}\n\n\t\t\t// This feature doesn't have preferredForm, so ignore it.\n\t\t\tif ( !preferredForm )\n\t\t\t\treturn;\n\n\t\t\tfor ( i = 0; i < forms.length; ++i )\n\t\t\t\ttransfGroups.push( getContentFormTransformationGroup( forms[ i ], preferredForm ) );\n\n\t\t\tthis.addTransformations( transfGroups );\n\t\t},\n\n\t\t/**\n\t\t * Adds a callback which will be executed on every element\n\t\t * that the filter reaches when filtering, before the element is filtered.\n\t\t *\n\t\t * By returning {@link CKEDITOR#FILTER_SKIP_TREE} it is possible to\n\t\t * skip filtering of the current element and all its ancestors.\n\t\t *\n\t\t *\t\teditor.filter.addElementCallback( function( el ) {\n\t\t *\t\t\tif ( el.hasClass( 'protected' ) )\n\t\t *\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t *\t\t} );\n\t\t *\n\t\t * **Note:** At this stage the element passed to the callback does not\n\t\t * contain `attributes`, `classes`, and `styles` properties which are available\n\t\t * temporarily on later stages of the filtering process. Therefore you need to\n\t\t *  use the pure {@link CKEDITOR.htmlParser.element} interface.\n\t\t *\n\t\t * @since 4.4\n\t\t * @param {Function} callback The callback to be executed.\n\t\t */\n\t\taddElementCallback: function( callback ) {\n\t\t\t// We want to keep it a falsy value, to speed up finding whether there are any callbacks.\n\t\t\tif ( !this.elementCallbacks )\n\t\t\t\tthis.elementCallbacks = [];\n\n\t\t\tthis.elementCallbacks.push( callback );\n\t\t},\n\n\t\t/**\n\t\t * Checks whether a feature can be enabled for the HTML restrictions in place\n\t\t * for the current CKEditor instance, based on the HTML code the feature might\n\t\t * generate and the minimal HTML code the feature needs to be able to generate.\n\t\t *\n\t\t *\t\t// TODO example\n\t\t *\n\t\t * @param {CKEDITOR.feature} feature\n\t\t * @returns {Boolean} Whether this feature can be enabled.\n\t\t */\n\t\taddFeature: function( feature ) {\n\t\t\tif ( this.disabled )\n\t\t\t\treturn true;\n\n\t\t\tif ( !feature )\n\t\t\t\treturn true;\n\n\t\t\t// Some features may want to register other features.\n\t\t\t// E.g. a button may return a command bound to it.\n\t\t\tif ( feature.toFeature )\n\t\t\t\tfeature = feature.toFeature( this.editor );\n\n\t\t\t// If default configuration (will be checked inside #allow()),\n\t\t\t// then add allowed content rules.\n\t\t\tthis.allow( feature.allowedContent, feature.name );\n\n\t\t\tthis.addTransformations( feature.contentTransformations );\n\t\t\tthis.addContentForms( feature.contentForms );\n\n\t\t\t// If custom configuration or any DACRs, then check if required content is allowed.\n\t\t\tif ( feature.requiredContent && ( this.customConfig || this.disallowedContent.length ) )\n\t\t\t\treturn this.check( feature.requiredContent );\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Adds an array of content transformation groups. One group\n\t\t * may contain many transformation rules, but only the first\n\t\t * matching rule in a group is executed.\n\t\t *\n\t\t * A single transformation rule is an object with four properties:\n\t\t *\n\t\t *\t* `check` (optional) &ndash; if set and {@link CKEDITOR.filter} does\n\t\t *\t\tnot accept this {@link CKEDITOR.filter.contentRule}, this transformation rule\n\t\t *\t\twill not be executed (it does not *match*). This value is passed\n\t\t *\t\tto {@link #check}.\n\t\t *\t* `element` (optional) &ndash; this string property tells the filter on which\n\t\t *\t\telement this transformation can be run. It is optional, because\n\t\t *\t\tthe element name can be obtained from `check` (if it is a String format)\n\t\t *\t\tor `left` (if it is a {@link CKEDITOR.style} instance).\n\t\t *\t* `left` (optional) &ndash; a function accepting an element or a {@link CKEDITOR.style}\n\t\t *\t\tinstance verifying whether the transformation should be\n\t\t *\t\texecuted on this specific element. If it returns `false` or if an element\n\t\t *\t\tdoes not match this style, this transformation rule does not *match*.\n\t\t *\t* `right` &ndash; a function accepting an element and {@link CKEDITOR.filter.transformationsTools}\n\t\t *\t\tor a string containing the name of the {@link CKEDITOR.filter.transformationsTools} method\n\t\t *\t\tthat should be called on an element.\n\t\t *\n\t\t * A shorthand format is also available. A transformation rule can be defined by\n\t\t * a single string `'check:right'`. The string before `':'` will be used as\n\t\t * the `check` property and the second part as the `right` property.\n\t\t *\n\t\t * Transformation rules can be grouped. The filter will try to apply\n\t\t * the first rule in a group. If it *matches*, the filter will ignore subsequent rules and\n\t\t * will move to the next group. If it does not *match*, the next rule will be checked.\n\t\t *\n\t\t * Examples:\n\t\t *\n\t\t *\t\teditor.filter.addTransformations( [\n\t\t *\t\t\t// First group.\n\t\t *\t\t\t[\n\t\t *\t\t\t\t// First rule. If table{width} is allowed, it\n\t\t *\t\t\t\t// executes {@link CKEDITOR.filter.transformationsTools#sizeToStyle} on a table element.\n\t\t *\t\t\t\t'table{width}: sizeToStyle',\n\t\t *\t\t\t\t// Second rule should not be executed if the first was.\n\t\t *\t\t\t\t'table[width]: sizeToAttribute'\n\t\t *\t\t\t],\n\t\t *\t\t\t// Second group.\n\t\t *\t\t\t[\n\t\t *\t\t\t\t// This rule will add the foo=\"1\" attribute to all images that\n\t\t *\t\t\t\t// do not have it.\n\t\t *\t\t\t\t{\n\t\t *\t\t\t\t\telement: 'img',\n\t\t *\t\t\t\t\tleft: function( el ) {\n\t\t *\t\t\t\t\t\treturn !el.attributes.foo;\n\t\t *\t\t\t\t\t},\n\t\t *\t\t\t\t\tright: function( el, tools ) {\n\t\t *\t\t\t\t\t\tel.attributes.foo = '1';\n\t\t *\t\t\t\t\t}\n\t\t *\t\t\t\t}\n\t\t *\t\t\t]\n\t\t *\t\t] );\n\t\t *\n\t\t *\t\t// Case 1:\n\t\t *\t\t// config.allowedContent = 'table{height,width}; tr td'.\n\t\t *\t\t//\n\t\t *\t\t// '<table style=\"height:100px; width:200px\">...</table>'\t\t-> '<table style=\"height:100px; width:200px\">...</table>'\n\t\t *\t\t// '<table height=\"100\" width=\"200\">...</table>'\t\t\t\t-> '<table style=\"height:100px; width:200px\">...</table>'\n\t\t *\n\t\t *\t\t// Case 2:\n\t\t *\t\t// config.allowedContent = 'table[height,width]; tr td'.\n\t\t *\t\t//\n\t\t *\t\t// '<table style=\"height:100px; width:200px\">...</table>'\t\t-> '<table height=\"100\" width=\"200\">...</table>'\n\t\t *\t\t// '<table height=\"100\" width=\"200\">...</table>'\t\t\t\t-> '<table height=\"100\" width=\"200\"\">...</table>'\n\t\t *\n\t\t *\t\t// Case 3:\n\t\t *\t\t// config.allowedContent = 'table{width,height}[height,width]; tr td'.\n\t\t *\t\t//\n\t\t *\t\t// '<table style=\"height:100px; width:200px\">...</table>'\t\t-> '<table style=\"height:100px; width:200px\">...</table>'\n\t\t *\t\t// '<table height=\"100\" width=\"200\">...</table>'\t\t\t\t-> '<table style=\"height:100px; width:200px\">...</table>'\n\t\t *\t\t//\n\t\t *\t\t// Note: Both forms are allowed (size set by style and by attributes), but only\n\t\t *\t\t// the first transformation is applied &mdash; the size is always transformed to a style.\n\t\t *\t\t// This is because only the first transformation matching allowed content rules is applied.\n\t\t *\n\t\t * This method is used by the editor to add {@link CKEDITOR.feature#contentTransformations}\n\t\t * when adding a feature by {@link #addFeature} or {@link CKEDITOR.editor#addFeature}.\n\t\t *\n\t\t * @param {Array} transformations\n\t\t */\n\t\taddTransformations: function( transformations ) {\n\t\t\tif ( this.disabled )\n\t\t\t\treturn;\n\n\t\t\tif ( !transformations )\n\t\t\t\treturn;\n\n\t\t\tvar optimized = this._.transformations,\n\t\t\t\tgroup, i;\n\n\t\t\tfor ( i = 0; i < transformations.length; ++i ) {\n\t\t\t\tgroup = optimizeTransformationsGroup( transformations[ i ] );\n\n\t\t\t\tif ( !optimized[ group.name ] )\n\t\t\t\t\toptimized[ group.name ] = [];\n\n\t\t\t\toptimized[ group.name ].push( group.rules );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks whether the content defined in the `test` argument is allowed\n\t\t * by this filter.\n\t\t *\n\t\t * If `strictCheck` is set to `false` (default value), this method checks\n\t\t * if all parts of the `test` (styles, attributes, and classes) are\n\t\t * accepted by the filter. If `strictCheck` is set to `true`, the test\n\t\t * must also contain the required attributes, styles, and classes.\n\t\t *\n\t\t * For example:\n\t\t *\n\t\t *\t\t// Rule: 'img[!src,alt]'.\n\t\t *\t\tfilter.check( 'img[alt]' ); // -> true\n\t\t *\t\tfilter.check( 'img[alt]', true, true ); // -> false\n\t\t *\n\t\t * Second `check()` call returned `false` because `src` is required.\n\t\t *\n\t\t * **Note:** The `test` argument is of {@link CKEDITOR.filter.contentRule} type, which is\n\t\t * a limited version of {@link CKEDITOR.filter.allowedContentRules}. Read more about it\n\t\t * in the {@link CKEDITOR.filter.contentRule}'s documentation.\n\t\t *\n\t\t * @param {CKEDITOR.filter.contentRule} test\n\t\t * @param {Boolean} [applyTransformations=true] Whether to use registered transformations.\n\t\t * @param {Boolean} [strictCheck] Whether the filter should check if an element with exactly\n\t\t * these properties is allowed.\n\t\t * @returns {Boolean} Returns `true` if the content is allowed.\n\t\t */\n\t\tcheck: function( test, applyTransformations, strictCheck ) {\n\t\t\tif ( this.disabled )\n\t\t\t\treturn true;\n\n\t\t\t// If rules are an array, expand it and return the logical OR value of\n\t\t\t// the rules.\n\t\t\tif ( CKEDITOR.tools.isArray( test ) ) {\n\t\t\t\tfor ( var i = test.length ; i-- ; ) {\n\t\t\t\t\tif ( this.check( test[ i ], applyTransformations, strictCheck ) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar element, result, cacheKey;\n\n\t\t\tif ( typeof test == 'string' ) {\n\t\t\t\tcacheKey = test + '<' + ( applyTransformations === false ? '0' : '1' ) + ( strictCheck ? '1' : '0' ) + '>';\n\n\t\t\t\t// Check if result of this check hasn't been already cached.\n\t\t\t\tif ( cacheKey in this._.cachedChecks )\n\t\t\t\t\treturn this._.cachedChecks[ cacheKey ];\n\n\t\t\t\t// Create test element from string.\n\t\t\t\telement = mockElementFromString( test );\n\t\t\t} else {\n\t\t\t\t// Create test element from CKEDITOR.style.\n\t\t\t\telement = mockElementFromStyle( test );\n\t\t\t}\n\n\t\t\t// Make a deep copy.\n\t\t\tvar clone = CKEDITOR.tools.clone( element ),\n\t\t\t\ttoBeRemoved = [],\n\t\t\t\ttransformations;\n\n\t\t\t// Apply transformations to original element.\n\t\t\t// Transformations will be applied to clone by the filter function.\n\t\t\tif ( applyTransformations !== false && ( transformations = this._.transformations[ element.name ] ) ) {\n\t\t\t\tfor ( i = 0; i < transformations.length; ++i )\n\t\t\t\t\tapplyTransformationsGroup( this, element, transformations[ i ] );\n\n\t\t\t\t// Transformations could modify styles or classes, so they need to be copied\n\t\t\t\t// to attributes object.\n\t\t\t\tupdateAttributes( element );\n\t\t\t}\n\n\t\t\t// Filter clone of mocked element.\n\t\t\tprocessElement( this, clone, toBeRemoved, {\n\t\t\t\tdoFilter: true,\n\t\t\t\tdoTransform: applyTransformations !== false,\n\t\t\t\tskipRequired: !strictCheck,\n\t\t\t\tskipFinalValidation: !strictCheck\n\t\t\t} );\n\n\t\t\t// Element has been marked for removal.\n\t\t\tif ( toBeRemoved.length > 0 ) {\n\t\t\t\tresult = false;\n\t\t\t// Compare only left to right, because clone may be only trimmed version of original element.\n\t\t\t} else if ( !CKEDITOR.tools.objectCompare( element.attributes, clone.attributes, true ) ) {\n\t\t\t\tresult = false;\n\t\t\t} else {\n\t\t\t\tresult = true;\n\t\t\t}\n\n\t\t\t// Cache result of this test - we can build cache only for string tests.\n\t\t\tif ( typeof test == 'string' )\n\t\t\t\tthis._.cachedChecks[ cacheKey ] = result;\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Returns first enter mode allowed by this filter rules. Modes are checked in `p`, `div`, `br` order.\n\t\t * If none of tags is allowed this method will return {@link CKEDITOR#ENTER_BR}.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {Number} defaultMode The default mode which will be checked as the first one.\n\t\t * @param {Boolean} [reverse] Whether to check modes in reverse order (used for shift enter mode).\n\t\t * @returns {Number} Allowed enter mode.\n\t\t */\n\t\tgetAllowedEnterMode: ( function() {\n\t\t\tvar tagsToCheck = [ 'p', 'div', 'br' ],\n\t\t\t\tenterModes = {\n\t\t\t\t\tp: CKEDITOR.ENTER_P,\n\t\t\t\t\tdiv: CKEDITOR.ENTER_DIV,\n\t\t\t\t\tbr: CKEDITOR.ENTER_BR\n\t\t\t\t};\n\n\t\t\treturn function( defaultMode, reverse ) {\n\t\t\t\t// Clone the array first.\n\t\t\t\tvar tags = tagsToCheck.slice(),\n\t\t\t\t\ttag;\n\n\t\t\t\t// Check the default mode first.\n\t\t\t\tif ( this.check( enterModeTags[ defaultMode ] ) )\n\t\t\t\t\treturn defaultMode;\n\n\t\t\t\t// If not reverse order, reverse array so we can pop() from it.\n\t\t\t\tif ( !reverse )\n\t\t\t\t\ttags = tags.reverse();\n\n\t\t\t\twhile ( ( tag = tags.pop() ) ) {\n\t\t\t\t\tif ( this.check( tag ) )\n\t\t\t\t\t\treturn enterModes[ tag ];\n\t\t\t\t}\n\n\t\t\t\treturn CKEDITOR.ENTER_BR;\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Destroys the filter instance and removes it from the global {@link CKEDITOR.filter#instances} object.\n\t\t *\n\t\t * @since 4.4.5\n\t\t */\n\t\tdestroy: function() {\n\t\t\tdelete CKEDITOR.filter.instances[ this.id ];\n\t\t\t// Deleting reference to filter instance should be enough,\n\t\t\t// but since these are big objects it's safe to clean them up too.\n\t\t\tdelete this._;\n\t\t\tdelete this.allowedContent;\n\t\t\tdelete this.disallowedContent;\n\t\t}\n\t};\n\n\tfunction addAndOptimizeRules( that, newRules, featureName, standardizedRules, optimizedRules ) {\n\t\tvar groupName, rule,\n\t\t\trulesToOptimize = [];\n\n\t\tfor ( groupName in newRules ) {\n\t\t\trule = newRules[ groupName ];\n\n\t\t\t// { 'p h1': true } => { 'p h1': {} }.\n\t\t\tif ( typeof rule == 'boolean' )\n\t\t\t\trule = {};\n\t\t\t// { 'p h1': func } => { 'p h1': { match: func } }.\n\t\t\telse if ( typeof rule == 'function' )\n\t\t\t\trule = { match: rule };\n\t\t\t// Clone (shallow) rule, because we'll modify it later.\n\t\t\telse\n\t\t\t\trule = copy( rule );\n\n\t\t\t// If this is not an unnamed rule ({ '$1' => { ... } })\n\t\t\t// move elements list to property.\n\t\t\tif ( groupName.charAt( 0 ) != '$' )\n\t\t\t\trule.elements = groupName;\n\n\t\t\tif ( featureName )\n\t\t\t\trule.featureName = featureName.toLowerCase();\n\n\t\t\tstandardizeRule( rule );\n\n\t\t\t// Save rule and remember to optimize it.\n\t\t\tstandardizedRules.push( rule );\n\t\t\trulesToOptimize.push( rule );\n\t\t}\n\n\t\toptimizeRules( optimizedRules, rulesToOptimize );\n\t}\n\n\t// Apply ACR to an element.\n\t// @param rule\n\t// @param element\n\t// @param status Object containing status of element's filtering.\n\t// @param {Boolean} skipRequired If true don't check if element has all required properties.\n\tfunction applyAllowedRule( rule, element, status, skipRequired ) {\n\t\t// This rule doesn't match this element - skip it.\n\t\tif ( rule.match && !rule.match( element ) )\n\t\t\treturn;\n\n\t\t// If element doesn't have all required styles/attrs/classes\n\t\t// this rule doesn't match it.\n\t\tif ( !skipRequired && !hasAllRequired( rule, element ) )\n\t\t\treturn;\n\n\t\t// If this rule doesn't validate properties only mark element as valid.\n\t\tif ( !rule.propertiesOnly )\n\t\t\tstatus.valid = true;\n\n\t\t// Apply rule only when all attrs/styles/classes haven't been marked as valid.\n\t\tif ( !status.allAttributes )\n\t\t\tstatus.allAttributes = applyAllowedRuleToHash( rule.attributes, element.attributes, status.validAttributes );\n\n\t\tif ( !status.allStyles )\n\t\t\tstatus.allStyles = applyAllowedRuleToHash( rule.styles, element.styles, status.validStyles );\n\n\t\tif ( !status.allClasses )\n\t\t\tstatus.allClasses = applyAllowedRuleToArray( rule.classes, element.classes, status.validClasses );\n\t}\n\n\t// Apply itemsRule to items (only classes are kept in array).\n\t// Push accepted items to validItems array.\n\t// Return true when all items are valid.\n\tfunction applyAllowedRuleToArray( itemsRule, items, validItems ) {\n\t\tif ( !itemsRule )\n\t\t\treturn false;\n\n\t\t// True means that all elements of array are accepted (the asterix was used for classes).\n\t\tif ( itemsRule === true )\n\t\t\treturn true;\n\n\t\tfor ( var i = 0, l = items.length, item; i < l; ++i ) {\n\t\t\titem = items[ i ];\n\t\t\tif ( !validItems[ item ] )\n\t\t\t\tvalidItems[ item ] = itemsRule( item );\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction applyAllowedRuleToHash( itemsRule, items, validItems ) {\n\t\tif ( !itemsRule )\n\t\t\treturn false;\n\n\t\tif ( itemsRule === true )\n\t\t\treturn true;\n\n\t\tfor ( var name in items ) {\n\t\t\tif ( !validItems[ name ] )\n\t\t\t\tvalidItems[ name ] = itemsRule( name );\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Apply DACR rule to an element.\n\tfunction applyDisallowedRule( rule, element, status ) {\n\t\t// This rule doesn't match this element - skip it.\n\t\tif ( rule.match && !rule.match( element ) )\n\t\t\treturn;\n\n\t\t// No properties - it's an element only rule so it disallows entire element.\n\t\t// Early return is handled in filterElement.\n\t\tif ( rule.noProperties )\n\t\t\treturn false;\n\n\t\t// Apply rule to attributes, styles and classes. Switch hadInvalid* to true if method returned true.\n\t\tstatus.hadInvalidAttribute = applyDisallowedRuleToHash( rule.attributes, element.attributes ) || status.hadInvalidAttribute;\n\t\tstatus.hadInvalidStyle = applyDisallowedRuleToHash( rule.styles, element.styles ) || status.hadInvalidStyle;\n\t\tstatus.hadInvalidClass = applyDisallowedRuleToArray( rule.classes, element.classes ) || status.hadInvalidClass;\n\t}\n\n\t// Apply DACR to items (only classes are kept in array).\n\t// @returns {Boolean} True if at least one of items was invalid (disallowed).\n\tfunction applyDisallowedRuleToArray( itemsRule, items ) {\n\t\tif ( !itemsRule )\n\t\t\treturn false;\n\n\t\tvar hadInvalid = false,\n\t\t\tallDisallowed = itemsRule === true;\n\n\t\tfor ( var i = items.length; i--; ) {\n\t\t\tif ( allDisallowed || itemsRule( items[ i ] ) ) {\n\t\t\t\titems.splice( i, 1 );\n\t\t\t\thadInvalid = true;\n\t\t\t}\n\t\t}\n\n\t\treturn hadInvalid;\n\t}\n\n\t// Apply DACR to items (styles and attributes).\n\t// @returns {Boolean} True if at least one of items was invalid (disallowed).\n\tfunction applyDisallowedRuleToHash( itemsRule, items ) {\n\t\tif ( !itemsRule )\n\t\t\treturn false;\n\n\t\tvar hadInvalid = false,\n\t\t\tallDisallowed = itemsRule === true;\n\n\t\tfor ( var name in items ) {\n\t\t\tif ( allDisallowed || itemsRule( name ) ) {\n\t\t\t\tdelete items[ name ];\n\t\t\t\thadInvalid = true;\n\t\t\t}\n\t\t}\n\n\t\treturn hadInvalid;\n\t}\n\n\tfunction beforeAddingRule( that, newRules, overrideCustom ) {\n\t\tif ( that.disabled )\n\t\t\treturn false;\n\n\t\t// Don't override custom user's configuration if not explicitly requested.\n\t\tif ( that.customConfig && !overrideCustom )\n\t\t\treturn false;\n\n\t\tif ( !newRules )\n\t\t\treturn false;\n\n\t\t// Clear cache, because new rules could change results of checks.\n\t\tthat._.cachedChecks = {};\n\n\t\treturn true;\n\t}\n\n\t// Convert CKEDITOR.style to filter's rule.\n\tfunction convertStyleToRules( style ) {\n\t\tvar styleDef = style.getDefinition(),\n\t\t\trules = {},\n\t\t\trule,\n\t\t\tattrs = styleDef.attributes;\n\n\t\trules[ styleDef.element ] = rule = {\n\t\t\tstyles: styleDef.styles,\n\t\t\trequiredStyles: styleDef.styles && CKEDITOR.tools.objectKeys( styleDef.styles )\n\t\t};\n\n\t\tif ( attrs ) {\n\t\t\tattrs = copy( attrs );\n\t\t\trule.classes = attrs[ 'class' ] ? attrs[ 'class' ].split( /\\s+/ ) : null;\n\t\t\trule.requiredClasses = rule.classes;\n\t\t\tdelete attrs[ 'class' ];\n\t\t\trule.attributes = attrs;\n\t\t\trule.requiredAttributes = attrs && CKEDITOR.tools.objectKeys( attrs );\n\t\t}\n\n\t\treturn rules;\n\t}\n\n\t// Convert all validator formats (string, array, object, boolean) to hash or boolean:\n\t// * true is returned for '*'/true validator,\n\t// * false is returned for empty validator (no validator at all (false/null) or e.g. empty array),\n\t// * object is returned in other cases.\n\tfunction convertValidatorToHash( validator, delimiter ) {\n\t\tif ( !validator )\n\t\t\treturn false;\n\n\t\tif ( validator === true )\n\t\t\treturn validator;\n\n\t\tif ( typeof validator == 'string' ) {\n\t\t\tvalidator = trim( validator );\n\t\t\tif ( validator == '*' )\n\t\t\t\treturn true;\n\t\t\telse\n\t\t\t\treturn CKEDITOR.tools.convertArrayToObject( validator.split( delimiter ) );\n\t\t}\n\t\telse if ( CKEDITOR.tools.isArray( validator ) ) {\n\t\t\tif ( validator.length )\n\t\t\t\treturn CKEDITOR.tools.convertArrayToObject( validator );\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\t// If object.\n\t\telse {\n\t\t\tvar obj = {},\n\t\t\t\tlen = 0;\n\n\t\t\tfor ( var i in validator ) {\n\t\t\t\tobj[ i ] = validator[ i ];\n\t\t\t\tlen++;\n\t\t\t}\n\n\t\t\treturn len ? obj : false;\n\t\t}\n\t}\n\n\tfunction executeElementCallbacks( element, callbacks ) {\n\t\tfor ( var i = 0, l = callbacks.length, retVal; i < l; ++i ) {\n\t\t\tif ( ( retVal = callbacks[ i ]( element ) ) )\n\t\t\t\treturn retVal;\n\t\t}\n\t}\n\n\t// Extract required properties from \"required\" validator and \"all\" properties.\n\t// Remove exclamation marks from \"all\" properties.\n\t//\n\t// E.g.:\n\t// requiredClasses = { cl1: true }\n\t// (all) classes = { cl1: true, cl2: true, '!cl3': true }\n\t//\n\t// result:\n\t// returned = { cl1: true, cl3: true }\n\t// all = { cl1: true, cl2: true, cl3: true }\n\t//\n\t// This function returns false if nothing is required.\n\tfunction extractRequired( required, all ) {\n\t\tvar unbang = [],\n\t\t\tempty = true,\n\t\t\ti;\n\n\t\tif ( required )\n\t\t\tempty = false;\n\t\telse\n\t\t\trequired = {};\n\n\t\tfor ( i in all ) {\n\t\t\tif ( i.charAt( 0 ) == '!' ) {\n\t\t\t\ti = i.slice( 1 );\n\t\t\t\tunbang.push( i );\n\t\t\t\trequired[ i ] = true;\n\t\t\t\tempty = false;\n\t\t\t}\n\t\t}\n\n\t\twhile ( ( i = unbang.pop() ) ) {\n\t\t\tall[ i ] = all[ '!' + i ];\n\t\t\tdelete all[ '!' + i ];\n\t\t}\n\n\t\treturn empty ? false : required;\n\t}\n\n\t// Does the actual filtering by appling allowed content rules\n\t// to the element.\n\t//\n\t// @param {CKEDITOR.filter} that The context.\n\t// @param {CKEDITOR.htmlParser.element} element\n\t// @param {Object} opts The same as in processElement.\n\tfunction filterElement( that, element, opts ) {\n\t\tvar name = element.name,\n\t\t\tprivObj = that._,\n\t\t\tallowedRules = privObj.allowedRules.elements[ name ],\n\t\t\tgenericAllowedRules = privObj.allowedRules.generic,\n\t\t\tdisallowedRules = privObj.disallowedRules.elements[ name ],\n\t\t\tgenericDisallowedRules = privObj.disallowedRules.generic,\n\t\t\tskipRequired = opts.skipRequired,\n\t\t\tstatus = {\n\t\t\t\t// Whether any of rules accepted element.\n\t\t\t\t// If not - it will be stripped.\n\t\t\t\tvalid: false,\n\t\t\t\t// Objects containing accepted attributes, classes and styles.\n\t\t\t\tvalidAttributes: {},\n\t\t\t\tvalidClasses: {},\n\t\t\t\tvalidStyles: {},\n\t\t\t\t// Whether all are valid.\n\t\t\t\t// If we know that all element's attrs/classes/styles are valid\n\t\t\t\t// we can skip their validation, to improve performance.\n\t\t\t\tallAttributes: false,\n\t\t\t\tallClasses: false,\n\t\t\t\tallStyles: false,\n\t\t\t\t// Whether element had (before applying DACRs) at least one invalid attribute/class/style.\n\t\t\t\thadInvalidAttribute: false,\n\t\t\t\thadInvalidClass: false,\n\t\t\t\thadInvalidStyle: false\n\t\t\t},\n\t\t\ti, l;\n\n\t\t// Early return - if there are no rules for this element (specific or generic), remove it.\n\t\tif ( !allowedRules && !genericAllowedRules )\n\t\t\treturn null;\n\n\t\t// Could not be done yet if there were no transformations and if this\n\t\t// is real (not mocked) object.\n\t\tpopulateProperties( element );\n\n\t\t// Note - this step modifies element's styles, classes and attributes.\n\t\tif ( disallowedRules ) {\n\t\t\tfor ( i = 0, l = disallowedRules.length; i < l; ++i ) {\n\t\t\t\t// Apply rule and make an early return if false is returned what means\n\t\t\t\t// that element is completely disallowed.\n\t\t\t\tif ( applyDisallowedRule( disallowedRules[ i ], element, status ) === false )\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// Note - this step modifies element's styles, classes and attributes.\n\t\tif ( genericDisallowedRules ) {\n\t\t\tfor ( i = 0, l = genericDisallowedRules.length; i < l; ++i )\n\t\t\t\tapplyDisallowedRule( genericDisallowedRules[ i ], element, status );\n\t\t}\n\n\t\tif ( allowedRules ) {\n\t\t\tfor ( i = 0, l = allowedRules.length; i < l; ++i )\n\t\t\t\tapplyAllowedRule( allowedRules[ i ], element, status, skipRequired );\n\t\t}\n\n\t\tif ( genericAllowedRules ) {\n\t\t\tfor ( i = 0, l = genericAllowedRules.length; i < l; ++i )\n\t\t\t\tapplyAllowedRule( genericAllowedRules[ i ], element, status, skipRequired );\n\t\t}\n\n\t\treturn status;\n\t}\n\n\t// Check whether element has all properties (styles,classes,attrs) required by a rule.\n\tfunction hasAllRequired( rule, element ) {\n\t\tif ( rule.nothingRequired )\n\t\t\treturn true;\n\n\t\tvar i, req, reqs, existing;\n\n\t\tif ( ( reqs = rule.requiredClasses ) ) {\n\t\t\texisting = element.classes;\n\t\t\tfor ( i = 0; i < reqs.length; ++i ) {\n\t\t\t\treq = reqs[ i ];\n\t\t\t\tif ( typeof req == 'string' ) {\n\t\t\t\t\tif ( CKEDITOR.tools.indexOf( existing, req ) == -1 )\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// This means regexp.\n\t\t\t\telse {\n\t\t\t\t\tif ( !CKEDITOR.tools.checkIfAnyArrayItemMatches( existing, req ) )\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn hasAllRequiredInHash( element.styles, rule.requiredStyles ) &&\n\t\t\thasAllRequiredInHash( element.attributes, rule.requiredAttributes );\n\t}\n\n\t// Check whether all items in required (array) exist in existing (object).\n\tfunction hasAllRequiredInHash( existing, required ) {\n\t\tif ( !required )\n\t\t\treturn true;\n\n\t\tfor ( var i = 0, req; i < required.length; ++i ) {\n\t\t\treq = required[ i ];\n\t\t\tif ( typeof req == 'string' ) {\n\t\t\t\tif ( !( req in existing ) )\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// This means regexp.\n\t\t\telse {\n\t\t\t\tif ( !CKEDITOR.tools.checkIfAnyObjectPropertyMatches( existing, req ) )\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t// Create pseudo element that will be passed through filter\n\t// to check if tested string is allowed.\n\tfunction mockElementFromString( str ) {\n\t\tvar element = parseRulesString( str ).$1,\n\t\t\tstyles = element.styles,\n\t\t\tclasses = element.classes;\n\n\t\telement.name = element.elements;\n\t\telement.classes = classes = ( classes ? classes.split( /\\s*,\\s*/ ) : [] );\n\t\telement.styles = mockHash( styles );\n\t\telement.attributes = mockHash( element.attributes );\n\t\telement.children = [];\n\n\t\tif ( classes.length )\n\t\t\telement.attributes[ 'class' ] = classes.join( ' ' );\n\t\tif ( styles )\n\t\t\telement.attributes.style = CKEDITOR.tools.writeCssText( element.styles );\n\n\t\treturn element;\n\t}\n\n\t// Create pseudo element that will be passed through filter\n\t// to check if tested style is allowed.\n\tfunction mockElementFromStyle( style ) {\n\t\tvar styleDef = style.getDefinition(),\n\t\t\tstyles = styleDef.styles,\n\t\t\tattrs = styleDef.attributes || {};\n\n\t\tif ( styles && !CKEDITOR.tools.isEmpty( styles ) ) {\n\t\t\tstyles = copy( styles );\n\t\t\tattrs.style = CKEDITOR.tools.writeCssText( styles, true );\n\t\t} else {\n\t\t\tstyles = {};\n\t\t}\n\n\t\treturn {\n\t\t\tname: styleDef.element,\n\t\t\tattributes: attrs,\n\t\t\tclasses: attrs[ 'class' ] ? attrs[ 'class' ].split( /\\s+/ ) : [],\n\t\t\tstyles: styles,\n\t\t\tchildren: []\n\t\t};\n\t}\n\n\t// Mock hash based on string.\n\t// 'a,b,c' => { a: 'cke-test', b: 'cke-test', c: 'cke-test' }\n\t// Used to mock styles and attributes objects.\n\tfunction mockHash( str ) {\n\t\t// It may be a null or empty string.\n\t\tif ( !str )\n\t\t\treturn {};\n\n\t\tvar keys = str.split( /\\s*,\\s*/ ).sort(),\n\t\t\tobj = {};\n\n\t\twhile ( keys.length )\n\t\t\tobj[ keys.shift() ] = TEST_VALUE;\n\n\t\treturn obj;\n\t}\n\n\t// Extract properties names from the object\n\t// and replace those containing wildcards with regexps.\n\t// Note: there's a room for performance improvement. Array of mixed types\n\t// breaks JIT-compiler optiomization what may invalidate compilation of pretty a lot of code.\n\t//\n\t// @returns An array of strings and regexps.\n\tfunction optimizeRequiredProperties( requiredProperties ) {\n\t\tvar arr = [];\n\t\tfor ( var propertyName in requiredProperties ) {\n\t\t\tif ( propertyName.indexOf( '*' ) > -1 )\n\t\t\t\tarr.push( new RegExp( '^' + propertyName.replace( /\\*/g, '.*' ) + '$' ) );\n\t\t\telse\n\t\t\t\tarr.push( propertyName );\n\t\t}\n\t\treturn arr;\n\t}\n\n\tvar validators = { styles: 1, attributes: 1, classes: 1 },\n\t\tvalidatorsRequired = {\n\t\t\tstyles: 'requiredStyles',\n\t\t\tattributes: 'requiredAttributes',\n\t\t\tclasses: 'requiredClasses'\n\t\t};\n\n\t// Optimize a rule by replacing validators with functions\n\t// and rewriting requiredXXX validators to arrays.\n\tfunction optimizeRule( rule ) {\n\t\tvar validatorName,\n\t\t\trequiredProperties,\n\t\t\ti;\n\n\t\tfor ( validatorName in validators )\n\t\t\trule[ validatorName ] = validatorFunction( rule[ validatorName ] );\n\n\t\tvar nothingRequired = true;\n\t\tfor ( i in validatorsRequired ) {\n\t\t\tvalidatorName = validatorsRequired[ i ];\n\t\t\trequiredProperties = optimizeRequiredProperties( rule[ validatorName ] );\n\t\t\t// Don't set anything if there are no required properties. This will allow to\n\t\t\t// save some memory by GCing all empty arrays (requiredProperties).\n\t\t\tif ( requiredProperties.length ) {\n\t\t\t\trule[ validatorName ] = requiredProperties;\n\t\t\t\tnothingRequired = false;\n\t\t\t}\n\t\t}\n\n\t\trule.nothingRequired = nothingRequired;\n\t\trule.noProperties = !( rule.attributes || rule.classes || rule.styles );\n\t}\n\n\t// Add optimized version of rule to optimizedRules object.\n\tfunction optimizeRules( optimizedRules, rules ) {\n\t\tvar elementsRules = optimizedRules.elements,\n\t\t\tgenericRules = optimizedRules.generic,\n\t\t\ti, l, rule, element, priority;\n\n\t\tfor ( i = 0, l = rules.length; i < l; ++i ) {\n\t\t\t// Shallow copy. Do not modify original rule.\n\t\t\trule = copy( rules[ i ] );\n\t\t\tpriority = rule.classes === true || rule.styles === true || rule.attributes === true;\n\t\t\toptimizeRule( rule );\n\n\t\t\t// E.g. \"*(xxx)[xxx]\" - it's a generic rule that\n\t\t\t// validates properties only.\n\t\t\t// Or '$1': { match: function() {...} }\n\t\t\tif ( rule.elements === true || rule.elements === null ) {\n\t\t\t\t// Add priority rules at the beginning.\n\t\t\t\tgenericRules[ priority ? 'unshift' : 'push' ]( rule );\n\t\t\t}\n\t\t\t// If elements list was explicitly defined,\n\t\t\t// add this rule for every defined element.\n\t\t\telse {\n\t\t\t\t// We don't need elements validator for this kind of rule.\n\t\t\t\tvar elements = rule.elements;\n\t\t\t\tdelete rule.elements;\n\n\t\t\t\tfor ( element in elements ) {\n\t\t\t\t\tif ( !elementsRules[ element ] )\n\t\t\t\t\t\telementsRules[ element ] = [ rule ];\n\t\t\t\t\telse\n\t\t\t\t\t\telementsRules[ element ][ priority ? 'unshift' : 'push' ]( rule );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//                  <   elements   ><                       styles, attributes and classes                        >< separator >\n\tvar rulePattern = /^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,\n\t\tgroupsPatterns = {\n\t\t\tstyles: /{([^}]+)}/,\n\t\t\tattrs: /\\[([^\\]]+)\\]/,\n\t\t\tclasses: /\\(([^\\)]+)\\)/\n\t\t};\n\n\tfunction parseRulesString( input ) {\n\t\tvar match,\n\t\t\tprops, styles, attrs, classes,\n\t\t\trules = {},\n\t\t\tgroupNum = 1;\n\n\t\tinput = trim( input );\n\n\t\twhile ( ( match = input.match( rulePattern ) ) ) {\n\t\t\tif ( ( props = match[ 2 ] ) ) {\n\t\t\t\tstyles = parseProperties( props, 'styles' );\n\t\t\t\tattrs = parseProperties( props, 'attrs' );\n\t\t\t\tclasses = parseProperties( props, 'classes' );\n\t\t\t} else {\n\t\t\t\tstyles = attrs = classes = null;\n\t\t\t}\n\n\t\t\t// Add as an unnamed rule, because there can be two rules\n\t\t\t// for one elements set defined in string format.\n\t\t\trules[ '$' + groupNum++ ] = {\n\t\t\t\telements: match[ 1 ],\n\t\t\t\tclasses: classes,\n\t\t\t\tstyles: styles,\n\t\t\t\tattributes: attrs\n\t\t\t};\n\n\t\t\t// Move to the next group.\n\t\t\tinput = input.slice( match[ 0 ].length );\n\t\t}\n\n\t\treturn rules;\n\t}\n\n\t// Extract specified properties group (styles, attrs, classes) from\n\t// what stands after the elements list in string format of allowedContent.\n\tfunction parseProperties( properties, groupName ) {\n\t\tvar group = properties.match( groupsPatterns[ groupName ] );\n\t\treturn group ? trim( group[ 1 ] ) : null;\n\t}\n\n\tfunction populateProperties( element ) {\n\t\t\t// Backup styles and classes, because they may be removed by DACRs.\n\t\t\t// We'll need them in updateElement().\n\t\tvar styles = element.styleBackup = element.attributes.style,\n\t\t\tclasses = element.classBackup = element.attributes[ 'class' ];\n\n\t\t// Parse classes and styles if that hasn't been done before.\n\t\tif ( !element.styles )\n\t\t\telement.styles = CKEDITOR.tools.parseCssText( styles || '', 1 );\n\t\tif ( !element.classes )\n\t\t\telement.classes = classes ? classes.split( /\\s+/ ) : [];\n\t}\n\n\t// Filter element protected with a comment.\n\t// Returns true if protected content is ok, false otherwise.\n\tfunction processProtectedElement( that, comment, protectedRegexs, filterOpts ) {\n\t\tvar source = decodeURIComponent( comment.value.replace( /^\\{cke_protected\\}/, '' ) ),\n\t\t\tprotectedFrag,\n\t\t\ttoBeRemoved = [],\n\t\t\tnode, i, match;\n\n\t\t// Protected element's and protected source's comments look exactly the same.\n\t\t// Check if what we have isn't a protected source instead of protected script/noscript.\n\t\tif ( protectedRegexs ) {\n\t\t\tfor ( i = 0; i < protectedRegexs.length; ++i ) {\n\t\t\t\tif ( ( match = source.match( protectedRegexs[ i ] ) ) &&\n\t\t\t\t\tmatch[ 0 ].length == source.length\t// Check whether this pattern matches entire source\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// to avoid '<script>alert(\"<? 1 ?>\")</script>' matching\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// the PHP's protectedSource regexp.\n\t\t\t\t)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tprotectedFrag = CKEDITOR.htmlParser.fragment.fromHtml( source );\n\n\t\tif ( protectedFrag.children.length == 1 && ( node = protectedFrag.children[ 0 ] ).type == CKEDITOR.NODE_ELEMENT )\n\t\t\tprocessElement( that, node, toBeRemoved, filterOpts );\n\n\t\t// If protected element has been marked to be removed, return 'false' - comment was rejected.\n\t\treturn !toBeRemoved.length;\n\t}\n\n\tvar unprotectElementsNamesRegexp = /^cke:(object|embed|param)$/,\n\t\tprotectElementsNamesRegexp = /^(object|embed|param)$/;\n\n\t// The actual function which filters, transforms and does other funny things with an element.\n\t//\n\t// @param {CKEDITOR.filter} that Context.\n\t// @param {CKEDITOR.htmlParser.element} element The element to be processed.\n\t// @param {Array} toBeRemoved Array into which elements rejected by the filter will be pushed.\n\t// @param {Boolean} [opts.doFilter] Whether element should be filtered.\n\t// @param {Boolean} [opts.doTransform] Whether transformations should be applied.\n\t// @param {Boolean} [opts.doCallbacks] Whether to execute element callbacks.\n\t// @param {Boolean} [opts.toHtml] Set to true if filter used together with htmlDP#toHtml\n\t// @param {Boolean} [opts.skipRequired] Whether element's required properties shouldn't be verified.\n\t// @param {Boolean} [opts.skipFinalValidation] Whether to not perform final element validation (a,img).\n\t// @returns {Number} Possible flags:\n\t//  * FILTER_ELEMENT_MODIFIED,\n\t//  * FILTER_SKIP_TREE.\n\tfunction processElement( that, element, toBeRemoved, opts ) {\n\t\tvar status,\n\t\t\tretVal = 0,\n\t\t\tcallbacksRetVal;\n\n\t\t// Unprotect elements names previously protected by htmlDataProcessor\n\t\t// (see protectElementNames and protectSelfClosingElements functions).\n\t\t// Note: body, title, etc. are not protected by htmlDataP (or are protected and then unprotected).\n\t\tif ( opts.toHtml )\n\t\t\telement.name = element.name.replace( unprotectElementsNamesRegexp, '$1' );\n\n\t\t// Execute element callbacks and return if one of them returned any value.\n\t\tif ( opts.doCallbacks && that.elementCallbacks ) {\n\t\t\t// For now we only support here FILTER_SKIP_TREE, so we can early return if retVal is truly value.\n\t\t\tif ( ( callbacksRetVal = executeElementCallbacks( element, that.elementCallbacks ) ) )\n\t\t\t\treturn callbacksRetVal;\n\t\t}\n\n\t\t// If transformations are set apply all groups.\n\t\tif ( opts.doTransform )\n\t\t\ttransformElement( that, element );\n\n\t\tif ( opts.doFilter ) {\n\t\t\t// Apply all filters.\n\t\t\tstatus = filterElement( that, element, opts );\n\n\t\t\t// Handle early return from filterElement.\n\t\t\tif ( !status ) {\n\t\t\t\ttoBeRemoved.push( element );\n\t\t\t\treturn FILTER_ELEMENT_MODIFIED;\n\t\t\t}\n\n\t\t\t// Finally, if after running all filter rules it still hasn't been allowed - remove it.\n\t\t\tif ( !status.valid ) {\n\t\t\t\ttoBeRemoved.push( element );\n\t\t\t\treturn FILTER_ELEMENT_MODIFIED;\n\t\t\t}\n\n\t\t\t// Update element's attributes based on status of filtering.\n\t\t\tif ( updateElement( element, status ) )\n\t\t\t\tretVal = FILTER_ELEMENT_MODIFIED;\n\n\t\t\tif ( !opts.skipFinalValidation && !validateElement( element ) ) {\n\t\t\t\ttoBeRemoved.push( element );\n\t\t\t\treturn FILTER_ELEMENT_MODIFIED;\n\t\t\t}\n\t\t}\n\n\t\t// Protect previously unprotected elements.\n\t\tif ( opts.toHtml )\n\t\t\telement.name = element.name.replace( protectElementsNamesRegexp, 'cke:$1' );\n\n\t\treturn retVal;\n\t}\n\n\t// Returns a regexp object which can be used to test if a property\n\t// matches one of wildcard validators.\n\tfunction regexifyPropertiesWithWildcards( validators ) {\n\t\tvar patterns = [],\n\t\t\ti;\n\n\t\tfor ( i in validators ) {\n\t\t\tif ( i.indexOf( '*' ) > -1 )\n\t\t\t\tpatterns.push( i.replace( /\\*/g, '.*' ) );\n\t\t}\n\n\t\tif ( patterns.length )\n\t\t\treturn new RegExp( '^(?:' + patterns.join( '|' ) + ')$' );\n\t\telse\n\t\t\treturn null;\n\t}\n\n\t// Standardize a rule by converting all validators to hashes.\n\tfunction standardizeRule( rule ) {\n\t\trule.elements = convertValidatorToHash( rule.elements, /\\s+/ ) || null;\n\t\trule.propertiesOnly = rule.propertiesOnly || ( rule.elements === true );\n\n\t\tvar delim = /\\s*,\\s*/,\n\t\t\ti;\n\n\t\tfor ( i in validators ) {\n\t\t\trule[ i ] = convertValidatorToHash( rule[ i ], delim ) || null;\n\t\t\trule[ validatorsRequired[ i ] ] = extractRequired( convertValidatorToHash(\n\t\t\t\trule[ validatorsRequired[ i ] ], delim ), rule[ i ] ) || null;\n\t\t}\n\n\t\trule.match = rule.match || null;\n\t}\n\n\t// Does the element transformation by applying registered\n\t// transformation rules.\n\tfunction transformElement( that, element ) {\n\t\tvar transformations = that._.transformations[ element.name ],\n\t\t\ti;\n\n\t\tif ( !transformations )\n\t\t\treturn;\n\n\t\tpopulateProperties( element );\n\n\t\tfor ( i = 0; i < transformations.length; ++i )\n\t\t\tapplyTransformationsGroup( that, element, transformations[ i ] );\n\n\t\t// Do not count on updateElement() which is called in processElement, because it:\n\t\t// * may not be called,\n\t\t// * may skip some properties when all are marked as valid.\n\t\tupdateAttributes( element );\n\t}\n\n\t// Copy element's styles and classes back to attributes array.\n\tfunction updateAttributes( element ) {\n\t\tvar attrs = element.attributes,\n\t\t\tstyles;\n\n\t\t// Will be recreated later if any of styles/classes exists.\n\t\tdelete attrs.style;\n\t\tdelete attrs[ 'class' ];\n\n\t\tif ( ( styles = CKEDITOR.tools.writeCssText( element.styles, true ) ) )\n\t\t\tattrs.style = styles;\n\n\t\tif ( element.classes.length )\n\t\t\tattrs[ 'class' ] = element.classes.sort().join( ' ' );\n\t}\n\n\t// Update element object based on status of filtering.\n\t// @returns Whether element was modified.\n\tfunction updateElement( element, status ) {\n\t\tvar validAttrs = status.validAttributes,\n\t\t\tvalidStyles = status.validStyles,\n\t\t\tvalidClasses = status.validClasses,\n\t\t\tattrs = element.attributes,\n\t\t\tstyles = element.styles,\n\t\t\tclasses = element.classes,\n\t\t\torigClasses = element.classBackup,\n\t\t\torigStyles = element.styleBackup,\n\t\t\tname, origName, i,\n\t\t\tstylesArr = [],\n\t\t\tclassesArr = [],\n\t\t\tinternalAttr = /^data-cke-/,\n\t\t\tisModified = false;\n\n\t\t// Will be recreated later if any of styles/classes were passed.\n\t\tdelete attrs.style;\n\t\tdelete attrs[ 'class' ];\n\t\t// Clean up.\n\t\tdelete element.classBackup;\n\t\tdelete element.styleBackup;\n\n\t\tif ( !status.allAttributes ) {\n\t\t\tfor ( name in attrs ) {\n\t\t\t\t// If not valid and not internal attribute delete it.\n\t\t\t\tif ( !validAttrs[ name ] ) {\n\t\t\t\t\t// Allow all internal attibutes...\n\t\t\t\t\tif ( internalAttr.test( name ) ) {\n\t\t\t\t\t\t// ... unless this is a saved attribute and the original one isn't allowed.\n\t\t\t\t\t\tif ( name != ( origName = name.replace( /^data-cke-saved-/, '' ) ) &&\n\t\t\t\t\t\t\t!validAttrs[ origName ]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdelete attrs[ name ];\n\t\t\t\t\t\t\tisModified = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete attrs[ name ];\n\t\t\t\t\t\tisModified = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tif ( !status.allStyles || status.hadInvalidStyle ) {\n\t\t\tfor ( name in styles ) {\n\t\t\t\t// We check status.allStyles because when there was a '*' ACR and some\n\t\t\t\t// DACR we have now both properties true - status.allStyles and status.hadInvalidStyle.\n\t\t\t\t// However unlike in the case when we only have '*' ACR, in which we can just copy original\n\t\t\t\t// styles, in this case we must copy only those styles which were not removed by DACRs.\n\t\t\t\tif ( status.allStyles || validStyles[ name ] )\n\t\t\t\t\tstylesArr.push( name + ':' + styles[ name ] );\n\t\t\t\telse\n\t\t\t\t\tisModified = true;\n\t\t\t}\n\t\t\tif ( stylesArr.length )\n\t\t\t\tattrs.style = stylesArr.sort().join( '; ' );\n\t\t}\n\t\telse if ( origStyles ) {\n\t\t\tattrs.style = origStyles;\n\t\t}\n\n\t\tif ( !status.allClasses || status.hadInvalidClass ) {\n\t\t\tfor ( i = 0; i < classes.length; ++i ) {\n\t\t\t\t// See comment for styles.\n\t\t\t\tif ( status.allClasses || validClasses[ classes[ i ] ] )\n\t\t\t\t\tclassesArr.push( classes[ i ] );\n\t\t\t}\n\t\t\tif ( classesArr.length )\n\t\t\t\tattrs[ 'class' ] = classesArr.sort().join( ' ' );\n\n\t\t\tif ( origClasses && classesArr.length < origClasses.split( /\\s+/ ).length )\n\t\t\t\tisModified = true;\n\t\t}\n\t\telse if ( origClasses ) {\n\t\t\tattrs[ 'class' ] = origClasses;\n\t\t}\n\n\t\treturn isModified;\n\t}\n\n\tfunction validateElement( element ) {\n\t\tswitch ( element.name ) {\n\t\t\tcase 'a':\n\t\t\t\t// Code borrowed from htmlDataProcessor, so ACF does the same clean up.\n\t\t\t\tif ( !( element.children.length || element.attributes.name || element.attributes.id ) )\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 'img':\n\t\t\t\tif ( !element.attributes.src )\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction validatorFunction( validator ) {\n\t\tif ( !validator )\n\t\t\treturn false;\n\t\tif ( validator === true )\n\t\t\treturn true;\n\n\t\t// Note: We don't need to remove properties with wildcards from the validator object.\n\t\t// E.g. data-* is actually an edge case of /^data-.*$/, so when it's accepted\n\t\t// by `value in validator` it's ok.\n\t\tvar regexp = regexifyPropertiesWithWildcards( validator );\n\n\t\treturn function( value ) {\n\t\t\treturn value in validator || ( regexp && value.match( regexp ) );\n\t\t};\n\t}\n\n\t//\n\t// REMOVE ELEMENT ---------------------------------------------------------\n\t//\n\n\t// Check whether all children will be valid in new context.\n\t// Note: it doesn't verify if text node is valid, because\n\t// new parent should accept them.\n\tfunction checkChildren( children, newParentName ) {\n\t\tvar allowed = DTD[ newParentName ];\n\n\t\tfor ( var i = 0, l = children.length, child; i < l; ++i ) {\n\t\t\tchild = children[ i ];\n\t\t\tif ( child.type == CKEDITOR.NODE_ELEMENT && !allowed[ child.name ] )\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction createBr() {\n\t\treturn new CKEDITOR.htmlParser.element( 'br' );\n\t}\n\n\t// Whether this is an inline element or text.\n\tfunction inlineNode( node ) {\n\t\treturn node.type == CKEDITOR.NODE_TEXT ||\n\t\t\tnode.type == CKEDITOR.NODE_ELEMENT && DTD.$inline[ node.name ];\n\t}\n\n\tfunction isBrOrBlock( node ) {\n\t\treturn node.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t( node.name == 'br' || DTD.$block[ node.name ] );\n\t}\n\n\t// Try to remove element in the best possible way.\n\t//\n\t// @param {Array} toBeChecked After executing this function\n\t// this array will contain elements that should be checked\n\t// because they were marked as potentially:\n\t// * in wrong context (e.g. li in body),\n\t// * empty elements from $removeEmpty,\n\t// * incorrect img/a/other element validated by validateElement().\n\tfunction removeElement( element, enterTag, toBeChecked ) {\n\t\tvar name = element.name;\n\n\t\tif ( DTD.$empty[ name ] || !element.children.length ) {\n\t\t\t// Special case - hr in br mode should be replaced with br, not removed.\n\t\t\tif ( name == 'hr' && enterTag == 'br' )\n\t\t\t\telement.replaceWith( createBr() );\n\t\t\telse {\n\t\t\t\t// Parent might become an empty inline specified in $removeEmpty or empty a[href].\n\t\t\t\tif ( element.parent )\n\t\t\t\t\ttoBeChecked.push( { check: 'it', el: element.parent } );\n\n\t\t\t\telement.remove();\n\t\t\t}\n\t\t} else if ( DTD.$block[ name ] || name == 'tr' ) {\n\t\t\tif ( enterTag == 'br' )\n\t\t\t\tstripBlockBr( element, toBeChecked );\n\t\t\telse\n\t\t\t\tstripBlock( element, enterTag, toBeChecked );\n\t\t}\n\t\t// Special case - elements that may contain CDATA should be removed completely.\n\t\telse if ( name in { style: 1, script: 1 } )\n\t\t\telement.remove();\n\t\t// The rest of inline elements. May also be the last resort\n\t\t// for some special elements.\n\t\telse {\n\t\t\t// Parent might become an empty inline specified in $removeEmpty or empty a[href].\n\t\t\tif ( element.parent )\n\t\t\t\ttoBeChecked.push( { check: 'it', el: element.parent } );\n\t\t\telement.replaceWithChildren();\n\t\t}\n\t}\n\n\t// Strip element block, but leave its content.\n\t// Works in 'div' and 'p' enter modes.\n\tfunction stripBlock( element, enterTag, toBeChecked ) {\n\t\tvar children = element.children;\n\n\t\t// First, check if element's children may be wrapped with <p/div>.\n\t\t// Ignore that <p/div> may not be allowed in element.parent.\n\t\t// This will be fixed when removing parent or by toBeChecked rule.\n\t\tif ( checkChildren( children, enterTag ) ) {\n\t\t\telement.name = enterTag;\n\t\t\telement.attributes = {};\n\t\t\t// Check if this p/div was put in correct context.\n\t\t\t// If not - strip parent.\n\t\t\ttoBeChecked.push( { check: 'parent-down', el: element } );\n\t\t\treturn;\n\t\t}\n\n\t\tvar parent = element.parent,\n\t\t\tshouldAutoP = parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || parent.name == 'body',\n\t\t\ti, child, p, parentDtd;\n\n\t\tfor ( i = children.length; i > 0; ) {\n\t\t\tchild = children[ --i ];\n\n\t\t\t// If parent requires auto paragraphing and child is inline node,\n\t\t\t// insert this child into newly created paragraph.\n\t\t\tif ( shouldAutoP && inlineNode( child )  ) {\n\t\t\t\tif ( !p ) {\n\t\t\t\t\tp = new CKEDITOR.htmlParser.element( enterTag );\n\t\t\t\t\tp.insertAfter( element );\n\n\t\t\t\t\t// Check if this p/div was put in correct context.\n\t\t\t\t\t// If not - strip parent.\n\t\t\t\t\ttoBeChecked.push( { check: 'parent-down', el: p } );\n\t\t\t\t}\n\t\t\t\tp.add( child, 0 );\n\t\t\t}\n\t\t\t// Child which doesn't need to be auto paragraphed.\n\t\t\telse {\n\t\t\t\tp = null;\n\t\t\t\tparentDtd = DTD[ parent.name ] || DTD.span;\n\n\t\t\t\tchild.insertAfter( element );\n\t\t\t\t// If inserted into invalid context, mark it and check\n\t\t\t\t// after removing all elements.\n\t\t\t\tif ( parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT &&\n\t\t\t\t\tchild.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t!parentDtd[ child.name ]\n\t\t\t\t)\n\t\t\t\t\ttoBeChecked.push( { check: 'el-up', el: child } );\n\t\t\t}\n\t\t}\n\n\t\t// All children have been moved to element's parent, so remove it.\n\t\telement.remove();\n\t}\n\n\t// Prepend/append block with <br> if isn't\n\t// already prepended/appended with <br> or block and\n\t// isn't first/last child of its parent.\n\t// Then replace element with its children.\n\t// <p>a</p><p>b</p> => <p>a</p><br>b => a<br>b\n\tfunction stripBlockBr( element ) {\n\t\tvar br;\n\n\t\tif ( element.previous && !isBrOrBlock( element.previous ) ) {\n\t\t\tbr = createBr();\n\t\t\tbr.insertBefore( element );\n\t\t}\n\n\t\tif ( element.next && !isBrOrBlock( element.next ) ) {\n\t\t\tbr = createBr();\n\t\t\tbr.insertAfter( element );\n\t\t}\n\n\t\telement.replaceWithChildren();\n\t}\n\n\t//\n\t// TRANSFORMATIONS --------------------------------------------------------\n\t//\n\tvar transformationsTools;\n\n\t// Apply given transformations group to the element.\n\tfunction applyTransformationsGroup( filter, element, group ) {\n\t\tvar i, rule;\n\n\t\tfor ( i = 0; i < group.length; ++i ) {\n\t\t\trule = group[ i ];\n\n\t\t\t// Test with #check or #left only if it's set.\n\t\t\t// Do not apply transformations because that creates infinite loop.\n\t\t\tif ( ( !rule.check || filter.check( rule.check, false ) ) &&\n\t\t\t\t( !rule.left || rule.left( element ) ) ) {\n\t\t\t\trule.right( element, transformationsTools );\n\t\t\t\treturn; // Only first matching rule in a group is executed.\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check whether element matches CKEDITOR.style.\n\t// The element can be a \"superset\" of style,\n\t// e.g. it may have more classes, but need to have\n\t// at least those defined in style.\n\tfunction elementMatchesStyle( element, style ) {\n\t\tvar def = style.getDefinition(),\n\t\t\tdefAttrs = def.attributes,\n\t\t\tdefStyles = def.styles,\n\t\t\tattrName, styleName,\n\t\t\tclasses, classPattern, cl;\n\n\t\tif ( element.name != def.element )\n\t\t\treturn false;\n\n\t\tfor ( attrName in defAttrs ) {\n\t\t\tif ( attrName == 'class' ) {\n\t\t\t\tclasses = defAttrs[ attrName ].split( /\\s+/ );\n\t\t\t\tclassPattern = element.classes.join( '|' );\n\t\t\t\twhile ( ( cl = classes.pop() ) ) {\n\t\t\t\t\tif ( classPattern.indexOf( cl ) == -1 )\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( element.attributes[ attrName ] != defAttrs[ attrName ] )\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor ( styleName in defStyles ) {\n\t\t\tif ( element.styles[ styleName ] != defStyles[ styleName ] )\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t// Return transformation group for content form.\n\t// One content form makes one transformation rule in one group.\n\tfunction getContentFormTransformationGroup( form, preferredForm ) {\n\t\tvar element, left;\n\n\t\tif ( typeof form == 'string' )\n\t\t\telement = form;\n\t\telse if ( form instanceof CKEDITOR.style )\n\t\t\tleft = form;\n\t\telse {\n\t\t\telement = form[ 0 ];\n\t\t\tleft = form[ 1 ];\n\t\t}\n\n\t\treturn [ {\n\t\t\telement: element,\n\t\t\tleft: left,\n\t\t\tright: function( el, tools ) {\n\t\t\t\ttools.transform( el, preferredForm );\n\t\t\t}\n\t\t} ];\n\t}\n\n\t// Obtain element's name from transformation rule.\n\t// It will be defined by #element, or #check or #left (styleDef.element).\n\tfunction getElementNameForTransformation( rule, check ) {\n\t\tif ( rule.element )\n\t\t\treturn rule.element;\n\t\tif ( check )\n\t\t\treturn check.match( /^([a-z0-9]+)/i )[ 0 ];\n\t\treturn rule.left.getDefinition().element;\n\t}\n\n\tfunction getMatchStyleFn( style ) {\n\t\treturn function( el ) {\n\t\t\treturn elementMatchesStyle( el, style );\n\t\t};\n\t}\n\n\tfunction getTransformationFn( toolName ) {\n\t\treturn function( el, tools ) {\n\t\t\ttools[ toolName ]( el );\n\t\t};\n\t}\n\n\tfunction optimizeTransformationsGroup( rules ) {\n\t\tvar groupName, i, rule,\n\t\t\tcheck, left, right,\n\t\t\toptimizedRules = [];\n\n\t\tfor ( i = 0; i < rules.length; ++i ) {\n\t\t\trule = rules[ i ];\n\n\t\t\tif ( typeof rule == 'string' ) {\n\t\t\t\trule = rule.split( /\\s*:\\s*/ );\n\t\t\t\tcheck = rule[ 0 ];\n\t\t\t\tleft = null;\n\t\t\t\tright = rule[ 1 ];\n\t\t\t} else {\n\t\t\t\tcheck = rule.check;\n\t\t\t\tleft = rule.left;\n\t\t\t\tright = rule.right;\n\t\t\t}\n\n\t\t\t// Extract element name.\n\t\t\tif ( !groupName )\n\t\t\t\tgroupName = getElementNameForTransformation( rule, check );\n\n\t\t\tif ( left instanceof CKEDITOR.style )\n\t\t\t\tleft = getMatchStyleFn( left );\n\n\t\t\toptimizedRules.push( {\n\t\t\t\t// It doesn't make sense to test against name rule (e.g. 'table'), so don't save it.\n\t\t\t\tcheck: check == groupName ? null : check,\n\n\t\t\t\tleft: left,\n\n\t\t\t\t// Handle shorthand format. E.g.: 'table[width]:sizeToAttribute'.\n\t\t\t\tright: typeof right == 'string' ? getTransformationFn( right ) : right\n\t\t\t} );\n\t\t}\n\n\t\treturn {\n\t\t\tname: groupName,\n\t\t\trules: optimizedRules\n\t\t};\n\t}\n\n\t/**\n\t * Singleton containing tools useful for transformation rules.\n\t *\n\t * @class CKEDITOR.filter.transformationsTools\n\t * @singleton\n\t */\n\ttransformationsTools = CKEDITOR.filter.transformationsTools = {\n\t\t/**\n\t\t * Converts `width` and `height` attributes to styles.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t */\n\t\tsizeToStyle: function( element ) {\n\t\t\tthis.lengthToStyle( element, 'width' );\n\t\t\tthis.lengthToStyle( element, 'height' );\n\t\t},\n\n\t\t/**\n\t\t * Converts `width` and `height` styles to attributes.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t */\n\t\tsizeToAttribute: function( element ) {\n\t\t\tthis.lengthToAttribute( element, 'width' );\n\t\t\tthis.lengthToAttribute( element, 'height' );\n\t\t},\n\n\t\t/**\n\t\t * Converts length in the `attrName` attribute to a valid CSS length (like `width` or `height`).\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t * @param {String} attrName Name of the attribute that will be converted.\n\t\t * @param {String} [styleName=attrName] Name of the style into which the attribute will be converted.\n\t\t */\n\t\tlengthToStyle: function( element, attrName, styleName ) {\n\t\t\tstyleName = styleName || attrName;\n\n\t\t\tif ( !( styleName in element.styles ) ) {\n\t\t\t\tvar value = element.attributes[ attrName ];\n\n\t\t\t\tif ( value ) {\n\t\t\t\t\tif ( ( /^\\d+$/ ).test( value ) )\n\t\t\t\t\t\tvalue += 'px';\n\n\t\t\t\t\telement.styles[ styleName ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdelete element.attributes[ attrName ];\n\t\t},\n\n\t\t/**\n\t\t * Converts length in the `styleName` style to a valid length attribute (like `width` or `height`).\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t * @param {String} styleName Name of the style that will be converted.\n\t\t * @param {String} [attrName=styleName] Name of the attribute into which the style will be converted.\n\t\t */\n\t\tlengthToAttribute: function( element, styleName, attrName ) {\n\t\t\tattrName = attrName || styleName;\n\n\t\t\tif ( !( attrName in element.attributes ) ) {\n\t\t\t\tvar value = element.styles[ styleName ],\n\t\t\t\t\tmatch = value && value.match( /^(\\d+)(?:\\.\\d*)?px$/ );\n\n\t\t\t\tif ( match )\n\t\t\t\t\telement.attributes[ attrName ] = match[ 1 ];\n\t\t\t\t// Pass the TEST_VALUE used by filter#check when mocking element.\n\t\t\t\telse if ( value == TEST_VALUE )\n\t\t\t\t\telement.attributes[ attrName ] = TEST_VALUE;\n\t\t\t}\n\n\t\t\tdelete element.styles[ styleName ];\n\t\t},\n\n\t\t/**\n\t\t * Converts the `align` attribute to the `float` style if not set. Attribute\n\t\t * is always removed.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t */\n\t\talignmentToStyle: function( element ) {\n\t\t\tif ( !( 'float' in element.styles ) ) {\n\t\t\t\tvar value = element.attributes.align;\n\n\t\t\t\tif ( value == 'left' || value == 'right' )\n\t\t\t\t\telement.styles[ 'float' ] = value; // Uh... GCC doesn't like the 'float' prop name.\n\t\t\t}\n\n\t\t\tdelete element.attributes.align;\n\t\t},\n\n\t\t/**\n\t\t * Converts the `float` style to the `align` attribute if not set.\n\t\t * Style is always removed.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t */\n\t\talignmentToAttribute: function( element ) {\n\t\t\tif ( !( 'align' in element.attributes ) ) {\n\t\t\t\tvar value = element.styles[ 'float' ];\n\n\t\t\t\tif ( value == 'left' || value == 'right' )\n\t\t\t\t\telement.attributes.align = value;\n\t\t\t}\n\n\t\t\tdelete element.styles[ 'float' ]; // Uh... GCC doesn't like the 'float' prop name.\n\t\t},\n\n\t\t/**\n\t\t * Checks whether an element matches a given {@link CKEDITOR.style}.\n\t\t * The element can be a \"superset\" of a style, e.g. it may have\n\t\t * more classes, but needs to have at least those defined in the style.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} element\n\t\t * @param {CKEDITOR.style} style\n\t\t */\n\t\tmatchesStyle: elementMatchesStyle,\n\n\t\t/**\n\t\t * Transforms element to given form.\n\t\t *\n\t\t * Form may be a:\n\t\t *\n\t\t *\t* {@link CKEDITOR.style},\n\t\t *\t* string &ndash; the new name of an element.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element} el\n\t\t * @param {CKEDITOR.style/String} form\n\t\t */\n\t\ttransform: function( el, form ) {\n\t\t\tif ( typeof form == 'string' )\n\t\t\t\tel.name = form;\n\t\t\t// Form is an instance of CKEDITOR.style.\n\t\t\telse {\n\t\t\t\tvar def = form.getDefinition(),\n\t\t\t\t\tdefStyles = def.styles,\n\t\t\t\t\tdefAttrs = def.attributes,\n\t\t\t\t\tattrName, styleName,\n\t\t\t\t\texistingClassesPattern, defClasses, cl;\n\n\t\t\t\tel.name = def.element;\n\n\t\t\t\tfor ( attrName in defAttrs ) {\n\t\t\t\t\tif ( attrName == 'class' ) {\n\t\t\t\t\t\texistingClassesPattern = el.classes.join( '|' );\n\t\t\t\t\t\tdefClasses = defAttrs[ attrName ].split( /\\s+/ );\n\n\t\t\t\t\t\twhile ( ( cl = defClasses.pop() ) ) {\n\t\t\t\t\t\t\tif ( existingClassesPattern.indexOf( cl ) == -1 )\n\t\t\t\t\t\t\t\tel.classes.push( cl );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attributes[ attrName ] = defAttrs[ attrName ];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( styleName in defStyles ) {\n\t\t\t\t\tel.styles[ styleName ] = defStyles[ styleName ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n} )();\n\n/**\n * Allowed content rules. This setting is used when\n * instantiating {@link CKEDITOR.editor#filter}.\n *\n * The following values are accepted:\n *\n *\t* {@link CKEDITOR.filter.allowedContentRules} &ndash; defined rules will be added\n *\tto the {@link CKEDITOR.editor#filter}.\n *\t* `true` &ndash; will disable the filter (data will not be filtered,\n *\tall features will be activated).\n *\t* default &ndash; the filter will be configured by loaded features\n *\t(toolbar items, commands, etc.).\n *\n * In all cases filter configuration may be extended by\n * {@link CKEDITOR.config#extraAllowedContent}. This option may be especially\n * useful when you want to use the default `allowedContent` value\n * along with some additional rules.\n *\n *\t\tCKEDITOR.replace( 'textarea_id', {\n *\t\t\tallowedContent: 'p b i; a[!href]',\n *\t\t\ton: {\n *\t\t\t\tinstanceReady: function( evt ) {\n *\t\t\t\t\tvar editor = evt.editor;\n *\n *\t\t\t\t\teditor.filter.check( 'h1' ); // -> false\n *\t\t\t\t\teditor.setData( '<h1><i>Foo</i></h1><p class=\"left\"><span>Bar</span> <a href=\"http://foo.bar\">foo</a></p>' );\n *\t\t\t\t\t// Editor contents will be:\n *\t\t\t\t\t'<p><i>Foo</i></p><p>Bar <a href=\"http://foo.bar\">foo</a></p>'\n *\t\t\t\t}\n *\t\t\t}\n *\t\t} );\n *\n * It is also possible to disallow some already allowed content. It is especially\n * useful when you want to \"trim down\" the content allowed by default by\n * editor features. To do that, use the {@link #disallowedContent} option.\n *\n * Read more in the [documentation](#!/guide/dev_acf)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/acf.html).\n *\n * @since 4.1\n * @cfg {CKEDITOR.filter.allowedContentRules/Boolean} [allowedContent=null]\n * @member CKEDITOR.config\n */\n\n/**\n * This option makes it possible to set additional allowed\n * content rules for {@link CKEDITOR.editor#filter}.\n *\n * It is especially useful in combination with the default\n * {@link CKEDITOR.config#allowedContent} value:\n *\n *\t\tCKEDITOR.replace( 'textarea_id', {\n *\t\t\tplugins: 'wysiwygarea,toolbar,format',\n *\t\t\textraAllowedContent: 'b i',\n *\t\t\ton: {\n *\t\t\t\tinstanceReady: function( evt ) {\n *\t\t\t\t\tvar editor = evt.editor;\n *\n *\t\t\t\t\teditor.filter.check( 'h1' ); // -> true (thanks to Format combo)\n *\t\t\t\t\teditor.filter.check( 'b' ); // -> true (thanks to extraAllowedContent)\n *\t\t\t\t\teditor.setData( '<h1><i>Foo</i></h1><p class=\"left\"><b>Bar</b> <a href=\"http://foo.bar\">foo</a></p>' );\n *\t\t\t\t\t// Editor contents will be:\n *\t\t\t\t\t'<h1><i>Foo</i></h1><p><b>Bar</b> foo</p>'\n *\t\t\t\t}\n *\t\t\t}\n *\t\t} );\n *\n * Read more in the [documentation](#!/guide/dev_acf-section-automatic-mode-and-allow-additional-tags%2Fproperties)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/acf.html).\n * See also {@link CKEDITOR.config#allowedContent} for more details.\n *\n * @since 4.1\n * @cfg {Object/String} extraAllowedContent\n * @member CKEDITOR.config\n */\n\n/**\n * Disallowed content rules. They have precedence over {@link #allowedContent allowed content rules}.\n * Read more in the [Disallowed Content guide](#!/guide/dev_disallowed_content).\n *\n * Read more in the [documentation](#!/guide/dev_acf-section-automatic-mode-but-disallow-certain-tags%2Fproperties)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/acf.html).\n * See also {@link CKEDITOR.config#allowedContent} and {@link CKEDITOR.config#extraAllowedContent}.\n *\n * @since 4.4\n * @cfg {CKEDITOR.filter.disallowedContentRules} disallowedContent\n * @member CKEDITOR.config\n */\n\n/**\n * This event is fired when {@link CKEDITOR.filter} has stripped some\n * content from the data that was loaded (e.g. by {@link CKEDITOR.editor#method-setData}\n * method or in the source mode) or inserted (e.g. when pasting or using the\n * {@link CKEDITOR.editor#method-insertHtml} method).\n *\n * This event is useful when testing whether the {@link CKEDITOR.config#allowedContent}\n * setting is sufficient and correct for a system that is migrating to CKEditor 4.1\n * (where the [Advanced Content Filter](#!/guide/dev_advanced_content_filter) was introduced).\n *\n * @since 4.1\n * @event dataFiltered\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Virtual class which is the [Allowed Content Rules](#!/guide/dev_allowed_content_rules) formats type.\n *\n * Possible formats are:\n *\n *\t* the [string format](#!/guide/dev_allowed_content_rules-section-2),\n *\t* the [object format](#!/guide/dev_allowed_content_rules-section-3),\n *\t* a {@link CKEDITOR.style} instance &ndash; used mainly for integrating plugins with Advanced Content Filter,\n *\t* an array of the above formats.\n *\n * @since 4.1\n * @class CKEDITOR.filter.allowedContentRules\n * @abstract\n */\n\n/**\n * Virtual class representing the {@link CKEDITOR.filter#disallow} argument and a type of\n * the {@link CKEDITOR.config#disallowedContent} option.\n *\n * This is a simplified version of the {@link CKEDITOR.filter.allowedContentRules} type.\n * Only the string format and object format are accepted. Required properties\n * are not allowed in this format.\n *\n * Read more in the [Disallowed Content guide](#!/guide/dev_disallowed_content).\n *\n * @since 4.4\n * @class CKEDITOR.filter.disallowedContentRules\n * @abstract\n */\n\n/**\n * Virtual class representing {@link CKEDITOR.filter#check} argument.\n *\n * This is a simplified version of the {@link CKEDITOR.filter.allowedContentRules} type.\n * It may contain only one element and its styles, classes, and attributes. Only the\n * string format and a {@link CKEDITOR.style} instances are accepted. Required properties\n * are not allowed in this format.\n *\n * Example:\n *\n *\t\t'img[src,alt](foo)'\t// Correct rule.\n *\t\t'ol, ul(!foo)'\t\t// Incorrect rule. Multiple elements and required\n *\t\t\t\t\t\t\t// properties are not supported.\n *\n * @since 4.1\n * @class CKEDITOR.filter.contentRule\n * @abstract\n */\n\n/**\n * Interface that may be automatically implemented by any\n * instance of any class which has at least the `name` property and\n * can be meant as an editor feature.\n *\n * For example:\n *\n *\t* \"Bold\" command, button, and keystroke &ndash; it does not mean exactly\n * `<strong>` or `<b>` but just the ability to create bold text.\n *\t* \"Format\" drop-down list &ndash; it also does not imply any HTML tag.\n *\t* \"Link\" command, button, and keystroke.\n *\t* \"Image\" command, button, and dialog window.\n *\n * Thus most often a feature is an instance of one of the following classes:\n *\n *\t* {@link CKEDITOR.command}\n *\t* {@link CKEDITOR.ui.button}\n *\t* {@link CKEDITOR.ui.richCombo}\n *\n * None of them have a `name` property explicitly defined, but\n * it is set by {@link CKEDITOR.editor#addCommand} and {@link CKEDITOR.ui#add}.\n *\n * During editor initialization all features that the editor should activate\n * should be passed to {@link CKEDITOR.editor#addFeature} (shorthand for {@link CKEDITOR.filter#addFeature}).\n *\n * This method checks if a feature can be activated (see {@link #requiredContent}) and if yes,\n * then it registers allowed content rules required by this feature (see {@link #allowedContent}) along\n * with two kinds of transformations: {@link #contentForms} and {@link #contentTransformations}.\n *\n * By default all buttons that are included in [toolbar layout configuration](#!/guide/dev_toolbar)\n * are checked and registered with {@link CKEDITOR.editor#addFeature}, all styles available in the\n * 'Format' and 'Styles' drop-down lists are checked and registered too and so on.\n *\n * @since 4.1\n * @class CKEDITOR.feature\n * @abstract\n */\n\n/**\n * HTML code that can be generated by this feature.\n *\n * For example a basic image feature (image button displaying the image dialog window)\n * may allow `'img[!src,alt,width,height]'`.\n *\n * During the feature activation this value is passed to {@link CKEDITOR.filter#allow}.\n *\n * @property {CKEDITOR.filter.allowedContentRules} [allowedContent=null]\n */\n\n/**\n * Minimal HTML code that this feature must be allowed to\n * generate in order to work.\n *\n * For example a basic image feature (image button displaying the image dialog window)\n * needs `'img[src,alt]'` in order to be activated.\n *\n * During the feature validation this value is passed to {@link CKEDITOR.filter#check}.\n *\n * If this value is not provided, a feature will be always activated.\n *\n * @property {CKEDITOR.filter.contentRule} [requiredContent=null]\n */\n\n/**\n * The name of the feature.\n *\n * It is used for example to identify which {@link CKEDITOR.filter#allowedContent}\n * rule was added for which feature.\n *\n * @property {String} name\n */\n\n/**\n * Feature content forms to be registered in the {@link CKEDITOR.editor#filter}\n * during the feature activation.\n *\n * See {@link CKEDITOR.filter#addContentForms} for more details.\n *\n * @property [contentForms=null]\n */\n\n/**\n * Transformations (usually for content generated by this feature, but not necessarily)\n * that will be registered in the {@link CKEDITOR.editor#filter} during the feature activation.\n *\n * See {@link CKEDITOR.filter#addTransformations} for more details.\n *\n * @property [contentTransformations=null]\n */\n\n/**\n * Returns a feature that this feature needs to register.\n *\n * In some cases, during activation, one feature may need to register\n * another feature. For example a {@link CKEDITOR.ui.button} often registers\n * a related command. See {@link CKEDITOR.ui.button#toFeature}.\n *\n * This method is executed when a feature is passed to the {@link CKEDITOR.editor#addFeature}.\n *\n * @method toFeature\n * @returns {CKEDITOR.feature}\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/filter.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.focusManager} class, which is used\n *\t\tto handle the focus in editor instances.\n */\n\n( function() {\n\t/**\n\t * Manages the focus activity in an editor instance. This class is to be\n\t * used mainly by UI element coders when adding interface elements that need\n\t * to set the focus state of the editor.\n\t *\n\t *\t\tvar focusManager = new CKEDITOR.focusManager( editor );\n\t *\t\tfocusManager.focus();\n\t *\n\t * @class\n\t * @constructor Creates a focusManager class instance.\n\t * @param {CKEDITOR.editor} editor The editor instance.\n\t */\n\tCKEDITOR.focusManager = function( editor ) {\n\t\tif ( editor.focusManager )\n\t\t\treturn editor.focusManager;\n\n\t\t/**\n\t\t * Indicates that the editor instance has focus.\n\t\t *\n\t\t *\t\talert( CKEDITOR.instances.editor1.focusManager.hasFocus ); // e.g. true\n\t\t */\n\t\tthis.hasFocus = false;\n\n\t\t/**\n\t\t * Indicates the currently focused DOM element that makes the editor activated.\n\t\t *\n\t\t * @property {CKEDITOR.dom.domObject}\n\t\t */\n\t\tthis.currentActive = null;\n\n\t\t/**\n\t\t * Object used to store private stuff.\n\t\t *\n\t\t * @private\n\t\t */\n\t\tthis._ = {\n\t\t\teditor: editor\n\t\t};\n\n\t\treturn this;\n\t};\n\n\tvar SLOT_NAME = 'focusmanager',\n\t\tSLOT_NAME_LISTENERS = 'focusmanager_handlers';\n\n\t/**\n\t * Object used to store private stuff.\n\t *\n\t * @private\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.focusManager._ = {\n\t\t/**\n\t\t * The delay (in milliseconds) to deactivate the editor when a UI DOM element has lost focus.\n\t\t *\n\t\t * @private\n\t\t * @property {Number} [blurDelay=200]\n\t\t * @member CKEDITOR.focusManager._\n\t\t */\n\t\tblurDelay: 200\n\t};\n\n\tCKEDITOR.focusManager.prototype = {\n\n\t\t/**\n\t\t * Indicates that this editor instance is activated (due to a DOM focus change).\n\t\t * The `activated` state is a symbolic indicator of an active user\n\t\t * interaction session.\n\t\t *\n\t\t * **Note:** This method will not introduce UI focus\n\t\t * impact on DOM, it is here to record the editor UI focus state internally.\n\t\t * If you want to make the cursor blink inside the editable, use\n\t\t * {@link CKEDITOR.editor#method-focus} instead.\n\t\t *\n\t\t *\t\tvar editor = CKEDITOR.instances.editor1;\n\t\t *\t\teditor.focusManage.focus( editor.editable() );\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} [currentActive] The new value of the {@link #currentActive} property.\n\t\t * @member CKEDITOR.focusManager\n\t\t */\n\t\tfocus: function( currentActive ) {\n\t\t\tif ( this._.timer )\n\t\t\t\tclearTimeout( this._.timer );\n\n\t\t\tif ( currentActive )\n\t\t\t\tthis.currentActive = currentActive;\n\n\t\t\tif ( !( this.hasFocus || this._.locked ) ) {\n\t\t\t\t// If another editor has the current focus, we first \"blur\" it. In\n\t\t\t\t// this way the events happen in a more logical sequence, like:\n\t\t\t\t//\t\t\"focus 1\" > \"blur 1\" > \"focus 2\"\n\t\t\t\t// ... instead of:\n\t\t\t\t//\t\t\"focus 1\" > \"focus 2\" > \"blur 1\"\n\t\t\t\tvar current = CKEDITOR.currentInstance;\n\t\t\t\tcurrent && current.focusManager.blur( 1 );\n\n\t\t\t\tthis.hasFocus = true;\n\n\t\t\t\tvar ct = this._.editor.container;\n\t\t\t\tct && ct.addClass( 'cke_focus' );\n\t\t\t\tthis._.editor.fire( 'focus' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Prevents from changing the focus manager state until the next {@link #unlock} is called.\n\t\t *\n\t\t * @member CKEDITOR.focusManager\n\t\t */\n\t\tlock: function() {\n\t\t\tthis._.locked = 1;\n\t\t},\n\n\t\t/**\n\t\t * Restores the automatic focus management if {@link #lock} is called.\n\t\t *\n\t\t * @member CKEDITOR.focusManager\n\t\t */\n\t\tunlock: function() {\n\t\t\tdelete this._.locked;\n\t\t},\n\n\t\t/**\n\t\t * Used to indicate that the editor instance has been deactivated by the specified\n\t\t * element which has just lost focus.\n\t\t *\n\t\t * **Note:** This function acts asynchronously with a delay of 100ms to\n\t\t * avoid temporary deactivation. Use the `noDelay` parameter instead\n\t\t * to deactivate immediately.\n\t\t *\n\t\t *\t\tvar editor = CKEDITOR.instances.editor1;\n\t\t *\t\teditor.focusManager.blur();\n\t\t *\n\t\t * @param {Boolean} [noDelay=false] Immediately deactivate the editor instance synchronously.\n\t\t * @member CKEDITOR.focusManager\n\t\t */\n\t\tblur: function( noDelay ) {\n\t\t\tif ( this._.locked )\n\t\t\t\treturn;\n\n\t\t\tfunction doBlur() {\n\t\t\t\tif ( this.hasFocus ) {\n\t\t\t\t\tthis.hasFocus = false;\n\n\t\t\t\t\tvar ct = this._.editor.container;\n\t\t\t\t\tct && ct.removeClass( 'cke_focus' );\n\t\t\t\t\tthis._.editor.fire( 'blur' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( this._.timer )\n\t\t\t\tclearTimeout( this._.timer );\n\n\t\t\tvar delay = CKEDITOR.focusManager._.blurDelay;\n\t\t\tif ( noDelay || !delay )\n\t\t\t\tdoBlur.call( this );\n\t\t\telse {\n\t\t\t\tthis._.timer = CKEDITOR.tools.setTimeout( function() {\n\t\t\t\t\tdelete this._.timer;\n\t\t\t\t\tdoBlur.call( this );\n\t\t\t\t}, delay, this );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Registers a UI DOM element to the focus manager, which will make the focus manager \"hasFocus\"\n\t\t * once the input focus is relieved on the element.\n\t\t * This method is designed to be used by plugins to expand the jurisdiction of the editor focus.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element The container (topmost) element of one UI part.\n\t\t * @param {Boolean} isCapture If specified, {@link CKEDITOR.event#useCapture} will be used when listening to the focus event.\n\t\t * @member CKEDITOR.focusManager\n\t\t */\n\t\tadd: function( element, isCapture ) {\n\t\t\tvar fm = element.getCustomData( SLOT_NAME );\n\t\t\tif ( !fm || fm != this ) {\n\t\t\t\t// If this element is already taken by another instance, dismiss it first.\n\t\t\t\tfm && fm.remove( element );\n\n\t\t\t\tvar focusEvent = 'focus',\n\t\t\t\t\tblurEvent = 'blur';\n\n\t\t\t\t// Bypass the element's internal DOM focus change.\n\t\t\t\tif ( isCapture ) {\n\n\t\t\t\t\t// Use \"focusin/focusout\" events instead of capture phase in IEs,\n\t\t\t\t\t// which fires synchronously.\n\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\tfocusEvent = 'focusin';\n\t\t\t\t\t\tblurEvent = 'focusout';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tCKEDITOR.event.useCapture = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar listeners = {\n\t\t\t\t\tblur: function() {\n\t\t\t\t\t\tif ( element.equals( this.currentActive ) )\n\t\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t},\n\t\t\t\t\tfocus: function() {\n\t\t\t\t\t\tthis.focus( element );\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\telement.on( focusEvent, listeners.focus, this );\n\t\t\t\telement.on( blurEvent, listeners.blur, this );\n\n\t\t\t\tif ( isCapture )\n\t\t\t\t\tCKEDITOR.event.useCapture = 0;\n\n\t\t\t\telement.setCustomData( SLOT_NAME, this );\n\t\t\t\telement.setCustomData( SLOT_NAME_LISTENERS, listeners );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Dismisses an element from the focus manager delegations added by {@link #add}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element The element to be removed from the focus manager.\n\t\t * @member CKEDITOR.focusManager\n\t\t */\n\t\tremove: function( element ) {\n\t\t\telement.removeCustomData( SLOT_NAME );\n\t\t\tvar listeners = element.removeCustomData( SLOT_NAME_LISTENERS );\n\t\t\telement.removeListener( 'blur', listeners.blur );\n\t\t\telement.removeListener( 'focus', listeners.focus );\n\t\t}\n\n\t};\n\n} )();\n\n/**\n * Fired when the editor instance receives the input focus.\n *\n *\t\teditor.on( 'focus', function( e ) {\n *\t\t\talert( 'The editor named ' + e.editor.name + ' is now focused' );\n *\t\t} );\n *\n * @event focus\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor The editor instance.\n */\n\n/**\n * Fired when the editor instance loses the input focus.\n *\n * **Note:** This event will **NOT** be triggered when focus is moved internally, e.g. from\n * an editable to another part of the editor UI like a dialog window.\n * If you are interested only in the focus state of the editable, listen to the `focus`\n * and `blur` events of the {@link CKEDITOR.editable} instead.\n *\n *\t\teditor.on( 'blur', function( e ) {\n *\t\t\talert( 'The editor named ' + e.editor.name + ' lost the focus' );\n *\t\t} );\n *\n * @event blur\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor The editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/focusmanager.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * Controls keystrokes typing in an editor instance.\n *\n * @class\n * @constructor Creates a keystrokeHandler class instance.\n * @param {CKEDITOR.editor} editor The editor instance.\n */\nCKEDITOR.keystrokeHandler = function( editor ) {\n\tif ( editor.keystrokeHandler )\n\t\treturn editor.keystrokeHandler;\n\n\t/**\n\t * A list of keystrokes associated with commands. Each entry points to the\n\t * command to be executed.\n\t *\n\t * Since CKEditor 4 there is no need to modify this property directly during the runtime.\n\t * Use {@link CKEDITOR.editor#setKeystroke} instead.\n\t */\n\tthis.keystrokes = {};\n\n\t/**\n\t * A list of keystrokes that should be blocked if not defined in\n\t * {@link #keystrokes}. In this way it is possible to block the default\n\t * browser behavior for those keystrokes.\n\t */\n\tthis.blockedKeystrokes = {};\n\n\tthis._ = {\n\t\teditor: editor\n\t};\n\n\treturn this;\n};\n\n( function() {\n\tvar cancel;\n\n\tvar onKeyDown = function( event ) {\n\t\t\t// The DOM event object is passed by the \"data\" property.\n\t\t\tevent = event.data;\n\n\t\t\tvar keyCombination = event.getKeystroke();\n\t\t\tvar command = this.keystrokes[ keyCombination ];\n\t\t\tvar editor = this._.editor;\n\n\t\t\tcancel = ( editor.fire( 'key', { keyCode: keyCombination, domEvent: event } ) === false );\n\n\t\t\tif ( !cancel ) {\n\t\t\t\tif ( command ) {\n\t\t\t\t\tvar data = { from: 'keystrokeHandler' };\n\t\t\t\t\tcancel = ( editor.execCommand( command, data ) !== false );\n\t\t\t\t}\n\n\t\t\t\tif ( !cancel )\n\t\t\t\t\tcancel = !!this.blockedKeystrokes[ keyCombination ];\n\t\t\t}\n\n\t\t\tif ( cancel )\n\t\t\t\tevent.preventDefault( true );\n\n\t\t\treturn !cancel;\n\t\t};\n\n\tvar onKeyPress = function( event ) {\n\t\t\tif ( cancel ) {\n\t\t\t\tcancel = false;\n\t\t\t\tevent.data.preventDefault( true );\n\t\t\t}\n\t\t};\n\n\tCKEDITOR.keystrokeHandler.prototype = {\n\t\t/**\n\t\t * Attaches this keystroke handle to a DOM object. Keystrokes typed\n\t\t * over this object will be handled by this keystrokeHandler.\n\t\t *\n\t\t * @param {CKEDITOR.dom.domObject} domObject The DOM object to attach to.\n\t\t */\n\t\tattach: function( domObject ) {\n\t\t\t// For most browsers, it is enough to listen to the keydown event\n\t\t\t// only.\n\t\t\tdomObject.on( 'keydown', onKeyDown, this );\n\n\t\t\t// Some browsers instead, don't cancel key events in the keydown, but in the\n\t\t\t// keypress. So we must do a longer trip in those cases.\n\t\t\tif ( CKEDITOR.env.gecko && CKEDITOR.env.mac )\n\t\t\t\tdomObject.on( 'keypress', onKeyPress, this );\n\t\t}\n\t};\n} )();\n\n/**\n * A list associating keystrokes with editor commands. Each element in the list\n * is an array where the first item is the keystroke, and the second is the\n * name of the command to be executed.\n *\n * This setting should be used to define (as well as to overwrite or remove) keystrokes\n * set by plugins (like `link` and `basicstyles`). If you want to set a keystroke\n * for your plugin or during the runtime, use {@link CKEDITOR.editor#setKeystroke} instead.\n *\n * Since default keystrokes are set by the {@link CKEDITOR.editor#setKeystroke}\n * method, by default `config.keystrokes` is an empty array.\n *\n * See {@link CKEDITOR.editor#setKeystroke} documentation for more details\n * regarding the start up order.\n *\n *\t\t// Change default Ctrl+L keystroke for 'link' command to Ctrl+Shift+L.\n *\t\tconfig.keystrokes = [\n *\t\t\t...\n *\t\t\t[ CKEDITOR.CTRL + CKEDITOR.SHIFT + 76, 'link' ],\t// Ctrl+Shift+L\n *\t\t\t...\n *\t\t];\n *\n * To reset a particular keystroke, the following approach can be used:\n *\n *\t\t// Disable default Ctrl+L keystroke which executes the 'link' command by default.\n *\t\tconfig.keystrokes = [\n *\t\t\t...\n *\t\t\t[ CKEDITOR.CTRL + 76, null ],\t\t\t\t\t\t// Ctrl+L\n *\t\t\t...\n *\t\t];\n *\n * In order to reset all default keystrokes, a {@link CKEDITOR#instanceReady} callback should be\n * used. This is since editor defaults are merged rather than overwritten by\n * user keystrokes.\n *\n * **Note**: This can be potentially harmful for the editor. Avoid this unless you are\n * aware of the consequences.\n *\n *\t\t// Reset all default keystrokes.\n *\t\tconfig.on.instanceReady = function() {\n *\t\t\tthis.keystrokeHandler.keystrokes = [];\n *\t\t};\n *\n * @cfg {Array} [keystrokes=[]]\n * @member CKEDITOR.config\n */\n\n/**\n * Fired when any keyboard key (or a combination thereof) is pressed in the editing area.\n *\n *\t\teditor.on( 'key', function( evt ) {\n *\t\t\tif ( evt.data.keyCode == CKEDITOR.CTRL + 90 ) {\n *\t\t\t\t// Do something...\n *\n *\t\t\t\t// Cancel the event, so other listeners will not be executed and\n *\t\t\t\t// the keydown's default behavior will be prevented.\n *\t\t\t\tevt.cancel();\n *\t\t\t}\n *\t\t} );\n *\n * Usually you will want to use the {@link CKEDITOR.editor#setKeystroke} method or\n * the {@link CKEDITOR.config#keystrokes} option to attach a keystroke to some {@link CKEDITOR.command command}.\n * Key event listeners are usuful when some action should be executed conditionally, based\n * for example on precise selection location.\n *\n * @event key\n * @member CKEDITOR.editor\n * @param data\n * @param {Number} data.keyCode A number representing the key code (or a combination thereof).\n * It is the sum of the current key code and the {@link CKEDITOR#CTRL}, {@link CKEDITOR#SHIFT}\n * and {@link CKEDITOR#ALT} constants, if those are pressed.\n * @param {CKEDITOR.dom.event} data.domEvent A `keydown` DOM event instance. Available since CKEditor 4.4.1.\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/keystrokehandler.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t/**\n\t * Stores language-related functions.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.lang = {\n\t\t/**\n\t\t * The list of languages available in the editor core.\n\t\t *\n\t\t *\t\talert( CKEDITOR.lang.languages.en ); // 1\n\t\t */\n\t\tlanguages: {\n\t\t\taf: 1, ar: 1, bg: 1, bn: 1, bs: 1, ca: 1, cs: 1, cy: 1, da: 1, de: 1, 'de-ch': 1, el: 1,\n\t\t\t'en-au': 1, 'en-ca': 1, 'en-gb': 1, en: 1, eo: 1, es: 1, et: 1, eu: 1, fa: 1, fi: 1, fo: 1,\n\t\t\t'fr-ca': 1, fr: 1, gl: 1, gu: 1, he: 1, hi: 1, hr: 1, hu: 1, id: 1, is: 1, it: 1, ja: 1, ka: 1,\n\t\t\tkm: 1, ko: 1, ku: 1, lt: 1, lv: 1, mk: 1, mn: 1, ms: 1, nb: 1, nl: 1, no: 1, pl: 1, 'pt-br': 1,\n\t\t\tpt: 1, ro: 1, ru: 1, si: 1, sk: 1, sl: 1, sq: 1, 'sr-latn': 1, sr: 1, sv: 1, th: 1, tr: 1, tt: 1, ug: 1,\n\t\t\tuk: 1, vi: 1, 'zh-cn': 1, zh: 1\n\t\t},\n\n\t\t/**\n\t\t * The list of languages that are written Right-To-Left (RTL) and are supported by the editor.\n\t\t */\n\t\trtl: { ar: 1, fa: 1, he: 1, ku: 1, ug: 1 },\n\n\t\t/**\n\t\t * Loads a specific language file, or auto detects it. A callback is\n\t\t * then called when the file gets loaded.\n\t\t *\n\t\t * @param {String} languageCode The code of the language file to be\n\t\t * loaded. If null or empty, autodetection will be performed. The\n\t\t * same happens if the language is not supported.\n\t\t * @param {String} defaultLanguage The language to be used if\n\t\t * `languageCode` is not supported or if the autodetection fails.\n\t\t * @param {Function} callback A function to be called once the\n\t\t * language file is loaded. Two parameters are passed to this\n\t\t * function: the language code and the loaded language entries.\n\t\t */\n\t\tload: function( languageCode, defaultLanguage, callback ) {\n\t\t\t// If no languageCode - fallback to browser or default.\n\t\t\t// If languageCode - fallback to no-localized version or default.\n\t\t\tif ( !languageCode || !CKEDITOR.lang.languages[ languageCode ] )\n\t\t\t\tlanguageCode = this.detect( defaultLanguage, languageCode );\n\n\t\t\tvar that = this,\n\t\t\t\tloadedCallback = function() {\n\t\t\t\t\tthat[ languageCode ].dir = that.rtl[ languageCode ] ? 'rtl' : 'ltr';\n\t\t\t\t\tcallback( languageCode, that[ languageCode ] );\n\t\t\t\t};\n\n\t\t\t// if ( !this[ languageCode ] )\n\t\t\t\t// CKEDITOR.scriptLoader.load( CKEDITOR.getUrl( 'lang/' + languageCode + '.js' ), loadedCallback, this );\n\t\t\t// else\n\t\t\t\tloadedCallback();\n\t\t},\n\n\t\t/**\n\t\t * Returns the language that best fits the user language. For example,\n\t\t * suppose that the user language is \"pt-br\". If this language is\n\t\t * supported by the editor, it is returned. Otherwise, if only \"pt\" is\n\t\t * supported, it is returned instead. If none of the previous are\n\t\t * supported, a default language is then returned.\n\t\t *\n\t\t *\t\talert( CKEDITOR.lang.detect( 'en' ) ); // e.g., in a German browser: 'de'\n\t\t *\n\t\t * @param {String} defaultLanguage The default language to be returned\n\t\t * if the user language is not supported.\n\t\t * @param {String} [probeLanguage] A language code to try to use,\n\t\t * instead of the browser-based autodetection.\n\t\t * @returns {String} The detected language code.\n\t\t */\n\t\tdetect: function( defaultLanguage, probeLanguage ) {\n\t\t\tvar languages = this.languages;\n\t\t\tprobeLanguage = probeLanguage || navigator.userLanguage || navigator.language || defaultLanguage;\n\n\t\t\tvar parts = probeLanguage.toLowerCase().match( /([a-z]+)(?:-([a-z]+))?/ ),\n\t\t\t\tlang = parts[ 1 ],\n\t\t\t\tlocale = parts[ 2 ];\n\n\t\t\tif ( languages[ lang + '-' + locale ] )\n\t\t\t\tlang = lang + '-' + locale;\n\t\t\telse if ( !languages[ lang ] )\n\t\t\t\tlang = null;\n\n\t\t\tCKEDITOR.lang.detect = lang ?\n\t\t\tfunction() {\n\t\t\t\treturn lang;\n\t\t\t} : function( defaultLanguage ) {\n\t\t\t\treturn defaultLanguage;\n\t\t\t};\n\n\t\t\treturn lang || defaultLanguage;\n\t\t}\n\t};\n\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/lang.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.scriptLoader} object, used to load scripts\n *\t\tasynchronously.\n */\n\n/**\n * Load scripts asynchronously.\n *\n * @class\n * @singleton\n */\nCKEDITOR.scriptLoader = ( function() {\n\tvar uniqueScripts = {},\n\t\twaitingList = {};\n\n\treturn {\n\t\t/**\n\t\t * Loads one or more external script checking if not already loaded\n\t\t * previously by this function.\n\t\t *\n\t\t *\t\tCKEDITOR.scriptLoader.load( '/myscript.js' );\n\t\t *\n\t\t *\t\tCKEDITOR.scriptLoader.load( '/myscript.js', function( success ) {\n\t\t *\t\t\t// Alerts true if the script has been properly loaded.\n\t\t *\t\t\t// HTTP error 404 should return false.\n\t\t *\t\t\talert( success );\n\t\t *\t\t} );\n\t\t *\n\t\t *\t\tCKEDITOR.scriptLoader.load( [ '/myscript1.js', '/myscript2.js' ], function( completed, failed ) {\n\t\t *\t\t\talert( 'Number of scripts loaded: ' + completed.length );\n\t\t *\t\t\talert( 'Number of failures: ' + failed.length );\n\t\t *\t\t} );\n\t\t *\n\t\t * @param {String/Array} scriptUrl One or more URLs pointing to the\n\t\t * scripts to be loaded.\n\t\t * @param {Function} [callback] A function to be called when the script\n\t\t * is loaded and executed. If a string is passed to `scriptUrl`, a\n\t\t * boolean parameter is passed to the callback, indicating the\n\t\t * success of the load. If an array is passed instead, two arrays\n\t\t * parameters are passed to the callback - the first contains the\n\t\t * URLs that have been properly loaded and the second the failed ones.\n\t\t * @param {Object} [scope] The scope (`this` reference) to be used for\n\t\t * the callback call. Defaults to {@link CKEDITOR}.\n\t\t * @param {Boolean} [showBusy] Changes the cursor of the document while\n\t\t * the script is loaded.\n\t\t */\n\t\tload: function( scriptUrl, callback, scope, showBusy ) {\n\t\t\tvar isString = ( typeof scriptUrl == 'string' );\n\n\t\t\tif ( isString )\n\t\t\t\tscriptUrl = [ scriptUrl ];\n\n\t\t\tif ( !scope )\n\t\t\t\tscope = CKEDITOR;\n\n\t\t\tvar scriptCount = scriptUrl.length,\n\t\t\t\tcompleted = [],\n\t\t\t\tfailed = [];\n\n\t\t\tvar doCallback = function( success ) {\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tif ( isString )\n\t\t\t\t\t\t\tcallback.call( scope, success );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tcallback.call( scope, completed, failed );\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tif ( scriptCount === 0 ) {\n\t\t\t\tdoCallback( true );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar checkLoaded = function( url, success ) {\n\t\t\t\t\t( success ? completed : failed ).push( url );\n\n\t\t\t\t\tif ( --scriptCount <= 0 ) {\n\t\t\t\t\t\tshowBusy && CKEDITOR.document.getDocumentElement().removeStyle( 'cursor' );\n\t\t\t\t\t\tdoCallback( success );\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tvar onLoad = function( url, success ) {\n\t\t\t\t\t// Mark this script as loaded.\n\t\t\t\t\tuniqueScripts[ url ] = 1;\n\n\t\t\t\t\t// Get the list of callback checks waiting for this file.\n\t\t\t\t\tvar waitingInfo = waitingList[ url ];\n\t\t\t\t\tdelete waitingList[ url ];\n\n\t\t\t\t\t// Check all callbacks waiting for this file.\n\t\t\t\t\tfor ( var i = 0; i < waitingInfo.length; i++ )\n\t\t\t\t\t\twaitingInfo[ i ]( url, success );\n\t\t\t\t};\n\n\t\t\tvar loadScript = function( url ) {\n\t\t\t\t\tif ( uniqueScripts[ url ] ) {\n\t\t\t\t\t\tcheckLoaded( url, true );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar waitingInfo = waitingList[ url ] || ( waitingList[ url ] = [] );\n\t\t\t\t\twaitingInfo.push( checkLoaded );\n\n\t\t\t\t\t// Load it only for the first request.\n\t\t\t\t\tif ( waitingInfo.length > 1 )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Create the <script> element.\n\t\t\t\t\tvar script = new CKEDITOR.dom.element( 'script' );\n\t\t\t\t\tscript.setAttributes( {\n\t\t\t\t\t\ttype: 'text/javascript',\n\t\t\t\t\t\tsrc: url\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t// The onload or onerror event does not fire in IE8.\n\t\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version <= 8 ) {\n\n\t\t\t\t\t\t\tscript.$.onreadystatechange = function() {\n\t\t\t\t\t\t\t\tif ( script.$.readyState == 'loaded' || script.$.readyState == 'complete' ) {\n\t\t\t\t\t\t\t\t\tscript.$.onreadystatechange = null;\n\t\t\t\t\t\t\t\t\tonLoad( url, true );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tscript.$.onload = function() {\n\t\t\t\t\t\t\t\t// Some browsers, such as Safari, may call the onLoad function\n\t\t\t\t\t\t\t\t// immediately. Which will break the loading sequence. (#3661)\n\t\t\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t\t\tonLoad( url, true );\n\t\t\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tscript.$.onerror = function() {\n\t\t\t\t\t\t\t\tonLoad( url, false );\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Append it to <head>.\n\t\t\t\t\tif(1){//插件打包进来\n\t\t\t\t\t\tonLoad( url, true );\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// script.appendTo( CKEDITOR.document.getHead() );\n\t\t\t\t\t}\n\n\t\t\t\t\tCKEDITOR.fire( 'download', url ); // %REMOVE_LINE%\n\t\t\t\t};\n\n\t\t\tshowBusy && CKEDITOR.document.getDocumentElement().setStyle( 'cursor', 'wait' );\n\t\t\tfor ( var i = 0; i < scriptCount; i++ ) {\n\t\t\t\tloadScript( scriptUrl[ i ] );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Loads a script in a queue, so only one is loaded at the same time.\n\t\t *\n\t\t * @since 4.1.2\n\t\t * @param {String} scriptUrl URL pointing to the script to be loaded.\n\t\t * @param {Function} [callback] A function to be called when the script\n\t\t * is loaded and executed. A boolean parameter is passed to the callback,\n\t\t * indicating the success of the load.\n\t\t *\n\t\t * @see CKEDITOR.scriptLoader#load\n\t\t */\n\t\tqueue: ( function() {\n\t\t\tvar pending = [];\n\n\t\t\t// Loads the very first script from queue and removes it.\n\t\t\tfunction loadNext() {\n\t\t\t\tvar script;\n\n\t\t\t\tif ( ( script = pending[ 0 ] ) )\n\t\t\t\t\tthis.load( script.scriptUrl, script.callback, CKEDITOR, 0 );\n\t\t\t}\n\n\t\t\treturn function( scriptUrl, callback ) {\n\t\t\t\tvar that = this;\n\n\t\t\t\t// This callback calls the standard callback for the script\n\t\t\t\t// and loads the very next script from pending list.\n\t\t\t\tfunction callbackWrapper() {\n\t\t\t\t\tcallback && callback.apply( this, arguments );\n\n\t\t\t\t\t// Removed the just loaded script from the queue.\n\t\t\t\t\tpending.shift();\n\n\t\t\t\t\tloadNext.call( that );\n\t\t\t\t}\n\n\t\t\t\t// Let's add this script to the queue\n\t\t\t\tpending.push( { scriptUrl: scriptUrl, callback: callbackWrapper } );\n\n\t\t\t\t// If the queue was empty, then start loading.\n\t\t\t\tif ( pending.length == 1 )\n\t\t\t\t\tloadNext.call( this );\n\t\t\t};\n\t\t} )()\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/scriptloader.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.resourceManager} class, which is\n *\t\tthe base for resource managers, like plugins.\n */\n\n/**\n * Base class for resource managers, like plugins. This class is not\n * intended to be used out of the CKEditor core code.\n *\n * @class\n * @constructor Creates a resourceManager class instance.\n * @param {String} basePath The path for the resources folder.\n * @param {String} fileName The name used for resource files.\n */\nCKEDITOR.resourceManager = function( basePath, fileName ) {\n\t/**\n\t * The base directory containing all resources.\n\t *\n\t * @property {String}\n\t */\n\tthis.basePath = basePath;\n\n\t/**\n\t * The name used for resource files.\n\t *\n\t * @property {String}\n\t */\n\tthis.fileName = fileName;\n\n\t/**\n\t * Contains references to all resources that have already been registered\n\t * with {@link #add}.\n\t */\n\tthis.registered = {};\n\n\t/**\n\t * Contains references to all resources that have already been loaded\n\t * with {@link #load}.\n\t */\n\tthis.loaded = {};\n\n\t/**\n\t * Contains references to all resources that have already been registered\n\t * with {@link #addExternal}.\n\t */\n\tthis.externals = {};\n\n\t/**\n\t * @private\n\t */\n\tthis._ = {\n\t\t// List of callbacks waiting for plugins to be loaded.\n\t\twaitingList: {}\n\t};\n};\n\nCKEDITOR.resourceManager.prototype = {\n\t/**\n\t * Registers a resource.\n\t *\n\t *\t\tCKEDITOR.plugins.add( 'sample', { ... plugin definition ... } );\n\t *\n\t * @param {String} name The resource name.\n\t * @param {Object} [definition] The resource definition.\n\t * @see CKEDITOR.pluginDefinition\n\t */\n\tadd: function( name, definition ) {\n\t\tif ( this.registered[ name ] )\n\t\t\tthrow new Error( '[CKEDITOR.resourceManager.add] The resource name \"' + name + '\" is already registered.' );\n\n\t\tvar resource = this.registered[ name ] = definition || {};\n\t\tresource.name = name;\n\t\tresource.path = this.getPath( name );\n\n\t\tCKEDITOR.fire( name + CKEDITOR.tools.capitalize( this.fileName ) + 'Ready', resource );\n\n\t\treturn this.get( name );\n\t},\n\n\t/**\n\t * Gets the definition of a specific resource.\n\t *\n\t *\t\tvar definition = CKEDITOR.plugins.get( 'sample' );\n\t *\n\t * @param {String} name The resource name.\n\t * @returns {Object} The registered object.\n\t */\n\tget: function( name ) {\n\t\treturn this.registered[ name ] || null;\n\t},\n\n\t/**\n\t * Get the folder path for a specific loaded resource.\n\t *\n\t *\t\talert( CKEDITOR.plugins.getPath( 'sample' ) ); // '<editor path>/plugins/sample/'\n\t *\n\t * @param {String} name The resource name.\n\t * @returns {String}\n\t */\n\tgetPath: function( name ) {\n\t\tvar external = this.externals[ name ];\n\t\treturn CKEDITOR.getUrl( ( external && external.dir ) || this.basePath + name + '/' );\n\t},\n\n\t/**\n\t * Get the file path for a specific loaded resource.\n\t *\n\t *\t\talert( CKEDITOR.plugins.getFilePath( 'sample' ) ); // '<editor path>/plugins/sample/plugin.js'\n\t *\n\t * @param {String} name The resource name.\n\t * @returns {String}\n\t */\n\tgetFilePath: function( name ) {\n\t\tvar external = this.externals[ name ];\n\t\treturn CKEDITOR.getUrl( this.getPath( name ) + ( external ? external.file : this.fileName + '.js' ) );\n\t},\n\n\t/**\n\t * Registers one or more resources to be loaded from an external path\n\t * instead of the core base path.\n\t *\n\t *\t\t// Loads a plugin from '/myplugin/samples/plugin.js'.\n\t *\t\tCKEDITOR.plugins.addExternal( 'sample', '/myplugins/sample/' );\n\t *\n\t *\t\t// Loads a plugin from '/myplugin/samples/my_plugin.js'.\n\t *\t\tCKEDITOR.plugins.addExternal( 'sample', '/myplugins/sample/', 'my_plugin.js' );\n\t *\n\t *\t\t// Loads a plugin from '/myplugin/samples/my_plugin.js'.\n\t *\t\tCKEDITOR.plugins.addExternal( 'sample', '/myplugins/sample/my_plugin.js', '' );\n\t *\n\t * @param {String} names The resource names, separated by commas.\n\t * @param {String} path The path of the folder containing the resource.\n\t * @param {String} [fileName] The resource file name. If not provided, the\n\t * default name is used. If provided with a empty string, will implicitly indicates that `path` argument\n\t * is already the full path.\n\t */\n\taddExternal: function( names, path, fileName ) {\n\t\tnames = names.split( ',' );\n\t\tfor ( var i = 0; i < names.length; i++ ) {\n\t\t\tvar name = names[ i ];\n\n\t\t\t// If \"fileName\" is not provided, we assume that it may be available\n\t\t\t// in \"path\". Try to extract it in this case.\n\t\t\tif ( !fileName ) {\n\t\t\t\tpath = path.replace( /[^\\/]+$/, function( match ) {\n\t\t\t\t\tfileName = match;\n\t\t\t\t\treturn '';\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tthis.externals[ name ] = {\n\t\t\t\tdir: path,\n\n\t\t\t\t// Use the default file name if there is no \"fileName\" and it\n\t\t\t\t// was not found in \"path\".\n\t\t\t\tfile: fileName || ( this.fileName + '.js' )\n\t\t\t};\n\t\t}\n\t},\n\n\t/**\n\t * Loads one or more resources.\n\t *\n\t *\t\tCKEDITOR.plugins.load( 'myplugin', function( plugins ) {\n\t *\t\t\talert( plugins[ 'myplugin' ] ); // object\n\t *\t\t} );\n\t *\n\t * @param {String/Array} name The name of the resource to load. It may be a\n\t * string with a single resource name, or an array with several names.\n\t * @param {Function} callback A function to be called when all resources\n\t * are loaded. The callback will receive an array containing all loaded names.\n\t * @param {Object} [scope] The scope object to be used for the callback call.\n\t */\n\tload: function( names, callback, scope ) {\n\t\t// Ensure that we have an array of names.\n\t\tif ( !CKEDITOR.tools.isArray( names ) )\n\t\t\tnames = names ? [ names ] : [];\n\n\t\tvar loaded = this.loaded,\n\t\t\tregistered = this.registered,\n\t\t\turls = [],\n\t\t\turlsNames = {},\n\t\t\tresources = {};\n\n\t\t// Loop through all names.\n\t\tfor ( var i = 0; i < names.length; i++ ) {\n\t\t\tvar name = names[ i ];\n\n\t\t\tif ( !name )\n\t\t\t\tcontinue;\n\n\t\t\t// If not available yet.\n\t\t\tif ( !loaded[ name ] && !registered[ name ] ) {\n\t\t\t\tvar url = this.getFilePath( name );\n\t\t\t\turls.push( url );\n\t\t\t\tif ( !( url in urlsNames ) )\n\t\t\t\t\turlsNames[ url ] = [];\n\t\t\t\turlsNames[ url ].push( name );\n\t\t\t} else {\n\t\t\t\tresources[ name ] = this.get( name );\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.scriptLoader.load( urls, function( completed, failed ) {\n\t\t\tif ( failed.length ) {\n\t\t\t\tthrow new Error( '[CKEDITOR.resourceManager.load] Resource name \"' + urlsNames[ failed[ 0 ] ].join( ',' ) +\n\t\t\t\t\t'\" was not found at \"' + failed[ 0 ] + '\".' );\n\t\t\t}\n\n\t\t\tfor ( var i = 0; i < completed.length; i++ ) {\n\t\t\t\tvar nameList = urlsNames[ completed[ i ] ];\n\t\t\t\tfor ( var j = 0; j < nameList.length; j++ ) {\n\t\t\t\t\tvar name = nameList[ j ];\n\t\t\t\t\tresources[ name ] = this.get( name );\n\n\t\t\t\t\tloaded[ name ] = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcallback.call( scope, resources );\n\t\t}, this );\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/resourcemanager.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.plugins} object, which is used to\n *\t\tmanage plugins registration and loading.\n */\n\n/**\n * Manages plugins registration and loading.\n *\n * @class\n * @extends CKEDITOR.resourceManager\n * @singleton\n */\nCKEDITOR.plugins = new CKEDITOR.resourceManager( 'plugins/', 'plugin' );\n\n// PACKAGER_RENAME( CKEDITOR.plugins )\n\nCKEDITOR.plugins.load = CKEDITOR.tools.override( CKEDITOR.plugins.load, function( originalLoad ) {\n\tvar initialized = {};\n\n\treturn function( name, callback, scope ) {\n\t\tvar allPlugins = {};\n\n\t\tvar loadPlugins = function( names ) {\n\t\t\t\toriginalLoad.call( this, names, function( plugins ) {\n\t\t\t\t\tCKEDITOR.tools.extend( allPlugins, plugins );\n\n\t\t\t\t\tvar requiredPlugins = [];\n\t\t\t\t\tfor ( var pluginName in plugins ) {\n\t\t\t\t\t\tvar plugin = plugins[ pluginName ],\n\t\t\t\t\t\t\trequires = plugin && plugin.requires;\n\n\t\t\t\t\t\tif ( !initialized[ pluginName ] ) {\n\t\t\t\t\t\t\t// Register all icons eventually defined by this plugin.\n\t\t\t\t\t\t\tif ( plugin.icons ) {\n\t\t\t\t\t\t\t\tvar icons = plugin.icons.split( ',' );\n\t\t\t\t\t\t\t\tfor ( var ic = icons.length; ic--; ) {\n\t\t\t\t\t\t\t\t\tCKEDITOR.skin.addIcon( icons[ ic ],\n\t\t\t\t\t\t\t\t\t\tplugin.path +\n\t\t\t\t\t\t\t\t\t\t'icons/' +\n\t\t\t\t\t\t\t\t\t\t( CKEDITOR.env.hidpi && plugin.hidpi ? 'hidpi/' : '' ) +\n\t\t\t\t\t\t\t\t\t\ticons[ ic ] +\n\t\t\t\t\t\t\t\t\t\t'.png' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinitialized[ pluginName ] = 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( requires ) {\n\t\t\t\t\t\t\t// Trasnform it into an array, if it's not one.\n\t\t\t\t\t\t\tif ( requires.split )\n\t\t\t\t\t\t\t\trequires = requires.split( ',' );\n\n\t\t\t\t\t\t\tfor ( var i = 0; i < requires.length; i++ ) {\n\t\t\t\t\t\t\t\tif ( !allPlugins[ requires[ i ] ] )\n\t\t\t\t\t\t\t\t\trequiredPlugins.push( requires[ i ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( requiredPlugins.length )\n\t\t\t\t\t\tloadPlugins.call( this, requiredPlugins );\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Call the \"onLoad\" function for all plugins.\n\t\t\t\t\t\tfor ( pluginName in allPlugins ) {\n\t\t\t\t\t\t\tplugin = allPlugins[ pluginName ];\n\t\t\t\t\t\t\tif ( plugin.onLoad && !plugin.onLoad._called ) {\n\t\t\t\t\t\t\t\t// Make it possible to return false from plugin::onLoad to disable it.\n\t\t\t\t\t\t\t\tif ( plugin.onLoad() === false )\n\t\t\t\t\t\t\t\t\tdelete allPlugins[ pluginName ];\n\n\t\t\t\t\t\t\t\tplugin.onLoad._called = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Call the callback.\n\t\t\t\t\t\tif ( callback )\n\t\t\t\t\t\t\tcallback.call( scope || window, allPlugins );\n\t\t\t\t\t}\n\t\t\t\t}, this );\n\n\t\t\t};\n\n\t\tloadPlugins.call( this, name );\n\t};\n} );\n\n/**\n * Loads a specific language file, or auto detect it. A callback is\n * then called when the file gets loaded.\n *\n *\t\tCKEDITOR.plugins.setLang( 'myPlugin', 'en', {\n *\t\t\ttitle: 'My plugin',\n *\t\t\tselectOption: 'Please select an option'\n *\t\t} );\n *\n * @param {String} pluginName The name of the plugin to which the provided translation\n * should be attached.\n * @param {String} languageCode The code of the language translation provided.\n * @param {Object} languageEntries An object that contains pairs of label and\n * the respective translation.\n */\nCKEDITOR.plugins.setLang = function( pluginName, languageCode, languageEntries ) {\n\tvar plugin = this.get( pluginName ),\n\t\tpluginLangEntries = plugin.langEntries || ( plugin.langEntries = {} ),\n\t\tpluginLang = plugin.lang || ( plugin.lang = [] );\n\n\tif ( pluginLang.split )\n\t\tpluginLang = pluginLang.split( ',' );\n\n\tif ( CKEDITOR.tools.indexOf( pluginLang, languageCode ) == -1 )\n\t\tpluginLang.push( languageCode );\n\n\tpluginLangEntries[ languageCode ] = languageEntries;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/plugins.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * Contains UI features related to an editor instance.\n *\n * @class\n * @mixins CKEDITOR.event\n * @constructor Creates a `ui` class instance.\n * @param {CKEDITOR.editor} editor The editor instance.\n */\nCKEDITOR.ui = function( editor ) {\n\tif ( editor.ui )\n\t\treturn editor.ui;\n\n\tthis.items = {};\n\tthis.instances = {};\n\tthis.editor = editor;\n\n\t/**\n\t * Object used to store private stuff.\n\t *\n\t * @private\n\t */\n\tthis._ = {\n\t\thandlers: {}\n\t};\n\n\treturn this;\n};\n\n// PACKAGER_RENAME( CKEDITOR.ui )\n\nCKEDITOR.ui.prototype = {\n\t/**\n\t * Adds a UI item to the items collection. These items can be later used in\n\t * the interface.\n\t *\n\t *\t\t// Add a new button named 'MyBold'.\n\t *\t\teditorInstance.ui.add( 'MyBold', CKEDITOR.UI_BUTTON, {\n\t *\t\t\tlabel: 'My Bold',\n\t *\t\t\tcommand: 'bold'\n\t *\t\t} );\n\t *\n\t * @param {String} name The UI item name.\n\t * @param {Object} type The item type.\n\t * @param {Object} definition The item definition. The properties of this\n\t * object depend on the item type.\n\t */\n\tadd: function( name, type, definition ) {\n\t\t// Compensate the unique name of this ui item to definition.\n\t\tdefinition.name = name.toLowerCase();\n\n\t\tvar item = this.items[ name ] = {\n\t\t\ttype: type,\n\t\t\t// The name of {@link CKEDITOR.command} which associate with this UI.\n\t\t\tcommand: definition.command || null,\n\t\t\targs: Array.prototype.slice.call( arguments, 2 )\n\t\t};\n\n\t\tCKEDITOR.tools.extend( item, definition );\n\t},\n\n\t/**\n\t * Retrieves the created UI objects by name.\n\t *\n\t * @param {String} name The name of the UI definition.\n\t */\n\tget: function( name ) {\n\t\treturn this.instances[ name ];\n\t},\n\n\t/**\n\t * Gets a UI object.\n\t *\n\t * @param {String} name The UI item name.\n\t * @returns {Object} The UI element.\n\t */\n\tcreate: function( name ) {\n\t\tvar item = this.items[ name ],\n\t\t\thandler = item && this._.handlers[ item.type ],\n\t\t\tcommand = item && item.command && this.editor.getCommand( item.command );\n\n\t\tvar result = handler && handler.create.apply( this, item.args );\n\n\t\tthis.instances[ name ] = result;\n\n\t\t// Add reference inside command object.\n\t\tif ( command )\n\t\t\tcommand.uiItems.push( result );\n\n\t\tif ( result && !result.type )\n\t\t\tresult.type = item.type;\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Adds a handler for a UI item type. The handler is responsible for\n\t * transforming UI item definitions into UI objects.\n\t *\n\t * @param {Object} type The item type.\n\t * @param {Object} handler The handler definition.\n\t */\n\taddHandler: function( type, handler ) {\n\t\tthis._.handlers[ type ] = handler;\n\t},\n\n\t/**\n\t * Returns the unique DOM element that represents one editor's UI part, also known as \"space\".\n\t * There are 3 main editor spaces available: `top`, `contents` and `bottom`\n\t * and their availability depends on editor type.\n\t *\n\t *\t\t// Hide the bottom space in the UI.\n\t *\t\tvar bottom = editor.ui.space( 'bottom' );\n\t *\t\tbottom.setStyle( 'display', 'none' );\n\t *\n\t * @param {String} name The name of the space.\n\t * @returns {CKEDITOR.dom.element} The element that represents the space.\n\t */\n\tspace: function( name ) {\n\t\treturn CKEDITOR.document.getById( this.spaceId( name ) );\n\t},\n\n\t/**\n\t * Returns the HTML ID for a specific UI space name.\n\t *\n\t * @param {String} name The name of the space.\n\t * @returns {String} The ID of an element representing this space in the DOM.\n\t */\n\tspaceId: function( name ) {\n\t\treturn this.editor.id + '_' + name;\n\t}\n};\n\nCKEDITOR.event.implementOn( CKEDITOR.ui );\n\n/**\n * Internal event fired when a new UI element is ready.\n *\n * @event ready\n * @param {Object} data The new UI element.\n */\n\n/**\n * Virtual class which just illustrates the features of handler objects to be\n * passed to the {@link CKEDITOR.ui#addHandler} function.\n * This class is not really a part of the API, so do not call its constructor.\n *\n * @class CKEDITOR.ui.handlerDefinition\n */\n\n/**\n * Transforms an item definition into a UI item object.\n *\n *\t\teditorInstance.ui.addHandler( CKEDITOR.UI_BUTTON, {\n *\t\t\tcreate: function( definition ) {\n *\t\t\t\treturn new CKEDITOR.ui.button( definition );\n *\t\t\t}\n *\t\t} );\n *\n * @method create\n * @param {Object} definition The item definition.\n * @returns {Object} The UI element.\n * @todo We lack the \"UI element\" abstract super class.\n */\n\n/**\n * The element in the {@link CKEDITOR#document host page's document} that contains the editor content.\n * If the [fixed editor UI](#!/guide/dev_uitypes-section-fixed-user-interface) is used, then it will be set to\n * `editor.ui.space( 'contents' )` &mdash; i.e. the `<div>` which contains the editor `<iframe>` (in case of classic editor)\n * or {@link CKEDITOR.editable} (in case of inline editor). Otherwise it is set to the {@link CKEDITOR.editable} itself.\n *\n * Use the position of this element if you need to position elements placed in the host page's document relatively to the\n * editor content.\n *\n *\t\tvar editor = CKEDITOR.instances.editor1;\n *\t\tconsole.log( editor.ui.contentsElement.getName() ); // 'div'\n *\n * @since 4.5\n * @readonly\n * @property {CKEDITOR.dom.element} contentsElement\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/ui.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.editor} class that represents an\n *\t\teditor instance.\n */\n\n( function() {\n\t// Override the basic constructor defined at editor_basic.js.\n\tEditor.prototype = CKEDITOR.editor.prototype;\n\tCKEDITOR.editor = Editor;\n\n\t/**\n\t * Represents an editor instance. This constructor should be rarely\n\t * used in favor of the {@link CKEDITOR} editor creation functions.\n\t *\n\t * @class CKEDITOR.editor\n\t * @mixins CKEDITOR.event\n\t * @constructor Creates an editor class instance.\n\t * @param {Object} [instanceConfig] Configuration values for this specific instance.\n\t * @param {CKEDITOR.dom.element} [element] The DOM element upon which this editor\n\t * will be created.\n\t * @param {Number} [mode] The element creation mode to be used by this editor.\n\t */\n\tfunction Editor( instanceConfig, element, mode ) {\n\t\t// Call the CKEDITOR.event constructor to initialize this instance.\n\t\tCKEDITOR.event.call( this );//有两个类，一个是editor类 一个是event类，这里将event类的构造函数的执行环境改为editor类\n\t\t// Make a clone of the config object, to avoid having it touched by our code. (#9636)\n\t\tinstanceConfig = instanceConfig && CKEDITOR.tools.clone( instanceConfig );\n\t\t// if editor is created off one page element.\n\t\tif ( element !== undefined ) {\n\t\t\t// Asserting element and mode not null.\n\t\t\tif ( !( element instanceof CKEDITOR.dom.element ) )\n\t\t\t\tthrow new Error( 'Expect element of type CKEDITOR.dom.element.' );\n\t\t\telse if ( !mode )\n\t\t\t\tthrow new Error( 'One of the element modes must be specified.' );\n\n\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.quirks && mode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\t\tthrow new Error( 'Inline element mode is not supported on IE quirks.' );\n\n\t\t\tif ( !isSupportedElement( element, mode ) )\n\t\t\t\tthrow new Error( 'The specified element mode is not supported on element: \"' + element.getName() + '\".' );\n\n\t\t\t/**\n\t\t\t * The original host page element upon which the editor is created. It is only\n\t\t\t * supposed to be provided by the particular editor creator and is not subject to\n\t\t\t * be modified.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {CKEDITOR.dom.element}\n\t\t\t */\n\t\t\tthis.element = element;\n\n\t\t\t/**\n\t\t\t * This property indicates the way this instance is associated with the {@link #element}.\n\t\t\t * See also {@link CKEDITOR#ELEMENT_MODE_INLINE} and {@link CKEDITOR#ELEMENT_MODE_REPLACE}.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {Number}\n\t\t\t */\n\t\t\tthis.elementMode = mode;\n\n\t\t\tthis.name = ( this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO ) && ( element.getId() || element.getNameAtt() );\n\t\t} else {\n\t\t\tthis.elementMode = CKEDITOR.ELEMENT_MODE_NONE;\n\t\t}\n\n\t\t// Declare the private namespace.\n\t\tthis._ = {};\n\n\t\tthis.commands = {};\n\n\t\t/**\n\t\t * Contains all UI templates created for this editor instance.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Object}\n\t\t */\n\t\tthis.templates = {};\n\n\t\t/**\n\t\t * A unique identifier of this editor instance.\n\t\t *\n\t\t * **Note:** It will be originated from the `id` or `name`\n\t\t * attribute of the {@link #element}, otherwise a name pattern of\n\t\t * `'editor{n}'` will be used.\n\t\t *\n\t\t * @readonly\n\t\t * @property {String}\n\t\t */\n\t\tthis.name = this.name || genEditorName();\n\n\t\t/**\n\t\t * A unique random string assigned to each editor instance on the page.\n\t\t *\n\t\t * @readonly\n\t\t * @property {String}\n\t\t */\n\t\tthis.id = CKEDITOR.tools.getNextId();\n\n\t\t/**\n\t\t * Indicates editor initialization status. The following statuses are available:\n\t\t *\n\t\t *\t* **unloaded**: The initial state &mdash; the editor instance was initialized,\n\t\t *\tbut its components (configuration, plugins, language files) are not loaded yet.\n\t\t *\t* **loaded**: The editor components were loaded &mdash; see the {@link CKEDITOR.editor#loaded} event.\n\t\t *\t* **ready**: The editor is fully initialized and ready &mdash; see the {@link CKEDITOR.editor#instanceReady} event.\n\t\t *\t* **destroyed**: The editor was destroyed &mdash; see the {@link CKEDITOR.editor#method-destroy} method.\n\t\t *\n\t\t * @since 4.1\n\t\t * @readonly\n\t\t * @property {String}\n\t\t */\n\t\tthis.status = 'unloaded';\n\n\t\t/**\n\t\t * The configuration for this editor instance. It inherits all\n\t\t * settings defined in {@link CKEDITOR.config}, combined with settings\n\t\t * loaded from custom configuration files and those defined inline in\n\t\t * the page when creating the editor.\n\t\t *\n\t\t *\t\tvar editor = CKEDITOR.instances.editor1;\n\t\t *\t\talert( editor.config.skin ); // e.g. 'moono'\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.config}\n\t\t */\n\t\tthis.config = CKEDITOR.tools.prototypedCopy( CKEDITOR.config );\n\n\n\t\t/**\n\t\t * The namespace containing UI features related to this editor instance.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.ui}\n\t\t */\n\t\tthis.ui = new CKEDITOR.ui( this );\n\n\t\t/**\n\t\t * Controls the focus state of this editor instance. This property\n\t\t * is rarely used for normal API operations. It is mainly\n\t\t * targeted at developers adding UI elements to the editor interface.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.focusManager}\n\t\t */\n\t\tthis.focusManager = new CKEDITOR.focusManager( this );\n\n\t\t/**\n\t\t * Controls keystroke typing in this editor instance.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.keystrokeHandler}\n\t\t */\n\t\tthis.keystrokeHandler = new CKEDITOR.keystrokeHandler( this );\n\n\t\t// Make the editor update its command states on mode change.\n\t\tthis.on( 'readOnly', updateCommands );\n\t\tthis.on( 'selectionChange', function( evt ) {\n\t\t\tupdateCommandsContext( this, evt.data.path );\n\t\t} );\n\t\tthis.on( 'activeFilterChange', function() {\n\t\t\tupdateCommandsContext( this, this.elementPath(), true );\n\t\t} );\n\t\tthis.on( 'mode', updateCommands );\n\n\t\t// Handle startup focus.\n\t\tthis.on( 'instanceReady', function() {\n\t\t\tthis.config.startupFocus && this.focus();\n\t\t} );\n\n\t\tCKEDITOR.fire( 'instanceCreated', null, this );\n\n\t\t// Add this new editor to the CKEDITOR.instances collections.\n\t\tCKEDITOR.add( this );\n\n\t\t// Return the editor instance immediately to enable early stage event registrations.\n\t\tCKEDITOR.tools.setTimeout( function() {//罪魁祸首\n\t\t\tif ( this.status !== 'destroyed' ) {\n\t\t\t\tinitConfig( this, instanceConfig );\n\t\t\t} else {\n\t\t\t\tCKEDITOR.warn( 'editor-incorrect-destroy' );\n\t\t\t}\n\t\t}, 0, this );\n\t\t// console.log(this.config);\n\t\t// return;\n\t}\n\n\tvar nameCounter = 0;\n\n\tfunction genEditorName() {\n\t\tdo {\n\t\t\tvar name = 'editor' + ( ++nameCounter );\n\t\t}\n\t\twhile ( CKEDITOR.instances[ name ] );\n\n\t\treturn name;\n\t}\n\n\t// Asserting element DTD depending on mode.\n\tfunction isSupportedElement( element, mode ) {\n\t\tif ( mode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\treturn element.is( CKEDITOR.dtd.$editable ) || element.is( 'textarea' );\n\t\telse if ( mode == CKEDITOR.ELEMENT_MODE_REPLACE )\n\t\t\treturn !element.is( CKEDITOR.dtd.$nonBodyContent );\n\t\treturn 1;\n\t}\n\n\tfunction updateCommands() {\n\t\tvar commands = this.commands,\n\t\t\tname;\n\n\t\tfor ( name in commands )\n\t\t\tupdateCommand( this, commands[ name ] );\n\t}\n\n\tfunction updateCommand( editor, cmd ) {\n\t\tcmd[ cmd.startDisabled ? 'disable' : editor.readOnly && !cmd.readOnly ? 'disable' : cmd.modes[ editor.mode ] ? 'enable' : 'disable' ]();\n\t}\n\n\tfunction updateCommandsContext( editor, path, forceRefresh ) {\n\t\t// Commands cannot be refreshed without a path. In edge cases\n\t\t// it may happen that there's no selection when this function is executed.\n\t\t// For example when active filter is changed in #10877.\n\t\tif ( !path )\n\t\t\treturn;\n\n\t\tvar command,\n\t\t\tname,\n\t\t\tcommands = editor.commands;\n\n\t\tfor ( name in commands ) {\n\t\t\tcommand = commands[ name ];\n\n\t\t\tif ( forceRefresh || command.contextSensitive )\n\t\t\t\tcommand.refresh( editor, path );\n\t\t}\n\t}\n\n\t// ##### START: Config Privates\n\n\t// These function loads custom configuration files and cache the\n\t// CKEDITOR.editorConfig functions defined on them, so there is no need to\n\t// download them more than once for several instances.\n\tvar loadConfigLoaded = {};\n\n\tfunction loadConfig( editor ) {\n\t\tvar customConfig = editor.config.customConfig;\n\t\t// Check if there is a custom config to load.\n\t\tif ( !customConfig )\n\t\t\treturn false;\n\n\t\tcustomConfig = CKEDITOR.getUrl( customConfig );\n\n\t\tvar loadedConfig = loadConfigLoaded[ customConfig ] || ( loadConfigLoaded[ customConfig ] = {} );\n\n\t\t// If the custom config has already been downloaded, reuse it.\n\t\tif ( loadedConfig.fn ) {\n\t\t\t// Call the cached CKEDITOR.editorConfig defined in the custom\n\t\t\t// config file for the editor instance depending on it.\n\t\t\tloadedConfig.fn.call( editor, editor.config );\n\n\t\t\t// If there is no other customConfig in the chain, fire the\n\t\t\t// \"configLoaded\" event.\n\t\t\tif ( CKEDITOR.getUrl( editor.config.customConfig ) == customConfig || !loadConfig( editor ) )\n\t\t\t\teditor.fireOnce( 'customConfigLoaded' );\n\t\t} else {\n\t\t\t// Load the custom configuration file.\n\t\t\t// To resolve customConfig race conflicts, use scriptLoader#queue\n\t\t\t// instead of scriptLoader#load (#6504).\n\t\t\t// CKEDITOR.scriptLoader.queue( customConfig, function() {//这里去拿了配置\n\t\t\t\t// If the CKEDITOR.editorConfig function has been properly\n\t\t\t\t// defined in the custom configuration file, cache it.\n\t\t\t\t// if ( CKEDITOR.editorConfig )\n\t\t\t\t\tloadedConfig.fn = CKEDITOR.editorConfig;\n\t\t\t\t// else\n\t\t\t\t\t// loadedConfig.fn = function() {};\n\n\t\t\t\t// Call the load config again. This time the custom\n\t\t\t\t// config is already cached and so it will get loaded.\n\t\t\t\tloadConfig( editor );\n\t\t\t// } );\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction initConfig( editor, instanceConfig ) {\n\n\t\t// Setup the lister for the \"customConfigLoaded\" event.\n\t\teditor.on( 'customConfigLoaded', function() {\n\n\t\t\tif ( instanceConfig ) {\n\t\t\t\t// Register the events that may have been set at the instance\n\t\t\t\t// configuration object.\n\t\t\t\tif ( instanceConfig.on ) {\n\t\t\t\t\tfor ( var eventName in instanceConfig.on ) {\n\t\t\t\t\t\teditor.on( eventName, instanceConfig.on[ eventName ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Overwrite the settings from the in-page config.\n\t\t\t\tCKEDITOR.tools.extend( editor.config, instanceConfig, true );\n\n\t\t\t\tdelete editor.config.on;\n\t\t\t}\n\n\t\t\tonConfigLoaded( editor );\n\t\t} );\n\n\t\t// The instance config may override the customConfig setting to avoid\n\t\t// loading the default ~/config.js file.\n\t\tif ( instanceConfig && instanceConfig.customConfig != null )\n\t\t\teditor.config.customConfig = instanceConfig.customConfig;\n\n\t\t// Load configs from the custom configuration files.\n\t\tif ( !loadConfig( editor ) )\n\t\t\teditor.fireOnce( 'customConfigLoaded' );\n\t}\n\n\t// ##### END: Config Privates\n\n\t// Set config related properties.\n\tfunction onConfigLoaded( editor ) {\n\n\t\tvar config = editor.config;\n\n\t\t/**\n\t\t * Indicates the read-only state of this editor. This is a read-only property.\n\t\t * See also {@link CKEDITOR.editor#setReadOnly}.\n\t\t *\n\t\t * @since 3.6\n\t\t * @readonly\n\t\t * @property {Boolean}\n\t\t */\n\t\teditor.readOnly = isEditorReadOnly();\n\n\t\tfunction isEditorReadOnly() {\n\t\t\tif ( config.readOnly ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ) {\n\t\t\t\tif ( editor.element.is( 'textarea' ) ) {\n\t\t\t\t\treturn editor.element.hasAttribute( 'disabled' ) || editor.element.hasAttribute( 'readonly' );\n\t\t\t\t} else {\n\t\t\t\t\treturn editor.element.isReadOnly();\n\t\t\t\t}\n\t\t\t} else if ( editor.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ) {\n\t\t\t\treturn editor.element.hasAttribute( 'disabled' ) || editor.element.hasAttribute( 'readonly' );\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Indicates that the editor is running in an environment where\n\t\t * no block elements are accepted inside the content.\n\t\t *\n\t\t * This can be for example inline editor based on an `<h1>` element.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Boolean}\n\t\t */\n\t\teditor.blockless = editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ?\n\t\t\t!( editor.element.is( 'textarea' ) || CKEDITOR.dtd[ editor.element.getName() ].p ) :\n\t\t\tfalse;\n\n\t\t/**\n\t\t * The [tabbing navigation](http://en.wikipedia.org/wiki/Tabbing_navigation) order determined for this editor instance.\n\t\t * This can be set by the <code>{@link CKEDITOR.config#tabIndex}</code>\n\t\t * setting or taken from the `tabindex` attribute of the\n\t\t * {@link #element} associated with the editor.\n\t\t *\n\t\t *\t\talert( editor.tabIndex ); // e.g. 0\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [=0]\n\t\t */\n\t\teditor.tabIndex = config.tabIndex || editor.element && editor.element.getAttribute( 'tabindex' ) || 0;\n\n\t\teditor.activeEnterMode = editor.enterMode = validateEnterMode( editor, config.enterMode );\n\t\teditor.activeShiftEnterMode = editor.shiftEnterMode = validateEnterMode( editor, config.shiftEnterMode );\n\n\t\t// Set CKEDITOR.skinName. Note that it is not possible to have\n\t\t// different skins on the same page, so the last one to set it \"wins\".\n\t\tif ( config.skin )\n\t\t\tCKEDITOR.skinName = config.skin;\n\n\t\t// Fire the \"configLoaded\" event.\n\t\teditor.fireOnce( 'configLoaded' );\n\n\t\tinitComponents( editor );\n\t}\n\n\t// Various other core components that read editor configuration.\n\tfunction initComponents( editor ) {\n\t\t// Documented in dataprocessor.js.\n\t\teditor.dataProcessor = new CKEDITOR.htmlDataProcessor( editor );\n\n\t\t// Set activeFilter directly to avoid firing event.\n\t\teditor.filter = editor.activeFilter = new CKEDITOR.filter( editor );\n\n\t\tloadSkin( editor );\n\t}\n\n\tfunction loadSkin( editor ) {\n\t\tCKEDITOR.skin.loadPart( 'editor', function() {\n\t\t\tloadLang( editor );\n\t\t} );\n\t}\n\n\tfunction loadLang( editor ) {\n\t\tCKEDITOR.lang.load( editor.config.language, editor.config.defaultLanguage, function( languageCode, lang ) {\n\t\t\tvar configTitle = editor.config.title;\n\n\t\t\t/**\n\t\t\t * The code for the language resources that have been loaded\n\t\t\t * for the user interface elements of this editor instance.\n\t\t\t *\n\t\t\t *\t\talert( editor.langCode ); // e.g. 'en'\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {String}\n\t\t\t */\n\t\t\teditor.langCode = languageCode;\n\n\t\t\t/**\n\t\t\t * An object that contains all language strings used by the editor interface.\n\t\t\t *\n\t\t\t *\t\talert( editor.lang.basicstyles.bold ); // e.g. 'Negrito' (if the language is set to Portuguese)\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {Object} lang\n\t\t\t */\n\t\t\t// As we'll be adding plugin specific entries that could come\n\t\t\t// from different language code files, we need a copy of lang,\n\t\t\t// not a direct reference to it.\n\t\t\teditor.lang = CKEDITOR.tools.prototypedCopy( lang );\n\n\t\t\t/**\n\t\t\t * Indicates the human-readable title of this editor. Although this is a read-only property,\n\t\t\t * it can be initialized with {@link CKEDITOR.config#title}.\n\t\t\t *\n\t\t\t * **Note:** Please do not confuse this property with {@link CKEDITOR.editor#name editor.name}\n\t\t\t * which identifies the instance in the {@link CKEDITOR#instances} literal.\n\t\t\t *\n\t\t\t * @since 4.2\n\t\t\t * @readonly\n\t\t\t * @property {String/Boolean}\n\t\t\t */\n\t\t\teditor.title = typeof configTitle == 'string' || configTitle === false ? configTitle : [ editor.lang.editor, editor.name ].join( ', ' );\n\n\t\t\tif ( !editor.config.contentsLangDirection ) {\n\t\t\t\t// Fallback to either the editable element direction or editor UI direction depending on creators.\n\t\t\t\teditor.config.contentsLangDirection = editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? editor.element.getDirection( 1 ) : editor.lang.dir;\n\t\t\t}\n\n\t\t\teditor.fire( 'langLoaded' );\n\n\t\t\tpreloadStylesSet( editor );\n\t\t} );\n\n\n\t}\n\n\t// Preloads styles set file (config.stylesSet).\n\t// If stylesSet was defined directly (by an array)\n\t// this function will call loadPlugins fully synchronously.\n\t// If stylesSet is a string (path) loadPlugins will\n\t// be called asynchronously.\n\t// In both cases - styles will be preload before plugins initialization.\n\tfunction preloadStylesSet( editor ) {\n\t\teditor.getStylesSet( function( styles ) {\n\t\t\t// Wait for editor#loaded, so plugins could add their listeners.\n\t\t\t// But listen with high priority to fire editor#stylesSet before editor#uiReady and editor#setData.\n\t\t\teditor.once( 'loaded', function() {\n\t\t\t\t// Note: we can't use fireOnce because this event may canceled and fired again.\n\t\t\t\teditor.fire( 'stylesSet', { styles: styles } );\n\t\t\t}, null, null, 1 );\n\n\t\t\tloadPlugins( editor );\n\t\t} );\n\t}\n\n\tfunction loadPlugins( editor ) {\n\t\tvar config = editor.config,\n\t\t\tplugins = config.plugins,\n\t\t\textraPlugins = config.extraPlugins,\n\t\t\tremovePlugins = config.removePlugins;\n\t\tif ( extraPlugins ) {\n\t\t\t// Remove them first to avoid duplications.\n\t\t\tvar extraRegex = new RegExp( '(?:^|,)(?:' + extraPlugins.replace( /\\s*,\\s*/g, '|' ) + ')(?=,|$)', 'g' );\n\t\t\tplugins = plugins.replace( extraRegex, '' );\n\n\t\t\tplugins += ',' + extraPlugins;\n\t\t}\n\n\t\tif ( removePlugins ) {\n\t\t\tvar removeRegex = new RegExp( '(?:^|,)(?:' + removePlugins.replace( /\\s*,\\s*/g, '|' ) + ')(?=,|$)', 'g' );\n\t\t\tplugins = plugins.replace( removeRegex, '' );\n\t\t}\n\n\t\t// Load the Adobe AIR plugin conditionally.\n\t\tCKEDITOR.env.air && ( plugins += ',adobeair' );\n\n\t\t// Load all plugins defined in the \"plugins\" setting.\n\t\tCKEDITOR.plugins.load( plugins.split( ',' ), function( plugins ) {\n\t\t\t// The list of plugins.\n\t\t\tvar pluginsArray = [];\n\n\t\t\t// The language code to get loaded for each plugin. Null\n\t\t\t// entries will be appended for plugins with no language files.\n\t\t\tvar languageCodes = [];\n\n\t\t\t// The list of URLs to language files.\n\t\t\tvar languageFiles = [];\n\n\t\t\t/**\n\t\t\t * An object that contains references to all plugins used by this\n\t\t\t * editor instance.\n\t\t\t *\n\t\t\t *\t\talert( editor.plugins.dialog.path ); // e.g. 'http://example.com/ckeditor/plugins/dialog/'\n\t\t\t *\n\t\t\t *\t\t// Check if a plugin is available.\n\t\t\t *\t\tif ( editor.plugins.image ) {\n\t\t\t *\t\t\t...\n\t\t\t *\t\t}\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {Object}\n\t\t\t */\n\n\t\t\teditor.plugins = plugins;\n\n\t\t\t// Loop through all plugins, to build the list of language\n\t\t\t// files to get loaded.\n\t\t\t//\n\t\t\t// Check also whether any of loaded plugins doesn't require plugins\n\t\t\t// defined in config.removePlugins. Throw non-blocking error if this happens.\n\t\t\tfor ( var pluginName in plugins ) {\n\t\t\t\tvar plugin = plugins[ pluginName ],\n\t\t\t\t\tpluginLangs = plugin.lang,\n\t\t\t\t\tlang = null,\n\t\t\t\t\trequires = plugin.requires,\n\t\t\t\t\tmatch, name;\n\n\t\t\t\t// Transform it into a string, if it's not one.\n\t\t\t\tif ( CKEDITOR.tools.isArray( requires ) )\n\t\t\t\t\trequires = requires.join( ',' );\n\n\t\t\t\tif ( requires && ( match = requires.match( removeRegex ) ) ) {\n\t\t\t\t\twhile ( ( name = match.pop() ) ) {\n\t\t\t\t\t\tCKEDITOR.error( 'editor-plugin-required', { plugin: name.replace( ',', '' ), requiredBy: pluginName } );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If the plugin has \"lang\".\n\t\t\t\tif ( pluginLangs && !editor.lang[ pluginName ] ) {\n\t\t\t\t\t// Trasnform the plugin langs into an array, if it's not one.\n\t\t\t\t\tif ( pluginLangs.split )\n\t\t\t\t\t\tpluginLangs = pluginLangs.split( ',' );\n\n\t\t\t\t\t// Resolve the plugin language. If the current language\n\t\t\t\t\t// is not available, get English or the first one.\n\t\t\t\t\tif ( CKEDITOR.tools.indexOf( pluginLangs, editor.langCode ) >= 0 )\n\t\t\t\t\t\tlang = editor.langCode;\n\t\t\t\t\telse {\n\t\t\t\t\t\t// The language code may have the locale information (zh-cn).\n\t\t\t\t\t\t// Fall back to locale-less in that case (zh).\n\t\t\t\t\t\tvar langPart = editor.langCode.replace( /-.*/, '' );\n\t\t\t\t\t\tif ( langPart != editor.langCode && CKEDITOR.tools.indexOf( pluginLangs, langPart ) >= 0 )\n\t\t\t\t\t\t\tlang = langPart;\n\t\t\t\t\t\t// Try the only \"generic\" option we have: English.\n\t\t\t\t\t\telse if ( CKEDITOR.tools.indexOf( pluginLangs, 'en' ) >= 0 )\n\t\t\t\t\t\t\tlang = 'en';\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tlang = pluginLangs[ 0 ];\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !plugin.langEntries || !plugin.langEntries[ lang ] ) {\n\t\t\t\t\t\t// Put the language file URL into the list of files to\n\t\t\t\t\t\t// get downloaded.\n\t\t\t\t\t\tlanguageFiles.push( CKEDITOR.getUrl( plugin.path + 'lang/' + lang + '.js' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.lang[ pluginName ] = plugin.langEntries[ lang ];\n\t\t\t\t\t\tlang = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Save the language code, so we know later which\n\t\t\t\t// language has been resolved to this plugin.\n\t\t\t\tlanguageCodes.push( lang );\n\n\t\t\t\tpluginsArray.push( plugin );\n\t\t\t}\n\n\t\t\t// Load all plugin specific language files in a row.\n\t\t\tCKEDITOR.scriptLoader.load( languageFiles, function() {\n\t\t\t\t// Initialize all plugins that have the \"beforeInit\" and \"init\" methods defined.\n\t\t\t\tvar methods = [ 'beforeInit', 'init', 'afterInit' ];\n\t\t\t\tfor ( var m = 0; m < methods.length; m++ ) {\n\t\t\t\t\tfor ( var i = 0; i < pluginsArray.length; i++ ) {\n\t\t\t\t\t\tvar plugin = pluginsArray[ i ];\n\n\t\t\t\t\t\t// Uses the first loop to update the language entries also.\n\t\t\t\t\t\tif ( m === 0 && languageCodes[ i ] && plugin.lang && plugin.langEntries )\n\t\t\t\t\t\t\teditor.lang[ plugin.name ] = plugin.langEntries[ languageCodes[ i ] ];\n\n\t\t\t\t\t\t// Call the plugin method (beforeInit and init).\n\t\t\t\t\t\tif ( plugin[ methods[ m ] ] )\n\t\t\t\t\t\t\tplugin[ methods[ m ] ]( editor );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\teditor.fireOnce( 'pluginsLoaded' );\n\n\t\t\t\t// Setup the configured keystrokes.\n\t\t\t\tconfig.keystrokes && editor.setKeystroke( editor.config.keystrokes );\n\n\t\t\t\t// Setup the configured blocked keystrokes.\n\t\t\t\tfor ( i = 0; i < editor.config.blockedKeystrokes.length; i++ )\n\t\t\t\t\teditor.keystrokeHandler.blockedKeystrokes[ editor.config.blockedKeystrokes[ i ] ] = 1;\n\n\t\t\t\teditor.status = 'loaded';\n\t\t\t\teditor.fireOnce( 'loaded' );\n\t\t\t\tCKEDITOR.fire( 'instanceLoaded', null, editor );\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Send to data output back to editor's associated element.\n\tfunction updateEditorElement() {\n\t\tvar element = this.element;\n\n\t\t// Some editor creation mode will not have the\n\t\t// associated element.\n\t\tif ( element && this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO ) {\n\t\t\tvar data = this.getData();\n\n\t\t\tif ( this.config.htmlEncodeOutput )\n\t\t\t\tdata = CKEDITOR.tools.htmlEncode( data );\n\n\t\t\tif ( element.is( 'textarea' ) )\n\t\t\t\telement.setValue( data );\n\t\t\telse\n\t\t\t\telement.setHtml( data );\n\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Always returns ENTER_BR in case of blockless editor.\n\tfunction validateEnterMode( editor, enterMode ) {\n\t\treturn editor.blockless ? CKEDITOR.ENTER_BR : enterMode;\n\t}\n\n\t// Create DocumentFragment from specified ranges. For now it handles only tables in Firefox\n\t// and returns DocumentFragment from the 1. range for other cases. (#13884)\n\tfunction createDocumentFragmentFromRanges( ranges, editable ) {\n\t\tvar docFragment = new CKEDITOR.dom.documentFragment(),\n\t\t\ttableClone,\n\t\t\tcurrentRow,\n\t\t\tcurrentRowClone;\n\n\t\tfor ( var i = 0; i < ranges.length; i++ ) {\n\t\t\tvar range = ranges[ i ],\n\t\t\t\tcontainer = range.startContainer;\n\n\t\t\tif ( container.getName && container.getName() == 'tr' ) {\n\t\t\t\tif ( !tableClone ) {\n\t\t\t\t\ttableClone = container.getAscendant( 'table' ).clone();\n\t\t\t\t\ttableClone.append( container.getAscendant( 'tbody' ).clone() );\n\t\t\t\t\tdocFragment.append( tableClone );\n\t\t\t\t\ttableClone = tableClone.findOne( 'tbody' );\n\t\t\t\t}\n\n\t\t\t\tif ( !( currentRow && currentRow.equals( container ) ) ) {\n\t\t\t\t\tcurrentRow = container;\n\t\t\t\t\tcurrentRowClone = container.clone();\n\t\t\t\t\ttableClone.append( currentRowClone );\n\t\t\t\t}\n\n\t\t\t\tcurrentRowClone.append( range.cloneContents() );\n\t\t\t} else {\n\t\t\t\t// If there was something else copied with table,\n\t\t\t\t// append it to DocumentFragment.\n\t\t\t\tdocFragment.append( range.cloneContents() );\n\t\t\t}\n\t\t}\n\n\t\tif ( !tableClone ) {\n\t\t\treturn editable.getHtmlFromRange( ranges[ 0 ] );\n\t\t}\n\n\t\treturn docFragment;\n\t}\n\n\tCKEDITOR.tools.extend( CKEDITOR.editor.prototype, {\n\t\t/**\n\t\t * Adds a command definition to the editor instance. Commands added with\n\t\t * this function can be executed later with the <code>{@link #execCommand}</code> method.\n\t\t *\n\t\t * \t\teditorInstance.addCommand( 'sample', {\n\t\t * \t\t\texec: function( editor ) {\n\t\t * \t\t\t\talert( 'Executing a command for the editor name \"' + editor.name + '\"!' );\n\t\t * \t\t\t}\n\t\t * \t\t} );\n\t\t *\n\t\t * @param {String} commandName The indentifier name of the command.\n\t\t * @param {CKEDITOR.commandDefinition} commandDefinition The command definition.\n\t\t */\n\t\taddCommand: function( commandName, commandDefinition ) {\n\t\t\tcommandDefinition.name = commandName.toLowerCase();\n\t\t\tvar cmd = new CKEDITOR.command( this, commandDefinition );\n\n\t\t\t// Update command when mode is set.\n\t\t\t// This guarantees that commands added before first editor#mode\n\t\t\t// aren't immediately updated, but waits for editor#mode and that\n\t\t\t// commands added later are immediately refreshed, even when added\n\t\t\t// before instanceReady. #10103, #10249\n\t\t\tif ( this.mode )\n\t\t\t\tupdateCommand( this, cmd );\n\n\t\t\treturn this.commands[ commandName ] = cmd;\n\t\t},\n\n\t\t/**\n\t\t * Attaches the editor to a form to call {@link #updateElement} before form submission.\n\t\t * This method is called by both creators ({@link CKEDITOR#replace replace} and\n\t\t * {@link CKEDITOR#inline inline}), so there is no reason to call it manually.\n\t\t *\n\t\t * @private\n\t\t */\n\t\t_attachToForm: function() {\n\t\t\tvar editor = this,\n\t\t\t\telement = editor.element,\n\t\t\t\tform = new CKEDITOR.dom.element( element.$.form );\n\n\t\t\t// If are replacing a textarea, we must\n\t\t\tif ( element.is( 'textarea' ) ) {\n\t\t\t\tif ( form ) {\n\t\t\t\t\tform.on( 'submit', onSubmit );\n\n\t\t\t\t\t// Check if there is no element/elements input with name == \"submit\".\n\t\t\t\t\t// If they exists they will overwrite form submit function (form.$.submit).\n\t\t\t\t\t// If form.$.submit is overwritten we can not do anything with it.\n\t\t\t\t\tif ( isFunction( form.$.submit ) ) {\n\t\t\t\t\t\t// Setup the submit function because it doesn't fire the\n\t\t\t\t\t\t// \"submit\" event.\n\t\t\t\t\t\tform.$.submit = CKEDITOR.tools.override( form.$.submit, function( originalSubmit ) {\n\t\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t\tonSubmit();\n\n\t\t\t\t\t\t\t\t// For IE, the DOM submit function is not a\n\t\t\t\t\t\t\t\t// function, so we need third check.\n\t\t\t\t\t\t\t\tif ( originalSubmit.apply )\n\t\t\t\t\t\t\t\t\toriginalSubmit.apply( this );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\toriginalSubmit();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove 'submit' events registered on form element before destroying.(#3988)\n\t\t\t\t\teditor.on( 'destroy', function() {\n\t\t\t\t\t\tform.removeListener( 'submit', onSubmit );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onSubmit( evt ) {\n\t\t\t\teditor.updateElement();\n\n\t\t\t\t// #8031 If textarea had required attribute and editor is empty fire 'required' event and if\n\t\t\t\t// it was cancelled, prevent submitting the form.\n\t\t\t\tif ( editor._.required && !element.getValue() && editor.fire( 'required' ) === false ) {\n\t\t\t\t\t// When user press save button event (evt) is undefined (see save plugin).\n\t\t\t\t\t// This method works because it throws error so originalSubmit won't be called.\n\t\t\t\t\t// Also this error won't be shown because it will be caught in save plugin.\n\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction isFunction( f ) {\n\t\t\t\t// For IE8 typeof fun == object so we cannot use it.\n\t\t\t\treturn !!( f && f.call && f.apply );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Destroys the editor instance, releasing all resources used by it.\n\t\t * If the editor replaced an element, the element will be recovered.\n\t\t *\n\t\t *\t\talert( CKEDITOR.instances.editor1 ); // e.g. object\n\t\t *\t\tCKEDITOR.instances.editor1.destroy();\n\t\t *\t\talert( CKEDITOR.instances.editor1 ); // undefined\n\t\t *\n\t\t * @param {Boolean} [noUpdate] If the instance is replacing a DOM\n\t\t * element, this parameter indicates whether or not to update the\n\t\t * element with the instance content.\n\t\t */\n\t\tdestroy: function( noUpdate ) {\n\t\t\tthis.fire( 'beforeDestroy' );\n\n\t\t\t!noUpdate && updateEditorElement.call( this );\n\n\t\t\tthis.editable( null );\n\n\t\t\tif ( this.filter ) {\n\t\t\t\tthis.filter.destroy();\n\t\t\t\tdelete this.filter;\n\t\t\t}\n\n\t\t\tdelete this.activeFilter;\n\n\t\t\tthis.status = 'destroyed';\n\n\t\t\tthis.fire( 'destroy' );\n\n\t\t\t// Plug off all listeners to prevent any further events firing.\n\t\t\tthis.removeAllListeners();\n\n\t\t\tCKEDITOR.remove( this );\n\t\t\tCKEDITOR.fire( 'instanceDestroyed', null, this );\n\t\t},\n\n\t\t/**\n\t\t * Returns an {@link CKEDITOR.dom.elementPath element path} for the selection in the editor.\n\t\t *\n\t\t * @param {CKEDITOR.dom.node} [startNode] From which the path should start,\n\t\t * if not specified defaults to editor selection's\n\t\t * start element yielded by {@link CKEDITOR.dom.selection#getStartElement}.\n\t\t * @returns {CKEDITOR.dom.elementPath}\n\t\t */\n\t\telementPath: function( startNode ) {\n\t\t\tif ( !startNode ) {\n\t\t\t\tvar sel = this.getSelection();\n\t\t\t\tif ( !sel )\n\t\t\t\t\treturn null;\n\n\t\t\t\tstartNode = sel.getStartElement();\n\t\t\t}\n\n\t\t\treturn startNode ? new CKEDITOR.dom.elementPath( startNode, this.editable() ) : null;\n\t\t},\n\n\t\t/**\n\t\t * Shortcut to create a {@link CKEDITOR.dom.range} instance from the editable element.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.range} The DOM range created if the editable has presented.\n\t\t * @see CKEDITOR.dom.range\n\t\t */\n\t\tcreateRange: function() {\n\t\t\tvar editable = this.editable();\n\t\t\treturn editable ? new CKEDITOR.dom.range( editable ) : null;\n\t\t},\n\n\t\t/**\n\t\t * Executes a command associated with the editor.\n\t\t *\n\t\t *\t\teditorInstance.execCommand( 'bold' );\n\t\t *\n\t\t * @param {String} commandName The indentifier name of the command.\n\t\t * @param {Object} [data] The data to be passed to the command.\n\t\t * @returns {Boolean} `true` if the command was executed\n\t\t * successfully, otherwise `false`.\n\t\t * @see CKEDITOR.editor#addCommand\n\t\t */\n\t\texecCommand: function( commandName, data ) {\n\t\t\tvar command = this.getCommand( commandName );\n\n\t\t\tvar eventData = {\n\t\t\t\tname: commandName,\n\t\t\t\tcommandData: data,\n\t\t\t\tcommand: command\n\t\t\t};\n\n\t\t\tif ( command && command.state != CKEDITOR.TRISTATE_DISABLED ) {\n\t\t\t\tif ( this.fire( 'beforeCommandExec', eventData ) !== false ) {\n\t\t\t\t\teventData.returnValue = command.exec( eventData.commandData );\n\n\t\t\t\t\t// Fire the 'afterCommandExec' immediately if command is synchronous.\n\t\t\t\t\tif ( !command.async && this.fire( 'afterCommandExec', eventData ) !== false )\n\t\t\t\t\t\treturn eventData.returnValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// throw 'Unknown command name \"' + commandName + '\"';\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Gets one of the registered commands. Note that after registering a\n\t\t * command definition with {@link #addCommand}, it is\n\t\t * transformed internally into an instance of\n\t\t * {@link CKEDITOR.command}, which will then be returned by this function.\n\t\t *\n\t\t * @param {String} commandName The name of the command to be returned.\n\t\t * This is the same name that is used to register the command with `addCommand`.\n\t\t * @returns {CKEDITOR.command} The command object identified by the provided name.\n\t\t */\n\t\tgetCommand: function( commandName ) {\n\t\t\treturn this.commands[ commandName ];\n\t\t},\n\n\t\t/**\n\t\t * Gets the editor data. The data will be in \"raw\" format. It is the same\n\t\t * data that is posted by the editor.\n\t\t *\n\t\t *\t\tif ( CKEDITOR.instances.editor1.getData() == '' )\n\t\t *\t\t\talert( 'There is no data available.' );\n\t\t *\n\t\t * @param {Boolean} internal If set to `true`, it will prevent firing the\n\t\t * {@link CKEDITOR.editor#beforeGetData} and {@link CKEDITOR.editor#event-getData} events, so\n\t\t * the real content of the editor will not be read and cached data will be returned. The method will work\n\t\t * much faster, but this may result in the editor returning the data that is not up to date. This parameter\n\t\t * should thus only be set to `true` when you are certain that the cached data is up to date.\n\t\t *\n\t\t * @returns {String} The editor data.\n\t\t */\n\t\tgetData: function( internal ) {\n\t\t\t!internal && this.fire( 'beforeGetData' );\n\n\t\t\tvar eventData = this._.data;\n\n\t\t\tif ( typeof eventData != 'string' ) {\n\t\t\t\tvar element = this.element;\n\t\t\t\tif ( element && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE )\n\t\t\t\t\teventData = element.is( 'textarea' ) ? element.getValue() : element.getHtml();\n\t\t\t\telse\n\t\t\t\t\teventData = '';\n\t\t\t}\n\n\t\t\teventData = { dataValue: eventData };\n\n\t\t\t// Fire \"getData\" so data manipulation may happen.\n\t\t\t!internal && this.fire( 'getData', eventData );\n\n\t\t\treturn eventData.dataValue;\n\t\t},\n\n\t\t/**\n\t\t * Gets the \"raw data\" currently available in the editor. This is a\n\t\t * fast method which returns the data as is, without processing, so it is\n\t\t * not recommended to use it on resulting pages. Instead it can be used\n\t\t * combined with the {@link #method-loadSnapshot} method in order\n\t\t * to automatically save the editor data from time to time\n\t\t * while the user is using the editor, to avoid data loss, without risking\n\t\t * performance issues.\n\t\t *\n\t\t *\t\talert( editor.getSnapshot() );\n\t\t *\n\t\t * See also:\n\t\t *\n\t\t * * {@link CKEDITOR.editor#method-getData}.\n\t\t *\n\t\t * @returns {String} Editor \"raw data\".\n\t\t */\n\t\tgetSnapshot: function() {\n\t\t\tvar data = this.fire( 'getSnapshot' );\n\n\t\t\tif ( typeof data != 'string' ) {\n\t\t\t\tvar element = this.element;\n\n\t\t\t\tif ( element && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ) {\n\t\t\t\t\tdata = element.is( 'textarea' ) ? element.getValue() : element.getHtml();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// If we don't have a proper element, set data to an empty string,\n\t\t\t\t\t// as this method is expected to return a string. (#13385)\n\t\t\t\t\tdata = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\n\t\t/**\n\t\t * Loads \"raw data\" into the editor. The data is loaded with processing\n\t\t * straight to the editing area. It should not be used as a way to load\n\t\t * any kind of data, but instead in combination with\n\t\t * {@link #method-getSnapshot}-produced data.\n\t\t *\n\t\t *\t\tvar data = editor.getSnapshot();\n\t\t *\t\teditor.loadSnapshot( data );\n\t\t *\n\t\t * @see CKEDITOR.editor#setData\n\t\t */\n\t\tloadSnapshot: function( snapshot ) {\n\t\t\tthis.fire( 'loadSnapshot', snapshot );\n\t\t},\n\n\t\t/**\n\t\t * Sets the editor data. The data must be provided in the \"raw\" format (HTML).\n\t\t *\n\t\t * Note that this method is asynchronous. The `callback` parameter must\n\t\t * be used if interaction with the editor is needed after setting the data.\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.setData( '<p>This is the editor data.</p>' );\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.setData( '<p>Some other editor data.</p>', {\n\t\t *\t\t\tcallback: function() {\n\t\t *\t\t\t\tthis.checkDirty(); // true\n\t\t *\t\t\t}\n\t\t *\t\t} );\n\t\t *\n\t\t * Note: In **CKEditor 4.4.2** the signature of this method has changed. All arguments\n\t\t * except `data` were wrapped into the `options` object. However, backward compatibility\n\t\t * was preserved and it is still possible to use the `data, callback, internal` arguments.\n\t\t *\n\t\t *\n\t\t * @param {String} data The HTML code to replace current editor content.\n\t\t * @param {Object} [options]\n\t\t * @param {Boolean} [options.internal=false] Whether to suppress any event firing when copying data internally inside the editor.\n\t\t * @param {Function} [options.callback] Function to be called after `setData` is completed (on {@link #dataReady}).\n\t\t * @param {Boolean} [options.noSnapshot=false] If set to `true`, it will prevent recording an undo snapshot.\n\t\t * Introduced in CKEditor 4.4.2.\n\t\t */\n\t\tsetData: function( data, options, internal ) {\n\t\t\tvar fireSnapshot = true,\n\t\t\t\t// Backward compatibility.\n\t\t\t\tcallback = options,\n\t\t\t\teventData;\n\n\t\t\tif ( options && typeof options == 'object' ) {\n\t\t\t\tinternal = options.internal;\n\t\t\t\tcallback = options.callback;\n\t\t\t\tfireSnapshot = !options.noSnapshot;\n\t\t\t}\n\n\t\t\tif ( !internal && fireSnapshot )\n\t\t\t\tthis.fire( 'saveSnapshot' );\n\n\t\t\tif ( callback || !internal ) {\n\t\t\t\tthis.once( 'dataReady', function( evt ) {\n\t\t\t\t\tif ( !internal && fireSnapshot )\n\t\t\t\t\t\tthis.fire( 'saveSnapshot' );\n\n\t\t\t\t\tif ( callback )\n\t\t\t\t\t\tcallback.call( evt.editor );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Fire \"setData\" so data manipulation may happen.\n\t\t\teventData = { dataValue: data };\n\t\t\t!internal && this.fire( 'setData', eventData );\n\n\t\t\tthis._.data = eventData.dataValue;\n\n\t\t\t!internal && this.fire( 'afterSetData', eventData );\n\t\t},\n\n\t\t/**\n\t\t * Puts or restores the editor into the read-only state. When in read-only,\n\t\t * the user is not able to change the editor content, but can still use\n\t\t * some editor features. This function sets the {@link #property-readOnly}\n\t\t * property of the editor, firing the {@link #event-readOnly} event.\n\t\t *\n\t\t * **Note:** The current editing area will be reloaded.\n\t\t *\n\t\t * @since 3.6\n\t\t * @param {Boolean} [isReadOnly] Indicates that the editor must go\n\t\t * read-only (`true`, default) or be restored and made editable (`false`).\n\t\t */\n\t\tsetReadOnly: function( isReadOnly ) {\n\t\t\tisReadOnly = ( isReadOnly == null ) || isReadOnly;\n\n\t\t\tif ( this.readOnly != isReadOnly ) {\n\t\t\t\tthis.readOnly = isReadOnly;\n\n\t\t\t\t// Block or release BACKSPACE key according to current read-only\n\t\t\t\t// state to prevent browser's history navigation (#9761).\n\t\t\t\tthis.keystrokeHandler.blockedKeystrokes[ 8 ] = +isReadOnly;\n\n\t\t\t\tthis.editable().setReadOnly( isReadOnly );\n\n\t\t\t\t// Fire the readOnly event so the editor features can update\n\t\t\t\t// their state accordingly.\n\t\t\t\tthis.fire( 'readOnly' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Inserts HTML code into the currently selected position in the editor in WYSIWYG mode.\n\t\t *\n\t\t * Example:\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.insertHtml( '<p>This is a new paragraph.</p>' );\n\t\t *\n\t\t * Fires the {@link #event-insertHtml} and {@link #event-afterInsertHtml} events. The HTML is inserted\n\t\t * in the {@link #event-insertHtml} event's listener with a default priority (10) so you can add listeners with\n\t\t * lower or higher priorities in order to execute some code before or after the HTML is inserted.\n\t\t *\n\t\t * @param {String} html HTML code to be inserted into the editor.\n\t\t * @param {String} [mode='html'] The mode in which the HTML code will be inserted. One of the following:\n\t\t *\n\t\t * * `'html'` &ndash; The inserted content  will completely override the styles at the selected position.\n\t\t * * `'unfiltered_html'` &ndash; Like `'html'` but the content is not filtered with {@link CKEDITOR.filter}.\n\t\t * * `'text'` &ndash; The inserted content will inherit the styles applied in\n\t\t *    the selected position. This mode should be used when inserting \"htmlified\" plain text\n\t\t *    (HTML without inline styles and styling elements like `<b>`, `<strong>`, `<span style=\"...\">`).\n\t\t *\n\t\t * @param {CKEDITOR.dom.range} [range] If specified, the HTML will be inserted into the range\n\t\t * instead of into the selection. The selection will be placed at the end of the insertion (like in the normal case).\n\t\t * Introduced in CKEditor 4.5.\n\t\t */\n\t\tinsertHtml: function( html, mode, range ) {\n\t\t\tthis.fire( 'insertHtml', { dataValue: html, mode: mode, range: range } );\n\t\t},\n\n\t\t/**\n\t\t * Inserts text content into the currently selected position in the\n\t\t * editor in WYSIWYG mode. The styles of the selected element will be applied to the inserted text.\n\t\t * Spaces around the text will be left untouched.\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.insertText( ' line1 \\n\\n line2' );\n\t\t *\n\t\t * Fires the {@link #event-insertText} and {@link #event-afterInsertHtml} events. The text is inserted\n\t\t * in the {@link #event-insertText} event's listener with a default priority (10) so you can add listeners with\n\t\t * lower or higher priorities in order to execute some code before or after the text is inserted.\n\t\t *\n\t\t * @since 3.5\n\t\t * @param {String} text Text to be inserted into the editor.\n\t\t */\n\t\tinsertText: function( text ) {\n\t\t\tthis.fire( 'insertText', text );\n\t\t},\n\n\t\t/**\n\t\t * Inserts an element into the currently selected position in the editor in WYSIWYG mode.\n\t\t *\n\t\t *\t\tvar element = CKEDITOR.dom.element.createFromHtml( '<img src=\"hello.png\" border=\"0\" title=\"Hello\" />' );\n\t\t *\t\tCKEDITOR.instances.editor1.insertElement( element );\n\t\t *\n\t\t * Fires the {@link #event-insertElement} event. The element is inserted in the listener with a default priority (10),\n\t\t * so you can add listeners with lower or higher priorities in order to execute some code before or after\n\t\t * the element is inserted.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element The element to be inserted into the editor.\n\t\t */\n\t\tinsertElement: function( element ) {\n\t\t\tthis.fire( 'insertElement', element );\n\t\t},\n\n\t\t/**\n\t\t * Gets the selected HTML (it is returned as a {@link CKEDITOR.dom.documentFragment document fragment}\n\t\t * or a string). This method is designed to work as the user would expect the copy functionality to work.\n\t\t * For instance, if the following selection was made:\n\t\t *\n\t\t *\t\t<p>a<b>b{c}d</b>e</p>\n\t\t *\n\t\t * The following HTML will be returned:\n\t\t *\n\t\t *\t\t<b>c</b>\n\t\t *\n\t\t * As you can see, the information about the bold formatting was preserved, even though the selection was\n\t\t * anchored inside the `<b>` element.\n\t\t *\n\t\t * See also:\n\t\t *\n\t\t * * the {@link #extractSelectedHtml} method,\n\t\t * * the {@link CKEDITOR.editable#getHtmlFromRange} method.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {Boolean} [toString] If `true`, then stringified HTML will be returned.\n\t\t * @returns {CKEDITOR.dom.documentFragment/String}\n\t\t */\n\t\tgetSelectedHtml: function( toString ) {\n\t\t\tvar editable = this.editable(),\n\t\t\t\tselection = this.getSelection(),\n\t\t\t\tranges = selection && selection.getRanges();\n\n\t\t\tif ( !editable || !ranges || ranges.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar docFragment = createDocumentFragmentFromRanges( ranges, editable );\n\n\t\t\treturn toString ? docFragment.getHtml() : docFragment;\n\t\t},\n\n\t\t/**\n\t\t * Gets the selected HTML (it is returned as a {@link CKEDITOR.dom.documentFragment document fragment}\n\t\t * or a string) and removes the selected part of the DOM. This method is designed to work as the user would\n\t\t * expect the cut and delete functionalities to work.\n\t\t *\n\t\t * See also:\n\t\t *\n\t\t * * the {@link #getSelectedHtml} method,\n\t\t * * the {@link CKEDITOR.editable#extractHtmlFromRange} method.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {Boolean} [toString] If `true`, then stringified HTML will be returned.\n\t\t * @param {Boolean} [removeEmptyBlock=false] Default `false` means that the function will keep an empty block (if the\n\t\t * entire content was removed) or it will create it (if a block element was removed) and set the selection in that block.\n\t\t * If `true`, the empty block will be removed or not created. In this case the function will not handle the selection.\n\t\t * @returns {CKEDITOR.dom.documentFragment/String/null}\n\t\t */\n\t\textractSelectedHtml: function( toString, removeEmptyBlock ) {\n\t\t\tvar editable = this.editable(),\n\t\t\t\tranges = this.getSelection().getRanges();\n\n\t\t\tif ( !editable || ranges.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar range = ranges[ 0 ],\n\t\t\t\tdocFragment = editable.extractHtmlFromRange( range, removeEmptyBlock );\n\n\t\t\tif ( !removeEmptyBlock ) {\n\t\t\t\tthis.getSelection().selectRanges( [ range ] );\n\t\t\t}\n\n\t\t\treturn toString ? docFragment.getHtml() : docFragment;\n\t\t},\n\n\t\t/**\n\t\t * Moves the selection focus to the editing area space in the editor.\n\t\t */\n\t\tfocus: function() {\n\t\t\tthis.fire( 'beforeFocus' );\n\t\t},\n\n\t\t/**\n\t\t * Checks whether the current editor content contains changes when\n\t\t * compared to the content loaded into the editor at startup, or to\n\t\t * the content available in the editor when {@link #resetDirty}\n\t\t * was called.\n\t\t *\n\t\t *\t\tfunction beforeUnload( evt ) {\n\t\t *\t\t\tif ( CKEDITOR.instances.editor1.checkDirty() )\n\t\t *\t\t\t\treturn evt.returnValue = \"You will lose the changes made in the editor.\";\n\t\t *\t\t}\n\t\t *\n\t\t *\t\tif ( window.addEventListener )\n\t\t *\t\t\twindow.addEventListener( 'beforeunload', beforeUnload, false );\n\t\t *\t\telse\n\t\t *\t\t\twindow.attachEvent( 'onbeforeunload', beforeUnload );\n\t\t *\n\t\t * @returns {Boolean} `true` if the content contains changes.\n\t\t */\n\t\tcheckDirty: function() {\n\t\t\treturn this.status == 'ready' && this._.previousValue !== this.getSnapshot();\n\t\t},\n\n\t\t/**\n\t\t * Resets the \"dirty state\" of the editor so subsequent calls to\n\t\t * {@link #checkDirty} will return `false` if the user will not\n\t\t * have made further changes to the content.\n\t\t *\n\t\t *\t\talert( editor.checkDirty() ); // e.g. true\n\t\t *\t\teditor.resetDirty();\n\t\t *\t\talert( editor.checkDirty() ); // false\n\t\t */\n\t\tresetDirty: function() {\n\t\t\tthis._.previousValue = this.getSnapshot();\n\t\t},\n\n\t\t/**\n\t\t * Updates the `<textarea>` element that was replaced by the editor with\n\t\t * the current data available in the editor.\n\t\t *\n\t\t * **Note:** This method will only affect those editor instances created\n\t\t * with the {@link CKEDITOR#ELEMENT_MODE_REPLACE} element mode or inline instances\n\t\t * bound to `<textarea>` elements.\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.updateElement();\n\t\t *\t\talert( document.getElementById( 'editor1' ).value ); // The current editor data.\n\t\t *\n\t\t * @see CKEDITOR.editor#element\n\t\t */\n\t\tupdateElement: function() {\n\t\t\treturn updateEditorElement.call( this );\n\t\t},\n\n\t\t/**\n\t\t * Assigns keystrokes associated with editor commands.\n\t\t *\n\t\t *\t\teditor.setKeystroke( CKEDITOR.CTRL + 115, 'save' );\t// Assigned Ctrl+S to the \"save\" command.\n\t\t *\t\teditor.setKeystroke( CKEDITOR.CTRL + 115, false );\t// Disabled Ctrl+S keystroke assignment.\n\t\t *\t\teditor.setKeystroke( [\n\t\t *\t\t\t[ CKEDITOR.ALT + 122, false ],\n\t\t *\t\t\t[ CKEDITOR.CTRL + 121, 'link' ],\n\t\t *\t\t\t[ CKEDITOR.SHIFT + 120, 'bold' ]\n\t\t *\t\t] );\n\t\t *\n\t\t * This method may be used in the following cases:\n\t\t *\n\t\t * * By plugins (like `link` or `basicstyles`) to set their keystrokes when plugins are being loaded.\n\t\t * * During the runtime to modify existing keystrokes.\n\t\t *\n\t\t * The editor handles keystroke configuration in the following order:\n\t\t *\n\t\t * 1. Plugins use this method to define default keystrokes.\n\t\t * 2. Editor extends default keystrokes with {@link CKEDITOR.config#keystrokes}.\n\t\t * 3. Editor blocks keystrokes defined in {@link CKEDITOR.config#blockedKeystrokes}.\n\t\t *\n\t\t * You can then set new keystrokes using this method during the runtime.\n\t\t *\n\t\t * @since 4.0\n\t\t * @param {Number/Array} keystroke A keystroke or an array of keystroke definitions.\n\t\t * @param {String/Boolean} [behavior] A command to be executed on the keystroke.\n\t\t */\n\t\tsetKeystroke: function() {\n\t\t\tvar keystrokes = this.keystrokeHandler.keystrokes,\n\t\t\t\tnewKeystrokes = CKEDITOR.tools.isArray( arguments[ 0 ] ) ? arguments[ 0 ] : [ [].slice.call( arguments, 0 ) ],\n\t\t\t\tkeystroke, behavior;\n\n\t\t\tfor ( var i = newKeystrokes.length; i--; ) {\n\t\t\t\tkeystroke = newKeystrokes[ i ];\n\t\t\t\tbehavior = 0;\n\n\t\t\t\t// It may be a pair of: [ key, command ]\n\t\t\t\tif ( CKEDITOR.tools.isArray( keystroke ) ) {\n\t\t\t\t\tbehavior = keystroke[ 1 ];\n\t\t\t\t\tkeystroke = keystroke[ 0 ];\n\t\t\t\t}\n\n\t\t\t\tif ( behavior )\n\t\t\t\t\tkeystrokes[ keystroke ] = behavior;\n\t\t\t\telse\n\t\t\t\t\tdelete keystrokes[ keystroke ];\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Shorthand for {@link CKEDITOR.filter#addFeature}.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.feature} feature See {@link CKEDITOR.filter#addFeature}.\n\t\t * @returns {Boolean} See {@link CKEDITOR.filter#addFeature}.\n\t\t */\n\t\taddFeature: function( feature ) {\n\t\t\treturn this.filter.addFeature( feature );\n\t\t},\n\n\t\t/**\n\t\t * Sets the active filter ({@link #activeFilter}). Fires the {@link #activeFilterChange} event.\n\t\t *\n\t\t *\t\t// Set active filter which allows only 4 elements.\n\t\t *\t\t// Buttons like Bold, Italic will be disabled.\n\t\t *\t\tvar filter = new CKEDITOR.filter( 'p strong em br' );\n\t\t *\t\teditor.setActiveFilter( filter );\n\t\t *\n\t\t * Setting a new filter will also change the {@link #setActiveEnterMode active Enter modes} to the first values\n\t\t * allowed by the new filter (see {@link CKEDITOR.filter#getAllowedEnterMode}).\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {CKEDITOR.filter} filter Filter instance or a falsy value (e.g. `null`) to reset to the default one.\n\t\t */\n\t\tsetActiveFilter: function( filter ) {\n\t\t\tif ( !filter )\n\t\t\t\tfilter = this.filter;\n\n\t\t\tif ( this.activeFilter !== filter ) {\n\t\t\t\tthis.activeFilter = filter;\n\t\t\t\tthis.fire( 'activeFilterChange' );\n\n\t\t\t\t// Reset active filter to the main one - it resets enter modes, too.\n\t\t\t\tif ( filter === this.filter )\n\t\t\t\t\tthis.setActiveEnterMode( null, null );\n\t\t\t\telse\n\t\t\t\t\tthis.setActiveEnterMode(\n\t\t\t\t\t\tfilter.getAllowedEnterMode( this.enterMode ),\n\t\t\t\t\t\tfilter.getAllowedEnterMode( this.shiftEnterMode, true )\n\t\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Sets the active Enter modes: ({@link #enterMode} and {@link #shiftEnterMode}).\n\t\t * Fires the {@link #activeEnterModeChange} event.\n\t\t *\n\t\t * Prior to CKEditor 4.3 Enter modes were static and it was enough to check {@link CKEDITOR.config#enterMode}\n\t\t * and {@link CKEDITOR.config#shiftEnterMode} when implementing a feature which should depend on the Enter modes.\n\t\t * Since CKEditor 4.3 these options are source of initial:\n\t\t *\n\t\t * * static {@link #enterMode} and {@link #shiftEnterMode} values,\n\t\t * * dynamic {@link #activeEnterMode} and {@link #activeShiftEnterMode} values.\n\t\t *\n\t\t * However, the dynamic Enter modes can be changed during runtime by using this method, to reflect the selection context.\n\t\t * For example, if selection is moved to the {@link CKEDITOR.plugins.widget widget}'s nested editable which\n\t\t * is a {@link #blockless blockless one}, then the active Enter modes should be changed to {@link CKEDITOR#ENTER_BR}\n\t\t * (in this case [Widget System](#!/guide/dev_widgets) takes care of that).\n\t\t *\n\t\t * **Note:** This method should not be used to configure the editor &ndash; use {@link CKEDITOR.config#enterMode} and\n\t\t * {@link CKEDITOR.config#shiftEnterMode} instead. This method should only be used to dynamically change\n\t\t * Enter modes during runtime based on selection changes.\n\t\t * Keep in mind that changed Enter mode may be overwritten by another plugin/feature when it decided that\n\t\t * the changed context requires this.\n\t\t *\n\t\t * **Note:** In case of blockless editor (inline editor based on an element which cannot contain block elements\n\t\t * &mdash; see {@link CKEDITOR.editor#blockless}) only {@link CKEDITOR#ENTER_BR} is a valid Enter mode. Therefore\n\t\t * this method will not allow to set other values.\n\t\t *\n\t\t * **Note:** Changing the {@link #activeFilter active filter} may cause the Enter mode to change if default Enter modes\n\t\t * are not allowed by the new filter.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {Number} enterMode One of {@link CKEDITOR#ENTER_P}, {@link CKEDITOR#ENTER_DIV}, {@link CKEDITOR#ENTER_BR}.\n\t\t * Pass falsy value (e.g. `null`) to reset the Enter mode to the default value ({@link #enterMode} and/or {@link #shiftEnterMode}).\n\t\t * @param {Number} shiftEnterMode See the `enterMode` argument.\n\t\t */\n\t\tsetActiveEnterMode: function( enterMode, shiftEnterMode ) {\n\t\t\t// Validate passed modes or use default ones (validated on init).\n\t\t\tenterMode = enterMode ? validateEnterMode( this, enterMode ) : this.enterMode;\n\t\t\tshiftEnterMode = shiftEnterMode ? validateEnterMode( this, shiftEnterMode ) : this.shiftEnterMode;\n\n\t\t\tif ( this.activeEnterMode != enterMode || this.activeShiftEnterMode != shiftEnterMode ) {\n\t\t\t\tthis.activeEnterMode = enterMode;\n\t\t\t\tthis.activeShiftEnterMode = shiftEnterMode;\n\t\t\t\tthis.fire( 'activeEnterModeChange' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Shows a notification to the user.\n\t\t *\n\t\t * If the [Notification](http://ckeditor.com/addons/notification) plugin is not enabled, this function shows\n\t\t * a normal alert with the given `message`. The `type` and `progressOrDuration` parameters are supported\n\t\t * only by the Notification plugin.\n\t\t *\n\t\t * If the Notification plugin is enabled, this method creates and shows a new notification.\n\t\t * By default the notification is shown over the editor content, in the viewport if it is possible.\n\t\t *\n\t\t * See {@link CKEDITOR.plugins.notification}.\n\t\t *\n\t\t * @since 4.5\n\t\t * @member CKEDITOR.editor\n\t\t * @param {String} message The message displayed in the notification.\n\t\t * @param {String} [type='info'] The type of the notification. Can be `'info'`, `'warning'`, `'success'` or `'progress'`.\n\t\t * @param {Number} [progressOrDuration] If the type is `progress`, the third parameter may be a progress from `0` to `1`\n\t\t * (defaults to `0`). Otherwise the third parameter may be a notification duration denoting after how many milliseconds\n\t\t * the notification should be closed automatically. `0` means that the notification will not close automatically and the user\n\t\t * needs to close it manually. See {@link CKEDITOR.plugins.notification#duration}.\n\t\t * Note that `warning` notifications will not be closed automatically.\n\t\t * @returns {CKEDITOR.plugins.notification} Created and shown notification.\n\t\t */\n\t\tshowNotification: function( message ) {\n\t\t\talert( message ); // jshint ignore:line\n\t\t}\n\t} );\n} )();\n\n/**\n * The editor has no associated element.\n *\n * @readonly\n * @property {Number} [=0]\n * @member CKEDITOR\n */\nCKEDITOR.ELEMENT_MODE_NONE = 0;\n\n/**\n * The element is to be replaced by the editor instance.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.ELEMENT_MODE_REPLACE = 1;\n\n/**\n * The editor is to be created inside the element.\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.ELEMENT_MODE_APPENDTO = 2;\n\n/**\n * The editor is to be attached to the element, using it as the editing block.\n *\n * @readonly\n * @property {Number} [=3]\n * @member CKEDITOR\n */\nCKEDITOR.ELEMENT_MODE_INLINE = 3;\n\n/**\n * Whether to escape HTML when the editor updates the original input element.\n *\n *\t\tconfig.htmlEncodeOutput = true;\n *\n * @since 3.1\n * @cfg {Boolean} [htmlEncodeOutput=false]\n * @member CKEDITOR.config\n */\n\n/**\n * If `true`, makes the editor start in read-only state. Otherwise, it will check\n * if the linked `<textarea>` element has the `disabled` attribute.\n *\n * Read more in the [documentation](#!/guide/dev_readonly)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/readonly.html).\n *\n *\t\tconfig.readOnly = true;\n *\n * @since 3.6\n * @cfg {Boolean} [readOnly=false]\n * @member CKEDITOR.config\n * @see CKEDITOR.editor#setReadOnly\n */\n\n/**\n * Whether an editable element should have focus when the editor is loading for the first time.\n *\n *\t\tconfig.startupFocus = true;\n *\n * @cfg {Boolean} [startupFocus=false]\n * @member CKEDITOR.config\n */\n\n /**\n * Customizes the {@link CKEDITOR.editor#title human-readable title} of this editor. This title is displayed in\n * tooltips and impacts various [accessibility aspects](#!/guide/dev_a11y-section-announcing-the-editor-on-the-page),\n * e.g. it is commonly used by screen readers for distinguishing editor instances and for navigation.\n * Accepted values are a string or `false`.\n *\n * **Note:** When `config.title` is set globally, the same value will be applied to all editor instances\n * loaded with this config. This may adversely affect accessibility as screen reader users will be unable\n * to distinguish particular editor instances and navigate between them.\n *\n * **Note:** Setting `config.title = false` may also impair accessibility in a similar way.\n *\n * **Note:** Please do not confuse this property with {@link CKEDITOR.editor#name}\n * which identifies the instance in the {@link CKEDITOR#instances} literal.\n *\n *\t\t// Sets the title to 'My WYSIWYG editor.'. The original title of the element (if it exists)\n *\t\t// will be restored once the editor instance is destroyed.\n *\t\tconfig.title = 'My WYSIWYG editor.';\n *\n *\t\t// Do not touch the title. If the element already has a title, it remains unchanged.\n *\t\t// Also if no `title` attribute exists, nothing new will be added.\n *\t\tconfig.title = false;\n *\n * See also:\n *\n * * CKEDITOR.editor#name\n * * CKEDITOR.editor#title\n *\n * @since 4.2\n * @cfg {String/Boolean} [title=based on editor.name]\n * @member CKEDITOR.config\n */\n\n/**\n * Sets listeners on editor events.\n *\n * **Note:** This property can only be set in the `config` object passed directly\n * to {@link CKEDITOR#replace}, {@link CKEDITOR#inline}, and other creators.\n *\n *\t\tCKEDITOR.replace( 'editor1', {\n *\t\t\ton: {\n *\t\t\t\tinstanceReady: function() {\n *\t\t\t\t\talert( this.name ); // 'editor1'\n *\t\t\t\t},\n *\n *\t\t\t\tkey: function() {\n *\t\t\t\t\t// ...\n *\t\t\t\t}\n *\t\t\t}\n *\t\t} );\n *\n * @cfg {Object} on\n * @member CKEDITOR.config\n */\n\n/**\n * The outermost element in the DOM tree in which the editable element resides. It is provided\n * by a specific editor creator after the editor UI is created and is not intended to\n * be modified.\n *\n *\t\tvar editor = CKEDITOR.instances.editor1;\n *\t\talert( editor.container.getName() ); // 'span'\n *\n * @readonly\n * @property {CKEDITOR.dom.element} container\n */\n\n/**\n * The document that stores the editor content.\n *\n * * For the classic (`iframe`-based) editor it is equal to the document inside the\n * `iframe` containing the editable element.\n * * For the inline editor it is equal to {@link CKEDITOR#document}.\n *\n * The document object is available after the {@link #contentDom} event is fired\n * and may be invalidated when the {@link #contentDomUnload} event is fired\n * (classic editor only).\n *\n *\t\teditor.on( 'contentDom', function() {\n *\t\t\tconsole.log( editor.document );\n *\t\t} );\n *\n * @readonly\n * @property {CKEDITOR.dom.document} document\n */\n\n/**\n * The window instance related to the {@link #document} property.\n *\n * It is always equal to the `editor.document.getWindow()`.\n *\n * See the {@link #document} property documentation.\n *\n * @readonly\n * @property {CKEDITOR.dom.window} window\n */\n\n/**\n * The main filter instance used for input data filtering, data\n * transformations, and activation of features.\n *\n * It points to a {@link CKEDITOR.filter} instance set up based on\n * editor configuration.\n *\n * @since 4.1\n * @readonly\n * @property {CKEDITOR.filter} filter\n */\n\n/**\n * The active filter instance which should be used in the current context (location selection).\n * This instance will be used to make a decision which commands, buttons and other\n * {@link CKEDITOR.feature features} can be enabled.\n *\n * By default it equals the {@link #filter} and it can be changed by the {@link #setActiveFilter} method.\n *\n *\t\teditor.on( 'activeFilterChange', function() {\n *\t\t\tif ( editor.activeFilter.check( 'cite' ) )\n *\t\t\t\t// Do something when <cite> was enabled - e.g. enable a button.\n *\t\t\telse\n *\t\t\t\t// Otherwise do something else.\n *\t\t} );\n *\n * See also the {@link #setActiveEnterMode} method for an explanation of dynamic settings.\n *\n * @since 4.3\n * @readonly\n * @property {CKEDITOR.filter} activeFilter\n */\n\n/**\n * The main (static) Enter mode which is a validated version of the {@link CKEDITOR.config#enterMode} setting.\n * Currently only one rule exists &mdash; {@link #blockless blockless editors} may have\n * Enter modes set only to {@link CKEDITOR#ENTER_BR}.\n *\n * @since 4.3\n * @readonly\n * @property {Number} enterMode\n */\n\n/**\n * See the {@link #enterMode} property.\n *\n * @since 4.3\n * @readonly\n * @property {Number} shiftEnterMode\n */\n\n/**\n * The dynamic Enter mode which should be used in the current context (selection location).\n * By default it equals the {@link #enterMode} and it can be changed by the {@link #setActiveEnterMode} method.\n *\n * See also the {@link #setActiveEnterMode} method for an explanation of dynamic settings.\n *\n * @since 4.3\n * @readonly\n * @property {Number} activeEnterMode\n */\n\n/**\n * See the {@link #activeEnterMode} property.\n *\n * @since 4.3\n * @readonly\n * @property {Number} activeShiftEnterMode\n */\n\n/**\n * Event fired by the {@link #setActiveFilter} method when the {@link #activeFilter} is changed.\n *\n * @since 4.3\n * @event activeFilterChange\n */\n\n/**\n * Event fired by the {@link #setActiveEnterMode} method when any of the active Enter modes is changed.\n * See also the {@link #activeEnterMode} and {@link #activeShiftEnterMode} properties.\n *\n * @since 4.3\n * @event activeEnterModeChange\n */\n\n/**\n * Event fired when a CKEDITOR instance is created, but still before initializing it.\n * To interact with a fully initialized instance, use the\n * {@link CKEDITOR#instanceReady} event instead.\n *\n * @event instanceCreated\n * @member CKEDITOR\n * @param {CKEDITOR.editor} editor The editor instance that has been created.\n */\n\n/**\n * Event fired when CKEDITOR instance's components (configuration, languages and plugins) are fully\n * loaded and initialized. However, the editor will be fully ready for interaction\n * on {@link CKEDITOR#instanceReady}.\n *\n * @event instanceLoaded\n * @member CKEDITOR\n * @param {CKEDITOR.editor} editor This editor instance that has been loaded.\n */\n\n/**\n * Event fired when a CKEDITOR instance is destroyed.\n *\n * @event instanceDestroyed\n * @member CKEDITOR\n * @param {CKEDITOR.editor} editor The editor instance that has been destroyed.\n */\n\n/**\n * Event fired when a CKEDITOR instance is created, fully initialized and ready for interaction.\n *\n * @event instanceReady\n * @member CKEDITOR\n * @param {CKEDITOR.editor} editor The editor instance that has been created.\n */\n\n/**\n * Event fired when the language is loaded into the editor instance.\n *\n * @since 3.6.1\n * @event langLoaded\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when all plugins are loaded and initialized into the editor instance.\n *\n * @event pluginsLoaded\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when the styles set is loaded. During the editor initialization\n * phase the {@link #getStylesSet} method returns only styles that\n * are already loaded, which may not include e.g. styles parsed\n * by the `stylesheetparser` plugin. Thus, to be notified when all\n * styles are ready, you can listen on this event.\n *\n * @since 4.1\n * @event stylesSet\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {Array} styles An array of styles definitions.\n */\n\n/**\n * Event fired before the command execution when {@link #execCommand} is called.\n *\n * @event beforeCommandExec\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.name The command name.\n * @param {Object} data.commandData The data to be sent to the command. This\n * can be manipulated by the event listener.\n * @param {CKEDITOR.command} data.command The command itself.\n */\n\n/**\n * Event fired after the command execution when {@link #execCommand} is called.\n *\n * @event afterCommandExec\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.name The command name.\n * @param {Object} data.commandData The data sent to the command.\n * @param {CKEDITOR.command} data.command The command itself.\n * @param {Object} data.returnValue The value returned by the command execution.\n */\n\n/**\n * Event fired when a custom configuration file is loaded, before the final\n * configuration initialization.\n *\n * Custom configuration files can be loaded thorugh the\n * {@link CKEDITOR.config#customConfig} setting. Several files can be loaded\n * by changing this setting.\n *\n * @event customConfigLoaded\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired once the editor configuration is ready (loaded and processed).\n *\n * @event configLoaded\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when this editor instance is destroyed. The editor at this\n * point is not usable and this event should be used to perform the clean-up\n * in any plugin.\n *\n * @event destroy\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Internal event to get the current data.\n *\n * @event beforeGetData\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Internal event to perform the {@link #method-getSnapshot} call.\n *\n * @event getSnapshot\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Internal event to perform the {@link #method-loadSnapshot} call.\n *\n * @event loadSnapshot\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {String} data The data that will be used.\n */\n\n/**\n * Event fired before the {@link #method-getData} call returns, allowing for additional manipulation.\n *\n * @event getData\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.dataValue The data that will be returned.\n */\n\n/**\n * Event fired before the {@link #method-setData} call is executed, allowing for additional manipulation.\n *\n * @event setData\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.dataValue The data that will be used.\n */\n\n/**\n * Event fired at the end of the {@link #method-setData} call execution. Usually it is better to use the\n * {@link #dataReady} event.\n *\n * @event afterSetData\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.dataValue The data that has been set.\n */\n\n/**\n * Event fired as an indicator of the editor data loading. It may be the result of\n * calling {@link #method-setData} explicitly or an internal\n * editor function, like the editor editing mode switching (move to Source and back).\n *\n * @event dataReady\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when the CKEDITOR instance is completely created, fully initialized\n * and ready for interaction.\n *\n * @event instanceReady\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when editor components (configuration, languages and plugins) are fully\n * loaded and initialized. However, the editor will be fully ready to for interaction\n * on {@link #instanceReady}.\n *\n * @event loaded\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired by the {@link #method-insertHtml} method. See the method documentation for more information\n * about how this event can be used.\n *\n * @event insertHtml\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.mode The mode in which the data is inserted (see {@link #method-insertHtml}).\n * @param {String} data.dataValue The HTML code to insert.\n * @param {CKEDITOR.dom.range} [data.range] See {@link #method-insertHtml}'s `range` parameter.\n */\n\n/**\n * Event fired by the {@link #method-insertText} method. See the method documentation for more information\n * about how this event can be used.\n *\n * @event insertText\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {String} data The text to insert.\n */\n\n/**\n * Event fired by the {@link #method-insertElement} method. See the method documentation for more information\n * about how this event can be used.\n *\n * @event insertElement\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {CKEDITOR.dom.element} data The element to insert.\n */\n\n/**\n * Event fired after data insertion using the {@link #method-insertHtml}, {@link CKEDITOR.editable#insertHtml},\n * or {@link CKEDITOR.editable#insertHtmlIntoRange} methods.\n *\n * @since 4.5\n * @event afterInsertHtml\n * @param data\n * @param {CKEDITOR.dom.range} [data.intoRange] If set, the HTML was not inserted into the current selection, but into\n * the specified range. This property is set if the {@link CKEDITOR.editable#insertHtmlIntoRange} method was used,\n * but not if for the {@link CKEDITOR.editable#insertHtml} method.\n */\n\n/**\n * Event fired after the {@link #property-readOnly} property changes.\n *\n * @since 3.6\n * @event readOnly\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when a UI template is added to the editor instance. It makes\n * it possible to bring customizations to the template source.\n *\n * @event template\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.name The template name.\n * @param {String} data.source The source data for this template.\n */\n\n/**\n * Event fired when the editor content (its DOM structure) is ready.\n * It is similar to the native `DOMContentLoaded` event, but it applies to\n * the editor content. It is also the first event fired after\n * the {@link CKEDITOR.editable} is initialized.\n *\n * This event is particularly important for classic (`iframe`-based)\n * editor, because on editor initialization and every time the data are set\n * (by {@link CKEDITOR.editor#method-setData}) content DOM structure\n * is rebuilt. Thus, e.g. you need to attach DOM event listeners\n * on editable one more time.\n *\n * For inline editor this event is fired only once &mdash; when the\n * editor is initialized for the first time. This is because setting\n * editor content does not cause editable destruction and creation.\n *\n * The {@link #contentDom} event goes along with {@link #contentDomUnload}\n * which is fired before the content DOM structure is destroyed. This is the\n * right moment to detach content DOM event listener. Otherwise\n * browsers like IE or Opera may throw exceptions when accessing\n * elements from the detached document.\n *\n * **Note:** {@link CKEDITOR.editable#attachListener} is a convenient\n * way to attach listeners that will be detached on {@link #contentDomUnload}.\n *\n *\t\teditor.on( 'contentDom', function() {\n *\t\t\tvar editable = editor.editable();\n *\n *\t\t\teditable.attachListener( editable, 'click', function() {\n *\t\t\t\tconsole.log( 'The editable was clicked.' );\n *\t\t\t});\n *\t\t});\n *\n * @event contentDom\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired before the content DOM structure is destroyed.\n * See {@link #contentDom} documentation for more details.\n *\n * @event contentDomUnload\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Event fired when the content DOM changes and some of the references as well as\n * the native DOM event listeners could be lost.\n * This event is useful when it is important to keep track of references\n * to elements in the editable content from code.\n *\n * @since 4.3\n * @event contentDomInvalidated\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/editor.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * Provides an \"event like\" system to parse strings of HTML data.\n *\n *\t\tvar parser = new CKEDITOR.htmlParser();\n *\t\tparser.onTagOpen = function( tagName, attributes, selfClosing ) {\n *\t\t\talert( tagName );\n *\t\t};\n *\t\tparser.parse( '<p>Some <b>text</b>.</p>' ); // Alerts 'p', 'b'.\n *\n * @class\n * @constructor Creates a htmlParser class instance.\n */\nCKEDITOR.htmlParser = function() {\n\tthis._ = {\n\t\thtmlPartsRegex: /<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g\n\t};\n};\n\n( function() {\n\tvar attribsRegex = /([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,\n\t\temptyAttribs = { checked: 1, compact: 1, declare: 1, defer: 1, disabled: 1, ismap: 1, multiple: 1, nohref: 1, noresize: 1, noshade: 1, nowrap: 1, readonly: 1, selected: 1 };\n\n\tCKEDITOR.htmlParser.prototype = {\n\t\t/**\n\t\t * Function to be fired when a tag opener is found. This function\n\t\t * should be overriden when using this class.\n\t\t *\n\t\t *\t\tvar parser = new CKEDITOR.htmlParser();\n\t\t *\t\tparser.onTagOpen = function( tagName, attributes, selfClosing ) {\n\t\t *\t\t\talert( tagName ); // e.g. 'b'\n\t\t *\t\t} );\n\t\t *\t\tparser.parse( '<!-- Example --><b>Hello</b>' );\n\t\t *\n\t\t * @param {String} tagName The tag name. The name is guarantted to be lowercased.\n\t\t * @param {Object} attributes An object containing all tag attributes. Each\n\t\t * property in this object represent and attribute name and its value is the attribute value.\n\t\t * @param {Boolean} selfClosing `true` if the tag closes itself, false if the tag doesn't.\n\t\t */\n\t\tonTagOpen: function() {},\n\n\t\t/**\n\t\t * Function to be fired when a tag closer is found. This function\n\t\t * should be overriden when using this class.\n\t\t *\n\t\t *\t\tvar parser = new CKEDITOR.htmlParser();\n\t\t *\t\tparser.onTagClose = function( tagName ) {\n\t\t *\t\t\talert( tagName ); // 'b'\n\t\t *\t\t} );\n\t\t *\t\tparser.parse( '<!-- Example --><b>Hello</b>' );\n\t\t *\n\t\t * @param {String} tagName The tag name. The name is guarantted to be lowercased.\n\t\t */\n\t\tonTagClose: function() {},\n\n\t\t/**\n\t\t * Function to be fired when text is found. This function\n\t\t * should be overriden when using this class.\n\t\t *\n\t\t *\t\tvar parser = new CKEDITOR.htmlParser();\n\t\t *\t\tparser.onText = function( text ) {\n\t\t *\t\t\talert( text ); // 'Hello'\n\t\t *\t\t} );\n\t\t *\t\tparser.parse( '<!-- Example --><b>Hello</b>' );\n\t\t *\n\t\t * @param {String} text The text found.\n\t\t */\n\t\tonText: function() {},\n\n\t\t/**\n\t\t * Function to be fired when CDATA section is found. This function\n\t\t * should be overriden when using this class.\n\t\t *\n\t\t *\t\tvar parser = new CKEDITOR.htmlParser();\n\t\t *\t\tparser.onCDATA = function( cdata ) {\n\t\t *\t\t\talert( cdata ); // 'var hello;'\n\t\t *\t\t} );\n\t\t *\t\tparser.parse( '<script>var hello;</script>' );\n\t\t *\n\t\t * @param {String} cdata The CDATA been found.\n\t\t */\n\t\tonCDATA: function() {},\n\n\t\t/**\n\t\t * Function to be fired when a commend is found. This function\n\t\t * should be overriden when using this class.\n\t\t *\n\t\t *\t\tvar parser = new CKEDITOR.htmlParser();\n\t\t *\t\tparser.onComment = function( comment ) {\n\t\t *\t\t\talert( comment ); // ' Example '\n\t\t *\t\t} );\n\t\t *\t\tparser.parse( '<!-- Example --><b>Hello</b>' );\n\t\t *\n\t\t * @param {String} comment The comment text.\n\t\t */\n\t\tonComment: function() {},\n\n\t\t/**\n\t\t * Parses text, looking for HTML tokens, like tag openers or closers,\n\t\t * or comments. This function fires the onTagOpen, onTagClose, onText\n\t\t * and onComment function during its execution.\n\t\t *\n\t\t *\t\tvar parser = new CKEDITOR.htmlParser();\n\t\t *\t\t// The onTagOpen, onTagClose, onText and onComment should be overriden\n\t\t *\t\t// at this point.\n\t\t *\t\tparser.parse( '<!-- Example --><b>Hello</b>' );\n\t\t *\n\t\t * @param {String} html The HTML to be parsed.\n\t\t */\n\t\tparse: function( html ) {\n\t\t\tvar parts, tagName,\n\t\t\t\tnextIndex = 0,\n\t\t\t\tcdata; // The collected data inside a CDATA section.\n\n\t\t\twhile ( ( parts = this._.htmlPartsRegex.exec( html ) ) ) {\n\t\t\t\tvar tagIndex = parts.index;\n\t\t\t\tif ( tagIndex > nextIndex ) {\n\t\t\t\t\tvar text = html.substring( nextIndex, tagIndex );\n\n\t\t\t\t\tif ( cdata )\n\t\t\t\t\t\tcdata.push( text );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.onText( text );\n\t\t\t\t}\n\n\t\t\t\tnextIndex = this._.htmlPartsRegex.lastIndex;\n\n\t\t\t\t// \"parts\" is an array with the following items:\n\t\t\t\t//\t\t0 : The entire match for opening/closing tags and comments.\n\t\t\t\t//\t\t  : Group filled with the tag name for closing tags.\n\t\t\t\t//\t\t2 : Group filled with the comment text.\n\t\t\t\t//\t\t3 : Group filled with the tag name for opening tags.\n\t\t\t\t//\t\t4 : Group filled with the attributes part of opening tags.\n\n\t\t\t\t// Closing tag\n\t\t\t\tif ( ( tagName = parts[ 1 ] ) ) {\n\t\t\t\t\ttagName = tagName.toLowerCase();\n\n\t\t\t\t\tif ( cdata && CKEDITOR.dtd.$cdata[ tagName ] ) {\n\t\t\t\t\t\t// Send the CDATA data.\n\t\t\t\t\t\tthis.onCDATA( cdata.join( '' ) );\n\t\t\t\t\t\tcdata = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !cdata ) {\n\t\t\t\t\t\tthis.onTagClose( tagName );\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If CDATA is enabled, just save the raw match.\n\t\t\t\tif ( cdata ) {\n\t\t\t\t\tcdata.push( parts[ 0 ] );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Opening tag\n\t\t\t\tif ( ( tagName = parts[ 3 ] ) ) {\n\t\t\t\t\ttagName = tagName.toLowerCase();\n\n\t\t\t\t\t// There are some tag names that can break things, so let's\n\t\t\t\t\t// simply ignore them when parsing. (#5224)\n\t\t\t\t\tif ( /=\"/.test( tagName ) )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tvar attribs = {},\n\t\t\t\t\t\tattribMatch,\n\t\t\t\t\t\tattribsPart = parts[ 4 ],\n\t\t\t\t\t\tselfClosing = !!parts[ 5 ];\n\n\t\t\t\t\tif ( attribsPart ) {\n\t\t\t\t\t\twhile ( ( attribMatch = attribsRegex.exec( attribsPart ) ) ) {\n\t\t\t\t\t\t\tvar attName = attribMatch[ 1 ].toLowerCase(),\n\t\t\t\t\t\t\t\tattValue = attribMatch[ 2 ] || attribMatch[ 3 ] || attribMatch[ 4 ] || '';\n\n\t\t\t\t\t\t\tif ( !attValue && emptyAttribs[ attName ] )\n\t\t\t\t\t\t\t\tattribs[ attName ] = attName;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tattribs[ attName ] = CKEDITOR.tools.htmlDecodeAttr( attValue );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.onTagOpen( tagName, attribs, selfClosing );\n\n\t\t\t\t\t// Open CDATA mode when finding the appropriate tags.\n\t\t\t\t\tif ( !cdata && CKEDITOR.dtd.$cdata[ tagName ] )\n\t\t\t\t\t\tcdata = [];\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment\n\t\t\t\tif ( ( tagName = parts[ 2 ] ) )\n\t\t\t\t\tthis.onComment( tagName );\n\t\t\t}\n\n\t\t\tif ( html.length > nextIndex )\n\t\t\t\tthis.onText( html.substring( nextIndex, html.length ) );\n\t\t}\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * TODO\n *\n * @class\n * @todo\n */\nCKEDITOR.htmlParser.basicWriter = CKEDITOR.tools.createClass( {\n\t/**\n\t * Creates a basicWriter class instance.\n\t *\n\t * @constructor\n\t */\n\t$: function() {\n\t\tthis._ = {\n\t\t\toutput: []\n\t\t};\n\t},\n\n\tproto: {\n\t\t/**\n\t\t * Writes the tag opening part for a opener tag.\n\t\t *\n\t\t *\t\t// Writes '<p'.\n\t\t *\t\twriter.openTag( 'p', { class : 'MyClass', id : 'MyId' } );\n\t\t *\n\t\t * @param {String} tagName The element name for this tag.\n\t\t * @param {Object} attributes The attributes defined for this tag. The\n\t\t * attributes could be used to inspect the tag.\n\t\t */\n\t\topenTag: function( tagName ) {\n\t\t\tthis._.output.push( '<', tagName );\n\t\t},\n\n\t\t/**\n\t\t * Writes the tag closing part for a opener tag.\n\t\t *\n\t\t *\t\t// Writes '>'.\n\t\t *\t\twriter.openTagClose( 'p', false );\n\t\t *\n\t\t *\t\t// Writes ' />'.\n\t\t *\t\twriter.openTagClose( 'br', true );\n\t\t *\n\t\t * @param {String} tagName The element name for this tag.\n\t\t * @param {Boolean} isSelfClose Indicates that this is a self-closing tag,\n\t\t * like `<br>` or `<img>`.\n\t\t */\n\t\topenTagClose: function( tagName, isSelfClose ) {\n\t\t\tif ( isSelfClose )\n\t\t\t\tthis._.output.push( ' />' );\n\t\t\telse\n\t\t\t\tthis._.output.push( '>' );\n\t\t},\n\n\t\t/**\n\t\t * Writes an attribute. This function should be called after opening the\n\t\t * tag with {@link #openTagClose}.\n\t\t *\n\t\t *\t\t// Writes ' class=\"MyClass\"'.\n\t\t *\t\twriter.attribute( 'class', 'MyClass' );\n\t\t *\n\t\t * @param {String} attName The attribute name.\n\t\t * @param {String} attValue The attribute value.\n\t\t */\n\t\tattribute: function( attName, attValue ) {\n\t\t\t// Browsers don't always escape special character in attribute values. (#4683, #4719).\n\t\t\tif ( typeof attValue == 'string' )\n\t\t\t\tattValue = CKEDITOR.tools.htmlEncodeAttr( attValue );\n\n\t\t\tthis._.output.push( ' ', attName, '=\"', attValue, '\"' );\n\t\t},\n\n\t\t/**\n\t\t * Writes a closer tag.\n\t\t *\n\t\t *\t\t// Writes '</p>'.\n\t\t *\t\twriter.closeTag( 'p' );\n\t\t *\n\t\t * @param {String} tagName The element name for this tag.\n\t\t */\n\t\tcloseTag: function( tagName ) {\n\t\t\tthis._.output.push( '</', tagName, '>' );\n\t\t},\n\n\t\t/**\n\t\t * Writes text.\n\t\t *\n\t\t *\t\t// Writes 'Hello Word'.\n\t\t *\t\twriter.text( 'Hello Word' );\n\t\t *\n\t\t * @param {String} text The text value.\n\t\t */\n\t\ttext: function( text ) {\n\t\t\tthis._.output.push( text );\n\t\t},\n\n\t\t/**\n\t\t * Writes a comment.\n\t\t *\n\t\t *\t\t// Writes '<!-- My comment -->'.\n\t\t *\t\twriter.comment( ' My comment ' );\n\t\t *\n\t\t * @param {String} comment The comment text.\n\t\t */\n\t\tcomment: function( comment ) {\n\t\t\tthis._.output.push( '<!--', comment, '-->' );\n\t\t},\n\n\t\t/**\n\t\t * Writes any kind of data to the ouput.\n\t\t *\n\t\t *\t\twriter.write( 'This is an <b>example</b>.' );\n\t\t *\n\t\t * @param {String} data\n\t\t */\n\t\twrite: function( data ) {\n\t\t\tthis._.output.push( data );\n\t\t},\n\n\t\t/**\n\t\t * Empties the current output buffer.\n\t\t *\n\t\t *\t\twriter.reset();\n\t\t */\n\t\treset: function() {\n\t\t\tthis._.output = [];\n\t\t\tthis._.indent = false;\n\t\t},\n\n\t\t/**\n\t\t * Empties the current output buffer.\n\t\t *\n\t\t *\t\tvar html = writer.getHtml();\n\t\t *\n\t\t * @param {Boolean} reset Indicates that the {@link #reset} method is to\n\t\t * be automatically called after retrieving the HTML.\n\t\t * @returns {String} The HTML written to the writer so far.\n\t\t */\n\t\tgetHtml: function( reset ) {\n\t\t\tvar html = this._.output.join( '' );\n\n\t\t\tif ( reset )\n\t\t\t\tthis.reset();\n\n\t\t\treturn html;\n\t\t}\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/basicwriter.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n( function() {\n\t/**\n\t * A lightweight representation of HTML node.\n\t *\n\t * @since 4.1\n\t * @class\n\t * @constructor Creates a node class instance.\n\t */\n\tCKEDITOR.htmlParser.node = function() {};\n\n\tCKEDITOR.htmlParser.node.prototype = {\n\t\t/**\n\t\t * Remove this node from a tree.\n\t\t *\n\t\t * @since 4.1\n\t\t */\n\t\tremove: function() {\n\t\t\tvar children = this.parent.children,\n\t\t\t\tindex = CKEDITOR.tools.indexOf( children, this ),\n\t\t\t\tprevious = this.previous,\n\t\t\t\tnext = this.next;\n\n\t\t\tprevious && ( previous.next = next );\n\t\t\tnext && ( next.previous = previous );\n\t\t\tchildren.splice( index, 1 );\n\t\t\tthis.parent = null;\n\t\t},\n\n\t\t/**\n\t\t * Replace this node with given one.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.node} node The node that will replace this one.\n\t\t */\n\t\treplaceWith: function( node ) {\n\t\t\tvar children = this.parent.children,\n\t\t\t\tindex = CKEDITOR.tools.indexOf( children, this ),\n\t\t\t\tprevious = node.previous = this.previous,\n\t\t\t\tnext = node.next = this.next;\n\n\t\t\tprevious && ( previous.next = node );\n\t\t\tnext && ( next.previous = node );\n\n\t\t\tchildren[ index ] = node;\n\n\t\t\tnode.parent = this.parent;\n\t\t\tthis.parent = null;\n\t\t},\n\n\t\t/**\n\t\t * Insert this node after given one.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.node} node The node that will precede this element.\n\t\t */\n\t\tinsertAfter: function( node ) {\n\t\t\tvar children = node.parent.children,\n\t\t\t\tindex = CKEDITOR.tools.indexOf( children, node ),\n\t\t\t\tnext = node.next;\n\n\t\t\tchildren.splice( index + 1, 0, this );\n\n\t\t\tthis.next = node.next;\n\t\t\tthis.previous = node;\n\t\t\tnode.next = this;\n\t\t\tnext && ( next.previous = this );\n\n\t\t\tthis.parent = node.parent;\n\t\t},\n\n\t\t/**\n\t\t * Insert this node before given one.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.node} node The node that will follow this element.\n\t\t */\n\t\tinsertBefore: function( node ) {\n\t\t\tvar children = node.parent.children,\n\t\t\t\tindex = CKEDITOR.tools.indexOf( children, node );\n\n\t\t\tchildren.splice( index, 0, this );\n\n\t\t\tthis.next = node;\n\t\t\tthis.previous = node.previous;\n\t\t\tnode.previous && ( node.previous.next = this );\n\t\t\tnode.previous = this;\n\n\t\t\tthis.parent = node.parent;\n\t\t},\n\n\t\t/**\n\t\t * Gets the closest ancestor element of this element which satisfies given condition\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String/Object/Function} condition Name of an ancestor, hash of names or validator function.\n\t\t * @returns {CKEDITOR.htmlParser.element} The closest ancestor which satisfies given condition or `null`.\n\t\t */\n\t\tgetAscendant: function( condition ) {\n\t\t\tvar checkFn =\n\t\t\t\ttypeof condition == 'function' ?\n\t\t\t\t\tcondition :\n\t\t\t\ttypeof condition == 'string' ?\n\t\t\t\t\tfunction( el ) {\n\t\t\t\t\t\treturn el.name == condition;\n\t\t\t\t\t} :\n\t\t\t\t\tfunction( el ) {\n\t\t\t\t\t\treturn el.name in condition;\n\t\t\t\t\t};\n\n\t\t\tvar parent = this.parent;\n\n\t\t\t// Parent has to be an element - don't check doc fragment.\n\t\t\twhile ( parent && parent.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\tif ( checkFn( parent ) )\n\t\t\t\t\treturn parent;\n\t\t\t\tparent = parent.parent;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Wraps this element with given `wrapper`.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {CKEDITOR.htmlParser.element} wrapper The element which will be this element's new parent.\n\t\t * @returns {CKEDITOR.htmlParser.element} Wrapper.\n\t\t */\n\t\twrapWith: function( wrapper ) {\n\t\t\tthis.replaceWith( wrapper );\n\t\t\twrapper.add( this );\n\t\t\treturn wrapper;\n\t\t},\n\n\t\t/**\n\t\t * Gets this node's index in its parent's children array.\n\t\t *\n\t\t * @since 4.3\n\t\t * @returns {Number}\n\t\t */\n\t\tgetIndex: function() {\n\t\t\treturn CKEDITOR.tools.indexOf( this.parent.children, this );\n\t\t},\n\n\t\tgetFilterContext: function( context ) {\n\t\t\treturn context || {};\n\t\t}\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/node.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n 'use strict';\n\n/**\n * A lightweight representation of an HTML comment.\n *\n * @class\n * @extends CKEDITOR.htmlParser.node\n * @constructor Creates a comment class instance.\n * @param {String} value The comment text value.\n */\nCKEDITOR.htmlParser.comment = function( value ) {\n\t/**\n\t * The comment text.\n\t *\n\t * @property {String}\n\t */\n\tthis.value = value;\n\n\t/** @private */\n\tthis._ = {\n\t\tisBlockLike: false\n\t};\n};\n\nCKEDITOR.htmlParser.comment.prototype = CKEDITOR.tools.extend( new CKEDITOR.htmlParser.node(), {\n\t/**\n\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_COMMENT}.\n\t *\n\t * @readonly\n\t * @property {Number} [=CKEDITOR.NODE_COMMENT]\n\t */\n\ttype: CKEDITOR.NODE_COMMENT,\n\n\t/**\n\t * Filter this comment with given filter.\n\t *\n\t * @since 4.1\n\t * @param {CKEDITOR.htmlParser.filter} filter\n\t * @returns {Boolean} Method returns `false` when this comment has\n\t * been removed or replaced with other node. This is an information for\n\t * {@link CKEDITOR.htmlParser.element#filterChildren} that it has\n\t * to repeat filter on current position in parent's children array.\n\t */\n\tfilter: function( filter, context ) {\n\t\tvar comment = this.value;\n\n\t\tif ( !( comment = filter.onComment( context, comment, this ) ) ) {\n\t\t\tthis.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( typeof comment != 'string' ) {\n\t\t\tthis.replaceWith( comment );\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.value = comment;\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * Writes the HTML representation of this comment to a CKEDITOR.htmlWriter.\n\t *\n\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which write the HTML.\n\t * @param {CKEDITOR.htmlParser.filter} [filter] The filter to be applied to this node.\n\t * **Note:** it's unsafe to filter offline (not appended) node.\n\t */\n\twriteHtml: function( writer, filter ) {\n\t\tif ( filter )\n\t\t\tthis.filter( filter );\n\n\t\twriter.comment( this.value );\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/comment.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n 'use strict';\n\n( function() {\n\t/**\n\t * A lightweight representation of HTML text.\n\t *\n\t * @class\n\t * @extends CKEDITOR.htmlParser.node\n\t * @constructor Creates a text class instance.\n\t * @param {String} value The text node value.\n\t */\n\tCKEDITOR.htmlParser.text = function( value ) {\n\t\t/**\n\t\t * The text value.\n\t\t *\n\t\t * @property {String}\n\t\t */\n\t\tthis.value = value;\n\n\t\t/** @private */\n\t\tthis._ = {\n\t\t\tisBlockLike: false\n\t\t};\n\t};\n\n\tCKEDITOR.htmlParser.text.prototype = CKEDITOR.tools.extend( new CKEDITOR.htmlParser.node(), {\n\t\t/**\n\t\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_TEXT}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [=CKEDITOR.NODE_TEXT]\n\t\t */\n\t\ttype: CKEDITOR.NODE_TEXT,\n\n\t\t/**\n\t\t * Filter this text node with given filter.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.filter} filter\n\t\t * @returns {Boolean} Method returns `false` when this text node has\n\t\t * been removed. This is an information for {@link CKEDITOR.htmlParser.element#filterChildren}\n\t\t * that it has to repeat filter on current position in parent's children array.\n\t\t */\n\t\tfilter: function( filter, context ) {\n\t\t\tif ( !( this.value = filter.onText( context, this.value, this ) ) ) {\n\t\t\t\tthis.remove();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Writes the HTML representation of this text to a {CKEDITOR.htmlParser.basicWriter}.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which write the HTML.\n\t\t * @param {CKEDITOR.htmlParser.filter} [filter] The filter to be applied to this node.\n\t\t * **Note:** it's unsafe to filter offline (not appended) node.\n\t\t */\n\t\twriteHtml: function( writer, filter ) {\n\t\t\tif ( filter )\n\t\t\t\tthis.filter( filter );\n\n\t\t\twriter.text( this.value );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/text.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n 'use strict';\n\n( function() {\n\n\t/**\n\t * A lightweight representation of HTML CDATA.\n\t *\n\t * @class\n\t * @extends CKEDITOR.htmlParser.node\n\t * @constructor Creates a cdata class instance.\n\t * @param {String} value The CDATA section value.\n\t */\n\tCKEDITOR.htmlParser.cdata = function( value ) {\n\t\t/**\n\t\t * The CDATA value.\n\t\t *\n\t\t * @property {String}\n\t\t */\n\t\tthis.value = value;\n\t};\n\n\tCKEDITOR.htmlParser.cdata.prototype = CKEDITOR.tools.extend( new CKEDITOR.htmlParser.node(), {\n\t\t/**\n\t\t * CDATA has the same type as {@link CKEDITOR.htmlParser.text} This is\n\t\t * a constant value set to {@link CKEDITOR#NODE_TEXT}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [=CKEDITOR.NODE_TEXT]\n\t\t */\n\t\ttype: CKEDITOR.NODE_TEXT,\n\n\t\tfilter: function() {},\n\n\t\t/**\n\t\t * Writes the CDATA with no special manipulations.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which write the HTML.\n\t\t */\n\t\twriteHtml: function( writer ) {\n\t\t\twriter.write( this.value );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/cdata.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n/**\n * A lightweight representation of an HTML DOM structure.\n *\n * @class\n * @constructor Creates a fragment class instance.\n */\nCKEDITOR.htmlParser.fragment = function() {\n\t/**\n\t * The nodes contained in the root of this fragment.\n\t *\n\t *\t\tvar fragment = CKEDITOR.htmlParser.fragment.fromHtml( '<b>Sample</b> Text' );\n\t *\t\talert( fragment.children.length ); // 2\n\t */\n\tthis.children = [];\n\n\t/**\n\t * Get the fragment parent. Should always be null.\n\t *\n\t * @property {Object} [=null]\n\t */\n\tthis.parent = null;\n\n\t/** @private */\n\tthis._ = {\n\t\tisBlockLike: true,\n\t\thasInlineStarted: false\n\t};\n};\n\n( function() {\n\t// Block-level elements whose internal structure should be respected during\n\t// parser fixing.\n\tvar nonBreakingBlocks = CKEDITOR.tools.extend( { table: 1, ul: 1, ol: 1, dl: 1 }, CKEDITOR.dtd.table, CKEDITOR.dtd.ul, CKEDITOR.dtd.ol, CKEDITOR.dtd.dl );\n\n\tvar listBlocks = { ol: 1, ul: 1 };\n\n\t// Dtd of the fragment element, basically it accept anything except for intermediate structure, e.g. orphan <li>.\n\tvar rootDtd = CKEDITOR.tools.extend( {}, { html: 1 }, CKEDITOR.dtd.html, CKEDITOR.dtd.body, CKEDITOR.dtd.head, { style: 1, script: 1 } );\n\n\t// Which element to create when encountered not allowed content.\n\tvar structureFixes = {\n\t\tul: 'li',\n\t\tol: 'li',\n\t\tdl: 'dd',\n\t\ttable: 'tbody',\n\t\ttbody: 'tr',\n\t\tthead: 'tr',\n\t\ttfoot: 'tr',\n\t\ttr: 'td'\n\t};\n\n\tfunction isRemoveEmpty( node ) {\n\t\t// Keep marked element event if it is empty.\n\t\tif ( node.attributes[ 'data-cke-survive' ] )\n\t\t\treturn false;\n\n\t\t// Empty link is to be removed when empty but not anchor. (#7894)\n\t\treturn node.name == 'a' && node.attributes.href || CKEDITOR.dtd.$removeEmpty[ node.name ];\n\t}\n\n\t/**\n\t * Creates a {@link CKEDITOR.htmlParser.fragment} from an HTML string.\n\t *\n\t *\t\tvar fragment = CKEDITOR.htmlParser.fragment.fromHtml( '<b>Sample</b> Text' );\n\t *\t\talert( fragment.children[ 0 ].name );\t\t// 'b'\n\t *\t\talert( fragment.children[ 1 ].value );\t// ' Text'\n\t *\n\t * @static\n\t * @param {String} fragmentHtml The HTML to be parsed, filling the fragment.\n\t * @param {CKEDITOR.htmlParser.element/String} [parent] Optional contextual\n\t * element which makes the content been parsed as the content of this element and fix\n\t * to match it.\n\t * If not provided, then {@link CKEDITOR.htmlParser.fragment} will be used\n\t * as the parent and it will be returned.\n\t * @param {String/Boolean} [fixingBlock] When `parent` is a block limit element,\n\t * and the param is a string value other than `false`, it is to\n\t * avoid having block-less content as the direct children of parent by wrapping\n\t * the content with a block element of the specified tag, e.g.\n\t * when `fixingBlock` specified as `p`, the content `<body><i>foo</i></body>`\n\t * will be fixed into `<body><p><i>foo</i></p></body>`.\n\t * @returns {CKEDITOR.htmlParser.fragment/CKEDITOR.htmlParser.element} The created fragment or passed `parent`.\n\t */\n\tCKEDITOR.htmlParser.fragment.fromHtml = function( fragmentHtml, parent, fixingBlock ) {\n\t\tvar parser = new CKEDITOR.htmlParser();\n\n\t\tvar root = parent instanceof CKEDITOR.htmlParser.element ? parent : typeof parent == 'string' ? new CKEDITOR.htmlParser.element( parent ) : new CKEDITOR.htmlParser.fragment();\n\n\t\tvar pendingInline = [],\n\t\t\tpendingBRs = [],\n\t\t\tcurrentNode = root,\n\t\t\t// Indicate we're inside a <textarea> element, spaces should be touched differently.\n\t\t\tinTextarea = root.name == 'textarea',\n\t\t\t// Indicate we're inside a <pre> element, spaces should be touched differently.\n\t\t\tinPre = root.name == 'pre';\n\n\t\tfunction checkPending( newTagName ) {\n\t\t\tvar pendingBRsSent;\n\n\t\t\tif ( pendingInline.length > 0 ) {\n\t\t\t\tfor ( var i = 0; i < pendingInline.length; i++ ) {\n\t\t\t\t\tvar pendingElement = pendingInline[ i ],\n\t\t\t\t\t\tpendingName = pendingElement.name,\n\t\t\t\t\t\tpendingDtd = CKEDITOR.dtd[ pendingName ],\n\t\t\t\t\t\tcurrentDtd = currentNode.name && CKEDITOR.dtd[ currentNode.name ];\n\n\t\t\t\t\tif ( ( !currentDtd || currentDtd[ pendingName ] ) && ( !newTagName || !pendingDtd || pendingDtd[ newTagName ] || !CKEDITOR.dtd[ newTagName ] ) ) {\n\t\t\t\t\t\tif ( !pendingBRsSent ) {\n\t\t\t\t\t\t\tsendPendingBRs();\n\t\t\t\t\t\t\tpendingBRsSent = 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get a clone for the pending element.\n\t\t\t\t\t\tpendingElement = pendingElement.clone();\n\n\t\t\t\t\t\t// Add it to the current node and make it the current,\n\t\t\t\t\t\t// so the new element will be added inside of it.\n\t\t\t\t\t\tpendingElement.parent = currentNode;\n\t\t\t\t\t\tcurrentNode = pendingElement;\n\n\t\t\t\t\t\t// Remove the pending element (back the index by one\n\t\t\t\t\t\t// to properly process the next entry).\n\t\t\t\t\t\tpendingInline.splice( i, 1 );\n\t\t\t\t\t\ti--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Some element of the same type cannot be nested, flat them,\n\t\t\t\t\t\t// e.g. <a href=\"#\">foo<a href=\"#\">bar</a></a>. (#7894)\n\t\t\t\t\t\tif ( pendingName == currentNode.name )\n\t\t\t\t\t\t\taddElement( currentNode, currentNode.parent, 1 ), i--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction sendPendingBRs() {\n\t\t\twhile ( pendingBRs.length )\n\t\t\t\taddElement( pendingBRs.shift(), currentNode );\n\t\t}\n\n\t\t// Rtrim empty spaces on block end boundary. (#3585)\n\t\tfunction removeTailWhitespace( element ) {\n\t\t\tif ( element._.isBlockLike && element.name != 'pre' && element.name != 'textarea' ) {\n\n\t\t\t\tvar length = element.children.length,\n\t\t\t\t\tlastChild = element.children[ length - 1 ],\n\t\t\t\t\ttext;\n\t\t\t\tif ( lastChild && lastChild.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\tif ( !( text = CKEDITOR.tools.rtrim( lastChild.value ) ) )\n\t\t\t\t\t\telement.children.length = length - 1;\n\t\t\t\t\telse\n\t\t\t\t\t\tlastChild.value = text;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Beside of simply append specified element to target, this function also takes\n\t\t// care of other dirty lifts like forcing block in body, trimming spaces at\n\t\t// the block boundaries etc.\n\t\t//\n\t\t// @param {Element} element  The element to be added as the last child of {@link target}.\n\t\t// @param {Element} target The parent element to relieve the new node.\n\t\t// @param {Boolean} [moveCurrent=false] Don't change the \"currentNode\" global unless\n\t\t// there's a return point node specified on the element, otherwise move current onto {@link target} node.\n\t\t//\n\t\tfunction addElement( element, target, moveCurrent ) {\n\t\t\ttarget = target || currentNode || root;\n\n\t\t\t// Current element might be mangled by fix body below,\n\t\t\t// save it for restore later.\n\t\t\tvar savedCurrent = currentNode;\n\n\t\t\t// Ignore any element that has already been added.\n\t\t\tif ( element.previous === undefined ) {\n\t\t\t\tif ( checkAutoParagraphing( target, element ) ) {\n\t\t\t\t\t// Create a <p> in the fragment.\n\t\t\t\t\tcurrentNode = target;\n\t\t\t\t\tparser.onTagOpen( fixingBlock, {} );\n\n\t\t\t\t\t// The new target now is the <p>.\n\t\t\t\t\telement.returnPoint = target = currentNode;\n\t\t\t\t}\n\n\t\t\t\tremoveTailWhitespace( element );\n\n\t\t\t\t// Avoid adding empty inline.\n\t\t\t\tif ( !( isRemoveEmpty( element ) && !element.children.length ) )\n\t\t\t\t\ttarget.add( element );\n\n\t\t\t\tif ( element.name == 'pre' )\n\t\t\t\t\tinPre = false;\n\n\t\t\t\tif ( element.name == 'textarea' )\n\t\t\t\t\tinTextarea = false;\n\t\t\t}\n\n\t\t\tif ( element.returnPoint ) {\n\t\t\t\tcurrentNode = element.returnPoint;\n\t\t\t\tdelete element.returnPoint;\n\t\t\t} else {\n\t\t\t\tcurrentNode = moveCurrent ? target : savedCurrent;\n\t\t\t}\n\t\t}\n\n\t\t// Auto paragraphing should happen when inline content enters the root element.\n\t\tfunction checkAutoParagraphing( parent, node ) {\n\n\t\t\t// Check for parent that can contain block.\n\t\t\tif ( ( parent == root || parent.name == 'body' ) && fixingBlock &&\n\t\t\t\t\t( !parent.name || CKEDITOR.dtd[ parent.name ][ fixingBlock ] ) ) {\n\t\t\t\tvar name, realName;\n\n\t\t\t\tif ( node.attributes && ( realName = node.attributes[ 'data-cke-real-element-type' ] ) )\n\t\t\t\t\tname = realName;\n\t\t\t\telse\n\t\t\t\t\tname = node.name;\n\n\t\t\t\t// Text node, inline elements are subjected, except for <script>/<style>.\n\t\t\t\treturn name && name in CKEDITOR.dtd.$inline &&\n\t\t\t\t\t!( name in CKEDITOR.dtd.head ) &&\n\t\t\t\t\t!node.isOrphan ||\n\t\t\t\t\tnode.type == CKEDITOR.NODE_TEXT;\n\t\t\t}\n\t\t}\n\n\t\t// Judge whether two element tag names are likely the siblings from the same\n\t\t// structural element.\n\t\tfunction possiblySibling( tag1, tag2 ) {\n\n\t\t\tif ( tag1 in CKEDITOR.dtd.$listItem || tag1 in CKEDITOR.dtd.$tableContent )\n\t\t\t\treturn tag1 == tag2 || tag1 == 'dt' && tag2 == 'dd' || tag1 == 'dd' && tag2 == 'dt';\n\n\t\t\treturn false;\n\t\t}\n\n\t\tparser.onTagOpen = function( tagName, attributes, selfClosing, optionalClose ) {\n\t\t\tvar element = new CKEDITOR.htmlParser.element( tagName, attributes );\n\n\t\t\t// \"isEmpty\" will be always \"false\" for unknown elements, so we\n\t\t\t// must force it if the parser has identified it as a selfClosing tag.\n\t\t\tif ( element.isUnknown && selfClosing )\n\t\t\t\telement.isEmpty = true;\n\n\t\t\t// Check for optional closed elements, including browser quirks and manually opened blocks.\n\t\t\telement.isOptionalClose = optionalClose;\n\n\t\t\t// This is a tag to be removed if empty, so do not add it immediately.\n\t\t\tif ( isRemoveEmpty( element ) ) {\n\t\t\t\tpendingInline.push( element );\n\t\t\t\treturn;\n\t\t\t} else if ( tagName == 'pre' )\n\t\t\t\tinPre = true;\n\t\t\telse if ( tagName == 'br' && inPre ) {\n\t\t\t\tcurrentNode.add( new CKEDITOR.htmlParser.text( '\\n' ) );\n\t\t\t\treturn;\n\t\t\t} else if ( tagName == 'textarea' ) {\n\t\t\t\tinTextarea = true;\n\t\t\t}\n\n\t\t\tif ( tagName == 'br' ) {\n\t\t\t\tpendingBRs.push( element );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twhile ( 1 ) {\n\t\t\t\tvar currentName = currentNode.name;\n\n\t\t\t\tvar currentDtd = currentName ? ( CKEDITOR.dtd[ currentName ] || ( currentNode._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span ) ) : rootDtd;\n\n\t\t\t\t// If the element cannot be child of the current element.\n\t\t\t\tif ( !element.isUnknown && !currentNode.isUnknown && !currentDtd[ tagName ] ) {\n\t\t\t\t\t// Current node doesn't have a close tag, time for a close\n\t\t\t\t\t// as this element isn't fit in. (#7497)\n\t\t\t\t\tif ( currentNode.isOptionalClose )\n\t\t\t\t\t\tparser.onTagClose( currentName );\n\t\t\t\t\t// Fixing malformed nested lists by moving it into a previous list item. (#3828)\n\t\t\t\t\telse if ( tagName in listBlocks && currentName in listBlocks ) {\n\t\t\t\t\t\tvar children = currentNode.children,\n\t\t\t\t\t\t\tlastChild = children[ children.length - 1 ];\n\n\t\t\t\t\t\t// Establish the list item if it's not existed.\n\t\t\t\t\t\tif ( !( lastChild && lastChild.name == 'li' ) )\n\t\t\t\t\t\t\taddElement( ( lastChild = new CKEDITOR.htmlParser.element( 'li' ) ), currentNode );\n\n\t\t\t\t\t\t!element.returnPoint && ( element.returnPoint = currentNode );\n\t\t\t\t\t\tcurrentNode = lastChild;\n\t\t\t\t\t}\n\t\t\t\t\t// Establish new list root for orphan list items, but NOT to create\n\t\t\t\t\t// new list for the following ones, fix them instead. (#6975)\n\t\t\t\t\t// <dl><dt>foo<dd>bar</dl>\n\t\t\t\t\t// <ul><li>foo<li>bar</ul>\n\t\t\t\t\telse if ( tagName in CKEDITOR.dtd.$listItem &&\n\t\t\t\t\t\t\t!possiblySibling( tagName, currentName ) ) {\n\t\t\t\t\t\tparser.onTagOpen( tagName == 'li' ? 'ul' : 'dl', {}, 0, 1 );\n\t\t\t\t\t}\n\t\t\t\t\t// We're inside a structural block like table and list, AND the incoming element\n\t\t\t\t\t// is not of the same type (e.g. <td>td1<td>td2</td>), we simply add this new one before it,\n\t\t\t\t\t// and most importantly, return back to here once this element is added,\n\t\t\t\t\t// e.g. <table><tr><td>td1</td><p>p1</p><td>td2</td></tr></table>\n\t\t\t\t\telse if ( currentName in nonBreakingBlocks &&\n\t\t\t\t\t\t\t!possiblySibling( tagName, currentName ) ) {\n\t\t\t\t\t\t!element.returnPoint && ( element.returnPoint = currentNode );\n\t\t\t\t\t\tcurrentNode = currentNode.parent;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// The current element is an inline element, which\n\t\t\t\t\t\t// need to be continued even after the close, so put\n\t\t\t\t\t\t// it in the pending list.\n\t\t\t\t\t\tif ( currentName in CKEDITOR.dtd.$inline )\n\t\t\t\t\t\t\tpendingInline.unshift( currentNode );\n\n\t\t\t\t\t\t// The most common case where we just need to close the\n\t\t\t\t\t\t// current one and append the new one to the parent.\n\t\t\t\t\t\tif ( currentNode.parent )\n\t\t\t\t\t\t\taddElement( currentNode, currentNode.parent, 1 );\n\t\t\t\t\t\t// We've tried our best to fix the embarrassment here, while\n\t\t\t\t\t\t// this element still doesn't find it's parent, mark it as\n\t\t\t\t\t\t// orphan and show our tolerance to it.\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\telement.isOrphan = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcheckPending( tagName );\n\t\t\tsendPendingBRs();\n\n\t\t\telement.parent = currentNode;\n\n\t\t\tif ( element.isEmpty )\n\t\t\t\taddElement( element );\n\t\t\telse\n\t\t\t\tcurrentNode = element;\n\t\t};\n\n\t\tparser.onTagClose = function( tagName ) {\n\t\t\t// Check if there is any pending tag to be closed.\n\t\t\tfor ( var i = pendingInline.length - 1; i >= 0; i-- ) {\n\t\t\t\t// If found, just remove it from the list.\n\t\t\t\tif ( tagName == pendingInline[ i ].name ) {\n\t\t\t\t\tpendingInline.splice( i, 1 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar pendingAdd = [],\n\t\t\t\tnewPendingInline = [],\n\t\t\t\tcandidate = currentNode;\n\n\t\t\twhile ( candidate != root && candidate.name != tagName ) {\n\t\t\t\t// If this is an inline element, add it to the pending list, if we're\n\t\t\t\t// really closing one of the parents element later, they will continue\n\t\t\t\t// after it.\n\t\t\t\tif ( !candidate._.isBlockLike )\n\t\t\t\t\tnewPendingInline.unshift( candidate );\n\n\t\t\t\t// This node should be added to it's parent at this point. But,\n\t\t\t\t// it should happen only if the closing tag is really closing\n\t\t\t\t// one of the nodes. So, for now, we just cache it.\n\t\t\t\tpendingAdd.push( candidate );\n\n\t\t\t\t// Make sure return point is properly restored.\n\t\t\t\tcandidate = candidate.returnPoint || candidate.parent;\n\t\t\t}\n\n\t\t\tif ( candidate != root ) {\n\t\t\t\t// Add all elements that have been found in the above loop.\n\t\t\t\tfor ( i = 0; i < pendingAdd.length; i++ ) {\n\t\t\t\t\tvar node = pendingAdd[ i ];\n\t\t\t\t\taddElement( node, node.parent );\n\t\t\t\t}\n\n\t\t\t\tcurrentNode = candidate;\n\n\t\t\t\tif ( candidate._.isBlockLike )\n\t\t\t\t\tsendPendingBRs();\n\n\t\t\t\taddElement( candidate, candidate.parent );\n\n\t\t\t\t// The parent should start receiving new nodes now, except if\n\t\t\t\t// addElement changed the currentNode.\n\t\t\t\tif ( candidate == currentNode )\n\t\t\t\t\tcurrentNode = currentNode.parent;\n\n\t\t\t\tpendingInline = pendingInline.concat( newPendingInline );\n\t\t\t}\n\n\t\t\tif ( tagName == 'body' )\n\t\t\t\tfixingBlock = false;\n\t\t};\n\n\t\tparser.onText = function( text ) {\n\t\t\t// Trim empty spaces at beginning of text contents except <pre> and <textarea>.\n\t\t\tif ( ( !currentNode._.hasInlineStarted || pendingBRs.length ) && !inPre && !inTextarea ) {\n\t\t\t\ttext = CKEDITOR.tools.ltrim( text );\n\n\t\t\t\tif ( text.length === 0 )\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar currentName = currentNode.name,\n\t\t\t\tcurrentDtd = currentName ? ( CKEDITOR.dtd[ currentName ] || ( currentNode._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span ) ) : rootDtd;\n\n\t\t\t// Fix orphan text in list/table. (#8540) (#8870)\n\t\t\tif ( !inTextarea && !currentDtd[ '#' ] && currentName in nonBreakingBlocks ) {\n\t\t\t\tparser.onTagOpen( structureFixes[ currentName ] || '' );\n\t\t\t\tparser.onText( text );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsendPendingBRs();\n\t\t\tcheckPending();\n\n\t\t\t// Shrinking consequential spaces into one single for all elements\n\t\t\t// text contents.\n\t\t\tif ( !inPre && !inTextarea )\n\t\t\t\ttext = text.replace( /[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g, ' ' );\n\n\t\t\ttext = new CKEDITOR.htmlParser.text( text );\n\n\n\t\t\tif ( checkAutoParagraphing( currentNode, text ) )\n\t\t\t\tthis.onTagOpen( fixingBlock, {}, 0, 1 );\n\n\t\t\tcurrentNode.add( text );\n\t\t};\n\n\t\tparser.onCDATA = function( cdata ) {\n\t\t\tcurrentNode.add( new CKEDITOR.htmlParser.cdata( cdata ) );\n\t\t};\n\n\t\tparser.onComment = function( comment ) {\n\t\t\tsendPendingBRs();\n\t\t\tcheckPending();\n\t\t\tcurrentNode.add( new CKEDITOR.htmlParser.comment( comment ) );\n\t\t};\n\n\t\t// Parse it.\n\t\tparser.parse( fragmentHtml );\n\n\t\tsendPendingBRs();\n\n\t\t// Close all pending nodes, make sure return point is properly restored.\n\t\twhile ( currentNode != root )\n\t\t\taddElement( currentNode, currentNode.parent, 1 );\n\n\t\tremoveTailWhitespace( root );\n\n\t\treturn root;\n\t};\n\n\tCKEDITOR.htmlParser.fragment.prototype = {\n\n\t\t/**\n\t\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_DOCUMENT_FRAGMENT}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [=CKEDITOR.NODE_DOCUMENT_FRAGMENT]\n\t\t */\n\t\ttype: CKEDITOR.NODE_DOCUMENT_FRAGMENT,\n\n\t\t/**\n\t\t * Adds a node to this fragment.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.node} node The node to be added.\n\t\t * @param {Number} [index] From where the insertion happens.\n\t\t */\n\t\tadd: function( node, index ) {\n\t\t\tisNaN( index ) && ( index = this.children.length );\n\n\t\t\tvar previous = index > 0 ? this.children[ index - 1 ] : null;\n\t\t\tif ( previous ) {\n\t\t\t\t// If the block to be appended is following text, trim spaces at\n\t\t\t\t// the right of it.\n\t\t\t\tif ( node._.isBlockLike && previous.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\tprevious.value = CKEDITOR.tools.rtrim( previous.value );\n\n\t\t\t\t\t// If we have completely cleared the previous node.\n\t\t\t\t\tif ( previous.value.length === 0 ) {\n\t\t\t\t\t\t// Remove it from the list and add the node again.\n\t\t\t\t\t\tthis.children.pop();\n\t\t\t\t\t\tthis.add( node );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevious.next = node;\n\t\t\t}\n\n\t\t\tnode.previous = previous;\n\t\t\tnode.parent = this;\n\n\t\t\tthis.children.splice( index, 0, node );\n\n\t\t\tif ( !this._.hasInlineStarted )\n\t\t\t\tthis._.hasInlineStarted = node.type == CKEDITOR.NODE_TEXT || ( node.type == CKEDITOR.NODE_ELEMENT && !node._.isBlockLike );\n\t\t},\n\n\t\t/**\n\t\t * Filter this fragment's content with given filter.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.filter} filter\n\t\t */\n\t\tfilter: function( filter, context ) {\n\t\t\tcontext = this.getFilterContext( context );\n\n\t\t\t// Apply the root filter.\n\t\t\tfilter.onRoot( context, this );\n\n\t\t\tthis.filterChildren( filter, false, context );\n\t\t},\n\n\t\t/**\n\t\t * Filter this fragment's children with given filter.\n\t\t *\n\t\t * Element's children may only be filtered once by one\n\t\t * instance of filter.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.filter} filter\n\t\t * @param {Boolean} [filterRoot] Whether to apply the \"root\" filter rule specified in the `filter`.\n\t\t */\n\t\tfilterChildren: function( filter, filterRoot, context ) {\n\t\t\t// If this element's children were already filtered\n\t\t\t// by current filter, don't filter them 2nd time.\n\t\t\t// This situation may occur when filtering bottom-up\n\t\t\t// (filterChildren() called manually in element's filter),\n\t\t\t// or in unpredictable edge cases when filter\n\t\t\t// is manipulating DOM structure.\n\t\t\tif ( this.childrenFilteredBy == filter.id )\n\t\t\t\treturn;\n\n\t\t\tcontext = this.getFilterContext( context );\n\n\t\t\t// Filtering root if enforced.\n\t\t\tif ( filterRoot && !this.parent )\n\t\t\t\tfilter.onRoot( context, this );\n\n\t\t\tthis.childrenFilteredBy = filter.id;\n\n\t\t\t// Don't cache anything, children array may be modified by filter rule.\n\t\t\tfor ( var i = 0; i < this.children.length; i++ ) {\n\t\t\t\t// Stay in place if filter returned false, what means\n\t\t\t\t// that node has been removed.\n\t\t\t\tif ( this.children[ i ].filter( filter, context ) === false )\n\t\t\t\t\ti--;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Writes the fragment HTML to a {@link CKEDITOR.htmlParser.basicWriter}.\n\t\t *\n\t\t *\t\tvar writer = new CKEDITOR.htmlWriter();\n\t\t *\t\tvar fragment = CKEDITOR.htmlParser.fragment.fromHtml( '<P><B>Example' );\n\t\t *\t\tfragment.writeHtml( writer );\n\t\t *\t\talert( writer.getHtml() ); // '<p><b>Example</b></p>'\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which write the HTML.\n\t\t * @param {CKEDITOR.htmlParser.filter} [filter] The filter to use when writing the HTML.\n\t\t */\n\t\twriteHtml: function( writer, filter ) {\n\t\t\tif ( filter )\n\t\t\t\tthis.filter( filter );\n\n\t\t\tthis.writeChildrenHtml( writer );\n\t\t},\n\n\t\t/**\n\t\t * Write and filtering the child nodes of this fragment.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which write the HTML.\n\t\t * @param {CKEDITOR.htmlParser.filter} [filter] The filter to use when writing the HTML.\n\t\t * @param {Boolean} [filterRoot] Whether to apply the \"root\" filter rule specified in the `filter`.\n\t\t */\n\t\twriteChildrenHtml: function( writer, filter, filterRoot ) {\n\t\t\tvar context = this.getFilterContext();\n\n\t\t\t// Filtering root if enforced.\n\t\t\tif ( filterRoot && !this.parent && filter )\n\t\t\t\tfilter.onRoot( context, this );\n\n\t\t\tif ( filter )\n\t\t\t\tthis.filterChildren( filter, false, context );\n\n\t\t\tfor ( var i = 0, children = this.children, l = children.length; i < l; i++ )\n\t\t\t\tchildren[ i ].writeHtml( writer );\n\t\t},\n\n\t\t/**\n\t\t * Execute callback on each node (of given type) in this document fragment.\n\t\t *\n\t\t *\t\tvar fragment = CKEDITOR.htmlParser.fragment.fromHtml( '<p>foo<b>bar</b>bom</p>' );\n\t\t *\t\tfragment.forEach( function( node ) {\n\t\t *\t\t\tconsole.log( node );\n\t\t *\t\t} );\n\t\t *\t\t// Will log:\n\t\t *\t\t// 1. document fragment,\n\t\t *\t\t// 2. <p> element,\n\t\t *\t\t// 3. \"foo\" text node,\n\t\t *\t\t// 4. <b> element,\n\t\t *\t\t// 5. \"bar\" text node,\n\t\t *\t\t// 6. \"bom\" text node.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Function} callback Function to be executed on every node.\n\t\t * **Since 4.3** if `callback` returned `false` descendants of current node will be ignored.\n\t\t * @param {CKEDITOR.htmlParser.node} callback.node Node passed as argument.\n\t\t * @param {Number} [type] If specified `callback` will be executed only on nodes of this type.\n\t\t * @param {Boolean} [skipRoot] Don't execute `callback` on this fragment.\n\t\t */\n\t\tforEach: function( callback, type, skipRoot ) {\n\t\t\tif ( !skipRoot && ( !type || this.type == type ) )\n\t\t\t\tvar ret = callback( this );\n\n\t\t\t// Do not filter children if callback returned false.\n\t\t\tif ( ret === false )\n\t\t\t\treturn;\n\n\t\t\tvar children = this.children,\n\t\t\t\tnode,\n\t\t\t\ti = 0;\n\n\t\t\t// We do not cache the size, because the list of nodes may be changed by the callback.\n\t\t\tfor ( ; i < children.length; i++ ) {\n\t\t\t\tnode = children[ i ];\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\tnode.forEach( callback, type );\n\t\t\t\telse if ( !type || node.type == type )\n\t\t\t\t\tcallback( node );\n\t\t\t}\n\t\t},\n\n\t\tgetFilterContext: function( context ) {\n\t\t\treturn context || {};\n\t\t}\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/fragment.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n( function() {\n\t/**\n\t * Filter is a configurable tool for transforming and filtering {@link CKEDITOR.htmlParser.node nodes}.\n\t * It is mainly used during data processing phase which is done not on real DOM nodes,\n\t * but on their simplified form represented by {@link CKEDITOR.htmlParser.node} class and its subclasses.\n\t *\n\t *\t\tvar filter = new CKEDITOR.htmlParser.filter( {\n\t *\t\t\ttext: function( value ) {\n\t *\t\t\t\treturn '@' + value + '@';\n\t *\t\t\t},\n\t *\t\t\telements: {\n\t *\t\t\t\tp: function( element ) {\n\t *\t\t\t\t\telement.attributes.foo = '1';\n\t *\t\t\t\t}\n\t *\t\t\t}\n\t *\t\t} );\n\t *\n\t *\t\tvar fragment = CKEDITOR.htmlParser.fragment.fromHtml( '<p>Foo<b>bar!</b></p>' ),\n\t *\t\t\twriter = new CKEDITOR.htmlParser.basicWriter();\n\t *\t\tfilter.applyTo( fragment );\n\t *\t\tfragment.writeHtml( writer );\n\t *\t\twriter.getHtml(); // '<p foo=\"1\">@Foo@<b>@bar!@</b></p>'\n\t *\n\t * @class\n\t */\n\tCKEDITOR.htmlParser.filter = CKEDITOR.tools.createClass( {\n\t\t/**\n\t\t * @constructor Creates a filter class instance.\n\t\t * @param {CKEDITOR.htmlParser.filterRulesDefinition} [rules]\n\t\t */\n\t\t$: function( rules ) {\n\t\t\t/**\n\t\t\t * ID of filter instance, which is used to mark elements\n\t\t\t * to which this filter has been already applied.\n\t\t\t *\n\t\t\t * @property {Number} id\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.id = CKEDITOR.tools.getNextNumber();\n\n\t\t\t/**\n\t\t\t * Rules for element names.\n\t\t\t *\n\t\t\t * @property {CKEDITOR.htmlParser.filterRulesGroup}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.elementNameRules = new filterRulesGroup();\n\n\t\t\t/**\n\t\t\t * Rules for attribute names.\n\t\t\t *\n\t\t\t * @property {CKEDITOR.htmlParser.filterRulesGroup}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.attributeNameRules = new filterRulesGroup();\n\n\t\t\t/**\n\t\t\t * Hash of elementName => {@link CKEDITOR.htmlParser.filterRulesGroup rules for elements}.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.elementsRules = {};\n\n\t\t\t/**\n\t\t\t * Hash of attributeName => {@link CKEDITOR.htmlParser.filterRulesGroup rules for attributes}.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.attributesRules = {};\n\n\t\t\t/**\n\t\t\t * Rules for text nodes.\n\t\t\t *\n\t\t\t * @property {CKEDITOR.htmlParser.filterRulesGroup}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.textRules = new filterRulesGroup();\n\n\t\t\t/**\n\t\t\t * Rules for comment nodes.\n\t\t\t *\n\t\t\t * @property {CKEDITOR.htmlParser.filterRulesGroup}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.commentRules = new filterRulesGroup();\n\n\t\t\t/**\n\t\t\t * Rules for a root node.\n\t\t\t *\n\t\t\t * @property {CKEDITOR.htmlParser.filterRulesGroup}\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.rootRules = new filterRulesGroup();\n\n\t\t\tif ( rules )\n\t\t\t\tthis.addRules( rules, 10 );\n\t\t},\n\n\t\tproto: {\n\t\t\t/**\n\t\t\t * Add rules to this filter.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.htmlParser.filterRulesDefinition} rules Object containing filter rules.\n\t\t\t * @param {Object/Number} [options] Object containing rules' options or a priority\n\t\t\t * (for a backward compatibility with CKEditor versions up to 4.2.x).\n\t\t\t * @param {Number} [options.priority=10] The priority of a rule.\n\t\t\t * @param {Boolean} [options.applyToAll=false] Whether to apply rule to non-editable\n\t\t\t * elements and their descendants too.\n\t\t\t */\n\t\t\taddRules: function( rules, options ) {\n\t\t\t\tvar priority;\n\n\t\t\t\t// Backward compatibility.\n\t\t\t\tif ( typeof options == 'number' )\n\t\t\t\t\tpriority = options;\n\t\t\t\t// New version - try reading from options.\n\t\t\t\telse if ( options && ( 'priority' in options ) )\n\t\t\t\t\tpriority = options.priority;\n\n\t\t\t\t// Defaults.\n\t\t\t\tif ( typeof priority != 'number' )\n\t\t\t\t\tpriority = 10;\n\t\t\t\tif ( typeof options != 'object' )\n\t\t\t\t\toptions = {};\n\n\t\t\t\t// Add the elementNames.\n\t\t\t\tif ( rules.elementNames )\n\t\t\t\t\tthis.elementNameRules.addMany( rules.elementNames, priority, options );\n\n\t\t\t\t// Add the attributeNames.\n\t\t\t\tif ( rules.attributeNames )\n\t\t\t\t\tthis.attributeNameRules.addMany( rules.attributeNames, priority, options );\n\n\t\t\t\t// Add the elements.\n\t\t\t\tif ( rules.elements )\n\t\t\t\t\taddNamedRules( this.elementsRules, rules.elements, priority, options );\n\n\t\t\t\t// Add the attributes.\n\t\t\t\tif ( rules.attributes )\n\t\t\t\t\taddNamedRules( this.attributesRules, rules.attributes, priority, options );\n\n\t\t\t\t// Add the text.\n\t\t\t\tif ( rules.text )\n\t\t\t\t\tthis.textRules.add( rules.text, priority, options );\n\n\t\t\t\t// Add the comment.\n\t\t\t\tif ( rules.comment )\n\t\t\t\t\tthis.commentRules.add( rules.comment, priority, options );\n\n\t\t\t\t// Add root node rules.\n\t\t\t\tif ( rules.root )\n\t\t\t\t\tthis.rootRules.add( rules.root, priority, options );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Apply this filter to given node.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.htmlParser.node} node The node to be filtered.\n\t\t\t */\n\t\t\tapplyTo: function( node ) {\n\t\t\t\tnode.filter( this );\n\t\t\t},\n\n\t\t\tonElementName: function( context, name ) {\n\t\t\t\treturn this.elementNameRules.execOnName( context, name );\n\t\t\t},\n\n\t\t\tonAttributeName: function( context, name ) {\n\t\t\t\treturn this.attributeNameRules.execOnName( context, name );\n\t\t\t},\n\n\t\t\tonText: function( context, text, node ) {\n\t\t\t\treturn this.textRules.exec( context, text, node );\n\t\t\t},\n\n\t\t\tonComment: function( context, commentText, comment ) {\n\t\t\t\treturn this.commentRules.exec( context, commentText, comment );\n\t\t\t},\n\n\t\t\tonRoot: function( context, element ) {\n\t\t\t\treturn this.rootRules.exec( context, element );\n\t\t\t},\n\n\t\t\tonElement: function( context, element ) {\n\t\t\t\t// We must apply filters set to the specific element name as\n\t\t\t\t// well as those set to the generic ^/$ name. So, add both to an\n\t\t\t\t// array and process them in a small loop.\n\t\t\t\tvar rulesGroups = [ this.elementsRules[ '^' ], this.elementsRules[ element.name ], this.elementsRules.$ ],\n\t\t\t\t\trulesGroup, ret;\n\n\t\t\t\tfor ( var i = 0; i < 3; i++ ) {\n\t\t\t\t\trulesGroup = rulesGroups[ i ];\n\t\t\t\t\tif ( rulesGroup ) {\n\t\t\t\t\t\tret = rulesGroup.exec( context, element, this );\n\n\t\t\t\t\t\tif ( ret === false )\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\tif ( ret && ret != element )\n\t\t\t\t\t\t\treturn this.onNode( context, ret );\n\n\t\t\t\t\t\t// The non-root element has been dismissed by one of the filters.\n\t\t\t\t\t\tif ( element.parent && !element.name )\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn element;\n\t\t\t},\n\n\t\t\tonNode: function( context, node ) {\n\t\t\t\tvar type = node.type;\n\n\t\t\t\treturn type == CKEDITOR.NODE_ELEMENT ? this.onElement( context, node ) :\n\t\t\t\t\ttype == CKEDITOR.NODE_TEXT ? new CKEDITOR.htmlParser.text( this.onText( context, node.value ) ) :\n\t\t\t\t\ttype == CKEDITOR.NODE_COMMENT ? new CKEDITOR.htmlParser.comment( this.onComment( context, node.value ) ) : null;\n\t\t\t},\n\n\t\t\tonAttribute: function( context, element, name, value ) {\n\t\t\t\tvar rulesGroup = this.attributesRules[ name ];\n\n\t\t\t\tif ( rulesGroup )\n\t\t\t\t\treturn rulesGroup.exec( context, value, element, this );\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t} );\n\n\t/**\n\t * Class grouping filter rules for one subject (like element or attribute names).\n\t *\n\t * @class CKEDITOR.htmlParser.filterRulesGroup\n\t */\n\tfunction filterRulesGroup() {\n\t\t/**\n\t\t * Array of objects containing rule, priority and options.\n\t\t *\n\t\t * @property {Object[]}\n\t\t * @readonly\n\t\t */\n\t\tthis.rules = [];\n\t}\n\n\tCKEDITOR.htmlParser.filterRulesGroup = filterRulesGroup;\n\n\tfilterRulesGroup.prototype = {\n\t\t/**\n\t\t * Adds specified rule to this group.\n\t\t *\n\t\t * @param {Function/Array} rule Function for function based rule or [ pattern, replacement ] array for\n\t\t * rule applicable to names.\n\t\t * @param {Number} priority\n\t\t * @param options\n\t\t */\n\t\tadd: function( rule, priority, options ) {\n\t\t\tthis.rules.splice( this.findIndex( priority ), 0, {\n\t\t\t\tvalue: rule,\n\t\t\t\tpriority: priority,\n\t\t\t\toptions: options\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Adds specified rules to this group.\n\t\t *\n\t\t * @param {Array} rules Array of rules - see {@link #add}.\n\t\t * @param {Number} priority\n\t\t * @param options\n\t\t */\n\t\taddMany: function( rules, priority, options ) {\n\t\t\tvar args = [ this.findIndex( priority ), 0 ];\n\n\t\t\tfor ( var i = 0, len = rules.length; i < len; i++ ) {\n\t\t\t\targs.push( {\n\t\t\t\t\tvalue: rules[ i ],\n\t\t\t\t\tpriority: priority,\n\t\t\t\t\toptions: options\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tthis.rules.splice.apply( this.rules, args );\n\t\t},\n\n\t\t/**\n\t\t * Finds an index at which rule with given priority should be inserted.\n\t\t *\n\t\t * @param {Number} priority\n\t\t * @returns {Number} Index.\n\t\t */\n\t\tfindIndex: function( priority ) {\n\t\t\tvar rules = this.rules,\n\t\t\t\tlen = rules.length,\n\t\t\t\ti = len - 1;\n\n\t\t\t// Search from the end, because usually rules will be added with default priority, so\n\t\t\t// we will be able to stop loop quickly.\n\t\t\twhile ( i >= 0 && priority < rules[ i ].priority )\n\t\t\t\ti--;\n\n\t\t\treturn i + 1;\n\t\t},\n\n\t\t/**\n\t\t * Executes this rules group on given value. Applicable only if function based rules were added.\n\t\t *\n\t\t * All arguments passed to this function will be forwarded to rules' functions.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.node/CKEDITOR.htmlParser.fragment/String} currentValue The value to be filtered.\n\t\t * @returns {CKEDITOR.htmlParser.node/CKEDITOR.htmlParser.fragment/String} Filtered value.\n\t\t */\n\t\texec: function( context, currentValue ) {\n\t\t\tvar isNode = currentValue instanceof CKEDITOR.htmlParser.node || currentValue instanceof CKEDITOR.htmlParser.fragment,\n\t\t\t\t// Splice '1' to remove context, which we don't want to pass to filter rules.\n\t\t\t\targs = Array.prototype.slice.call( arguments, 1 ),\n\t\t\t\trules = this.rules,\n\t\t\t\tlen = rules.length,\n\t\t\t\torgType, orgName, ret, i, rule;\n\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t// Backup the node info before filtering.\n\t\t\t\tif ( isNode ) {\n\t\t\t\t\torgType = currentValue.type;\n\t\t\t\t\torgName = currentValue.name;\n\t\t\t\t}\n\n\t\t\t\trule = rules[ i ];\n\t\t\t\tif ( isRuleApplicable( context, rule ) ) {\n\t\t\t\t\tret = rule.value.apply( null, args );\n\n\t\t\t\t\tif ( ret === false )\n\t\t\t\t\t\treturn ret;\n\n\t\t\t\t\t// We're filtering node (element/fragment).\n\t\t\t\t\t// No further filtering if it's not anymore fitable for the subsequent filters.\n\t\t\t\t\tif ( isNode && ret && ( ret.name != orgName || ret.type != orgType ) )\n\t\t\t\t\t\treturn ret;\n\n\t\t\t\t\t// Update currentValue and corresponding argument in args array.\n\t\t\t\t\t// Updated values will be used in next for-loop step.\n\t\t\t\t\tif ( ret != null )\n\t\t\t\t\t\targs[ 0 ] = currentValue = ret;\n\n\t\t\t\t\t// ret == undefined will continue loop as nothing has happened.\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn currentValue;\n\t\t},\n\n\t\t/**\n\t\t * Executes this rules group on name. Applicable only if filter rules for names were added.\n\t\t *\n\t\t * @param {String} currentName The name to be filtered.\n\t\t * @returns {String} Filtered name.\n\t\t */\n\t\texecOnName: function( context, currentName ) {\n\t\t\tvar i = 0,\n\t\t\t\trules = this.rules,\n\t\t\t\tlen = rules.length,\n\t\t\t\trule;\n\n\t\t\tfor ( ; currentName && i < len; i++ ) {\n\t\t\t\trule = rules[ i ];\n\t\t\t\tif ( isRuleApplicable( context, rule ) )\n\t\t\t\t\tcurrentName = currentName.replace( rule.value[ 0 ], rule.value[ 1 ] );\n\t\t\t}\n\n\t\t\treturn currentName;\n\t\t}\n\t};\n\n\tfunction addNamedRules( rulesGroups, newRules, priority, options ) {\n\t\tvar ruleName, rulesGroup;\n\n\t\tfor ( ruleName in newRules ) {\n\t\t\trulesGroup = rulesGroups[ ruleName ];\n\n\t\t\tif ( !rulesGroup )\n\t\t\t\trulesGroup = rulesGroups[ ruleName ] = new filterRulesGroup();\n\n\t\t\trulesGroup.add( newRules[ ruleName ], priority, options );\n\t\t}\n\t}\n\n\tfunction isRuleApplicable( context, rule ) {\n\t\tif ( context.nonEditable && !rule.options.applyToAll )\n\t\t\treturn false;\n\n\t\tif ( context.nestedEditable && rule.options.excludeNestedEditable )\n\t\t\treturn false;\n\n\t\treturn true;\n\t}\n\n} )();\n\n/**\n * @class CKEDITOR.htmlParser.filterRulesDefinition\n * @abstract\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/filter.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t/**\n\t * Represents an HTML data processor, which is responsible for translating and\n\t * transforming the editor data on input and output.\n\t *\n\t * @class\n\t * @extends CKEDITOR.dataProcessor\n\t * @constructor Creates an htmlDataProcessor class instance.\n\t * @param {CKEDITOR.editor} editor\n\t */\n\tCKEDITOR.htmlDataProcessor = function( editor ) {\n\t\tvar dataFilter, htmlFilter,\n\t\t\tthat = this;\n\n\t\tthis.editor = editor;\n\n\t\t/**\n\t\t * Data filter used when processing input by {@link #toHtml}.\n\t\t *\n\t\t * @property {CKEDITOR.htmlParser.filter}\n\t\t */\n\t\tthis.dataFilter = dataFilter = new CKEDITOR.htmlParser.filter();\n\n\t\t/**\n\t\t * HTML filter used when processing output by {@link #toDataFormat}.\n\t\t *\n\t\t * @property {CKEDITOR.htmlParser.filter}\n\t\t */\n\t\tthis.htmlFilter = htmlFilter = new CKEDITOR.htmlParser.filter();\n\n\t\t/**\n\t\t * The HTML writer used by this data processor to format the output.\n\t\t *\n\t\t * @property {CKEDITOR.htmlParser.basicWriter}\n\t\t */\n\t\tthis.writer = new CKEDITOR.htmlParser.basicWriter();\n\n\t\tdataFilter.addRules( defaultDataFilterRulesEditableOnly );\n\t\tdataFilter.addRules( defaultDataFilterRulesForAll, { applyToAll: true } );\n\t\tdataFilter.addRules( createBogusAndFillerRules( editor, 'data' ), { applyToAll: true } );\n\t\thtmlFilter.addRules( defaultHtmlFilterRulesEditableOnly );\n\t\thtmlFilter.addRules( defaultHtmlFilterRulesForAll, { applyToAll: true } );\n\t\thtmlFilter.addRules( createBogusAndFillerRules( editor, 'html' ), { applyToAll: true } );\n\n\t\teditor.on( 'toHtml', function( evt ) {\n\t\t\tvar evtData = evt.data,\n\t\t\t\tdata = evtData.dataValue,\n\t\t\t\tfixBodyTag;\n\n\t\t\t// The source data is already HTML, but we need to clean\n\t\t\t// it up and apply the filter.\n\t\t\tdata = protectSource( data, editor );\n\n\t\t\t// Protect content of textareas. (#9995)\n\t\t\t// Do this before protecting attributes to avoid breaking:\n\t\t\t// <textarea><img src=\"...\" /></textarea>\n\t\t\tdata = protectElements( data, protectTextareaRegex );\n\n\t\t\t// Before anything, we must protect the URL attributes as the\n\t\t\t// browser may changing them when setting the innerHTML later in\n\t\t\t// the code.\n\t\t\tdata = protectAttributes( data );\n\n\t\t\t// Protect elements than can't be set inside a DIV. E.g. IE removes\n\t\t\t// style tags from innerHTML. (#3710)\n\t\t\tdata = protectElements( data, protectElementsRegex );\n\n\t\t\t// Certain elements has problem to go through DOM operation, protect\n\t\t\t// them by prefixing 'cke' namespace. (#3591)\n\t\t\tdata = protectElementsNames( data );\n\n\t\t\t// All none-IE browsers ignore self-closed custom elements,\n\t\t\t// protecting them into open-close. (#3591)\n\t\t\tdata = protectSelfClosingElements( data );\n\n\t\t\t// Compensate one leading line break after <pre> open as browsers\n\t\t\t// eat it up. (#5789)\n\t\t\tdata = protectPreFormatted( data );\n\n\t\t\t// There are attributes which may execute JavaScript code inside fixBin.\n\t\t\t// Encode them greedily. They will be unprotected right after getting HTML from fixBin. (#10)\n\t\t\tdata = protectInsecureAttributes( data );\n\n\t\t\tvar fixBin = evtData.context || editor.editable().getName(),\n\t\t\t\tisPre;\n\n\t\t\t// Old IEs loose formats when load html into <pre>.\n\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 && fixBin == 'pre' ) {\n\t\t\t\tfixBin = 'div';\n\t\t\t\tdata = '<pre>' + data + '</pre>';\n\t\t\t\tisPre = 1;\n\t\t\t}\n\n\t\t\t// Call the browser to help us fixing a possibly invalid HTML\n\t\t\t// structure.\n\t\t\tvar el = editor.document.createElement( fixBin );\n\t\t\t// Add fake character to workaround IE comments bug. (#3801)\n\t\t\tel.setHtml( 'a' + data );\n\t\t\tdata = el.getHtml().substr( 1 );\n\n\t\t\t// Restore shortly protected attribute names.\n\t\t\tdata = data.replace( new RegExp( 'data-cke-' + CKEDITOR.rnd + '-', 'ig' ), '' );\n\n\t\t\tisPre && ( data = data.replace( /^<pre>|<\\/pre>$/gi, '' ) );\n\n\t\t\t// Unprotect \"some\" of the protected elements at this point.\n\t\t\tdata = unprotectElementNames( data );\n\n\t\t\tdata = unprotectElements( data );\n\n\t\t\t// Restore the comments that have been protected, in this way they\n\t\t\t// can be properly filtered.\n\t\t\tdata = unprotectRealComments( data );\n\n\t\t\tif ( evtData.fixForBody === false ) {\n\t\t\t\tfixBodyTag = false;\n\t\t\t} else {\n\t\t\t\tfixBodyTag = getFixBodyTag( evtData.enterMode, editor.config.autoParagraph );\n\t\t\t}\n\n\t\t\t// Now use our parser to make further fixes to the structure, as\n\t\t\t// well as apply the filter.\n\t\t\tdata = CKEDITOR.htmlParser.fragment.fromHtml( data, evtData.context, fixBodyTag );\n\n\t\t\t// The empty root element needs to be fixed by adding 'p' or 'div' into it.\n\t\t\t// This avoids the need to create that element on the first focus (#12630).\n\t\t\tif ( fixBodyTag ) {\n\t\t\t\tfixEmptyRoot( data, fixBodyTag );\n\t\t\t}\n\n\t\t\tevtData.dataValue = data;\n\t\t}, null, null, 5 );\n\n\t\t// Filter incoming \"data\".\n\t\t// Add element filter before htmlDataProcessor.dataFilter when purifying input data to correct html.\n\t\teditor.on( 'toHtml', function( evt ) {\n\t\t\tif ( evt.data.filter.applyTo( evt.data.dataValue, true, evt.data.dontFilter, evt.data.enterMode ) )\n\t\t\t\teditor.fire( 'dataFiltered' );\n\t\t}, null, null, 6 );\n\n\t\teditor.on( 'toHtml', function( evt ) {\n\t\t\tevt.data.dataValue.filterChildren( that.dataFilter, true );\n\t\t}, null, null, 10 );\n\n\t\teditor.on( 'toHtml', function( evt ) {\n\t\t\tvar evtData = evt.data,\n\t\t\t\tdata = evtData.dataValue,\n\t\t\t\twriter = new CKEDITOR.htmlParser.basicWriter();\n\n\t\t\tdata.writeChildrenHtml( writer );\n\t\t\tdata = writer.getHtml( true );\n\n\t\t\t// Protect the real comments again.\n\t\t\tevtData.dataValue = protectRealComments( data );\n\t\t}, null, null, 15 );\n\n\n\t\teditor.on( 'toDataFormat', function( evt ) {\n\t\t\tvar data = evt.data.dataValue;\n\n\t\t\t// #10854 - we need to strip leading blockless <br> which FF adds\n\t\t\t// automatically when editable contains only non-editable content.\n\t\t\t// We do that for every browser (so it's a constant behavior) and\n\t\t\t// not in BR mode, in which chance of valid leading blockless <br> is higher.\n\t\t\tif ( evt.data.enterMode != CKEDITOR.ENTER_BR )\n\t\t\t\tdata = data.replace( /^<br *\\/?>/i, '' );\n\n\t\t\tevt.data.dataValue = CKEDITOR.htmlParser.fragment.fromHtml(\n\t\t\t\tdata, evt.data.context, getFixBodyTag( evt.data.enterMode, editor.config.autoParagraph ) );\n\t\t}, null, null, 5 );\n\n\t\teditor.on( 'toDataFormat', function( evt ) {\n\t\t\tevt.data.dataValue.filterChildren( that.htmlFilter, true );\n\t\t}, null, null, 10 );\n\n\t\t// Transform outcoming \"data\".\n\t\t// Add element filter after htmlDataProcessor.htmlFilter when preparing output data HTML.\n\t\teditor.on( 'toDataFormat', function( evt ) {\n\t\t\tevt.data.filter.applyTo( evt.data.dataValue, false, true );\n\t\t}, null, null, 11 );\n\n\t\teditor.on( 'toDataFormat', function( evt ) {\n\t\t\tvar data = evt.data.dataValue,\n\t\t\t\twriter = that.writer;\n\n\t\t\twriter.reset();\n\t\t\tdata.writeChildrenHtml( writer );\n\t\t\tdata = writer.getHtml( true );\n\n\t\t\t// Restore those non-HTML protected source. (#4475,#4880)\n\t\t\tdata = unprotectRealComments( data );\n\t\t\tdata = unprotectSource( data, editor );\n\n\t\t\tevt.data.dataValue = data;\n\t\t}, null, null, 15 );\n\t};\n\n\tCKEDITOR.htmlDataProcessor.prototype = {\n\t\t/**\n\t\t * Processes the (potentially malformed) input HTML to a purified form which\n\t\t * is suitable for using in the WYSIWYG editable.\n\t\t *\n\t\t * This method fires the {@link CKEDITOR.editor#toHtml} event which makes it possible\n\t\t * to hook into the process at various stages.\n\t\t *\n\t\t * **Note:** Since CKEditor 4.3 the signature of this method changed and all options\n\t\t * are now grouped in one `options` object. Previously `context`, `fixForBody` and `dontFilter`\n\t\t * were passed separately.\n\t\t *\n\t\t * @param {String} data The raw data.\n\t\t * @param {Object} [options] The options object.\n\t\t * @param {String} [options.context] The tag name of a context element within which\n\t\t * the input is to be processed, defaults to the editable element.\n\t\t * If `null` is passed, then data will be parsed without context (as children of {@link CKEDITOR.htmlParser.fragment}).\n\t\t * See {@link CKEDITOR.htmlParser.fragment#fromHtml} for more details.\n\t\t * @param {Boolean} [options.fixForBody=true] Whether to trigger the auto paragraph for non-block content.\n\t\t * @param {CKEDITOR.filter} [options.filter] When specified, instead of using the {@link CKEDITOR.editor#filter main filter},\n\t\t * the passed instance will be used to filter the content.\n\t\t * @param {Boolean} [options.dontFilter] Do not filter data with {@link CKEDITOR.filter} (note: transformations\n\t\t * will still be applied).\n\t\t * @param {Number} [options.enterMode] When specified, it will be used instead of the {@link CKEDITOR.editor#enterMode main enterMode}.\n\t\t * @param {Boolean} [options.protectedWhitespaces] Indicates that content was wrapped with `<span>` elements to preserve\n\t\t * leading and trailing whitespaces. Option used by the {@link CKEDITOR.editor#method-insertHtml} method.\n\t\t * @returns {String}\n\t\t */\n\t\ttoHtml: function( data, options, fixForBody, dontFilter ) {\n\t\t\tvar editor = this.editor,\n\t\t\t\tcontext, filter, enterMode, protectedWhitespaces;\n\n\t\t\t// Typeof null == 'object', so check truthiness of options too.\n\t\t\tif ( options && typeof options == 'object' ) {\n\t\t\t\tcontext = options.context;\n\t\t\t\tfixForBody = options.fixForBody;\n\t\t\t\tdontFilter = options.dontFilter;\n\t\t\t\tfilter = options.filter;\n\t\t\t\tenterMode = options.enterMode;\n\t\t\t\tprotectedWhitespaces = options.protectedWhitespaces;\n\t\t\t}\n\t\t\t// Backward compatibility. Since CKEDITOR 4.3 every option was a separate argument.\n\t\t\telse {\n\t\t\t\tcontext = options;\n\t\t\t}\n\n\t\t\t// Fall back to the editable as context if not specified.\n\t\t\tif ( !context && context !== null )\n\t\t\t\tcontext = editor.editable().getName();\n\n\t\t\treturn editor.fire( 'toHtml', {\n\t\t\t\tdataValue: data,\n\t\t\t\tcontext: context,\n\t\t\t\tfixForBody: fixForBody,\n\t\t\t\tdontFilter: dontFilter,\n\t\t\t\tfilter: filter || editor.filter,\n\t\t\t\tenterMode: enterMode || editor.enterMode,\n\t\t\t\tprotectedWhitespaces: protectedWhitespaces\n\t\t\t} ).dataValue;\n\t\t},\n\n\t\t/**\n\t\t * See {@link CKEDITOR.dataProcessor#toDataFormat}.\n\t\t *\n\t\t * This method fires the {@link CKEDITOR.editor#toDataFormat} event which makes it possible\n\t\t * to hook into the process at various stages.\n\t\t *\n\t\t * @param {String} html\n\t\t * @param {Object} [options] The options object.\n\t\t * @param {String} [options.context] The tag name of the context element within which\n\t\t * the input is to be processed, defaults to the editable element.\n\t\t * @param {CKEDITOR.filter} [options.filter] When specified, instead of using the {@link CKEDITOR.editor#filter main filter},\n\t\t * the passed instance will be used to apply content transformations to the content.\n\t\t * @param {Number} [options.enterMode] When specified, it will be used instead of the {@link CKEDITOR.editor#enterMode main enterMode}.\n\t\t * @returns {String}\n\t\t */\n\t\ttoDataFormat: function( html, options ) {\n\t\t\tvar context, filter, enterMode;\n\n\t\t\t// Do not shorten this to `options && options.xxx`, because\n\t\t\t// falsy `options` will be passed instead of undefined.\n\t\t\tif ( options ) {\n\t\t\t\tcontext = options.context;\n\t\t\t\tfilter = options.filter;\n\t\t\t\tenterMode = options.enterMode;\n\t\t\t}\n\n\t\t\t// Fall back to the editable as context if not specified.\n\t\t\tif ( !context && context !== null )\n\t\t\t\tcontext = this.editor.editable().getName();\n\n\t\t\treturn this.editor.fire( 'toDataFormat', {\n\t\t\t\tdataValue: html,\n\t\t\t\tfilter: filter || this.editor.filter,\n\t\t\t\tcontext: context,\n\t\t\t\tenterMode: enterMode || this.editor.enterMode\n\t\t\t} ).dataValue;\n\t\t}\n\t};\n\n\t// Produce a set of filtering rules that handles bogus and filler node at the\n\t// end of block/pseudo block, in the following consequence:\n\t// 1. elements:<block> - this filter removes any bogus node, then check\n\t// if it's an empty block that requires a filler.\n\t// 2. elements:<br> - After cleaned with bogus, this filter checks the real\n\t// line-break BR to compensate a filler after it.\n\t//\n\t// Terms definitions:\n\t// filler: An element that's either <BR> or &NBSP; at the end of block that established line height.\n\t// bogus: Whenever a filler is proceeded with inline content, it becomes a bogus which is subjected to be removed.\n\t//\n\t// Various forms of the filler:\n\t// In output HTML: Filler should be consistently &NBSP; <BR> at the end of block is always considered as bogus.\n\t// In Wysiwyg HTML: Browser dependent - see env.needsBrFiller. Either BR for when needsBrFiller is true, or &NBSP; otherwise.\n\t// <BR> is NEVER considered as bogus when needsBrFiller is true.\n\tfunction createBogusAndFillerRules( editor, type ) {\n\t\tfunction createFiller( isOutput ) {\n\t\t\treturn isOutput || CKEDITOR.env.needsNbspFiller ?\n\t\t\t\tnew CKEDITOR.htmlParser.text( '\\xa0' ) :\n\t\t\t\tnew CKEDITOR.htmlParser.element( 'br', { 'data-cke-bogus': 1 } );\n\t\t}\n\n\t\t// This text block filter, remove any bogus and create the filler on demand.\n\t\tfunction blockFilter( isOutput, fillEmptyBlock ) {\n\n\t\t\treturn function( block ) {\n\t\t\t\t// DO NOT apply the filler if it's a fragment node.\n\t\t\t\tif ( block.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT )\n\t\t\t\t\treturn;\n\n\t\t\t\tcleanBogus( block );\n\n\t\t\t\t// Add fillers to input (always) and to output (if fillEmptyBlock is ok with that).\n\t\t\t\tvar shouldFillBlock = !isOutput ||\n\t\t\t\t\t( typeof fillEmptyBlock == 'function' ? fillEmptyBlock( block ) : fillEmptyBlock ) !== false;\n\n\t\t\t\tif ( shouldFillBlock && isEmptyBlockNeedFiller( block ) ) {\n\t\t\t\t\tblock.add( createFiller( isOutput ) );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Append a filler right after the last line-break BR, found at the end of block.\n\t\tfunction brFilter( isOutput ) {\n\t\t\treturn function( br ) {\n\t\t\t\t// DO NOT apply the filer if parent's a fragment node.\n\t\t\t\tif ( br.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar attrs = br.attributes;\n\t\t\t\t// Dismiss BRs that are either bogus or eol marker.\n\t\t\t\tif ( 'data-cke-bogus' in attrs || 'data-cke-eol' in attrs ) {\n\t\t\t\t\tdelete attrs [ 'data-cke-bogus' ];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Judge the tail line-break BR, and to insert bogus after it.\n\t\t\t\tvar next = getNext( br ), previous = getPrevious( br );\n\n\t\t\t\tif ( !next && isBlockBoundary( br.parent ) )\n\t\t\t\t\tappend( br.parent, createFiller( isOutput ) );\n\t\t\t\telse if ( isBlockBoundary( next ) && previous && !isBlockBoundary( previous ) )\n\t\t\t\t\tcreateFiller( isOutput ).insertBefore( next );\n\t\t\t};\n\t\t}\n\n\t\t// Determinate whether this node is potentially a bogus node.\n\t\tfunction maybeBogus( node, atBlockEnd ) {\n\n\t\t\t// BR that's not from IE<11 DOM, except for a EOL marker.\n\t\t\tif ( !( isOutput && !CKEDITOR.env.needsBrFiller ) &&\n\t\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT && node.name == 'br' &&\n\t\t\t\t\t!node.attributes[ 'data-cke-eol' ] ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar match;\n\n\t\t\t// NBSP, possibly.\n\t\t\tif ( node.type == CKEDITOR.NODE_TEXT && ( match = node.value.match( tailNbspRegex ) ) ) {\n\t\t\t\t// We need to separate tail NBSP out of a text node, for later removal.\n\t\t\t\tif ( match.index ) {\n\t\t\t\t\t( new CKEDITOR.htmlParser.text( node.value.substring( 0, match.index ) ) ).insertBefore( node );\n\t\t\t\t\tnode.value = match[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// From IE<11 DOM, at the end of a text block, or before block boundary.\n\t\t\t\tif ( !CKEDITOR.env.needsBrFiller && isOutput && ( !atBlockEnd || node.parent.name in textBlockTags ) )\n\t\t\t\t\treturn true;\n\n\t\t\t\t// From the output.\n\t\t\t\tif ( !isOutput ) {\n\t\t\t\t\tvar previous = node.previous;\n\n\t\t\t\t\t// Following a line-break at the end of block.\n\t\t\t\t\tif ( previous && previous.name == 'br' )\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t// Or a single NBSP between two blocks.\n\t\t\t\t\tif ( !previous || isBlockBoundary( previous ) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// Removes all bogus inside of this block, and to convert fillers into the proper form.\n\t\tfunction cleanBogus( block ) {\n\t\t\tvar bogus = [];\n\t\t\tvar last = getLast( block ), node, previous;\n\n\t\t\tif ( last ) {\n\t\t\t\t// Check for bogus at the end of this block.\n\t\t\t\t// e.g. <p>foo<br /></p>\n\t\t\t\tmaybeBogus( last, 1 ) && bogus.push( last );\n\n\t\t\t\twhile ( last ) {\n\t\t\t\t\t// Check for bogus at the end of any pseudo block contained.\n\t\t\t\t\tif ( isBlockBoundary( last ) && ( node = getPrevious( last ) ) && maybeBogus( node ) ) {\n\t\t\t\t\t\t// Bogus must have inline proceeding, instead single BR between two blocks,\n\t\t\t\t\t\t// is considered as filler, e.g. <hr /><br /><hr />\n\t\t\t\t\t\tif ( ( previous = getPrevious( node ) ) && !isBlockBoundary( previous ) )\n\t\t\t\t\t\t\tbogus.push( node );\n\t\t\t\t\t\t// Convert the filler into appropriate form.\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcreateFiller( isOutput ).insertAfter( node );\n\t\t\t\t\t\t\tnode.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlast = last.previous;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Now remove all bogus collected from above.\n\t\t\tfor ( var i = 0 ; i < bogus.length ; i++ )\n\t\t\t\tbogus[ i ].remove();\n\t\t}\n\n\t\t// Judge whether it's an empty block that requires a filler node.\n\t\tfunction isEmptyBlockNeedFiller( block ) {\n\n\t\t\t// DO NOT fill empty editable in IE<11.\n\t\t\tif ( !isOutput && !CKEDITOR.env.needsBrFiller && block.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT )\n\t\t\t\treturn false;\n\n\t\t\t// 1. For IE version >=8,  empty blocks are displayed correctly themself in wysiwiyg;\n\t\t\t// 2. For the rest, at least table cell and list item need no filler space. (#6248)\n\t\t\tif ( !isOutput && !CKEDITOR.env.needsBrFiller &&\n\t\t\t\t( document.documentMode > 7 ||\n\t\t\t\t\tblock.name in CKEDITOR.dtd.tr ||\n\t\t\t\t\tblock.name in CKEDITOR.dtd.$listItem ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar last = getLast( block );\n\t\t\treturn !last || block.name == 'form' && last.name == 'input' ;\n\t\t}\n\n\t\tvar rules = { elements: {} },\n\t\t\tisOutput = type == 'html',\n\t\t\ttextBlockTags = CKEDITOR.tools.extend( {}, blockLikeTags );\n\n\t\t// Build the list of text blocks.\n\t\tfor ( var i in textBlockTags ) {\n\t\t\tif ( !( '#' in dtd[ i ] ) )\n\t\t\t\tdelete textBlockTags[ i ];\n\t\t}\n\n\t\tfor ( i in textBlockTags )\n\t\t\trules.elements[ i ] = blockFilter( isOutput, editor.config.fillEmptyBlocks );\n\n\t\t// Editable element has to be checked separately.\n\t\trules.root = blockFilter( isOutput, false );\n\t\trules.elements.br = brFilter( isOutput );\n\t\treturn rules;\n\t}\n\n\tfunction getFixBodyTag( enterMode, autoParagraph ) {\n\t\treturn ( enterMode != CKEDITOR.ENTER_BR && autoParagraph !== false ) ? enterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p' : false;\n\t}\n\n\t// Regex to scan for &nbsp; at the end of blocks, which are actually placeholders.\n\t// Safari transforms the &nbsp; to \\xa0. (#4172)\n\tvar tailNbspRegex = /(?:&nbsp;|\\xa0)$/;\n\n\tvar protectedSourceMarker = '{cke_protected}';\n\n\tfunction getLast( node ) {\n\t\tvar last = node.children[ node.children.length - 1 ];\n\t\twhile ( last && isEmpty( last ) )\n\t\t\tlast = last.previous;\n\t\treturn last;\n\t}\n\n\tfunction getNext( node ) {\n\t\tvar next = node.next;\n\t\twhile ( next && isEmpty( next ) )\n\t\t\tnext = next.next;\n\t\treturn next;\n\t}\n\n\tfunction getPrevious( node ) {\n\t\tvar previous = node.previous;\n\t\twhile ( previous && isEmpty( previous ) )\n\t\t\tprevious = previous.previous;\n\t\treturn previous;\n\t}\n\n\t// Judge whether the node is an ghost node to be ignored, when traversing.\n\tfunction isEmpty( node ) {\n\t\treturn node.type == CKEDITOR.NODE_TEXT &&\n\t\t\t!CKEDITOR.tools.trim( node.value ) ||\n\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\tnode.attributes[ 'data-cke-bookmark' ];\n\t}\n\n\t// Judge whether the node is a block-like element.\n\tfunction isBlockBoundary( node ) {\n\t\treturn node &&\n\t\t\t( node.type == CKEDITOR.NODE_ELEMENT && node.name in blockLikeTags ||\n\t\t\tnode.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT );\n\t}\n\n\tfunction append( parent, node ) {\n\t\tvar last = parent.children[ parent.children.length - 1 ];\n\t\tparent.children.push( node );\n\t\tnode.parent = parent;\n\t\tif ( last ) {\n\t\t\tlast.next = node;\n\t\t\tnode.previous = last;\n\t\t}\n\t}\n\n\tfunction getNodeIndex( node ) {\n\t\treturn node.parent ? node.getIndex() : -1;\n\t}\n\n\tvar dtd = CKEDITOR.dtd,\n\t\t// Define orders of table elements.\n\t\ttableOrder = [ 'caption', 'colgroup', 'col', 'thead', 'tfoot', 'tbody' ],\n\t\t// List of all block elements.\n\t\tblockLikeTags = CKEDITOR.tools.extend( {}, dtd.$blockLimit, dtd.$block );\n\n\t//\n\t// DATA filter rules ------------------------------------------------------\n\t//\n\n\tvar defaultDataFilterRulesEditableOnly = {\n\t\telements: {\n\t\t\tinput: protectReadOnly,\n\t\t\ttextarea: protectReadOnly\n\t\t}\n\t};\n\n\t// These rules will also be applied to non-editable content.\n\tvar defaultDataFilterRulesForAll = {\n\t\tattributeNames: [\n\t\t\t// Event attributes (onXYZ) must not be directly set. They can become\n\t\t\t// active in the editing area (IE|WebKit).\n\t\t\t[ ( /^on/ ), 'data-cke-pa-on' ],\n\n\t\t\t// Don't let some old expando enter editor. Concerns only IE8,\n\t\t\t// but for consistency remove on all browsers.\n\t\t\t[ ( /^data-cke-expando$/ ), '' ]\n\t\t]\n\t};\n\n\t// Disable form elements editing mode provided by some browsers. (#5746)\n\tfunction protectReadOnly( element ) {\n\t\tvar attrs = element.attributes;\n\n\t\t// We should flag that the element was locked by our code so\n\t\t// it'll be editable by the editor functions (#6046).\n\t\tif ( attrs.contenteditable != 'false' )\n\t\t\tattrs[ 'data-cke-editable' ] = attrs.contenteditable ? 'true' : 1;\n\n\t\tattrs.contenteditable = 'false';\n\t}\n\n\t//\n\t// HTML filter rules ------------------------------------------------------\n\t//\n\n\tvar defaultHtmlFilterRulesEditableOnly = {\n\t\telements: {\n\t\t\tembed: function( element ) {\n\t\t\t\tvar parent = element.parent;\n\n\t\t\t\t// If the <embed> is child of a <object>, copy the width\n\t\t\t\t// and height attributes from it.\n\t\t\t\tif ( parent && parent.name == 'object' ) {\n\t\t\t\t\tvar parentWidth = parent.attributes.width,\n\t\t\t\t\t\tparentHeight = parent.attributes.height;\n\t\t\t\t\tif ( parentWidth )\n\t\t\t\t\t\telement.attributes.width = parentWidth;\n\t\t\t\t\tif ( parentHeight )\n\t\t\t\t\t\telement.attributes.height = parentHeight;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Remove empty link but not empty anchor. (#3829, #13516)\n\t\t\ta: function( element ) {\n\t\t\t\tvar attrs = element.attributes;\n\n\t\t\t\tif ( !( element.children.length || attrs.name || attrs.id || element.attributes[ 'data-cke-saved-name' ] ) )\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t};\n\n\t// These rules will also be applied to non-editable content.\n\tvar defaultHtmlFilterRulesForAll = {\n\t\telementNames: [\n\t\t\t// Remove the \"cke:\" namespace prefix.\n\t\t\t[ ( /^cke:/ ), '' ],\n\n\t\t\t// Ignore <?xml:namespace> tags.\n\t\t\t[ ( /^\\?xml:namespace$/ ), '' ]\n\t\t],\n\n\t\tattributeNames: [\n\t\t\t// Attributes saved for changes and protected attributes.\n\t\t\t[ ( /^data-cke-(saved|pa)-/ ), '' ],\n\n\t\t\t// All \"data-cke-\" attributes are to be ignored.\n\t\t\t[ ( /^data-cke-.*/ ), '' ],\n\n\t\t\t[ 'hidefocus', '' ]\n\t\t],\n\n\t\telements: {\n\t\t\t$: function( element ) {\n\t\t\t\tvar attribs = element.attributes;\n\n\t\t\t\tif ( attribs ) {\n\t\t\t\t\t// Elements marked as temporary are to be ignored.\n\t\t\t\t\tif ( attribs[ 'data-cke-temp' ] )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t// Remove duplicated attributes - #3789.\n\t\t\t\t\tvar attributeNames = [ 'name', 'href', 'src' ],\n\t\t\t\t\t\tsavedAttributeName;\n\t\t\t\t\tfor ( var i = 0; i < attributeNames.length; i++ ) {\n\t\t\t\t\t\tsavedAttributeName = 'data-cke-saved-' + attributeNames[ i ];\n\t\t\t\t\t\tsavedAttributeName in attribs && ( delete attribs[ attributeNames[ i ] ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn element;\n\t\t\t},\n\n\t\t\t// The contents of table should be in correct order (#4809).\n\t\t\ttable: function( element ) {\n\t\t\t\t// Clone the array as it would become empty during the sort call.\n\t\t\t\tvar children = element.children.slice( 0 );\n\n\t\t\t\tchildren.sort( function( node1, node2 ) {\n\t\t\t\t\tvar index1, index2;\n\n\t\t\t\t\t// Compare in the predefined order.\n\t\t\t\t\tif ( node1.type == CKEDITOR.NODE_ELEMENT && node2.type == node1.type ) {\n\t\t\t\t\t\tindex1 = CKEDITOR.tools.indexOf( tableOrder, node1.name );\n\t\t\t\t\t\tindex2 = CKEDITOR.tools.indexOf( tableOrder, node2.name );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Make sure the sort is stable, if no order can be established above.\n\t\t\t\t\tif ( !( index1 > -1 && index2 > -1 && index1 != index2 ) ) {\n\t\t\t\t\t\tindex1 = getNodeIndex( node1 );\n\t\t\t\t\t\tindex2 = getNodeIndex( node2 );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn index1 > index2 ? 1 : -1;\n\t\t\t\t} );\n\t\t\t},\n\n\t\t\t// Restore param elements into self-closing.\n\t\t\tparam: function( param ) {\n\t\t\t\tparam.children = [];\n\t\t\t\tparam.isEmpty = true;\n\t\t\t\treturn param;\n\t\t\t},\n\n\t\t\t// Remove dummy span in webkit.\n\t\t\tspan: function( element ) {\n\t\t\t\tif ( element.attributes[ 'class' ] == 'Apple-style-span' )\n\t\t\t\t\tdelete element.name;\n\t\t\t},\n\n\t\t\thtml: function( element ) {\n\t\t\t\tdelete element.attributes.contenteditable;\n\t\t\t\tdelete element.attributes[ 'class' ];\n\t\t\t},\n\n\t\t\tbody: function( element ) {\n\t\t\t\tdelete element.attributes.spellcheck;\n\t\t\t\tdelete element.attributes.contenteditable;\n\t\t\t},\n\n\t\t\tstyle: function( element ) {\n\t\t\t\tvar child = element.children[ 0 ];\n\t\t\t\tif ( child && child.value )\n\t\t\t\t\tchild.value = CKEDITOR.tools.trim( child.value );\n\n\t\t\t\tif ( !element.attributes.type )\n\t\t\t\t\telement.attributes.type = 'text/css';\n\t\t\t},\n\n\t\t\ttitle: function( element ) {\n\t\t\t\tvar titleText = element.children[ 0 ];\n\n\t\t\t\t// Append text-node to title tag if not present (i.e. non-IEs) (#9882).\n\t\t\t\t!titleText && append( element, titleText = new CKEDITOR.htmlParser.text() );\n\n\t\t\t\t// Transfer data-saved title to title tag.\n\t\t\t\ttitleText.value = element.attributes[ 'data-cke-title' ] || '';\n\t\t\t},\n\n\t\t\tinput: unprotectReadyOnly,\n\t\t\ttextarea: unprotectReadyOnly\n\t\t},\n\n\t\tattributes: {\n\t\t\t'class': function( value ) {\n\t\t\t\t// Remove all class names starting with \"cke_\".\n\t\t\t\treturn CKEDITOR.tools.ltrim( value.replace( /(?:^|\\s+)cke_[^\\s]*/g, '' ) ) || false;\n\t\t\t}\n\t\t}\n\t};\n\n\tif ( CKEDITOR.env.ie ) {\n\t\t// IE outputs style attribute in capital letters. We should convert\n\t\t// them back to lower case, while not hurting the values (#5930)\n\t\tdefaultHtmlFilterRulesForAll.attributes.style = function( value ) {\n\t\t\treturn value.replace( /(^|;)([^\\:]+)/g, function( match ) {\n\t\t\t\treturn match.toLowerCase();\n\t\t\t} );\n\t\t};\n\t}\n\n\t// Disable form elements editing mode provided by some browsers. (#5746)\n\tfunction unprotectReadyOnly( element ) {\n\t\tvar attrs = element.attributes;\n\t\tswitch ( attrs[ 'data-cke-editable' ] ) {\n\t\t\tcase 'true':\n\t\t\t\tattrs.contenteditable = 'true';\n\t\t\t\tbreak;\n\t\t\tcase '1':\n\t\t\t\tdelete attrs.contenteditable;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t//\n\t// Preprocessor filters ---------------------------------------------------\n\t//\n\n\tvar protectElementRegex = /<(a|area|img|input|source)\\b([^>]*)>/gi,\n\t\t// Be greedy while looking for protected attributes. This will let us avoid an unfortunate\n\t\t// situation when \"nested attributes\", which may appear valid, are also protected.\n\t\t// I.e. if we consider the following HTML:\n\t\t//\n\t\t// \t<img data-x=\"&lt;a href=&quot;X&quot;\" />\n\t\t//\n\t\t// then the \"non-greedy match\" returns:\n\t\t//\n\t\t// \t'href' => '&quot;X&quot;' // It's wrong! Href is not an attribute of <img>.\n\t\t//\n\t\t// while greedy match returns:\n\t\t//\n\t\t// \t'data-x' => '&lt;a href=&quot;X&quot;'\n\t\t//\n\t\t// which, can be easily filtered out (#11508).\n\t\tprotectAttributeRegex = /([\\w-:]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,\n\t\tprotectAttributeNameRegex = /^(href|src|name)$/i;\n\n\t\t// Note: we use lazy star '*?' to prevent eating everything up to the last occurrence of </style> or </textarea>.\n\tvar protectElementsRegex = /(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,\n\t\tprotectTextareaRegex = /(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,\n\t\tencodedElementsRegex = /<cke:encoded>([^<]*)<\\/cke:encoded>/gi;\n\n\tvar protectElementNamesRegex = /(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,\n\t\tunprotectElementNamesRegex = /(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi;\n\n\tvar protectSelfClosingRegex = /<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi;\n\n\tfunction protectAttributes( html ) {\n\t\treturn html.replace( protectElementRegex, function( element, tag, attributes ) {\n\t\t\treturn '<' + tag + attributes.replace( protectAttributeRegex, function( fullAttr, attrName ) {\n\t\t\t\t// Avoid corrupting the inline event attributes (#7243).\n\t\t\t\t// We should not rewrite the existed protected attributes, e.g. clipboard content from editor. (#5218)\n\t\t\t\tif ( protectAttributeNameRegex.test( attrName ) && attributes.indexOf( 'data-cke-saved-' + attrName ) == -1 )\n\t\t\t\t\treturn ' data-cke-saved-' + fullAttr + ' data-cke-' + CKEDITOR.rnd + '-' + fullAttr;\n\n\t\t\t\treturn fullAttr;\n\t\t\t} ) + '>';\n\t\t} );\n\t}\n\n\tfunction protectElements( html, regex ) {\n\t\treturn html.replace( regex, function( match, tag, content ) {\n\t\t\t// Encode < and > in textarea because this won't be done by a browser, since\n\t\t\t// textarea will be protected during passing data through fix bin.\n\t\t\tif ( match.indexOf( '<textarea' ) === 0 )\n\t\t\t\tmatch = tag + unprotectRealComments( content ).replace( /</g, '&lt;' ).replace( />/g, '&gt;' ) + '</textarea>';\n\n\t\t\treturn '<cke:encoded>' + encodeURIComponent( match ) + '</cke:encoded>';\n\t\t} );\n\t}\n\n\tfunction unprotectElements( html ) {\n\t\treturn html.replace( encodedElementsRegex, function( match, encoded ) {\n\t\t\treturn decodeURIComponent( encoded );\n\t\t} );\n\t}\n\n\tfunction protectElementsNames( html ) {\n\t\treturn html.replace( protectElementNamesRegex, '$1cke:$2' );\n\t}\n\n\tfunction unprotectElementNames( html ) {\n\t\treturn html.replace( unprotectElementNamesRegex, '$1$2' );\n\t}\n\n\tfunction protectSelfClosingElements( html ) {\n\t\treturn html.replace( protectSelfClosingRegex, '<cke:$1$2></cke:$1>' );\n\t}\n\n\tfunction protectPreFormatted( html ) {\n\t\treturn html.replace( /(<pre\\b[^>]*>)(\\r\\n|\\n)/g, '$1$2$2' );\n\t}\n\n\tfunction protectRealComments( html ) {\n\t\treturn html.replace( /<!--(?!{cke_protected})[\\s\\S]+?-->/g, function( match ) {\n\t\t\treturn '<!--' + protectedSourceMarker +\n\t\t\t\t'{C}' +\n\t\t\t\tencodeURIComponent( match ).replace( /--/g, '%2D%2D' ) +\n\t\t\t\t'-->';\n\t\t} );\n\t}\n\n\t// Replace all \"on\\w{3,}\" strings which are not:\n\t// * opening tags - e.g. `<onfoo`,\n\t// * closing tags - e.g. </onfoo> (tested in \"false positive 1\"),\n\t// * part of other attribute - e.g. `data-onfoo` or `fonfoo`.\n\tfunction protectInsecureAttributes( html ) {\n\t\treturn html.replace( /([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi, '$1data-cke-' + CKEDITOR.rnd + '-$2' );\n\t}\n\n\tfunction unprotectRealComments( html ) {\n\t\treturn html.replace( /<!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)-->/g, function( match, data ) {\n\t\t\treturn decodeURIComponent( data );\n\t\t} );\n\t}\n\n\tfunction unprotectSource( html, editor ) {\n\t\tvar store = editor._.dataStore;\n\n\t\treturn html.replace( /<!--\\{cke_protected\\}([\\s\\S]+?)-->/g, function( match, data ) {\n\t\t\treturn decodeURIComponent( data );\n\t\t} ).replace( /\\{cke_protected_(\\d+)\\}/g, function( match, id ) {\n\t\t\treturn store && store[ id ] || '';\n\t\t} );\n\t}\n\n\tfunction protectSource( data, editor ) {\n\t\tvar protectedHtml = [],\n\t\t\tprotectRegexes = editor.config.protectedSource,\n\t\t\tstore = editor._.dataStore || ( editor._.dataStore = { id: 1 } ),\n\t\t\ttempRegex = /<\\!--\\{cke_temp(comment)?\\}(\\d*?)-->/g;\n\n\t\tvar regexes = [\n\t\t\t// Script tags will also be forced to be protected, otherwise\n\t\t\t// IE will execute them.\n\t\t\t( /<script[\\s\\S]*?(<\\/script>|$)/gi ),\n\n\t\t\t// <noscript> tags (get lost in IE and messed up in FF).\n\t\t\t/<noscript[\\s\\S]*?<\\/noscript>/gi,\n\n\t\t\t// Avoid meta tags being stripped (#8117).\n\t\t\t/<meta[\\s\\S]*?\\/?>/gi\n\t\t].concat( protectRegexes );\n\n\t\t// First of any other protection, we must protect all comments\n\t\t// to avoid loosing them (of course, IE related).\n\t\t// Note that we use a different tag for comments, as we need to\n\t\t// transform them when applying filters.\n\t\tdata = data.replace( ( /<!--[\\s\\S]*?-->/g ), function( match ) {\n\t\t\treturn '<!--{cke_tempcomment}' + ( protectedHtml.push( match ) - 1 ) + '-->';\n\t\t} );\n\n\t\tfor ( var i = 0; i < regexes.length; i++ ) {\n\t\t\tdata = data.replace( regexes[ i ], function( match ) {\n\t\t\t\tmatch = match.replace( tempRegex, // There could be protected source inside another one. (#3869).\n\t\t\t\tfunction( $, isComment, id ) {\n\t\t\t\t\treturn protectedHtml[ id ];\n\t\t\t\t} );\n\n\t\t\t\t// Avoid protecting over protected, e.g. /\\{.*?\\}/\n\t\t\t\treturn ( /cke_temp(comment)?/ ).test( match ) ? match : '<!--{cke_temp}' + ( protectedHtml.push( match ) - 1 ) + '-->';\n\t\t\t} );\n\t\t}\n\t\tdata = data.replace( tempRegex, function( $, isComment, id ) {\n\t\t\treturn '<!--' + protectedSourceMarker +\n\t\t\t\t( isComment ? '{C}' : '' ) +\n\t\t\t\tencodeURIComponent( protectedHtml[ id ] ).replace( /--/g, '%2D%2D' ) +\n\t\t\t\t'-->';\n\t\t} );\n\n\t\t// Different protection pattern is used for those that\n\t\t// live in attributes to avoid from being HTML encoded.\n\t\t// Why so serious? See #9205, #8216, #7805, #11754, #11846.\n\t\tdata = data.replace( /<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=\\/>]+))+\\s*\\/?>/g, function( match ) {\n\t\t\treturn match.replace( /<!--\\{cke_protected\\}([^>]*)-->/g, function( match, data ) {\n\t\t\t\tstore[ store.id ] = decodeURIComponent( data );\n\t\t\t\treturn '{cke_protected_' + ( store.id++ ) + '}';\n\t\t\t} );\n\t\t} );\n\n\t\t// This RegExp searches for innerText in all the title/iframe/textarea elements.\n\t\t// This is because browser doesn't allow HTML in these elements, that's why we can't\n\t\t// nest comments in there. (#11223)\n\t\tdata = data.replace( /<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g, function( match, tagName, tagAttributes, innerText ) {\n\t\t\treturn '<' + tagName + tagAttributes + '>' + unprotectSource( unprotectRealComments( innerText ), editor ) + '</' + tagName + '>';\n\t\t} );\n\n\t\treturn data;\n\t}\n\n\t// Creates a block if the root element is empty.\n\tfunction fixEmptyRoot( root, fixBodyTag ) {\n\t\tif ( !root.children.length && CKEDITOR.dtd[ root.name ][ fixBodyTag ] ) {\n\t\t\tvar fixBodyElement = new CKEDITOR.htmlParser.element( fixBodyTag );\n\t\t\troot.add( fixBodyElement );\n\t\t}\n\t}\n} )();\n\n/**\n * Whether a filler text (non-breaking space entity &mdash; `&nbsp;`) will be\n * inserted into empty block elements in HTML output.\n * This is used to render block elements properly with `line-height`.\n * When a function is specified instead, it will be passed a {@link CKEDITOR.htmlParser.element}\n * to decide whether adding the filler text by expecting a Boolean return value.\n *\n *\t\tconfig.fillEmptyBlocks = false; // Prevent filler nodes in all empty blocks.\n *\n *\t\t// Prevent filler node only in float cleaners.\n *\t\tconfig.fillEmptyBlocks = function( element ) {\n *\t\t\tif ( element.attributes[ 'class' ].indexOf( 'clear-both' ) != -1 )\n *\t\t\t\treturn false;\n *\t\t};\n *\n * @since 3.5\n * @cfg {Boolean/Function} [fillEmptyBlocks=true]\n * @member CKEDITOR.config\n */\n\n/**\n * This event is fired by the {@link CKEDITOR.htmlDataProcessor} when input HTML\n * is to be purified by the {@link CKEDITOR.htmlDataProcessor#toHtml} method.\n *\n * By adding listeners with different priorities it is possible\n * to process input HTML on different stages:\n *\n *\t* 1-4: Data is available in the original string format.\n *\t* 5: Data is initially filtered with regexp patterns and parsed to\n *\t\t{@link CKEDITOR.htmlParser.fragment} {@link CKEDITOR.htmlParser.element}.\n *\t* 5-9: Data is available in the parsed format, but {@link CKEDITOR.htmlDataProcessor#dataFilter}\n *\t\tis not applied yet.\n *\t* 6: Data is filtered with the {CKEDITOR.filter content filter}.\n *\t* 10: Data is processed with {@link CKEDITOR.htmlDataProcessor#dataFilter}.\n *\t* 10-14: Data is available in the parsed format and {@link CKEDITOR.htmlDataProcessor#dataFilter}\n *\t\thas already been applied.\n *\t* 15: Data is written back to an HTML string.\n *\t* 15-*: Data is available in an HTML string.\n *\n * For example to be able to process parsed, but not yet filtered data add listener this way:\n *\n *\t\teditor.on( 'toHtml', function( evt) {\n *\t\t\tevt.data.dataValue; // -> CKEDITOR.htmlParser.fragment instance\n *\t\t}, null, null, 7 );\n *\n * @since 4.1\n * @event toHtml\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String/CKEDITOR.htmlParser.fragment/CKEDITOR.htmlParser.element} data.dataValue Input data to be purified.\n * @param {String} data.context See {@link CKEDITOR.htmlDataProcessor#toHtml} The `context` argument.\n * @param {Boolean} data.fixForBody See {@link CKEDITOR.htmlDataProcessor#toHtml} The `fixForBody` argument.\n * @param {Boolean} data.dontFilter See {@link CKEDITOR.htmlDataProcessor#toHtml} The `dontFilter` argument.\n * @param {Boolean} data.filter See {@link CKEDITOR.htmlDataProcessor#toHtml} The `filter` argument.\n * @param {Boolean} data.enterMode See {@link CKEDITOR.htmlDataProcessor#toHtml} The `enterMode` argument.\n * @param {Boolean} [data.protectedWhitespaces] See {@link CKEDITOR.htmlDataProcessor#toHtml} The `protectedWhitespaces` argument.\n */\n\n/**\n * This event is fired when {@link CKEDITOR.htmlDataProcessor} is converting\n * internal HTML to output data HTML.\n *\n * By adding listeners with different priorities it is possible\n * to process input HTML on different stages:\n *\n *\t* 1-4: Data is available in the original string format.\n *\t* 5: Data is initially filtered with regexp patterns and parsed to\n *\t\t{@link CKEDITOR.htmlParser.fragment} {@link CKEDITOR.htmlParser.element}.\n *\t* 5-9: Data is available in the parsed format, but {@link CKEDITOR.htmlDataProcessor#htmlFilter}\n *\t\tis not applied yet.\n *\t* 10: Data is filtered with {@link CKEDITOR.htmlDataProcessor#htmlFilter}.\n *  * 11: Data is filtered with the {CKEDITOR.filter content filter} (on output the content filter makes\n *\t\tonly transformations, without filtering).\n *\t* 10-14: Data is available in the parsed format and {@link CKEDITOR.htmlDataProcessor#htmlFilter}\n *\t\thas already been applied.\n *\t* 15: Data is written back to an HTML string.\n *\t* 15-*: Data is available in an HTML string.\n *\n * For example to be able to process parsed and already processed data add listener this way:\n *\n *\t\teditor.on( 'toDataFormat', function( evt) {\n *\t\t\tevt.data.dataValue; // -> CKEDITOR.htmlParser.fragment instance\n *\t\t}, null, null, 12 );\n *\n * @since 4.1\n * @event toDataFormat\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String/CKEDITOR.htmlParser.fragment/CKEDITOR.htmlParser.element} data.dataValue Output data to be prepared.\n * @param {String} data.context See {@link CKEDITOR.htmlDataProcessor#toDataFormat} The `context` argument.\n * @param {Boolean} data.filter See {@link CKEDITOR.htmlDataProcessor#toDataFormat} The `filter` argument.\n * @param {Boolean} data.enterMode See {@link CKEDITOR.htmlDataProcessor#toDataFormat} The `enterMode` argument.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmldataprocessor.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n/**\n * A lightweight representation of an HTML element.\n *\n * @class\n * @extends CKEDITOR.htmlParser.node\n * @constructor Creates an element class instance.\n * @param {String} name The element name.\n * @param {Object} attributes An object storing all attributes defined for\n * this element.\n */\nCKEDITOR.htmlParser.element = function( name, attributes ) {\n\t/**\n\t * The element name.\n\t *\n\t * @property {String}\n\t */\n\tthis.name = name;\n\n\t/**\n\t * Stores the attributes defined for this element.\n\t *\n\t * @property {Object}\n\t */\n\tthis.attributes = attributes || {};\n\n\t/**\n\t * The nodes that are direct children of this element.\n\t */\n\tthis.children = [];\n\n\t// Reveal the real semantic of our internal custom tag name (#6639),\n\t// when resolving whether it's block like.\n\tvar realName = name || '',\n\t\tprefixed = realName.match( /^cke:(.*)/ );\n\tprefixed && ( realName = prefixed[ 1 ] );\n\n\tvar isBlockLike = !!( CKEDITOR.dtd.$nonBodyContent[ realName ] || CKEDITOR.dtd.$block[ realName ] ||\n\t\tCKEDITOR.dtd.$listItem[ realName ] || CKEDITOR.dtd.$tableContent[ realName ] ||\n\t\tCKEDITOR.dtd.$nonEditable[ realName ] || realName == 'br' );\n\n\tthis.isEmpty = !!CKEDITOR.dtd.$empty[ name ];\n\tthis.isUnknown = !CKEDITOR.dtd[ name ];\n\n\t/** @private */\n\tthis._ = {\n\t\tisBlockLike: isBlockLike,\n\t\thasInlineStarted: this.isEmpty || !isBlockLike\n\t};\n};\n\n/**\n * Object presentation of CSS style declaration text.\n *\n * @class\n * @constructor Creates a `cssStyle` class instance.\n * @param {CKEDITOR.htmlParser.element/String} elementOrStyleText\n * An HTML parser element or the inline style text.\n */\nCKEDITOR.htmlParser.cssStyle = function() {\n\tvar styleText,\n\t\targ = arguments[ 0 ],\n\t\trules = {};\n\n\tstyleText = arg instanceof CKEDITOR.htmlParser.element ? arg.attributes.style : arg;\n\n\t// html-encoded quote might be introduced by 'font-family'\n\t// from MS-Word which confused the following regexp. e.g.\n\t//'font-family: &quot;Lucida, Console&quot;'\n\t// TODO reuse CSS methods from tools.\n\t( styleText || '' ).replace( /&quot;/g, '\"' ).replace( /\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g, function( match, name, value ) {\n\t\tname == 'font-family' && ( value = value.replace( /[\"']/g, '' ) );\n\t\trules[ name.toLowerCase() ] = value;\n\t} );\n\n\treturn {\n\n\t\trules: rules,\n\n\t\t/**\n\t\t * Applies the styles to the specified element or object.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.element/CKEDITOR.dom.element/Object} obj\n\t\t */\n\t\tpopulate: function( obj ) {\n\t\t\tvar style = this.toString();\n\t\t\tif ( style )\n\t\t\t\tobj instanceof CKEDITOR.dom.element ? obj.setAttribute( 'style', style ) : obj instanceof CKEDITOR.htmlParser.element ? obj.attributes.style = style : obj.style = style;\n\n\t\t},\n\n\t\t/**\n\t\t * Serializes CSS style declaration to a string.\n\t\t *\n\t\t * @returns {String}\n\t\t */\n\t\ttoString: function() {\n\t\t\tvar output = [];\n\t\t\tfor ( var i in rules )\n\t\t\t\trules[ i ] && output.push( i, ':', rules[ i ], ';' );\n\t\t\treturn output.join( '' );\n\t\t}\n\t};\n};\n\n/** @class CKEDITOR.htmlParser.element */\n( function() {\n\t// Used to sort attribute entries in an array, where the first element of\n\t// each object is the attribute name.\n\tvar sortAttribs = function( a, b ) {\n\t\t\ta = a[ 0 ];\n\t\t\tb = b[ 0 ];\n\t\t\treturn a < b ? -1 : a > b ? 1 : 0;\n\t\t},\n\t\tfragProto = CKEDITOR.htmlParser.fragment.prototype;\n\n\tCKEDITOR.htmlParser.element.prototype = CKEDITOR.tools.extend( new CKEDITOR.htmlParser.node(), {\n\t\t/**\n\t\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_ELEMENT}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [=CKEDITOR.NODE_ELEMENT]\n\t\t */\n\t\ttype: CKEDITOR.NODE_ELEMENT,\n\n\t\t/**\n\t\t * Adds a node to the element children list.\n\t\t *\n\t\t * @method\n\t\t * @param {CKEDITOR.htmlParser.node} node The node to be added.\n\t\t * @param {Number} [index] From where the insertion happens.\n\t\t */\n\t\tadd: fragProto.add,\n\n\t\t/**\n\t\t * Clones this element.\n\t\t *\n\t\t * @returns {CKEDITOR.htmlParser.element} The element clone.\n\t\t */\n\t\tclone: function() {\n\t\t\treturn new CKEDITOR.htmlParser.element( this.name, this.attributes );\n\t\t},\n\n\t\t/**\n\t\t * Filters this element and its children with the given filter.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.htmlParser.filter} filter\n\t\t * @returns {Boolean} The method returns `false` when this element has\n\t\t * been removed or replaced with another. This information means that\n\t\t * {@link #filterChildren} has to repeat the filter on the current\n\t\t * position in parent's children array.\n\t\t */\n\t\tfilter: function( filter, context ) {\n\t\t\tvar element = this,\n\t\t\t\toriginalName, name;\n\n\t\t\tcontext = element.getFilterContext( context );\n\n\t\t\t// Do not process elements with data-cke-processor attribute set to off.\n\t\t\tif ( context.off )\n\t\t\t\treturn true;\n\n\t\t\t// Filtering if it's the root node.\n\t\t\tif ( !element.parent )\n\t\t\t\tfilter.onRoot( context, element );\n\n\t\t\twhile ( true ) {\n\t\t\t\toriginalName = element.name;\n\n\t\t\t\tif ( !( name = filter.onElementName( context, originalName ) ) ) {\n\t\t\t\t\tthis.remove();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\telement.name = name;\n\n\t\t\t\tif ( !( element = filter.onElement( context, element ) ) ) {\n\t\t\t\t\tthis.remove();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// New element has been returned - replace current one\n\t\t\t\t// and process it (stop processing this and return false, what\n\t\t\t\t// means that element has been removed).\n\t\t\t\tif ( element !== this ) {\n\t\t\t\t\tthis.replaceWith( element );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// If name has been changed - continue loop, so in next iteration\n\t\t\t\t// filters for new name will be applied to this element.\n\t\t\t\t// If name hasn't been changed - stop.\n\t\t\t\tif ( element.name == originalName )\n\t\t\t\t\tbreak;\n\n\t\t\t\t// If element has been replaced with something of a\n\t\t\t\t// different type, then make the replacement filter itself.\n\t\t\t\tif ( element.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tthis.replaceWith( element );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// This indicate that the element has been dropped by\n\t\t\t\t// filter but not the children.\n\t\t\t\tif ( !element.name ) {\n\t\t\t\t\tthis.replaceWithChildren();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar attributes = element.attributes,\n\t\t\t\ta, value, newAttrName;\n\n\t\t\tfor ( a in attributes ) {\n\t\t\t\tnewAttrName = a;\n\t\t\t\tvalue = attributes[ a ];\n\n\t\t\t\t// Loop until name isn't modified.\n\t\t\t\t// A little bit senseless, but IE would do that anyway\n\t\t\t\t// because it iterates with for-in loop even over properties\n\t\t\t\t// created during its run.\n\t\t\t\twhile ( true ) {\n\t\t\t\t\tif ( !( newAttrName = filter.onAttributeName( context, a ) ) ) {\n\t\t\t\t\t\tdelete attributes[ a ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if ( newAttrName != a ) {\n\t\t\t\t\t\tdelete attributes[ a ];\n\t\t\t\t\t\ta = newAttrName;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( newAttrName ) {\n\t\t\t\t\tif ( ( value = filter.onAttribute( context, element, newAttrName, value ) ) === false )\n\t\t\t\t\t\tdelete attributes[ newAttrName ];\n\t\t\t\t\telse\n\t\t\t\t\t\tattributes[ newAttrName ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !element.isEmpty )\n\t\t\t\tthis.filterChildren( filter, false, context );\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Filters this element's children with the given filter.\n\t\t *\n\t\t * Element's children may only be filtered once by one\n\t\t * instance of the filter.\n\t\t *\n\t\t * @method filterChildren\n\t\t * @param {CKEDITOR.htmlParser.filter} filter\n\t\t */\n\t\tfilterChildren: fragProto.filterChildren,\n\n\t\t/**\n\t\t * Writes the element HTML to the CKEDITOR.htmlWriter.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which HTML will be written.\n\t\t * @param {CKEDITOR.htmlParser.filter} [filter] The filter to be applied to this node.\n\t\t * **Note:** It is unsafe to filter an offline (not appended) node.\n\t\t */\n\t\twriteHtml: function( writer, filter ) {\n\t\t\tif ( filter )\n\t\t\t\tthis.filter( filter );\n\n\t\t\tvar name = this.name,\n\t\t\t\tattribsArray = [],\n\t\t\t\tattributes = this.attributes,\n\t\t\t\tattrName,\n\t\t\t\tattr, i, l;\n\n\t\t\t// Open element tag.\n\t\t\twriter.openTag( name, attributes );\n\n\t\t\t// Copy all attributes to an array.\n\t\t\tfor ( attrName in attributes )\n\t\t\t\tattribsArray.push( [ attrName, attributes[ attrName ] ] );\n\n\t\t\t// Sort the attributes by name.\n\t\t\tif ( writer.sortAttributes )\n\t\t\t\tattribsArray.sort( sortAttribs );\n\n\t\t\t// Send the attributes.\n\t\t\tfor ( i = 0, l = attribsArray.length; i < l; i++ ) {\n\t\t\t\tattr = attribsArray[ i ];\n\t\t\t\twriter.attribute( attr[ 0 ], attr[ 1 ] );\n\t\t\t}\n\n\t\t\t// Close the tag.\n\t\t\twriter.openTagClose( name, this.isEmpty );\n\n\t\t\tthis.writeChildrenHtml( writer );\n\n\t\t\t// Close the element.\n\t\t\tif ( !this.isEmpty )\n\t\t\t\twriter.closeTag( name );\n\t\t},\n\n\t\t/**\n\t\t * Sends children of this element to the writer.\n\t\t *\n\t\t * @param {CKEDITOR.htmlParser.basicWriter} writer The writer to which HTML will be written.\n\t\t * @param {CKEDITOR.htmlParser.filter} [filter]\n\t\t */\n\t\twriteChildrenHtml: fragProto.writeChildrenHtml,\n\n\t\t/**\n\t\t * Replaces this element with its children.\n\t\t *\n\t\t * @since 4.1\n\t\t */\n\t\treplaceWithChildren: function() {\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = children.length; i; )\n\t\t\t\tchildren[ --i ].insertAfter( this );\n\n\t\t\tthis.remove();\n\t\t},\n\n\t\t/**\n\t\t * Executes a callback on each node (of the given type) in this element.\n\t\t *\n\t\t *\t\t// Create a <p> element with foo<b>bar</b>bom as its content.\n\t\t *\t\tvar elP = CKEDITOR.htmlParser.fragment.fromHtml( 'foo<b>bar</b>bom', 'p' );\n\t\t *\t\telP.forEach( function( node ) {\n\t\t *\t\t\tconsole.log( node );\n\t\t *\t\t} );\n\t\t *\t\t// Will log:\n\t\t *\t\t// 1. document fragment,\n\t\t *\t\t// 2. <p> element,\n\t\t *\t\t// 3. \"foo\" text node,\n\t\t *\t\t// 4. <b> element,\n\t\t *\t\t// 5. \"bar\" text node,\n\t\t *\t\t// 6. \"bom\" text node.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {Function} callback Function to be executed on every node.\n\t\t * **Since 4.3**: If `callback` returned `false`, the descendants of the current node will be ignored.\n\t\t * @param {CKEDITOR.htmlParser.node} callback.node Node passed as an argument.\n\t\t * @param {Number} [type] Whether the specified `callback` will be executed only on nodes of this type.\n\t\t * @param {Boolean} [skipRoot] Do not execute `callback` on this element.\n\t\t */\n\t\tforEach: fragProto.forEach,\n\n\t\t/**\n\t\t * Gets this element's first child. If `condition` is given, this method returns\n\t\t * the first child which satisfies that condition.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String/Object/Function} condition Name of a child, a hash of names, or a validator function.\n\t\t * @returns {CKEDITOR.htmlParser.node}\n\t\t */\n\t\tgetFirst: function( condition ) {\n\t\t\tif ( !condition )\n\t\t\t\treturn this.children.length ? this.children[ 0 ] : null;\n\n\t\t\tif ( typeof condition != 'function' )\n\t\t\t\tcondition = nameCondition( condition );\n\n\t\t\tfor ( var i = 0, l = this.children.length; i < l; ++i ) {\n\t\t\t\tif ( condition( this.children[ i ] ) )\n\t\t\t\t\treturn this.children[ i ];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Gets this element's inner HTML.\n\t\t *\n\t\t * @since 4.3\n\t\t * @returns {String}\n\t\t */\n\t\tgetHtml: function() {\n\t\t\tvar writer = new CKEDITOR.htmlParser.basicWriter();\n\t\t\tthis.writeChildrenHtml( writer );\n\t\t\treturn writer.getHtml();\n\t\t},\n\n\t\t/**\n\t\t * Sets this element's inner HTML.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String} html\n\t\t */\n\t\tsetHtml: function( html ) {\n\t\t\tvar children = this.children = CKEDITOR.htmlParser.fragment.fromHtml( html ).children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; ++i )\n\t\t\t\tchildren[ i ].parent = this;\n\t\t},\n\n\t\t/**\n\t\t * Gets this element's outer HTML.\n\t\t *\n\t\t * @since 4.3\n\t\t * @returns {String}\n\t\t */\n\t\tgetOuterHtml: function() {\n\t\t\tvar writer = new CKEDITOR.htmlParser.basicWriter();\n\t\t\tthis.writeHtml( writer );\n\t\t\treturn writer.getHtml();\n\t\t},\n\n\t\t/**\n\t\t * Splits this element at the given index.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {Number} index Index at which the element will be split &mdash; `0` means the beginning,\n\t\t * `1` after first child node, etc.\n\t\t * @returns {CKEDITOR.htmlParser.element} The new element following this one.\n\t\t */\n\t\tsplit: function( index ) {\n\t\t\tvar cloneChildren = this.children.splice( index, this.children.length - index ),\n\t\t\t\tclone = this.clone();\n\n\t\t\tfor ( var i = 0; i < cloneChildren.length; ++i )\n\t\t\t\tcloneChildren[ i ].parent = clone;\n\n\t\t\tclone.children = cloneChildren;\n\n\t\t\tif ( cloneChildren[ 0 ] )\n\t\t\t\tcloneChildren[ 0 ].previous = null;\n\n\t\t\tif ( index > 0 )\n\t\t\t\tthis.children[ index - 1 ].next = null;\n\n\t\t\tthis.parent.add( clone, this.getIndex() + 1 );\n\n\t\t\treturn clone;\n\t\t},\n\n\t\t/**\n\t\t * Adds a class name to the list of classes.\n\t\t *\n\t\t * @since 4.4\n\t\t * @param {String} className The class name to be added.\n\t\t */\n\t\taddClass: function( className ) {\n\t\t\tif ( this.hasClass( className ) )\n\t\t\t\treturn;\n\n\t\t\tvar c = this.attributes[ 'class' ] || '';\n\n\t\t\tthis.attributes[ 'class' ] = c + ( c ? ' ' : '' ) + className;\n\t\t},\n\n\t\t/**\n\t\t * Removes a class name from the list of classes.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String} className The class name to be removed.\n\t\t */\n\t\tremoveClass: function( className ) {\n\t\t\tvar classes = this.attributes[ 'class' ];\n\n\t\t\tif ( !classes )\n\t\t\t\treturn;\n\n\t\t\t// We can safely assume that className won't break regexp.\n\t\t\t// http://stackoverflow.com/questions/448981/what-characters-are-valid-in-css-class-names\n\t\t\tclasses = CKEDITOR.tools.trim( classes.replace( new RegExp( '(?:\\\\s+|^)' + className + '(?:\\\\s+|$)' ), ' ' ) );\n\n\t\t\tif ( classes )\n\t\t\t\tthis.attributes[ 'class' ] = classes;\n\t\t\telse\n\t\t\t\tdelete this.attributes[ 'class' ];\n\t\t},\n\n\t\t/**\n\t\t * Checkes whether this element has a class name.\n\t\t *\n\t\t * @since 4.3\n\t\t * @param {String} className The class name to be checked.\n\t\t * @returns {Boolean} Whether this element has a `className`.\n\t\t */\n\t\thasClass: function( className ) {\n\t\t\tvar classes = this.attributes[ 'class' ];\n\n\t\t\tif ( !classes )\n\t\t\t\treturn false;\n\n\t\t\treturn ( new RegExp( '(?:^|\\\\s)' + className + '(?=\\\\s|$)' ) ).test( classes );\n\t\t},\n\n\t\tgetFilterContext: function( ctx ) {\n\t\t\tvar changes = [];\n\n\t\t\tif ( !ctx ) {\n\t\t\t\tctx = {\n\t\t\t\t\toff: false,\n\t\t\t\t\tnonEditable: false,\n\t\t\t\t\tnestedEditable: false\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif ( !ctx.off && this.attributes[ 'data-cke-processor' ] == 'off' )\n\t\t\t\tchanges.push( 'off', true );\n\n\t\t\tif ( !ctx.nonEditable && this.attributes.contenteditable == 'false' )\n\t\t\t\tchanges.push( 'nonEditable', true );\n\t\t\t// A context to be given nestedEditable must be nonEditable first (by inheritance) (#11372, #11698).\n\t\t\t// Special case: #11504 - filter starts on <body contenteditable=true>,\n\t\t\t// so ctx.nonEditable has not been yet set to true.\n\t\t\telse if ( ctx.nonEditable && !ctx.nestedEditable && this.attributes.contenteditable == 'true' )\n\t\t\t\tchanges.push( 'nestedEditable', true );\n\n\t\t\tif ( changes.length ) {\n\t\t\t\tctx = CKEDITOR.tools.copy( ctx );\n\t\t\t\tfor ( var i = 0; i < changes.length; i += 2 )\n\t\t\t\t\tctx[ changes[ i ] ] = changes[ i + 1 ];\n\t\t\t}\n\n\t\t\treturn ctx;\n\t\t}\n\t}, true );\n\n\tfunction nameCondition( condition ) {\n\t\treturn function( el ) {\n\t\t\treturn el.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t( typeof condition == 'string' ? el.name == condition : el.name in condition );\n\t\t};\n\t}\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/htmlparser/element.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.template} class, which represents\n * an UI template for an editor instance.\n */\n\n( function() {\n\tvar cache = {},\n\t\trePlaceholder = /{([^}]+)}/g,\n\t\treEscapableChars = /([\\\\'])/g,\n\t\treNewLine = /\\n/g,\n\t\treCarriageReturn = /\\r/g;\n\n\t/**\n\t * Lightweight template used to build the output string from variables.\n\t *\n\t *\t\t// HTML template for presenting a label UI.\n\t *\t\tvar tpl = new CKEDITOR.template( '<div class=\"{cls}\">{label}</div>' );\n\t *\t\talert( tpl.output( { cls: 'cke-label', label: 'foo'} ) ); // '<div class=\"cke-label\">foo</div>'\n\t *\n\t * @class\n\t * @constructor Creates a template class instance.\n\t * @param {String} source The template source.\n\t */\n\tCKEDITOR.template = function( source ) {\n\t\t// Builds an optimized function body for the output() method, focused on performance.\n\t\t// For example, if we have this \"source\":\n\t\t//\t'<div style=\"{style}\">{editorName}</div>'\n\t\t// ... the resulting function body will be (apart from the \"buffer\" handling):\n\t\t//\treturn [ '<div style=\"', data['style'] == undefined ? '{style}' : data['style'], '\">', data['editorName'] == undefined ? '{editorName}' : data['editorName'], '</div>' ].join('');\n\n\t\t// Try to read from the cache.\n\t\tif ( cache[ source ] )\n\t\t\tthis.output = cache[ source ];\n\t\telse {\n\t\t\tvar fn = source\n\t\t\t\t// Escape chars like slash \"\\\" or single quote \"'\".\n\t\t\t\t.replace( reEscapableChars, '\\\\$1' )\n\t\t\t\t.replace( reNewLine, '\\\\n' )\n\t\t\t\t.replace( reCarriageReturn, '\\\\r' )\n\t\t\t\t// Inject the template keys replacement.\n\t\t\t\t.replace( rePlaceholder, function( m, key ) {\n\t\t\t\t\treturn \"',data['\" + key + \"']==undefined?'{\" + key + \"}':data['\" + key + \"'],'\";\n\t\t\t\t} );\n\n\t\t\tfn = \"return buffer?buffer.push('\" + fn + \"'):['\" + fn + \"'].join('');\";\n\t\t\tthis.output = cache[ source ] = Function( 'data', 'buffer', fn );\n\t\t}\n\t};\n} )();\n\n/**\n * Processes the template, filling its variables with the provided data.\n *\n * @method output\n * @param {Object} data An object containing properties which values will be\n * used to fill the template variables. The property names must match the\n * template variables names. Variables without matching properties will be\n * kept untouched.\n * @param {Array} [buffer] An array into which the output data will be pushed into.\n * The number of entries appended to the array is unknown.\n * @returns {String/Number} If `buffer` has not been provided, the processed\n * template output data, otherwise the new length of `buffer`.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/template.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Contains the third and last part of the {@link CKEDITOR} object\n *\t\tdefinition.\n */\n\n/** @class CKEDITOR */\n\n// Remove the CKEDITOR.loadFullCore reference defined on ckeditor_basic.\ndelete CKEDITOR.loadFullCore;\n\n/**\n * Stores references to all editor instances created. The name of the properties\n * in this object correspond to instance names, and their values contain the\n * {@link CKEDITOR.editor} object representing them.\n *\n *\t\talert( CKEDITOR.instances.editor1.name ); // 'editor1'\n *\n * @property {Object}\n */\nCKEDITOR.instances = {};\n\n/**\n * The document of the window storing the CKEDITOR object.\n *\n *\t\talert( CKEDITOR.document.getBody().getName() ); // 'body'\n *\n * @property {CKEDITOR.dom.document}\n */\nCKEDITOR.document = new CKEDITOR.dom.document( document );\n\n/**\n * Adds an editor instance to the global {@link CKEDITOR} object. This function\n * is available for internal use mainly.\n *\n * @param {CKEDITOR.editor} editor The editor instance to be added.\n */\nCKEDITOR.add = function( editor ) {\n\tCKEDITOR.instances[ editor.name ] = editor;\n\n\teditor.on( 'focus', function() {\n\t\tif ( CKEDITOR.currentInstance != editor ) {\n\t\t\tCKEDITOR.currentInstance = editor;\n\t\t\tCKEDITOR.fire( 'currentInstance' );\n\t\t}\n\t} );\n\n\teditor.on( 'blur', function() {\n\t\tif ( CKEDITOR.currentInstance == editor ) {\n\t\t\tCKEDITOR.currentInstance = null;\n\t\t\tCKEDITOR.fire( 'currentInstance' );\n\t\t}\n\t} );\n\n\tCKEDITOR.fire( 'instance', null, editor );\n};\n\n/**\n * Removes an editor instance from the global {@link CKEDITOR} object. This function\n * is available for internal use only. External code must use {@link CKEDITOR.editor#method-destroy}.\n *\n * @private\n * @param {CKEDITOR.editor} editor The editor instance to be removed.\n */\nCKEDITOR.remove = function( editor ) {\n\tdelete CKEDITOR.instances[ editor.name ];\n};\n\n( function() {\n\tvar tpls = {};\n\n\t/**\n\t * Adds a named {@link CKEDITOR.template} instance to be reused among all editors.\n\t * This will return the existing one if a template with same name is already\n\t * defined. Additionally, it fires the \"template\" event to allow template source customization.\n\t *\n\t * @param {String} name The name which identifies a UI template.\n\t * @param {String} source The source string for constructing this template.\n\t * @returns {CKEDITOR.template} The created template instance.\n\t */\n\tCKEDITOR.addTemplate = function( name, source ) {\n\t\tvar tpl = tpls[ name ];\n\t\tif ( tpl )\n\t\t\treturn tpl;\n\n\t\t// Make it possible to customize the template through event.\n\t\tvar params = { name: name, source: source };\n\t\tCKEDITOR.fire( 'template', params );\n\n\t\treturn ( tpls[ name ] = new CKEDITOR.template( params.source ) );\n\t};\n\n\t/**\n\t * Retrieves a defined template created with {@link CKEDITOR#addTemplate}.\n\t *\n\t * @param {String} name The template name.\n\t */\n\tCKEDITOR.getTemplate = function( name ) {\n\t\treturn tpls[ name ];\n\t};\n} )();\n\n( function() {\n\tvar styles = [];\n\n\t/**\n\t * Adds CSS rules to be appended to the editor document.\n\t * This method is mostly used by plugins to add custom styles to the editor\n\t * document. For basic content styling the `contents.css` file should be\n\t * used instead.\n\t *\n\t * **Note:** This function should be called before the creation of editor instances.\n\t *\n\t *\t\t// Add styles for all headings inside editable contents.\n\t *\t\tCKEDITOR.addCss( '.cke_editable h1,.cke_editable h2,.cke_editable h3 { border-bottom: 1px dotted red }' );\n\t *\n\t * @param {String} css The style rules to be appended.\n\t * @see CKEDITOR.config#contentsCss\n\t */\n\tCKEDITOR.addCss = function( css ) {\n\t\tstyles.push( css );\n\t};\n\n\t/**\n\t * Returns a string will all CSS rules passed to the {@link CKEDITOR#addCss} method.\n\t *\n\t * @returns {String} A string containing CSS rules.\n\t */\n\tCKEDITOR.getCss = function() {\n\t\treturn styles.join( '\\n' );\n\t};\n} )();\n\n// Perform global clean up to free as much memory as possible\n// when there are no instances left\nCKEDITOR.on( 'instanceDestroyed', function() {\n\tif ( CKEDITOR.tools.isEmpty( this.instances ) )\n\t\tCKEDITOR.fire( 'reset' );\n} );\n\n// Load the bootstrap script.\nCKEDITOR.loader.load( '_bootstrap' ); // %REMOVE_LINE%\n\n// Tri-state constants.\n/**\n * Used to indicate the ON or ACTIVE state.\n *\n * @readonly\n * @property {Number} [=1]\n */\nCKEDITOR.TRISTATE_ON = 1;\n\n/**\n * Used to indicate the OFF or INACTIVE state.\n *\n * @readonly\n * @property {Number} [=2]\n */\nCKEDITOR.TRISTATE_OFF = 2;\n\n/**\n * Used to indicate the DISABLED state.\n *\n * @readonly\n * @property {Number} [=0]\n */\nCKEDITOR.TRISTATE_DISABLED = 0;\n\n/**\n * The editor which is currently active (has user focus).\n *\n *\t\tfunction showCurrentEditorName() {\n *\t\t\tif ( CKEDITOR.currentInstance )\n *\t\t\t\talert( CKEDITOR.currentInstance.name );\n *\t\t\telse\n *\t\t\t\talert( 'Please focus an editor first.' );\n *\t\t}\n *\n * @property {CKEDITOR.editor} currentInstance\n * @see CKEDITOR#event-currentInstance\n */\n\n/**\n * Fired when the CKEDITOR.currentInstance object reference changes. This may\n * happen when setting the focus on different editor instances in the page.\n *\n *\t\tvar editor; // A variable to store a reference to the current editor.\n *\t\tCKEDITOR.on( 'currentInstance', function() {\n *\t\t\teditor = CKEDITOR.currentInstance;\n *\t\t} );\n *\n * @event currentInstance\n */\n\n/**\n * Fired when the last instance has been destroyed. This event is used to perform\n * global memory cleanup.\n *\n * @event reset\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/ckeditor.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t/** @class CKEDITOR */\n\n\t/**\n\t * Turns a DOM element with the `contenteditable` attribute set to `true` into a\n\t * CKEditor instance. Check {@link CKEDITOR.dtd#$editable} for a list of\n\t * allowed element names.\n\t *\n\t * **Note:** If the DOM element for which inline editing is being enabled does not have\n\t * the `contenteditable` attribute set to `true`, the editor will start in read-only mode.\n\t *\n\t *\t\t<div contenteditable=\"true\" id=\"content\">...</div>\n\t *\t\t...\n\t *\t\tCKEDITOR.inline( 'content' );\n\t *\n\t * It is also possible to create an inline editor from the `<textarea>` element.\n\t * If you do so, an additional `<div>` element with editable content will be created\n\t * directly after the `<textarea>` element and the `<textarea>` element will be hidden.\n\t *\n\t * @param {Object/String} element The DOM element or its ID.\n\t * @param {Object} [instanceConfig] The specific configurations to apply to this editor instance.\n\t * See {@link CKEDITOR.config}.\n\t * @returns {CKEDITOR.editor} The editor instance created.\n\t */\n\tCKEDITOR.inline = function( element, instanceConfig ) {\n\t\tif ( !CKEDITOR.env.isCompatible )\n\t\t\treturn null;\n\n\t\telement = CKEDITOR.dom.element.get( element );\n\n\t\t// Avoid multiple inline editor instances on the same element.\n\t\tif ( element.getEditor() )\n\t\t\tthrow 'The editor instance \"' + element.getEditor().name + '\" is already attached to the provided element.';\n\n\t\tvar editor = new CKEDITOR.editor( instanceConfig, element, CKEDITOR.ELEMENT_MODE_INLINE ),\n\t\t\ttextarea = element.is( 'textarea' ) ? element : null;\n\n\t\tif ( textarea ) {\n\t\t\teditor.setData( textarea.getValue(), null, true );\n\n\t\t\t//Change element from textarea to div\n\t\t\telement = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<div contenteditable=\"' + !!editor.readOnly + '\" class=\"cke_textarea_inline\">' +\n\t\t\t\t\ttextarea.getValue() +\n\t\t\t\t'</div>',\n\t\t\t\tCKEDITOR.document );\n\n\t\t\telement.insertAfter( textarea );\n\t\t\ttextarea.hide();\n\n\t\t\t// Attaching the concrete form.\n\t\t\tif ( textarea.$.form )\n\t\t\t\teditor._attachToForm();\n\t\t} else {\n\t\t\t// Initial editor data is simply loaded from the page element content to make\n\t\t\t// data retrieval possible immediately after the editor creation.\n\t\t\teditor.setData( element.getHtml(), null, true );\n\t\t}\n\n\t\t// Once the editor is loaded, start the UI.\n\t\teditor.on( 'loaded', function() {\n\t\t\teditor.fire( 'uiReady' );\n\n\t\t\t// Enable editing on the element.\n\t\t\teditor.editable( element );\n\n\t\t\t// Editable itself is the outermost element.\n\t\t\teditor.container = element;\n\t\t\teditor.ui.contentsElement = element;\n\n\t\t\t// Load and process editor data.\n\t\t\teditor.setData( editor.getData( 1 ) );\n\n\t\t\t// Clean on startup.\n\t\t\teditor.resetDirty();\n\n\t\t\teditor.fire( 'contentDom' );\n\n\t\t\t// Inline editing defaults to \"wysiwyg\" mode, so plugins don't\n\t\t\t// need to make special handling for this \"mode-less\" environment.\n\t\t\teditor.mode = 'wysiwyg';\n\t\t\teditor.fire( 'mode' );\n\n\t\t\t// The editor is completely loaded for interaction.\n\t\t\teditor.status = 'ready';\n\t\t\teditor.fireOnce( 'instanceReady' );\n\t\t\tCKEDITOR.fire( 'instanceReady', null, editor );\n\n\t\t\t// give priority to plugins that relay on editor#loaded for bootstrapping.\n\t\t}, null, null, 10000 );\n\n\t\t// Handle editor destroying.\n\t\teditor.on( 'destroy', function() {\n\t\t\t// Remove container from DOM if inline-textarea editor.\n\t\t\t// Show <textarea> back again.\n\t\t\tif ( textarea ) {\n\t\t\t\teditor.container.clearCustomData();\n\t\t\t\teditor.container.remove();\n\t\t\t\ttextarea.show();\n\t\t\t}\n\n\t\t\teditor.element.clearCustomData();\n\n\t\t\tdelete editor.element;\n\t\t} );\n\n\t\treturn editor;\n\t};\n\n\t/**\n\t * Calls {@link CKEDITOR#inline} for all page elements with\n\t * the `contenteditable` attribute set to `true`.\n\t *\n\t */\n\tCKEDITOR.inlineAll = function() {\n\t\tvar el, data;\n\n\t\tfor ( var name in CKEDITOR.dtd.$editable ) {\n\t\t\tvar elements = CKEDITOR.document.getElementsByTag( name );\n\n\t\t\tfor ( var i = 0, len = elements.count(); i < len; i++ ) {\n\t\t\t\tel = elements.getItem( i );\n\n\t\t\t\tif ( el.getAttribute( 'contenteditable' ) == 'true' ) {\n\t\t\t\t\t// Fire the \"inline\" event, making it possible to customize\n\t\t\t\t\t// the instance settings and eventually cancel the creation.\n\n\t\t\t\t\tdata = {\n\t\t\t\t\t\telement: el,\n\t\t\t\t\t\tconfig: {}\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( CKEDITOR.fire( 'inline', data ) !== false )\n\t\t\t\t\t\tCKEDITOR.inline( el, data.config );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tCKEDITOR.domReady( function() {\n\t\t!CKEDITOR.disableAutoInline && CKEDITOR.inlineAll();\n\t} );\n} )();\n\n/**\n * Disables creating the inline editor automatically for elements with\n * the `contenteditable` attribute set to `true`.\n *\n *\t\tCKEDITOR.disableAutoInline = true;\n *\n * @cfg {Boolean} [disableAutoInline=false]\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/creators/inline.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n /** @class CKEDITOR */\n\n/**\n * The class name used to identify `<textarea>` elements to be replaced\n * by CKEditor instances. Set it to empty/`null` to disable this feature.\n *\n *\t\tCKEDITOR.replaceClass = 'rich_editor';\n *\n * @cfg {String} [replaceClass='ckeditor']\n */\nCKEDITOR.replaceClass = 'ckeditor';\n\n( function() {\n\t/**\n\t * Replaces a `<textarea>` or a DOM element (`<div>`) with a CKEditor\n\t * instance. For textareas, the initial value in the editor will be the\n\t * textarea value. For DOM elements, their `innerHTML` will be used\n\t * instead. It is recommended to use `<textarea>` and `<div>` elements only.\n\t *\n\t *\t\t<textarea id=\"myfield\" name=\"myfield\"></textarea>\n\t *\t\t...\n\t *\t\tCKEDITOR.replace( 'myfield' );\n\t *\n\t *\t\tvar textarea = document.body.appendChild( document.createElement( 'textarea' ) );\n\t *\t\tCKEDITOR.replace( textarea );\n\t *\n\t * @param {Object/String} element The DOM element (textarea), its ID, or name.\n\t * @param {Object} [config] The specific configuration to apply to this\n\t * editor instance. Configuration set here will override the global CKEditor settings\n\t * (see {@link CKEDITOR.config}).\n\t * @returns {CKEDITOR.editor} The editor instance created.\n\t */\n\tCKEDITOR.replace = function( element, config ) {\n\t\treturn createInstance( element, config, null, CKEDITOR.ELEMENT_MODE_REPLACE );\n\t};\n\n\t/**\n\t * Creates a new editor instance at the end of a specific DOM element.\n\t *\n\t *\t\t<!DOCTYPE html>\n\t * \t\t<html>\n\t * \t\t\t<head>\n\t * \t\t\t\t<meta charset=\"utf-8\">\n\t * \t\t\t\t<title>CKEditor</title>\n\t * \t\t\t\t<!-- Make sure the path to CKEditor is correct. -->\n\t *\t\t\t\t<script src=\"/ckeditor/ckeditor.js\"></script>\n\t *\t\t\t</head>\n\t *\t\t\t<body>\n\t *\t\t\t\t<div id=\"editorSpace\"></div>\n\t *\t\t\t\t<script>\n\t *\t\t\t\t\tCKEDITOR.appendTo( 'editorSpace' );\n\t *\t\t\t\t</script>\n\t *\t\t\t</body>\n\t *\t\t</html>\n\t *\n\t * @param {Object/String} element The DOM element, its ID, or name.\n\t * @param {Object} [config] The specific configuration to apply to this\n\t * editor instance. Configuration set here will override the global CKEditor settings\n\t * (see {@link CKEDITOR.config}).\n\t * @param {String} [data] Since 3.3. Initial value for the instance.\n\t * @returns {CKEDITOR.editor} The editor instance created.\n\t */\n\tCKEDITOR.appendTo = function( element, config, data ) {\n\t\treturn createInstance( element, config, data, CKEDITOR.ELEMENT_MODE_APPENDTO );\n\t};\n\n\t/**\n\t * Replaces all `<textarea>` elements available in the document with\n\t * editor instances.\n\t *\n\t *\t\t// Replace all <textarea> elements in the page.\n\t *\t\tCKEDITOR.replaceAll();\n\t *\n\t *\t\t// Replace all <textarea class=\"myClassName\"> elements in the page.\n\t *\t\tCKEDITOR.replaceAll( 'myClassName' );\n\t *\n\t *\t\t// Selectively replace <textarea> elements, based on a custom evaluation function.\n\t *\t\tCKEDITOR.replaceAll( function( textarea, config ) {\n\t *\t\t\t// A function that needs to be evaluated for the <textarea>\n\t *\t\t\t// to be replaced. It must explicitly return \"false\" to ignore a\n\t *\t\t\t// specific <textarea>.\n\t *\t\t\t// You can also customize the editor instance by having the function\n\t *\t\t\t// modify the \"config\" parameter.\n\t *\t\t} );\n\t *\n\t *\t\t// Full page example where three <textarea> elements are replaced.\n\t *\t\t<!DOCTYPE html>\n\t *\t\t<html>\n\t *\t\t\t<head>\n\t *\t\t\t\t<meta charset=\"utf-8\">\n\t *\t\t\t\t<title>CKEditor</title>\n\t *\t\t\t\t<!-- Make sure the path to CKEditor is correct. -->\n\t *\t\t\t\t<script src=\"/ckeditor/ckeditor.js\"></script>\n\t *\t\t\t</head>\n\t *\t\t\t<body>\n\t *\t\t\t\t<textarea name=\"editor1\"></textarea>\n\t *\t\t\t\t<textarea name=\"editor2\"></textarea>\n\t *\t\t\t\t<textarea name=\"editor3\"></textarea>\n\t *\t\t\t\t<script>\n\t *\t\t\t\t\t// Replace all three <textarea> elements above with CKEditor instances.\n\t *\t\t\t\t\tCKEDITOR.replaceAll();\n\t *\t\t\t\t</script>\n\t *\t\t\t</body>\n\t *\t\t</html>\n\t *\n\t * @param {String} [className] The `<textarea>` class name.\n\t * @param {Function} [evaluator] An evaluation function that must return `true` for a `<textarea>`\n\t * to be replaced with the editor. If the function returns `false`, the `<textarea>` element\n\t * will not be replaced.\n\t */\n\tCKEDITOR.replaceAll = function() {\n\t\tvar textareas = document.getElementsByTagName( 'textarea' );\n\n\t\tfor ( var i = 0; i < textareas.length; i++ ) {\n\t\t\tvar config = null,\n\t\t\t\ttextarea = textareas[ i ];\n\n\t\t\t// The \"name\" and/or \"id\" attribute must exist.\n\t\t\tif ( !textarea.name && !textarea.id )\n\t\t\t\tcontinue;\n\n\t\t\tif ( typeof arguments[ 0 ] == 'string' ) {\n\t\t\t\t// The textarea class name could be passed as the function\n\t\t\t\t// parameter.\n\n\t\t\t\tvar classRegex = new RegExp( '(?:^|\\\\s)' + arguments[ 0 ] + '(?:$|\\\\s)' );\n\n\t\t\t\tif ( !classRegex.test( textarea.className ) )\n\t\t\t\t\tcontinue;\n\t\t\t} else if ( typeof arguments[ 0 ] == 'function' ) {\n\t\t\t\t// An evaluation function could be passed as the function parameter.\n\t\t\t\t// It must explicitly return \"false\" to ignore a specific <textarea>.\n\t\t\t\tconfig = {};\n\t\t\t\tif ( arguments[ 0 ]( textarea, config ) === false )\n\t\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.replace( textarea, config );\n\t\t}\n\t};\n\n\t/** @class CKEDITOR.editor */\n\n\t/**\n\t * Registers an editing mode. This function is to be used mainly by plugins.\n\t *\n\t * @param {String} mode The mode name.\n\t * @param {Function} exec The function that performs the actual mode change.\n\t */\n\tCKEDITOR.editor.prototype.addMode = function( mode, exec ) {\n\t\t( this._.modes || ( this._.modes = {} ) )[ mode ] = exec;\n\t};\n\n\t/**\n\t * Changes the editing mode of this editor instance.\n\t *\n\t * **Note:** The mode switch could be asynchronous depending on the mode provider.\n\t * Use the `callback` to hook subsequent code.\n\t *\n\t *\t\t// Switch to \"source\" view.\n\t *\t\tCKEDITOR.instances.editor1.setMode( 'source' );\n\t *\t\t// Switch to \"wysiwyg\" view and be notified on completion.\n\t *\t\tCKEDITOR.instances.editor1.setMode( 'wysiwyg', function() { alert( 'wysiwyg mode loaded!' ); } );\n\t *\n\t * @param {String} [newMode] If not specified, the {@link CKEDITOR.config#startupMode} will be used.\n\t * @param {Function} [callback] Optional callback function which is invoked once the mode switch has succeeded.\n\t */\n\tCKEDITOR.editor.prototype.setMode = function( newMode, callback ) {\n\t\tvar editor = this;\n\n\t\tvar modes = this._.modes;\n\n\t\t// Mode loading quickly fails.\n\t\tif ( newMode == editor.mode || !modes || !modes[ newMode ] )\n\t\t\treturn;\n\n\t\teditor.fire( 'beforeSetMode', newMode );\n\n\t\tif ( editor.mode ) {\n\t\t\tvar isDirty = editor.checkDirty(),\n\t\t\t\tpreviousModeData = editor._.previousModeData,\n\t\t\t\tcurrentData,\n\t\t\t\tunlockSnapshot = 0;\n\n\t\t\teditor.fire( 'beforeModeUnload' );\n\n\t\t\t// Detach the current editable. While detaching editable will set\n\t\t\t// cached editor's data (with internal setData call). We use this\n\t\t\t// data below to avoid two getData() calls in a row.\n\t\t\teditor.editable( 0 );\n\n\t\t\teditor._.previousMode = editor.mode;\n\t\t\t// Get cached data, which was set while detaching editable.\n\t\t\teditor._.previousModeData = currentData = editor.getData( 1 );\n\n\t\t\t// If data has not been modified in the mode which we are currently leaving,\n\t\t\t// avoid making snapshot right after initializing new mode.\n\t\t\t// http://dev.ckeditor.com/ticket/5217#comment:20\n\t\t\t// Tested by:\n\t\t\t// 'test switch mode with unrecoreded, inner HTML specific content (boguses)'\n\t\t\t// 'test switch mode with unrecoreded, inner HTML specific content (boguses) plus changes in source mode'\n\t\t\tif ( editor.mode == 'source' && previousModeData == currentData ) {\n\t\t\t\t// We need to make sure that unlockSnapshot will update the last snapshot\n\t\t\t\t// (will not create new one) if lockSnapshot is not called on outdated snapshots stack.\n\t\t\t\t// Additionally, forceUpdate prevents from making content image now, which is useless\n\t\t\t\t// (because it equals editor data not inner HTML).\n\t\t\t\teditor.fire( 'lockSnapshot', { forceUpdate: true } );\n\t\t\t\tunlockSnapshot = 1;\n\t\t\t}\n\n\t\t\t// Clear up the mode space.\n\t\t\teditor.ui.space( 'contents' ).setHtml( '' );\n\n\t\t\teditor.mode = '';\n\t\t} else {\n\t\t\teditor._.previousModeData = editor.getData( 1 );\n\t\t}\n\n\t\t// Fire the mode handler.\n\t\tthis._.modes[ newMode ]( function() {\n\t\t\t// Set the current mode.\n\t\t\teditor.mode = newMode;\n\n\t\t\tif ( isDirty !== undefined )\n\t\t\t\t!isDirty && editor.resetDirty();\n\n\t\t\tif ( unlockSnapshot )\n\t\t\t\teditor.fire( 'unlockSnapshot' );\n\t\t\t// Since snapshot made on dataReady (which normally catches changes done by setData)\n\t\t\t// won't work because editor.mode was not set yet (it's set in this function), we need\n\t\t\t// to make special snapshot for changes done in source mode here.\n\t\t\telse if ( newMode == 'wysiwyg' )\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t// Delay to avoid race conditions (setMode inside setMode).\n\t\t\tsetTimeout( function() {\n\t\t\t\teditor.fire( 'mode' );\n\t\t\t\tcallback && callback.call( editor );\n\t\t\t}, 0 );\n\t\t} );\n\t};\n\n\t/**\n\t * Resizes the editor interface.\n\t *\n\t *\t\teditor.resize( 900, 300 );\n\t *\n\t *\t\teditor.resize( '100%', 450, true );\n\t *\n\t * @param {Number/String} width The new width. It can be an integer denoting a value\n\t * in pixels or a CSS size value with unit.\n\t * @param {Number/String} height The new height. It can be an integer denoting a value\n\t * in pixels or a CSS size value with unit.\n\t * @param {Boolean} [isContentHeight] Indicates that the provided height is to\n\t * be applied to the editor content area, and not to the entire editor\n\t * interface. Defaults to `false`.\n\t * @param {Boolean} [resizeInner] Indicates that it is the inner interface\n\t * element that must be resized, not the outer element. The default theme\n\t * defines the editor interface inside a pair of `<span>` elements\n\t * (`<span><span>...</span></span>`). By default the first,\n\t * outer `<span>` element receives the sizes. If this parameter is set to\n\t * `true`, the second, inner `<span>` is resized instead.\n\t */\n\tCKEDITOR.editor.prototype.resize = function( width, height, isContentHeight, resizeInner ) {\n\t\tvar container = this.container,\n\t\t\tcontents = this.ui.space( 'contents' ),\n\t\t\tcontentsFrame = CKEDITOR.env.webkit && this.document && this.document.getWindow().$.frameElement,\n\t\t\touter;\n\n\t\tif ( resizeInner ) {\n\t\t\touter = this.container.getFirst( function( node ) {\n\t\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT && node.hasClass( 'cke_inner' );\n\t\t\t} );\n\t\t} else {\n\t\t\touter = container;\n\t\t}\n\n\t\t// Set as border box width. (#5353)\n\t\touter.setSize( 'width', width, true );\n\n\t\t// WebKit needs to refresh the iframe size to avoid rendering issues. (1/2) (#8348)\n\t\tcontentsFrame && ( contentsFrame.style.width = '1%' );\n\n\t\t// Get the height delta between the outer table and the content area.\n\t\tvar contentsOuterDelta = ( outer.$.offsetHeight || 0 ) - ( contents.$.clientHeight || 0 ),\n\n\t\t// If we're setting the content area's height, then we don't need the delta.\n\t\t\tresultContentsHeight = Math.max( height - ( isContentHeight ? 0 : contentsOuterDelta ), 0 ),\n\t\t\tresultOuterHeight = ( isContentHeight ? height + contentsOuterDelta : height );\n\n\t\tcontents.setStyle( 'height', resultContentsHeight + 'px' );\n\n\t\t// WebKit needs to refresh the iframe size to avoid rendering issues. (2/2) (#8348)\n\t\tcontentsFrame && ( contentsFrame.style.width = '100%' );\n\n\t\t// Emit a resize event.\n\t\tthis.fire( 'resize', {\n\t\t\touterHeight: resultOuterHeight,\n\t\t\tcontentsHeight: resultContentsHeight,\n\t\t\t// Sometimes width is not provided.\n\t\t\touterWidth: width || outer.getSize( 'width' )\n\t\t} );\n\t};\n\n\t/**\n\t * Gets the element that can be used to check the editor size. This method\n\t * is mainly used by the [Editor Resize](http://ckeditor.com/addon/resize) plugin, which adds\n\t * a UI handle that can be used to resize the editor.\n\t *\n\t * @param {Boolean} forContents Whether to return the \"contents\" part of the theme instead of the container.\n\t * @returns {CKEDITOR.dom.element} The resizable element.\n\t */\n\tCKEDITOR.editor.prototype.getResizable = function( forContents ) {\n\t\treturn forContents ? this.ui.space( 'contents' ) : this.container;\n\t};\n\n\tfunction createInstance( element, config, data, mode ) {\n\t\tif ( !CKEDITOR.env.isCompatible )\n\t\t\treturn null;\n\n\t\telement = CKEDITOR.dom.element.get( element );\n\n\t\t// Avoid multiple inline editor instances on the same element.\n\t\tif ( element.getEditor() )\n\t\t\tthrow 'The editor instance \"' + element.getEditor().name + '\" is already attached to the provided element.';\n\n\t\t// Create the editor instance.\n\t\tvar editor = new CKEDITOR.editor( config, element, mode );\n\n\t\tif ( mode == CKEDITOR.ELEMENT_MODE_REPLACE ) {\n\t\t\t// Do not replace the textarea right now, just hide it. The effective\n\t\t\t// replacement will be done later in the editor creation lifecycle.\n\t\t\telement.setStyle( 'visibility', 'hidden' );\n\n\t\t\t// #8031 Remember if textarea was required and remove the attribute.\n\t\t\teditor._.required = element.hasAttribute( 'required' );\n\t\t\telement.removeAttribute( 'required' );\n\t\t}\n\n\t\tdata && editor.setData( data, null, true );\n\n\t\t// Once the editor is loaded, start the UI.\n\t\teditor.on( 'loaded', function() {\n\t\t\tloadTheme( editor );\n\n\t\t\tif ( mode == CKEDITOR.ELEMENT_MODE_REPLACE && editor.config.autoUpdateElement && element.$.form )\n\t\t\t\teditor._attachToForm();\n\n\t\t\teditor.setMode( editor.config.startupMode, function() {\n\t\t\t\t// Clean on startup.\n\t\t\t\teditor.resetDirty();\n\n\t\t\t\t// Editor is completely loaded for interaction.\n\t\t\t\teditor.status = 'ready';\n\t\t\t\teditor.fireOnce( 'instanceReady' );\n\t\t\t\tCKEDITOR.fire( 'instanceReady', null, editor );\n\t\t\t} );\n\t\t} );\n\n\t\teditor.on( 'destroy', destroy );\n\t\treturn editor;\n\t}\n\n\tfunction destroy() {\n\t\tvar editor = this,\n\t\t\tcontainer = editor.container,\n\t\t\telement = editor.element;\n\n\t\tif ( container ) {\n\t\t\tcontainer.clearCustomData();\n\t\t\tcontainer.remove();\n\t\t}\n\n\t\tif ( element ) {\n\t\t\telement.clearCustomData();\n\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ) {\n\t\t\t\telement.show();\n\t\t\t\tif ( editor._.required )\n\t\t\t\t\telement.setAttribute( 'required', 'required' );\n\t\t\t}\n\t\t\tdelete editor.element;\n\t\t}\n\t}\n\n\tfunction loadTheme( editor ) {\n\t\tvar name = editor.name,\n\t\t\telement = editor.element,\n\t\t\telementMode = editor.elementMode;\n\n\t\t// Get the HTML for the predefined spaces.\n\t\tvar topHtml = editor.fire( 'uiSpace', { space: 'top', html: '' } ).html;\n\t\tvar bottomHtml = editor.fire( 'uiSpace', { space: 'bottom', html: '' } ).html;\n\n\t\tvar themedTpl = new CKEDITOR.template(\n\t\t\t'<{outerEl}' +\n\t\t\t\t' id=\"cke_{name}\"' +\n\t\t\t\t' class=\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} ' + CKEDITOR.env.cssClass + '\" ' +\n\t\t\t\t' dir=\"{langDir}\"' +\n\t\t\t\t' lang=\"{langCode}\"' +\n\t\t\t\t' role=\"application\"' +\n\t\t\t\t( editor.title ? ' aria-labelledby=\"cke_{name}_arialbl\"' : '' ) +\n\t\t\t\t'>' +\n\t\t\t\t( editor.title ? '<span id=\"cke_{name}_arialbl\" class=\"cke_voice_label\">{voiceLabel}</span>' : '' ) +\n\t\t\t\t'<{outerEl} class=\"cke_inner cke_reset\" role=\"presentation\">' +\n\t\t\t\t\t'{topHtml}' +\n\t\t\t\t\t'<{outerEl} id=\"{contentId}\" class=\"cke_contents cke_reset\" role=\"presentation\"></{outerEl}>' +\n\t\t\t\t\t'{bottomHtml}' +\n\t\t\t\t'</{outerEl}>' +\n\t\t\t'</{outerEl}>' );\n\n\t\tvar container = CKEDITOR.dom.element.createFromHtml( themedTpl.output( {\n\t\t\tid: editor.id,\n\t\t\tname: name,\n\t\t\tlangDir: editor.lang.dir,\n\t\t\tlangCode: editor.langCode,\n\t\t\tvoiceLabel: editor.title,\n\t\t\ttopHtml: topHtml ? '<span id=\"' + editor.ui.spaceId( 'top' ) + '\" class=\"cke_top cke_reset_all\" role=\"presentation\" style=\"height:auto\">' + topHtml + '</span>' : '',\n\t\t\tcontentId: editor.ui.spaceId( 'contents' ),\n\t\t\tbottomHtml: bottomHtml ? '<span id=\"' + editor.ui.spaceId( 'bottom' ) + '\" class=\"cke_bottom cke_reset_all\" role=\"presentation\">' + bottomHtml + '</span>' : '',\n\t\t\touterEl: CKEDITOR.env.ie ? 'span' : 'div'\t// #9571\n\t\t} ) );\n\n\t\tif ( elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ) {\n\t\t\telement.hide();\n\t\t\tcontainer.insertAfter( element );\n\t\t} else {\n\t\t\telement.append( container );\n\t\t}\n\n\t\teditor.container = container;\n\t\teditor.ui.contentsElement = editor.ui.space( 'contents' );\n\n\t\t// Make top and bottom spaces unelectable, but not content space,\n\t\t// otherwise the editable area would be affected.\n\t\ttopHtml && editor.ui.space( 'top' ).unselectable();\n\t\tbottomHtml && editor.ui.space( 'bottom' ).unselectable();\n\n\t\tvar width = editor.config.width, height = editor.config.height;\n\t\tif ( width )\n\t\t\tcontainer.setStyle( 'width', CKEDITOR.tools.cssLength( width ) );\n\n\t\t// The editor height is applied to the contents space.\n\t\tif ( height )\n\t\t\teditor.ui.space( 'contents' ).setStyle( 'height', CKEDITOR.tools.cssLength( height ) );\n\n\t\t// Disable browser context menu for editor's chrome.\n\t\tcontainer.disableContextMenu();\n\n\t\t// Redirect the focus into editor for webkit. (#5713)\n\t\tCKEDITOR.env.webkit && container.on( 'focus', function() {\n\t\t\teditor.focus();\n\t\t} );\n\n\t\teditor.fireOnce( 'uiReady' );\n\t}\n\n\t// Replace all textareas with the default class name.\n\tCKEDITOR.domReady( function() {\n\t\tCKEDITOR.replaceClass && CKEDITOR.replaceAll( CKEDITOR.replaceClass );\n\t} );\n} )();\n\n/**\n * The current editing mode. An editing mode basically provides\n * different ways of editing or viewing the editor content.\n *\n *\t\talert( CKEDITOR.instances.editor1.mode ); // (e.g.) 'wysiwyg'\n *\n * @readonly\n * @property {String} mode\n */\n\n/**\n * The mode to load at the editor startup. It depends on the plugins\n * loaded. By default, the `wysiwyg` and `source` modes are available.\n *\n *\t\tconfig.startupMode = 'source';\n *\n * @cfg {String} [startupMode='wysiwyg']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.startupMode = 'wysiwyg';\n\n/**\n * Fired after the editor instance is resized through\n * the {@link CKEDITOR.editor#method-resize CKEDITOR.resize} method.\n *\n * @event resize\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {Object} data Available since CKEditor 4.5.\n * @param {Number} data.outerHeight The height of the entire area that the editor covers.\n * @param {Number} data.contentsHeight Editable area height in pixels.\n * @param {Number} data.outerWidth The width of the entire area that the editor covers.\n */\n\n/**\n * Fired before changing the editing mode. See also\n * {@link #beforeSetMode} and {@link #event-mode}.\n *\n * @event beforeModeUnload\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Fired before the editor mode is set. See also\n * {@link #event-mode} and {@link #beforeModeUnload}.\n *\n * @since 3.5.3\n * @event beforeSetMode\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {String} data The name of the mode which is about to be set.\n */\n\n/**\n * Fired after setting the editing mode. See also {@link #beforeSetMode} and {@link #beforeModeUnload}\n *\n * @event mode\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Fired when the editor (replacing a `<textarea>` which has a `required` attribute) is empty during form submission.\n *\n * This event replaces native required fields validation that the browsers cannot\n * perform when CKEditor replaces `<textarea>` elements.\n *\n * You can cancel this event to prevent the page from submitting data.\n *\n *\t\teditor.on( 'required', function( evt ) {\n *\t\t\talert( 'Article content is required.' );\n *\t\t\tevt.cancel();\n *\t\t} );\n *\n * @event required\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/creators/themedui.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar isNotWhitespace, isNotBookmark, isEmpty, isBogus, emptyParagraphRegexp,\n\t\tinsert, fixTableAfterContentsDeletion, getHtmlFromRangeHelpers, extractHtmlFromRangeHelpers;\n\n\t/**\n\t * Editable class which provides all editing related activities by\n\t * the `contenteditable` element, dynamically get attached to editor instance.\n\t *\n\t * @class CKEDITOR.editable\n\t * @extends CKEDITOR.dom.element\n\t */\n\tCKEDITOR.editable = CKEDITOR.tools.createClass( {\n\t\tbase: CKEDITOR.dom.element,\n\t\t/**\n\t\t * The constructor only stores generic editable creation logic that is commonly shared among\n\t\t * all different editable elements.\n\t\t *\n\t\t * @constructor Creates an editable class instance.\n\t\t * @param {CKEDITOR.editor} editor The editor instance on which the editable operates.\n\t\t * @param {HTMLElement/CKEDITOR.dom.element} element Any DOM element that was as the editor's\n\t\t * editing container, e.g. it could be either an HTML element with the `contenteditable` attribute\n\t\t * set to the `true` that handles WYSIWYG editing or a `<textarea>` element that handles source editing.\n\t\t */\n\t\t$: function( editor, element ) {\n\t\t\t// Transform the element into a CKEDITOR.dom.element instance.\n\t\t\tthis.base( element.$ || element );\n\n\t\t\tthis.editor = editor;\n\n\t\t\t/**\n\t\t\t * Indicates the initialization status of the editable element. The following statuses are available:\n\t\t\t *\n\t\t\t *\t* **unloaded** &ndash; the initial state. The editable's instance was created but\n\t\t\t *\tis not fully loaded (in particular it has no data).\n\t\t\t *\t* **ready** &ndash; the editable is fully initialized. The `ready` status is set after\n\t\t\t *\tthe first {@link CKEDITOR.editor#method-setData} is called.\n\t\t\t *\t* **detached** &ndash; the editable was detached.\n\t\t\t *\n\t\t\t * @since 4.3.3\n\t\t\t * @readonly\n\t\t\t * @property {String}\n\t\t\t */\n\t\t\tthis.status = 'unloaded';\n\n\t\t\t/**\n\t\t\t * Indicates whether the editable element gained focus.\n\t\t\t *\n\t\t\t * @property {Boolean} hasFocus\n\t\t\t */\n\t\t\tthis.hasFocus = false;\n\n\t\t\t// The bootstrapping logic.\n\t\t\tthis.setup();\n\t\t},\n\n\t\tproto: {\n\t\t\tfocus: function() {\n\n\t\t\t\tvar active;\n\n\t\t\t\t// [Webkit] When DOM focus is inside of nested contenteditable elements,\n\t\t\t\t// apply focus on the main editable will compromise it's text selection.\n\t\t\t\tif ( CKEDITOR.env.webkit && !this.hasFocus ) {\n\t\t\t\t\t// Restore focus on element which we cached (on selectionCheck) as previously active.\n\t\t\t\t\tactive = this.editor._.previousActive || this.getDocument().getActive();\n\t\t\t\t\tif ( this.contains( active ) ) {\n\t\t\t\t\t\tactive.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// [IE] Use instead \"setActive\" method to focus the editable if it belongs to\n\t\t\t\t// the host page document, to avoid bringing an unexpected scroll.\n\t\t\t\ttry {\n\t\t\t\t\tthis.$[ CKEDITOR.env.ie && this.getDocument().equals( CKEDITOR.document ) ? 'setActive' : 'focus' ]();\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\t// IE throws unspecified error when focusing editable after closing dialog opened on nested editable.\n\t\t\t\t\tif ( !CKEDITOR.env.ie )\n\t\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Remedy if Safari doens't applies focus properly. (#279)\n\t\t\t\tif ( CKEDITOR.env.safari && !this.isInline() ) {\n\t\t\t\t\tactive = CKEDITOR.document.getActive();\n\t\t\t\t\tif ( !active.equals( this.getWindow().getFrame() ) )\n\t\t\t\t\t\tthis.getWindow().focus();\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Overrides {@link CKEDITOR.dom.element#on} to have special `focus/blur` handling.\n\t\t\t * The `focusin/focusout` events are used in IE to replace regular `focus/blur` events\n\t\t\t * because we want to avoid the asynchronous nature of later ones.\n\t\t\t */\n\t\t\ton: function( name, fn ) {\n\t\t\t\tvar args = Array.prototype.slice.call( arguments, 0 );\n\n\t\t\t\tif ( CKEDITOR.env.ie && ( /^focus|blur$/ ).exec( name ) ) {\n\t\t\t\t\tname = name == 'focus' ? 'focusin' : 'focusout';\n\n\t\t\t\t\t// The \"focusin/focusout\" events bubbled, e.g. If there are elements with layout\n\t\t\t\t\t// they fire this event when clicking in to edit them but it must be ignored\n\t\t\t\t\t// to allow edit their contents. (#4682)\n\t\t\t\t\tfn = isNotBubbling( fn, this );\n\t\t\t\t\targs[ 0 ] = name;\n\t\t\t\t\targs[ 1 ] = fn;\n\t\t\t\t}\n\n\t\t\t\treturn CKEDITOR.dom.element.prototype.on.apply( this, args );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Registers an event listener that needs to be removed when detaching this editable.\n\t\t\t * This means that it will be automatically removed when {@link #detach} is executed,\n\t\t\t * for example on {@link CKEDITOR.editor#setMode changing editor mode} or destroying editor.\n\t\t\t *\n\t\t\t * Except for `obj` all other arguments have the same meaning as in {@link CKEDITOR.event#on}.\n\t\t\t *\n\t\t\t * This method is strongly related to the {@link CKEDITOR.editor#contentDom} and\n\t\t\t * {@link CKEDITOR.editor#contentDomUnload} events, because they are fired\n\t\t\t * when an editable is being attached and detached. Therefore, this method is usually used\n\t\t\t * in the following way:\n\t\t\t *\n\t\t\t *\t\teditor.on( 'contentDom', function() {\n\t\t\t *\t\t\tvar editable = editor.editable();\n\t\t\t *\t\t\teditable.attachListener( editable, 'mousedown', function() {\n\t\t\t *\t\t\t\t// ...\n\t\t\t *\t\t\t} );\n\t\t\t *\t\t} );\n\t\t\t *\n\t\t\t * This code will attach the `mousedown` listener every time a new editable is attached\n\t\t\t * to the editor, which in classic (`iframe`-based) editor happens every time the\n\t\t\t * data or the mode is set. This listener will also be removed when that editable is detached.\n\t\t\t *\n\t\t\t * It is also possible to attach a listener to another object (e.g. to a document).\n\t\t\t *\n\t\t\t *\t\teditor.on( 'contentDom', function() {\n\t\t\t *\t\t\teditor.editable().attachListener( editor.document, 'mousedown', function() {\n\t\t\t *\t\t\t\t// ...\n\t\t\t *\t\t\t} );\n\t\t\t *\t\t} );\n\t\t\t *\n\t\t\t * @param {CKEDITOR.event} obj The element/object to which the listener will be attached. Every object\n\t\t\t * which inherits from {@link CKEDITOR.event} may be used including {@link CKEDITOR.dom.element},\n\t\t\t * {@link CKEDITOR.dom.document}, and {@link CKEDITOR.editable}.\n\t\t\t * @param {String} eventName The name of the event that will be listened to.\n\t\t\t * @param {Function} listenerFunction The function listening to the\n\t\t\t * event. A single {@link CKEDITOR.eventInfo} object instance\n\t\t\t * containing all the event data is passed to this function.\n\t\t\t * @param {Object} [scopeObj] The object used to scope the listener\n\t\t\t * call (the `this` object). If omitted, the current object is used.\n\t\t\t * @param {Object} [listenerData] Data to be sent as the\n\t\t\t * {@link CKEDITOR.eventInfo#listenerData} when calling the listener.\n\t\t\t * @param {Number} [priority=10] The listener priority. Lower priority\n\t\t\t * listeners are called first. Listeners with the same priority\n\t\t\t * value are called in the registration order.\n\t\t\t * @returns {Object} An object containing the `removeListener`\n\t\t\t * function that can be used to remove the listener at any time.\n\t\t\t */\n\t\t\tattachListener: function( obj /*, event, fn, scope, listenerData, priority*/ ) {\n\t\t\t\t!this._.listeners && ( this._.listeners = [] );\n\t\t\t\t// Register the listener.\n\t\t\t\tvar args = Array.prototype.slice.call( arguments, 1 ),\n\t\t\t\t\tlistener = obj.on.apply( obj, args );\n\n\t\t\t\tthis._.listeners.push( listener );\n\n\t\t\t\treturn listener;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Remove all event listeners registered from {@link #attachListener}.\n\t\t\t */\n\t\t\tclearListeners: function() {\n\t\t\t\tvar listeners = this._.listeners;\n\t\t\t\t// Don't get broken by this.\n\t\t\t\ttry {\n\t\t\t\t\twhile ( listeners.length )\n\t\t\t\t\t\tlisteners.pop().removeListener();\n\t\t\t\t} catch ( e ) {}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Restore all attribution changes made by {@link #changeAttr }.\n\t\t\t */\n\t\t\trestoreAttrs: function() {\n\t\t\t\tvar changes = this._.attrChanges, orgVal;\n\t\t\t\tfor ( var attr in changes ) {\n\t\t\t\t\tif ( changes.hasOwnProperty( attr ) ) {\n\t\t\t\t\t\torgVal = changes[ attr ];\n\t\t\t\t\t\t// Restore original attribute.\n\t\t\t\t\t\torgVal !== null ? this.setAttribute( attr, orgVal ) : this.removeAttribute( attr );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Adds a CSS class name to this editable that needs to be removed on detaching.\n\t\t\t *\n\t\t\t * @param {String} className The class name to be added.\n\t\t\t * @see CKEDITOR.dom.element#addClass\n\t\t\t */\n\t\t\tattachClass: function( cls ) {\n\t\t\t\tvar classes = this.getCustomData( 'classes' );\n\t\t\t\tif ( !this.hasClass( cls ) ) {\n\t\t\t\t\t!classes && ( classes = [] ), classes.push( cls );\n\t\t\t\t\tthis.setCustomData( 'classes', classes );\n\t\t\t\t\tthis.addClass( cls );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Make an attribution change that would be reverted on editable detaching.\n\t\t\t * @param {String} attr The attribute name to be changed.\n\t\t\t * @param {String} val The value of specified attribute.\n\t\t\t */\n\t\t\tchangeAttr: function( attr, val ) {\n\t\t\t\tvar orgVal = this.getAttribute( attr );\n\t\t\t\tif ( val !== orgVal ) {\n\t\t\t\t\t!this._.attrChanges && ( this._.attrChanges = {} );\n\n\t\t\t\t\t// Saved the original attribute val.\n\t\t\t\t\tif ( !( attr in this._.attrChanges ) )\n\t\t\t\t\t\tthis._.attrChanges[ attr ] = orgVal;\n\n\t\t\t\t\tthis.setAttribute( attr, val );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Low-level method for inserting text into the editable.\n\t\t\t * See the {@link CKEDITOR.editor#method-insertText} method which is the editor-level API\n\t\t\t * for this purpose.\n\t\t\t *\n\t\t\t * @param {String} text\n\t\t\t */\n\t\t\tinsertText: function( text ) {\n\t\t\t\t// Focus the editor before calling transformPlainTextToHtml. (#12726)\n\t\t\t\tthis.editor.focus();\n\t\t\t\tthis.insertHtml( this.transformPlainTextToHtml( text ), 'text' );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Transforms plain text to HTML based on current selection and {@link CKEDITOR.editor#activeEnterMode}.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @param {String} text Text to transform.\n\t\t\t * @returns {String} HTML generated from the text.\n\t\t\t */\n\t\t\ttransformPlainTextToHtml: function( text ) {\n\t\t\t\tvar enterMode = this.editor.getSelection().getStartElement().hasAscendant( 'pre', true ) ?\n\t\t\t\t\tCKEDITOR.ENTER_BR :\n\t\t\t\t\tthis.editor.activeEnterMode;\n\n\t\t\t\treturn CKEDITOR.tools.transformPlainTextToHtml( text, enterMode );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Low-level method for inserting HTML into the editable.\n\t\t\t * See the {@link CKEDITOR.editor#method-insertHtml} method which is the editor-level API\n\t\t\t * for this purpose.\n\t\t\t *\n\t\t\t * This method will insert HTML into the current selection or a given range. It also creates an undo snapshot,\n\t\t\t * scrolls the viewport to the insertion and selects the range next to the inserted content.\n\t\t\t * If you want to insert HTML without additional operations use {@link #method-insertHtmlIntoRange}.\n\t\t\t *\n\t\t\t * Fires the {@link CKEDITOR.editor#event-afterInsertHtml} event.\n\t\t\t *\n\t\t\t * @param {String} data The HTML to be inserted.\n\t\t\t * @param {String} [mode='html'] See {@link CKEDITOR.editor#method-insertHtml}'s param.\n\t\t\t * @param {CKEDITOR.dom.range} [range] If specified, the HTML will be inserted into the range\n\t\t\t * instead of into the selection. The selection will be placed at the end of the insertion (like in the normal case).\n\t\t\t * Introduced in CKEditor 4.5.\n\t\t\t */\n\t\t\tinsertHtml: function( data, mode, range ) {\n\t\t\t\tvar editor = this.editor;\n\n\t\t\t\teditor.focus();\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\tif ( !range ) {\n\t\t\t\t\t// HTML insertion only considers the first range.\n\t\t\t\t\t// Note: getRanges will be overwritten for tests since we want to test\n\t\t\t\t\t// custom ranges and bypass native selections.\n\t\t\t\t\trange = editor.getSelection().getRanges()[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Default mode is 'html'.\n\t\t\t\tinsert( this, mode || 'html', data, range );\n\n\t\t\t\t// Make the final range selection.\n\t\t\t\trange.select();\n\n\t\t\t\tafterInsert( this );\n\n\t\t\t\tthis.editor.fire( 'afterInsertHtml', {} );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts HTML into the position in the editor determined by the range.\n\t\t\t *\n\t\t\t * **Note:** This method does not {@link CKEDITOR.editor#saveSnapshot save undo snapshots} nor selects inserted\n\t\t\t * HTML. If you want to do it, use {@link #method-insertHtml}.\n\t\t\t *\n\t\t\t * Fires the {@link CKEDITOR.editor#event-afterInsertHtml} event.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @param {String} data HTML code to be inserted into the editor.\n\t\t\t * @param {CKEDITOR.dom.range} range The range as a place of insertion.\n\t\t\t * @param {String} [mode='html'] Mode in which HTML will be inserted.\n\t\t\t * See {@link CKEDITOR.editor#method-insertHtml}.\n\t\t\t */\n\t\t\tinsertHtmlIntoRange: function( data, range, mode ) {\n\t\t\t\t// Default mode is 'html'\n\t\t\t\tinsert( this, mode || 'html', data, range );\n\n\t\t\t\tthis.editor.fire( 'afterInsertHtml', { intoRange: range } );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Low-level method for inserting an element into the editable.\n\t\t\t * See the {@link CKEDITOR.editor#method-insertElement} method which is the editor-level API\n\t\t\t * for this purpose.\n\t\t\t *\n\t\t\t * This method will insert the element into the current selection or a given range. It also creates an undo\n\t\t\t * snapshot, scrolls the viewport to the insertion and selects the range next to the inserted content.\n\t\t\t * If you want to insert an element without additional operations use {@link #method-insertElementIntoRange}.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.dom.element} element The element to insert.\n\t\t\t * @param {CKEDITOR.dom.range} [range] If specified, the element will be inserted into the range\n\t\t\t * instead of into the selection.\n\t\t\t */\n\t\t\tinsertElement: function( element, range ) {\n\t\t\t\tvar editor = this.editor;\n\n\t\t\t\t// Prepare for the insertion. For example - focus editor (#11848).\n\t\t\t\teditor.focus();\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\tvar enterMode = editor.activeEnterMode,\n\t\t\t\t\tselection = editor.getSelection(),\n\t\t\t\t\telementName = element.getName(),\n\t\t\t\t\tisBlock = CKEDITOR.dtd.$block[ elementName ];\n\n\t\t\t\tif ( !range ) {\n\t\t\t\t\trange = selection.getRanges()[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Insert element into first range only and ignore the rest (#11183).\n\t\t\t\tif ( this.insertElementIntoRange( element, range ) ) {\n\t\t\t\t\trange.moveToPosition( element, CKEDITOR.POSITION_AFTER_END );\n\n\t\t\t\t\t// If we're inserting a block element, the new cursor position must be\n\t\t\t\t\t// optimized. (#3100,#5436,#8950)\n\t\t\t\t\tif ( isBlock ) {\n\t\t\t\t\t\t// Find next, meaningful element.\n\t\t\t\t\t\tvar next = element.getNext( function( node ) {\n\t\t\t\t\t\t\treturn isNotEmpty( node ) && !isBogus( node );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tif ( next && next.type == CKEDITOR.NODE_ELEMENT && next.is( CKEDITOR.dtd.$block ) ) {\n\t\t\t\t\t\t\t// If the next one is a text block, move cursor to the start of it's content.\n\t\t\t\t\t\t\tif ( next.getDtd()[ '#' ] )\n\t\t\t\t\t\t\t\trange.moveToElementEditStart( next );\n\t\t\t\t\t\t\t// Otherwise move cursor to the before end of the last element.\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\trange.moveToElementEditEnd( element );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Open a new line if the block is inserted at the end of parent.\n\t\t\t\t\t\telse if ( !next && enterMode != CKEDITOR.ENTER_BR ) {\n\t\t\t\t\t\t\tnext = range.fixBlock( true, enterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p' );\n\t\t\t\t\t\t\trange.moveToElementEditStart( next );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set up the correct selection.\n\t\t\t\tselection.selectRanges( [ range ] );\n\n\t\t\t\tafterInsert( this );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Alias for {@link #insertElement}.\n\t\t\t *\n\t\t\t * @deprecated\n\t\t\t * @param {CKEDITOR.dom.element} element The element to be inserted.\n\t\t\t */\n\t\t\tinsertElementIntoSelection: function( element ) {\n\t\t\t\tthis.insertElement( element );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts an element into the position in the editor determined by the range.\n\t\t\t *\n\t\t\t * **Note:** This method does not {@link CKEDITOR.editor#saveSnapshot save undo snapshots} nor selects the inserted\n\t\t\t * element. If you want to do it, use the {@link #method-insertElement} method.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.dom.element} element The element to be inserted.\n\t\t\t * @param {CKEDITOR.dom.range} range The range as a place of insertion.\n\t\t\t * @returns {Boolean} Informs whether the insertion was successful.\n\t\t\t */\n\t\t\tinsertElementIntoRange: function( element, range ) {\n\t\t\t\tvar editor = this.editor,\n\t\t\t\t\tenterMode = editor.config.enterMode,\n\t\t\t\t\telementName = element.getName(),\n\t\t\t\t\tisBlock = CKEDITOR.dtd.$block[ elementName ];\n\n\t\t\t\tif ( range.checkReadOnly() )\n\t\t\t\t\treturn false;\n\n\t\t\t\t// Remove the original contents, merge split nodes.\n\t\t\t\trange.deleteContents( 1 );\n\n\t\t\t\t// If range is placed in inermediate element (not td or th), we need to do three things:\n\t\t\t\t// * fill emptied <td/th>s with if browser needs them,\n\t\t\t\t// * remove empty text nodes so IE8 won't crash (http://dev.ckeditor.com/ticket/11183#comment:8),\n\t\t\t\t// * fix structure and move range into the <td/th> element.\n\t\t\t\tif ( range.startContainer.type == CKEDITOR.NODE_ELEMENT && range.startContainer.is( { tr: 1, table: 1, tbody: 1, thead: 1, tfoot: 1 } ) )\n\t\t\t\t\tfixTableAfterContentsDeletion( range );\n\n\t\t\t\t// If we're inserting a block at dtd-violated position, split\n\t\t\t\t// the parent blocks until we reach blockLimit.\n\t\t\t\tvar current, dtd;\n\n\t\t\t\tif ( isBlock ) {\n\t\t\t\t\twhile ( ( current = range.getCommonAncestor( 0, 1 ) ) &&\n\t\t\t\t\t\t\t( dtd = CKEDITOR.dtd[ current.getName() ] ) &&\n\t\t\t\t\t\t\t!( dtd && dtd[ elementName ] ) ) {\n\t\t\t\t\t\t// Split up inline elements.\n\t\t\t\t\t\tif ( current.getName() in CKEDITOR.dtd.span )\n\t\t\t\t\t\t\trange.splitElement( current );\n\n\t\t\t\t\t\t// If we're in an empty block which indicate a new paragraph,\n\t\t\t\t\t\t// simply replace it with the inserting block.(#3664)\n\t\t\t\t\t\telse if ( range.checkStartOfBlock() && range.checkEndOfBlock() ) {\n\t\t\t\t\t\t\trange.setStartBefore( current );\n\t\t\t\t\t\t\trange.collapse( true );\n\t\t\t\t\t\t\tcurrent.remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trange.splitBlock( enterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p', editor.editable() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Insert the new node.\n\t\t\t\trange.insertNode( element );\n\n\t\t\t\t// Return true if insertion was successful.\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @see CKEDITOR.editor#setData\n\t\t\t */\n\t\t\tsetData: function( data, isSnapshot ) {\n\t\t\t\tif ( !isSnapshot )\n\t\t\t\t\tdata = this.editor.dataProcessor.toHtml( data );\n\n\t\t\t\tthis.setHtml( data );\n\t\t\t\tthis.fixInitialSelection();\n\n\t\t\t\t// Editable is ready after first setData.\n\t\t\t\tif ( this.status == 'unloaded' )\n\t\t\t\t\tthis.status = 'ready';\n\n\t\t\t\tthis.editor.fire( 'dataReady' );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @see CKEDITOR.editor#getData\n\t\t\t */\n\t\t\tgetData: function( isSnapshot ) {\n\t\t\t\tvar data = this.getHtml();\n\n\t\t\t\tif ( !isSnapshot )\n\t\t\t\t\tdata = this.editor.dataProcessor.toDataFormat( data );\n\n\t\t\t\treturn data;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Changes the read-only state of this editable.\n\t\t\t *\n\t\t\t * @param {Boolean} isReadOnly\n\t\t\t */\n\t\t\tsetReadOnly: function( isReadOnly ) {\n\t\t\t\tthis.setAttribute( 'contenteditable', !isReadOnly );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Detaches this editable object from the DOM (removes classes, listeners, etc.)\n\t\t\t */\n\t\t\tdetach: function() {\n\t\t\t\t// Cleanup the element.\n\t\t\t\tthis.removeClass( 'cke_editable' );\n\n\t\t\t\tthis.status = 'detached';\n\n\t\t\t\t// Save the editor reference which will be lost after\n\t\t\t\t// calling detach from super class.\n\t\t\t\tvar editor = this.editor;\n\n\t\t\t\tthis._.detach();\n\n\t\t\t\tdelete editor.document;\n\t\t\t\tdelete editor.window;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Checks if the editable is one of the host page elements, indicates\n\t\t\t * an inline editing environment.\n\t\t\t *\n\t\t\t * @returns {Boolean}\n\t\t\t */\n\t\t\tisInline: function() {\n\t\t\t\treturn this.getDocument().equals( CKEDITOR.document );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Fixes the selection and focus which may be in incorrect state after\n\t\t\t * editable's inner HTML was overwritten.\n\t\t\t *\n\t\t\t * If the editable did not have focus, then the selection will be fixed when the editable\n\t\t\t * is focused for the first time. If the editable already had focus, then the selection will\n\t\t\t * be fixed immediately.\n\t\t\t *\n\t\t\t * To understand the problem see:\n\t\t\t *\n\t\t\t * * http://tests.ckeditor.dev:1030/tests/core/selection/manual/focusaftersettingdata\n\t\t\t * * http://tests.ckeditor.dev:1030/tests/core/selection/manual/focusafterundoing\n\t\t\t * * http://tests.ckeditor.dev:1030/tests/core/selection/manual/selectionafterfocusing\n\t\t\t * * http://tests.ckeditor.dev:1030/tests/plugins/newpage/manual/selectionafternewpage\n\t\t\t *\n\t\t\t * @since 4.4.6\n\t\t\t * @private\n\t\t\t */\n\t\t\tfixInitialSelection: function() {\n\t\t\t\tvar that = this;\n\n\t\t\t\t// Deal with IE8- IEQM (the old MS selection) first.\n\t\t\t\tif ( CKEDITOR.env.ie && ( CKEDITOR.env.version < 9 || CKEDITOR.env.quirks ) ) {\n\t\t\t\t\tif ( this.hasFocus ) {\n\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t\tfixMSSelection();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// If editable did not have focus, fix the selection when it is first focused.\n\t\t\t\tif ( !this.hasFocus ) {\n\t\t\t\t\tthis.once( 'focus', function() {\n\t\t\t\t\t\tfixSelection();\n\t\t\t\t\t}, null, null, -999 );\n\t\t\t\t// If editable had focus, fix the selection immediately.\n\t\t\t\t} else {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\tfixSelection();\n\t\t\t\t}\n\n\t\t\t\tfunction fixSelection() {\n\t\t\t\t\tvar $doc = that.getDocument().$,\n\t\t\t\t\t\t$sel = $doc.getSelection();\n\n\t\t\t\t\tif ( requiresFix( $sel ) ) {\n\t\t\t\t\t\tvar range = new CKEDITOR.dom.range( that );\n\t\t\t\t\t\trange.moveToElementEditStart( that );\n\n\t\t\t\t\t\tvar $range = $doc.createRange();\n\t\t\t\t\t\t$range.setStart( range.startContainer.$, range.startOffset );\n\t\t\t\t\t\t$range.collapse( true );\n\n\t\t\t\t\t\t$sel.removeAllRanges();\n\t\t\t\t\t\t$sel.addRange( $range );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction requiresFix( $sel ) {\n\t\t\t\t\t// This condition covers most broken cases after setting data.\n\t\t\t\t\tif ( $sel.anchorNode && $sel.anchorNode == that.$ ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fix for:\n\t\t\t\t\t// http://tests.ckeditor.dev:1030/tests/core/selection/manual/focusaftersettingdata\n\t\t\t\t\t// (the inline editor TC)\n\t\t\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t\t\tvar active = that.getDocument().getActive();\n\t\t\t\t\t\tif ( active && active.equals( that ) && !$sel.anchorNode ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction fixMSSelection() {\n\t\t\t\t\tvar $doc = that.getDocument().$,\n\t\t\t\t\t\t$sel = $doc.selection,\n\t\t\t\t\t\tactive = that.getDocument().getActive();\n\n\t\t\t\t\tif ( $sel.type == 'None' && active.equals( that ) ) {\n\t\t\t\t\t\tvar range = new CKEDITOR.dom.range( that ),\n\t\t\t\t\t\t\tparentElement,\n\t\t\t\t\t\t\t$range = $doc.body.createTextRange();\n\n\t\t\t\t\t\trange.moveToElementEditStart( that );\n\n\t\t\t\t\t\tparentElement = range.startContainer;\n\t\t\t\t\t\tif ( parentElement.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t\tparentElement = parentElement.getParent();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$range.moveToElementText( parentElement.$ );\n\t\t\t\t\t\t$range.collapse( true );\n\t\t\t\t\t\t$range.select();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The base of the {@link CKEDITOR.editor#getSelectedHtml} method.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @method getHtmlFromRange\n\t\t\t * @param {CKEDITOR.dom.range} range\n\t\t\t * @returns {CKEDITOR.dom.documentFragment}\n\t\t\t */\n\t\t\tgetHtmlFromRange: function( range ) {\n\t\t\t\t// There's nothing to return if range is collapsed.\n\t\t\t\tif ( range.collapsed )\n\t\t\t\t\treturn new CKEDITOR.dom.documentFragment( range.document );\n\n\t\t\t\t// Info object passed between methods.\n\t\t\t\tvar that = {\n\t\t\t\t\tdoc: this.getDocument(),\n\t\t\t\t\t// Leave original range object untouched.\n\t\t\t\t\trange: range.clone()\n\t\t\t\t};\n\n\t\t\t\tgetHtmlFromRangeHelpers.eol.detect( that, this );\n\t\t\t\tgetHtmlFromRangeHelpers.bogus.exclude( that );\n\t\t\t\tgetHtmlFromRangeHelpers.cell.shrink( that );\n\n\t\t\t\tthat.fragment = that.range.cloneContents();\n\n\t\t\t\tgetHtmlFromRangeHelpers.tree.rebuild( that, this );\n\t\t\t\tgetHtmlFromRangeHelpers.eol.fix( that, this );\n\n\t\t\t\treturn new CKEDITOR.dom.documentFragment( that.fragment.$ );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The base of the {@link CKEDITOR.editor#extractSelectedHtml} method.\n\t\t\t *\n\t\t\t * **Note:** The range is modified so it matches the desired selection after extraction\n\t\t\t * even though the selection is not made.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @param {CKEDITOR.dom.range} range\n\t\t\t * @param {Boolean} [removeEmptyBlock=false] See {@link CKEDITOR.editor#extractSelectedHtml}'s parameter.\n\t\t\t * Note that the range will not be modified if this parameter is set to `true`.\n\t\t\t * @returns {CKEDITOR.dom.documentFragment} The extracted fragment of the editable content.\n\t\t\t */\n\t\t\textractHtmlFromRange: function( range, removeEmptyBlock ) {\n\t\t\t\tvar helpers = extractHtmlFromRangeHelpers,\n\t\t\t\t\tthat = {\n\t\t\t\t\t\trange: range,\n\t\t\t\t\t\tdoc: range.document\n\t\t\t\t\t},\n\t\t\t\t\t// Since it is quite hard to build a valid documentFragment\n\t\t\t\t\t// out of extracted contents because DOM changes, let's mimic\n\t\t\t\t\t// extracted HTML with #getHtmlFromRange. Yep. It's a hack.\n\t\t\t\t\textractedFragment = this.getHtmlFromRange( range );\n\n\t\t\t\t// Collapsed range means that there's nothing to extract.\n\t\t\t\tif ( range.collapsed ) {\n\t\t\t\t\trange.optimize();\n\t\t\t\t\treturn extractedFragment;\n\t\t\t\t}\n\n\t\t\t\t// Include inline element if possible.\n\t\t\t\trange.enlarge( CKEDITOR.ENLARGE_INLINE, 1 );\n\n\t\t\t\t// This got to be done before bookmarks are created because purging\n\t\t\t\t// depends on the position of the range at the boundaries of the table,\n\t\t\t\t// usually distorted by bookmark spans.\n\t\t\t\thelpers.table.detectPurge( that );\n\n\t\t\t\t// We'll play with DOM, let's hold the position of the range.\n\t\t\t\tthat.bookmark = range.createBookmark();\n\t\t\t\t// While bookmarked, make unaccessible, to make sure that none of the methods\n\t\t\t\t// will try to use it (they should use that.bookmark).\n\t\t\t\t// This is done because ranges get desynchronized with the DOM when more bookmarks\n\t\t\t\t// is created (as for instance that.targetBookmark).\n\t\t\t\tdelete that.range;\n\n\t\t\t\t// The range to be restored after extraction should be kept\n\t\t\t\t// outside of the range, so it's not removed by range.extractContents.\n\t\t\t\tvar targetRange = this.editor.createRange();\n\t\t\t\ttargetRange.moveToPosition( that.bookmark.startNode, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\tthat.targetBookmark = targetRange.createBookmark();\n\n\t\t\t\t// Execute content-specific detections.\n\t\t\t\thelpers.list.detectMerge( that, this );\n\t\t\t\thelpers.table.detectRanges( that, this );\n\t\t\t\thelpers.block.detectMerge( that, this );\n\n\t\t\t\t// Simply, do the job.\n\t\t\t\tif ( that.tableContentsRanges ) {\n\t\t\t\t\thelpers.table.deleteRanges( that );\n\n\t\t\t\t\t// Done here only to remove bookmark's spans.\n\t\t\t\t\trange.moveToBookmark( that.bookmark );\n\t\t\t\t\tthat.range = range;\n\t\t\t\t} else {\n\t\t\t\t\t// To use the range we need to restore the bookmark and make\n\t\t\t\t\t// the range accessible again.\n\t\t\t\t\trange.moveToBookmark( that.bookmark );\n\t\t\t\t\tthat.range = range;\n\t\t\t\t\trange.extractContents( helpers.detectExtractMerge( that ) );\n\t\t\t\t}\n\n\t\t\t\t// Move working range to desired, pre-computed position.\n\t\t\t\trange.moveToBookmark( that.targetBookmark );\n\n\t\t\t\t// Make sure range is always anchored in an element. For consistency.\n\t\t\t\trange.optimize();\n\n\t\t\t\t// It my happen that the uncollapsed range which referred to a valid selection,\n\t\t\t\t// will be placed in an uneditable location after being collapsed:\n\t\t\t\t// <tr>[<td>x</td>]</tr> -> <tr>[]<td>x</td></tr> -> <tr><td>[]x</td></tr>\n\t\t\t\thelpers.fixUneditableRangePosition( range );\n\n\t\t\t\t// Execute content-specific post-extract routines.\n\t\t\t\thelpers.list.merge( that, this );\n\t\t\t\thelpers.table.purge( that, this );\n\t\t\t\thelpers.block.merge( that, this );\n\n\t\t\t\t// Remove empty block, duh!\n\t\t\t\tif ( removeEmptyBlock ) {\n\t\t\t\t\tvar path = range.startPath();\n\n\t\t\t\t\t// <p><b>^</b></p> is empty block.\n\t\t\t\t\tif (\n\t\t\t\t\t\trange.checkStartOfBlock() &&\n\t\t\t\t\t\trange.checkEndOfBlock() &&\n\t\t\t\t\t\tpath.block &&\n\t\t\t\t\t\t!range.root.equals( path.block ) &&\n\t\t\t\t\t\t// Do not remove a block with bookmarks. (#13465)\n\t\t\t\t\t\t!hasBookmarks( path.block ) ) {\n\t\t\t\t\t\trange.moveToPosition( path.block, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\tpath.block.remove();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Auto paragraph, if needed.\n\t\t\t\t\thelpers.autoParagraph( this.editor, range );\n\n\t\t\t\t\t// Let's have a bogus next to the caret, if needed.\n\t\t\t\t\tif ( isEmpty( range.startContainer ) )\n\t\t\t\t\t\trange.startContainer.appendBogus();\n\t\t\t\t}\n\n\t\t\t\t// Merge inline siblings if any around the caret.\n\t\t\t\trange.startContainer.mergeSiblings();\n\n\t\t\t\treturn extractedFragment;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Editable element bootstrapping.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tsetup: function() {\n\t\t\t\tvar editor = this.editor;\n\n\t\t\t\t// Handle the load/read of editor data/snapshot.\n\t\t\t\tthis.attachListener( editor, 'beforeGetData', function() {\n\t\t\t\t\tvar data = this.getData();\n\n\t\t\t\t\t// Post processing html output of wysiwyg editable.\n\t\t\t\t\tif ( !this.is( 'textarea' ) ) {\n\t\t\t\t\t\t// Reset empty if the document contains only one empty paragraph.\n\t\t\t\t\t\tif ( editor.config.ignoreEmptyParagraph !== false )\n\t\t\t\t\t\t\tdata = data.replace( emptyParagraphRegexp, function( match, lookback ) {\n\t\t\t\t\t\t\t\treturn lookback;\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.setData( data, null, 1 );\n\t\t\t\t}, this );\n\n\t\t\t\tthis.attachListener( editor, 'getSnapshot', function( evt ) {\n\t\t\t\t\tevt.data = this.getData( 1 );\n\t\t\t\t}, this );\n\n\t\t\t\tthis.attachListener( editor, 'afterSetData', function() {\n\t\t\t\t\tthis.setData( editor.getData( 1 ) );\n\t\t\t\t}, this );\n\t\t\t\tthis.attachListener( editor, 'loadSnapshot', function( evt ) {\n\t\t\t\t\tthis.setData( evt.data, 1 );\n\t\t\t\t}, this );\n\n\t\t\t\t// Delegate editor focus/blur to editable.\n\t\t\t\tthis.attachListener( editor, 'beforeFocus', function() {\n\t\t\t\t\tvar sel = editor.getSelection(),\n\t\t\t\t\t\tieSel = sel && sel.getNative();\n\n\t\t\t\t\t// IE considers control-type element as separate\n\t\t\t\t\t// focus host when selected, avoid destroying the\n\t\t\t\t\t// selection in such case. (#5812) (#8949)\n\t\t\t\t\tif ( ieSel && ieSel.type == 'Control' )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tthis.focus();\n\t\t\t\t}, this );\n\n\t\t\t\tthis.attachListener( editor, 'insertHtml', function( evt ) {\n\t\t\t\t\tthis.insertHtml( evt.data.dataValue, evt.data.mode, evt.data.range );\n\t\t\t\t}, this );\n\t\t\t\tthis.attachListener( editor, 'insertElement', function( evt ) {\n\t\t\t\t\tthis.insertElement( evt.data );\n\t\t\t\t}, this );\n\t\t\t\tthis.attachListener( editor, 'insertText', function( evt ) {\n\t\t\t\t\tthis.insertText( evt.data );\n\t\t\t\t}, this );\n\n\t\t\t\t// Update editable state.\n\t\t\t\tthis.setReadOnly( editor.readOnly );\n\n\t\t\t\t// The editable class.\n\t\t\t\tthis.attachClass( 'cke_editable' );\n\n\t\t\t\t// The element mode css class.\n\t\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ) {\n\t\t\t\t\tthis.attachClass( 'cke_editable_inline' );\n\t\t\t\t} else if ( editor.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ||\n\t\t\t\t\teditor.elementMode == CKEDITOR.ELEMENT_MODE_APPENDTO ) {\n\t\t\t\t\tthis.attachClass( 'cke_editable_themed' );\n\t\t\t\t}\n\n\t\t\t\tthis.attachClass( 'cke_contents_' + editor.config.contentsLangDirection );\n\n\t\t\t\t// Setup editor keystroke handlers on this element.\n\t\t\t\tvar keystrokeHandler = editor.keystrokeHandler;\n\n\t\t\t\t// If editor is read-only, then make sure that BACKSPACE key\n\t\t\t\t// is blocked to prevent browser history navigation.\n\t\t\t\tkeystrokeHandler.blockedKeystrokes[ 8 ] = +editor.readOnly;\n\n\t\t\t\teditor.keystrokeHandler.attach( this );\n\n\t\t\t\t// Update focus states.\n\t\t\t\tthis.on( 'blur', function() {\n\t\t\t\t\tthis.hasFocus = false;\n\t\t\t\t}, null, null, -1 );\n\n\t\t\t\tthis.on( 'focus', function() {\n\t\t\t\t\tthis.hasFocus = true;\n\t\t\t\t}, null, null, -1 );\n\n\t\t\t\t// Register to focus manager.\n\t\t\t\teditor.focusManager.add( this );\n\n\t\t\t\t// Inherit the initial focus on editable element.\n\t\t\t\tif ( this.equals( CKEDITOR.document.getActive() ) ) {\n\t\t\t\t\tthis.hasFocus = true;\n\t\t\t\t\t// Pending until this editable has attached.\n\t\t\t\t\teditor.once( 'contentDom', function() {\n\t\t\t\t\t\teditor.focusManager.focus( this );\n\t\t\t\t\t}, this );\n\t\t\t\t}\n\n\t\t\t\t// Apply tab index on demand, with original direction saved.\n\t\t\t\tif ( this.isInline() ) {\n\n\t\t\t\t\t// tabIndex of the editable is different than editor's one.\n\t\t\t\t\t// Update the attribute of the editable.\n\t\t\t\t\tthis.changeAttr( 'tabindex', editor.tabIndex );\n\t\t\t\t}\n\n\t\t\t\t// The above is all we'll be doing for a <textarea> editable.\n\t\t\t\tif ( this.is( 'textarea' ) )\n\t\t\t\t\treturn;\n\n\t\t\t\t// The DOM document which the editing acts upon.\n\t\t\t\teditor.document = this.getDocument();\n\t\t\t\teditor.window = this.getWindow();\n\n\t\t\t\tvar doc = editor.document;\n\n\t\t\t\tthis.changeAttr( 'spellcheck', !editor.config.disableNativeSpellChecker );\n\n\t\t\t\t// Apply contents direction on demand, with original direction saved.\n\t\t\t\tvar dir = editor.config.contentsLangDirection;\n\t\t\t\tif ( this.getDirection( 1 ) != dir )\n\t\t\t\t\tthis.changeAttr( 'dir', dir );\n\n\t\t\t\t// Create the content stylesheet for this document.\n\t\t\t\tvar styles = CKEDITOR.getCss();\n\t\t\t\tif ( styles ) {\n\t\t\t\t\tvar head = doc.getHead(),\n\t\t\t\t\t\tstylesElement = head.getCustomData( 'stylesheet' );\n\n\t\t\t\t\tif ( !stylesElement ) {\n\t\t\t\t\t\tvar sheet = doc.appendStyleText( styles );\n\t\t\t\t\t\tsheet = new CKEDITOR.dom.element( sheet.ownerNode || sheet.owningElement );\n\t\t\t\t\t\thead.setCustomData( 'stylesheet', sheet );\n\t\t\t\t\t\tsheet.data( 'cke-temp', 1 );\n\t\t\t\t\t} else if ( styles != stylesElement.getText() ) {\n\t\t\t\t\t\tCKEDITOR.env.ie && CKEDITOR.env.version < 9 ? stylesElement.$.styleSheet.cssText = styles : stylesElement.setText( styles );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update the stylesheet sharing count.\n\t\t\t\tvar ref = doc.getCustomData( 'stylesheet_ref' ) || 0;\n\t\t\t\tdoc.setCustomData( 'stylesheet_ref', ref + 1 );\n\n\t\t\t\t// Pass this configuration to styles system.\n\t\t\t\tthis.setCustomData( 'cke_includeReadonly', !editor.config.disableReadonlyStyling );\n\n\t\t\t\t// Prevent the browser opening read-only links. (#6032 & #10912)\n\t\t\t\tthis.attachListener( this, 'click', function( evt ) {\n\t\t\t\t\tevt = evt.data;\n\n\t\t\t\t\tvar link = new CKEDITOR.dom.elementPath( evt.getTarget(), this ).contains( 'a' );\n\n\t\t\t\t\tif ( link && evt.$.button != 2 && link.isReadOnly() )\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t} );\n\n\t\t\t\tvar backspaceOrDelete = { 8: 1, 46: 1 };\n\n\t\t\t\t// Override keystrokes which should have deletion behavior\n\t\t\t\t//  on fully selected element . (#4047) (#7645)\n\t\t\t\tthis.attachListener( editor, 'key', function( evt ) {\n\t\t\t\t\tif ( editor.readOnly )\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t// Use getKey directly in order to ignore modifiers.\n\t\t\t\t\t// Justification: http://dev.ckeditor.com/ticket/11861#comment:13\n\t\t\t\t\tvar keyCode = evt.data.domEvent.getKey(),\n\t\t\t\t\t\tisHandled;\n\n\t\t\t\t\t// Backspace OR Delete.\n\t\t\t\t\tif ( keyCode in backspaceOrDelete ) {\n\t\t\t\t\t\tvar sel = editor.getSelection(),\n\t\t\t\t\t\t\tselected,\n\t\t\t\t\t\t\trange = sel.getRanges()[ 0 ],\n\t\t\t\t\t\t\tpath = range.startPath(),\n\t\t\t\t\t\t\tblock,\n\t\t\t\t\t\t\tparent,\n\t\t\t\t\t\t\tnext,\n\t\t\t\t\t\t\trtl = keyCode == 8;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t// [IE<11] Remove selected image/anchor/etc here to avoid going back in history. (#10055)\n\t\t\t\t\t\t\t\t( CKEDITOR.env.ie && CKEDITOR.env.version < 11 && ( selected = sel.getSelectedElement() ) ) ||\n\t\t\t\t\t\t\t\t// Remove the entire list/table on fully selected content. (#7645)\n\t\t\t\t\t\t\t\t( selected = getSelectedTableList( sel ) ) ) {\n\t\t\t\t\t\t\t// Make undo snapshot.\n\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\t\t// Delete any element that 'hasLayout' (e.g. hr,table) in IE8 will\n\t\t\t\t\t\t\t// break up the selection, safely manage it here. (#4795)\n\t\t\t\t\t\t\trange.moveToPosition( selected, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\t\t// Remove the control manually.\n\t\t\t\t\t\t\tselected.remove();\n\t\t\t\t\t\t\trange.select();\n\n\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\t\tisHandled = 1;\n\t\t\t\t\t\t} else if ( range.collapsed ) {\n\t\t\t\t\t\t\t// Handle the following special cases: (#6217)\n\t\t\t\t\t\t\t// 1. Del/Backspace key before/after table;\n\t\t\t\t\t\t\t// 2. Backspace Key after start of table.\n\t\t\t\t\t\t\tif ( ( block = path.block ) &&\n\t\t\t\t\t\t\t\t\t( next = block[ rtl ? 'getPrevious' : 'getNext' ]( isNotWhitespace ) ) &&\n\t\t\t\t\t\t\t\t\t( next.type == CKEDITOR.NODE_ELEMENT ) &&\n\t\t\t\t\t\t\t\t\tnext.is( 'table' ) &&\n\t\t\t\t\t\t\t\t\trange[ rtl ? 'checkStartOfBlock' : 'checkEndOfBlock' ]() ) {\n\t\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\t\t\t// Remove the current empty block.\n\t\t\t\t\t\t\t\tif ( range[ rtl ? 'checkEndOfBlock' : 'checkStartOfBlock' ]() )\n\t\t\t\t\t\t\t\t\tblock.remove();\n\n\t\t\t\t\t\t\t\t// Move cursor to the beginning/end of table cell.\n\t\t\t\t\t\t\t\trange[ 'moveToElementEdit' + ( rtl ? 'End' : 'Start' ) ]( next );\n\t\t\t\t\t\t\t\trange.select();\n\n\t\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\t\t\tisHandled = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if ( path.blockLimit && path.blockLimit.is( 'td' ) &&\n\t\t\t\t\t\t\t\t\t( parent = path.blockLimit.getAscendant( 'table' ) ) &&\n\t\t\t\t\t\t\t\t\trange.checkBoundaryOfElement( parent, rtl ? CKEDITOR.START : CKEDITOR.END ) &&\n\t\t\t\t\t\t\t\t\t( next = parent[ rtl ? 'getPrevious' : 'getNext' ]( isNotWhitespace ) ) ) {\n\t\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\t\t\t// Move cursor to the end of previous block.\n\t\t\t\t\t\t\t\trange[ 'moveToElementEdit' + ( rtl ? 'End' : 'Start' ) ]( next );\n\n\t\t\t\t\t\t\t\t// Remove any previous empty block.\n\t\t\t\t\t\t\t\tif ( range.checkStartOfBlock() && range.checkEndOfBlock() )\n\t\t\t\t\t\t\t\t\tnext.remove();\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\trange.select();\n\n\t\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\t\t\tisHandled = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// BACKSPACE/DEL pressed at the start/end of table cell.\n\t\t\t\t\t\t\telse if ( ( parent = path.contains( [ 'td', 'th', 'caption' ] ) ) &&\n\t\t\t\t\t\t\t\t\trange.checkBoundaryOfElement( parent, rtl ? CKEDITOR.START : CKEDITOR.END ) ) {\n\t\t\t\t\t\t\t\tisHandled = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn !isHandled;\n\t\t\t\t} );\n\n\t\t\t\t// On IE>=11 we need to fill blockless editable with <br> if it was deleted.\n\t\t\t\tif ( editor.blockless && CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller ) {\n\t\t\t\t\tthis.attachListener( this, 'keyup', function( evt ) {\n\t\t\t\t\t\tif ( evt.data.getKeystroke() in backspaceOrDelete && !this.getFirst( isNotEmpty ) ) {\n\t\t\t\t\t\t\tthis.appendBogus();\n\n\t\t\t\t\t\t\t// Set the selection before bogus, because IE tends to put it after.\n\t\t\t\t\t\t\tvar range = editor.createRange();\n\t\t\t\t\t\t\trange.moveToPosition( this, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\t\trange.select();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tthis.attachListener( this, 'dblclick', function( evt ) {\n\t\t\t\t\tif ( editor.readOnly )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tvar data = { element: evt.data.getTarget() };\n\t\t\t\t\teditor.fire( 'doubleclick', data );\n\t\t\t\t} );\n\n\t\t\t\t// Prevent automatic submission in IE #6336\n\t\t\t\tCKEDITOR.env.ie && this.attachListener( this, 'click', blockInputClick );\n\n\t\t\t\t// Gecko/Webkit need some help when selecting control type elements. (#3448)\n\t\t\t\t// We apply same behavior for IE Edge. (#13386)\n\t\t\t\tif ( !CKEDITOR.env.ie || CKEDITOR.env.edge ) {\n\t\t\t\t\tthis.attachListener( this, 'mousedown', function( ev ) {\n\t\t\t\t\t\tvar control = ev.data.getTarget();\n\t\t\t\t\t\t// #11727. Note: htmlDP assures that input/textarea/select have contenteditable=false\n\t\t\t\t\t\t// attributes. However, they also have data-cke-editable attribute, so isReadOnly() returns false,\n\t\t\t\t\t\t// and therefore those elements are correctly selected by this code.\n\t\t\t\t\t\tif ( control.is( 'img', 'hr', 'input', 'textarea', 'select' ) && !control.isReadOnly() ) {\n\t\t\t\t\t\t\teditor.getSelection().selectElement( control );\n\n\t\t\t\t\t\t\t// Prevent focus from stealing from the editable. (#9515)\n\t\t\t\t\t\t\tif ( control.is( 'input', 'textarea', 'select' ) )\n\t\t\t\t\t\t\t\tev.data.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// For some reason, after click event is done, IE Edge loses focus on the selected element. (#13386)\n\t\t\t\tif ( CKEDITOR.env.edge ) {\n\t\t\t\t\tthis.attachListener( this, 'mouseup', function( ev ) {\n\t\t\t\t\t\tvar selectedElement = ev.data.getTarget();\n\t\t\t\t\t\tif ( selectedElement && selectedElement.is( 'img' ) ) {\n\t\t\t\t\t\t\teditor.getSelection().selectElement( selectedElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Prevent right click from selecting an empty block even\n\t\t\t\t// when selection is anchored inside it. (#5845)\n\t\t\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\t\t\tthis.attachListener( this, 'mouseup', function( ev ) {\n\t\t\t\t\t\tif ( ev.data.$.button == 2 ) {\n\t\t\t\t\t\t\tvar target = ev.data.getTarget();\n\n\t\t\t\t\t\t\tif ( !target.getOuterHtml().replace( emptyParagraphRegexp, '' ) ) {\n\t\t\t\t\t\t\t\tvar range = editor.createRange();\n\t\t\t\t\t\t\t\trange.moveToElementEditStart( target );\n\t\t\t\t\t\t\t\trange.select( true );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Webkit: avoid from editing form control elements content.\n\t\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t\t// Prevent from tick checkbox/radiobox/select\n\t\t\t\t\tthis.attachListener( this, 'click', function( ev ) {\n\t\t\t\t\t\tif ( ev.data.getTarget().is( 'input', 'select' ) )\n\t\t\t\t\t\t\tev.data.preventDefault();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Prevent from editig textfield/textarea value.\n\t\t\t\t\tthis.attachListener( this, 'mouseup', function( ev ) {\n\t\t\t\t\t\tif ( ev.data.getTarget().is( 'input', 'textarea' ) )\n\t\t\t\t\t\t\tev.data.preventDefault();\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Prevent Webkit/Blink from going rogue when joining\n\t\t\t\t// blocks on BACKSPACE/DEL (#11861,#9998).\n\t\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t\tthis.attachListener( editor, 'key', function( evt ) {\n\t\t\t\t\t\tif ( editor.readOnly ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use getKey directly in order to ignore modifiers.\n\t\t\t\t\t\t// Justification: http://dev.ckeditor.com/ticket/11861#comment:13\n\t\t\t\t\t\tvar key = evt.data.domEvent.getKey();\n\n\t\t\t\t\t\tif ( !( key in backspaceOrDelete ) )\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\tvar backspace = key == 8,\n\t\t\t\t\t\t\trange = editor.getSelection().getRanges()[ 0 ],\n\t\t\t\t\t\t\tstartPath = range.startPath();\n\n\t\t\t\t\t\tif ( range.collapsed ) {\n\t\t\t\t\t\t\tif ( !mergeBlocksCollapsedSelection( editor, range, backspace, startPath ) )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( !mergeBlocksNonCollapsedSelection( editor, range, startPath ) )\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Scroll to the new position of the caret (#11960).\n\t\t\t\t\t\teditor.getSelection().scrollIntoView();\n\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}, this, null, 100 ); // Later is better – do not override existing listeners.\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_: {\n\t\t\tdetach: function() {\n\t\t\t\t// Update the editor cached data with current data.\n\t\t\t\tthis.editor.setData( this.editor.getData(), 0, 1 );\n\n\t\t\t\tthis.clearListeners();\n\t\t\t\tthis.restoreAttrs();\n\n\t\t\t\t// Cleanup our custom classes.\n\t\t\t\tvar classes;\n\t\t\t\tif ( ( classes = this.removeCustomData( 'classes' ) ) ) {\n\t\t\t\t\twhile ( classes.length )\n\t\t\t\t\t\tthis.removeClass( classes.pop() );\n\t\t\t\t}\n\n\t\t\t\t// Remove contents stylesheet from document if it's the last usage.\n\t\t\t\tif ( !this.is( 'textarea' ) ) {\n\t\t\t\t\tvar doc = this.getDocument(),\n\t\t\t\t\t\thead = doc.getHead();\n\t\t\t\t\tif ( head.getCustomData( 'stylesheet' ) ) {\n\t\t\t\t\t\tvar refs = doc.getCustomData( 'stylesheet_ref' );\n\t\t\t\t\t\tif ( !( --refs ) ) {\n\t\t\t\t\t\t\tdoc.removeCustomData( 'stylesheet_ref' );\n\t\t\t\t\t\t\tvar sheet = head.removeCustomData( 'stylesheet' );\n\t\t\t\t\t\t\tsheet.remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdoc.setCustomData( 'stylesheet_ref', refs );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.editor.fire( 'contentDomUnload' );\n\n\t\t\t\t// Free up the editor reference.\n\t\t\t\tdelete this.editor;\n\t\t\t}\n\t\t}\n\t} );\n\n\t/**\n\t * Creates, retrieves or detaches an editable element of the editor.\n\t * This method should always be used instead of calling {@link CKEDITOR.editable} directly.\n\t *\n\t * @method editable\n\t * @member CKEDITOR.editor\n\t * @param {CKEDITOR.dom.element/CKEDITOR.editable} elementOrEditable The\n\t * DOM element to become the editable or a {@link CKEDITOR.editable} object.\n\t */\n\tCKEDITOR.editor.prototype.editable = function( element ) {\n\t\tvar editable = this._.editable;\n\n\t\t// This editor has already associated with\n\t\t// an editable element, silently fails.\n\t\tif ( editable && element )\n\t\t\treturn 0;\n\n\t\tif ( arguments.length ) {\n\t\t\teditable = this._.editable = element ? ( element instanceof CKEDITOR.editable ? element : new CKEDITOR.editable( this, element ) ) :\n\t\t\t// Detach the editable from editor.\n\t\t\t( editable && editable.detach(), null );\n\t\t}\n\n\t\t// Just retrieve the editable.\n\t\treturn editable;\n\t};\n\n\tCKEDITOR.on( 'instanceLoaded', function( evt ) {\n\t\tvar editor = evt.editor;\n\n\t\t// and flag that the element was locked by our code so it'll be editable by the editor functions (#6046).\n\t\teditor.on( 'insertElement', function( evt ) {\n\t\t\tvar element = evt.data;\n\t\t\tif ( element.type == CKEDITOR.NODE_ELEMENT && ( element.is( 'input' ) || element.is( 'textarea' ) ) ) {\n\t\t\t\t// // The element is still not inserted yet, force attribute-based check.\n\t\t\t\tif ( element.getAttribute( 'contentEditable' ) != 'false' )\n\t\t\t\t\telement.data( 'cke-editable', element.hasAttribute( 'contenteditable' ) ? 'true' : '1' );\n\t\t\t\telement.setAttribute( 'contentEditable', false );\n\t\t\t}\n\t\t} );\n\n\t\teditor.on( 'selectionChange', function( evt ) {\n\t\t\tif ( editor.readOnly )\n\t\t\t\treturn;\n\n\t\t\t// Auto fixing on some document structure weakness to enhance usabilities. (#3190 and #3189)\n\t\t\tvar sel = editor.getSelection();\n\t\t\t// Do it only when selection is not locked. (#8222)\n\t\t\tif ( sel && !sel.isLocked ) {\n\t\t\t\tvar isDirty = editor.checkDirty();\n\n\t\t\t\t// Lock undoM before touching DOM to prevent\n\t\t\t\t// recording these changes as separate snapshot.\n\t\t\t\teditor.fire( 'lockSnapshot' );\n\t\t\t\tfixDom( evt );\n\t\t\t\teditor.fire( 'unlockSnapshot' );\n\n\t\t\t\t!isDirty && editor.resetDirty();\n\t\t\t}\n\t\t} );\n\t} );\n\n\tCKEDITOR.on( 'instanceCreated', function( evt ) {\n\t\tvar editor = evt.editor;\n\n\t\teditor.on( 'mode', function() {\n\n\t\t\tvar editable = editor.editable();\n\n\t\t\t// Setup proper ARIA roles and properties for inline editable, classic\n\t\t\t// (iframe-based) editable is instead handled by plugin.\n\t\t\tif ( editable && editable.isInline() ) {\n\n\t\t\t\tvar ariaLabel = editor.title;\n\n\t\t\t\teditable.changeAttr( 'role', 'textbox' );\n\t\t\t\teditable.changeAttr( 'aria-label', ariaLabel );\n\n\t\t\t\tif ( ariaLabel )\n\t\t\t\t\teditable.changeAttr( 'title', ariaLabel );\n\n\t\t\t\tvar helpLabel = editor.fire( 'ariaEditorHelpLabel', {} ).label;\n\t\t\t\tif ( helpLabel ) {\n\t\t\t\t\t// Put the voice label in different spaces, depending on element mode, so\n\t\t\t\t\t// the DOM element get auto detached on mode reload or editor destroy.\n\t\t\t\t\tvar ct = this.ui.space( this.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? 'top' : 'contents' );\n\t\t\t\t\tif ( ct ) {\n\t\t\t\t\t\tvar ariaDescId = CKEDITOR.tools.getNextId(),\n\t\t\t\t\t\t\tdesc = CKEDITOR.dom.element.createFromHtml( '<span id=\"' + ariaDescId + '\" class=\"cke_voice_label\">' + helpLabel + '</span>' );\n\t\t\t\t\t\tct.append( desc );\n\t\t\t\t\t\teditable.changeAttr( 'aria-describedby', ariaDescId );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// #9222: Show text cursor in Gecko.\n\t// Show default cursor over control elements on all non-IEs.\n\tCKEDITOR.addCss( '.cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}' );\n\n\t//\n\t//\n\t// Bazillion helpers for the editable class and above listeners.\n\t//\n\t//\n\n\tisNotWhitespace = CKEDITOR.dom.walker.whitespaces( true ),\n\tisNotBookmark = CKEDITOR.dom.walker.bookmark( false, true ),\n\tisEmpty = CKEDITOR.dom.walker.empty(),\n\tisBogus = CKEDITOR.dom.walker.bogus(),\n\t// Matching an empty paragraph at the end of document.\n\temptyParagraphRegexp = /(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi;\n\n\t// Auto-fixing block-less content by wrapping paragraph (#3190), prevent\n\t// non-exitable-block by padding extra br.(#3189)\n\t// Returns truly value when dom was changed, falsy otherwise.\n\tfunction fixDom( evt ) {\n\t\tvar editor = evt.editor,\n\t\t\tpath = evt.data.path,\n\t\t\tblockLimit = path.blockLimit,\n\t\t\tselection = evt.data.selection,\n\t\t\trange = selection.getRanges()[ 0 ],\n\t\t\tselectionUpdateNeeded;\n\n\t\tif ( CKEDITOR.env.gecko || ( CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller ) ) {\n\t\t\tvar blockNeedsFiller = needsBrFiller( selection, path );\n\t\t\tif ( blockNeedsFiller ) {\n\t\t\t\tblockNeedsFiller.appendBogus();\n\t\t\t\t// IE tends to place selection after appended bogus, so we need to\n\t\t\t\t// select the original range (placed before bogus).\n\t\t\t\tselectionUpdateNeeded = CKEDITOR.env.ie;\n\t\t\t}\n\t\t}\n\n\t\t// When we're in block enter mode, a new paragraph will be established\n\t\t// to encapsulate inline contents inside editable. (#3657)\n\t\t// Don't autoparagraph if browser (namely - IE) incorrectly anchored selection\n\t\t// inside non-editable content. This happens e.g. if non-editable block is the only\n\t\t// content of editable.\n\t\tif ( shouldAutoParagraph( editor, path.block, blockLimit ) && range.collapsed && !range.getCommonAncestor().isReadOnly() ) {\n\t\t\tvar testRng = range.clone();\n\t\t\ttestRng.enlarge( CKEDITOR.ENLARGE_BLOCK_CONTENTS );\n\t\t\tvar walker = new CKEDITOR.dom.walker( testRng );\n\t\t\twalker.guard = function( node ) {\n\t\t\t\treturn !isNotEmpty( node ) ||\n\t\t\t\t\tnode.type == CKEDITOR.NODE_COMMENT ||\n\t\t\t\t\tnode.isReadOnly();\n\t\t\t};\n\n\t\t\t// 1. Inline content discovered under cursor;\n\t\t\t// 2. Empty editable.\n\t\t\tif ( !walker.checkForward() || testRng.checkStartOfBlock() && testRng.checkEndOfBlock() ) {\n\t\t\t\tvar fixedBlock = range.fixBlock( true, editor.activeEnterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p' );\n\n\t\t\t\t// For IE<11, we should remove any filler node which was introduced before.\n\t\t\t\tif ( !CKEDITOR.env.needsBrFiller ) {\n\t\t\t\t\tvar first = fixedBlock.getFirst( isNotEmpty );\n\t\t\t\t\tif ( first && isNbsp( first ) )\n\t\t\t\t\t\tfirst.remove();\n\t\t\t\t}\n\n\t\t\t\tselectionUpdateNeeded = 1;\n\n\t\t\t\t// Cancel this selection change in favor of the next (correct). (#6811)\n\t\t\t\tevt.cancel();\n\t\t\t}\n\t\t}\n\n\t\tif ( selectionUpdateNeeded )\n\t\t\trange.select();\n\t}\n\n\t// Checks whether current selection requires br filler to be appended.\n\t// @returns Block which needs filler or falsy value.\n\tfunction needsBrFiller( selection, path ) {\n\t\t// Fake selection does not need filler, because it is fake.\n\t\tif ( selection.isFake )\n\t\t\treturn 0;\n\n\t\t// Ensure bogus br could help to move cursor (out of styles) to the end of block. (#7041)\n\t\tvar pathBlock = path.block || path.blockLimit,\n\t\t\tlastNode = pathBlock && pathBlock.getLast( isNotEmpty );\n\n\t\t// Check some specialities of the current path block:\n\t\t// 1. It is really displayed as block; (#7221)\n\t\t// 2. It doesn't end with one inner block; (#7467)\n\t\t// 3. It doesn't have bogus br yet.\n\t\tif (\n\t\t\tpathBlock && pathBlock.isBlockBoundary() &&\n\t\t\t!( lastNode && lastNode.type == CKEDITOR.NODE_ELEMENT && lastNode.isBlockBoundary() ) &&\n\t\t\t!pathBlock.is( 'pre' ) && !pathBlock.getBogus()\n\t\t)\n\t\t\treturn pathBlock;\n\t}\n\n\tfunction blockInputClick( evt ) {\n\t\tvar element = evt.data.getTarget();\n\t\tif ( element.is( 'input' ) ) {\n\t\t\tvar type = element.getAttribute( 'type' );\n\t\t\tif ( type == 'submit' || type == 'reset' )\n\t\t\t\tevt.data.preventDefault();\n\t\t}\n\t}\n\n\tfunction isNotEmpty( node ) {\n\t\treturn isNotWhitespace( node ) && isNotBookmark( node );\n\t}\n\n\tfunction isNbsp( node ) {\n\t\treturn node.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim( node.getText() ).match( /^(?:&nbsp;|\\xa0)$/ );\n\t}\n\n\tfunction isNotBubbling( fn, src ) {\n\t\treturn function( evt ) {\n\t\t\tvar other = evt.data.$.toElement || evt.data.$.fromElement || evt.data.$.relatedTarget;\n\n\t\t\t// First of all, other may simply be null/undefined.\n\t\t\t// Second of all, at least early versions of Spartan returned empty objects from evt.relatedTarget,\n\t\t\t// so let's also check the node type.\n\t\t\tother = ( other && other.nodeType == CKEDITOR.NODE_ELEMENT ) ? new CKEDITOR.dom.element( other ) : null;\n\n\t\t\tif ( !( other && ( src.equals( other ) || src.contains( other ) ) ) )\n\t\t\t\tfn.call( this, evt );\n\t\t};\n\t}\n\n\tfunction hasBookmarks( element ) {\n\t\t// We use getElementsByTag() instead of find() to retain compatibility with IE quirks mode.\n\t\tvar potentialBookmarks = element.getElementsByTag( 'span' ),\n\t\t\ti = 0,\n\t\t\tchild;\n\n\t\tif ( potentialBookmarks ) {\n\t\t\twhile ( ( child = potentialBookmarks.getItem( i++ ) ) ) {\n\t\t\t\tif ( !isNotBookmark( child ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Check if the entire table/list contents is selected.\n\tfunction getSelectedTableList( sel ) {\n\t\tvar selected,\n\t\t\trange = sel.getRanges()[ 0 ],\n\t\t\teditable = sel.root,\n\t\t\tpath = range.startPath(),\n\t\t\tstructural = { table: 1, ul: 1, ol: 1, dl: 1 };\n\n\t\tif ( path.contains( structural ) ) {\n\t\t\t// Clone the original range.\n\t\t\tvar walkerRng = range.clone();\n\n\t\t\t// Enlarge the range: X<ul><li>[Y]</li></ul>X => [X<ul><li>]Y</li></ul>X\n\t\t\twalkerRng.collapse( 1 );\n\t\t\twalkerRng.setStartAt( editable, CKEDITOR.POSITION_AFTER_START );\n\n\t\t\t// Create a new walker.\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRng );\n\n\t\t\t// Assign a new guard to the walker.\n\t\t\twalker.guard = guard();\n\n\t\t\t// Go backwards checking for selected structural node.\n\t\t\twalker.checkBackward();\n\n\t\t\t// If there's a selected structured element when checking backwards,\n\t\t\t// then check the same forwards.\n\t\t\tif ( selected ) {\n\t\t\t\t// Clone the original range.\n\t\t\t\twalkerRng = range.clone();\n\n\t\t\t\t// Enlarge the range (assuming <ul> is selected element from guard):\n\t\t\t\t//\n\t\t\t\t// \t   X<ul><li>[Y]</li></ul>X    =>    X<ul><li>Y[</li></ul>]X\n\t\t\t\t//\n\t\t\t\t// If the walker went deeper down DOM than a while ago when traversing\n\t\t\t\t// backwards, then it doesn't make sense: an element must be selected\n\t\t\t\t// symmetrically. By placing range end **after previously selected node**,\n\t\t\t\t// we make sure we don't go no deeper in DOM when going forwards.\n\t\t\t\twalkerRng.collapse();\n\t\t\t\twalkerRng.setEndAt( selected, CKEDITOR.POSITION_AFTER_END );\n\n\t\t\t\t// Create a new walker.\n\t\t\t\twalker = new CKEDITOR.dom.walker( walkerRng );\n\n\t\t\t\t// Assign a new guard to the walker.\n\t\t\t\twalker.guard = guard( true );\n\n\t\t\t\t// Reset selected node.\n\t\t\t\tselected = false;\n\n\t\t\t\t// Go forwards checking for selected structural node.\n\t\t\t\twalker.checkForward();\n\n\t\t\t\treturn selected;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\n\t\tfunction guard( forwardGuard ) {\n\t\t\treturn function( node, isWalkOut ) {\n\t\t\t\t// Save the encountered node as selected if going down the DOM structure\n\t\t\t\t// and the node is structured element.\n\t\t\t\tif ( isWalkOut && node.type == CKEDITOR.NODE_ELEMENT && node.is( structural ) )\n\t\t\t\t\tselected = node;\n\n\t\t\t\t// Stop the walker when either traversing another non-empty node at the same\n\t\t\t\t// DOM level as in previous step.\n\t\t\t\t// NOTE: When going forwards, stop if encountered a bogus.\n\t\t\t\tif ( !isWalkOut && isNotEmpty( node ) && !( forwardGuard && isBogus( node ) ) )\n\t\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\t}\n\n\t// Whether in given context (pathBlock, pathBlockLimit and editor settings)\n\t// editor should automatically wrap inline contents with blocks.\n\tfunction shouldAutoParagraph( editor, pathBlock, pathBlockLimit ) {\n\t\t// Check whether pathBlock equals pathBlockLimit to support nested editable (#12162).\n\t\treturn editor.config.autoParagraph !== false &&\n\t\t\teditor.activeEnterMode != CKEDITOR.ENTER_BR &&\n\t\t\t(\n\t\t\t\t( editor.editable().equals( pathBlockLimit ) && !pathBlock ) ||\n\t\t\t\t( pathBlock && pathBlock.getAttribute( 'contenteditable' ) == 'true' )\n\t\t\t);\n\t}\n\n\tfunction autoParagraphTag( editor ) {\n\t\treturn ( editor.activeEnterMode != CKEDITOR.ENTER_BR && editor.config.autoParagraph !== false ) ? editor.activeEnterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p' : false;\n\t}\n\n\t//\n\t// Functions related to insertXXX methods\n\t//\n\tinsert = ( function() {\n\t\t'use strict';\n\n\t\tvar DTD = CKEDITOR.dtd;\n\n\t\t// Inserts the given (valid) HTML into the range position (with range content deleted),\n\t\t// guarantee it's result to be a valid DOM tree.\n\t\tfunction insert( editable, type, data, range ) {\n\t\t\tvar editor = editable.editor,\n\t\t\t\tdontFilter = false;\n\n\t\t\tif ( type == 'unfiltered_html' ) {\n\t\t\t\ttype = 'html';\n\t\t\t\tdontFilter = true;\n\t\t\t}\n\n\t\t\t// Check range spans in non-editable.\n\t\t\tif ( range.checkReadOnly() )\n\t\t\t\treturn;\n\n\t\t\t// RANGE PREPARATIONS\n\n\t\t\tvar path = new CKEDITOR.dom.elementPath( range.startContainer, range.root ),\n\t\t\t\t// Let root be the nearest block that's impossible to be split\n\t\t\t\t// during html processing.\n\t\t\t\tblockLimit = path.blockLimit || range.root,\n\t\t\t\t// The \"state\" value.\n\t\t\t\tthat = {\n\t\t\t\t\ttype: type,\n\t\t\t\t\tdontFilter: dontFilter,\n\t\t\t\t\teditable: editable,\n\t\t\t\t\teditor: editor,\n\t\t\t\t\trange: range,\n\t\t\t\t\tblockLimit: blockLimit,\n\t\t\t\t\t// During pre-processing / preparations startContainer of affectedRange should be placed\n\t\t\t\t\t// in this element in which inserted or moved (in case when we merge blocks) content\n\t\t\t\t\t// could create situation that will need merging inline elements.\n\t\t\t\t\t// Examples:\n\t\t\t\t\t// <div><b>A</b>^B</div> + <b>C</b> => <div><b>A</b><b>C</b>B</div> - affected container is <div>.\n\t\t\t\t\t// <p><b>A[B</b></p><p><b>C]D</b></p> + E => <p><b>AE</b></p><p><b>D</b></p> =>\n\t\t\t\t\t//\t\t<p><b>AE</b><b>D</b></p> - affected container is <p> (in text mode).\n\t\t\t\t\tmergeCandidates: [],\n\t\t\t\t\tzombies: []\n\t\t\t\t};\n\n\t\t\tprepareRangeToDataInsertion( that );\n\n\t\t\t// DATA PROCESSING\n\n\t\t\t// Select range and stop execution.\n\t\t\t// If data has been totally emptied after the filtering,\n\t\t\t// any insertion is pointless (#10339).\n\t\t\tif ( data && processDataForInsertion( that, data ) ) {\n\t\t\t\t// DATA INSERTION\n\t\t\t\tinsertDataIntoRange( that );\n\t\t\t}\n\n\t\t\t// FINAL CLEANUP\n\t\t\t// Set final range position and clean up.\n\n\t\t\tcleanupAfterInsertion( that );\n\t\t}\n\n\t\t// Prepare range to its data deletion.\n\t\t// Delete its contents.\n\t\t// Prepare it to insertion.\n\t\tfunction prepareRangeToDataInsertion( that ) {\n\t\t\tvar range = that.range,\n\t\t\t\tmergeCandidates = that.mergeCandidates,\n\t\t\t\tnode, marker, path, startPath, endPath, previous, bm;\n\n\t\t\t// If range starts in inline element then insert a marker, so empty\n\t\t\t// inline elements won't be removed while range.deleteContents\n\t\t\t// and we will be able to move range back into this element.\n\t\t\t// E.g. 'aa<b>[bb</b>]cc' -> (after deleting) 'aa<b><span/></b>cc'\n\t\t\tif ( that.type == 'text' && range.shrink( CKEDITOR.SHRINK_ELEMENT, true, false ) ) {\n\t\t\t\tmarker = CKEDITOR.dom.element.createFromHtml( '<span>&nbsp;</span>', range.document );\n\t\t\t\trange.insertNode( marker );\n\t\t\t\trange.setStartAfter( marker );\n\t\t\t}\n\n\t\t\t// By using path we can recover in which element was startContainer\n\t\t\t// before deleting contents.\n\t\t\t// Start and endPathElements will be used to squash selected blocks, after removing\n\t\t\t// selection contents. See rule 5.\n\t\t\tstartPath = new CKEDITOR.dom.elementPath( range.startContainer );\n\t\t\tthat.endPath = endPath = new CKEDITOR.dom.elementPath( range.endContainer );\n\n\t\t\tif ( !range.collapsed ) {\n\t\t\t\t// Anticipate the possibly empty block at the end of range after deletion.\n\t\t\t\tnode = endPath.block || endPath.blockLimit;\n\t\t\t\tvar ancestor = range.getCommonAncestor();\n\t\t\t\tif ( node && !( node.equals( ancestor ) || node.contains( ancestor ) ) && range.checkEndOfBlock() ) {\n\t\t\t\t\tthat.zombies.push( node );\n\t\t\t\t}\n\n\t\t\t\trange.deleteContents();\n\t\t\t}\n\n\t\t\t// Rule 4.\n\t\t\t// Move range into the previous block.\n\t\t\twhile (\n\t\t\t\t( previous = getRangePrevious( range ) ) && checkIfElement( previous ) && previous.isBlockBoundary() &&\n\t\t\t\t// Check if previousNode was parent of range's startContainer before deleteContents.\n\t\t\t\tstartPath.contains( previous )\n\t\t\t)\n\t\t\t\trange.moveToPosition( previous, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\t// Rule 5.\n\t\t\tmergeAncestorElementsOfSelectionEnds( range, that.blockLimit, startPath, endPath );\n\n\t\t\t// Rule 1.\n\t\t\tif ( marker ) {\n\t\t\t\t// If marker was created then move collapsed range into its place.\n\t\t\t\trange.setEndBefore( marker );\n\t\t\t\trange.collapse();\n\t\t\t\tmarker.remove();\n\t\t\t}\n\n\t\t\t// Split inline elements so HTML will be inserted with its own styles.\n\t\t\tpath = range.startPath();\n\t\t\tif ( ( node = path.contains( isInline, false, 1 ) ) ) {\n\t\t\t\trange.splitElement( node );\n\t\t\t\tthat.inlineStylesRoot = node;\n\t\t\t\tthat.inlineStylesPeak = path.lastElement;\n\t\t\t}\n\n\t\t\t// Record inline merging candidates for later cleanup in place.\n\t\t\tbm = range.createBookmark();\n\n\t\t\t// 1. Inline siblings.\n\t\t\tnode = bm.startNode.getPrevious( isNotEmpty );\n\t\t\tnode && checkIfElement( node ) && isInline( node ) && mergeCandidates.push( node );\n\t\t\tnode = bm.startNode.getNext( isNotEmpty );\n\t\t\tnode && checkIfElement( node ) && isInline( node ) && mergeCandidates.push( node );\n\n\t\t\t// 2. Inline parents.\n\t\t\tnode = bm.startNode;\n\t\t\twhile ( ( node = node.getParent() ) && isInline( node ) )\n\t\t\t\tmergeCandidates.push( node );\n\n\t\t\trange.moveToBookmark( bm );\n\t\t}\n\n\t\tfunction processDataForInsertion( that, data ) {\n\t\t\tvar range = that.range;\n\n\t\t\t// Rule 8. - wrap entire data in inline styles.\n\t\t\t// (e.g. <p><b>x^z</b></p> + <p>a</p><p>b</p> -> <b><p>a</p><p>b</p></b>)\n\t\t\t// Incorrect tags order will be fixed by htmlDataProcessor.\n\t\t\tif ( that.type == 'text' && that.inlineStylesRoot )\n\t\t\t\tdata = wrapDataWithInlineStyles( data, that );\n\n\n\t\t\tvar context = that.blockLimit.getName();\n\n\t\t\t// Wrap data to be inserted, to avoid losing leading whitespaces\n\t\t\t// when going through the below procedure.\n\t\t\tif ( /^\\s+|\\s+$/.test( data ) && 'span' in CKEDITOR.dtd[ context ] ) {\n\t\t\t\tvar protect = '<span data-cke-marker=\"1\">&nbsp;</span>';\n\t\t\t\tdata =  protect + data + protect;\n\t\t\t}\n\n\t\t\t// Process the inserted html, in context of the insertion root.\n\t\t\t// Don't use the \"fix for body\" feature as auto paragraphing must\n\t\t\t// be handled during insertion.\n\t\t\tdata = that.editor.dataProcessor.toHtml( data, {\n\t\t\t\tcontext: null,\n\t\t\t\tfixForBody: false,\n\t\t\t\tprotectedWhitespaces: !!protect,\n\t\t\t\tdontFilter: that.dontFilter,\n\t\t\t\t// Use the current, contextual settings.\n\t\t\t\tfilter: that.editor.activeFilter,\n\t\t\t\tenterMode: that.editor.activeEnterMode\n\t\t\t} );\n\n\n\t\t\t// Build the node list for insertion.\n\t\t\tvar doc = range.document,\n\t\t\t\twrapper = doc.createElement( 'body' );\n\n\t\t\twrapper.setHtml( data );\n\n\t\t\t// Eventually remove the temporaries.\n\t\t\tif ( protect ) {\n\t\t\t\twrapper.getFirst().remove();\n\t\t\t\twrapper.getLast().remove();\n\t\t\t}\n\n\t\t\t// Rule 7.\n\t\t\tvar block = range.startPath().block;\n\t\t\tif ( block &&\t\t\t\t\t\t\t\t\t\t\t\t\t// Apply when there exists path block after deleting selection's content...\n\t\t\t\t!( block.getChildCount() == 1 && block.getBogus() ) ) {\t\t// ... and the only content of this block isn't a bogus.\n\t\t\t\tstripBlockTagIfSingleLine( wrapper );\n\t\t\t}\n\n\t\t\tthat.dataWrapper = wrapper;\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfunction insertDataIntoRange( that ) {\n\t\t\tvar range = that.range,\n\t\t\t\tdoc = range.document,\n\t\t\t\tpath,\n\t\t\t\tblockLimit = that.blockLimit,\n\t\t\t\tnodesData, nodeData, node,\n\t\t\t\tnodeIndex = 0,\n\t\t\t\tbogus,\n\t\t\t\tbogusNeededBlocks = [],\n\t\t\t\tpathBlock, fixBlock,\n\t\t\t\tsplittingContainer = 0,\n\t\t\t\tdontMoveCaret = 0,\n\t\t\t\tinsertionContainer, toSplit, newContainer,\n\t\t\t\tstartContainer = range.startContainer,\n\t\t\t\tendContainer = that.endPath.elements[ 0 ],\n\t\t\t\tfilteredNodes,\n\t\t\t\t// If endContainer was merged into startContainer: <p>a[b</p><p>c]d</p>\n\t\t\t\t// or it's equal to startContainer: <p>a^b</p>\n\t\t\t\t// or different situation happened :P\n\t\t\t\t// then there's no separate container for the end of selection.\n\t\t\t\tpos = endContainer.getPosition( startContainer ),\n\t\t\t\tseparateEndContainer = !!endContainer.getCommonAncestor( startContainer ) && // endC is not detached.\n\t\t\t\t\tpos != CKEDITOR.POSITION_IDENTICAL && !( pos & CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED ); // endC & endS are in separate branches.\n\n\t\t\tnodesData = extractNodesData( that.dataWrapper, that );\n\n\t\t\tremoveBrsAdjacentToPastedBlocks( nodesData, range );\n\n\t\t\tfor ( ; nodeIndex < nodesData.length; nodeIndex++ ) {\n\t\t\t\tnodeData = nodesData[ nodeIndex ];\n\n\t\t\t\t// Ignore trailing <brs>\n\t\t\t\tif ( nodeData.isLineBreak && splitOnLineBreak( range, blockLimit, nodeData ) ) {\n\t\t\t\t\t// Do not move caret towards the text (in cleanupAfterInsertion),\n\t\t\t\t\t// because caret was placed after a line break.\n\t\t\t\t\tdontMoveCaret = nodeIndex > 0;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tpath = range.startPath();\n\n\t\t\t\t// Auto paragraphing.\n\t\t\t\tif ( !nodeData.isBlock && shouldAutoParagraph( that.editor, path.block, path.blockLimit ) && ( fixBlock = autoParagraphTag( that.editor ) ) ) {\n\t\t\t\t\tfixBlock = doc.createElement( fixBlock );\n\t\t\t\t\tfixBlock.appendBogus();\n\t\t\t\t\trange.insertNode( fixBlock );\n\t\t\t\t\tif ( CKEDITOR.env.needsBrFiller && ( bogus = fixBlock.getBogus() ) )\n\t\t\t\t\t\tbogus.remove();\n\t\t\t\t\trange.moveToPosition( fixBlock, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t}\n\n\t\t\t\tnode = range.startPath().block;\n\n\t\t\t\t// Remove any bogus element on the current path block for now, and mark\n\t\t\t\t// it for later compensation.\n\t\t\t\tif ( node && !node.equals( pathBlock ) ) {\n\t\t\t\t\tbogus = node.getBogus();\n\t\t\t\t\tif ( bogus ) {\n\t\t\t\t\t\tbogus.remove();\n\t\t\t\t\t\tbogusNeededBlocks.push( node );\n\t\t\t\t\t}\n\n\t\t\t\t\tpathBlock = node;\n\t\t\t\t}\n\n\t\t\t\t// First not allowed node reached - start splitting original container\n\t\t\t\tif ( nodeData.firstNotAllowed )\n\t\t\t\t\tsplittingContainer = 1;\n\n\t\t\t\tif ( splittingContainer && nodeData.isElement ) {\n\t\t\t\t\tinsertionContainer = range.startContainer;\n\t\t\t\t\ttoSplit = null;\n\n\t\t\t\t\t// Find the first ancestor that can contain current node.\n\t\t\t\t\t// This one won't be split.\n\t\t\t\t\twhile ( insertionContainer && !DTD[ insertionContainer.getName() ][ nodeData.name ] ) {\n\t\t\t\t\t\tif ( insertionContainer.equals( blockLimit ) ) {\n\t\t\t\t\t\t\tinsertionContainer = null;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttoSplit = insertionContainer;\n\t\t\t\t\t\tinsertionContainer = insertionContainer.getParent();\n\t\t\t\t\t}\n\n\t\t\t\t\t// If split has to be done - do it and mark both ends as a possible zombies.\n\t\t\t\t\tif ( insertionContainer ) {\n\t\t\t\t\t\tif ( toSplit ) {\n\t\t\t\t\t\t\tnewContainer = range.splitElement( toSplit );\n\t\t\t\t\t\t\tthat.zombies.push( newContainer );\n\t\t\t\t\t\t\tthat.zombies.push( toSplit );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Unable to make the insertion happen in place, resort to the content filter.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// If everything worked fine insertionContainer == blockLimit here.\n\t\t\t\t\t\tfilteredNodes = filterElement( nodeData.node, blockLimit.getName(), !nodeIndex, nodeIndex == nodesData.length - 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( filteredNodes ) {\n\t\t\t\t\twhile ( ( node = filteredNodes.pop() ) )\n\t\t\t\t\t\trange.insertNode( node );\n\t\t\t\t\tfilteredNodes = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// Insert current node at the start of range.\n\t\t\t\t\trange.insertNode( nodeData.node );\n\t\t\t\t}\n\n\t\t\t\t// Move range to the endContainer for the final allowed elements.\n\t\t\t\tif ( nodeData.lastNotAllowed && nodeIndex < nodesData.length - 1 ) {\n\t\t\t\t\t// If separateEndContainer exists move range there.\n\t\t\t\t\t// Otherwise try to move range to container created during splitting.\n\t\t\t\t\t// If this doesn't work - don't move range.\n\t\t\t\t\tnewContainer = separateEndContainer ? endContainer : newContainer;\n\t\t\t\t\tnewContainer && range.setEndAt( newContainer, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\tsplittingContainer = 0;\n\t\t\t\t}\n\n\t\t\t\t// Collapse range after insertion to end.\n\t\t\t\trange.collapse();\n\t\t\t}\n\n\t\t\t// Rule 9. Non-editable content should be selected as a whole.\n\t\t\tif ( isSingleNonEditableElement( nodesData ) ) {\n\t\t\t\tdontMoveCaret = true;\n\t\t\t\tnode = nodesData[ 0 ].node;\n\t\t\t\trange.setStartAt( node, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\trange.setEndAt( node, CKEDITOR.POSITION_AFTER_END );\n\t\t\t}\n\n\t\t\tthat.dontMoveCaret = dontMoveCaret;\n\t\t\tthat.bogusNeededBlocks = bogusNeededBlocks;\n\t\t}\n\n\t\tfunction cleanupAfterInsertion( that ) {\n\t\t\tvar range = that.range,\n\t\t\t\tnode, testRange, movedIntoInline,\n\t\t\t\tbogusNeededBlocks = that.bogusNeededBlocks,\n\t\t\t\t// Create a bookmark to defend against the following range deconstructing operations.\n\t\t\t\tbm = range.createBookmark();\n\n\t\t\t// Remove all elements that could be created while splitting nodes\n\t\t\t// with ranges at its start|end.\n\t\t\t// E.g. remove <div><p></p></div>\n\t\t\t// But not <div><p> </p></div>\n\t\t\t// And replace <div><p><span data=\"cke-bookmark\"/></p></div> with found bookmark.\n\t\t\twhile ( ( node = that.zombies.pop() ) ) {\n\t\t\t\t// Detached element.\n\t\t\t\tif ( !node.getParent() )\n\t\t\t\t\tcontinue;\n\n\t\t\t\ttestRange = range.clone();\n\t\t\t\ttestRange.moveToElementEditStart( node );\n\t\t\t\ttestRange.removeEmptyBlocksAtEnd();\n\t\t\t}\n\n\t\t\tif ( bogusNeededBlocks ) {\n\t\t\t\t// Bring back all block bogus nodes.\n\t\t\t\twhile ( ( node = bogusNeededBlocks.pop() ) ) {\n\t\t\t\t\tif ( CKEDITOR.env.needsBrFiller )\n\t\t\t\t\t\tnode.appendBogus();\n\t\t\t\t\telse\n\t\t\t\t\t\tnode.append( range.document.createText( '\\u00a0' ) );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Eventually merge identical inline elements.\n\t\t\twhile ( ( node = that.mergeCandidates.pop() ) )\n\t\t\t\tnode.mergeSiblings();\n\n\t\t\trange.moveToBookmark( bm );\n\n\t\t\t// Rule 3.\n\t\t\t// Shrink range to the BEFOREEND of previous innermost editable node in source order.\n\n\t\t\tif ( !that.dontMoveCaret ) {\n\t\t\t\tnode = getRangePrevious( range );\n\n\t\t\t\twhile ( node && checkIfElement( node ) && !node.is( DTD.$empty ) ) {\n\t\t\t\t\tif ( node.isBlockBoundary() )\n\t\t\t\t\t\trange.moveToPosition( node, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Don't move into inline element (which ends with a text node)\n\t\t\t\t\t\t// found which contains white-space at its end.\n\t\t\t\t\t\t// If not - move range's end to the end of this element.\n\t\t\t\t\t\tif ( isInline( node ) && node.getHtml().match( /(\\s|&nbsp;)$/g ) ) {\n\t\t\t\t\t\t\tmovedIntoInline = null;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmovedIntoInline = range.clone();\n\t\t\t\t\t\tmovedIntoInline.moveToPosition( node, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\t}\n\n\t\t\t\t\tnode = node.getLast( isNotEmpty );\n\t\t\t\t}\n\n\t\t\t\tmovedIntoInline && range.moveToRange( movedIntoInline );\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// HELPERS ------------------------------------------------------------\n\t\t//\n\n\t\tfunction checkIfElement( node ) {\n\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT;\n\t\t}\n\n\t\tfunction extractNodesData( dataWrapper, that ) {\n\t\t\tvar node, sibling, nodeName, allowed,\n\t\t\t\tnodesData = [],\n\t\t\t\tstartContainer = that.range.startContainer,\n\t\t\t\tpath = that.range.startPath(),\n\t\t\t\tallowedNames = DTD[ startContainer.getName() ],\n\t\t\t\tnodeIndex = 0,\n\t\t\t\tnodesList = dataWrapper.getChildren(),\n\t\t\t\tnodesCount = nodesList.count(),\n\t\t\t\tfirstNotAllowed = -1,\n\t\t\t\tlastNotAllowed = -1,\n\t\t\t\tlineBreak = 0,\n\t\t\t\tblockSibling;\n\n\t\t\t// Selection start within a list.\n\t\t\tvar insideOfList = path.contains( DTD.$list );\n\n\t\t\tfor ( ; nodeIndex < nodesCount; ++nodeIndex ) {\n\t\t\t\tnode = nodesList.getItem( nodeIndex );\n\n\t\t\t\tif ( checkIfElement( node ) ) {\n\t\t\t\t\tnodeName = node.getName();\n\n\t\t\t\t\t// Extract only the list items, when insertion happens\n\t\t\t\t\t// inside of a list, reads as rearrange list items. (#7957)\n\t\t\t\t\tif ( insideOfList && nodeName in CKEDITOR.dtd.$list ) {\n\t\t\t\t\t\tnodesData = nodesData.concat( extractNodesData( node, that ) );\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tallowed = !!allowedNames[ nodeName ];\n\n\t\t\t\t\t// Mark <brs data-cke-eol=\"1\"> at the beginning and at the end.\n\t\t\t\t\tif ( nodeName == 'br' && node.data( 'cke-eol' ) && ( !nodeIndex || nodeIndex == nodesCount - 1 ) ) {\n\t\t\t\t\t\tsibling = nodeIndex ? nodesData[ nodeIndex - 1 ].node : nodesList.getItem( nodeIndex + 1 );\n\n\t\t\t\t\t\t// Line break has to have sibling which is not an <br>.\n\t\t\t\t\t\tlineBreak = sibling && ( !checkIfElement( sibling ) || !sibling.is( 'br' ) );\n\t\t\t\t\t\t// Line break has block element as a sibling.\n\t\t\t\t\t\tblockSibling = sibling && checkIfElement( sibling ) && DTD.$block[ sibling.getName() ];\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( firstNotAllowed == -1 && !allowed )\n\t\t\t\t\t\tfirstNotAllowed = nodeIndex;\n\t\t\t\t\tif ( !allowed )\n\t\t\t\t\t\tlastNotAllowed = nodeIndex;\n\n\t\t\t\t\tnodesData.push( {\n\t\t\t\t\t\tisElement: 1,\n\t\t\t\t\t\tisLineBreak: lineBreak,\n\t\t\t\t\t\tisBlock: node.isBlockBoundary(),\n\t\t\t\t\t\thasBlockSibling: blockSibling,\n\t\t\t\t\t\tnode: node,\n\t\t\t\t\t\tname: nodeName,\n\t\t\t\t\t\tallowed: allowed\n\t\t\t\t\t} );\n\n\t\t\t\t\tlineBreak = 0;\n\t\t\t\t\tblockSibling = 0;\n\t\t\t\t} else {\n\t\t\t\t\tnodesData.push( { isElement: 0, node: node, allowed: 1 } );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Mark first node that cannot be inserted directly into startContainer\n\t\t\t// and last node for which startContainer has to be split.\n\t\t\tif ( firstNotAllowed > -1 )\n\t\t\t\tnodesData[ firstNotAllowed ].firstNotAllowed = 1;\n\t\t\tif ( lastNotAllowed > -1 )\n\t\t\t\tnodesData[ lastNotAllowed ].lastNotAllowed = 1;\n\n\t\t\treturn nodesData;\n\t\t}\n\n\t\t// TODO: Review content transformation rules on filtering element.\n\t\tfunction filterElement( element, parentName, isFirst, isLast ) {\n\t\t\tvar nodes = filterElementInner( element, parentName ),\n\t\t\t\tnodes2 = [],\n\t\t\t\tnodesCount = nodes.length,\n\t\t\t\tnodeIndex = 0,\n\t\t\t\tnode,\n\t\t\t\tafterSpace = 0,\n\t\t\t\tlastSpaceIndex = -1;\n\n\t\t\t// Remove duplicated spaces and spaces at the:\n\t\t\t// * beginnig if filtered element isFirst (isFirst that's going to be inserted)\n\t\t\t// * end if filtered element isLast.\n\t\t\tfor ( ; nodeIndex < nodesCount; nodeIndex++ ) {\n\t\t\t\tnode = nodes[ nodeIndex ];\n\n\t\t\t\tif ( node == ' ' ) {\n\t\t\t\t\t// Don't push doubled space and if it's leading space for insertion.\n\t\t\t\t\tif ( !afterSpace && !( isFirst && !nodeIndex ) ) {\n\t\t\t\t\t\tnodes2.push( new CKEDITOR.dom.text( ' ' ) );\n\t\t\t\t\t\tlastSpaceIndex = nodes2.length;\n\t\t\t\t\t}\n\t\t\t\t\tafterSpace = 1;\n\t\t\t\t} else {\n\t\t\t\t\tnodes2.push( node );\n\t\t\t\t\tafterSpace = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove trailing space.\n\t\t\tif ( isLast && lastSpaceIndex == nodes2.length )\n\t\t\t\tnodes2.pop();\n\n\t\t\treturn nodes2;\n\t\t}\n\n\t\tfunction filterElementInner( element, parentName ) {\n\t\t\tvar nodes = [],\n\t\t\t\tchildren = element.getChildren(),\n\t\t\t\tchildrenCount = children.count(),\n\t\t\t\tchild,\n\t\t\t\tchildIndex = 0,\n\t\t\t\tallowedNames = DTD[ parentName ],\n\t\t\t\tsurroundBySpaces = !element.is( DTD.$inline ) || element.is( 'br' );\n\n\t\t\tif ( surroundBySpaces )\n\t\t\t\tnodes.push( ' ' );\n\n\t\t\tfor ( ; childIndex < childrenCount; childIndex++ ) {\n\t\t\t\tchild = children.getItem( childIndex );\n\n\t\t\t\tif ( checkIfElement( child ) && !child.is( allowedNames ) )\n\t\t\t\t\tnodes = nodes.concat( filterElementInner( child, parentName ) );\n\t\t\t\telse\n\t\t\t\t\tnodes.push( child );\n\t\t\t}\n\n\t\t\tif ( surroundBySpaces )\n\t\t\t\tnodes.push( ' ' );\n\n\t\t\treturn nodes;\n\t\t}\n\n\t\tfunction getRangePrevious( range ) {\n\t\t\treturn checkIfElement( range.startContainer ) && range.startContainer.getChild( range.startOffset - 1 );\n\t\t}\n\n\t\tfunction isInline( node ) {\n\t\t\treturn node && checkIfElement( node ) && ( node.is( DTD.$removeEmpty ) || node.is( 'a' ) && !node.isBlockBoundary() );\n\t\t}\n\n\t\t// Checks if only non-editable element is being inserted.\n\t\tfunction isSingleNonEditableElement( nodesData ) {\n\t\t\tif ( nodesData.length != 1 )\n\t\t\t\treturn false;\n\n\t\t\tvar nodeData = nodesData[ 0 ];\n\n\t\t\treturn nodeData.isElement && ( nodeData.node.getAttribute( 'contenteditable' ) == 'false' );\n\t\t}\n\n\t\tvar blockMergedTags = { p: 1, div: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, ul: 1, ol: 1, li: 1, pre: 1, dl: 1, blockquote: 1 };\n\n\t\t// See rule 5. in TCs.\n\t\t// Initial situation:\n\t\t// <ul><li>AA^</li></ul><ul><li>BB</li></ul>\n\t\t// We're looking for 2nd <ul>, comparing with 1st <ul> and merging.\n\t\t// We're not merging if caret is between these elements.\n\t\tfunction mergeAncestorElementsOfSelectionEnds( range, blockLimit, startPath, endPath ) {\n\t\t\tvar walkerRange = range.clone(),\n\t\t\t\twalker, nextNode, previousNode;\n\n\t\t\twalkerRange.setEndAt( blockLimit, CKEDITOR.POSITION_BEFORE_END );\n\t\t\twalker = new CKEDITOR.dom.walker( walkerRange );\n\n\t\t\tif ( ( nextNode = walker.next() ) &&\t\t\t\t\t\t\t// Find next source node\n\t\t\t\tcheckIfElement( nextNode ) &&\t\t\t\t\t\t\t\t// which is an element\n\t\t\t\tblockMergedTags[ nextNode.getName() ] &&\t\t\t\t\t// that can be merged.\n\t\t\t\t( previousNode = nextNode.getPrevious() ) &&\t\t\t\t// Take previous one\n\t\t\t\tcheckIfElement( previousNode ) &&\t\t\t\t\t\t\t// which also has to be an element.\n\t\t\t\t!previousNode.getParent().equals( range.startContainer ) && // Fail if caret is on the same level.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// This means that caret is between these nodes.\n\t\t\t\tstartPath.contains( previousNode ) &&\t\t\t\t\t\t// Elements path of start of selection has\n\t\t\t\tendPath.contains( nextNode ) &&\t\t\t\t\t\t\t\t// to contain prevNode and vice versa.\n\t\t\t\tnextNode.isIdentical( previousNode )\t\t\t\t\t\t// Check if elements are identical.\n\t\t\t) {\n\t\t\t\t// Merge blocks and repeat.\n\t\t\t\tnextNode.moveChildren( previousNode );\n\t\t\t\tnextNode.remove();\n\t\t\t\tmergeAncestorElementsOfSelectionEnds( range, blockLimit, startPath, endPath );\n\t\t\t}\n\t\t}\n\n\t\t// If last node that will be inserted is a block (but not a <br>)\n\t\t// and it will be inserted right before <br> remove this <br>.\n\t\t// Do the same for the first element that will be inserted and preceding <br>.\n\t\tfunction removeBrsAdjacentToPastedBlocks( nodesData, range ) {\n\t\t\tvar succeedingNode = range.endContainer.getChild( range.endOffset ),\n\t\t\t\tprecedingNode = range.endContainer.getChild( range.endOffset - 1 );\n\n\t\t\tif ( succeedingNode )\n\t\t\t\tremove( succeedingNode, nodesData[ nodesData.length - 1 ] );\n\n\t\t\tif ( precedingNode && remove( precedingNode, nodesData[ 0 ] ) ) {\n\t\t\t\t// If preceding <br> was removed - move range left.\n\t\t\t\trange.setEnd( range.endContainer, range.endOffset - 1 );\n\t\t\t\trange.collapse();\n\t\t\t}\n\n\t\t\tfunction remove( maybeBr, maybeBlockData ) {\n\t\t\t\tif ( maybeBlockData.isBlock && maybeBlockData.isElement && !maybeBlockData.node.is( 'br' ) &&\n\t\t\t\t\tcheckIfElement( maybeBr ) && maybeBr.is( 'br' ) ) {\n\t\t\t\t\tmaybeBr.remove();\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Return 1 if <br> should be skipped when inserting, 0 otherwise.\n\t\tfunction splitOnLineBreak( range, blockLimit, nodeData ) {\n\t\t\tvar firstBlockAscendant, pos;\n\n\t\t\tif ( nodeData.hasBlockSibling )\n\t\t\t\treturn 1;\n\n\t\t\tfirstBlockAscendant = range.startContainer.getAscendant( DTD.$block, 1 );\n\t\t\tif ( !firstBlockAscendant || !firstBlockAscendant.is( { div: 1, p: 1 } ) )\n\t\t\t\treturn 0;\n\n\t\t\tpos = firstBlockAscendant.getPosition( blockLimit );\n\n\t\t\tif ( pos == CKEDITOR.POSITION_IDENTICAL || pos == CKEDITOR.POSITION_CONTAINS )\n\t\t\t\treturn 0;\n\n\t\t\tvar newContainer = range.splitElement( firstBlockAscendant );\n\t\t\trange.moveToPosition( newContainer, CKEDITOR.POSITION_AFTER_START );\n\n\t\t\treturn 1;\n\t\t}\n\n\t\tvar stripSingleBlockTags = { p: 1, div: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1 },\n\t\t\tinlineButNotBr = CKEDITOR.tools.extend( {}, DTD.$inline );\n\t\tdelete inlineButNotBr.br;\n\n\t\t// Rule 7.\n\t\tfunction stripBlockTagIfSingleLine( dataWrapper ) {\n\t\t\tvar block, children;\n\n\t\t\tif ( dataWrapper.getChildCount() == 1 &&\t\t\t\t\t// Only one node bein inserted.\n\t\t\t\tcheckIfElement( block = dataWrapper.getFirst() ) &&\t\t// And it's an element.\n\t\t\t\tblock.is( stripSingleBlockTags ) &&\t\t\t\t\t\t// That's <p> or <div> or header.\n\t\t\t\t!block.hasAttribute( 'contenteditable' )\t\t\t\t// It's not a non-editable block or nested editable.\n\t\t\t) {\n\t\t\t\t// Check children not containing block.\n\t\t\t\tchildren = block.getElementsByTag( '*' );\n\t\t\t\tfor ( var i = 0, child, count = children.count(); i < count; i++ ) {\n\t\t\t\t\tchild = children.getItem( i );\n\t\t\t\t\tif ( !child.is( inlineButNotBr ) )\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tblock.moveChildren( block.getParent( 1 ) );\n\t\t\t\tblock.remove();\n\t\t\t}\n\t\t}\n\n\t\tfunction wrapDataWithInlineStyles( data, that ) {\n\t\t\tvar element = that.inlineStylesPeak,\n\t\t\t\tdoc = element.getDocument(),\n\t\t\t\twrapper = doc.createText( '{cke-peak}' ),\n\t\t\t\tlimit = that.inlineStylesRoot.getParent();\n\n\t\t\twhile ( !element.equals( limit ) ) {\n\t\t\t\twrapper = wrapper.appendTo( element.clone() );\n\t\t\t\telement = element.getParent();\n\t\t\t}\n\n\t\t\t// Don't use String.replace because it fails in IE7 if special replacement\n\t\t\t// characters ($$, $&, etc.) are in data (#10367).\n\t\t\treturn wrapper.getOuterHtml().split( '{cke-peak}' ).join( data );\n\t\t}\n\n\t\treturn insert;\n\t} )();\n\n\tfunction afterInsert( editable ) {\n\t\tvar editor = editable.editor;\n\n\t\t// Scroll using selection, not ranges, to affect native pastes.\n\t\teditor.getSelection().scrollIntoView();\n\n\t\t// Save snaps after the whole execution completed.\n\t\t// This's a workaround for make DOM modification's happened after\n\t\t// 'insertElement' to be included either, e.g. Form-based dialogs' 'commitContents'\n\t\t// call.\n\t\tsetTimeout( function() {\n\t\t\teditor.fire( 'saveSnapshot' );\n\t\t}, 0 );\n\t}\n\n\t// 1. Fixes a range which is a result of deleteContents() and is placed in an intermediate element (see dtd.$intermediate),\n\t// inside a table. A goal is to find a closest <td> or <th> element and when this fails, recreate the structure of the table.\n\t// 2. Fixes empty cells by appending bogus <br>s or deleting empty text nodes in IE<=8 case.\n\tfixTableAfterContentsDeletion = ( function() {\n\t\t// Creates an element walker which can only \"go deeper\". It won't\n\t\t// move out from any element. Therefore it can be used to find <td>x</td> in cases like:\n\t\t// <table><tbody><tr><td>x</td></tr></tbody>^<tfoot>...\n\t\tfunction getFixTableSelectionWalker( testRange ) {\n\t\t\tvar walker = new CKEDITOR.dom.walker( testRange );\n\t\t\twalker.guard = function( node, isMovingOut ) {\n\t\t\t\tif ( isMovingOut )\n\t\t\t\t\treturn false;\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\treturn node.is( CKEDITOR.dtd.$tableContent );\n\t\t\t};\n\t\t\twalker.evaluator = function( node ) {\n\t\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT;\n\t\t\t};\n\n\t\t\treturn walker;\n\t\t}\n\n\t\tfunction fixTableStructure( element, newElementName, appendToStart ) {\n\t\t\tvar temp = element.getDocument().createElement( newElementName );\n\t\t\telement.append( temp, appendToStart );\n\t\t\treturn temp;\n\t\t}\n\n\t\t// Fix empty cells. This means:\n\t\t// * add bogus <br> if browser needs it\n\t\t// * remove empty text nodes on IE8, because it will crash (http://dev.ckeditor.com/ticket/11183#comment:8).\n\t\tfunction fixEmptyCells( cells ) {\n\t\t\tvar i = cells.count(),\n\t\t\t\tcell;\n\n\t\t\tfor ( i; i-- > 0; ) {\n\t\t\t\tcell = cells.getItem( i );\n\n\t\t\t\tif ( !CKEDITOR.tools.trim( cell.getHtml() ) ) {\n\t\t\t\t\tcell.appendBogus();\n\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 && cell.getChildCount() )\n\t\t\t\t\t\tcell.getFirst().remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn function( range ) {\n\t\t\tvar container = range.startContainer,\n\t\t\t\ttable = container.getAscendant( 'table', 1 ),\n\t\t\t\ttestRange,\n\t\t\t\tdeeperSibling,\n\t\t\t\tappendToStart = false;\n\n\t\t\tfixEmptyCells( table.getElementsByTag( 'td' ) );\n\t\t\tfixEmptyCells( table.getElementsByTag( 'th' ) );\n\n\t\t\t// Look left.\n\t\t\ttestRange = range.clone();\n\t\t\ttestRange.setStart( container, 0 );\n\t\t\tdeeperSibling = getFixTableSelectionWalker( testRange ).lastBackward();\n\n\t\t\t// If left is empty, look right.\n\t\t\tif ( !deeperSibling ) {\n\t\t\t\ttestRange = range.clone();\n\t\t\t\ttestRange.setEndAt( container, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\tdeeperSibling = getFixTableSelectionWalker( testRange ).lastForward();\n\t\t\t\tappendToStart = true;\n\t\t\t}\n\n\t\t\t// If there's no deeper nested element in both direction - container is empty - we'll use it then.\n\t\t\tif ( !deeperSibling )\n\t\t\t\tdeeperSibling = container;\n\n\t\t\t// Fix structure...\n\n\t\t\t// We found a table what means that it's empty - remove it completely.\n\t\t\tif ( deeperSibling.is( 'table' ) ) {\n\t\t\t\trange.setStartAt( deeperSibling, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\trange.collapse( true );\n\t\t\t\tdeeperSibling.remove();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Found an empty txxx element - append tr.\n\t\t\tif ( deeperSibling.is( { tbody: 1, thead: 1, tfoot: 1 } ) )\n\t\t\t\tdeeperSibling = fixTableStructure( deeperSibling, 'tr', appendToStart );\n\n\t\t\t// Found an empty tr element - append td/th.\n\t\t\tif ( deeperSibling.is( 'tr' ) )\n\t\t\t\tdeeperSibling = fixTableStructure( deeperSibling, deeperSibling.getParent().is( 'thead' ) ? 'th' : 'td', appendToStart );\n\n\t\t\t// To avoid setting selection after bogus, remove it from the current cell.\n\t\t\t// We can safely do that, because we'll insert element into that cell.\n\t\t\tvar bogus = deeperSibling.getBogus();\n\t\t\tif ( bogus )\n\t\t\t\tbogus.remove();\n\n\t\t\trange.moveToPosition( deeperSibling, appendToStart ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END );\n\t\t};\n\t} )();\n\n\tfunction mergeBlocksCollapsedSelection( editor, range, backspace, startPath ) {\n\t\tvar startBlock = startPath.block;\n\n\t\t// Selection must be collapsed and to be anchored in a block.\n\t\tif ( !startBlock )\n\t\t\treturn false;\n\n\t\t// Exclude cases where, i.e. if pressed arrow key, selection\n\t\t// would move within the same block (merge inside a block).\n\t\tif ( !range[ backspace ? 'checkStartOfBlock' : 'checkEndOfBlock' ]() )\n\t\t\treturn false;\n\n\t\t// Make sure, there's an editable position to put selection,\n\t\t// which i.e. would be used if pressed arrow key, but abort\n\t\t// if such position exists but means a selected non-editable element.\n\t\tif ( !range.moveToClosestEditablePosition( startBlock, !backspace ) || !range.collapsed )\n\t\t\treturn false;\n\n\t\t// Handle special case, when block's sibling is a <hr>. Delete it and keep selection\n\t\t// in the same place (http://dev.ckeditor.com/ticket/11861#comment:9).\n\t\tif ( range.startContainer.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\tvar touched = range.startContainer.getChild( range.startOffset - ( backspace ? 1 : 0 ) );\n\t\t\tif ( touched && touched.type  == CKEDITOR.NODE_ELEMENT && touched.is( 'hr' ) ) {\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\ttouched.remove();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tvar siblingBlock = range.startPath().block;\n\n\t\t// Abort if an editable position exists, but either it's not\n\t\t// in a block or that block is the parent of the start block\n\t\t// (merging child into parent).\n\t\tif ( !siblingBlock || ( siblingBlock && siblingBlock.contains( startBlock ) ) )\n\t\t\treturn;\n\n\t\teditor.fire( 'saveSnapshot' );\n\n\t\t// Remove bogus to avoid duplicated boguses.\n\t\tvar bogus;\n\t\tif ( ( bogus = ( backspace ? siblingBlock : startBlock ).getBogus() ) )\n\t\t\tbogus.remove();\n\n\t\t// Save selection. It will be restored.\n\t\tvar selection = editor.getSelection(),\n\t\t\tbookmarks = selection.createBookmarks();\n\n\t\t// Merge blocks.\n\t\t( backspace ? startBlock : siblingBlock ).moveChildren( backspace ? siblingBlock : startBlock, false );\n\n\t\t// Also merge children along with parents.\n\t\tstartPath.lastElement.mergeSiblings();\n\n\t\t// Cut off removable branch of the DOM tree.\n\t\tpruneEmptyDisjointAncestors( startBlock, siblingBlock, !backspace );\n\n\t\t// Restore selection.\n\t\tselection.selectBookmarks( bookmarks );\n\n\t\treturn true;\n\t}\n\n\tfunction mergeBlocksNonCollapsedSelection( editor, range, startPath ) {\n\t\tvar startBlock = startPath.block,\n\t\t\tendPath = range.endPath(),\n\t\t\tendBlock = endPath.block;\n\n\t\t// Selection must be anchored in two different blocks.\n\t\tif ( !startBlock || !endBlock || startBlock.equals( endBlock ) )\n\t\t\treturn false;\n\n\t\teditor.fire( 'saveSnapshot' );\n\n\t\t// Remove bogus to avoid duplicated boguses.\n\t\tvar bogus;\n\t\tif ( ( bogus = startBlock.getBogus() ) )\n\t\t\tbogus.remove();\n\n\t\t// Changing end container to element from text node (#12503).\n\t\trange.enlarge( CKEDITOR.ENLARGE_INLINE );\n\n\t\t// Delete range contents. Do NOT merge. Merging is weird.\n\t\trange.deleteContents();\n\n\t\t// If something has left of the block to be merged, clean it up.\n\t\t// It may happen when merging with list items.\n\t\tif ( endBlock.getParent() ) {\n\t\t\t// Move children to the first block.\n\t\t\tendBlock.moveChildren( startBlock, false );\n\n\t\t\t// ...and merge them if that's possible.\n\t\t\tstartPath.lastElement.mergeSiblings();\n\n\t\t\t// If expanded selection, things are always merged like with BACKSPACE.\n\t\t\tpruneEmptyDisjointAncestors( startBlock, endBlock, true );\n\t\t}\n\n\t\t// Make sure the result selection is collapsed.\n\t\trange = editor.getSelection().getRanges()[ 0 ];\n\t\trange.collapse( 1 );\n\n\t\t// Optimizing range containers from text nodes to elements (#12503).\n\t\trange.optimize();\n\t\tif ( range.startContainer.getHtml() === '' ) {\n\t\t\trange.startContainer.appendBogus();\n\t\t}\n\n\t\trange.select();\n\n\t\treturn true;\n\t}\n\n\t// Finds the innermost child of common parent, which,\n\t// if removed, removes nothing but the contents of the element.\n\t//\n\t//\tbefore: <div><p><strong>first</strong></p><p>second</p></div>\n\t//\tafter:  <div><p>second</p></div>\n\t//\n\t//\tbefore: <div><p>x<strong>first</strong></p><p>second</p></div>\n\t//\tafter:  <div><p>x</p><p>second</p></div>\n\t//\n\t//\tisPruneToEnd=true\n\t//\tbefore: <div><p><strong>first</strong></p><p>second</p></div>\n\t//\tafter:  <div><p><strong>first</strong></p></div>\n\t//\n\t// @param {CKEDITOR.dom.element} first\n\t// @param {CKEDITOR.dom.element} second\n\t// @param {Boolean} isPruneToEnd\n\tfunction pruneEmptyDisjointAncestors( first, second, isPruneToEnd ) {\n\t\tvar commonParent = first.getCommonAncestor( second ),\n\t\t\tnode = isPruneToEnd ? second : first,\n\t\t\tremovableParent = node;\n\n\t\twhile ( ( node = node.getParent() ) && !commonParent.equals( node ) && node.getChildCount() == 1 )\n\t\t\tremovableParent = node;\n\n\t\tremovableParent.remove();\n\t}\n\n\t//\n\t// Helpers for editable.getHtmlFromRange.\n\t//\n\tgetHtmlFromRangeHelpers = {\n\t\teol: {\n\t\t\tdetect: function( that, editable ) {\n\t\t\t\tvar range = that.range,\n\t\t\t\t\trangeStart = range.clone(),\n\t\t\t\t\trangeEnd = range.clone(),\n\n\t\t\t\t\tstartPath = new CKEDITOR.dom.elementPath( range.startContainer, editable ),\n\t\t\t\t\tendPath = new CKEDITOR.dom.elementPath( range.endContainer, editable );\n\n\t\t\t\t// Note: checkBoundaryOfElement will not work on original range as CKEDITOR.START|END\n\t\t\t\t// means that range start|end must be literally anchored at block start|end, e.g.\n\t\t\t\t//\n\t\t\t\t// \t\t<p>a{</p><p>}b</p>\n\t\t\t\t//\n\t\t\t\t// will return false for both paragraphs but two similar ranges\n\t\t\t\t//\n\t\t\t\t// \t\t<p>a{}</p><p>{}b</p>\n\t\t\t\t//\n\t\t\t\t// will return true if checked separately.\n\t\t\t\trangeStart.collapse( 1 );\n\t\t\t\trangeEnd.collapse();\n\n\t\t\t\tif ( startPath.block && rangeStart.checkBoundaryOfElement( startPath.block, CKEDITOR.END ) ) {\n\t\t\t\t\trange.setStartAfter( startPath.block );\n\t\t\t\t\tthat.prependEolBr = 1;\n\t\t\t\t}\n\n\t\t\t\tif ( endPath.block && rangeEnd.checkBoundaryOfElement( endPath.block, CKEDITOR.START ) ) {\n\t\t\t\t\trange.setEndBefore( endPath.block );\n\t\t\t\t\tthat.appendEolBr = 1;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfix: function( that, editable ) {\n\t\t\t\tvar doc = editable.getDocument(),\n\t\t\t\t\tappended;\n\n\t\t\t\t// Append <br data-cke-eol=\"1\"> to the fragment.\n\t\t\t\tif ( that.appendEolBr ) {\n\t\t\t\t\tappended = this.createEolBr( doc );\n\t\t\t\t\tthat.fragment.append( appended );\n\t\t\t\t}\n\n\t\t\t\t// Prepend <br data-cke-eol=\"1\"> to the fragment but avoid duplicates. Such\n\t\t\t\t// elements should never follow each other in DOM.\n\t\t\t\tif ( that.prependEolBr && ( !appended || appended.getPrevious() ) ) {\n\t\t\t\t\tthat.fragment.append( this.createEolBr( doc ), 1 );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcreateEolBr: function( doc ) {\n\t\t\t\treturn doc.createElement( 'br', {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\t'data-cke-eol': 1\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\n\t\tbogus: {\n\t\t\texclude: function( that ) {\n\t\t\t\tvar boundaryNodes = that.range.getBoundaryNodes(),\n\t\t\t\t\tstartNode = boundaryNodes.startNode,\n\t\t\t\t\tendNode = boundaryNodes.endNode;\n\n\t\t\t\t// If bogus is the last node in range but not the only node, exclude it.\n\t\t\t\tif ( endNode && isBogus( endNode ) && ( !startNode || !startNode.equals( endNode ) ) )\n\t\t\t\t\tthat.range.setEndBefore( endNode );\n\t\t\t}\n\t\t},\n\n\t\ttree: {\n\t\t\trebuild: function( that, editable ) {\n\t\t\t\tvar range = that.range,\n\t\t\t\t\tnode = range.getCommonAncestor(),\n\n\t\t\t\t\t// A path relative to the common ancestor.\n\t\t\t\t\tcommonPath = new CKEDITOR.dom.elementPath( node, editable ),\n\t\t\t\t\tstartPath = new CKEDITOR.dom.elementPath( range.startContainer, editable ),\n\t\t\t\t\tendPath = new CKEDITOR.dom.elementPath( range.endContainer, editable ),\n\t\t\t\t\tlimit;\n\n\t\t\t\tif ( node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\t\tnode = node.getParent();\n\n\t\t\t\t// Fix DOM of partially enclosed tables\n\t\t\t\t// \t\t<table><tbody><tr><td>a{b</td><td>c}d</td></tr></tbody></table>\n\t\t\t\t// Full table is returned\n\t\t\t\t// \t\t<table><tbody><tr><td>b</td><td>c</td></tr></tbody></table>\n\t\t\t\t// instead of\n\t\t\t\t// \t\t<td>b</td><td>c</td>\n\t\t\t\tif ( commonPath.blockLimit.is( { tr: 1, table: 1 } ) ) {\n\t\t\t\t\tvar tableParent = commonPath.contains( 'table' ).getParent();\n\n\t\t\t\t\tlimit = function( node ) {\n\t\t\t\t\t\treturn !node.equals( tableParent );\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Fix DOM in the following case\n\t\t\t\t// \t\t<ol><li>a{b<ul><li>c}d</li></ul></li></ol>\n\t\t\t\t// Full list is returned\n\t\t\t\t// \t\t<ol><li>b<ul><li>c</li></ul></li></ol>\n\t\t\t\t// instead of\n\t\t\t\t// \t\tb<ul><li>c</li></ul>\n\t\t\t\telse if ( commonPath.block && commonPath.block.is( CKEDITOR.dtd.$listItem ) ) {\n\t\t\t\t\tvar startList = startPath.contains( CKEDITOR.dtd.$list ),\n\t\t\t\t\t\tendList = endPath.contains( CKEDITOR.dtd.$list );\n\n\t\t\t\t\tif ( !startList.equals( endList ) ) {\n\t\t\t\t\t\tvar listParent = commonPath.contains( CKEDITOR.dtd.$list ).getParent();\n\n\t\t\t\t\t\tlimit = function( node ) {\n\t\t\t\t\t\t\treturn !node.equals( listParent );\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If not defined, use generic limit function.\n\t\t\t\tif ( !limit ) {\n\t\t\t\t\tlimit = function( node ) {\n\t\t\t\t\t\treturn !node.equals( commonPath.block ) && !node.equals( commonPath.blockLimit );\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tthis.rebuildFragment( that, editable, node, limit );\n\t\t\t},\n\n\t\t\trebuildFragment: function( that, editable, node, checkLimit ) {\n\t\t\t\tvar clone;\n\n\t\t\t\twhile ( node && !node.equals( editable ) && checkLimit( node ) ) {\n\t\t\t\t\t// Don't clone children. Preserve element ids.\n\t\t\t\t\tclone = node.clone( 0, 1 );\n\t\t\t\t\tthat.fragment.appendTo( clone );\n\t\t\t\t\tthat.fragment = clone;\n\n\t\t\t\t\tnode = node.getParent();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcell: {\n\t\t\t// Handle range anchored in table row with a single cell enclosed:\n\t\t\t// \t\t<table><tbody><tr>[<td>a</td>]</tr></tbody></table>\n\t\t\t// becomes\n\t\t\t// \t\t<table><tbody><tr><td>{a}</td></tr></tbody></table>\n\t\t\tshrink: function( that ) {\n\t\t\t\tvar range = that.range,\n\t\t\t\t\tstartContainer = range.startContainer,\n\t\t\t\t\tendContainer = range.endContainer,\n\t\t\t\t\tstartOffset = range.startOffset,\n\t\t\t\t\tendOffset = range.endOffset;\n\n\t\t\t\tif ( startContainer.type == CKEDITOR.NODE_ELEMENT && startContainer.equals( endContainer ) && startContainer.is( 'tr' ) && ++startOffset == endOffset ) {\n\t\t\t\t\trange.shrink( CKEDITOR.SHRINK_TEXT );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t//\n\t// Helpers for editable.extractHtmlFromRange.\n\t//\n\textractHtmlFromRangeHelpers = ( function() {\n\t\tfunction optimizeBookmarkNode( node, toStart ) {\n\t\t\tvar parent = node.getParent();\n\n\t\t\tif ( parent.is( CKEDITOR.dtd.$inline ) )\n\t\t\t\tnode[ toStart ? 'insertBefore' : 'insertAfter' ]( parent );\n\t\t}\n\n\t\tfunction mergeElements( merged, startBookmark, endBookmark ) {\n\t\t\toptimizeBookmarkNode( startBookmark );\n\t\t\toptimizeBookmarkNode( endBookmark, 1 );\n\n\t\t\tvar next;\n\t\t\twhile ( ( next = endBookmark.getNext() ) ) {\n\t\t\t\tnext.insertAfter( startBookmark );\n\n\t\t\t\t// Update startBookmark after insertion to avoid the reversal of nodes (#13449).\n\t\t\t\tstartBookmark = next;\n\t\t\t}\n\n\t\t\tif ( isEmpty( merged ) )\n\t\t\t\tmerged.remove();\n\t\t}\n\n\t\tfunction getPath( startElement, root ) {\n\t\t\treturn new CKEDITOR.dom.elementPath( startElement, root );\n\t\t}\n\n\t\t// Creates a range from a bookmark without removing the bookmark.\n\t\tfunction createRangeFromBookmark( root, bookmark ) {\n\t\t\tvar range = new CKEDITOR.dom.range( root );\n\t\t\trange.setStartAfter( bookmark.startNode );\n\t\t\trange.setEndBefore( bookmark.endNode );\n\t\t\treturn range;\n\t\t}\n\n\t\tvar list = {\n\t\t\tdetectMerge: function( that, editable ) {\n\t\t\t\tvar range = createRangeFromBookmark( editable, that.bookmark ),\n\t\t\t\t\tstartPath = range.startPath(),\n\t\t\t\t\tendPath = range.endPath(),\n\n\t\t\t\t\tstartList = startPath.contains( CKEDITOR.dtd.$list ),\n\t\t\t\t\tendList = endPath.contains( CKEDITOR.dtd.$list );\n\n\t\t\t\tthat.mergeList =\n\t\t\t\t\t// Both lists must exist\n\t\t\t\t\tstartList && endList &&\n\t\t\t\t\t// ...and be of the same type\n\t\t\t\t\t// startList.getName() == endList.getName() &&\n\t\t\t\t\t// ...and share the same parent (same level in the tree)\n\t\t\t\t\tstartList.getParent().equals( endList.getParent() ) &&\n\t\t\t\t\t// ...and must be different.\n\t\t\t\t\t!startList.equals( endList );\n\n\t\t\t\tthat.mergeListItems =\n\t\t\t\t\tstartPath.block && endPath.block &&\n\t\t\t\t\t// Both containers must be list items\n\t\t\t\t\tstartPath.block.is( CKEDITOR.dtd.$listItem ) && endPath.block.is( CKEDITOR.dtd.$listItem );\n\n\t\t\t\t// Create merge bookmark.\n\t\t\t\tif ( that.mergeList || that.mergeListItems ) {\n\t\t\t\t\tvar rangeClone = range.clone();\n\n\t\t\t\t\trangeClone.setStartBefore( that.bookmark.startNode );\n\t\t\t\t\trangeClone.setEndAfter( that.bookmark.endNode );\n\n\t\t\t\t\tthat.mergeListBookmark = rangeClone.createBookmark();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmerge: function( that, editable ) {\n\t\t\t\tif ( !that.mergeListBookmark )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar startNode = that.mergeListBookmark.startNode,\n\t\t\t\t\tendNode = that.mergeListBookmark.endNode,\n\n\t\t\t\t\tstartPath = getPath( startNode, editable ),\n\t\t\t\t\tendPath = getPath( endNode, editable );\n\n\t\t\t\tif ( that.mergeList ) {\n\t\t\t\t\tvar firstList = startPath.contains( CKEDITOR.dtd.$list ),\n\t\t\t\t\t\tsecondList = endPath.contains( CKEDITOR.dtd.$list );\n\n\t\t\t\t\tif ( !firstList.equals( secondList ) ) {\n\t\t\t\t\t\tsecondList.moveChildren( firstList );\n\t\t\t\t\t\tsecondList.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( that.mergeListItems ) {\n\t\t\t\t\tvar firstListItem = startPath.contains( CKEDITOR.dtd.$listItem ),\n\t\t\t\t\t\tsecondListItem = endPath.contains( CKEDITOR.dtd.$listItem );\n\n\t\t\t\t\tif ( !firstListItem.equals( secondListItem ) ) {\n\t\t\t\t\t\tmergeElements( secondListItem, startNode, endNode );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Remove bookmark nodes.\n\t\t\t\tstartNode.remove();\n\t\t\t\tendNode.remove();\n\t\t\t}\n\t\t};\n\n\t\tvar block = {\n\t\t\t// Detects whether blocks should be merged once contents are extracted.\n\t\t\tdetectMerge: function( that, editable ) {\n\t\t\t\t// Don't merge blocks if lists or tables are already involved.\n\t\t\t\tif ( that.tableContentsRanges || that.mergeListBookmark )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar rangeClone = new CKEDITOR.dom.range( editable );\n\n\t\t\t\trangeClone.setStartBefore( that.bookmark.startNode );\n\t\t\t\trangeClone.setEndAfter( that.bookmark.endNode );\n\n\t\t\t\tthat.mergeBlockBookmark = rangeClone.createBookmark();\n\t\t\t},\n\n\t\t\tmerge: function( that, editable ) {\n\t\t\t\tif ( !that.mergeBlockBookmark || that.purgeTableBookmark )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar startNode = that.mergeBlockBookmark.startNode,\n\t\t\t\t\tendNode = that.mergeBlockBookmark.endNode,\n\n\t\t\t\t\tstartPath = getPath( startNode, editable ),\n\t\t\t\t\tendPath = getPath( endNode, editable ),\n\n\t\t\t\t\tfirstBlock = startPath.block,\n\t\t\t\t\tsecondBlock = endPath.block;\n\n\t\t\t\tif ( firstBlock && secondBlock && !firstBlock.equals( secondBlock ) ) {\n\t\t\t\t\tmergeElements( secondBlock, startNode, endNode );\n\t\t\t\t}\n\n\t\t\t\t// Remove bookmark nodes.\n\t\t\t\tstartNode.remove();\n\t\t\t\tendNode.remove();\n\t\t\t}\n\t\t};\n\n\t\tvar table = ( function() {\n\t\t\tvar tableEditable = { td: 1, th: 1, caption: 1 };\n\n\t\t\t// Returns an array of ranges which should be entirely extracted.\n\t\t\t//\n\t\t\t// <table><tr>[<td>xx</td><td>y}y</td></tr></table>\n\t\t\t// will find:\n\t\t\t// <table><tr><td>[xx]</td><td>[y}y</td></tr></table>\n\t\t\tfunction findTableContentsRanges( range ) {\n\t\t\t\t// Leaving the below for debugging purposes.\n\t\t\t\t//\n\t\t\t\t// console.log( 'findTableContentsRanges' );\n\t\t\t\t// console.log( bender.tools.range.getWithHtml( range.root, range ) );\n\n\t\t\t\tvar contentsRanges = [],\n\t\t\t\t\teditableRange,\n\t\t\t\t\twalker = new CKEDITOR.dom.walker( range ),\n\t\t\t\t\tstartCell = range.startPath().contains( tableEditable ),\n\t\t\t\t\tendCell = range.endPath().contains( tableEditable ),\n\t\t\t\t\tdatabase = {};\n\n\t\t\t\twalker.guard = function( node, leaving ) {\n\t\t\t\t\t// Guard may be executed on some node boundaries multiple times,\n\t\t\t\t\t// what results in creating more than one range for each selected cell. (#12964)\n\t\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\tvar key = 'visited_' + ( leaving ? 'out' : 'in' );\n\t\t\t\t\t\tif ( node.getCustomData( key ) ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, node, key, 1 );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle partial selection in a cell in which the range starts:\n\t\t\t\t\t// <td><p>x{xx</p></td>...\n\t\t\t\t\t// will store:\n\t\t\t\t\t// <td><p>x{xx</p>]</td>\n\t\t\t\t\tif ( leaving && startCell && node.equals( startCell ) ) {\n\t\t\t\t\t\teditableRange = range.clone();\n\t\t\t\t\t\teditableRange.setEndAt( startCell, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\t\tcontentsRanges.push( editableRange );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle partial selection in a cell in which the range ends.\n\t\t\t\t\tif ( !leaving && endCell && node.equals( endCell ) ) {\n\t\t\t\t\t\teditableRange = range.clone();\n\t\t\t\t\t\teditableRange.setStartAt( endCell, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\tcontentsRanges.push( editableRange );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle all other cells visited by the walker.\n\t\t\t\t\t// We need to check whether the cell is disjoint with\n\t\t\t\t\t// the start and end cells to correctly handle case like:\n\t\t\t\t\t// <td>x{x</td><td><table>..<td>y}y</td>..</table></td>\n\t\t\t\t\t// without the check the second cell's content would be entirely removed.\n\t\t\t\t\tif ( !leaving && checkRemoveCellContents( node ) ) {\n\t\t\t\t\t\teditableRange = range.clone();\n\t\t\t\t\t\teditableRange.selectNodeContents( node );\n\t\t\t\t\t\tcontentsRanges.push( editableRange );\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\twalker.lastForward();\n\n\t\t\t\t// Clear all markers so next extraction will not be affected by this one.\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\t\t\treturn contentsRanges;\n\n\t\t\t\tfunction checkRemoveCellContents( node ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Must be a cell.\n\t\t\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT && node.is( tableEditable ) &&\n\t\t\t\t\t\t// Must be disjoint with the range's startCell if exists.\n\t\t\t\t\t\t( !startCell || checkDisjointNodes( node, startCell ) ) &&\n\t\t\t\t\t\t// Must be disjoint with the range's endCell if exists.\n\t\t\t\t\t\t( !endCell || checkDisjointNodes( node, endCell ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Returns a normalized common ancestor of a range.\n\t\t\t// If the real common ancestor is located somewhere in between a table and a td/th/caption,\n\t\t\t// then the table will be returned.\n\t\t\tfunction getNormalizedAncestor( range ) {\n\t\t\t\tvar common = range.getCommonAncestor();\n\n\t\t\t\tif ( common.is( CKEDITOR.dtd.$tableContent ) && !common.is( tableEditable ) ) {\n\t\t\t\t\tcommon = common.getAscendant( 'table', true );\n\t\t\t\t}\n\n\t\t\t\treturn common;\n\t\t\t}\n\n\t\t\t// Check whether node1 and node2 are disjoint, so are:\n\t\t\t// * not identical,\n\t\t\t// * not contained in each other.\n\t\t\tfunction checkDisjointNodes( node1, node2 ) {\n\t\t\t\tvar disallowedPositions = CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED,\n\t\t\t\t\tpos = node1.getPosition( node2 );\n\n\t\t\t\t// Baaah... IDENTICAL is 0, so we can't simplify this ;/.\n\t\t\t\treturn pos === CKEDITOR.POSITION_IDENTICAL ?\n\t\t\t\t\tfalse :\n\t\t\t\t\t( ( pos & disallowedPositions ) === 0 );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t// Detects whether to purge entire list.\n\t\t\t\tdetectPurge: function( that ) {\n\t\t\t\t\tvar range = that.range,\n\t\t\t\t\t\twalkerRange = range.clone();\n\n\t\t\t\t\twalkerRange.enlarge( CKEDITOR.ENLARGE_ELEMENT );\n\n\t\t\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange ),\n\t\t\t\t\t\teditablesCount = 0;\n\n\t\t\t\t\t// Count the number of table editables in the range. If there's more than one,\n\t\t\t\t\t// table MAY be removed completely (it's a cross-cell range). Otherwise, only\n\t\t\t\t\t// the contents of the cell are usually removed.\n\t\t\t\t\twalker.evaluator = function( node ) {\n\t\t\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && node.is( tableEditable ) ) {\n\t\t\t\t\t\t\t++editablesCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\twalker.checkForward();\n\n\t\t\t\t\tif ( editablesCount > 1 ) {\n\t\t\t\t\t\tvar startTable = range.startPath().contains( 'table' ),\n\t\t\t\t\t\t\tendTable = range.endPath().contains( 'table' );\n\n\t\t\t\t\t\tif ( startTable && endTable && range.checkBoundaryOfElement( startTable, CKEDITOR.START ) && range.checkBoundaryOfElement( endTable, CKEDITOR.END ) ) {\n\t\t\t\t\t\t\tvar rangeClone = that.range.clone();\n\n\t\t\t\t\t\t\trangeClone.setStartBefore( startTable );\n\t\t\t\t\t\t\trangeClone.setEndAfter( endTable );\n\n\t\t\t\t\t\t\tthat.purgeTableBookmark = rangeClone.createBookmark();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// The magic.\n\t\t\t\t//\n\t\t\t\t// This method tries to discover whether the range starts or ends somewhere in a table\n\t\t\t\t// (it is not interested whether the range contains a table, because in such case\n\t\t\t\t// the extractContents() methods does the job correctly).\n\t\t\t\t// If the range meets these criteria, then the method tries to discover and store the following:\n\t\t\t\t//\n\t\t\t\t// * that.tableSurroundingRange - a part of the range which is located outside of any table which\n\t\t\t\t// will be touched (note: when range is located in a single cell it does not touch the table).\n\t\t\t\t// This range can be placed at:\n\t\t\t\t//\t\t* at the beginning: <p>he{re</p><table>..]..</table>\n\t\t\t\t//\t\t* in the middle: <table>..[..</table><p>here</p><table>..]..</table>\n\t\t\t\t//\t\t* at the end: <table>..[..</table><p>he}re</p>\n\t\t\t\t// * that.tableContentsRanges - an array of ranges with contents of td/th/caption that should be removed.\n\t\t\t\t// This assures that calling extractContents() does not change the structure of the table(s).\n\t\t\t\tdetectRanges: function( that, editable ) {\n\t\t\t\t\tvar range = createRangeFromBookmark( editable, that.bookmark ),\n\t\t\t\t\t\tsurroundingRange = range.clone(),\n\t\t\t\t\t\tleftRange,\n\t\t\t\t\t\trightRange,\n\n\t\t\t\t\t\t// Find a common ancestor and normalize it (so the following paths contain tables).\n\t\t\t\t\t\tcommonAncestor = getNormalizedAncestor( range ),\n\n\t\t\t\t\t\t// Create paths using the normalized ancestor, so tables beyond the context\n\t\t\t\t\t\t// of the input range are not found.\n\t\t\t\t\t\tstartPath = new CKEDITOR.dom.elementPath( range.startContainer, commonAncestor ),\n\t\t\t\t\t\tendPath = new CKEDITOR.dom.elementPath( range.endContainer, commonAncestor ),\n\n\t\t\t\t\t\tstartTable = startPath.contains( 'table' ),\n\t\t\t\t\t\tendTable = endPath.contains( 'table' ),\n\n\t\t\t\t\t\ttableContentsRanges;\n\n\t\t\t\t\t// Nothing to do here - the range doesn't touch any table or\n\t\t\t\t\t// it contains a table, but that table is fully selected so it will be simply fully removed\n\t\t\t\t\t// by the normal algorithm.\n\t\t\t\t\tif ( !startTable && !endTable ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle two disjoint tables case:\n\t\t\t\t\t// <table>..[..</table><p>ab</p><table>..]..</table>\n\t\t\t\t\t// is handled as (respectively: findTableContents( left ), surroundingRange, findTableContents( right )):\n\t\t\t\t\t// <table>..[..</table>][<p>ab</p>][<table>..]..</table>\n\t\t\t\t\t// Check that tables are disjoint to exclude a case when start equals end or one is contained\n\t\t\t\t\t// in the other.\n\t\t\t\t\tif ( startTable && endTable && checkDisjointNodes( startTable, endTable ) ) {\n\t\t\t\t\t\tthat.tableSurroundingRange = surroundingRange;\n\t\t\t\t\t\tsurroundingRange.setStartAt( startTable, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\tsurroundingRange.setEndAt( endTable, CKEDITOR.POSITION_BEFORE_START );\n\n\t\t\t\t\t\tleftRange = range.clone();\n\t\t\t\t\t\tleftRange.setEndAt( startTable, CKEDITOR.POSITION_AFTER_END );\n\n\t\t\t\t\t\trightRange = range.clone();\n\t\t\t\t\t\trightRange.setStartAt( endTable, CKEDITOR.POSITION_BEFORE_START );\n\n\t\t\t\t\t\ttableContentsRanges = findTableContentsRanges( leftRange ).concat( findTableContentsRanges( rightRange ) );\n\t\t\t\t\t}\n\t\t\t\t\t// Divide the initial range into two parts:\n\t\t\t\t\t// * range which contains the part containing the table,\n\t\t\t\t\t// * surroundingRange which contains the part outside the table.\n\t\t\t\t\t//\n\t\t\t\t\t// The surroundingRange exists only if one of the range ends is\n\t\t\t\t\t// located outside the table.\n\t\t\t\t\t//\n\t\t\t\t\t// <p>a{b</p><table>..]..</table><p>cd</p>\n\t\t\t\t\t// becomes (respectively: surroundingRange, range):\n\t\t\t\t\t// <p>a{b</p>][<table>..]..</table><p>cd</p>\n\t\t\t\t\telse if ( !startTable ) {\n\t\t\t\t\t\tthat.tableSurroundingRange = surroundingRange;\n\t\t\t\t\t\tsurroundingRange.setEndAt( endTable, CKEDITOR.POSITION_BEFORE_START );\n\n\t\t\t\t\t\trange.setStartAt( endTable, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t}\n\t\t\t\t\t// <p>ab</p><table>..[..</table><p>c}d</p>\n\t\t\t\t\t// becomes (respectively range, surroundingRange):\n\t\t\t\t\t// <p>ab</p><table>..[..</table>][<p>c}d</p>\n\t\t\t\t\telse if ( !endTable ) {\n\t\t\t\t\t\tthat.tableSurroundingRange = surroundingRange;\n\t\t\t\t\t\tsurroundingRange.setStartAt( startTable, CKEDITOR.POSITION_AFTER_END );\n\n\t\t\t\t\t\trange.setEndAt( startTable, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Use already calculated or calculate for the remaining range.\n\t\t\t\t\tthat.tableContentsRanges = tableContentsRanges ? tableContentsRanges : findTableContentsRanges( range );\n\n\t\t\t\t\t// Leaving the below for debugging purposes.\n\t\t\t\t\t//\n\t\t\t\t\t// if ( that.tableSurroundingRange ) {\n\t\t\t\t\t// \tconsole.log( 'tableSurroundingRange' );\n\t\t\t\t\t// \tconsole.log( bender.tools.range.getWithHtml( that.tableSurroundingRange.root, that.tableSurroundingRange ) );\n\t\t\t\t\t// }\n\t\t\t\t\t//\n\t\t\t\t\t// console.log( 'tableContentsRanges' );\n\t\t\t\t\t// that.tableContentsRanges.forEach( function( range ) {\n\t\t\t\t\t// \tconsole.log( bender.tools.range.getWithHtml( range.root, range ) );\n\t\t\t\t\t// } );\n\t\t\t\t},\n\n\t\t\t\tdeleteRanges: function( that ) {\n\t\t\t\t\tvar range;\n\n\t\t\t\t\t// Delete table cell contents.\n\t\t\t\t\twhile ( ( range = that.tableContentsRanges.pop() ) ) {\n\t\t\t\t\t\trange.extractContents();\n\n\t\t\t\t\t\tif ( isEmpty( range.startContainer ) )\n\t\t\t\t\t\t\trange.startContainer.appendBogus();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Finally delete surroundings of the table.\n\t\t\t\t\tif ( that.tableSurroundingRange ) {\n\t\t\t\t\t\tthat.tableSurroundingRange.extractContents();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tpurge: function( that ) {\n\t\t\t\t\tif ( !that.purgeTableBookmark )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar doc = that.doc,\n\t\t\t\t\t\trange = that.range,\n\t\t\t\t\t\trangeClone = range.clone(),\n\t\t\t\t\t\t// How about different enter modes?\n\t\t\t\t\t\tblock = doc.createElement( 'p' );\n\n\t\t\t\t\tblock.insertBefore( that.purgeTableBookmark.startNode );\n\n\t\t\t\t\trangeClone.moveToBookmark( that.purgeTableBookmark );\n\t\t\t\t\trangeClone.deleteContents();\n\n\t\t\t\t\tthat.range.moveToPosition( block, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t}\n\t\t\t};\n\t\t} )();\n\n\t\treturn {\n\t\t\tlist: list,\n\t\t\tblock: block,\n\t\t\ttable: table,\n\n\t\t\t// Detects whether use \"mergeThen\" argument in range.extractContents().\n\t\t\tdetectExtractMerge: function( that ) {\n\t\t\t\t// Don't merge if playing with lists.\n\t\t\t\treturn !(\n\t\t\t\t\tthat.range.startPath().contains( CKEDITOR.dtd.$listItem ) &&\n\t\t\t\t\tthat.range.endPath().contains( CKEDITOR.dtd.$listItem )\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tfixUneditableRangePosition: function( range ) {\n\t\t\t\tif ( !range.startContainer.getDtd()[ '#' ] ) {\n\t\t\t\t\trange.moveToClosestEditablePosition( null, true );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Perform auto paragraphing if needed.\n\t\t\tautoParagraph: function( editor, range ) {\n\t\t\t\tvar path = range.startPath(),\n\t\t\t\t\tfixBlock;\n\n\t\t\t\tif ( shouldAutoParagraph( editor, path.block, path.blockLimit ) && ( fixBlock = autoParagraphTag( editor ) ) ) {\n\t\t\t\t\tfixBlock = range.document.createElement( fixBlock );\n\t\t\t\t\tfixBlock.appendBogus();\n\t\t\t\t\trange.insertNode( fixBlock );\n\t\t\t\t\trange.moveToPosition( fixBlock, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} )();\n\n} )();\n\n/**\n * Whether the editor must output an empty value (`''`) if its content only consists\n * of an empty paragraph.\n *\n *\t\tconfig.ignoreEmptyParagraph = false;\n *\n * @cfg {Boolean} [ignoreEmptyParagraph=true]\n * @member CKEDITOR.config\n */\n\n/**\n * Event fired by the editor in order to get accessibility help label.\n * The event is responded to by a component which provides accessibility\n * help (i.e. the `a11yhelp` plugin) hence the editor is notified whether\n * accessibility help is available.\n *\n * Providing info:\n *\n *\t\teditor.on( 'ariaEditorHelpLabel', function( evt ) {\n *\t\t\t\tevt.data.label = editor.lang.common.editorHelp;\n *\t\t} );\n *\n * Getting label:\n *\n *\t\tvar helpLabel = editor.fire( 'ariaEditorHelpLabel', {} ).label;\n *\n * @since 4.4.3\n * @event ariaEditorHelpLabel\n * @param {String} label The label to be used.\n * @member CKEDITOR.editor\n */\n\n/**\n * Event fired when the user double-clicks in the editable area.\n * The event allows to open a dialog window for a clicked element in a convenient way:\n *\n *\t\teditor.on( 'doubleclick', function( evt ) {\n *\t\t\tvar element = evt.data.element;\n *\n *\t\t\tif ( element.is( 'table' ) )\n *\t\t\t\tevt.data.dialog = 'tableProperties';\n *\t\t} );\n *\n * **Note:** To handle double-click on a widget use {@link CKEDITOR.plugins.widget#doubleclick}.\n *\n * @event doubleclick\n * @param data\n * @param {CKEDITOR.dom.element} data.element The double-clicked element.\n * @param {String} data.dialog The dialog window to be opened. If set by the listener,\n * the specified dialog window will be opened.\n * @member CKEDITOR.editor\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/editable.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t// #### checkSelectionChange : START\n\n\t// The selection change check basically saves the element parent tree of\n\t// the current node and check it on successive requests. If there is any\n\t// change on the tree, then the selectionChange event gets fired.\n\tfunction checkSelectionChange() {\n\t\t// A possibly available fake-selection.\n\t\tvar sel = this._.fakeSelection,\n\t\t\trealSel;\n\n\t\tif ( sel ) {\n\t\t\trealSel = this.getSelection( 1 );\n\n\t\t\t// If real (not locked/stored) selection was moved from hidden container,\n\t\t\t// then the fake-selection must be invalidated.\n\t\t\tif ( !realSel || !realSel.isHidden() ) {\n\t\t\t\t// Remove the cache from fake-selection references in use elsewhere.\n\t\t\t\tsel.reset();\n\n\t\t\t\t// Have the code using the native selection.\n\t\t\t\tsel = 0;\n\t\t\t}\n\t\t}\n\n\t\t// If not fake-selection is available then get the native selection.\n\t\tif ( !sel ) {\n\t\t\tsel = realSel || this.getSelection( 1 );\n\n\t\t\t// Editor may have no selection at all.\n\t\t\tif ( !sel || sel.getType() == CKEDITOR.SELECTION_NONE )\n\t\t\t\treturn;\n\t\t}\n\n\t\tthis.fire( 'selectionCheck', sel );\n\n\t\tvar currentPath = this.elementPath();\n\t\tif ( !currentPath.compare( this._.selectionPreviousPath ) ) {\n\t\t\t// Cache the active element, which we'll eventually lose on Webkit.\n\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\tthis._.previousActive = this.document.getActive();\n\n\t\t\tthis._.selectionPreviousPath = currentPath;\n\t\t\tthis.fire( 'selectionChange', { selection: sel, path: currentPath } );\n\t\t}\n\t}\n\n\tvar checkSelectionChangeTimer, checkSelectionChangeTimeoutPending;\n\n\tfunction checkSelectionChangeTimeout() {\n\t\t// Firing the \"OnSelectionChange\" event on every key press started to\n\t\t// be too slow. This function guarantees that there will be at least\n\t\t// 200ms delay between selection checks.\n\n\t\tcheckSelectionChangeTimeoutPending = true;\n\n\t\tif ( checkSelectionChangeTimer )\n\t\t\treturn;\n\n\t\tcheckSelectionChangeTimeoutExec.call( this );\n\n\t\tcheckSelectionChangeTimer = CKEDITOR.tools.setTimeout( checkSelectionChangeTimeoutExec, 200, this );\n\t}\n\n\tfunction checkSelectionChangeTimeoutExec() {\n\t\tcheckSelectionChangeTimer = null;\n\n\t\tif ( checkSelectionChangeTimeoutPending ) {\n\t\t\t// Call this with a timeout so the browser properly moves the\n\t\t\t// selection after the mouseup. It happened that the selection was\n\t\t\t// being moved after the mouseup when clicking inside selected text\n\t\t\t// with Firefox.\n\t\t\tCKEDITOR.tools.setTimeout( checkSelectionChange, 0, this );\n\n\t\t\tcheckSelectionChangeTimeoutPending = false;\n\t\t}\n\t}\n\n\t// #### checkSelectionChange : END\n\n\tvar isVisible = CKEDITOR.dom.walker.invisible( 1 );\n\n\t// May absorb the caret if:\n\t// * is a visible node,\n\t// * is a non-empty element (this rule will accept elements like <strong></strong> because they\n\t//\tthey were not accepted by the isVisible() check, not not <br> which cannot absorb the caret).\n\t//\tSee #12621.\n\tfunction mayAbsorbCaret( node ) {\n\t\tif ( isVisible( node ) )\n\t\t\treturn true;\n\n\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && !node.is( CKEDITOR.dtd.$empty ) )\n\t\t\treturn true;\n\n\t\treturn false;\n\t}\n\n\tfunction rangeRequiresFix( range ) {\n\t\t// Whether we must prevent from absorbing caret by this context node.\n\t\t// Also checks whether there's an editable position next to that node.\n\t\tfunction ctxRequiresFix( node, isAtEnd ) {\n\t\t\t// It's ok for us if a text node absorbs the caret, because\n\t\t\t// the caret container element isn't changed then.\n\t\t\tif ( !node || node.type == CKEDITOR.NODE_TEXT )\n\t\t\t\treturn false;\n\n\t\t\tvar testRng = range.clone();\n\t\t\treturn testRng[ 'moveToElementEdit' + ( isAtEnd ? 'End' : 'Start' ) ]( node );\n\t\t}\n\n\t\t// Range root must be the editable element, it's to avoid creating filler char\n\t\t// on any temporary internal selection.\n\t\tif ( !( range.root instanceof CKEDITOR.editable ) )\n\t\t\treturn false;\n\n\t\tvar ct = range.startContainer;\n\n\t\tvar previous = range.getPreviousNode( mayAbsorbCaret, null, ct ),\n\t\t\tnext = range.getNextNode( mayAbsorbCaret, null, ct );\n\n\t\t// Any adjacent text container may absorb the caret, e.g.\n\t\t// <p><strong>text</strong>^foo</p>\n\t\t// <p>foo^<strong>text</strong></p>\n\t\t// <div>^<p>foo</p></div>\n\t\tif ( ctxRequiresFix( previous ) || ctxRequiresFix( next, 1 ) )\n\t\t\treturn true;\n\n\t\t// Empty block/inline element is also affected. <span>^</span>, <p>^</p> (#7222)\n\t\t// If you found this line confusing check #12655.\n\t\tif ( !( previous || next ) && !( ct.type == CKEDITOR.NODE_ELEMENT && ct.isBlockBoundary() && ct.getBogus() ) )\n\t\t\treturn true;\n\n\t\treturn false;\n\t}\n\n\tfunction createFillingCharSequenceNode( editable ) {\n\t\tremoveFillingCharSequenceNode( editable, false );\n\n\t\tvar fillingChar = editable.getDocument().createText( fillingCharSequence );\n\t\teditable.setCustomData( 'cke-fillingChar', fillingChar );\n\n\t\treturn fillingChar;\n\t}\n\n\t// Checks if a filling char has been used, eventualy removing it (#1272).\n\tfunction checkFillingCharSequenceNodeReady( editable ) {\n\t\tvar fillingChar = editable.getCustomData( 'cke-fillingChar' );\n\n\t\tif ( fillingChar ) {\n\t\t\t// Use this flag to avoid removing the filling char right after\n\t\t\t// creating it.\n\t\t\tif ( fillingChar.getCustomData( 'ready' ) ) {\n\t\t\t\tremoveFillingCharSequenceNode( editable );\n\t\t\t} else {\n\t\t\t\tfillingChar.setCustomData( 'ready', 1 );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction removeFillingCharSequenceNode( editable, keepSelection ) {\n\t\tvar fillingChar = editable && editable.removeCustomData( 'cke-fillingChar' );\n\n\t\tif ( fillingChar ) {\n\t\t\t// Text selection position might get mangled by\n\t\t\t// subsequent dom modification, save it now for restoring. (#8617)\n\t\t\tif ( keepSelection !== false ) {\n\t\t\t\tvar sel = editable.getDocument().getSelection().getNative(),\n\t\t\t\t\t// Be error proof.\n\t\t\t\t\trange = sel && sel.type != 'None' && sel.getRangeAt( 0 ),\n\t\t\t\t\tfillingCharSeqLength = fillingCharSequence.length;\n\n\t\t\t\t// If there's some text other than the sequence in the FC text node and the range\n\t\t\t\t// intersects with that node...\n\t\t\t\tif ( fillingChar.getLength() > fillingCharSeqLength && range && range.intersectsNode( fillingChar.$ ) ) {\n\t\t\t\t\tvar bm = createNativeSelectionBookmark( sel );\n\n\t\t\t\t\t// Correct start offset anticipating the removal of FC.\n\t\t\t\t\tif ( sel.anchorNode == fillingChar.$ && sel.anchorOffset > fillingCharSeqLength ) {\n\t\t\t\t\t\tbm[ 0 ].offset -= fillingCharSeqLength;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Correct end offset anticipating the removal of FC.\n\t\t\t\t\tif ( sel.focusNode == fillingChar.$ && sel.focusOffset > fillingCharSeqLength ) {\n\t\t\t\t\t\tbm[ 1 ].offset -= fillingCharSeqLength;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We can't simply remove the filling node because the user\n\t\t\t// will actually enlarge it when typing, so we just remove the\n\t\t\t// invisible char from it.\n\t\t\tfillingChar.setText( removeFillingCharSequenceString( fillingChar.getText(), 1 ) );\n\n\t\t\t// Restore the bookmark preserving selection's direction.\n\t\t\tif ( bm ) {\n\t\t\t\tmoveNativeSelectionToBookmark( editable.getDocument().$, bm );\n\t\t\t}\n\t\t}\n\t}\n\n\t// #13816\n\tfunction removeFillingCharSequenceString( str, nbspAware ) {\n\t\tif ( nbspAware ) {\n\t\t\treturn str.replace( fillingCharSequenceRegExp, function( m, p ) {\n\t\t\t\t// #10291 if filling char is followed by a space replace it with NBSP.\n\t\t\t\treturn p ? '\\xa0' : '';\n\t\t\t} );\n\t\t} else {\n\t\t\treturn str.replace( fillingCharSequence, '' );\n\t\t}\n\t}\n\n\tfunction createNativeSelectionBookmark( sel ) {\n\t\treturn [\n\t\t\t{ node: sel.anchorNode, offset: sel.anchorOffset },\n\t\t\t{ node: sel.focusNode, offset: sel.focusOffset }\n\t\t];\n\t}\n\n\tfunction moveNativeSelectionToBookmark( document, bm ) {\n\t\tvar sel = document.getSelection(),\n\t\t\trange = document.createRange();\n\n\t\trange.setStart( bm[ 0 ].node, bm[ 0 ].offset );\n\t\trange.collapse( true );\n\t\tsel.removeAllRanges();\n\t\tsel.addRange( range );\n\t\tsel.extend( bm[ 1 ].node, bm[ 1 ].offset );\n\t}\n\n\t// Creates cke_hidden_sel container and puts real selection there.\n\tfunction hideSelection( editor, ariaLabel ) {\n\t\tvar content = ariaLabel || '&nbsp;',\n\t\t\tstyle = CKEDITOR.env.ie ? 'display:none' : 'position:fixed;top:0;left:-1000px',\n\t\t\thiddenEl = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<div data-cke-hidden-sel=\"1\" data-cke-temp=\"1\" style=\"' + style + '\">' + content + '</div>',\n\t\t\t\teditor.document );\n\n\t\teditor.fire( 'lockSnapshot' );\n\n\t\teditor.editable().append( hiddenEl );\n\n\t\t\t// Always use real selection to avoid overriding locked one (http://dev.ckeditor.com/ticket/11104#comment:13).\n\t\tvar sel = editor.getSelection( 1 ),\n\t\t\trange = editor.createRange(),\n\t\t\t// Cancel selectionchange fired by selectRanges - prevent from firing selectionChange.\n\t\t\tlistener = sel.root.on( 'selectionchange', function( evt ) {\n\t\t\t\tevt.cancel();\n\t\t\t}, null, null, 0 );\n\n\t\trange.setStartAt( hiddenEl, CKEDITOR.POSITION_AFTER_START );\n\t\trange.setEndAt( hiddenEl, CKEDITOR.POSITION_BEFORE_END );\n\t\tsel.selectRanges( [ range ] );\n\n\t\tlistener.removeListener();\n\n\t\teditor.fire( 'unlockSnapshot' );\n\n\t\t// Set this value at the end, so reset() executed by selectRanges()\n\t\t// will clean up old hidden selection container.\n\t\teditor._.hiddenSelectionContainer = hiddenEl;\n\t}\n\n\tfunction removeHiddenSelectionContainer( editor ) {\n\t\tvar hiddenEl = editor._.hiddenSelectionContainer;\n\n\t\tif ( hiddenEl ) {\n\t\t\tvar isDirty = editor.checkDirty();\n\n\t\t\teditor.fire( 'lockSnapshot' );\n\t\t\thiddenEl.remove();\n\t\t\teditor.fire( 'unlockSnapshot' );\n\n\t\t\t!isDirty && editor.resetDirty();\n\t\t}\n\n\t\tdelete editor._.hiddenSelectionContainer;\n\t}\n\n\t// Object containing keystroke handlers for fake selection.\n\tvar fakeSelectionDefaultKeystrokeHandlers = ( function() {\n\t\tfunction leave( right ) {\n\t\t\treturn function( evt ) {\n\t\t\t\tvar range = evt.editor.createRange();\n\n\t\t\t\t// Move selection only if there's a editable place for it.\n\t\t\t\t// It no, then do nothing (keystroke will be blocked, widget selection kept).\n\t\t\t\tif ( range.moveToClosestEditablePosition( evt.selected, right ) )\n\t\t\t\t\tevt.editor.getSelection().selectRanges( [ range ] );\n\n\t\t\t\t// Prevent default.\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\n\t\tfunction del( right ) {\n\t\t\treturn function( evt ) {\n\t\t\t\tvar editor = evt.editor,\n\t\t\t\t\trange = editor.createRange(),\n\t\t\t\t\tfound;\n\n\t\t\t\t// If haven't found place for caret on the default side,\n\t\t\t\t// try to find it on the other side.\n\t\t\t\tif ( !( found = range.moveToClosestEditablePosition( evt.selected, right ) ) )\n\t\t\t\t\tfound = range.moveToClosestEditablePosition( evt.selected, !right );\n\n\t\t\t\tif ( found )\n\t\t\t\t\teditor.getSelection().selectRanges( [ range ] );\n\n\t\t\t\t// Save the state before removing selected element.\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\tevt.selected.remove();\n\n\t\t\t\t// Haven't found any editable space before removing element,\n\t\t\t\t// try to place the caret anywhere (most likely, in empty editable).\n\t\t\t\tif ( !found ) {\n\t\t\t\t\trange.moveToElementEditablePosition( editor.editable() );\n\t\t\t\t\teditor.getSelection().selectRanges( [ range ] );\n\t\t\t\t}\n\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t// Prevent default.\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\n\t\tvar leaveLeft = leave(),\n\t\t\tleaveRight = leave( 1 );\n\n\t\treturn {\n\t\t\t37: leaveLeft,\t\t// LEFT\n\t\t\t38: leaveLeft,\t\t// UP\n\t\t\t39: leaveRight,\t\t// RIGHT\n\t\t\t40: leaveRight,\t\t// DOWN\n\t\t\t8: del(),\t\t\t// BACKSPACE\n\t\t\t46: del( 1 )\t\t// DELETE\n\t\t};\n\t} )();\n\n\t// Handle left, right, delete and backspace keystrokes next to non-editable elements\n\t// by faking selection on them.\n\tfunction getOnKeyDownListener( editor ) {\n\t\tvar keystrokes = { 37: 1, 39: 1, 8: 1, 46: 1 };\n\n\t\treturn function( evt ) {\n\t\t\tvar keystroke = evt.data.getKeystroke();\n\n\t\t\t// Handle only left/right/del/bspace keys.\n\t\t\tif ( !keystrokes[ keystroke ] )\n\t\t\t\treturn;\n\n\t\t\tvar sel = editor.getSelection(),\n\t\t\t\tranges = sel.getRanges(),\n\t\t\t\trange = ranges[ 0 ];\n\n\t\t\t// Handle only single range and it has to be collapsed.\n\t\t\tif ( ranges.length != 1 || !range.collapsed )\n\t\t\t\treturn;\n\n\t\t\tvar next = range[ keystroke < 38 ? 'getPreviousEditableNode' : 'getNextEditableNode' ]();\n\n\t\t\tif ( next && next.type == CKEDITOR.NODE_ELEMENT && next.getAttribute( 'contenteditable' ) == 'false' ) {\n\t\t\t\teditor.getSelection().fake( next );\n\t\t\t\tevt.data.preventDefault();\n\t\t\t\tevt.cancel();\n\t\t\t}\n\t\t};\n\t}\n\n\t// If fake selection should be applied this function will return instance of\n\t// CKEDITOR.dom.element which should gain fake selection.\n\tfunction getNonEditableFakeSelectionReceiver( ranges ) {\n\t\tvar enclosedNode, shrinkedNode, clone, range;\n\n\t\tif ( ranges.length == 1 && !( range = ranges[ 0 ] ).collapsed &&\n\t\t\t( enclosedNode = range.getEnclosedNode() ) && enclosedNode.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t// So far we can't say that enclosed element is non-editable. Before checking,\n\t\t\t// we'll shrink range (clone). Shrinking will stop on non-editable range, or\n\t\t\t// innermost element (#11114).\n\t\t\tclone = range.clone();\n\t\t\tclone.shrink( CKEDITOR.SHRINK_ELEMENT, true );\n\n\t\t\t// If shrinked range still encloses an element, check this one (shrink stops only on non-editable elements).\n\t\t\tif ( ( shrinkedNode = clone.getEnclosedNode() ) && shrinkedNode.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\tenclosedNode = shrinkedNode;\n\n\t\t\tif ( enclosedNode.getAttribute( 'contenteditable' ) == 'false' )\n\t\t\t\treturn enclosedNode;\n\t\t}\n\t}\n\n\t// Fix ranges which may end after hidden selection container.\n\t// Note: this function may only be used if hidden selection container\n\t// is not in DOM any more.\n\tfunction fixRangesAfterHiddenSelectionContainer( ranges, root ) {\n\t\tvar range;\n\t\tfor ( var i = 0; i < ranges.length; ++i ) {\n\t\t\trange = ranges[ i ];\n\t\t\tif ( range.endContainer.equals( root ) ) {\n\t\t\t\t// We can use getChildCount() because hidden selection container is not in DOM.\n\t\t\t\trange.endOffset = Math.min( range.endOffset, root.getChildCount() );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Extract only editable part or ranges.\n\t// Note: this function modifies ranges list!\n\t// @param {CKEDITOR.dom.rangeList} ranges\n\tfunction extractEditableRanges( ranges ) {\n\t\tfor ( var i = 0; i < ranges.length; i++ ) {\n\t\t\tvar range = ranges[ i ];\n\n\t\t\t// Drop range spans inside one ready-only node.\n\t\t\tvar parent = range.getCommonAncestor();\n\t\t\tif ( parent.isReadOnly() )\n\t\t\t\tranges.splice( i, 1 );\n\n\t\t\tif ( range.collapsed )\n\t\t\t\tcontinue;\n\n\t\t\t// Range may start inside a non-editable element,\n\t\t\t// replace the range start after it.\n\t\t\tif ( range.startContainer.isReadOnly() ) {\n\t\t\t\tvar current = range.startContainer,\n\t\t\t\t\tisElement;\n\n\t\t\t\twhile ( current ) {\n\t\t\t\t\tisElement = current.type == CKEDITOR.NODE_ELEMENT;\n\n\t\t\t\t\tif ( ( isElement && current.is( 'body' ) ) || !current.isReadOnly() )\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tif ( isElement && current.getAttribute( 'contentEditable' ) == 'false' )\n\t\t\t\t\t\trange.setStartAfter( current );\n\n\t\t\t\t\tcurrent = current.getParent();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar startContainer = range.startContainer,\n\t\t\t\tendContainer = range.endContainer,\n\t\t\t\tstartOffset = range.startOffset,\n\t\t\t\tendOffset = range.endOffset,\n\t\t\t\twalkerRange = range.clone();\n\n\t\t\t// Enlarge range start/end with text node to avoid walker\n\t\t\t// being DOM destructive, it doesn't interfere our checking\n\t\t\t// of elements below as well.\n\t\t\tif ( startContainer && startContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tif ( startOffset >= startContainer.getLength() )\n\t\t\t\t\twalkerRange.setStartAfter( startContainer );\n\t\t\t\telse\n\t\t\t\t\twalkerRange.setStartBefore( startContainer );\n\t\t\t}\n\n\t\t\tif ( endContainer && endContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tif ( !endOffset )\n\t\t\t\t\twalkerRange.setEndBefore( endContainer );\n\t\t\t\telse\n\t\t\t\t\twalkerRange.setEndAfter( endContainer );\n\t\t\t}\n\n\t\t\t// Looking for non-editable element inside the range.\n\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\twalker.evaluator = function( node ) {\n\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && node.isReadOnly() ) {\n\t\t\t\t\tvar newRange = range.clone();\n\t\t\t\t\trange.setEndBefore( node );\n\n\t\t\t\t\t// Drop collapsed range around read-only elements,\n\t\t\t\t\t// it make sure the range list empty when selecting\n\t\t\t\t\t// only non-editable elements.\n\t\t\t\t\tif ( range.collapsed )\n\t\t\t\t\t\tranges.splice( i--, 1 );\n\n\t\t\t\t\t// Avoid creating invalid range.\n\t\t\t\t\tif ( !( node.getPosition( walkerRange.endContainer ) & CKEDITOR.POSITION_CONTAINS ) ) {\n\t\t\t\t\t\tnewRange.setStartAfter( node );\n\t\t\t\t\t\tif ( !newRange.collapsed )\n\t\t\t\t\t\t\tranges.splice( i + 1, 0, newRange );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\twalker.next();\n\t\t}\n\n\t\treturn ranges;\n\t}\n\n\t// Setup all editor instances for the necessary selection hooks.\n\tCKEDITOR.on( 'instanceCreated', function( ev ) {\n\t\tvar editor = ev.editor;\n\n\t\teditor.on( 'contentDom', function() {\n\t\t\tvar doc = editor.document,\n\t\t\t\touterDoc = CKEDITOR.document,\n\t\t\t\teditable = editor.editable(),\n\t\t\t\tbody = doc.getBody(),\n\t\t\t\thtml = doc.getDocumentElement();\n\n\t\t\tvar isInline = editable.isInline();\n\n\t\t\tvar restoreSel,\n\t\t\t\tlastSel;\n\n\t\t\t// Give the editable an initial selection on first focus,\n\t\t\t// put selection at a consistent position at the start\n\t\t\t// of the contents. (#9507)\n\t\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\t\teditable.attachListener( editable, 'focus', function( evt ) {\n\t\t\t\t\tevt.removeListener();\n\n\t\t\t\t\tif ( restoreSel !== 0 ) {\n\t\t\t\t\t\tvar nativ = editor.getSelection().getNative();\n\t\t\t\t\t\t// Do it only if the native selection is at an unwanted\n\t\t\t\t\t\t// place (at the very start of the editable). #10119\n\t\t\t\t\t\tif ( nativ && nativ.isCollapsed && nativ.anchorNode == editable.$ ) {\n\t\t\t\t\t\t\tvar rng = editor.createRange();\n\t\t\t\t\t\t\trng.moveToElementEditStart( editable );\n\t\t\t\t\t\t\trng.select();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, null, null, -2 );\n\t\t\t}\n\n\t\t\t// Plays the magic here to restore/save dom selection on editable focus/blur.\n\t\t\teditable.attachListener( editable, CKEDITOR.env.webkit ? 'DOMFocusIn' : 'focus', function() {\n\t\t\t\t// On Webkit we use DOMFocusIn which is fired more often than focus - e.g. when moving from main editable\n\t\t\t\t// to nested editable (or the opposite). Unlock selection all, but restore only when it was locked\n\t\t\t\t// for the same active element, what will e.g. mean restoring after displaying dialog.\n\t\t\t\tif ( restoreSel && CKEDITOR.env.webkit )\n\t\t\t\t\trestoreSel = editor._.previousActive && editor._.previousActive.equals( doc.getActive() );\n\n\t\t\t\teditor.unlockSelection( restoreSel );\n\t\t\t\trestoreSel = 0;\n\t\t\t}, null, null, -1 );\n\n\t\t\t// Disable selection restoring when clicking in.\n\t\t\teditable.attachListener( editable, 'mousedown', function() {\n\t\t\t\trestoreSel = 0;\n\t\t\t} );\n\n\t\t\t// Save a cloned version of current selection.\n\t\t\tfunction saveSel() {\n\t\t\t\tlastSel = new CKEDITOR.dom.selection( editor.getSelection() );\n\t\t\t\tlastSel.lock();\n\t\t\t}\n\n\t\t\t// Browsers could loose the selection once the editable lost focus,\n\t\t\t// in such case we need to reproduce it by saving a locked selection\n\t\t\t// and restoring it upon focus gain.\n\t\t\tif ( CKEDITOR.env.ie || isInline ) {\n\t\t\t\t// For old IEs, we can retrieve the last correct DOM selection upon the \"beforedeactivate\" event.\n\t\t\t\t// For the rest, a more frequent check is required for each selection change made.\n\t\t\t\tif ( isMSSelection )\n\t\t\t\t\teditable.attachListener( editable, 'beforedeactivate', saveSel, null, null, -1 );\n\t\t\t\telse\n\t\t\t\t\teditable.attachListener( editor, 'selectionCheck', saveSel, null, null, -1 );\n\n\t\t\t\t// Lock the selection and mark it to be restored.\n\t\t\t\t// On Webkit we use DOMFocusOut which is fired more often than blur. I.e. it will also be\n\t\t\t\t// fired when nested editable is blurred.\n\t\t\t\teditable.attachListener( editable, CKEDITOR.env.webkit ? 'DOMFocusOut' : 'blur', function() {\n\t\t\t\t\teditor.lockSelection( lastSel );\n\t\t\t\t\trestoreSel = 1;\n\t\t\t\t}, null, null, -1 );\n\n\t\t\t\t// Disable selection restoring when clicking in.\n\t\t\t\teditable.attachListener( editable, 'mousedown', function() {\n\t\t\t\t\trestoreSel = 0;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// The following selection-related fixes only apply to classic (`iframe`-based) editable.\n\t\t\tif ( CKEDITOR.env.ie && !isInline ) {\n\t\t\t\tvar scroll;\n\t\t\t\teditable.attachListener( editable, 'mousedown', function( evt ) {\n\t\t\t\t\t// IE scrolls document to top on right mousedown\n\t\t\t\t\t// when editor has no focus, remember this scroll\n\t\t\t\t\t// position and revert it before context menu opens. (#5778)\n\t\t\t\t\tif ( evt.data.$.button == 2 ) {\n\t\t\t\t\t\tvar sel = editor.document.getSelection();\n\t\t\t\t\t\tif ( !sel || sel.getType() == CKEDITOR.SELECTION_NONE )\n\t\t\t\t\t\t\tscroll = editor.window.getScrollPosition();\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\teditable.attachListener( editable, 'mouseup', function( evt ) {\n\t\t\t\t\t// Restore recorded scroll position when needed on right mouseup.\n\t\t\t\t\tif ( evt.data.$.button == 2 && scroll ) {\n\t\t\t\t\t\teditor.document.$.documentElement.scrollLeft = scroll.x;\n\t\t\t\t\t\teditor.document.$.documentElement.scrollTop = scroll.y;\n\t\t\t\t\t}\n\t\t\t\t\tscroll = null;\n\t\t\t\t} );\n\n\t\t\t\t// When content doc is in standards mode, IE doesn't focus the editor when\n\t\t\t\t// clicking at the region below body (on html element) content, we emulate\n\t\t\t\t// the normal behavior on old IEs. (#1659, #7932)\n\t\t\t\tif ( doc.$.compatMode != 'BackCompat' ) {\n\t\t\t\t\tif ( CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat ) {\n\t\t\t\t\t\thtml.on( 'mousedown', function( evt ) {\n\t\t\t\t\t\t\tevt = evt.data;\n\n\t\t\t\t\t\t\t// Expand the text range along with mouse move.\n\t\t\t\t\t\t\tfunction onHover( evt ) {\n\t\t\t\t\t\t\t\tevt = evt.data.$;\n\t\t\t\t\t\t\t\tif ( textRng ) {\n\t\t\t\t\t\t\t\t\t// Read the current cursor.\n\t\t\t\t\t\t\t\t\tvar rngEnd = body.$.createTextRange();\n\n\t\t\t\t\t\t\t\t\tmoveRangeToPoint( rngEnd, evt.clientX, evt.clientY );\n\n\t\t\t\t\t\t\t\t\t// Handle drag directions.\n\t\t\t\t\t\t\t\t\ttextRng.setEndPoint(\n\t\t\t\t\t\t\t\t\t\tstartRng.compareEndPoints( 'StartToStart', rngEnd ) < 0 ?\n\t\t\t\t\t\t\t\t\t\t'EndToEnd' : 'StartToStart', rngEnd );\n\n\t\t\t\t\t\t\t\t\t// Update selection with new range.\n\t\t\t\t\t\t\t\t\ttextRng.select();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfunction removeListeners() {\n\t\t\t\t\t\t\t\touterDoc.removeListener( 'mouseup', onSelectEnd );\n\t\t\t\t\t\t\t\thtml.removeListener( 'mouseup', onSelectEnd );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfunction onSelectEnd() {\n\t\t\t\t\t\t\t\thtml.removeListener( 'mousemove', onHover );\n\t\t\t\t\t\t\t\tremoveListeners();\n\n\t\t\t\t\t\t\t\t// Make it in effect on mouse up. (#9022)\n\t\t\t\t\t\t\t\ttextRng.select();\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t// We're sure that the click happens at the region\n\t\t\t\t\t\t\t// below body, but not on scrollbar.\n\t\t\t\t\t\t\tif ( evt.getTarget().is( 'html' ) &&\n\t\t\t\t\t\t\t\t\tevt.$.y < html.$.clientHeight &&\n\t\t\t\t\t\t\t\t\tevt.$.x < html.$.clientWidth ) {\n\t\t\t\t\t\t\t\t// Start to build the text range.\n\t\t\t\t\t\t\t\tvar textRng = body.$.createTextRange();\n\t\t\t\t\t\t\t\tmoveRangeToPoint( textRng, evt.$.clientX, evt.$.clientY );\n\n\t\t\t\t\t\t\t\t// Records the dragging start of the above text range.\n\t\t\t\t\t\t\t\tvar startRng = textRng.duplicate();\n\n\t\t\t\t\t\t\t\thtml.on( 'mousemove', onHover );\n\t\t\t\t\t\t\t\touterDoc.on( 'mouseup', onSelectEnd );\n\t\t\t\t\t\t\t\thtml.on( 'mouseup', onSelectEnd );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t// It's much simpler for IE8+, we just need to reselect the reported range.\n\t\t\t\t\t// This hack does not work on IE>=11 because there's no old selection&range APIs.\n\t\t\t\t\tif ( CKEDITOR.env.version > 7 && CKEDITOR.env.version < 11 ) {\n\t\t\t\t\t\thtml.on( 'mousedown', function( evt ) {\n\t\t\t\t\t\t\tif ( evt.data.getTarget().is( 'html' ) ) {\n\t\t\t\t\t\t\t\t// Limit the text selection mouse move inside of editable. (#9715)\n\t\t\t\t\t\t\t\touterDoc.on( 'mouseup', onSelectEnd );\n\t\t\t\t\t\t\t\thtml.on( 'mouseup', onSelectEnd );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We check the selection change:\n\t\t\t// 1. Upon \"selectionchange\" event from the editable element. (which might be faked event fired by our code)\n\t\t\t// 2. After the accomplish of keyboard and mouse events.\n\t\t\teditable.attachListener( editable, 'selectionchange', checkSelectionChange, editor );\n\t\t\teditable.attachListener( editable, 'keyup', checkSelectionChangeTimeout, editor );\n\t\t\t// Always fire the selection change on focus gain.\n\t\t\t// On Webkit do this on DOMFocusIn, because the selection is unlocked on it too and\n\t\t\t// we need synchronization between those listeners to not lost cached editor._.previousActive property\n\t\t\t// (which is updated on selectionCheck).\n\t\t\teditable.attachListener( editable, CKEDITOR.env.webkit ? 'DOMFocusIn' : 'focus', function() {\n\t\t\t\teditor.forceNextSelectionCheck();\n\t\t\t\teditor.selectionChange( 1 );\n\t\t\t} );\n\n\t\t\t// #9699: On Webkit&Gecko in inline editor we have to check selection when it was changed\n\t\t\t// by dragging and releasing mouse button outside editable. Dragging (mousedown)\n\t\t\t// has to be initialized in editable, but for mouseup we listen on document element.\n\t\t\tif ( isInline && ( CKEDITOR.env.webkit || CKEDITOR.env.gecko ) ) {\n\t\t\t\tvar mouseDown;\n\t\t\t\teditable.attachListener( editable, 'mousedown', function() {\n\t\t\t\t\tmouseDown = 1;\n\t\t\t\t} );\n\t\t\t\teditable.attachListener( doc.getDocumentElement(), 'mouseup', function() {\n\t\t\t\t\tif ( mouseDown )\n\t\t\t\t\t\tcheckSelectionChangeTimeout.call( editor );\n\t\t\t\t\tmouseDown = 0;\n\t\t\t\t} );\n\t\t\t}\n\t\t\t// In all other cases listen on simple mouseup over editable, as we did before #9699.\n\t\t\t//\n\t\t\t// Use document instead of editable in non-IEs for observing mouseup\n\t\t\t// since editable won't fire the event if selection process started within iframe and ended out\n\t\t\t// of the editor (#9851).\n\t\t\telse {\n\t\t\t\teditable.attachListener( CKEDITOR.env.ie ? editable : doc.getDocumentElement(), 'mouseup', checkSelectionChangeTimeout, editor );\n\t\t\t}\n\n\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t// Before keystroke is handled by editor, check to remove the filling char.\n\t\t\t\teditable.attachListener( doc, 'keydown', function( evt ) {\n\t\t\t\t\tvar key = evt.data.getKey();\n\t\t\t\t\t// Remove the filling char before some keys get\n\t\t\t\t\t// executed, so they'll not get blocked by it.\n\t\t\t\t\tswitch ( key ) {\n\t\t\t\t\t\tcase 13: // ENTER\n\t\t\t\t\t\tcase 33: // PAGEUP\n\t\t\t\t\t\tcase 34: // PAGEDOWN\n\t\t\t\t\t\tcase 35: // HOME\n\t\t\t\t\t\tcase 36: // END\n\t\t\t\t\t\tcase 37: // LEFT-ARROW\n\t\t\t\t\t\tcase 39: // RIGHT-ARROW\n\t\t\t\t\t\tcase 8: // BACKSPACE\n\t\t\t\t\t\tcase 45: // INS\n\t\t\t\t\t\tcase 46: // DEl\n\t\t\t\t\t\t\tremoveFillingCharSequenceNode( editable );\n\t\t\t\t\t}\n\n\t\t\t\t}, null, null, -1 );\n\t\t\t}\n\n\t\t\t// Automatically select non-editable element when navigating into\n\t\t\t// it by left/right or backspace/del keys.\n\t\t\teditable.attachListener( editable, 'keydown', getOnKeyDownListener( editor ), null, null, -1 );\n\n\t\t\tfunction moveRangeToPoint( range, x, y ) {\n\t\t\t\t// Error prune in IE7. (#9034, #9110)\n\t\t\t\ttry {\n\t\t\t\t\trange.moveToPoint( x, y );\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tfunction removeListeners() {\n\t\t\t\touterDoc.removeListener( 'mouseup', onSelectEnd );\n\t\t\t\thtml.removeListener( 'mouseup', onSelectEnd );\n\t\t\t}\n\n\t\t\tfunction onSelectEnd() {\n\t\t\t\tremoveListeners();\n\n\t\t\t\t// The event is not fired when clicking on the scrollbars,\n\t\t\t\t// so we can safely check the following to understand\n\t\t\t\t// whether the empty space following <body> has been clicked.\n\t\t\t\tvar sel = CKEDITOR.document.$.selection,\n\t\t\t\t\trange = sel.createRange();\n\n\t\t\t\t// The selection range is reported on host, but actually it should applies to the content doc.\n\t\t\t\tif ( sel.type != 'None' && range.parentElement().ownerDocument == doc.$ )\n\t\t\t\t\trange.select();\n\t\t\t}\n\t\t} );\n\n\t\teditor.on( 'setData', function() {\n\t\t\t// Invalidate locked selection when unloading DOM.\n\t\t\t// (#9521, #5217#comment:32 and #11500#comment:11)\n\t\t\teditor.unlockSelection();\n\n\t\t\t// Webkit's selection will mess up after the data loading.\n\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\tclearSelection();\n\t\t} );\n\n\t\t// Catch all the cases which above setData listener couldn't catch.\n\t\t// For example: switching to source mode and destroying editor.\n\t\teditor.on( 'contentDomUnload', function() {\n\t\t\teditor.unlockSelection();\n\t\t} );\n\n\t\t// IE9 might cease to work if there's an object selection inside the iframe (#7639).\n\t\tif ( CKEDITOR.env.ie9Compat )\n\t\t\teditor.on( 'beforeDestroy', clearSelection, null, null, 9 );\n\n\t\t// Check selection change on data reload.\n\t\teditor.on( 'dataReady', function() {\n\t\t\t// Clean up fake selection after setting data.\n\t\t\tdelete editor._.fakeSelection;\n\t\t\tdelete editor._.hiddenSelectionContainer;\n\n\t\t\teditor.selectionChange( 1 );\n\t\t} );\n\n\t\t// When loaded data are ready check whether hidden selection container was not loaded.\n\t\teditor.on( 'loadSnapshot', function() {\n\t\t\tvar isElement = CKEDITOR.dom.walker.nodeType( CKEDITOR.NODE_ELEMENT ),\n\t\t\t\t// TODO replace with el.find() which will be introduced in #9764,\n\t\t\t\t// because it may happen that hidden sel container won't be the last element.\n\t\t\t\tlast = editor.editable().getLast( isElement );\n\n\t\t\tif ( last && last.hasAttribute( 'data-cke-hidden-sel' ) ) {\n\t\t\t\tlast.remove();\n\n\t\t\t\t// Firefox does a very unfortunate thing. When a non-editable element is the only\n\t\t\t\t// element in the editable, when we remove the hidden selection container, Firefox\n\t\t\t\t// will insert a bogus <br> at the beginning of the editable...\n\t\t\t\t// See: https://bugzilla.mozilla.org/show_bug.cgi?id=911201\n\t\t\t\t//\n\t\t\t\t// This behavior is never desired because this <br> pushes the content lower, but in\n\t\t\t\t// this case it is especially dangerous, because it happens when a bookmark is being restored.\n\t\t\t\t// Since this <br> is inserted at the beginning it changes indexes and thus breaks the bookmark2\n\t\t\t\t// what results in errors.\n\t\t\t\t//\n\t\t\t\t// So... let's revert what Firefox broke.\n\t\t\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\t\t\tvar first = editor.editable().getFirst( isElement );\n\t\t\t\t\tif ( first && first.is( 'br' ) && first.getAttribute( '_moz_editor_bogus_node' ) ) {\n\t\t\t\t\t\tfirst.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, null, null, 100 );\n\n\t\teditor.on( 'key', function( evt ) {\n\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\treturn;\n\n\t\t\tvar sel = editor.getSelection();\n\t\t\tif ( !sel.isFake )\n\t\t\t\treturn;\n\n\t\t\tvar handler = fakeSelectionDefaultKeystrokeHandlers[ evt.data.keyCode ];\n\t\t\tif ( handler )\n\t\t\t\treturn handler( { editor: editor, selected: sel.getSelectedElement(), selection: sel, keyEvent: evt } );\n\t\t} );\n\n\t\tfunction clearSelection() {\n\t\t\tvar sel = editor.getSelection();\n\t\t\tsel && sel.removeAllRanges();\n\t\t}\n\t} );\n\n\t// On WebKit only, we need a special \"filling\" char on some situations\n\t// (#1272). Here we set the events that should invalidate that char.\n\tif ( CKEDITOR.env.webkit ) {\n\t\tCKEDITOR.on( 'instanceReady', function( evt ) {\n\t\t\tvar editor = evt.editor;\n\n\t\t\teditor.on( 'selectionChange', function() {\n\t\t\t\tcheckFillingCharSequenceNodeReady( editor.editable() );\n\t\t\t}, null, null, -1 );\n\n\t\t\teditor.on( 'beforeSetMode', function() {\n\t\t\t\tremoveFillingCharSequenceNode( editor.editable() );\n\t\t\t}, null, null, -1 );\n\n\t\t\t// Filter Undo snapshot's HTML to get rid of Filling Char Sequence.\n\t\t\t// Note: CKEDITOR.dom.range.createBookmark2() normalizes snapshot's\n\t\t\t// bookmarks to anticipate the removal of FCSeq from the snapshot's HTML (#13816).\n\t\t\teditor.on( 'getSnapshot', function( evt ) {\n\t\t\t\tif ( evt.data ) {\n\t\t\t\t\tevt.data = removeFillingCharSequenceString( evt.data );\n\t\t\t\t}\n\t\t\t}, editor, null, 20 );\n\n\t\t\t// Filter data to get rid of Filling Char Sequence. Filter on #toDataFormat\n\t\t\t// instead of #getData because once removed, FCSeq may leave an empty element,\n\t\t\t// which should be pruned by the dataProcessor (#13816).\n\t\t\t// Note: Used low priority to filter when dataProcessor works on strings,\n\t\t\t// not pseudo–DOM.\n\t\t\teditor.on( 'toDataFormat', function( evt ) {\n\t\t\t\tevt.data.dataValue = removeFillingCharSequenceString( evt.data.dataValue );\n\t\t\t}, null, null, 0 );\n\t\t} );\n\t}\n\n\t/**\n\t * Check the selection change in editor and potentially fires\n\t * the {@link CKEDITOR.editor#event-selectionChange} event.\n\t *\n\t * @method\n\t * @member CKEDITOR.editor\n\t * @param {Boolean} [checkNow=false] Force the check to happen immediately\n\t * instead of coming with a timeout delay (default).\n\t */\n\tCKEDITOR.editor.prototype.selectionChange = function( checkNow ) {\n\t\t( checkNow ? checkSelectionChange : checkSelectionChangeTimeout ).call( this );\n\t};\n\n\t/**\n\t * Retrieve the editor selection in scope of editable element.\n\t *\n\t * **Note:** Since the native browser selection provides only one single\n\t * selection at a time per document, so if editor's editable element has lost focus,\n\t * this method will return a null value unless the {@link CKEDITOR.editor#lockSelection}\n\t * has been called beforehand so the saved selection is retrieved.\n\t *\n\t *\t\tvar selection = CKEDITOR.instances.editor1.getSelection();\n\t *\t\talert( selection.getType() );\n\t *\n\t * @method\n\t * @member CKEDITOR.editor\n\t * @param {Boolean} forceRealSelection Return real selection, instead of saved or fake one.\n\t * @returns {CKEDITOR.dom.selection} A selection object or null if not available for the moment.\n\t */\n\tCKEDITOR.editor.prototype.getSelection = function( forceRealSelection ) {\n\n\t\t// Check if there exists a locked or fake selection.\n\t\tif ( ( this._.savedSelection || this._.fakeSelection ) && !forceRealSelection )\n\t\t\treturn this._.savedSelection || this._.fakeSelection;\n\n\t\t// Editable element might be absent or editor might not be in a wysiwyg mode.\n\t\tvar editable = this.editable();\n\t\treturn editable && this.mode == 'wysiwyg' ? new CKEDITOR.dom.selection( editable ) : null;\n\t};\n\n\t/**\n\t * Locks the selection made in the editor in order to make it possible to\n\t * manipulate it without browser interference. A locked selection is\n\t * cached and remains unchanged until it is released with the\n\t * {@link CKEDITOR.editor#unlockSelection} method.\n\t *\n\t * @method\n\t * @member CKEDITOR.editor\n\t * @param {CKEDITOR.dom.selection} [sel] Specify the selection to be locked.\n\t * @returns {Boolean} `true` if selection was locked.\n\t */\n\tCKEDITOR.editor.prototype.lockSelection = function( sel ) {\n\t\tsel = sel || this.getSelection( 1 );\n\t\tif ( sel.getType() != CKEDITOR.SELECTION_NONE ) {\n\t\t\t!sel.isLocked && sel.lock();\n\t\t\tthis._.savedSelection = sel;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Unlocks the selection made in the editor and locked with the\n\t * {@link CKEDITOR.editor#unlockSelection} method. An unlocked selection\n\t * is no longer cached and can be changed.\n\t *\n\t * @method\n\t * @member CKEDITOR.editor\n\t * @param {Boolean} [restore] If set to `true`, the selection is\n\t * restored back to the selection saved earlier by using the\n\t * {@link CKEDITOR.dom.selection#lock} method.\n\t */\n\tCKEDITOR.editor.prototype.unlockSelection = function( restore ) {\n\t\tvar sel = this._.savedSelection;\n\t\tif ( sel ) {\n\t\t\tsel.unlock( restore );\n\t\t\tdelete this._.savedSelection;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n\t * @method\n\t * @member CKEDITOR.editor\n\t * @todo\n\t */\n\tCKEDITOR.editor.prototype.forceNextSelectionCheck = function() {\n\t\tdelete this._.selectionPreviousPath;\n\t};\n\n\t/**\n\t * Gets the current selection in context of the document's body element.\n\t *\n\t *\t\tvar selection = CKEDITOR.instances.editor1.document.getSelection();\n\t *\t\talert( selection.getType() );\n\t *\n\t * @method\n\t * @member CKEDITOR.dom.document\n\t * @returns {CKEDITOR.dom.selection} A selection object.\n\t */\n\tCKEDITOR.dom.document.prototype.getSelection = function() {\n\t\treturn new CKEDITOR.dom.selection( this );\n\t};\n\n\t/**\n\t * Select this range as the only one with {@link CKEDITOR.dom.selection#selectRanges}.\n\t *\n\t * @method\n\t * @returns {CKEDITOR.dom.selection}\n\t * @member CKEDITOR.dom.range\n\t */\n\tCKEDITOR.dom.range.prototype.select = function() {\n\t\tvar sel = this.root instanceof CKEDITOR.editable ? this.root.editor.getSelection() : new CKEDITOR.dom.selection( this.root );\n\n\t\tsel.selectRanges( [ this ] );\n\n\t\treturn sel;\n\t};\n\n\t/**\n\t * No selection.\n\t *\n\t *\t\tif ( editor.getSelection().getType() == CKEDITOR.SELECTION_NONE )\n\t *\t\t\talert( 'Nothing is selected' );\n\t *\n\t * @readonly\n\t * @property {Number} [=1]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.SELECTION_NONE = 1;\n\n\t/**\n\t * A text or a collapsed selection.\n\t *\n\t *\t\tif ( editor.getSelection().getType() == CKEDITOR.SELECTION_TEXT )\n\t *\t\t\talert( 'A text is selected' );\n\t *\n\t * @readonly\n\t * @property {Number} [=2]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.SELECTION_TEXT = 2;\n\n\t/**\n\t * Element selection.\n\t *\n\t *\t\tif ( editor.getSelection().getType() == CKEDITOR.SELECTION_ELEMENT )\n\t *\t\t\talert( 'An element is selected' );\n\t *\n\t * @readonly\n\t * @property {Number} [=3]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.SELECTION_ELEMENT = 3;\n\n\tvar isMSSelection = typeof window.getSelection != 'function',\n\t\tnextRev = 1;\n\n\t/**\n\t * Manipulates the selection within a DOM element. If the current browser selection\n\t * spans outside of the element, an empty selection object is returned.\n\t *\n\t * Despite the fact that selection's constructor allows to create selection instances,\n\t * usually it's better to get selection from the editor instance:\n\t *\n\t *\t\tvar sel = editor.getSelection();\n\t *\n\t * See {@link CKEDITOR.editor#getSelection}.\n\t *\n\t * @class\n\t * @constructor Creates a selection class instance.\n\t *\n\t *\t\t// Selection scoped in document.\n\t *\t\tvar sel = new CKEDITOR.dom.selection( CKEDITOR.document );\n\t *\n\t *\t\t// Selection scoped in element with 'editable' id.\n\t *\t\tvar sel = new CKEDITOR.dom.selection( CKEDITOR.document.getById( 'editable' ) );\n\t *\n\t *\t\t// Cloning selection.\n\t *\t\tvar clone = new CKEDITOR.dom.selection( sel );\n\t *\n\t * @param {CKEDITOR.dom.document/CKEDITOR.dom.element/CKEDITOR.dom.selection} target\n\t * The DOM document/element that the DOM selection is restrained to. Only selection which spans\n\t * within the target element is considered as valid.\n\t *\n\t * If {@link CKEDITOR.dom.selection} is passed, then its clone will be created.\n\t */\n\tCKEDITOR.dom.selection = function( target ) {\n\t\t// Target is a selection - clone it.\n\t\tif ( target instanceof CKEDITOR.dom.selection ) {\n\t\t\tvar selection = target;\n\t\t\ttarget = target.root;\n\t\t}\n\n\t\tvar isElement = target instanceof CKEDITOR.dom.element,\n\t\t\troot;\n\n\t\tthis.rev = selection ? selection.rev : nextRev++;\n\t\tthis.document = target instanceof CKEDITOR.dom.document ? target : target.getDocument();\n\t\tthis.root = root = isElement ? target : this.document.getBody();\n\t\tthis.isLocked = 0;\n\t\tthis._ = {\n\t\t\tcache: {}\n\t\t};\n\n\t\t// Clone selection.\n\t\tif ( selection ) {\n\t\t\tCKEDITOR.tools.extend( this._.cache, selection._.cache );\n\t\t\tthis.isFake = selection.isFake;\n\t\t\tthis.isLocked = selection.isLocked;\n\t\t\treturn this;\n\t\t}\n\n\t\t// Check whether browser focus is really inside of the editable element.\n\n\t\tvar nativeSel = this.getNative(),\n\t\t\trangeParent,\n\t\t\trange;\n\n\t\tif ( nativeSel ) {\n\t\t\tif ( nativeSel.getRangeAt ) {\n\t\t\t\trange = nativeSel.rangeCount && nativeSel.getRangeAt( 0 );\n\t\t\t\trangeParent = range && new CKEDITOR.dom.node( range.commonAncestorContainer );\n\t\t\t}\n\t\t\t// For old IEs.\n\t\t\telse {\n\t\t\t\t// Sometimes, mostly when selection is close to the table or hr,\n\t\t\t\t// IE throws \"Unspecified error\".\n\t\t\t\ttry {\n\t\t\t\t\trange = nativeSel.createRange();\n\t\t\t\t} catch ( err ) {}\n\t\t\t\trangeParent = range && CKEDITOR.dom.element.get( range.item && range.item( 0 ) || range.parentElement() );\n\t\t\t}\n\t\t}\n\n\t\t// Selection out of concerned range, empty the selection.\n\t\t// TODO check whether this condition cannot be reverted to its old\n\t\t// form (commented out) after we closed #10438.\n\t\t//if ( !( rangeParent && ( root.equals( rangeParent ) || root.contains( rangeParent ) ) ) ) {\n\t\tif ( !(\n\t\t\trangeParent &&\n\t\t\t( rangeParent.type == CKEDITOR.NODE_ELEMENT || rangeParent.type == CKEDITOR.NODE_TEXT ) &&\n\t\t\t( this.root.equals( rangeParent ) || this.root.contains( rangeParent ) )\n\t\t) ) {\n\n\t\t\tthis._.cache.type = CKEDITOR.SELECTION_NONE;\n\t\t\tthis._.cache.startElement = null;\n\t\t\tthis._.cache.selectedElement = null;\n\t\t\tthis._.cache.selectedText = '';\n\t\t\tthis._.cache.ranges = new CKEDITOR.dom.rangeList();\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tvar styleObjectElements = { img: 1, hr: 1, li: 1, table: 1, tr: 1, td: 1, th: 1, embed: 1, object: 1, ol: 1, ul: 1,\n\t\t\ta: 1, input: 1, form: 1, select: 1, textarea: 1, button: 1, fieldset: 1, thead: 1, tfoot: 1 };\n\n\t// #13816\n\tvar fillingCharSequence = CKEDITOR.tools.repeat( '\\u200b', 7 ),\n\t\tfillingCharSequenceRegExp = new RegExp( fillingCharSequence + '( )?', 'g' );\n\n\tCKEDITOR.tools.extend( CKEDITOR.dom.selection, {\n\t\t_removeFillingCharSequenceString: removeFillingCharSequenceString,\n\t\t_createFillingCharSequenceNode: createFillingCharSequenceNode,\n\n\t\t/**\n\t\t * The sequence used in a WebKit-based browser to create a Filling Character. By default it is\n\t\t * a string of 7 zero-width space characters (U+200B).\n\t\t *\n\t\t * @since 4.5.7\n\t\t * @readonly\n\t\t * @property {String}\n\t\t */\n\t\tFILLING_CHAR_SEQUENCE: fillingCharSequence\n\t} );\n\n\tCKEDITOR.dom.selection.prototype = {\n\t\t/**\n\t\t * Gets the native selection object from the browser.\n\t\t *\n\t\t *\t\tvar selection = editor.getSelection().getNative();\n\t\t *\n\t\t * @returns {Object} The native browser selection object.\n\t\t */\n\t\tgetNative: function() {\n\t\t\tif ( this._.cache.nativeSel !== undefined )\n\t\t\t\treturn this._.cache.nativeSel;\n\n\t\t\treturn ( this._.cache.nativeSel = isMSSelection ? this.document.$.selection : this.document.getWindow().$.getSelection() );\n\t\t},\n\n\t\t/**\n\t\t * Gets the type of the current selection. The following values are\n\t\t * available:\n\t\t *\n\t\t * * {@link CKEDITOR#SELECTION_NONE} (1): No selection.\n\t\t * * {@link CKEDITOR#SELECTION_TEXT} (2): A text or a collapsed selection is selected.\n\t\t * * {@link CKEDITOR#SELECTION_ELEMENT} (3): An element is selected.\n\t\t *\n\t\t * Example:\n\t\t *\n\t\t *\t\tif ( editor.getSelection().getType() == CKEDITOR.SELECTION_TEXT )\n\t\t *\t\t\talert( 'A text is selected' );\n\t\t *\n\t\t * @method\n\t\t * @returns {Number} One of the following constant values: {@link CKEDITOR#SELECTION_NONE},\n\t\t * {@link CKEDITOR#SELECTION_TEXT} or {@link CKEDITOR#SELECTION_ELEMENT}.\n\t\t */\n\t\tgetType: isMSSelection ?\n\t\tfunction() {\n\t\t\tvar cache = this._.cache;\n\t\t\tif ( cache.type )\n\t\t\t\treturn cache.type;\n\n\t\t\tvar type = CKEDITOR.SELECTION_NONE;\n\n\t\t\ttry {\n\t\t\t\tvar sel = this.getNative(),\n\t\t\t\t\tieType = sel.type;\n\n\t\t\t\tif ( ieType == 'Text' )\n\t\t\t\t\ttype = CKEDITOR.SELECTION_TEXT;\n\n\t\t\t\tif ( ieType == 'Control' )\n\t\t\t\t\ttype = CKEDITOR.SELECTION_ELEMENT;\n\n\t\t\t\t// It is possible that we can still get a text range\n\t\t\t\t// object even when type == 'None' is returned by IE.\n\t\t\t\t// So we'd better check the object returned by\n\t\t\t\t// createRange() rather than by looking at the type.\n\t\t\t\tif ( sel.createRange().parentElement() )\n\t\t\t\t\ttype = CKEDITOR.SELECTION_TEXT;\n\t\t\t} catch ( e ) {}\n\n\t\t\treturn ( cache.type = type );\n\t\t} : function() {\n\t\t\tvar cache = this._.cache;\n\t\t\tif ( cache.type )\n\t\t\t\treturn cache.type;\n\n\t\t\tvar type = CKEDITOR.SELECTION_TEXT;\n\n\t\t\tvar sel = this.getNative();\n\n\t\t\tif ( !( sel && sel.rangeCount ) )\n\t\t\t\ttype = CKEDITOR.SELECTION_NONE;\n\t\t\telse if ( sel.rangeCount == 1 ) {\n\t\t\t\t// Check if the actual selection is a control (IMG,\n\t\t\t\t// TABLE, HR, etc...).\n\n\t\t\t\tvar range = sel.getRangeAt( 0 ),\n\t\t\t\t\tstartContainer = range.startContainer;\n\n\t\t\t\tif ( startContainer == range.endContainer && startContainer.nodeType == 1 &&\n\t\t\t\t\t( range.endOffset - range.startOffset ) == 1 &&\n\t\t\t\t\tstyleObjectElements[ startContainer.childNodes[ range.startOffset ].nodeName.toLowerCase() ] ) {\n\t\t\t\t\ttype = CKEDITOR.SELECTION_ELEMENT;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn ( cache.type = type );\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the {@link CKEDITOR.dom.range} instances that represent the current selection.\n\t\t *\n\t\t * Note: Some browsers return multiple ranges even for a continuous selection. Firefox, for example, returns\n\t\t * one range for each table cell when one or more table rows are selected.\n\t\t *\n\t\t *\t\tvar ranges = selection.getRanges();\n\t\t *\t\talert( ranges.length );\n\t\t *\n\t\t * @method\n\t\t * @param {Boolean} [onlyEditables] If set to `true`, this function retrives editable ranges only.\n\t\t * @returns {Array} Range instances that represent the current selection.\n\t\t */\n\t\tgetRanges: ( function() {\n\t\t\tvar func = isMSSelection ? ( function() {\n\t\t\t\tfunction getNodeIndex( node ) {\n\t\t\t\t\treturn new CKEDITOR.dom.node( node ).getIndex();\n\t\t\t\t}\n\n\t\t\t\t// Finds the container and offset for a specific boundary\n\t\t\t\t// of an IE range.\n\t\t\t\tvar getBoundaryInformation = function( range, start ) {\n\t\t\t\t\t// Creates a collapsed range at the requested boundary.\n\t\t\t\t\trange = range.duplicate();\n\t\t\t\t\trange.collapse( start );\n\n\t\t\t\t\t// Gets the element that encloses the range entirely.\n\t\t\t\t\tvar parent = range.parentElement();\n\n\t\t\t\t\t// Empty parent element, e.g. <i>^</i>\n\t\t\t\t\tif ( !parent.hasChildNodes() )\n\t\t\t\t\t\treturn { container: parent, offset: 0 };\n\n\t\t\t\t\tvar siblings = parent.children,\n\t\t\t\t\t\tchild, sibling,\n\t\t\t\t\t\ttestRange = range.duplicate(),\n\t\t\t\t\t\tstartIndex = 0,\n\t\t\t\t\t\tendIndex = siblings.length - 1,\n\t\t\t\t\t\tindex = -1,\n\t\t\t\t\t\tposition, distance, container;\n\n\t\t\t\t\t// Binary search over all element childs to test the range to see whether\n\t\t\t\t\t// range is right on the boundary of one element.\n\t\t\t\t\twhile ( startIndex <= endIndex ) {\n\t\t\t\t\t\tindex = Math.floor( ( startIndex + endIndex ) / 2 );\n\t\t\t\t\t\tchild = siblings[ index ];\n\t\t\t\t\t\ttestRange.moveToElementText( child );\n\t\t\t\t\t\tposition = testRange.compareEndPoints( 'StartToStart', range );\n\n\t\t\t\t\t\tif ( position > 0 )\n\t\t\t\t\t\t\tendIndex = index - 1;\n\t\t\t\t\t\telse if ( position < 0 )\n\t\t\t\t\t\t\tstartIndex = index + 1;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn { container: parent, offset: getNodeIndex( child ) };\n\t\t\t\t\t}\n\n\t\t\t\t\t// All childs are text nodes,\n\t\t\t\t\t// or to the right hand of test range are all text nodes. (#6992)\n\t\t\t\t\tif ( index == -1 || index == siblings.length - 1 && position < 0 ) {\n\t\t\t\t\t\t// Adapt test range to embrace the entire parent contents.\n\t\t\t\t\t\ttestRange.moveToElementText( parent );\n\t\t\t\t\t\ttestRange.setEndPoint( 'StartToStart', range );\n\n\t\t\t\t\t\t// IE report line break as CRLF with range.text but\n\t\t\t\t\t\t// only LF with textnode.nodeValue, normalize them to avoid\n\t\t\t\t\t\t// breaking character counting logic below. (#3949)\n\t\t\t\t\t\tdistance = testRange.text.replace( /(\\r\\n|\\r)/g, '\\n' ).length;\n\n\t\t\t\t\t\tsiblings = parent.childNodes;\n\n\t\t\t\t\t\t// Actual range anchor right beside test range at the boundary of text node.\n\t\t\t\t\t\tif ( !distance ) {\n\t\t\t\t\t\t\tchild = siblings[ siblings.length - 1 ];\n\n\t\t\t\t\t\t\tif ( child.nodeType != CKEDITOR.NODE_TEXT )\n\t\t\t\t\t\t\t\treturn { container: parent, offset: siblings.length };\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\treturn { container: child, offset: child.nodeValue.length };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Start the measuring until distance overflows, meanwhile count the text nodes.\n\t\t\t\t\t\tvar i = siblings.length;\n\t\t\t\t\t\twhile ( distance > 0 && i > 0 ) {\n\t\t\t\t\t\t\tsibling = siblings[ --i ];\n\t\t\t\t\t\t\tif ( sibling.nodeType == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\t\t\tcontainer = sibling;\n\t\t\t\t\t\t\t\tdistance -= sibling.nodeValue.length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn { container: container, offset: -distance };\n\t\t\t\t\t}\n\t\t\t\t\t// Test range was one offset beyond OR behind the anchored text node.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Adapt one side of test range to the actual range\n\t\t\t\t\t\t// for measuring the offset between them.\n\t\t\t\t\t\ttestRange.collapse( position > 0 ? true : false );\n\t\t\t\t\t\ttestRange.setEndPoint( position > 0 ? 'StartToStart' : 'EndToStart', range );\n\n\t\t\t\t\t\t// IE report line break as CRLF with range.text but\n\t\t\t\t\t\t// only LF with textnode.nodeValue, normalize them to avoid\n\t\t\t\t\t\t// breaking character counting logic below. (#3949)\n\t\t\t\t\t\tdistance = testRange.text.replace( /(\\r\\n|\\r)/g, '\\n' ).length;\n\n\t\t\t\t\t\t// Actual range anchor right beside test range at the inner boundary of text node.\n\t\t\t\t\t\tif ( !distance )\n\t\t\t\t\t\t\treturn { container: parent, offset: getNodeIndex( child ) + ( position > 0 ? 0 : 1 ) };\n\n\t\t\t\t\t\t// Start the measuring until distance overflows, meanwhile count the text nodes.\n\t\t\t\t\t\twhile ( distance > 0 ) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tsibling = child[ position > 0 ? 'previousSibling' : 'nextSibling' ];\n\t\t\t\t\t\t\t\tif ( sibling.nodeType == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\t\t\t\t\tdistance -= sibling.nodeValue.length;\n\t\t\t\t\t\t\t\t\tcontainer = sibling;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchild = sibling;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Measurement in IE could be somtimes wrong because of <select> element. (#4611)\n\t\t\t\t\t\t\tcatch ( e ) {\n\t\t\t\t\t\t\t\treturn { container: parent, offset: getNodeIndex( child ) };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn { container: container, offset: position > 0 ? -distance : container.nodeValue.length + distance };\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\t// IE doesn't have range support (in the W3C way), so we\n\t\t\t\t\t// need to do some magic to transform selections into\n\t\t\t\t\t// CKEDITOR.dom.range instances.\n\n\t\t\t\t\tvar sel = this.getNative(),\n\t\t\t\t\t\tnativeRange = sel && sel.createRange(),\n\t\t\t\t\t\ttype = this.getType(),\n\t\t\t\t\t\trange;\n\n\t\t\t\t\tif ( !sel )\n\t\t\t\t\t\treturn [];\n\n\t\t\t\t\tif ( type == CKEDITOR.SELECTION_TEXT ) {\n\t\t\t\t\t\trange = new CKEDITOR.dom.range( this.root );\n\n\t\t\t\t\t\tvar boundaryInfo = getBoundaryInformation( nativeRange, true );\n\t\t\t\t\t\trange.setStart( new CKEDITOR.dom.node( boundaryInfo.container ), boundaryInfo.offset );\n\n\t\t\t\t\t\tboundaryInfo = getBoundaryInformation( nativeRange );\n\t\t\t\t\t\trange.setEnd( new CKEDITOR.dom.node( boundaryInfo.container ), boundaryInfo.offset );\n\n\t\t\t\t\t\t// Correct an invalid IE range case on empty list item. (#5850)\n\t\t\t\t\t\tif ( range.endContainer.getPosition( range.startContainer ) & CKEDITOR.POSITION_PRECEDING && range.endOffset <= range.startContainer.getIndex() )\n\t\t\t\t\t\t\trange.collapse();\n\n\t\t\t\t\t\treturn [ range ];\n\t\t\t\t\t} else if ( type == CKEDITOR.SELECTION_ELEMENT ) {\n\t\t\t\t\t\tvar retval = [];\n\n\t\t\t\t\t\tfor ( var i = 0; i < nativeRange.length; i++ ) {\n\t\t\t\t\t\t\tvar element = nativeRange.item( i ),\n\t\t\t\t\t\t\t\tparentElement = element.parentNode,\n\t\t\t\t\t\t\t\tj = 0;\n\n\t\t\t\t\t\t\trange = new CKEDITOR.dom.range( this.root );\n\n\t\t\t\t\t\t\tfor ( ; j < parentElement.childNodes.length && parentElement.childNodes[ j ] != element; j++ ) {\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\trange.setStart( new CKEDITOR.dom.node( parentElement ), j );\n\t\t\t\t\t\t\trange.setEnd( new CKEDITOR.dom.node( parentElement ), j + 1 );\n\t\t\t\t\t\t\tretval.push( range );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn retval;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [];\n\t\t\t\t};\n\t\t\t} )() :\n\t\t\tfunction() {\n\t\t\t\t// On browsers implementing the W3C range, we simply\n\t\t\t\t// tranform the native ranges in CKEDITOR.dom.range\n\t\t\t\t// instances.\n\n\t\t\t\tvar ranges = [],\n\t\t\t\t\trange,\n\t\t\t\t\tsel = this.getNative();\n\n\t\t\t\tif ( !sel )\n\t\t\t\t\treturn ranges;\n\n\t\t\t\tfor ( var i = 0; i < sel.rangeCount; i++ ) {\n\t\t\t\t\tvar nativeRange = sel.getRangeAt( i );\n\n\t\t\t\t\trange = new CKEDITOR.dom.range( this.root );\n\n\t\t\t\t\trange.setStart( new CKEDITOR.dom.node( nativeRange.startContainer ), nativeRange.startOffset );\n\t\t\t\t\trange.setEnd( new CKEDITOR.dom.node( nativeRange.endContainer ), nativeRange.endOffset );\n\t\t\t\t\tranges.push( range );\n\t\t\t\t}\n\t\t\t\treturn ranges;\n\t\t\t};\n\n\t\t\treturn function( onlyEditables ) {\n\t\t\t\tvar cache = this._.cache,\n\t\t\t\t\tranges = cache.ranges;\n\n\t\t\t\tif ( !ranges )\n\t\t\t\t\tcache.ranges = ranges = new CKEDITOR.dom.rangeList( func.call( this ) );\n\n\t\t\t\tif ( !onlyEditables )\n\t\t\t\t\treturn ranges;\n\n\t\t\t\t// Split range into multiple by read-only nodes.\n\t\t\t\t// Clone ranges array to avoid changing cached ranges (#11493).\n\t\t\t\treturn extractEditableRanges( new CKEDITOR.dom.rangeList( ranges.slice() ) );\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets the DOM element in which the selection starts.\n\t\t *\n\t\t *\t\tvar element = editor.getSelection().getStartElement();\n\t\t *\t\talert( element.getName() );\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} The element at the beginning of the selection.\n\t\t */\n\t\tgetStartElement: function() {\n\t\t\tvar cache = this._.cache;\n\t\t\tif ( cache.startElement !== undefined )\n\t\t\t\treturn cache.startElement;\n\n\t\t\tvar node;\n\n\t\t\tswitch ( this.getType() ) {\n\t\t\t\tcase CKEDITOR.SELECTION_ELEMENT:\n\t\t\t\t\treturn this.getSelectedElement();\n\n\t\t\t\tcase CKEDITOR.SELECTION_TEXT:\n\n\t\t\t\t\tvar range = this.getRanges()[ 0 ];\n\n\t\t\t\t\tif ( range ) {\n\t\t\t\t\t\tif ( !range.collapsed ) {\n\t\t\t\t\t\t\trange.optimize();\n\n\t\t\t\t\t\t\t// Decrease the range content to exclude particial\n\t\t\t\t\t\t\t// selected node on the start which doesn't have\n\t\t\t\t\t\t\t// visual impact. ( #3231 )\n\t\t\t\t\t\t\twhile ( 1 ) {\n\t\t\t\t\t\t\t\tvar startContainer = range.startContainer,\n\t\t\t\t\t\t\t\t\tstartOffset = range.startOffset;\n\t\t\t\t\t\t\t\t// Limit the fix only to non-block elements.(#3950)\n\t\t\t\t\t\t\t\tif ( startOffset == ( startContainer.getChildCount ? startContainer.getChildCount() : startContainer.getLength() ) && !startContainer.isBlockBoundary() )\n\t\t\t\t\t\t\t\t\trange.setStartAfter( startContainer );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnode = range.startContainer;\n\n\t\t\t\t\t\t\tif ( node.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\t\t\treturn node.getParent();\n\n\t\t\t\t\t\t\tnode = node.getChild( range.startOffset );\n\n\t\t\t\t\t\t\tif ( !node || node.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\t\t\tnode = range.startContainer;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar child = node.getFirst();\n\t\t\t\t\t\t\t\twhile ( child && child.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t\t\t\tnode = child;\n\t\t\t\t\t\t\t\t\tchild = child.getFirst();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode = range.startContainer;\n\t\t\t\t\t\t\tif ( node.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\t\t\tnode = node.getParent();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnode = node.$;\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn cache.startElement = ( node ? new CKEDITOR.dom.element( node ) : null );\n\t\t},\n\n\t\t/**\n\t\t * Gets the currently selected element.\n\t\t *\n\t\t *\t\tvar element = editor.getSelection().getSelectedElement();\n\t\t *\t\talert( element.getName() );\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} The selected element. Null if no\n\t\t * selection is available or the selection type is not {@link CKEDITOR#SELECTION_ELEMENT}.\n\t\t */\n\t\tgetSelectedElement: function() {\n\t\t\tvar cache = this._.cache;\n\t\t\tif ( cache.selectedElement !== undefined )\n\t\t\t\treturn cache.selectedElement;\n\n\t\t\tvar self = this;\n\n\t\t\tvar node = CKEDITOR.tools.tryThese(\n\t\t\t\t// Is it native IE control type selection?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn self.getNative().createRange().item( 0 );\n\t\t\t\t},\n\t\t\t\t// Figure it out by checking if there's a single enclosed\n\t\t\t\t// node of the range.\n\t\t\t\tfunction() {\n\t\t\t\t\tvar range = self.getRanges()[ 0 ].clone(),\n\t\t\t\t\t\tenclosed, selected;\n\n\t\t\t\t\t// Check first any enclosed element, e.g. <ul>[<li><a href=\"#\">item</a></li>]</ul>\n\t\t\t\t\tfor ( var i = 2; i && !( ( enclosed = range.getEnclosedNode() ) && ( enclosed.type == CKEDITOR.NODE_ELEMENT ) && styleObjectElements[ enclosed.getName() ] && ( selected = enclosed ) ); i-- ) {\n\t\t\t\t\t\t// Then check any deep wrapped element, e.g. [<b><i><img /></i></b>]\n\t\t\t\t\t\trange.shrink( CKEDITOR.SHRINK_ELEMENT );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn selected && selected.$;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn cache.selectedElement = ( node ? new CKEDITOR.dom.element( node ) : null );\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the text contained within the range. An empty string is returned for non-text selection.\n\t\t *\n\t\t *\t\tvar text = editor.getSelection().getSelectedText();\n\t\t *\t\talert( text );\n\t\t *\n\t\t * @since 3.6.1\n\t\t * @returns {String} A string of text within the current selection.\n\t\t */\n\t\tgetSelectedText: function() {\n\t\t\tvar cache = this._.cache;\n\t\t\tif ( cache.selectedText !== undefined )\n\t\t\t\treturn cache.selectedText;\n\n\t\t\tvar nativeSel = this.getNative(),\n\t\t\t\ttext = isMSSelection ? nativeSel.type == 'Control' ? '' : nativeSel.createRange().text : nativeSel.toString();\n\n\t\t\treturn ( cache.selectedText = text );\n\t\t},\n\n\t\t/**\n\t\t * Locks the selection made in the editor in order to make it possible to\n\t\t * manipulate it without browser interference. A locked selection is\n\t\t * cached and remains unchanged until it is released with the {@link #unlock} method.\n\t\t *\n\t\t *\t\teditor.getSelection().lock();\n\t\t */\n\t\tlock: function() {\n\t\t\t// Call all cacheable function.\n\t\t\tthis.getRanges();\n\t\t\tthis.getStartElement();\n\t\t\tthis.getSelectedElement();\n\t\t\tthis.getSelectedText();\n\n\t\t\t// The native selection is not available when locked.\n\t\t\tthis._.cache.nativeSel = null;\n\n\t\t\tthis.isLocked = 1;\n\t\t},\n\n\t\t/**\n\t\t * @todo\n\t\t */\n\t\tunlock: function( restore ) {\n\t\t\tif ( !this.isLocked )\n\t\t\t\treturn;\n\n\t\t\tif ( restore ) {\n\t\t\t\tvar selectedElement = this.getSelectedElement(),\n\t\t\t\t\tranges = !selectedElement && this.getRanges(),\n\t\t\t\t\tfaked = this.isFake;\n\t\t\t}\n\n\t\t\tthis.isLocked = 0;\n\t\t\tthis.reset();\n\n\t\t\tif ( restore ) {\n\t\t\t\t// Saved selection may be outdated (e.g. anchored in offline nodes).\n\t\t\t\t// Avoid getting broken by such.\n\t\t\t\tvar common = selectedElement || ranges[ 0 ] && ranges[ 0 ].getCommonAncestor();\n\t\t\t\tif ( !( common && common.getAscendant( 'body', 1 ) ) )\n\t\t\t\t\treturn;\n\n\t\t\t\tif ( faked )\n\t\t\t\t\tthis.fake( selectedElement );\n\t\t\t\telse if ( selectedElement )\n\t\t\t\t\tthis.selectElement( selectedElement );\n\t\t\t\telse\n\t\t\t\t\tthis.selectRanges( ranges );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clears the selection cache.\n\t\t *\n\t\t *\t\teditor.getSelection().reset();\n\t\t */\n\t\treset: function() {\n\t\t\tthis._.cache = {};\n\t\t\tthis.isFake = 0;\n\n\t\t\tvar editor = this.root.editor;\n\n\t\t\t// Invalidate any fake selection available in the editor.\n\t\t\tif ( editor && editor._.fakeSelection ) {\n\t\t\t\t// Test whether this selection is the one that was\n\t\t\t\t// faked or its clone.\n\t\t\t\tif ( this.rev == editor._.fakeSelection.rev ) {\n\t\t\t\t\tdelete editor._.fakeSelection;\n\n\t\t\t\t\tremoveHiddenSelectionContainer( editor );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tCKEDITOR.warn( 'selection-fake-reset' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.rev = nextRev++;\n\t\t},\n\n\t\t/**\n\t\t * Makes the current selection of type {@link CKEDITOR#SELECTION_ELEMENT} by enclosing the specified element.\n\t\t *\n\t\t *\t\tvar element = editor.document.getById( 'sampleElement' );\n\t\t *\t\teditor.getSelection().selectElement( element );\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element The element to enclose in the selection.\n\t\t */\n\t\tselectElement: function( element ) {\n\t\t\tvar range = new CKEDITOR.dom.range( this.root );\n\t\t\trange.setStartBefore( element );\n\t\t\trange.setEndAfter( element );\n\t\t\tthis.selectRanges( [ range ] );\n\t\t},\n\n\t\t/**\n\t\t * Clears the original selection and adds the specified ranges to the document selection.\n\t\t *\n\t\t * \t\t// Move selection to the end of the editable element.\n\t\t *\t\tvar range = editor.createRange();\n\t\t *\t\trange.moveToPosition( range.root, CKEDITOR.POSITION_BEFORE_END );\n\t\t *\t\teditor.getSelection().selectRanges( [ ranges ] );\n\t\t *\n\t\t * @param {Array} ranges An array of {@link CKEDITOR.dom.range} instances\n\t\t * representing ranges to be added to the document.\n\t\t */\n\t\tselectRanges: function( ranges ) {\n\t\t\tvar editor = this.root.editor,\n\t\t\t\thadHiddenSelectionContainer = editor && editor._.hiddenSelectionContainer;\n\n\t\t\tthis.reset();\n\n\t\t\t// Check if there's a hiddenSelectionContainer in editable at some index.\n\t\t\t// Some ranges may be anchored after the hiddenSelectionContainer and,\n\t\t\t// once the container is removed while resetting the selection, they\n\t\t\t// may need new endOffset (one element less within the range) (#11021 #11393).\n\t\t\tif ( hadHiddenSelectionContainer )\n\t\t\t\tfixRangesAfterHiddenSelectionContainer( ranges, this.root );\n\n\t\t\tif ( !ranges.length )\n\t\t\t\treturn;\n\n\t\t\t// Refresh the locked selection.\n\t\t\tif ( this.isLocked ) {\n\t\t\t\t// making a new DOM selection will force the focus on editable in certain situation,\n\t\t\t\t// we have to save the currently focused element for later recovery.\n\t\t\t\tvar focused = CKEDITOR.document.getActive();\n\t\t\t\tthis.unlock();\n\t\t\t\tthis.selectRanges( ranges );\n\t\t\t\tthis.lock();\n\t\t\t\t// Return to the previously focused element.\n\t\t\t\tfocused && !focused.equals( this.root ) && focused.focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Handle special case - automatic fake selection on non-editable elements.\n\t\t\tvar receiver = getNonEditableFakeSelectionReceiver( ranges );\n\n\t\t\tif ( receiver ) {\n\t\t\t\tthis.fake( receiver );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isMSSelection ) {\n\t\t\t\tvar notWhitespaces = CKEDITOR.dom.walker.whitespaces( true ),\n\t\t\t\t\tfillerTextRegex = /\\ufeff|\\u00a0/,\n\t\t\t\t\tnonCells = { table: 1, tbody: 1, tr: 1 };\n\n\t\t\t\tif ( ranges.length > 1 ) {\n\t\t\t\t\t// IE doesn't accept multiple ranges selection, so we join all into one.\n\t\t\t\t\tvar last = ranges[ ranges.length - 1 ];\n\t\t\t\t\tranges[ 0 ].setEnd( last.endContainer, last.endOffset );\n\t\t\t\t}\n\n\t\t\t\tvar range = ranges[ 0 ];\n\t\t\t\tvar collapsed = range.collapsed,\n\t\t\t\t\tisStartMarkerAlone, dummySpan, ieRange;\n\n\t\t\t\t// Try to make a object selection, be careful with selecting phase element in IE\n\t\t\t\t// will breaks the selection in non-framed environment.\n\t\t\t\tvar selected = range.getEnclosedNode();\n\t\t\t\tif ( selected && selected.type == CKEDITOR.NODE_ELEMENT && selected.getName() in styleObjectElements &&\n\t\t\t\t\t!( selected.is( 'a' ) && selected.getText() ) ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tieRange = selected.$.createControlRange();\n\t\t\t\t\t\tieRange.addElement( selected.$ );\n\t\t\t\t\t\tieRange.select();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} catch ( er ) {}\n\t\t\t\t}\n\n\t\t\t\t// IE doesn't support selecting the entire table row/cell, move the selection into cells, e.g.\n\t\t\t\t// <table><tbody><tr>[<td>cell</b></td>... => <table><tbody><tr><td>[cell</td>...\n\t\t\t\tif ( range.startContainer.type == CKEDITOR.NODE_ELEMENT && range.startContainer.getName() in nonCells ||\n\t\t\t\t\trange.endContainer.type == CKEDITOR.NODE_ELEMENT && range.endContainer.getName() in nonCells ) {\n\t\t\t\t\trange.shrink( CKEDITOR.NODE_ELEMENT, true );\n\t\t\t\t\t// The range might get collapsed (#7975). Update cached variable.\n\t\t\t\t\tcollapsed = range.collapsed;\n\t\t\t\t}\n\n\t\t\t\tvar bookmark = range.createBookmark();\n\n\t\t\t\t// Create marker tags for the start and end boundaries.\n\t\t\t\tvar startNode = bookmark.startNode;\n\n\t\t\t\tvar endNode;\n\t\t\t\tif ( !collapsed )\n\t\t\t\t\tendNode = bookmark.endNode;\n\n\t\t\t\t// Create the main range which will be used for the selection.\n\t\t\t\tieRange = range.document.$.body.createTextRange();\n\n\t\t\t\t// Position the range at the start boundary.\n\t\t\t\tieRange.moveToElementText( startNode.$ );\n\t\t\t\tieRange.moveStart( 'character', 1 );\n\n\t\t\t\tif ( endNode ) {\n\t\t\t\t\t// Create a tool range for the end.\n\t\t\t\t\tvar ieRangeEnd = range.document.$.body.createTextRange();\n\n\t\t\t\t\t// Position the tool range at the end.\n\t\t\t\t\tieRangeEnd.moveToElementText( endNode.$ );\n\n\t\t\t\t\t// Move the end boundary of the main range to match the tool range.\n\t\t\t\t\tieRange.setEndPoint( 'EndToEnd', ieRangeEnd );\n\t\t\t\t\tieRange.moveEnd( 'character', -1 );\n\t\t\t\t} else {\n\t\t\t\t\t// The isStartMarkerAlone logic comes from V2. It guarantees that the lines\n\t\t\t\t\t// will expand and that the cursor will be blinking on the right place.\n\t\t\t\t\t// Actually, we are using this flag just to avoid using this hack in all\n\t\t\t\t\t// situations, but just on those needed.\n\t\t\t\t\tvar next = startNode.getNext( notWhitespaces );\n\t\t\t\t\tvar inPre = startNode.hasAscendant( 'pre' );\n\t\t\t\t\tisStartMarkerAlone = ( !( next && next.getText && next.getText().match( fillerTextRegex ) ) && // already a filler there?\n\t\t\t\t\t\t( inPre || !startNode.hasPrevious() || ( startNode.getPrevious().is && startNode.getPrevious().is( 'br' ) ) ) );\n\n\t\t\t\t\t// Append a temporary <span>&#65279;</span> before the selection.\n\t\t\t\t\t// This is needed to avoid IE destroying selections inside empty\n\t\t\t\t\t// inline elements, like <b></b> (#253).\n\t\t\t\t\t// It is also needed when placing the selection right after an inline\n\t\t\t\t\t// element to avoid the selection moving inside of it.\n\t\t\t\t\tdummySpan = range.document.createElement( 'span' );\n\t\t\t\t\tdummySpan.setHtml( '&#65279;' ); // Zero Width No-Break Space (U+FEFF). See #1359.\n\t\t\t\t\tdummySpan.insertBefore( startNode );\n\n\t\t\t\t\tif ( isStartMarkerAlone ) {\n\t\t\t\t\t\t// To expand empty blocks or line spaces after <br>, we need\n\t\t\t\t\t\t// instead to have any char, which will be later deleted using the\n\t\t\t\t\t\t// selection.\n\t\t\t\t\t\t// \\ufeff = Zero Width No-Break Space (U+FEFF). (#1359)\n\t\t\t\t\t\trange.document.createText( '\\ufeff' ).insertBefore( startNode );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Remove the markers (reset the position, because of the changes in the DOM tree).\n\t\t\t\trange.setStartBefore( startNode );\n\t\t\t\tstartNode.remove();\n\n\t\t\t\tif ( collapsed ) {\n\t\t\t\t\tif ( isStartMarkerAlone ) {\n\t\t\t\t\t\t// Move the selection start to include the temporary \\ufeff.\n\t\t\t\t\t\tieRange.moveStart( 'character', -1 );\n\n\t\t\t\t\t\tieRange.select();\n\n\t\t\t\t\t\t// Remove our temporary stuff.\n\t\t\t\t\t\trange.document.$.selection.clear();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tieRange.select();\n\t\t\t\t\t}\n\n\t\t\t\t\trange.moveToPosition( dummySpan, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\tdummySpan.remove();\n\t\t\t\t} else {\n\t\t\t\t\trange.setEndBefore( endNode );\n\t\t\t\t\tendNode.remove();\n\t\t\t\t\tieRange.select();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar sel = this.getNative();\n\n\t\t\t\t// getNative() returns null if iframe is \"display:none\" in FF. (#6577)\n\t\t\t\tif ( !sel )\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.removeAllRanges();\n\n\t\t\t\tfor ( var i = 0; i < ranges.length; i++ ) {\n\t\t\t\t\t// Joining sequential ranges introduced by\n\t\t\t\t\t// readonly elements protection.\n\t\t\t\t\tif ( i < ranges.length - 1 ) {\n\t\t\t\t\t\tvar left = ranges[ i ],\n\t\t\t\t\t\t\tright = ranges[ i + 1 ],\n\t\t\t\t\t\t\tbetween = left.clone();\n\t\t\t\t\t\tbetween.setStart( left.endContainer, left.endOffset );\n\t\t\t\t\t\tbetween.setEnd( right.startContainer, right.startOffset );\n\n\t\t\t\t\t\t// Don't confused by Firefox adjancent multi-ranges\n\t\t\t\t\t\t// introduced by table cells selection.\n\t\t\t\t\t\tif ( !between.collapsed ) {\n\t\t\t\t\t\t\tbetween.shrink( CKEDITOR.NODE_ELEMENT, true );\n\t\t\t\t\t\t\tvar ancestor = between.getCommonAncestor(),\n\t\t\t\t\t\t\t\tenclosed = between.getEnclosedNode();\n\n\t\t\t\t\t\t\t// The following cases has to be considered:\n\t\t\t\t\t\t\t// 1. <span contenteditable=\"false\">[placeholder]</span>\n\t\t\t\t\t\t\t// 2. <input contenteditable=\"false\"  type=\"radio\"/> (#6621)\n\t\t\t\t\t\t\tif ( ancestor.isReadOnly() || enclosed && enclosed.isReadOnly() ) {\n\t\t\t\t\t\t\t\tright.setStart( left.startContainer, left.startOffset );\n\t\t\t\t\t\t\t\tranges.splice( i--, 1 );\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trange = ranges[ i ];\n\n\t\t\t\t\tvar nativeRange = this.document.$.createRange();\n\n\t\t\t\t\tif ( range.collapsed && CKEDITOR.env.webkit && rangeRequiresFix( range ) ) {\n\t\t\t\t\t\t// Append a zero-width space so WebKit will not try to\n\t\t\t\t\t\t// move the selection by itself (#1272).\n\t\t\t\t\t\tvar fillingChar = createFillingCharSequenceNode( this.root );\n\t\t\t\t\t\trange.insertNode( fillingChar );\n\n\t\t\t\t\t\tnext = fillingChar.getNext();\n\n\t\t\t\t\t\t// If the filling char is followed by a <br>, whithout\n\t\t\t\t\t\t// having something before it, it'll not blink.\n\t\t\t\t\t\t// Let's remove it in this case.\n\t\t\t\t\t\tif ( next && !fillingChar.getPrevious() && next.type == CKEDITOR.NODE_ELEMENT && next.getName() == 'br' ) {\n\t\t\t\t\t\t\tremoveFillingCharSequenceNode( this.root );\n\t\t\t\t\t\t\trange.moveToPosition( next, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trange.moveToPosition( fillingChar, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tnativeRange.setStart( range.startContainer.$, range.startOffset );\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tnativeRange.setEnd( range.endContainer.$, range.endOffset );\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t// There is a bug in Firefox implementation (it would be too easy\n\t\t\t\t\t\t// otherwise). The new start can't be after the end (W3C says it can).\n\t\t\t\t\t\t// So, let's create a new range and collapse it to the desired point.\n\t\t\t\t\t\tif ( e.toString().indexOf( 'NS_ERROR_ILLEGAL_VALUE' ) >= 0 ) {\n\t\t\t\t\t\t\trange.collapse( 1 );\n\t\t\t\t\t\t\tnativeRange.setEnd( range.endContainer.$, range.endOffset );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Select the range.\n\t\t\t\t\tsel.addRange( nativeRange );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.reset();\n\n\t\t\t// Fakes the IE DOM event \"selectionchange\" on editable.\n\t\t\tthis.root.fire( 'selectionchange' );\n\t\t},\n\n\t\t/**\n\t\t * Makes a \"fake selection\" of an element.\n\t\t *\n\t\t * A fake selection does not render UI artifacts over the selected\n\t\t * element. Additionally, the browser native selection system is not\n\t\t * aware of the fake selection. In practice, the native selection is\n\t\t * moved to a hidden place where no native selection UI artifacts are\n\t\t * displayed to the user.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element The element to be \"selected\".\n\t\t * @param {String} [ariaLabel] A string to be used by the screen reader to describe the selection.\n\t\t */\n\t\tfake: function( element, ariaLabel ) {\n\t\t\tvar editor = this.root.editor;\n\n\t\t\t// Attempt to retreive aria-label if possible (#14539).\n\t\t\tif ( ariaLabel === undefined && element.hasAttribute( 'aria-label' ) ) {\n\t\t\t\tariaLabel = element.getAttribute( 'aria-label' );\n\t\t\t}\n\n\t\t\t// Cleanup after previous selection - e.g. remove hidden sel container.\n\t\t\tthis.reset();\n\n\t\t\thideSelection( editor, ariaLabel );\n\n\t\t\t// Set this value after executing hiseSelection, because it may\n\t\t\t// cause reset() which overwrites cache.\n\t\t\tvar cache = this._.cache;\n\n\t\t\t// Caches a range than holds the element.\n\t\t\tvar range = new CKEDITOR.dom.range( this.root );\n\t\t\trange.setStartBefore( element );\n\t\t\trange.setEndAfter( element );\n\t\t\tcache.ranges = new CKEDITOR.dom.rangeList( range );\n\n\t\t\t// Put this element in the cache.\n\t\t\tcache.selectedElement = cache.startElement = element;\n\t\t\tcache.type = CKEDITOR.SELECTION_ELEMENT;\n\n\t\t\t// Properties that will not be available when isFake.\n\t\t\tcache.selectedText = cache.nativeSel = null;\n\n\t\t\tthis.isFake = 1;\n\t\t\tthis.rev = nextRev++;\n\n\t\t\t// Save this selection, so it can be returned by editor.getSelection().\n\t\t\teditor._.fakeSelection = this;\n\n\t\t\t// Fire selectionchange, just like a normal selection.\n\t\t\tthis.root.fire( 'selectionchange' );\n\t\t},\n\n\t\t/**\n\t\t * Checks whether selection is placed in hidden element.\n\t\t *\n\t\t * This method is to be used to verify whether fake selection\n\t\t * (see {@link #fake}) is still hidden.\n\t\t *\n\t\t * **Note:** this method should be executed on real selection - e.g.:\n\t\t *\n\t\t *\t\teditor.getSelection( true ).isHidden();\n\t\t *\n\t\t * @returns {Boolean}\n\t\t */\n\t\tisHidden: function() {\n\t\t\tvar el = this.getCommonAncestor();\n\n\t\t\tif ( el && el.type == CKEDITOR.NODE_TEXT )\n\t\t\t\tel = el.getParent();\n\n\t\t\treturn !!( el && el.data( 'cke-hidden-sel' ) );\n\t\t},\n\n\t\t/**\n\t\t * Creates a bookmark for each range of this selection (from {@link #getRanges})\n\t\t * by calling the {@link CKEDITOR.dom.range#createBookmark} method,\n\t\t * with extra care taken to avoid interference among those ranges. The arguments\n\t\t * received are the same as with the underlying range method.\n\t\t *\n\t\t *\t\tvar bookmarks = editor.getSelection().createBookmarks();\n\t\t *\n\t\t * @returns {Array} Array of bookmarks for each range.\n\t\t */\n\t\tcreateBookmarks: function( serializable ) {\n\t\t\tvar bookmark = this.getRanges().createBookmarks( serializable );\n\t\t\tthis.isFake && ( bookmark.isFake = 1 );\n\t\t\treturn bookmark;\n\t\t},\n\n\t\t/**\n\t\t * Creates a bookmark for each range of this selection (from {@link #getRanges})\n\t\t * by calling the {@link CKEDITOR.dom.range#createBookmark2} method,\n\t\t * with extra care taken to avoid interference among those ranges. The arguments\n\t\t * received are the same as with the underlying range method.\n\t\t *\n\t\t *\t\tvar bookmarks = editor.getSelection().createBookmarks2();\n\t\t *\n\t\t * @returns {Array} Array of bookmarks for each range.\n\t\t */\n\t\tcreateBookmarks2: function( normalized ) {\n\t\t\tvar bookmark = this.getRanges().createBookmarks2( normalized );\n\t\t\tthis.isFake && ( bookmark.isFake = 1 );\n\t\t\treturn bookmark;\n\t\t},\n\n\t\t/**\n\t\t * Selects the virtual ranges denoted by the bookmarks by calling {@link #selectRanges}.\n\t\t *\n\t\t *\t\tvar bookmarks = editor.getSelection().createBookmarks();\n\t\t *\t\teditor.getSelection().selectBookmarks( bookmarks );\n\t\t *\n\t\t * @param {Array} bookmarks The bookmarks representing ranges to be selected.\n\t\t * @returns {CKEDITOR.dom.selection} This selection object, after the ranges were selected.\n\t\t */\n\t\tselectBookmarks: function( bookmarks ) {\n\t\t\tvar ranges = [],\n\t\t\t\tnode;\n\n\t\t\tfor ( var i = 0; i < bookmarks.length; i++ ) {\n\t\t\t\tvar range = new CKEDITOR.dom.range( this.root );\n\t\t\t\trange.moveToBookmark( bookmarks[ i ] );\n\t\t\t\tranges.push( range );\n\t\t\t}\n\n\t\t\t// It may happen that the content change during loading, before selection is set so bookmark leads to text node.\n\t\t\tif ( bookmarks.isFake ) {\n\t\t\t\tnode = ranges[ 0 ].getEnclosedNode();\n\t\t\t\tif ( !node || node.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tCKEDITOR.warn( 'selection-not-fake' );\n\t\t\t\t\tbookmarks.isFake = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( bookmarks.isFake )\n\t\t\t\tthis.fake( node );\n\t\t\telse\n\t\t\t\tthis.selectRanges( ranges );\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the common ancestor node of the first range and the last range.\n\t\t *\n\t\t *\t\tvar ancestor = editor.getSelection().getCommonAncestor();\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} The common ancestor of the selection or `null` if selection is empty.\n\t\t */\n\t\tgetCommonAncestor: function() {\n\t\t\tvar ranges = this.getRanges();\n\t\t\tif ( !ranges.length )\n\t\t\t\treturn null;\n\n\t\t\tvar startNode = ranges[ 0 ].startContainer,\n\t\t\t\tendNode = ranges[ ranges.length - 1 ].endContainer;\n\t\t\treturn startNode.getCommonAncestor( endNode );\n\t\t},\n\n\t\t/**\n\t\t * Moves the scrollbar to the starting position of the current selection.\n\t\t *\n\t\t *\t\teditor.getSelection().scrollIntoView();\n\t\t */\n\t\tscrollIntoView: function() {\n\t\t\t// Scrolls the first range into view.\n\t\t\tif ( this.type != CKEDITOR.SELECTION_NONE )\n\t\t\t\tthis.getRanges()[ 0 ].scrollIntoView();\n\t\t},\n\n\t\t/**\n\t\t * Remove all the selection ranges from the document.\n\t\t */\n\t\tremoveAllRanges: function() {\n\t\t\t// Don't clear selection outside this selection's root (#11500).\n\t\t\tif ( this.getType() == CKEDITOR.SELECTION_NONE )\n\t\t\t\treturn;\n\n\t\t\tvar nativ = this.getNative();\n\n\t\t\ttry {\n\t\t\t\tnativ && nativ[ isMSSelection ? 'empty' : 'removeAllRanges' ]();\n\t\t\t} catch ( er ) {}\n\n\t\t\tthis.reset();\n\t\t}\n\t};\n\n} )();\n\n\n/**\n * Fired when selection inside editor has been changed. Note that this event\n * is fired only when selection's start element (container of a selecion start)\n * changes, not on every possible selection change. Thanks to that `selectionChange`\n * is fired less frequently, but on every context\n * (the {@link CKEDITOR.editor#elementPath elements path} holding selection's start) change.\n *\n * @event selectionChange\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {CKEDITOR.dom.selection} data.selection\n * @param {CKEDITOR.dom.elementPath} data.path\n */\n\n/**\n * Selection's revision. This value is incremented every time new\n * selection is created or existing one is modified.\n *\n * @since 4.3\n * @readonly\n * @property {Number} rev\n */\n\n/**\n * Document in which selection is anchored.\n *\n * @readonly\n * @property {CKEDITOR.dom.document} document\n */\n\n/**\n * Selection's root element.\n *\n * @readonly\n * @property {CKEDITOR.dom.element} root\n */\n\n/**\n * Whether selection is locked (cannot be modified).\n *\n * See {@link #lock} and {@link #unlock} methods.\n *\n * @readonly\n * @property {Boolean} isLocked\n */\n\n/**\n * Whether selection is a fake selection.\n *\n * See {@link #fake} method.\n *\n * @readonly\n * @property {Boolean} isFake\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/selection.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n/**\n * Block style type.\n *\n * Read more in the {@link CKEDITOR.style} class documentation.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.STYLE_BLOCK = 1;\n\n/**\n * Inline style type.\n *\n * Read more in the {@link CKEDITOR.style} class documentation.\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.STYLE_INLINE = 2;\n\n/**\n * Object style type.\n *\n * Read more in the {@link CKEDITOR.style} class documentation.\n *\n * @readonly\n * @property {Number} [=3]\n * @member CKEDITOR\n */\nCKEDITOR.STYLE_OBJECT = 3;\n\n( function() {\n\tvar blockElements = {\n\t\t\taddress: 1, div: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, p: 1,\n\t\t\tpre: 1, section: 1, header: 1, footer: 1, nav: 1, article: 1, aside: 1, figure: 1,\n\t\t\tdialog: 1, hgroup: 1, time: 1, meter: 1, menu: 1, command: 1, keygen: 1, output: 1,\n\t\t\tprogress: 1, details: 1, datagrid: 1, datalist: 1\n\t\t},\n\n\t\tobjectElements = {\n\t\t\ta: 1, blockquote: 1, embed: 1, hr: 1, img: 1, li: 1, object: 1, ol: 1, table: 1, td: 1,\n\t\t\ttr: 1, th: 1, ul: 1, dl: 1, dt: 1, dd: 1, form: 1, audio: 1, video: 1\n\t\t};\n\n\tvar semicolonFixRegex = /\\s*(?:;\\s*|$)/,\n\t\tvarRegex = /#\\((.+?)\\)/g;\n\n\tvar notBookmark = CKEDITOR.dom.walker.bookmark( 0, 1 ),\n\t\tnonWhitespaces = CKEDITOR.dom.walker.whitespaces( 1 );\n\n\t/**\n\t * A class representing a style instance for the specific style definition.\n\t * In this approach, a style is a set of properties, like attributes and styles,\n\t * which can be applied to and removed from a {@link CKEDITOR.dom.selection selection} through\n\t * {@link CKEDITOR.editor editor} methods: {@link CKEDITOR.editor#applyStyle} and {@link CKEDITOR.editor#removeStyle},\n\t * respectively.\n\t *\n\t * Three default style types are available: {@link CKEDITOR#STYLE_BLOCK STYLE_BLOCK}, {@link CKEDITOR#STYLE_INLINE STYLE_INLINE},\n\t * and {@link CKEDITOR#STYLE_OBJECT STYLE_OBJECT}. Based on its type, a style heavily changes its behavior.\n\t * You can read more about style types in the [Style Types section of the Styles guide](#!/guide/dev_styles-section-style-types).\n\t *\n\t * It is possible to define a custom style type by subclassing this class by using the {@link #addCustomHandler} method.\n\t * However, because of great complexity of the styles handling job, it is only possible in very specific cases.\n\t *\n\t * ### Usage\n\t *\n\t * Basic usage:\n\t *\n\t *\t\t// Define a block style.\n\t *\t\tvar style = new CKEDITOR.style( { element: 'h1' } );\n\t *\n\t *\t\t// Considering the following selection:\n\t *\t\t// <p>Foo</p><p>Bar^</p>\n\t *\t\t// Executing:\n\t *\t\teditor.applyStyle( style );\n\t *\t\t// Will give:\n\t *\t\t// <p>Foo</p><h1>Bar^</h1>\n\t *\t\tstyle.checkActive( editor.elementPath(), editor ); // -> true\n\t *\n\t *\t\teditor.removeStyle( style );\n\t *\t\t// Will give:\n\t *\t\t// <p>Foo</p><p>Bar^</p>\n\t *\n\t *\t\tstyle.checkActive( editor.elementPath(), editor ); // -> false\n\t *\n\t * Object style:\n\t *\n\t *\t\t// Define an object style.\n\t *\t\tvar style = new CKEDITOR.style( { element: 'img', attributes: { 'class': 'foo' } } );\n\t *\n\t *\t\t// Considering the following selection:\n\t *\t\t// <p><img src=\"bar.png\" alt=\"\" />Foo^</p>\n\t *\t\t// Executing:\n\t *\t\teditor.applyStyle( style );\n\t *\t\t// Will not apply the style, because the image is not selected.\n\t *\t\t// You can check if a style can be applied on the current selection with:\n\t *\t\tstyle.checkApplicable( editor.elementPath(), editor ); // -> false\n\t *\n\t *\t\t// Considering the following selection:\n\t *\t\t// <p>[<img src=\"bar.png\" alt=\"\" />]Foo</p>\n\t *\t\t// Executing\n\t *\t\teditor.applyStyle( style );\n\t *\t\t// Will give:\n\t *\t\t// <p>[<img src=\"bar.png\" alt=\"\" class=\"foo\" />]Foo</p>\n\t *\n\t * ### API changes introduced in CKEditor 4.4\n\t *\n\t * Before CKEditor 4.4 all style instances had no access at all to the {@link CKEDITOR.editor editor instance}\n\t * within which the style is used. Neither the style constructor, nor style methods were requiring\n\t * passing the editor instance which made styles independent of the editor and hence its settings and state.\n\t * This design decision came from CKEditor 3; it started causing problems and became an unsolvable obstacle for\n\t * the {@link CKEDITOR.style.customHandlers.widget widget style handler} which we introduced in CKEditor 4.4.\n\t *\n\t * There were two possible solutions. Passing an editor instance to the style constructor or to every method.\n\t * The first approach would be clean, however, having in mind the backward compatibility, we did not decide\n\t * to go for it. It would bind the style to one editor instance, making it unusable with other editor instances.\n\t * That could break many implementations reusing styles between editors. Therefore, we decided to take the longer\n\t * but safer path &mdash; the editor instance became an argument for nearly all style methods, however,\n\t * for backward compatibility reasons, all these methods will work without it. Even the newly\n\t * implemented {@link CKEDITOR.style.customHandlers.widget widget style handler}'s methods will not fail,\n\t * although they will also not work by aborting at an early stage.\n\t *\n\t * Therefore, you can safely upgrade to CKEditor 4.4 even if you use style methods without providing\n\t * the editor instance. You must only align your code if your implementation should handle widget styles\n\t * or any other custom style handler. Of course, we recommend doing this in any case to avoid potential\n\t * problems in the future.\n\t *\n\t * @class\n\t * @constructor Creates a style class instance.\n\t * @param styleDefinition\n\t * @param variablesValues\n\t */\n\tCKEDITOR.style = function( styleDefinition, variablesValues ) {\n\t\tif ( typeof styleDefinition.type == 'string' )\n\t\t\treturn new CKEDITOR.style.customHandlers[ styleDefinition.type ]( styleDefinition );\n\n\t\t// Inline style text as attribute should be converted\n\t\t// to styles object.\n\t\tvar attrs = styleDefinition.attributes;\n\t\tif ( attrs && attrs.style ) {\n\t\t\tstyleDefinition.styles = CKEDITOR.tools.extend( {},\n\t\t\t\tstyleDefinition.styles, CKEDITOR.tools.parseCssText( attrs.style ) );\n\t\t\tdelete attrs.style;\n\t\t}\n\n\t\tif ( variablesValues ) {\n\t\t\tstyleDefinition = CKEDITOR.tools.clone( styleDefinition );\n\n\t\t\treplaceVariables( styleDefinition.attributes, variablesValues );\n\t\t\treplaceVariables( styleDefinition.styles, variablesValues );\n\t\t}\n\n\t\tvar element = this.element = styleDefinition.element ?\n\t\t\t(\n\t\t\t\ttypeof styleDefinition.element == 'string' ?\n\t\t\t\t\tstyleDefinition.element.toLowerCase() : styleDefinition.element\n\t\t\t) : '*';\n\n\t\tthis.type = styleDefinition.type ||\n\t\t\t(\n\t\t\t\tblockElements[ element ] ? CKEDITOR.STYLE_BLOCK :\n\t\t\t\tobjectElements[ element ] ? CKEDITOR.STYLE_OBJECT :\n\t\t\t\tCKEDITOR.STYLE_INLINE\n\t\t\t);\n\n\t\t// If the 'element' property is an object with a set of possible element, it will be applied like an object style: only to existing elements\n\t\tif ( typeof this.element == 'object' )\n\t\t\tthis.type = CKEDITOR.STYLE_OBJECT;\n\n\t\tthis._ = {\n\t\t\tdefinition: styleDefinition\n\t\t};\n\t};\n\n\tCKEDITOR.style.prototype = {\n\t\t/**\n\t\t * Applies the style on the editor's current selection.\n\t\t *\n\t\t * Before the style is applied, the method checks if the {@link #checkApplicable style is applicable}.\n\t\t *\n\t\t * **Note:** The recommended way of applying the style is by using the\n\t\t * {@link CKEDITOR.editor#applyStyle} method, which is a shorthand for this method.\n\t\t *\n\t\t * @param {CKEDITOR.editor/CKEDITOR.dom.document} editor The editor instance in which\n\t\t * the style will be applied.\n\t\t * A {@link CKEDITOR.dom.document} instance is accepted for backward compatibility\n\t\t * reasons, although since CKEditor 4.4 this type of argument is deprecated. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t */\n\t\tapply: function( editor ) {\n\t\t\t// Backward compatibility.\n\t\t\tif ( editor instanceof CKEDITOR.dom.document )\n\t\t\t\treturn applyStyleOnSelection.call( this, editor.getSelection() );\n\n\t\t\tif ( this.checkApplicable( editor.elementPath(), editor ) ) {\n\t\t\t\tvar initialEnterMode = this._.enterMode;\n\n\t\t\t\t// See comment in removeStyle.\n\t\t\t\tif ( !initialEnterMode )\n\t\t\t\t\tthis._.enterMode = editor.activeEnterMode;\n\t\t\t\tapplyStyleOnSelection.call( this, editor.getSelection(), 0, editor );\n\t\t\t\tthis._.enterMode = initialEnterMode;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes the style from the editor's current selection.\n\t\t *\n\t\t * Before the style is applied, the method checks if {@link #checkApplicable style could be applied}.\n\t\t *\n\t\t * **Note:** The recommended way of removing the style is by using the\n\t\t * {@link CKEDITOR.editor#removeStyle} method, which is a shorthand for this method.\n\t\t *\n\t\t * @param {CKEDITOR.editor/CKEDITOR.dom.document} editor The editor instance in which\n\t\t * the style will be removed.\n\t\t * A {@link CKEDITOR.dom.document} instance is accepted for backward compatibility\n\t\t * reasons, although since CKEditor 4.4 this type of argument is deprecated. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t */\n\t\tremove: function( editor ) {\n\t\t\t// Backward compatibility.\n\t\t\tif ( editor instanceof CKEDITOR.dom.document )\n\t\t\t\treturn applyStyleOnSelection.call( this, editor.getSelection(), 1 );\n\n\t\t\tif ( this.checkApplicable( editor.elementPath(), editor ) ) {\n\t\t\t\tvar initialEnterMode = this._.enterMode;\n\n\t\t\t\t// Before CKEditor 4.4 style knew nothing about editor, so in order to provide enterMode\n\t\t\t\t// which should be used developers were forced to hack the style object (see #10190).\n\t\t\t\t// Since CKEditor 4.4 style knows about editor (at least when it's being applied/removed), but we\n\t\t\t\t// use _.enterMode for backward compatibility with those hacks.\n\t\t\t\t// Note: we should not change style's enter mode if it was already set.\n\t\t\t\tif ( !initialEnterMode )\n\t\t\t\t\tthis._.enterMode = editor.activeEnterMode;\n\t\t\t\tapplyStyleOnSelection.call( this, editor.getSelection(), 1, editor );\n\t\t\t\tthis._.enterMode = initialEnterMode;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Applies the style on the provided range. Unlike {@link #apply} this\n\t\t * method does not take care of setting the selection, however, the range\n\t\t * is updated to the correct place.\n\t\t *\n\t\t * **Note:** If you want to apply the style on the editor selection,\n\t\t * you probably want to use {@link CKEDITOR.editor#applyStyle}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.range} range\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features.  Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t */\n\t\tapplyToRange: function( range ) {\n\t\t\tthis.applyToRange =\n\t\t\t\tthis.type == CKEDITOR.STYLE_INLINE ? applyInlineStyle :\n\t\t\t\tthis.type == CKEDITOR.STYLE_BLOCK ? applyBlockStyle :\n\t\t\t\tthis.type == CKEDITOR.STYLE_OBJECT ? applyObjectStyle :\n\t\t\t\tnull;\n\n\t\t\treturn this.applyToRange( range );\n\t\t},\n\n\t\t/**\n\t\t * Removes the style from the provided range. Unlike {@link #remove} this\n\t\t * method does not take care of setting the selection, however, the range\n\t\t * is updated to the correct place.\n\t\t *\n\t\t * **Note:** If you want to remove the style from the editor selection,\n\t\t * you probably want to use {@link CKEDITOR.editor#removeStyle}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.range} range\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t */\n\t\tremoveFromRange: function( range ) {\n\t\t\tthis.removeFromRange =\n\t\t\t\tthis.type == CKEDITOR.STYLE_INLINE ? removeInlineStyle :\n\t\t\t\tthis.type == CKEDITOR.STYLE_BLOCK ? removeBlockStyle :\n\t\t\t\tthis.type == CKEDITOR.STYLE_OBJECT ? removeObjectStyle :\n\t\t\t\tnull;\n\n\t\t\treturn this.removeFromRange( range );\n\t\t},\n\n\t\t/**\n\t\t * Applies the style to the element. This method bypasses all checks\n\t\t * and applies the style attributes directly on the provided element. Use with caution.\n\t\t *\n\t\t * See {@link CKEDITOR.editor#applyStyle}.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t */\n\t\tapplyToObject: function( element ) {\n\t\t\tsetupElement( element, this );\n\t\t},\n\n\t\t/**\n\t\t * Gets the style state inside the elements path.\n\t\t *\n\t\t * @param {CKEDITOR.dom.elementPath} elementPath\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t * @returns {Boolean} `true` if the element is active in the elements path.\n\t\t */\n\t\tcheckActive: function( elementPath, editor ) {\n\t\t\tswitch ( this.type ) {\n\t\t\t\tcase CKEDITOR.STYLE_BLOCK:\n\t\t\t\t\treturn this.checkElementRemovable( elementPath.block || elementPath.blockLimit, true, editor );\n\n\t\t\t\tcase CKEDITOR.STYLE_OBJECT:\n\t\t\t\tcase CKEDITOR.STYLE_INLINE:\n\n\t\t\t\t\tvar elements = elementPath.elements;\n\n\t\t\t\t\tfor ( var i = 0, element; i < elements.length; i++ ) {\n\t\t\t\t\t\telement = elements[ i ];\n\n\t\t\t\t\t\tif ( this.type == CKEDITOR.STYLE_INLINE && ( element == elementPath.block || element == elementPath.blockLimit ) )\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\tif ( this.type == CKEDITOR.STYLE_OBJECT ) {\n\t\t\t\t\t\t\tvar name = element.getName();\n\t\t\t\t\t\t\tif ( !( typeof this.element == 'string' ? name == this.element : name in this.element ) )\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.checkElementRemovable( element, true, editor ) )\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Whether this style can be applied at the specified elements path.\n\t\t *\n\t\t * @param {CKEDITOR.dom.elementPath} elementPath The elements path to\n\t\t * check the style against.\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t * @param {CKEDITOR.filter} [filter] If defined, the style will be\n\t\t * checked against this filter as well.\n\t\t * @returns {Boolean} `true` if this style can be applied at the elements path.\n\t\t */\n\t\tcheckApplicable: function( elementPath, editor, filter ) {\n\t\t\t// Backward compatibility.\n\t\t\tif ( editor && editor instanceof CKEDITOR.filter )\n\t\t\t\tfilter = editor;\n\n\t\t\tif ( filter && !filter.check( this ) )\n\t\t\t\treturn false;\n\n\t\t\tswitch ( this.type ) {\n\t\t\t\tcase CKEDITOR.STYLE_OBJECT:\n\t\t\t\t\treturn !!elementPath.contains( this.element );\n\t\t\t\tcase CKEDITOR.STYLE_BLOCK:\n\t\t\t\t\treturn !!elementPath.blockLimit.getDtd()[ this.element ];\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the element matches the current style definition.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @param {Boolean} fullMatch\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t * @returns {Boolean}\n\t\t */\n\t\tcheckElementMatch: function( element, fullMatch ) {\n\t\t\tvar def = this._.definition;\n\n\t\t\tif ( !element || !def.ignoreReadonly && element.isReadOnly() )\n\t\t\t\treturn false;\n\n\t\t\tvar attribs,\n\t\t\t\tname = element.getName();\n\n\t\t\t// If the element name is the same as the style name.\n\t\t\tif ( typeof this.element == 'string' ? name == this.element : name in this.element ) {\n\t\t\t\t// If no attributes are defined in the element.\n\t\t\t\tif ( !fullMatch && !element.hasAttributes() )\n\t\t\t\t\treturn true;\n\n\t\t\t\tattribs = getAttributesForComparison( def );\n\n\t\t\t\tif ( attribs._length ) {\n\t\t\t\t\tfor ( var attName in attribs ) {\n\t\t\t\t\t\tif ( attName == '_length' )\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\tvar elementAttr = element.getAttribute( attName ) || '';\n\n\t\t\t\t\t\t// Special treatment for 'style' attribute is required.\n\t\t\t\t\t\tif ( attName == 'style' ? compareCssText( attribs[ attName ], elementAttr ) : attribs[ attName ] == elementAttr ) {\n\t\t\t\t\t\t\tif ( !fullMatch )\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if ( fullMatch ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( fullMatch )\n\t\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Checks if an element, or any of its attributes, is removable by the\n\t\t * current style definition.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @param {Boolean} fullMatch\n\t\t * @param {CKEDITOR.editor} editor The editor instance. Required argument since\n\t\t * CKEditor 4.4. The style system will work without it, but it is highly\n\t\t * recommended to provide it for integration with all features. Read more about\n\t\t * the signature change in the {@link CKEDITOR.style} documentation.\n\t\t * @returns {Boolean}\n\t\t */\n\t\tcheckElementRemovable: function( element, fullMatch, editor ) {\n\t\t\t// Check element matches the style itself.\n\t\t\tif ( this.checkElementMatch( element, fullMatch, editor ) )\n\t\t\t\treturn true;\n\n\t\t\t// Check if the element matches the style overrides.\n\t\t\tvar override = getOverrides( this )[ element.getName() ];\n\t\t\tif ( override ) {\n\t\t\t\tvar attribs, attName;\n\n\t\t\t\t// If no attributes have been defined, remove the element.\n\t\t\t\tif ( !( attribs = override.attributes ) )\n\t\t\t\t\treturn true;\n\n\t\t\t\tfor ( var i = 0; i < attribs.length; i++ ) {\n\t\t\t\t\tattName = attribs[ i ][ 0 ];\n\t\t\t\t\tvar actualAttrValue = element.getAttribute( attName );\n\t\t\t\t\tif ( actualAttrValue ) {\n\t\t\t\t\t\tvar attValue = attribs[ i ][ 1 ];\n\n\t\t\t\t\t\t// Remove the attribute if:\n\t\t\t\t\t\t//    - The override definition value is null;\n\t\t\t\t\t\t//    - The override definition value is a string that\n\t\t\t\t\t\t//      matches the attribute value exactly.\n\t\t\t\t\t\t//    - The override definition value is a regex that\n\t\t\t\t\t\t//      has matches in the attribute value.\n\t\t\t\t\t\tif ( attValue === null )\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\tif ( typeof attValue == 'string' ) {\n\t\t\t\t\t\t\tif ( actualAttrValue == attValue )\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if ( attValue.test( actualAttrValue ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Builds the preview HTML based on the styles definition.\n\t\t *\n\t\t * @param {String} [label] The label used in the style preview.\n\t\t * @return {String} The HTML of preview.\n\t\t */\n\t\tbuildPreview: function( label ) {\n\t\t\tvar styleDefinition = this._.definition,\n\t\t\t\thtml = [],\n\t\t\t\telementName = styleDefinition.element;\n\n\t\t\t// Avoid <bdo> in the preview.\n\t\t\tif ( elementName == 'bdo' )\n\t\t\t\telementName = 'span';\n\n\t\t\thtml = [ '<', elementName ];\n\n\t\t\t// Assign all defined attributes.\n\t\t\tvar attribs = styleDefinition.attributes;\n\t\t\tif ( attribs ) {\n\t\t\t\tfor ( var att in attribs )\n\t\t\t\t\thtml.push( ' ', att, '=\"', attribs[ att ], '\"' );\n\t\t\t}\n\n\t\t\t// Assign the style attribute.\n\t\t\tvar cssStyle = CKEDITOR.style.getStyleText( styleDefinition );\n\t\t\tif ( cssStyle )\n\t\t\t\thtml.push( ' style=\"', cssStyle, '\"' );\n\n\t\t\thtml.push( '>', ( label || styleDefinition.name ), '</', elementName, '>' );\n\n\t\t\treturn html.join( '' );\n\t\t},\n\n\t\t/**\n\t\t * Returns the style definition.\n\t\t *\n\t\t * @since 4.1\n\t\t * @returns {Object}\n\t\t */\n\t\tgetDefinition: function() {\n\t\t\treturn this._.definition;\n\t\t}\n\n\t\t/**\n\t\t * If defined (for example by {@link CKEDITOR.style#addCustomHandler custom style handler}), it returns\n\t\t * the {@link CKEDITOR.filter.allowedContentRules allowed content rules} which should be added to the\n\t\t * {@link CKEDITOR.filter} when enabling this style.\n\t\t *\n\t\t * **Note:** This method is not defined in the {@link CKEDITOR.style} class.\n\t\t *\n\t\t * @since 4.4\n\t\t * @method toAllowedContentRules\n\t\t * @param {CKEDITOR.editor} [editor] The editor instance.\n\t\t * @returns {CKEDITOR.filter.allowedContentRules} The rules that should represent this style in the {@link CKEDITOR.filter}.\n\t\t */\n\t};\n\n\t/**\n\t * Builds the inline style text based on the style definition.\n\t *\n\t * @static\n\t * @param styleDefinition\n\t * @returns {String} Inline style text.\n\t */\n\tCKEDITOR.style.getStyleText = function( styleDefinition ) {\n\t\t// If we have already computed it, just return it.\n\t\tvar stylesDef = styleDefinition._ST;\n\t\tif ( stylesDef )\n\t\t\treturn stylesDef;\n\n\t\tstylesDef = styleDefinition.styles;\n\n\t\t// Builds the StyleText.\n\t\tvar stylesText = ( styleDefinition.attributes && styleDefinition.attributes.style ) || '',\n\t\t\tspecialStylesText = '';\n\n\t\tif ( stylesText.length )\n\t\t\tstylesText = stylesText.replace( semicolonFixRegex, ';' );\n\n\t\tfor ( var style in stylesDef ) {\n\t\t\tvar styleVal = stylesDef[ style ],\n\t\t\t\ttext = ( style + ':' + styleVal ).replace( semicolonFixRegex, ';' );\n\n\t\t\t// Some browsers don't support 'inherit' property value, leave them intact. (#5242)\n\t\t\tif ( styleVal == 'inherit' )\n\t\t\t\tspecialStylesText += text;\n\t\t\telse\n\t\t\t\tstylesText += text;\n\t\t}\n\n\t\t// Browsers make some changes to the style when applying them. So, here\n\t\t// we normalize it to the browser format.\n\t\tif ( stylesText.length )\n\t\t\tstylesText = CKEDITOR.tools.normalizeCssText( stylesText, true );\n\n\t\tstylesText += specialStylesText;\n\n\t\t// Return it, saving it to the next request.\n\t\treturn ( styleDefinition._ST = stylesText );\n\t};\n\n\t/**\n\t * Namespace containing custom style handlers added with {@link CKEDITOR.style#addCustomHandler}.\n\t *\n\t * @since 4.4\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.style.customHandlers = {};\n\n\t/**\n\t * Creates a {@link CKEDITOR.style} subclass and registers it in the style system.\n\t * Registered class will be used as a handler for a style of this type. This allows\n\t * to extend the styles system, which by default uses only the {@link CKEDITOR.style}, with\n\t * new functionality. Registered classes are accessible in the {@link CKEDITOR.style.customHandlers}.\n\t *\n\t * ### The Style Class Definition\n\t *\n\t * The definition object is used to override properties in a prototype inherited\n\t * from the {@link CKEDITOR.style} class. It must contain a `type` property which is\n\t * a name of the new type and therefore it must be unique. The default style types\n\t * ({@link CKEDITOR#STYLE_BLOCK STYLE_BLOCK}, {@link CKEDITOR#STYLE_INLINE STYLE_INLINE},\n\t * and {@link CKEDITOR#STYLE_OBJECT STYLE_OBJECT}) are integers, but for easier identification\n\t * it is recommended to use strings as custom type names.\n\t *\n\t * Besides `type`, the definition may contain two more special properties:\n\t *\n\t *  * `setup {Function}` &ndash; An optional callback executed when a style instance is created.\n\t * Like the style constructor, it is executed in style context and with the style definition as an argument.\n\t *  * `assignedTo {Number}` &ndash; Can be set to one of the default style types. Some editor\n\t * features like the Styles drop-down assign styles to one of the default groups based on\n\t * the style type. By using this property it is possible to notify them to which group this\n\t * custom style should be assigned. It defaults to the {@link CKEDITOR#STYLE_OBJECT}.\n\t *\n\t * Other properties of the definition object will just be used to extend the prototype inherited\n\t * from the {@link CKEDITOR.style} class. So if the definition contains an `apply` method, it will\n\t * override the {@link CKEDITOR.style#apply} method.\n\t *\n\t * ### Usage\n\t *\n\t * Registering a basic handler:\n\t *\n\t *\t\tvar styleClass = CKEDITOR.style.addCustomHandler( {\n\t *\t\t\ttype: 'custom'\n\t *\t\t} );\n\t *\n\t *\t\tvar style = new styleClass( { ... } );\n\t *\t\tstyle instanceof styleClass; // -> true\n\t *\t\tstyle instanceof CKEDITOR.style; // -> true\n\t *\t\tstyle.type; // -> 'custom'\n\t *\n\t * The {@link CKEDITOR.style} constructor used as a factory:\n\t *\n\t *\t\tvar styleClass = CKEDITOR.style.addCustomHandler( {\n\t *\t\t\ttype: 'custom'\n\t *\t\t} );\n\t *\n\t *\t\t// Style constructor accepts style definition (do not confuse with style class definition).\n\t *\t\tvar style = new CKEDITOR.style( { type: 'custom', attributes: ... } );\n\t *\t\tstyle instanceof styleClass; // -> true\n\t *\n\t * Thanks to that, integration code using styles does not need to know\n\t * which style handler it should use. It is determined by the {@link CKEDITOR.style} constructor.\n\t *\n\t * Overriding existing {@link CKEDITOR.style} methods:\n\t *\n\t *\t\tvar styleClass = CKEDITOR.style.addCustomHandler( {\n\t *\t\t\ttype: 'custom',\n\t *\t\t\tapply: function( editor ) {\n\t *\t\t\t\tconsole.log( 'apply' );\n\t *\t\t\t},\n\t *\t\t\tremove: function( editor ) {\n\t *\t\t\t\tconsole.log( 'remove' );\n\t *\t\t\t}\n\t *\t\t} );\n\t *\n\t *\t\tvar style = new CKEDITOR.style( { type: 'custom', attributes: ... } );\n\t *\t\teditor.applyStyle( style ); // logged 'apply'\n\t *\n\t *\t\tstyle = new CKEDITOR.style( { element: 'img', attributes: { 'class': 'foo' } } );\n\t *\t\teditor.applyStyle( style ); // style is really applied if image was selected\n\t *\n\t * ### Practical Recommendations\n\t *\n\t * The style handling job, which includes such tasks as applying, removing, checking state, and\n\t * checking if a style can be applied, is very complex. Therefore without deep knowledge\n\t * about DOM and especially {@link CKEDITOR.dom.range ranges} and {@link CKEDITOR.dom.walker DOM walker} it is impossible\n\t * to implement a completely custom style handler able to handle block, inline, and object type styles.\n\t * However, it is possible to customize the default implementation by overriding default methods and\n\t * reusing them.\n\t *\n\t * The only style handler which can be implemented from scratch without huge effort is a style\n\t * applicable to objects ([read more about types](http://docs.ckeditor.com/#!/guide/dev_styles-section-style-types)).\n\t * Such style can only be applied when a specific object is selected. An example implementation can\n\t * be found in the [widget plugin](https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/widget/plugin.js).\n\t *\n\t * When implementing a style handler from scratch at least the following methods must be defined:\n\t *\n\t * * {@link CKEDITOR.style#apply apply} and {@link CKEDITOR.style#remove remove},\n\t * * {@link CKEDITOR.style#checkElementRemovable checkElementRemovable} and\n\t * {@link CKEDITOR.style#checkElementMatch checkElementMatch} &ndash; Note that both methods reuse the same logic,\n\t * * {@link CKEDITOR.style#checkActive checkActive} &ndash; Reuses\n\t * {@link CKEDITOR.style#checkElementMatch checkElementMatch},\n\t * * {@link CKEDITOR.style#toAllowedContentRules toAllowedContentRules} &ndash; Not required, but very useful in\n\t * case of a custom style that has to notify the {@link CKEDITOR.filter} which rules it allows when registered.\n\t *\n\t * @since 4.4\n\t * @static\n\t * @member CKEDITOR.style\n\t * @param definition The style class definition.\n\t * @returns {CKEDITOR.style} The new style class created for the provided definition.\n\t */\n\tCKEDITOR.style.addCustomHandler = function( definition ) {\n\t\tvar styleClass = function( styleDefinition ) {\n\t\t\tthis._ = {\n\t\t\t\tdefinition: styleDefinition\n\t\t\t};\n\n\t\t\tif ( this.setup )\n\t\t\t\tthis.setup( styleDefinition );\n\t\t};\n\n\t\tstyleClass.prototype = CKEDITOR.tools.extend(\n\t\t\t// Prototype of CKEDITOR.style.\n\t\t\tCKEDITOR.tools.prototypedCopy( CKEDITOR.style.prototype ),\n\t\t\t// Defaults.\n\t\t\t{\n\t\t\t\tassignedTo: CKEDITOR.STYLE_OBJECT\n\t\t\t},\n\t\t\t// Passed definition - overrides.\n\t\t\tdefinition,\n\t\t\ttrue\n\t\t);\n\n\t\tthis.customHandlers[ definition.type ] = styleClass;\n\n\t\treturn styleClass;\n\t};\n\n\t// Gets the parent element which blocks the styling for an element. This\n\t// can be done through read-only elements (contenteditable=false) or\n\t// elements with the \"data-nostyle\" attribute.\n\tfunction getUnstylableParent( element, root ) {\n\t\tvar unstylable, editable;\n\n\t\twhile ( ( element = element.getParent() ) ) {\n\t\t\tif ( element.equals( root ) )\n\t\t\t\tbreak;\n\n\t\t\tif ( element.getAttribute( 'data-nostyle' ) )\n\t\t\t\tunstylable = element;\n\t\t\telse if ( !editable ) {\n\t\t\t\tvar contentEditable = element.getAttribute( 'contentEditable' );\n\n\t\t\t\tif ( contentEditable == 'false' )\n\t\t\t\t\tunstylable = element;\n\t\t\t\telse if ( contentEditable == 'true' )\n\t\t\t\t\teditable = 1;\n\t\t\t}\n\t\t}\n\n\t\treturn unstylable;\n\t}\n\n\tvar posPrecedingIdenticalContained =\n\t\t\tCKEDITOR.POSITION_PRECEDING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED,\n\t\tposFollowingIdenticalContained =\n\t\t\tCKEDITOR.POSITION_FOLLOWING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED;\n\n\t// Checks if the current node can be a child of the style element.\n\tfunction checkIfNodeCanBeChildOfStyle( def, currentNode, lastNode, nodeName, dtd, nodeIsNoStyle, nodeIsReadonly, includeReadonly ) {\n\t\t// Style can be applied to text node.\n\t\tif ( !nodeName )\n\t\t\treturn 1;\n\n\t\t// Style definitely cannot be applied if DTD or data-nostyle do not allow.\n\t\tif ( !dtd[ nodeName ] || nodeIsNoStyle  )\n\t\t\treturn 0;\n\n\t\t// Non-editable element cannot be styled is we shouldn't include readonly elements.\n\t\tif ( nodeIsReadonly && !includeReadonly  )\n\t\t\treturn 0;\n\n\t\t// Check that we haven't passed lastNode yet and that style's childRule allows this style on current element.\n\t\treturn checkPositionAndRule( currentNode, lastNode, def, posPrecedingIdenticalContained );\n\t}\n\n\t// Check if the style element can be a child of the current\n\t// node parent or if the element is not defined in the DTD.\n\tfunction checkIfStyleCanBeChildOf( def, currentParent, elementName, isUnknownElement ) {\n\t\treturn currentParent &&\n\t\t\t( ( currentParent.getDtd() || CKEDITOR.dtd.span )[ elementName ] || isUnknownElement ) &&\n\t\t\t( !def.parentRule || def.parentRule( currentParent ) );\n\t}\n\n\tfunction checkIfStartsRange( nodeName, currentNode, lastNode ) {\n\t\treturn (\n\t\t\t!nodeName || !CKEDITOR.dtd.$removeEmpty[ nodeName ] ||\n\t\t\t( currentNode.getPosition( lastNode ) | posPrecedingIdenticalContained ) == posPrecedingIdenticalContained\n\t\t);\n\t}\n\n\tfunction checkIfTextOrReadonlyOrEmptyElement( currentNode, nodeIsReadonly ) {\n\t\tvar nodeType = currentNode.type;\n\t\treturn nodeType == CKEDITOR.NODE_TEXT || nodeIsReadonly || ( nodeType == CKEDITOR.NODE_ELEMENT && !currentNode.getChildCount() );\n\t}\n\n\t// Checks if position is a subset of posBitFlags and that nodeA fulfills style def rule.\n\tfunction checkPositionAndRule( nodeA, nodeB, def, posBitFlags ) {\n\t\treturn ( nodeA.getPosition( nodeB ) | posBitFlags ) == posBitFlags &&\n\t\t\t( !def.childRule || def.childRule( nodeA ) );\n\t}\n\n\tfunction applyInlineStyle( range ) {\n\t\tvar document = range.document;\n\n\t\tif ( range.collapsed ) {\n\t\t\t// Create the element to be inserted in the DOM.\n\t\t\tvar collapsedElement = getElement( this, document );\n\n\t\t\t// Insert the empty element into the DOM at the range position.\n\t\t\trange.insertNode( collapsedElement );\n\n\t\t\t// Place the selection right inside the empty element.\n\t\t\trange.moveToPosition( collapsedElement, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar elementName = this.element,\n\t\t\tdef = this._.definition,\n\t\t\tisUnknownElement;\n\n\t\t// Indicates that fully selected read-only elements are to be included in the styling range.\n\t\tvar ignoreReadonly = def.ignoreReadonly,\n\t\t\tincludeReadonly = ignoreReadonly || def.includeReadonly;\n\n\t\t// If the read-only inclusion is not available in the definition, try\n\t\t// to get it from the root data (most often it's the editable).\n\t\tif ( includeReadonly == null )\n\t\t\tincludeReadonly = range.root.getCustomData( 'cke_includeReadonly' );\n\n\t\t// Get the DTD definition for the element. Defaults to \"span\".\n\t\tvar dtd = CKEDITOR.dtd[ elementName ];\n\t\tif ( !dtd ) {\n\t\t\tisUnknownElement = true;\n\t\t\tdtd = CKEDITOR.dtd.span;\n\t\t}\n\n\t\t// Expand the range.\n\t\trange.enlarge( CKEDITOR.ENLARGE_INLINE, 1 );\n\t\trange.trim();\n\n\t\t// Get the first node to be processed and the last, which concludes the processing.\n\t\tvar boundaryNodes = range.createBookmark(),\n\t\t\tfirstNode = boundaryNodes.startNode,\n\t\t\tlastNode = boundaryNodes.endNode,\n\t\t\tcurrentNode = firstNode,\n\t\t\tstyleRange;\n\n\t\tif ( !ignoreReadonly ) {\n\t\t\t// Check if the boundaries are inside non stylable elements.\n\t\t\tvar root = range.getCommonAncestor(),\n\t\t\t\tfirstUnstylable = getUnstylableParent( firstNode, root ),\n\t\t\t\tlastUnstylable = getUnstylableParent( lastNode, root );\n\n\t\t\t// If the first element can't be styled, we'll start processing right\n\t\t\t// after its unstylable root.\n\t\t\tif ( firstUnstylable )\n\t\t\t\tcurrentNode = firstUnstylable.getNextSourceNode( true );\n\n\t\t\t// If the last element can't be styled, we'll stop processing on its\n\t\t\t// unstylable root.\n\t\t\tif ( lastUnstylable )\n\t\t\t\tlastNode = lastUnstylable;\n\t\t}\n\n\t\t// Do nothing if the current node now follows the last node to be processed.\n\t\tif ( currentNode.getPosition( lastNode ) == CKEDITOR.POSITION_FOLLOWING )\n\t\t\tcurrentNode = 0;\n\n\t\twhile ( currentNode ) {\n\t\t\tvar applyStyle = false;\n\n\t\t\tif ( currentNode.equals( lastNode ) ) {\n\t\t\t\tcurrentNode = null;\n\t\t\t\tapplyStyle = true;\n\t\t\t} else {\n\t\t\t\tvar nodeName = currentNode.type == CKEDITOR.NODE_ELEMENT ? currentNode.getName() : null,\n\t\t\t\t\tnodeIsReadonly = nodeName && ( currentNode.getAttribute( 'contentEditable' ) == 'false' ),\n\t\t\t\t\tnodeIsNoStyle = nodeName && currentNode.getAttribute( 'data-nostyle' );\n\n\t\t\t\t// Skip bookmarks.\n\t\t\t\tif ( nodeName && currentNode.data( 'cke-bookmark' ) ) {\n\t\t\t\t\tcurrentNode = currentNode.getNextSourceNode( true );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Find all nested editables of a non-editable block and apply this style inside them.\n\t\t\t\tif ( nodeIsReadonly && includeReadonly && CKEDITOR.dtd.$block[ nodeName ] )\n\t\t\t\t\tapplyStyleOnNestedEditables.call( this, currentNode );\n\n\t\t\t\t// Check if the current node can be a child of the style element.\n\t\t\t\tif ( checkIfNodeCanBeChildOfStyle( def, currentNode, lastNode, nodeName, dtd, nodeIsNoStyle, nodeIsReadonly, includeReadonly ) ) {\n\t\t\t\t\tvar currentParent = currentNode.getParent();\n\n\t\t\t\t\t// Check if the style element can be a child of the current\n\t\t\t\t\t// node parent or if the element is not defined in the DTD.\n\t\t\t\t\tif ( checkIfStyleCanBeChildOf( def, currentParent, elementName, isUnknownElement ) ) {\n\t\t\t\t\t\t// This node will be part of our range, so if it has not\n\t\t\t\t\t\t// been started, place its start right before the node.\n\t\t\t\t\t\t// In the case of an element node, it will be included\n\t\t\t\t\t\t// only if it is entirely inside the range.\n\t\t\t\t\t\tif ( !styleRange && checkIfStartsRange( nodeName, currentNode, lastNode ) ) {\n\t\t\t\t\t\t\tstyleRange = range.clone();\n\t\t\t\t\t\t\tstyleRange.setStartBefore( currentNode );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Non element nodes, readonly elements, or empty\n\t\t\t\t\t\t// elements can be added completely to the range.\n\t\t\t\t\t\tif ( checkIfTextOrReadonlyOrEmptyElement( currentNode, nodeIsReadonly ) ) {\n\t\t\t\t\t\t\tvar includedNode = currentNode;\n\t\t\t\t\t\t\tvar parentNode;\n\n\t\t\t\t\t\t\t// This node is about to be included completelly, but,\n\t\t\t\t\t\t\t// if this is the last node in its parent, we must also\n\t\t\t\t\t\t\t// check if the parent itself can be added completelly\n\t\t\t\t\t\t\t// to the range, otherwise apply the style immediately.\n\t\t\t\t\t\t\twhile (\n\t\t\t\t\t\t\t\t( applyStyle = !includedNode.getNext( notBookmark ) ) &&\n\t\t\t\t\t\t\t\t( parentNode = includedNode.getParent(), dtd[ parentNode.getName() ] ) &&\n\t\t\t\t\t\t\t\tcheckPositionAndRule( parentNode, firstNode, def, posFollowingIdenticalContained )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tincludedNode = parentNode;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstyleRange.setEndAfter( includedNode );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapplyStyle = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Style isn't applicable to current element, so apply style to\n\t\t\t\t// range ending at previously chosen position, or nowhere if we haven't\n\t\t\t\t// yet started styleRange.\n\t\t\t\telse {\n\t\t\t\t\tapplyStyle = true;\n\t\t\t\t}\n\n\t\t\t\t// Get the next node to be processed.\n\t\t\t\t// If we're currently on a non-editable element or non-styleable element,\n\t\t\t\t// then we'll be moved to current node's sibling (or even further), so we'll\n\t\t\t\t// avoid messing up its content.\n\t\t\t\tcurrentNode = currentNode.getNextSourceNode( nodeIsNoStyle || nodeIsReadonly );\n\t\t\t}\n\n\t\t\t// Apply the style if we have something to which apply it.\n\t\t\tif ( applyStyle && styleRange && !styleRange.collapsed ) {\n\t\t\t\t// Build the style element, based on the style object definition.\n\t\t\t\tvar styleNode = getElement( this, document ),\n\t\t\t\t\tstyleHasAttrs = styleNode.hasAttributes();\n\n\t\t\t\t// Get the element that holds the entire range.\n\t\t\t\tvar parent = styleRange.getCommonAncestor();\n\n\t\t\t\tvar removeList = {\n\t\t\t\t\tstyles: {},\n\t\t\t\t\tattrs: {},\n\t\t\t\t\t// Styles cannot be removed.\n\t\t\t\t\tblockedStyles: {},\n\t\t\t\t\t// Attrs cannot be removed.\n\t\t\t\t\tblockedAttrs: {}\n\t\t\t\t};\n\n\t\t\t\tvar attName, styleName, value;\n\n\t\t\t\t// Loop through the parents, removing the redundant attributes\n\t\t\t\t// from the element to be applied.\n\t\t\t\twhile ( styleNode && parent ) {\n\t\t\t\t\tif ( parent.getName() == elementName ) {\n\t\t\t\t\t\tfor ( attName in def.attributes ) {\n\t\t\t\t\t\t\tif ( removeList.blockedAttrs[ attName ] || !( value = parent.getAttribute( styleName ) ) )\n\t\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t\tif ( styleNode.getAttribute( attName ) == value )\n\t\t\t\t\t\t\t\tremoveList.attrs[ attName ] = 1;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tremoveList.blockedAttrs[ attName ] = 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( styleName in def.styles ) {\n\t\t\t\t\t\t\tif ( removeList.blockedStyles[ styleName ] || !( value = parent.getStyle( styleName ) ) )\n\t\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t\tif ( styleNode.getStyle( styleName ) == value )\n\t\t\t\t\t\t\t\tremoveList.styles[ styleName ] = 1;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tremoveList.blockedStyles[ styleName ] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tparent = parent.getParent();\n\t\t\t\t}\n\n\t\t\t\tfor ( attName in removeList.attrs )\n\t\t\t\t\tstyleNode.removeAttribute( attName );\n\n\t\t\t\tfor ( styleName in removeList.styles )\n\t\t\t\t\tstyleNode.removeStyle( styleName );\n\n\t\t\t\tif ( styleHasAttrs && !styleNode.hasAttributes() )\n\t\t\t\t\tstyleNode = null;\n\n\t\t\t\tif ( styleNode ) {\n\t\t\t\t\t// Move the contents of the range to the style element.\n\t\t\t\t\tstyleRange.extractContents().appendTo( styleNode );\n\n\t\t\t\t\t// Insert it into the range position (it is collapsed after\n\t\t\t\t\t// extractContents.\n\t\t\t\t\tstyleRange.insertNode( styleNode );\n\n\t\t\t\t\t// Here we do some cleanup, removing all duplicated\n\t\t\t\t\t// elements from the style element.\n\t\t\t\t\tremoveFromInsideElement.call( this, styleNode );\n\n\t\t\t\t\t// Let's merge our new style with its neighbors, if possible.\n\t\t\t\t\tstyleNode.mergeSiblings();\n\n\t\t\t\t\t// As the style system breaks text nodes constantly, let's normalize\n\t\t\t\t\t// things for performance.\n\t\t\t\t\t// With IE, some paragraphs get broken when calling normalize()\n\t\t\t\t\t// repeatedly. Also, for IE, we must normalize body, not documentElement.\n\t\t\t\t\t// IE is also known for having a \"crash effect\" with normalize().\n\t\t\t\t\t// We should try to normalize with IE too in some way, somewhere.\n\t\t\t\t\tif ( !CKEDITOR.env.ie )\n\t\t\t\t\t\tstyleNode.$.normalize();\n\t\t\t\t}\n\t\t\t\t// Style already inherit from parents, left just to clear up any internal overrides. (#5931)\n\t\t\t\telse {\n\t\t\t\t\tstyleNode = new CKEDITOR.dom.element( 'span' );\n\t\t\t\t\tstyleRange.extractContents().appendTo( styleNode );\n\t\t\t\t\tstyleRange.insertNode( styleNode );\n\t\t\t\t\tremoveFromInsideElement.call( this, styleNode );\n\t\t\t\t\tstyleNode.remove( true );\n\t\t\t\t}\n\n\t\t\t\t// Style applied, let's release the range, so it gets\n\t\t\t\t// re-initialization in the next loop.\n\t\t\t\tstyleRange = null;\n\t\t\t}\n\t\t}\n\n\t\t// Remove the bookmark nodes.\n\t\trange.moveToBookmark( boundaryNodes );\n\n\t\t// Minimize the result range to exclude empty text nodes. (#5374)\n\t\trange.shrink( CKEDITOR.SHRINK_TEXT );\n\n\t\t// Get inside the remaining element if range.shrink( TEXT ) has failed because of non-editable elements inside.\n\t\t// E.g. range.shrink( TEXT ) will not get inside:\n\t\t// [<b><i contenteditable=\"false\">x</i></b>]\n\t\t// but range.shrink( ELEMENT ) will.\n\t\trange.shrink( CKEDITOR.NODE_ELEMENT, true );\n\t}\n\n\tfunction removeInlineStyle( range ) {\n\t\t// Make sure our range has included all \"collpased\" parent inline nodes so\n\t\t// that our operation logic can be simpler.\n\t\trange.enlarge( CKEDITOR.ENLARGE_INLINE, 1 );\n\n\t\tvar bookmark = range.createBookmark(),\n\t\t\tstartNode = bookmark.startNode;\n\n\t\tif ( range.collapsed ) {\n\t\t\tvar startPath = new CKEDITOR.dom.elementPath( startNode.getParent(), range.root ),\n\t\t\t\t// The topmost element in elementspatch which we should jump out of.\n\t\t\t\tboundaryElement;\n\n\n\t\t\tfor ( var i = 0, element; i < startPath.elements.length && ( element = startPath.elements[ i ] ); i++ ) {\n\t\t\t\t// 1. If it's collaped inside text nodes, try to remove the style from the whole element.\n\t\t\t\t//\n\t\t\t\t// 2. Otherwise if it's collapsed on element boundaries, moving the selection\n\t\t\t\t//  outside the styles instead of removing the whole tag,\n\t\t\t\t//  also make sure other inner styles were well preserverd.(#3309)\n\t\t\t\tif ( element == startPath.block || element == startPath.blockLimit )\n\t\t\t\t\tbreak;\n\n\t\t\t\tif ( this.checkElementRemovable( element ) ) {\n\t\t\t\t\tvar isStart;\n\n\t\t\t\t\tif ( range.collapsed && ( range.checkBoundaryOfElement( element, CKEDITOR.END ) || ( isStart = range.checkBoundaryOfElement( element, CKEDITOR.START ) ) ) ) {\n\t\t\t\t\t\tboundaryElement = element;\n\t\t\t\t\t\tboundaryElement.match = isStart ? 'start' : 'end';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Before removing the style node, there may be a sibling to the style node\n\t\t\t\t\t\t// that's exactly the same to the one to be removed. To the user, it makes\n\t\t\t\t\t\t// no difference that they're separate entities in the DOM tree. So, merge\n\t\t\t\t\t\t// them before removal.\n\t\t\t\t\t\telement.mergeSiblings();\n\t\t\t\t\t\tif ( element.is( this.element ) )\n\t\t\t\t\t\t\tremoveFromElement.call( this, element );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tremoveOverrides( element, getOverrides( this )[ element.getName() ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Re-create the style tree after/before the boundary element,\n\t\t\t// the replication start from bookmark start node to define the\n\t\t\t// new range.\n\t\t\tif ( boundaryElement ) {\n\t\t\t\tvar clonedElement = startNode;\n\t\t\t\tfor ( i = 0; ; i++ ) {\n\t\t\t\t\tvar newElement = startPath.elements[ i ];\n\t\t\t\t\tif ( newElement.equals( boundaryElement ) )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// Avoid copying any matched element.\n\t\t\t\t\telse if ( newElement.match )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\telse\n\t\t\t\t\t\tnewElement = newElement.clone();\n\t\t\t\t\tnewElement.append( clonedElement );\n\t\t\t\t\tclonedElement = newElement;\n\t\t\t\t}\n\t\t\t\tclonedElement[ boundaryElement.match == 'start' ? 'insertBefore' : 'insertAfter' ]( boundaryElement );\n\t\t\t}\n\t\t} else {\n\t\t\t// Now our range isn't collapsed. Lets walk from the start node to the end\n\t\t\t// node via DFS and remove the styles one-by-one.\n\t\t\tvar endNode = bookmark.endNode,\n\t\t\t\tme = this;\n\n\t\t\tbreakNodes();\n\n\t\t\t// Now, do the DFS walk.\n\t\t\tvar currentNode = startNode;\n\t\t\twhile ( !currentNode.equals( endNode ) ) {\n\t\t\t\t// Need to get the next node first because removeFromElement() can remove\n\t\t\t\t// the current node from DOM tree.\n\t\t\t\tvar nextNode = currentNode.getNextSourceNode();\n\t\t\t\tif ( currentNode.type == CKEDITOR.NODE_ELEMENT && this.checkElementRemovable( currentNode ) ) {\n\t\t\t\t\t// Remove style from element or overriding element.\n\t\t\t\t\tif ( currentNode.getName() == this.element )\n\t\t\t\t\t\tremoveFromElement.call( this, currentNode );\n\t\t\t\t\telse\n\t\t\t\t\t\tremoveOverrides( currentNode, getOverrides( this )[ currentNode.getName() ] );\n\n\t\t\t\t\t// removeFromElement() may have merged the next node with something before\n\t\t\t\t\t// the startNode via mergeSiblings(). In that case, the nextNode would\n\t\t\t\t\t// contain startNode and we'll have to call breakNodes() again and also\n\t\t\t\t\t// reassign the nextNode to something after startNode.\n\t\t\t\t\tif ( nextNode.type == CKEDITOR.NODE_ELEMENT && nextNode.contains( startNode ) ) {\n\t\t\t\t\t\tbreakNodes();\n\t\t\t\t\t\tnextNode = startNode.getNext();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcurrentNode = nextNode;\n\t\t\t}\n\t\t}\n\n\t\trange.moveToBookmark( bookmark );\n\t\t// See the comment for range.shrink in applyInlineStyle.\n\t\trange.shrink( CKEDITOR.NODE_ELEMENT, true );\n\n\t\t// Find out the style ancestor that needs to be broken down at startNode\n\t\t// and endNode.\n\t\tfunction breakNodes() {\n\t\t\tvar startPath = new CKEDITOR.dom.elementPath( startNode.getParent() ),\n\t\t\t\tendPath = new CKEDITOR.dom.elementPath( endNode.getParent() ),\n\t\t\t\tbreakStart = null,\n\t\t\t\tbreakEnd = null;\n\n\t\t\tfor ( var i = 0; i < startPath.elements.length; i++ ) {\n\t\t\t\tvar element = startPath.elements[ i ];\n\n\t\t\t\tif ( element == startPath.block || element == startPath.blockLimit )\n\t\t\t\t\tbreak;\n\n\t\t\t\tif ( me.checkElementRemovable( element, true ) )\n\t\t\t\t\tbreakStart = element;\n\t\t\t}\n\n\t\t\tfor ( i = 0; i < endPath.elements.length; i++ ) {\n\t\t\t\telement = endPath.elements[ i ];\n\n\t\t\t\tif ( element == endPath.block || element == endPath.blockLimit )\n\t\t\t\t\tbreak;\n\n\t\t\t\tif ( me.checkElementRemovable( element, true ) )\n\t\t\t\t\tbreakEnd = element;\n\t\t\t}\n\n\t\t\tif ( breakEnd )\n\t\t\t\tendNode.breakParent( breakEnd );\n\t\t\tif ( breakStart )\n\t\t\t\tstartNode.breakParent( breakStart );\n\t\t}\n\t}\n\n\t// Apply style to nested editables inside editablesContainer.\n\t// @param {CKEDITOR.dom.element} editablesContainer\n\t// @context CKEDITOR.style\n\tfunction applyStyleOnNestedEditables( editablesContainer ) {\n\t\tvar editables = findNestedEditables( editablesContainer ),\n\t\t\teditable,\n\t\t\tl = editables.length,\n\t\t\ti = 0,\n\t\t\trange = l && new CKEDITOR.dom.range( editablesContainer.getDocument() );\n\n\t\tfor ( ; i < l; ++i ) {\n\t\t\teditable = editables[ i ];\n\t\t\t// Check if style is allowed by this editable's ACF.\n\t\t\tif ( checkIfAllowedInEditable( editable, this ) ) {\n\t\t\t\trange.selectNodeContents( editable );\n\t\t\t\tapplyInlineStyle.call( this, range );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Finds nested editables within container. Does not return\n\t// editables nested in another editable (twice).\n\tfunction findNestedEditables( container ) {\n\t\tvar editables = [];\n\n\t\tcontainer.forEach( function( element ) {\n\t\t\tif ( element.getAttribute( 'contenteditable' ) == 'true' ) {\n\t\t\t\teditables.push( element );\n\t\t\t\treturn false; // Skip children.\n\t\t\t}\n\t\t}, CKEDITOR.NODE_ELEMENT, true );\n\n\t\treturn editables;\n\t}\n\n\t// Checks if style is allowed in this editable.\n\tfunction checkIfAllowedInEditable( editable, style ) {\n\t\tvar filter = CKEDITOR.filter.instances[ editable.data( 'cke-filter' ) ];\n\n\t\treturn filter ? filter.check( style ) : 1;\n\t}\n\n\t// Checks if style is allowed by iterator's active filter.\n\tfunction checkIfAllowedByIterator( iterator, style ) {\n\t\treturn iterator.activeFilter ? iterator.activeFilter.check( style ) : 1;\n\t}\n\n\tfunction applyObjectStyle( range ) {\n\t\t// Selected or parent element. (#9651)\n\t\tvar start = range.getEnclosedNode() || range.getCommonAncestor( false, true ),\n\t\t\telement = new CKEDITOR.dom.elementPath( start, range.root ).contains( this.element, 1 );\n\n\t\telement && !element.isReadOnly() && setupElement( element, this );\n\t}\n\n\tfunction removeObjectStyle( range ) {\n\t\tvar parent = range.getCommonAncestor( true, true ),\n\t\t\telement = new CKEDITOR.dom.elementPath( parent, range.root ).contains( this.element, 1 );\n\n\t\tif ( !element )\n\t\t\treturn;\n\n\t\tvar style = this,\n\t\t\tdef = style._.definition,\n\t\t\tattributes = def.attributes;\n\n\t\t// Remove all defined attributes.\n\t\tif ( attributes ) {\n\t\t\tfor ( var att in attributes )\n\t\t\t\telement.removeAttribute( att, attributes[ att ] );\n\t\t}\n\n\t\t// Assign all defined styles.\n\t\tif ( def.styles ) {\n\t\t\tfor ( var i in def.styles ) {\n\t\t\t\tif ( def.styles.hasOwnProperty( i ) )\n\t\t\t\t\telement.removeStyle( i );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction applyBlockStyle( range ) {\n\t\t// Serializible bookmarks is needed here since\n\t\t// elements may be merged.\n\t\tvar bookmark = range.createBookmark( true );\n\n\t\tvar iterator = range.createIterator();\n\t\titerator.enforceRealBlocks = true;\n\n\t\t// make recognize <br /> tag as a separator in ENTER_BR mode (#5121)\n\t\tif ( this._.enterMode )\n\t\t\titerator.enlargeBr = ( this._.enterMode != CKEDITOR.ENTER_BR );\n\n\t\tvar block,\n\t\t\tdoc = range.document,\n\t\t\tnewBlock;\n\n\t\twhile ( ( block = iterator.getNextParagraph() ) ) {\n\t\t\tif ( !block.isReadOnly() && checkIfAllowedByIterator( iterator, this ) ) {\n\t\t\t\tnewBlock = getElement( this, doc, block );\n\t\t\t\treplaceBlock( block, newBlock );\n\t\t\t}\n\t\t}\n\n\t\trange.moveToBookmark( bookmark );\n\t}\n\n\tfunction removeBlockStyle( range ) {\n\t\t// Serializible bookmarks is needed here since\n\t\t// elements may be merged.\n\t\tvar bookmark = range.createBookmark( 1 );\n\n\t\tvar iterator = range.createIterator();\n\t\titerator.enforceRealBlocks = true;\n\t\titerator.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR;\n\n\t\tvar block,\n\t\t\tnewBlock;\n\n\t\twhile ( ( block = iterator.getNextParagraph() ) ) {\n\t\t\tif ( this.checkElementRemovable( block ) ) {\n\t\t\t\t// <pre> get special treatment.\n\t\t\t\tif ( block.is( 'pre' ) ) {\n\t\t\t\t\tnewBlock = this._.enterMode == CKEDITOR.ENTER_BR ? null :\n\t\t\t\t\t\t\trange.document.createElement( this._.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' );\n\n\t\t\t\t\tnewBlock && block.copyAttributes( newBlock );\n\t\t\t\t\treplaceBlock( block, newBlock );\n\t\t\t\t} else {\n\t\t\t\t\tremoveFromElement.call( this, block );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trange.moveToBookmark( bookmark );\n\t}\n\n\t// Replace the original block with new one, with special treatment\n\t// for <pre> blocks to make sure content format is well preserved, and merging/splitting adjacent\n\t// when necessary. (#3188)\n\tfunction replaceBlock( block, newBlock ) {\n\t\t// Block is to be removed, create a temp element to\n\t\t// save contents.\n\t\tvar removeBlock = !newBlock;\n\t\tif ( removeBlock ) {\n\t\t\tnewBlock = block.getDocument().createElement( 'div' );\n\t\t\tblock.copyAttributes( newBlock );\n\t\t}\n\n\t\tvar newBlockIsPre = newBlock && newBlock.is( 'pre' ),\n\t\t\tblockIsPre = block.is( 'pre' ),\n\t\t\tisToPre = newBlockIsPre && !blockIsPre,\n\t\t\tisFromPre = !newBlockIsPre && blockIsPre;\n\n\t\tif ( isToPre )\n\t\t\tnewBlock = toPre( block, newBlock );\n\t\telse if ( isFromPre )\n\t\t\t// Split big <pre> into pieces before start to convert.\n\t\t\tnewBlock = fromPres( removeBlock ? [ block.getHtml() ] : splitIntoPres( block ), newBlock );\n\t\telse\n\t\t\tblock.moveChildren( newBlock );\n\n\t\tnewBlock.replace( block );\n\n\t\tif ( newBlockIsPre ) {\n\t\t\t// Merge previous <pre> blocks.\n\t\t\tmergePre( newBlock );\n\t\t} else if ( removeBlock ) {\n\t\t\tremoveNoAttribsElement( newBlock );\n\t\t}\n\t}\n\n\t// Merge a <pre> block with a previous sibling if available.\n\tfunction mergePre( preBlock ) {\n\t\tvar previousBlock;\n\t\tif ( !( ( previousBlock = preBlock.getPrevious( nonWhitespaces ) ) && previousBlock.type == CKEDITOR.NODE_ELEMENT && previousBlock.is( 'pre' ) ) )\n\t\t\treturn;\n\n\t\t// Merge the previous <pre> block contents into the current <pre>\n\t\t// block.\n\t\t//\n\t\t// Another thing to be careful here is that currentBlock might contain\n\t\t// a '\\n' at the beginning, and previousBlock might contain a '\\n'\n\t\t// towards the end. These new lines are not normally displayed but they\n\t\t// become visible after merging.\n\t\tvar mergedHtml = replace( previousBlock.getHtml(), /\\n$/, '' ) + '\\n\\n' +\n\t\t\treplace( preBlock.getHtml(), /^\\n/, '' );\n\n\t\t// Krugle: IE normalizes innerHTML from <pre>, breaking whitespaces.\n\t\tif ( CKEDITOR.env.ie )\n\t\t\tpreBlock.$.outerHTML = '<pre>' + mergedHtml + '</pre>';\n\t\telse\n\t\t\tpreBlock.setHtml( mergedHtml );\n\n\t\tpreviousBlock.remove();\n\t}\n\n\t// Split into multiple <pre> blocks separated by double line-break.\n\tfunction splitIntoPres( preBlock ) {\n\t\t// Exclude the ones at header OR at tail,\n\t\t// and ignore bookmark content between them.\n\t\tvar duoBrRegex = /(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,\n\t\t\tpres = [],\n\t\t\tsplitedHtml = replace( preBlock.getOuterHtml(), duoBrRegex, function( match, charBefore, bookmark ) {\n\t\t\t\treturn charBefore + '</pre>' + bookmark + '<pre>';\n\t\t\t} );\n\n\t\tsplitedHtml.replace( /<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi, function( match, preContent ) {\n\t\t\tpres.push( preContent );\n\t\t} );\n\t\treturn pres;\n\t}\n\n\t// Wrapper function of String::replace without considering of head/tail bookmarks nodes.\n\tfunction replace( str, regexp, replacement ) {\n\t\tvar headBookmark = '',\n\t\t\ttailBookmark = '';\n\n\t\tstr = str.replace( /(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi, function( str, m1, m2 ) {\n\t\t\tm1 && ( headBookmark = m1 );\n\t\t\tm2 && ( tailBookmark = m2 );\n\t\t\treturn '';\n\t\t} );\n\t\treturn headBookmark + str.replace( regexp, replacement ) + tailBookmark;\n\t}\n\n\t// Converting a list of <pre> into blocks with format well preserved.\n\tfunction fromPres( preHtmls, newBlock ) {\n\t\tvar docFrag;\n\t\tif ( preHtmls.length > 1 )\n\t\t\tdocFrag = new CKEDITOR.dom.documentFragment( newBlock.getDocument() );\n\n\t\tfor ( var i = 0; i < preHtmls.length; i++ ) {\n\t\t\tvar blockHtml = preHtmls[ i ];\n\n\t\t\t// 1. Trim the first and last line-breaks immediately after and before <pre>,\n\t\t\t// they're not visible.\n\t\t\tblockHtml = blockHtml.replace( /(\\r\\n|\\r)/g, '\\n' );\n\t\t\tblockHtml = replace( blockHtml, /^[ \\t]*\\n/, '' );\n\t\t\tblockHtml = replace( blockHtml, /\\n$/, '' );\n\t\t\t// 2. Convert spaces or tabs at the beginning or at the end to &nbsp;\n\t\t\tblockHtml = replace( blockHtml, /^[ \\t]+|[ \\t]+$/g, function( match, offset ) {\n\t\t\t\tif ( match.length == 1 ) // one space, preserve it\n\t\t\t\t\treturn '&nbsp;';\n\t\t\t\telse if ( !offset ) // beginning of block\n\t\t\t\t\treturn CKEDITOR.tools.repeat( '&nbsp;', match.length - 1 ) + ' ';\n\t\t\t\telse // end of block\n\t\t\t\t\treturn ' ' + CKEDITOR.tools.repeat( '&nbsp;', match.length - 1 );\n\t\t\t} );\n\n\t\t\t// 3. Convert \\n to <BR>.\n\t\t\t// 4. Convert contiguous (i.e. non-singular) spaces or tabs to &nbsp;\n\t\t\tblockHtml = blockHtml.replace( /\\n/g, '<br>' );\n\t\t\tblockHtml = blockHtml.replace( /[ \\t]{2,}/g, function( match ) {\n\t\t\t\treturn CKEDITOR.tools.repeat( '&nbsp;', match.length - 1 ) + ' ';\n\t\t\t} );\n\n\t\t\tif ( docFrag ) {\n\t\t\t\tvar newBlockClone = newBlock.clone();\n\t\t\t\tnewBlockClone.setHtml( blockHtml );\n\t\t\t\tdocFrag.append( newBlockClone );\n\t\t\t} else {\n\t\t\t\tnewBlock.setHtml( blockHtml );\n\t\t\t}\n\t\t}\n\n\t\treturn docFrag || newBlock;\n\t}\n\n\t// Converting from a non-PRE block to a PRE block in formatting operations.\n\tfunction toPre( block, newBlock ) {\n\t\tvar bogus = block.getBogus();\n\t\tbogus && bogus.remove();\n\n\t\t// First trim the block content.\n\t\tvar preHtml = block.getHtml();\n\n\t\t// 1. Trim head/tail spaces, they're not visible.\n\t\tpreHtml = replace( preHtml, /(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g, '' );\n\t\t// 2. Delete ANSI whitespaces immediately before and after <BR> because\n\t\t//    they are not visible.\n\t\tpreHtml = preHtml.replace( /[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi, '$1' );\n\t\t// 3. Compress other ANSI whitespaces since they're only visible as one\n\t\t//    single space previously.\n\t\t// 4. Convert &nbsp; to spaces since &nbsp; is no longer needed in <PRE>.\n\t\tpreHtml = preHtml.replace( /([ \\t\\n\\r]+|&nbsp;)/g, ' ' );\n\t\t// 5. Convert any <BR /> to \\n. This must not be done earlier because\n\t\t//    the \\n would then get compressed.\n\t\tpreHtml = preHtml.replace( /<br\\b[^>]*>/gi, '\\n' );\n\n\t\t// Krugle: IE normalizes innerHTML to <pre>, breaking whitespaces.\n\t\tif ( CKEDITOR.env.ie ) {\n\t\t\tvar temp = block.getDocument().createElement( 'div' );\n\t\t\ttemp.append( newBlock );\n\t\t\tnewBlock.$.outerHTML = '<pre>' + preHtml + '</pre>';\n\t\t\tnewBlock.copyAttributes( temp.getFirst() );\n\t\t\tnewBlock = temp.getFirst().remove();\n\t\t} else {\n\t\t\tnewBlock.setHtml( preHtml );\n\t\t}\n\n\t\treturn newBlock;\n\t}\n\n\t// Removes a style from an element itself, don't care about its subtree.\n\tfunction removeFromElement( element, keepDataAttrs ) {\n\t\tvar def = this._.definition,\n\t\t\tattributes = def.attributes,\n\t\t\tstyles = def.styles,\n\t\t\toverrides = getOverrides( this )[ element.getName() ],\n\t\t\t// If the style is only about the element itself, we have to remove the element.\n\t\t\tremoveEmpty = CKEDITOR.tools.isEmpty( attributes ) && CKEDITOR.tools.isEmpty( styles );\n\n\t\t// Remove definition attributes/style from the elemnt.\n\t\tfor ( var attName in attributes ) {\n\t\t\t// The 'class' element value must match (#1318).\n\t\t\tif ( ( attName == 'class' || this._.definition.fullMatch ) && element.getAttribute( attName ) != normalizeProperty( attName, attributes[ attName ] ) )\n\t\t\t\tcontinue;\n\n\t\t\t// Do not touch data-* attributes (#11011) (#11258).\n\t\t\tif ( keepDataAttrs && attName.slice( 0, 5 ) == 'data-' )\n\t\t\t\tcontinue;\n\n\t\t\tremoveEmpty = element.hasAttribute( attName );\n\t\t\telement.removeAttribute( attName );\n\t\t}\n\n\t\tfor ( var styleName in styles ) {\n\t\t\t// Full match style insist on having fully equivalence. (#5018)\n\t\t\tif ( this._.definition.fullMatch && element.getStyle( styleName ) != normalizeProperty( styleName, styles[ styleName ], true ) )\n\t\t\t\tcontinue;\n\n\t\t\tremoveEmpty = removeEmpty || !!element.getStyle( styleName );\n\t\t\telement.removeStyle( styleName );\n\t\t}\n\n\t\t// Remove overrides, but don't remove the element if it's a block element\n\t\tremoveOverrides( element, overrides, blockElements[ element.getName() ] );\n\n\t\tif ( removeEmpty ) {\n\t\t\tif ( this._.definition.alwaysRemoveElement )\n\t\t\t\tremoveNoAttribsElement( element, 1 );\n\t\t\telse {\n\t\t\t\tif ( !CKEDITOR.dtd.$block[ element.getName() ] || this._.enterMode == CKEDITOR.ENTER_BR && !element.hasAttributes() )\n\t\t\t\t\tremoveNoAttribsElement( element );\n\t\t\t\telse\n\t\t\t\t\telement.renameNode( this._.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Removes a style from inside an element. Called on applyStyle to make cleanup\n\t// before apply. During clean up this function keep data-* attribute in contrast\n\t// to removeFromElement.\n\tfunction removeFromInsideElement( element ) {\n\t\tvar overrides = getOverrides( this ),\n\t\t\tinnerElements = element.getElementsByTag( this.element ),\n\t\t\tinnerElement;\n\n\t\tfor ( var i = innerElements.count(); --i >= 0; ) {\n\t\t\tinnerElement = innerElements.getItem( i );\n\n\t\t\t// Do not remove elements which are read only (e.g. duplicates inside widgets).\n\t\t\tif ( !innerElement.isReadOnly() )\n\t\t\t\tremoveFromElement.call( this, innerElement, true );\n\t\t}\n\n\t\t// Now remove any other element with different name that is\n\t\t// defined to be overriden.\n\t\tfor ( var overrideElement in overrides ) {\n\t\t\tif ( overrideElement != this.element ) {\n\t\t\t\tinnerElements = element.getElementsByTag( overrideElement );\n\n\t\t\t\tfor ( i = innerElements.count() - 1; i >= 0; i-- ) {\n\t\t\t\t\tinnerElement = innerElements.getItem( i );\n\n\t\t\t\t\t// Do not remove elements which are read only (e.g. duplicates inside widgets).\n\t\t\t\t\tif ( !innerElement.isReadOnly() )\n\t\t\t\t\t\tremoveOverrides( innerElement, overrides[ overrideElement ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove overriding styles/attributes from the specific element.\n\t// Note: Remove the element if no attributes remain.\n\t// @param {Object} element\n\t// @param {Object} overrides\n\t// @param {Boolean} Don't remove the element\n\tfunction removeOverrides( element, overrides, dontRemove ) {\n\t\tvar attributes = overrides && overrides.attributes;\n\n\t\tif ( attributes ) {\n\t\t\tfor ( var i = 0; i < attributes.length; i++ ) {\n\t\t\t\tvar attName = attributes[ i ][ 0 ],\n\t\t\t\t\tactualAttrValue;\n\n\t\t\t\tif ( ( actualAttrValue = element.getAttribute( attName ) ) ) {\n\t\t\t\t\tvar attValue = attributes[ i ][ 1 ];\n\n\t\t\t\t\t// Remove the attribute if:\n\t\t\t\t\t//    - The override definition value is null ;\n\t\t\t\t\t//    - The override definition valie is a string that\n\t\t\t\t\t//      matches the attribute value exactly.\n\t\t\t\t\t//    - The override definition value is a regex that\n\t\t\t\t\t//      has matches in the attribute value.\n\t\t\t\t\tif ( attValue === null || ( attValue.test && attValue.test( actualAttrValue ) ) || ( typeof attValue == 'string' && actualAttrValue == attValue ) )\n\t\t\t\t\t\telement.removeAttribute( attName );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !dontRemove )\n\t\t\tremoveNoAttribsElement( element );\n\t}\n\n\t// If the element has no more attributes, remove it.\n\tfunction removeNoAttribsElement( element, forceRemove ) {\n\t\t// If no more attributes remained in the element, remove it,\n\t\t// leaving its children.\n\t\tif ( !element.hasAttributes() || forceRemove ) {\n\t\t\tif ( CKEDITOR.dtd.$block[ element.getName() ] ) {\n\t\t\t\tvar previous = element.getPrevious( nonWhitespaces ),\n\t\t\t\t\tnext = element.getNext( nonWhitespaces );\n\n\t\t\t\tif ( previous && ( previous.type == CKEDITOR.NODE_TEXT || !previous.isBlockBoundary( { br: 1 } ) ) )\n\t\t\t\t\telement.append( 'br', 1 );\n\t\t\t\tif ( next && ( next.type == CKEDITOR.NODE_TEXT || !next.isBlockBoundary( { br: 1 } ) ) )\n\t\t\t\t\telement.append( 'br' );\n\n\t\t\t\telement.remove( true );\n\t\t\t} else {\n\t\t\t\t// Removing elements may open points where merging is possible,\n\t\t\t\t// so let's cache the first and last nodes for later checking.\n\t\t\t\tvar firstChild = element.getFirst();\n\t\t\t\tvar lastChild = element.getLast();\n\n\t\t\t\telement.remove( true );\n\n\t\t\t\tif ( firstChild ) {\n\t\t\t\t\t// Check the cached nodes for merging.\n\t\t\t\t\tfirstChild.type == CKEDITOR.NODE_ELEMENT && firstChild.mergeSiblings();\n\n\t\t\t\t\tif ( lastChild && !firstChild.equals( lastChild ) && lastChild.type == CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\t\tlastChild.mergeSiblings();\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getElement( style, targetDocument, element ) {\n\t\tvar el,\n\t\t\telementName = style.element;\n\n\t\t// The \"*\" element name will always be a span for this function.\n\t\tif ( elementName == '*' )\n\t\t\telementName = 'span';\n\n\t\t// Create the element.\n\t\tel = new CKEDITOR.dom.element( elementName, targetDocument );\n\n\t\t// #6226: attributes should be copied before the new ones are applied\n\t\tif ( element )\n\t\t\telement.copyAttributes( el );\n\n\t\tel = setupElement( el, style );\n\n\t\t// Avoid ID duplication.\n\t\tif ( targetDocument.getCustomData( 'doc_processing_style' ) && el.hasAttribute( 'id' ) )\n\t\t\tel.removeAttribute( 'id' );\n\t\telse\n\t\t\ttargetDocument.setCustomData( 'doc_processing_style', 1 );\n\n\t\treturn el;\n\t}\n\n\tfunction setupElement( el, style ) {\n\t\tvar def = style._.definition,\n\t\t\tattributes = def.attributes,\n\t\t\tstyles = CKEDITOR.style.getStyleText( def );\n\n\t\t// Assign all defined attributes.\n\t\tif ( attributes ) {\n\t\t\tfor ( var att in attributes )\n\t\t\t\tel.setAttribute( att, attributes[ att ] );\n\t\t}\n\n\t\t// Assign all defined styles.\n\t\tif ( styles )\n\t\t\tel.setAttribute( 'style', styles );\n\n\t\treturn el;\n\t}\n\n\tfunction replaceVariables( list, variablesValues ) {\n\t\tfor ( var item in list ) {\n\t\t\tlist[ item ] = list[ item ].replace( varRegex, function( match, varName ) {\n\t\t\t\treturn variablesValues[ varName ];\n\t\t\t} );\n\t\t}\n\t}\n\n\t// Returns an object that can be used for style matching comparison.\n\t// Attributes names and values are all lowercased, and the styles get\n\t// merged with the style attribute.\n\tfunction getAttributesForComparison( styleDefinition ) {\n\t\t// If we have already computed it, just return it.\n\t\tvar attribs = styleDefinition._AC;\n\t\tif ( attribs )\n\t\t\treturn attribs;\n\n\t\tattribs = {};\n\n\t\tvar length = 0;\n\n\t\t// Loop through all defined attributes.\n\t\tvar styleAttribs = styleDefinition.attributes;\n\t\tif ( styleAttribs ) {\n\t\t\tfor ( var styleAtt in styleAttribs ) {\n\t\t\t\tlength++;\n\t\t\t\tattribs[ styleAtt ] = styleAttribs[ styleAtt ];\n\t\t\t}\n\t\t}\n\n\t\t// Includes the style definitions.\n\t\tvar styleText = CKEDITOR.style.getStyleText( styleDefinition );\n\t\tif ( styleText ) {\n\t\t\tif ( !attribs.style )\n\t\t\t\tlength++;\n\t\t\tattribs.style = styleText;\n\t\t}\n\n\t\t// Appends the \"length\" information to the object.\n\t\tattribs._length = length;\n\n\t\t// Return it, saving it to the next request.\n\t\treturn ( styleDefinition._AC = attribs );\n\t}\n\n\t// Get the the collection used to compare the elements and attributes,\n\t// defined in this style overrides, with other element. All information in\n\t// it is lowercased.\n\t// @param {CKEDITOR.style} style\n\tfunction getOverrides( style ) {\n\t\tif ( style._.overrides )\n\t\t\treturn style._.overrides;\n\n\t\tvar overrides = ( style._.overrides = {} ),\n\t\t\tdefinition = style._.definition.overrides;\n\n\t\tif ( definition ) {\n\t\t\t// The override description can be a string, object or array.\n\t\t\t// Internally, well handle arrays only, so transform it if needed.\n\t\t\tif ( !CKEDITOR.tools.isArray( definition ) )\n\t\t\t\tdefinition = [ definition ];\n\n\t\t\t// Loop through all override definitions.\n\t\t\tfor ( var i = 0; i < definition.length; i++ ) {\n\t\t\t\tvar override = definition[ i ],\n\t\t\t\t\telementName,\n\t\t\t\t\toverrideEl,\n\t\t\t\t\tattrs;\n\n\t\t\t\t// If can be a string with the element name.\n\t\t\t\tif ( typeof override == 'string' )\n\t\t\t\t\telementName = override.toLowerCase();\n\t\t\t\t// Or an object.\n\t\t\t\telse {\n\t\t\t\t\telementName = override.element ? override.element.toLowerCase() : style.element;\n\t\t\t\t\tattrs = override.attributes;\n\t\t\t\t}\n\n\t\t\t\t// We can have more than one override definition for the same\n\t\t\t\t// element name, so we attempt to simply append information to\n\t\t\t\t// it if it already exists.\n\t\t\t\toverrideEl = overrides[ elementName ] || ( overrides[ elementName ] = {} );\n\n\t\t\t\tif ( attrs ) {\n\t\t\t\t\t// The returning attributes list is an array, because we\n\t\t\t\t\t// could have different override definitions for the same\n\t\t\t\t\t// attribute name.\n\t\t\t\t\tvar overrideAttrs = ( overrideEl.attributes = overrideEl.attributes || [] );\n\t\t\t\t\tfor ( var attName in attrs ) {\n\t\t\t\t\t\t// Each item in the attributes array is also an array,\n\t\t\t\t\t\t// where [0] is the attribute name and [1] is the\n\t\t\t\t\t\t// override value.\n\t\t\t\t\t\toverrideAttrs.push( [ attName.toLowerCase(), attrs[ attName ] ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn overrides;\n\t}\n\n\t// Make the comparison of attribute value easier by standardizing it.\n\tfunction normalizeProperty( name, value, isStyle ) {\n\t\tvar temp = new CKEDITOR.dom.element( 'span' );\n\t\ttemp[ isStyle ? 'setStyle' : 'setAttribute' ]( name, value );\n\t\treturn temp[ isStyle ? 'getStyle' : 'getAttribute' ]( name );\n\t}\n\n\t// Compare two bunch of styles, with the speciality that value 'inherit'\n\t// is treated as a wildcard which will match any value.\n\t// @param {Object/String} source\n\t// @param {Object/String} target\n\t// @returns {Boolean}\n\tfunction compareCssText( source, target ) {\n\t\tfunction filter( string, propertyName ) {\n\t\t\t// In case of font-families we'll skip quotes. (#10750)\n\t\t\treturn propertyName.toLowerCase() == 'font-family' ? string.replace( /[\"']/g, '' ) : string;\n\t\t}\n\n\t\tif ( typeof source == 'string' )\n\t\t\tsource = CKEDITOR.tools.parseCssText( source );\n\t\tif ( typeof target == 'string' )\n\t\t\ttarget = CKEDITOR.tools.parseCssText( target, true );\n\n\t\tfor ( var name in source ) {\n\t\t\tif ( !( name in target ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( !( filter( target[ name ], name ) == filter( source[ name ], name ) ||\n\t\t\t\tsource[ name ] == 'inherit' ||\n\t\t\t\ttarget[ name ] == 'inherit' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction applyStyleOnSelection( selection, remove, editor ) {\n\t\tvar doc = selection.document,\n\t\t\tranges = selection.getRanges(),\n\t\t\tfunc = remove ? this.removeFromRange : this.applyToRange,\n\t\t\trange;\n\n\t\tvar iterator = ranges.createIterator();\n\t\twhile ( ( range = iterator.getNextRange() ) )\n\t\t\tfunc.call( this, range, editor );\n\n\t\tselection.selectRanges( ranges );\n\t\tdoc.removeCustomData( 'doc_processing_style' );\n\t}\n} )();\n\n/**\n * Generic style command. It applies a specific style when executed.\n *\n *\t\tvar boldStyle = new CKEDITOR.style( { element: 'strong' } );\n *\t\t// Register the \"bold\" command, which applies the bold style.\n *\t\teditor.addCommand( 'bold', new CKEDITOR.styleCommand( boldStyle ) );\n *\n * @class\n * @constructor Creates a styleCommand class instance.\n * @extends CKEDITOR.commandDefinition\n * @param {CKEDITOR.style} style The style to be applied when command is executed.\n * @param {Object} [ext] Additional command definition's properties.\n */\nCKEDITOR.styleCommand = function( style, ext ) {\n\tthis.style = style;\n\tthis.allowedContent = style;\n\tthis.requiredContent = style;\n\n\tCKEDITOR.tools.extend( this, ext, true );\n};\n\n/**\n * @param {CKEDITOR.editor} editor\n * @todo\n */\nCKEDITOR.styleCommand.prototype.exec = function( editor ) {\n\teditor.focus();\n\n\tif ( this.state == CKEDITOR.TRISTATE_OFF )\n\t\teditor.applyStyle( this.style );\n\telse if ( this.state == CKEDITOR.TRISTATE_ON )\n\t\teditor.removeStyle( this.style );\n};\n\n/**\n * Manages styles registration and loading. See also {@link CKEDITOR.config#stylesSet}.\n *\n *\t\t// The set of styles for the <b>Styles</b> drop-down list.\n *\t\tCKEDITOR.stylesSet.add( 'default', [\n *\t\t\t// Block Styles\n *\t\t\t{ name: 'Blue Title',\t\telement: 'h3',\t\tstyles: { 'color': 'Blue' } },\n *\t\t\t{ name: 'Red Title',\t\telement: 'h3',\t\tstyles: { 'color': 'Red' } },\n *\n *\t\t\t// Inline Styles\n *\t\t\t{ name: 'Marker: Yellow',\telement: 'span',\tstyles: { 'background-color': 'Yellow' } },\n *\t\t\t{ name: 'Marker: Green',\telement: 'span',\tstyles: { 'background-color': 'Lime' } },\n *\n *\t\t\t// Object Styles\n *\t\t\t{\n *\t\t\t\tname: 'Image on Left',\n *\t\t\t\telement: 'img',\n *\t\t\t\tattributes: {\n *\t\t\t\t\tstyle: 'padding: 5px; margin-right: 5px',\n *\t\t\t\t\tborder: '2',\n *\t\t\t\t\talign: 'left'\n *\t\t\t\t}\n *\t\t\t}\n *\t\t] );\n *\n * @since 3.2\n * @class\n * @singleton\n * @extends CKEDITOR.resourceManager\n */\nCKEDITOR.stylesSet = new CKEDITOR.resourceManager( '', 'stylesSet' );\n\n// Backward compatibility (#5025).\nCKEDITOR.addStylesSet = CKEDITOR.tools.bind( CKEDITOR.stylesSet.add, CKEDITOR.stylesSet );\nCKEDITOR.loadStylesSet = function( name, url, callback ) {\n\tCKEDITOR.stylesSet.addExternal( name, url, '' );\n\tCKEDITOR.stylesSet.load( name, callback );\n};\n\nCKEDITOR.tools.extend( CKEDITOR.editor.prototype, {\n\t/**\n\t * Registers a function to be called whenever the selection position changes in the\n\t * editing area. The current state is passed to the function. The possible\n\t * states are {@link CKEDITOR#TRISTATE_ON} and {@link CKEDITOR#TRISTATE_OFF}.\n\t *\n\t *\t\t// Create a style object for the <b> element.\n\t *\t\tvar style = new CKEDITOR.style( { element: 'b' } );\n\t *\t\tvar editor = CKEDITOR.instances.editor1;\n\t *\t\teditor.attachStyleStateChange( style, function( state ) {\n\t *\t\t\tif ( state == CKEDITOR.TRISTATE_ON )\n\t *\t\t\t\talert( 'The current state for the B element is ON' );\n\t *\t\t\telse\n\t *\t\t\t\talert( 'The current state for the B element is OFF' );\n\t *\t\t} );\n\t *\n\t * @member CKEDITOR.editor\n\t * @param {CKEDITOR.style} style The style to be watched.\n\t * @param {Function} callback The function to be called.\n\t */\n\tattachStyleStateChange: function( style, callback ) {\n\t\t// Try to get the list of attached callbacks.\n\t\tvar styleStateChangeCallbacks = this._.styleStateChangeCallbacks;\n\n\t\t// If it doesn't exist, it means this is the first call. So, let's create\n\t\t// all the structure to manage the style checks and the callback calls.\n\t\tif ( !styleStateChangeCallbacks ) {\n\t\t\t// Create the callbacks array.\n\t\t\tstyleStateChangeCallbacks = this._.styleStateChangeCallbacks = [];\n\n\t\t\t// Attach to the selectionChange event, so we can check the styles at\n\t\t\t// that point.\n\t\t\tthis.on( 'selectionChange', function( ev ) {\n\t\t\t\t// Loop throw all registered callbacks.\n\t\t\t\tfor ( var i = 0; i < styleStateChangeCallbacks.length; i++ ) {\n\t\t\t\t\tvar callback = styleStateChangeCallbacks[ i ];\n\n\t\t\t\t\t// Check the current state for the style defined for that callback.\n\t\t\t\t\tvar currentState = callback.style.checkActive( ev.data.path, this ) ?\n\t\t\t\t\t\tCKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\t// Call the callback function, passing the current state to it.\n\t\t\t\t\tcallback.fn.call( this, currentState );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Save the callback info, so it can be checked on the next occurrence of\n\t\t// selectionChange.\n\t\tstyleStateChangeCallbacks.push( { style: style, fn: callback } );\n\t},\n\n\t/**\n\t * Applies the style upon the editor's current selection. Shorthand for\n\t * {@link CKEDITOR.style#apply}.\n\t *\n\t * @member CKEDITOR.editor\n\t * @param {CKEDITOR.style} style\n\t */\n\tapplyStyle: function( style ) {\n\t\tstyle.apply( this );\n\t},\n\n\t/**\n\t * Removes the style from the editor's current selection. Shorthand for\n\t * {@link CKEDITOR.style#remove}.\n\t *\n\t * @member CKEDITOR.editor\n\t * @param {CKEDITOR.style} style\n\t */\n\tremoveStyle: function( style ) {\n\t\tstyle.remove( this );\n\t},\n\n\t/**\n\t * Gets the current `stylesSet` for this instance.\n\t *\n\t *\t\teditor.getStylesSet( function( stylesDefinitions ) {} );\n\t *\n\t * See also {@link CKEDITOR.editor#stylesSet} event.\n\t *\n\t * @member CKEDITOR.editor\n\t * @param {Function} callback The function to be called with the styles data.\n\t */\n\tgetStylesSet: function( callback ) {\n\t\tif ( !this._.stylesDefinitions ) {\n\t\t\tvar editor = this,\n\t\t\t\t// Respect the backwards compatible definition entry\n\t\t\t\tconfigStyleSet = editor.config.stylesCombo_stylesSet || editor.config.stylesSet;\n\n\t\t\t// The false value means that none styles should be loaded.\n\t\t\tif ( configStyleSet === false ) {\n\t\t\t\tcallback( null );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// #5352 Allow to define the styles directly in the config object\n\t\t\tif ( configStyleSet instanceof Array ) {\n\t\t\t\teditor._.stylesDefinitions = configStyleSet;\n\t\t\t\tcallback( configStyleSet );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Default value is 'default'.\n\t\t\tif ( !configStyleSet )\n\t\t\t\tconfigStyleSet = 'default';\n\n\t\t\tvar partsStylesSet = configStyleSet.split( ':' ),\n\t\t\t\tstyleSetName = partsStylesSet[ 0 ],\n\t\t\t\texternalPath = partsStylesSet[ 1 ];\n\n\t\t\tCKEDITOR.stylesSet.addExternal( styleSetName, externalPath ? partsStylesSet.slice( 1 ).join( ':' ) : CKEDITOR.getUrl( 'styles.js' ), '' );\n\n\t\t\tCKEDITOR.stylesSet.load( styleSetName, function( stylesSet ) {\n\t\t\t\teditor._.stylesDefinitions = stylesSet[ styleSetName ];\n\t\t\t\tcallback( editor._.stylesDefinitions );\n\t\t\t} );\n\t\t} else {\n\t\t\tcallback( this._.stylesDefinitions );\n\t\t}\n\t}\n} );\n\n/**\n * Indicates that fully selected read-only elements will be included when\n * applying the style (for inline styles only).\n *\n * @since 3.5\n * @property {Boolean} [includeReadonly=false]\n * @member CKEDITOR.style\n */\n\n/**\n * Indicates that any matches element of this style will be eventually removed\n * when calling {@link CKEDITOR.editor#removeStyle}.\n *\n * @since 4.0\n * @property {Boolean} [alwaysRemoveElement=false]\n * @member CKEDITOR.style\n */\n\n/**\n * Disables inline styling on read-only elements.\n *\n * @since 3.5\n * @cfg {Boolean} [disableReadonlyStyling=false]\n * @member CKEDITOR.config\n */\n\n/**\n * The \"styles definition set\" to use in the editor. They will be used in the\n * styles combo and the style selector of the div container.\n *\n * The styles may be defined in the page containing the editor, or can be\n * loaded on demand from an external file. In the second case, if this setting\n * contains only a name, the `styles.js` file will be loaded from the\n * CKEditor root folder (what ensures backward compatibility with CKEditor 4.0).\n *\n * Otherwise, this setting has the `name:url` syntax, making it\n * possible to set the URL from which the styles file will be loaded.\n * Note that the `name` has to be equal to the name used in\n * {@link CKEDITOR.stylesSet#add} while registering the styles set.\n *\n * **Note**: Since 4.1 it is possible to set `stylesSet` to `false`\n * to prevent loading any styles set.\n *\n * Read more in the [documentation](#!/guide/dev_styles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/styles.html).\n *\n *\t\t// Do not load any file. The styles set is empty.\n *\t\tconfig.stylesSet = false;\n *\n *\t\t// Load the 'mystyles' styles set from the styles.js file.\n *\t\tconfig.stylesSet = 'mystyles';\n *\n *\t\t// Load the 'mystyles' styles set from a relative URL.\n *\t\tconfig.stylesSet = 'mystyles:/editorstyles/styles.js';\n *\n *\t\t// Load the 'mystyles' styles set from a full URL.\n *\t\tconfig.stylesSet = 'mystyles:http://www.example.com/editorstyles/styles.js';\n *\n *\t\t// Load from a list of definitions.\n *\t\tconfig.stylesSet = [\n *\t\t\t{ name: 'Strong Emphasis', element: 'strong' },\n *\t\t\t{ name: 'Emphasis', element: 'em' },\n *\t\t\t...\n *\t\t];\n *\n * @since 3.3\n * @cfg {String/Array/Boolean} [stylesSet='default']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/style.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.comment} class, which represents\n *\t\ta DOM comment node.\n */\n\n/**\n * Represents a DOM comment node.\n *\n *\t\tvar nativeNode = document.createComment( 'Example' );\n *\t\tvar comment = new CKEDITOR.dom.comment( nativeNode );\n *\n *\t\tvar comment = new CKEDITOR.dom.comment( 'Example' );\n *\n * @class\n * @extends CKEDITOR.dom.node\n * @constructor Creates a comment class instance.\n * @param {Object/String} comment A native DOM comment node or a string containing\n * the text to use to create a new comment node.\n * @param {CKEDITOR.dom.document} [ownerDocument] The document that will contain\n * the node in case of new node creation. Defaults to the current document.\n */\nCKEDITOR.dom.comment = function( comment, ownerDocument ) {\n\tif ( typeof comment == 'string' )\n\t\tcomment = ( ownerDocument ? ownerDocument.$ : document ).createComment( comment );\n\n\tCKEDITOR.dom.domObject.call( this, comment );\n};\n\nCKEDITOR.dom.comment.prototype = new CKEDITOR.dom.node();\n\nCKEDITOR.tools.extend( CKEDITOR.dom.comment.prototype, {\n\t/**\n\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_COMMENT}.\n\t *\n\t * @readonly\n\t * @property {Number} [=CKEDITOR.NODE_COMMENT]\n\t */\n\ttype: CKEDITOR.NODE_COMMENT,\n\n\t/**\n\t * Gets the outer HTML of this comment.\n\t *\n\t * @returns {String} The HTML `<!-- comment value -->`.\n\t */\n\tgetOuterHtml: function() {\n\t\treturn '<!--' + this.$.nodeValue + '-->';\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/comment.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n( function() {\n\n\tvar pathBlockLimitElements = {},\n\t\tpathBlockElements = {},\n\t\ttag;\n\n\t// Elements that are considered the \"Block limit\" in an element path.\n\tfor ( tag in CKEDITOR.dtd.$blockLimit ) {\n\t\t// Exclude from list roots.\n\t\tif ( !( tag in CKEDITOR.dtd.$list ) )\n\t\t\tpathBlockLimitElements[ tag ] = 1;\n\t}\n\n\t// Elements that are considered the \"End level Block\" in an element path.\n\tfor ( tag in CKEDITOR.dtd.$block ) {\n\t\t// Exclude block limits, and empty block element, e.g. hr.\n\t\tif ( !( tag in CKEDITOR.dtd.$blockLimit || tag in CKEDITOR.dtd.$empty ) )\n\t\t\tpathBlockElements[ tag ] = 1;\n\t}\n\n\t// Check if an element contains any block element.\n\tfunction checkHasBlock( element ) {\n\t\tvar childNodes = element.getChildren();\n\n\t\tfor ( var i = 0, count = childNodes.count(); i < count; i++ ) {\n\t\t\tvar child = childNodes.getItem( i );\n\n\t\t\tif ( child.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$block[ child.getName() ] )\n\t\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Retrieve the list of nodes walked from the start node up to the editable element of the editor.\n\t *\n\t * @class\n\t * @constructor Creates an element path class instance.\n\t * @param {CKEDITOR.dom.element} startNode From which the path should start.\n\t * @param {CKEDITOR.dom.element} root To which element the path should stop, defaults to the `body` element.\n\t */\n\tCKEDITOR.dom.elementPath = function( startNode, root ) {\n\t\tvar block = null,\n\t\t\tblockLimit = null,\n\t\t\telements = [],\n\t\t\te = startNode,\n\t\t\telementName;\n\n\t\t// Backward compact.\n\t\troot = root || startNode.getDocument().getBody();\n\n\t\tdo {\n\t\t\tif ( e.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\telements.push( e );\n\n\t\t\t\tif ( !this.lastElement ) {\n\t\t\t\t\tthis.lastElement = e;\n\n\t\t\t\t\t// If an object or non-editable element is fully selected at the end of the element path,\n\t\t\t\t\t// it must not become the block limit.\n\t\t\t\t\tif ( e.is( CKEDITOR.dtd.$object ) || e.getAttribute( 'contenteditable' ) == 'false' )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif ( e.equals( root ) )\n\t\t\t\t\tbreak;\n\n\t\t\t\tif ( !blockLimit ) {\n\t\t\t\t\telementName = e.getName();\n\n\t\t\t\t\t// First editable element becomes a block limit, because it cannot be split.\n\t\t\t\t\tif ( e.getAttribute( 'contenteditable' ) == 'true' )\n\t\t\t\t\t\tblockLimit = e;\n\t\t\t\t\t// \"Else\" because element cannot be both - block and block levelimit.\n\t\t\t\t\telse if ( !block && pathBlockElements[ elementName ] )\n\t\t\t\t\t\tblock = e;\n\n\t\t\t\t\tif ( pathBlockLimitElements[ elementName ] ) {\n\t\t\t\t\t\t// End level DIV is considered as the block, if no block is available. (#525)\n\t\t\t\t\t\t// But it must NOT be the root element (checked above).\n\t\t\t\t\t\tif ( !block && elementName == 'div' && !checkHasBlock( e ) )\n\t\t\t\t\t\t\tblock = e;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tblockLimit = e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\twhile ( ( e = e.getParent() ) );\n\n\t\t// Block limit defaults to root.\n\t\tif ( !blockLimit )\n\t\t\tblockLimit = root;\n\n\t\t/**\n\t\t * First non-empty block element which:\n\t\t *\n\t\t * * is not a {@link CKEDITOR.dtd#$blockLimit},\n\t\t * * or is a `div` which does not contain block elements and is not a `root`.\n\t\t *\n\t\t * This means a first, splittable block in elements path.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.dom.element}\n\t\t */\n\t\tthis.block = block;\n\n\t\t/**\n\t\t * See the {@link CKEDITOR.dtd#$blockLimit} description.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.dom.element}\n\t\t */\n\t\tthis.blockLimit = blockLimit;\n\n\t\t/**\n\t\t * The root of the elements path - `root` argument passed to class constructor or a `body` element.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.dom.element}\n\t\t */\n\t\tthis.root = root;\n\n\t\t/**\n\t\t * An array of elements (from `startNode` to `root`) in the path.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.dom.element[]}\n\t\t */\n\t\tthis.elements = elements;\n\n\t\t/**\n\t\t * The last element of the elements path - `startNode` or its parent.\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.dom.element} lastElement\n\t\t */\n\t};\n\n} )();\n\nCKEDITOR.dom.elementPath.prototype = {\n\t/**\n\t * Compares this element path with another one.\n\t *\n\t * @param {CKEDITOR.dom.elementPath} otherPath The elementPath object to be\n\t * compared with this one.\n\t * @returns {Boolean} `true` if the paths are equal, containing the same\n\t * number of elements and the same elements in the same order.\n\t */\n\tcompare: function( otherPath ) {\n\t\tvar thisElements = this.elements;\n\t\tvar otherElements = otherPath && otherPath.elements;\n\n\t\tif ( !otherElements || thisElements.length != otherElements.length )\n\t\t\treturn false;\n\n\t\tfor ( var i = 0; i < thisElements.length; i++ ) {\n\t\t\tif ( !thisElements[ i ].equals( otherElements[ i ] ) )\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * Search the path elements that meets the specified criteria.\n\t *\n\t * @param {String/Array/Function/Object/CKEDITOR.dom.element} query The criteria that can be\n\t * either a tag name, list (array and object) of tag names, element or an node evaluator function.\n\t * @param {Boolean} [excludeRoot] Not taking path root element into consideration.\n\t * @param {Boolean} [fromTop] Search start from the topmost element instead of bottom.\n\t * @returns {CKEDITOR.dom.element} The first matched dom element or `null`.\n\t */\n\tcontains: function( query, excludeRoot, fromTop ) {\n\t\tvar evaluator;\n\t\tif ( typeof query == 'string' )\n\t\t\tevaluator = function( node ) {\n\t\t\t\treturn node.getName() == query;\n\t\t\t};\n\t\tif ( query instanceof CKEDITOR.dom.element )\n\t\t\tevaluator = function( node ) {\n\t\t\t\treturn node.equals( query );\n\t\t\t};\n\t\telse if ( CKEDITOR.tools.isArray( query ) )\n\t\t\tevaluator = function( node ) {\n\t\t\t\treturn CKEDITOR.tools.indexOf( query, node.getName() ) > -1;\n\t\t\t};\n\t\telse if ( typeof query == 'function' )\n\t\t\tevaluator = query;\n\t\telse if ( typeof query == 'object' )\n\t\t\tevaluator = function( node ) {\n\t\t\t\treturn node.getName() in query;\n\t\t\t};\n\n\t\tvar elements = this.elements,\n\t\t\tlength = elements.length;\n\t\texcludeRoot && length--;\n\n\t\tif ( fromTop ) {\n\t\t\telements = Array.prototype.slice.call( elements, 0 );\n\t\t\telements.reverse();\n\t\t}\n\n\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\tif ( evaluator( elements[ i ] ) )\n\t\t\t\treturn elements[ i ];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Check whether the elements path is the proper context for the specified\n\t * tag name in the DTD.\n\t *\n\t * @param {String} tag The tag name.\n\t * @returns {Boolean}\n\t */\n\tisContextFor: function( tag ) {\n\t\tvar holder;\n\n\t\t// Check for block context.\n\t\tif ( tag in CKEDITOR.dtd.$block ) {\n\t\t\t// Indeterminate elements which are not subjected to be splitted or surrounded must be checked first.\n\t\t\tvar inter = this.contains( CKEDITOR.dtd.$intermediate );\n\t\t\tholder = inter || ( this.root.equals( this.block ) && this.block ) || this.blockLimit;\n\t\t\treturn !!holder.getDtd()[ tag ];\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * Retrieve the text direction for this elements path.\n\t *\n\t * @returns {'ltr'/'rtl'}\n\t */\n\tdirection: function() {\n\t\tvar directionNode = this.block || this.blockLimit || this.root;\n\t\treturn directionNode.getDirection( 1 );\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/elementpath.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.dom.text} class, which represents\n *\t\ta DOM text node.\n */\n\n/**\n * Represents a DOM text node.\n *\n *\t\tvar nativeNode = document.createTextNode( 'Example' );\n *\t\tvar text = new CKEDITOR.dom.text( nativeNode );\n *\n *\t\tvar text = new CKEDITOR.dom.text( 'Example' );\n *\n * @class\n * @extends CKEDITOR.dom.node\n * @constructor Creates a text class instance.\n * @param {Object/String} text A native DOM text node or a string containing\n * the text to use to create a new text node.\n * @param {CKEDITOR.dom.document} [ownerDocument] The document that will contain\n * the node in case of new node creation. Defaults to the current document.\n */\nCKEDITOR.dom.text = function( text, ownerDocument ) {\n\tif ( typeof text == 'string' )\n\t\ttext = ( ownerDocument ? ownerDocument.$ : document ).createTextNode( text );\n\n\t// Theoretically, we should call the base constructor here\n\t// (not CKEDITOR.dom.node though). But, IE doesn't support expando\n\t// properties on text node, so the features provided by domObject will not\n\t// work for text nodes (which is not a big issue for us).\n\t//\n\t// CKEDITOR.dom.domObject.call( this, element );\n\n\tthis.$ = text;\n};\n\nCKEDITOR.dom.text.prototype = new CKEDITOR.dom.node();\n\nCKEDITOR.tools.extend( CKEDITOR.dom.text.prototype, {\n\t/**\n\t * The node type. This is a constant value set to {@link CKEDITOR#NODE_TEXT}.\n\t *\n\t * @readonly\n\t * @property {Number} [=CKEDITOR.NODE_TEXT]\n\t */\n\ttype: CKEDITOR.NODE_TEXT,\n\n\t/**\n\t * Gets length of node's value.\n\t *\n\t * @returns {Number}\n\t */\n\tgetLength: function() {\n\t\treturn this.$.nodeValue.length;\n\t},\n\n\t/**\n\t * Gets node's value.\n\t *\n\t * @returns {String}\n\t */\n\tgetText: function() {\n\t\treturn this.$.nodeValue;\n\t},\n\n\t/**\n\t * Sets node's value.\n\t *\n\t * @param {String} text\n\t */\n\tsetText: function( text ) {\n\t\tthis.$.nodeValue = text;\n\t},\n\n\t/**\n\t * Breaks this text node into two nodes at the specified offset,\n\t * keeping both in the tree as siblings. This node then only contains\n\t * all the content up to the offset point. A new text node, which is\n\t * inserted as the next sibling of this node, contains all the content\n\t * at and after the offset point. When the offset is equal to the\n\t * length of this node, the new node has no data.\n\t *\n\t * @param {Number} The position at which to split, starting from zero.\n\t * @returns {CKEDITOR.dom.text} The new text node.\n\t */\n\tsplit: function( offset ) {\n\n\t\t// Saved the children count and text length beforehand.\n\t\tvar parent = this.$.parentNode,\n\t\t\tcount = parent.childNodes.length,\n\t\t\tlength = this.getLength();\n\n\t\tvar doc = this.getDocument();\n\t\tvar retval = new CKEDITOR.dom.text( this.$.splitText( offset ), doc );\n\n\t\tif ( parent.childNodes.length == count ) {\n\t\t\t// If the offset is after the last char, IE creates the text node\n\t\t\t// on split, but don't include it into the DOM. So, we have to do\n\t\t\t// that manually here.\n\t\t\tif ( offset >= length ) {\n\t\t\t\tretval = doc.createText( '' );\n\t\t\t\tretval.insertAfter( this );\n\t\t\t} else {\n\t\t\t\t// IE BUG: IE8+ does not update the childNodes array in DOM after splitText(),\n\t\t\t\t// we need to make some DOM changes to make it update. (#3436)\n\t\t\t\tvar workaround = doc.createText( '' );\n\t\t\t\tworkaround.insertAfter( retval );\n\t\t\t\tworkaround.remove();\n\t\t\t}\n\t\t}\n\n\t\treturn retval;\n\t},\n\n\t/**\n\t * Extracts characters from indexA up to but not including `indexB`.\n\t *\n\t * @param {Number} indexA An integer between `0` and one less than the\n\t * length of the text.\n\t * @param {Number} [indexB] An integer between `0` and the length of the\n\t * string. If omitted, extracts characters to the end of the text.\n\t */\n\tsubstring: function( indexA, indexB ) {\n\t\t// We need the following check due to a Firefox bug\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=458886\n\t\tif ( typeof indexB != 'number' )\n\t\t\treturn this.$.nodeValue.substr( indexA );\n\t\telse\n\t\t\treturn this.$.nodeValue.substring( indexA, indexB );\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/text.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t/**\n\t * Represents a list os CKEDITOR.dom.range objects, which can be easily\n\t * iterated sequentially.\n\t *\n\t * @class\n\t * @extends Array\n\t * @constructor Creates a rangeList class instance.\n\t * @param {CKEDITOR.dom.range/CKEDITOR.dom.range[]} [ranges] The ranges contained on this list.\n\t * Note that, if an array of ranges is specified, the range sequence\n\t * should match its DOM order. This class will not help to sort them.\n\t */\n\tCKEDITOR.dom.rangeList = function( ranges ) {\n\t\tif ( ranges instanceof CKEDITOR.dom.rangeList )\n\t\t\treturn ranges;\n\n\t\tif ( !ranges )\n\t\t\tranges = [];\n\t\telse if ( ranges instanceof CKEDITOR.dom.range )\n\t\t\tranges = [ ranges ];\n\n\t\treturn CKEDITOR.tools.extend( ranges, mixins );\n\t};\n\n\tvar mixins = {\n\t\t/**\n\t\t * Creates an instance of the rangeList iterator, it should be used\n\t\t * only when the ranges processing could be DOM intrusive, which\n\t\t * means it may pollute and break other ranges in this list.\n\t\t * Otherwise, it's enough to just iterate over this array in a for loop.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.rangeListIterator}\n\t\t */\n\t\tcreateIterator: function() {\n\t\t\tvar rangeList = this,\n\t\t\t\tbookmark = CKEDITOR.dom.walker.bookmark(),\n\t\t\t\tbookmarks = [],\n\t\t\t\tcurrent;\n\n\t\t\treturn {\n\t\t\t\t/**\n\t\t\t\t * Retrieves the next range in the list.\n\t\t\t\t *\n\t\t\t\t * @member CKEDITOR.dom.rangeListIterator\n\t\t\t\t * @param {Boolean} [mergeConsequent=false] Whether join two adjacent\n\t\t\t\t * ranges into single, e.g. consequent table cells.\n\t\t\t\t */\n\t\t\t\tgetNextRange: function( mergeConsequent ) {\n\t\t\t\t\tcurrent = current === undefined ? 0 : current + 1;\n\n\t\t\t\t\tvar range = rangeList[ current ];\n\n\t\t\t\t\t// Multiple ranges might be mangled by each other.\n\t\t\t\t\tif ( range && rangeList.length > 1 ) {\n\t\t\t\t\t\t// Bookmarking all other ranges on the first iteration,\n\t\t\t\t\t\t// the range correctness after it doesn't matter since we'll\n\t\t\t\t\t\t// restore them before the next iteration.\n\t\t\t\t\t\tif ( !current ) {\n\t\t\t\t\t\t\t// Make sure bookmark correctness by reverse processing.\n\t\t\t\t\t\t\tfor ( var i = rangeList.length - 1; i >= 0; i-- )\n\t\t\t\t\t\t\t\tbookmarks.unshift( rangeList[ i ].createBookmark( true ) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( mergeConsequent ) {\n\t\t\t\t\t\t\t// Figure out how many ranges should be merged.\n\t\t\t\t\t\t\tvar mergeCount = 0;\n\t\t\t\t\t\t\twhile ( rangeList[ current + mergeCount + 1 ] ) {\n\t\t\t\t\t\t\t\tvar doc = range.document,\n\t\t\t\t\t\t\t\t\tfound = 0,\n\t\t\t\t\t\t\t\t\tleft = doc.getById( bookmarks[ mergeCount ].endNode ),\n\t\t\t\t\t\t\t\t\tright = doc.getById( bookmarks[ mergeCount + 1 ].startNode ),\n\t\t\t\t\t\t\t\t\tnext;\n\n\t\t\t\t\t\t\t\t// Check subsequent range.\n\t\t\t\t\t\t\t\twhile ( 1 ) {\n\t\t\t\t\t\t\t\t\tnext = left.getNextSourceNode( false );\n\t\t\t\t\t\t\t\t\tif ( !right.equals( next ) ) {\n\t\t\t\t\t\t\t\t\t\t// This could be yet another bookmark or\n\t\t\t\t\t\t\t\t\t\t// walking across block boundaries.\n\t\t\t\t\t\t\t\t\t\tif ( bookmark( next ) || ( next.type == CKEDITOR.NODE_ELEMENT && next.isBlockBoundary() ) ) {\n\t\t\t\t\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tfound = 1;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( !found )\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tmergeCount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trange.moveToBookmark( bookmarks.shift() );\n\n\t\t\t\t\t\t// Merge ranges finally after moving to bookmarks.\n\t\t\t\t\t\twhile ( mergeCount-- ) {\n\t\t\t\t\t\t\tnext = rangeList[ ++current ];\n\t\t\t\t\t\t\tnext.moveToBookmark( bookmarks.shift() );\n\t\t\t\t\t\t\trange.setEnd( next.endContainer, next.endOffset );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Create bookmarks for all ranges. See {@link CKEDITOR.dom.range#createBookmark}.\n\t\t *\n\t\t * @param {Boolean} [serializable=false] See {@link CKEDITOR.dom.range#createBookmark}.\n\t\t * @returns {Array} Array of bookmarks.\n\t\t */\n\t\tcreateBookmarks: function( serializable ) {\n\t\t\tvar retval = [],\n\t\t\t\tbookmark;\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tretval.push( bookmark = this[ i ].createBookmark( serializable, true ) );\n\n\t\t\t\t// Updating the container & offset values for ranges\n\t\t\t\t// that have been touched.\n\t\t\t\tfor ( var j = i + 1; j < this.length; j++ ) {\n\t\t\t\t\tthis[ j ] = updateDirtyRange( bookmark, this[ j ] );\n\t\t\t\t\tthis[ j ] = updateDirtyRange( bookmark, this[ j ], true );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn retval;\n\t\t},\n\n\t\t/**\n\t\t * Create \"unobtrusive\" bookmarks for all ranges. See {@link CKEDITOR.dom.range#createBookmark2}.\n\t\t *\n\t\t * @param {Boolean} [normalized=false] See {@link CKEDITOR.dom.range#createBookmark2}.\n\t\t * @returns {Array} Array of bookmarks.\n\t\t */\n\t\tcreateBookmarks2: function( normalized ) {\n\t\t\tvar bookmarks = [];\n\n\t\t\tfor ( var i = 0; i < this.length; i++ )\n\t\t\t\tbookmarks.push( this[ i ].createBookmark2( normalized ) );\n\n\t\t\treturn bookmarks;\n\t\t},\n\n\t\t/**\n\t\t * Move each range in the list to the position specified by a list of bookmarks.\n\t\t *\n\t\t * @param {Array} bookmarks The list of bookmarks, each one matching a range in the list.\n\t\t */\n\t\tmoveToBookmarks: function( bookmarks ) {\n\t\t\tfor ( var i = 0; i < this.length; i++ )\n\t\t\t\tthis[ i ].moveToBookmark( bookmarks[ i ] );\n\t\t}\n\t};\n\n\t// Update the specified range which has been mangled by previous insertion of\n\t// range bookmark nodes.(#3256)\n\tfunction updateDirtyRange( bookmark, dirtyRange, checkEnd ) {\n\t\tvar serializable = bookmark.serializable,\n\t\t\tcontainer = dirtyRange[ checkEnd ? 'endContainer' : 'startContainer' ],\n\t\t\toffset = checkEnd ? 'endOffset' : 'startOffset';\n\n\t\tvar bookmarkStart = serializable ? dirtyRange.document.getById( bookmark.startNode ) : bookmark.startNode;\n\n\t\tvar bookmarkEnd = serializable ? dirtyRange.document.getById( bookmark.endNode ) : bookmark.endNode;\n\n\t\tif ( container.equals( bookmarkStart.getPrevious() ) ) {\n\t\t\tdirtyRange.startOffset = dirtyRange.startOffset - container.getLength() - bookmarkEnd.getPrevious().getLength();\n\t\t\tcontainer = bookmarkEnd.getNext();\n\t\t} else if ( container.equals( bookmarkEnd.getPrevious() ) ) {\n\t\t\tdirtyRange.startOffset = dirtyRange.startOffset - container.getLength();\n\t\t\tcontainer = bookmarkEnd.getNext();\n\t\t}\n\n\t\tcontainer.equals( bookmarkStart.getParent() ) && dirtyRange[ offset ]++;\n\t\tcontainer.equals( bookmarkEnd.getParent() ) && dirtyRange[ offset ]++;\n\n\t\t// Update and return this range.\n\t\tdirtyRange[ checkEnd ? 'endContainer' : 'startContainer' ] = container;\n\t\treturn dirtyRange;\n\t}\n} )();\n\n/**\n * (Virtual Class) Do not call this constructor. This class is not really part\n * of the API. It just describes the return type of {@link CKEDITOR.dom.rangeList#createIterator}.\n *\n * @class CKEDITOR.dom.rangeListIterator\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/dom/rangelist.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.skin} class that is used to manage skin parts.\n */\n\n( function() {\n\tvar cssLoaded = {};\n\n\tfunction getName() {\n\t\t// CKEDITOR.skinName = \"moono\";\n\t\t\n\t\treturn CKEDITOR.skinName.split( ',' )[ 0 ];\n\t}\n\n\tfunction getConfigPath() {\n\t\treturn CKEDITOR.getUrl( CKEDITOR.skinName.split( ',' )[ 1 ] || ( 'skins/' + getName() + '/' ) );\n\t}\n\n\t/**\n\t * Manages the loading of skin parts among all editor instances.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.skin = {\n\t\t/**\n\t\t * Returns the root path to the skin directory.\n\t\t *\n\t\t * @method\n\t\t * @todo\n\t\t */\n\t\tpath: getConfigPath,\n\n\t\t/**\n\t\t * Loads a skin part into the page. Does nothing if the part has already been loaded.\n\t\t *\n\t\t * **Note:** The \"editor\" part is always auto loaded upon instance creation,\n\t\t * thus this function is mainly used to **lazy load** other parts of the skin\n\t\t * that do not have to be displayed until requested.\n\t\t *\n\t\t *\t\t// Load the dialog part.\n\t\t *\t\teditor.skin.loadPart( 'dialog' );\n\t\t *\n\t\t * @param {String} part The name of the skin part CSS file that resides in the skin directory.\n\t\t * @param {Function} fn The provided callback function which is invoked after the part is loaded.\n\t\t */\n\t\tloadPart: function( part, fn ) {\n\t\t\tif ( CKEDITOR.skin.name != getName() ) {\n\t\t\t\tCKEDITOR.scriptLoader.load( CKEDITOR.getUrl( getConfigPath() + 'skin.js' ), function() {\n\t\t\t\t\tloadCss( part, fn );\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tloadCss( part, fn );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the real URL of a (CSS) skin part.\n\t\t *\n\t\t * @param {String} part\n\t\t */\n\t\tgetPath: function( part ) {\n\t\t\treturn CKEDITOR.getUrl( getCssPath( part ) );\n\t\t},\n\n\t\t/**\n\t\t * The list of registered icons. To add new icons to this list, use {@link #addIcon}.\n\t\t */\n\t\ticons: {},\n\n\t\t/**\n\t\t * Registers an icon.\n\t\t *\n\t\t * @param {String} name The icon name.\n\t\t * @param {String} path The path to the icon image file.\n\t\t * @param {Number} [offset] The vertical offset position of the icon, if\n\t\t * available inside a strip image.\n\t\t * @param {String} [bgsize] The value of the CSS \"background-size\" property to\n\t\t * use for this icon\n\t\t */\n\t\taddIcon: function( name, path, offset, bgsize ) {\n\t\t\tname = name.toLowerCase();\n\t\t\tif ( !this.icons[ name ] ) {\n\t\t\t\tthis.icons[ name ] = {\n\t\t\t\t\tpath: path,\n\t\t\t\t\toffset: offset || 0,\n\t\t\t\t\tbgsize: bgsize || '16px'\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets the CSS background styles to be used to render a specific icon.\n\t\t *\n\t\t * @param {String} name The icon name, as registered with {@link #addIcon}.\n\t\t * @param {Boolean} [rtl] Indicates that the RTL version of the icon is\n\t\t * to be used, if available.\n\t\t * @param {String} [overridePath] The path to the icon image file. It\n\t\t * overrides the path defined by the named icon, if available, and is\n\t\t * used if the named icon was not registered.\n\t\t * @param {Number} [overrideOffset] The vertical offset position of the\n\t\t * icon. It overrides the offset defined by the named icon, if\n\t\t * available, and is used if the named icon was not registered.\n\t\t * @param {String} [overrideBgsize] The value of the CSS \"background-size\" property\n\t\t * to use for the icon. It overrides the value defined by the named icon,\n\t\t * if available, and is used if the named icon was not registered.\n\t\t */\n\t\tgetIconStyle: function( name, rtl, overridePath, overrideOffset, overrideBgsize ) {\n\t\t\tvar icon, path, offset, bgsize;\n\n\t\t\tif ( name ) {\n\t\t\t\tname = name.toLowerCase();\n\t\t\t\t// If we're in RTL, try to get the RTL version of the icon.\n\t\t\t\tif ( rtl )\n\t\t\t\t\ticon = this.icons[ name + '-rtl' ];\n\n\t\t\t\t// If not in LTR or no RTL version available, get the generic one.\n\t\t\t\tif ( !icon )\n\t\t\t\t\ticon = this.icons[ name ];\n\t\t\t}\n\n\t\t\tpath = overridePath || ( icon && icon.path ) || '';\n\t\t\toffset = overrideOffset || ( icon && icon.offset );\n\t\t\tbgsize = overrideBgsize || ( icon && icon.bgsize ) || '16px';\n\n\t\t\t// If we use apostrophes in background-image, we must escape apostrophes in path (just to be sure). (#13361)\n\t\t\tif ( path )\n\t\t\t\tpath = path.replace( /'/g, '\\\\\\'' );\n\t\t\t\tpath = '.'+path.slice(path.indexOf('/plugins'));\n\t\t\t\tvar iconObj = require('../.icons');\n\t\t\treturn path &&\n\t\t\t\t( 'background-image:url(\\'' + iconObj[path.replace(/\\./g,'a').replace(/\\//g,'b').replace(/\\\\/g,'c')] + '\\');background-position:0 ' + offset + 'px;background-size:' + bgsize + ';' );\n\t\t}\n\t};\n\n\tfunction getCssPath( part ) {\n\t\t// Check for ua-specific version of skin part.\n\t\tvar uas = CKEDITOR.skin[ 'ua_' + part ], env = CKEDITOR.env;\n\t\tif ( uas ) {\n\n\t\t\t// Having versioned UA checked first.\n\t\t\tuas = uas.split( ',' ).sort( function( a, b ) {\n\t\t\t\treturn a > b ? -1 : 1;\n\t\t\t} );\n\n\t\t\t// Loop through all ua entries, checking is any of them match the current ua.\n\t\t\tfor ( var i = 0, ua; i < uas.length; i++ ) {\n\t\t\t\tua = uas[ i ];\n\n\t\t\t\tif ( env.ie ) {\n\t\t\t\t\tif ( ( ua.replace( /^ie/, '' ) == env.version ) || ( env.quirks && ua == 'iequirks' ) )\n\t\t\t\t\t\tua = 'ie';\n\t\t\t\t}\n\n\t\t\t\tif ( env[ ua ] ) {\n\t\t\t\t\tpart += '_' + uas[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn CKEDITOR.getUrl( getConfigPath() + part + '.css' );\n\t}\n\n\n\tfunction loadCss( part, callback ) {\n\t\t// Avoid reload.\n\t\tif ( !cssLoaded[ part ] ) {\n\t\t\t// CKEDITOR.document.appendStyleSheet( getCssPath( part ) ); //now  we  use webpack .two css files\n\t\t\tcssLoaded[ part ] = 1;\n\t\t}\n\n\t\t// CSS loading should not be blocking.\n\t\tcallback && callback();\n\t}\n\n\tCKEDITOR.tools.extend( CKEDITOR.editor.prototype, {\n\t\t/** Gets the color of the editor user interface.\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.getUiColor();\n\t\t *\n\t\t * @method\n\t\t * @member CKEDITOR.editor\n\t\t * @returns {String} uiColor The editor UI color or `undefined` if the UI color is not set.\n\t\t */\n\t\tgetUiColor: function() {\n\t\t\treturn this.uiColor;\n\t\t},\n\n\t\t/** Sets the color of the editor user interface. This method accepts a color value in\n\t\t * hexadecimal notation, with a `#` character (e.g. #ffffff).\n\t\t *\n\t\t * \t\tCKEDITOR.instances.editor1.setUiColor( '#ff00ff' );\n\t\t *\n\t\t * @method\n\t\t * @member CKEDITOR.editor\n\t\t * @param {String} color The desired editor UI color in hexadecimal notation.\n\t\t */\n\t\tsetUiColor: function( color ) {\n\t\t\tvar uiStyle = getStylesheet( CKEDITOR.document );\n\n\t\t\treturn ( this.setUiColor = function( color ) {\n\t\t\t\tthis.uiColor = color;\n\n\t\t\t\tvar chameleon = CKEDITOR.skin.chameleon,\n\t\t\t\t\teditorStyleContent = '',\n\t\t\t\t\tpanelStyleContent = '';\n\n\t\t\t\tif ( typeof chameleon == 'function' ) {\n\t\t\t\t\teditorStyleContent = chameleon( this, 'editor' );\n\t\t\t\t\tpanelStyleContent = chameleon( this, 'panel' );\n\t\t\t\t}\n\n\t\t\t\tvar replace = [ [ uiColorRegexp, color ] ];\n\n\t\t\t\t// Update general style.\n\t\t\t\tupdateStylesheets( [ uiStyle ], editorStyleContent, replace );\n\n\t\t\t\t// Update panel styles.\n\t\t\t\tupdateStylesheets( uiColorMenus, panelStyleContent, replace );\n\t\t\t} ).call( this, color );\n\t\t}\n\t} );\n\n\tvar uiColorStylesheetId = 'cke_ui_color',\n\t\tuiColorMenus = [],\n\t\tuiColorRegexp = /\\$color/g;\n\n\tfunction getStylesheet( document ) {\n\t\tvar node = document.getById( uiColorStylesheetId );\n\t\tif ( !node ) {\n\t\t\tnode = document.getHead().append( 'style' );\n\t\t\tnode.setAttribute( 'id', uiColorStylesheetId );\n\t\t\tnode.setAttribute( 'type', 'text/css' );\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction updateStylesheets( styleNodes, styleContent, replace ) {\n\t\tvar r, i, content;\n\n\t\t// We have to split CSS declarations for webkit.\n\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\tstyleContent = styleContent.split( '}' ).slice( 0, -1 );\n\t\t\tfor ( i = 0; i < styleContent.length; i++ )\n\t\t\t\tstyleContent[ i ] = styleContent[ i ].split( '{' );\n\t\t}\n\n\t\tfor ( var id = 0; id < styleNodes.length; id++ ) {\n\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\tfor ( i = 0; i < styleContent.length; i++ ) {\n\t\t\t\t\tcontent = styleContent[ i ][ 1 ];\n\t\t\t\t\tfor ( r = 0; r < replace.length; r++ )\n\t\t\t\t\t\tcontent = content.replace( replace[ r ][ 0 ], replace[ r ][ 1 ] );\n\n\t\t\t\t\tstyleNodes[ id ].$.sheet.addRule( styleContent[ i ][ 0 ], content );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcontent = styleContent;\n\t\t\t\tfor ( r = 0; r < replace.length; r++ )\n\t\t\t\t\tcontent = content.replace( replace[ r ][ 0 ], replace[ r ][ 1 ] );\n\n\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 11 )\n\t\t\t\t\tstyleNodes[ id ].$.styleSheet.cssText += content;\n\t\t\t\telse\n\t\t\t\t\tstyleNodes[ id ].$.innerHTML += content;\n\t\t\t}\n\t\t}\n\t}\n\n\tCKEDITOR.on( 'instanceLoaded', function( evt ) {\n\t\t// The chameleon feature is not for IE quirks.\n\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.quirks )\n\t\t\treturn;\n\n\t\tvar editor = evt.editor,\n\t\t\tshowCallback = function( event ) {\n\t\t\t\tvar panel = event.data[ 0 ] || event.data;\n\t\t\t\tvar iframe = panel.element.getElementsByTag( 'iframe' ).getItem( 0 ).getFrameDocument();\n\n\t\t\t\t// Add stylesheet if missing.\n\t\t\t\tif ( !iframe.getById( 'cke_ui_color' ) ) {\n\t\t\t\t\tvar node = getStylesheet( iframe );\n\t\t\t\t\tuiColorMenus.push( node );\n\n\t\t\t\t\tvar color = editor.getUiColor();\n\t\t\t\t\t// Set uiColor for new panel.\n\t\t\t\t\tif ( color )\n\t\t\t\t\t\tupdateStylesheets( [ node ], CKEDITOR.skin.chameleon( editor, 'panel' ), [ [ uiColorRegexp, color ] ] );\n\n\t\t\t\t}\n\t\t\t};\n\n\t\teditor.on( 'panelShow', showCallback );\n\t\teditor.on( 'menuShow', showCallback );\n\n\t\t// Apply UI color if specified in config.\n\t\tif ( editor.config.uiColor )\n\t\t\teditor.setUiColor( editor.config.uiColor );\n\t} );\n} )();\n\n/**\n * The list of file names matching the browser user agent string from\n * {@link CKEDITOR.env}. This is used to load the skin part file in addition\n * to the \"main\" skin file for a particular browser.\n *\n * **Note:** For each of the defined skin parts the corresponding\n * CSS file with the same name as the user agent must exist inside\n * the skin directory.\n *\n * @property ua\n * @todo type?\n */\n\n/**\n * The name of the skin that is currently used.\n *\n * @property {String} name\n * @todo\n */\n\n/**\n * The editor skin name. Note that it is not possible to have editors with\n * different skin settings in the same page. In such case just one of the\n * skins will be used for all editors.\n *\n * This is a shortcut to {@link CKEDITOR#skinName}.\n *\n * It is possible to install skins outside the default `skin` folder in the\n * editor installation. In that case, the absolute URL path to that folder\n * should be provided, separated by a comma (`'skin_name,skin_path'`).\n *\n *\t\tconfig.skin = 'moono';\n *\n *\t\tconfig.skin = 'myskin,/customstuff/myskin/';\n *\n * @cfg {String} skin\n * @member CKEDITOR.config\n */\n\n/**\n * A function that supports the chameleon (skin color switch) feature, providing\n * the skin color style updates to be applied in runtime.\n *\n * **Note:** The embedded `$color` variable is to be substituted with a specific UI color.\n *\n * @method chameleon\n * @param {String} editor The editor instance that the color changes apply to.\n * @param {String} part The name of the skin part where the color changes take place.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/skin.js\n **/","module.exports = {\r\nabpluginsbsourceareabiconsbsourceapng:(require(\"./plugins/sourcearea/icons/source.png\")),\r\nabpluginsbsavebiconsbsaveapng:(require(\"./plugins/save/icons/save.png\")),\r\nabpluginsbnewpagebiconsbnewpageapng:(require(\"./plugins/newpage/icons/newpage.png\")),\r\nabpluginsbpreviewbiconsbpreviewapng:(require(\"./plugins/preview/icons/preview.png\")),\r\nabpluginsbprintbiconsbprintapng:(require(\"./plugins/print/icons/print.png\")),\r\nabpluginsbtemplatesbiconsbtemplatesapng:(require(\"./plugins/templates/icons/templates.png\")),\r\nabpluginsbclipboardbiconsbcutapng:(require(\"./plugins/clipboard/icons/cut.png\")),\r\nabpluginsbclipboardbiconsbcopyapng:(require(\"./plugins/clipboard/icons/copy.png\")),\r\nabpluginsbclipboardbiconsbpasteapng:(require(\"./plugins/clipboard/icons/paste.png\")),\r\nabpluginsbpastetextbiconsbpastetextapng:(require(\"./plugins/pastetext/icons/pastetext.png\")),\r\nabpluginsbpastefromwordbiconsbpastefromwordapng:(require(\"./plugins/pastefromword/icons/pastefromword.png\")),\r\nabpluginsbundobiconsbundoapng:(require(\"./plugins/undo/icons/undo.png\")),\r\nabpluginsbundobiconsbredoapng:(require(\"./plugins/undo/icons/redo.png\")),\r\nabpluginsbfindbiconsbfindapng:(require(\"./plugins/find/icons/find.png\")),\r\nabpluginsbfindbiconsbreplaceapng:(require(\"./plugins/find/icons/replace.png\")),\r\nabpluginsbselectallbiconsbselectallapng:(require(\"./plugins/selectall/icons/selectall.png\")),\r\nabpluginsbformsbiconsbformapng:(require(\"./plugins/forms/icons/form.png\")),\r\nabpluginsbformsbiconsbcheckboxapng:(require(\"./plugins/forms/icons/checkbox.png\")),\r\nabpluginsbformsbiconsbradioapng:(require(\"./plugins/forms/icons/radio.png\")),\r\nabpluginsbformsbiconsbtextfieldapng:(require(\"./plugins/forms/icons/textfield.png\")),\r\nabpluginsbformsbiconsbtextareaapng:(require(\"./plugins/forms/icons/textarea.png\")),\r\nabpluginsbformsbiconsbselectapng:(require(\"./plugins/forms/icons/select.png\")),\r\nabpluginsbformsbiconsbbuttonapng:(require(\"./plugins/forms/icons/button.png\")),\r\nabpluginsbformsbiconsbimagebuttonapng:(require(\"./plugins/forms/icons/imagebutton.png\")),\r\nabpluginsbformsbiconsbhiddenfieldapng:(require(\"./plugins/forms/icons/hiddenfield.png\")),\r\nabpluginsbbasicstylesbiconsbboldapng:(require(\"./plugins/basicstyles/icons/bold.png\")),\r\nabpluginsbbasicstylesbiconsbitalicapng:(require(\"./plugins/basicstyles/icons/italic.png\")),\r\nabpluginsbbasicstylesbiconsbunderlineapng:(require(\"./plugins/basicstyles/icons/underline.png\")),\r\nabpluginsbbasicstylesbiconsbstrikeapng:(require(\"./plugins/basicstyles/icons/strike.png\")),\r\nabpluginsbbasicstylesbiconsbsubscriptapng:(require(\"./plugins/basicstyles/icons/subscript.png\")),\r\nabpluginsbbasicstylesbiconsbsuperscriptapng:(require(\"./plugins/basicstyles/icons/superscript.png\")),\r\nabpluginsbremoveformatbiconsbremoveformatapng:(require(\"./plugins/removeformat/icons/removeformat.png\")),\r\nabpluginsblistbiconsbnumberedlistapng:(require(\"./plugins/list/icons/numberedlist.png\")),\r\nabpluginsblistbiconsbbulletedlistapng:(require(\"./plugins/list/icons/bulletedlist.png\")),\r\nabpluginsbindentbiconsboutdentapng:(require(\"./plugins/indent/icons/outdent.png\")),\r\nabpluginsbindentbiconsbindentapng:(require(\"./plugins/indent/icons/indent.png\")),\r\nabpluginsbblockquotebiconsbblockquoteapng:(require(\"./plugins/blockquote/icons/blockquote.png\")),\r\nabpluginsbdivbiconsbcreatedivapng:(require(\"./plugins/div/icons/creatediv.png\")),\r\nabpluginsbjustifybiconsbjustifyleftapng:(require(\"./plugins/justify/icons/justifyleft.png\")),\r\nabpluginsbjustifybiconsbjustifycenterapng:(require(\"./plugins/justify/icons/justifycenter.png\")),\r\nabpluginsbjustifybiconsbjustifyrightapng:(require(\"./plugins/justify/icons/justifyright.png\")),\r\nabpluginsbjustifybiconsbjustifyblockapng:(require(\"./plugins/justify/icons/justifyblock.png\")),\r\nabpluginsbbidibiconsbbidiltrapng:(require(\"./plugins/bidi/icons/bidiltr.png\")),\r\nabpluginsbbidibiconsbbidirtlapng:(require(\"./plugins/bidi/icons/bidirtl.png\")),\r\nabpluginsblanguagebiconsblanguageapng:(require(\"./plugins/language/icons/language.png\")),\r\nabpluginsblinkbiconsblinkapng:(require(\"./plugins/link/icons/link.png\")),\r\nabpluginsblinkbiconsbunlinkapng:(require(\"./plugins/link/icons/unlink.png\")),\r\nabpluginsblinkbiconsbanchorapng:(require(\"./plugins/link/icons/anchor.png\")),\r\nabpluginsbimagebiconsbimageapng:(require(\"./plugins/image/icons/image.png\")),\r\nabpluginsbflashbiconsbflashapng:(require(\"./plugins/flash/icons/flash.png\")),\r\nabpluginsbtablebiconsbtableapng:(require(\"./plugins/table/icons/table.png\")),\r\nabpluginsbhorizontalrulebiconsbhorizontalruleapng:(require(\"./plugins/horizontalrule/icons/horizontalrule.png\")),\r\nabpluginsbsmileybiconsbsmileyapng:(require(\"./plugins/smiley/icons/smiley.png\")),\r\nabpluginsbspecialcharbiconsbspecialcharapng:(require(\"./plugins/specialchar/icons/specialchar.png\")),\r\nabpluginsbpagebreakbiconsbpagebreakapng:(require(\"./plugins/pagebreak/icons/pagebreak.png\")),\r\nabpluginsbiframebiconsbiframeapng:(require(\"./plugins/iframe/icons/iframe.png\")),\r\nabpluginsbcolorbuttonbiconsbtextcolorapng:(require(\"./plugins/colorbutton/icons/textcolor.png\")),\r\nabpluginsbcolorbuttonbiconsbbgcolorapng:(require(\"./plugins/colorbutton/icons/bgcolor.png\")),\r\nabpluginsbmaximizebiconsbmaximizeapng:(require(\"./plugins/maximize/icons/maximize.png\")),\r\nabpluginsbshowblocksbiconsbshowblocksapng:(require(\"./plugins/showblocks/icons/showblocks.png\")),\r\nabpluginsbaboutbiconsbaboutapng:(require(\"./plugins/about/icons/about.png\")),\r\nabpluginsbsmileybimagesbangel_smileagif:(require(\"./plugins/smiley/images/angel_smile.gif\")),\r\nabpluginsbsmileybimagesbangel_smileapng:(require(\"./plugins/smiley/images/angel_smile.png\")),\r\nabpluginsbsmileybimagesbangry_smileagif:(require(\"./plugins/smiley/images/angry_smile.gif\")),\r\nabpluginsbsmileybimagesbangry_smileapng:(require(\"./plugins/smiley/images/angry_smile.png\")),\r\nabpluginsbsmileybimagesbbroken_heartagif:(require(\"./plugins/smiley/images/broken_heart.gif\")),\r\nabpluginsbsmileybimagesbbroken_heartapng:(require(\"./plugins/smiley/images/broken_heart.png\")),\r\nabpluginsbsmileybimagesbconfused_smileagif:(require(\"./plugins/smiley/images/confused_smile.gif\")),\r\nabpluginsbsmileybimagesbconfused_smileapng:(require(\"./plugins/smiley/images/confused_smile.png\")),\r\nabpluginsbsmileybimagesbcry_smileagif:(require(\"./plugins/smiley/images/cry_smile.gif\")),\r\nabpluginsbsmileybimagesbcry_smileapng:(require(\"./plugins/smiley/images/cry_smile.png\")),\r\nabpluginsbsmileybimagesbdevil_smileagif:(require(\"./plugins/smiley/images/devil_smile.gif\")),\r\nabpluginsbsmileybimagesbdevil_smileapng:(require(\"./plugins/smiley/images/devil_smile.png\")),\r\nabpluginsbsmileybimagesbembaressed_smileagif:(require(\"./plugins/smiley/images/embaressed_smile.gif\")),\r\nabpluginsbsmileybimagesbembarrassed_smileagif:(require(\"./plugins/smiley/images/embarrassed_smile.gif\")),\r\nabpluginsbsmileybimagesbembarrassed_smileapng:(require(\"./plugins/smiley/images/embarrassed_smile.png\")),\r\nabpluginsbsmileybimagesbenvelopeagif:(require(\"./plugins/smiley/images/envelope.gif\")),\r\nabpluginsbsmileybimagesbenvelopeapng:(require(\"./plugins/smiley/images/envelope.png\")),\r\nabpluginsbsmileybimagesbheartagif:(require(\"./plugins/smiley/images/heart.gif\")),\r\nabpluginsbsmileybimagesbheartapng:(require(\"./plugins/smiley/images/heart.png\")),\r\nabpluginsbsmileybimagesbkissagif:(require(\"./plugins/smiley/images/kiss.gif\")),\r\nabpluginsbsmileybimagesbkissapng:(require(\"./plugins/smiley/images/kiss.png\")),\r\nabpluginsbsmileybimagesblightbulbagif:(require(\"./plugins/smiley/images/lightbulb.gif\")),\r\nabpluginsbsmileybimagesblightbulbapng:(require(\"./plugins/smiley/images/lightbulb.png\")),\r\nabpluginsbsmileybimagesbomg_smileagif:(require(\"./plugins/smiley/images/omg_smile.gif\")),\r\nabpluginsbsmileybimagesbomg_smileapng:(require(\"./plugins/smiley/images/omg_smile.png\")),\r\nabpluginsbsmileybimagesbregular_smileagif:(require(\"./plugins/smiley/images/regular_smile.gif\")),\r\nabpluginsbsmileybimagesbregular_smileapng:(require(\"./plugins/smiley/images/regular_smile.png\")),\r\nabpluginsbsmileybimagesbsad_smileagif:(require(\"./plugins/smiley/images/sad_smile.gif\")),\r\nabpluginsbsmileybimagesbsad_smileapng:(require(\"./plugins/smiley/images/sad_smile.png\")),\r\nabpluginsbsmileybimagesbshades_smileagif:(require(\"./plugins/smiley/images/shades_smile.gif\")),\r\nabpluginsbsmileybimagesbshades_smileapng:(require(\"./plugins/smiley/images/shades_smile.png\")),\r\nabpluginsbsmileybimagesbteeth_smileagif:(require(\"./plugins/smiley/images/teeth_smile.gif\")),\r\nabpluginsbsmileybimagesbteeth_smileapng:(require(\"./plugins/smiley/images/teeth_smile.png\")),\r\nabpluginsbsmileybimagesbthumbs_downagif:(require(\"./plugins/smiley/images/thumbs_down.gif\")),\r\nabpluginsbsmileybimagesbthumbs_downapng:(require(\"./plugins/smiley/images/thumbs_down.png\")),\r\nabpluginsbsmileybimagesbthumbs_upagif:(require(\"./plugins/smiley/images/thumbs_up.gif\")),\r\nabpluginsbsmileybimagesbthumbs_upapng:(require(\"./plugins/smiley/images/thumbs_up.png\")),\r\nabpluginsbsmileybimagesbtongue_smileagif:(require(\"./plugins/smiley/images/tongue_smile.gif\")),\r\nabpluginsbsmileybimagesbtongue_smileapng:(require(\"./plugins/smiley/images/tongue_smile.png\")),\r\nabpluginsbsmileybimagesbtounge_smileagif:(require(\"./plugins/smiley/images/tounge_smile.gif\")),\r\nabpluginsbsmileybimagesbwhatchutalkingabout_smileagif:(require(\"./plugins/smiley/images/whatchutalkingabout_smile.gif\")),\r\nabpluginsbsmileybimagesbwhatchutalkingabout_smileapng:(require(\"./plugins/smiley/images/whatchutalkingabout_smile.png\")),\r\nabpluginsbsmileybimagesbwink_smileagif:(require(\"./plugins/smiley/images/wink_smile.gif\")),\r\nabpluginsbsmileybimagesbwink_smileapng:(require(\"./plugins/smiley/images/wink_smile.png\"))\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./.icons\n ** module id = 55\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACFUlEQVQ4y42TsWpUQRSGvzNzMzd7k529YUkIBBLrlCEsBLa1VBC0shDRUiQW1m6rz6A+gAGxEqyTF7C1CBey6QJ3c7PFupk7xyK7WZKs4g+HKc6Zj3/+mZGiKMiyjDzPWVhYYJ5ijJyfnzMcDgkhoKrXPWOMwXuPc05FZG5Za3srKyu0Wi2SJEFEZgARwRjD9vY2qjq38jzfF5Ge9/4OJJlaHA6HjMdjOTs7YzweAyAibG1t3SvL8mgCQVV7dV1TVRV1XWOmVi4vL1FVYozXmwFOTk4KoDsYDIbNZnNfRHrNZhNr7cyBiBBCIEkSGo0G1lqccxhjSNMUoAC6VVUdicg7a21PRBCRKwfTHKy1tNtt8jxnaWnp/eLiIsaYD3JlpwC66+vr1HV9M0RrLVmWTa1bEfnYbrffAmxsbLwBPm9ubiZAkaYpxpgZYHKXLC8vIyKpc+5gb2/vRV3XrwCqqnre7XafnZ6efhWRhvf+LmAaIvBwZ2fnUavV+jUYDD4BXFxcfMmy7Gen03kAPJ3MzdTv94kxsrq6qqqKMeZlp9OpgW+TF/d9d3e3Nsa8VlXW1tY0xki/3+f4+PgKEELAOafThwM88d7/VlW89yPg8bTnnNMQwjUguXUEAFT1QESqSQb3VfVw3tyNDG5LVX9M1kP+oSTGyGg0QlUREeU/NBqNiDGiqpgQAmVZ/vUjzauyLAkhAPAHxnop5PpvZUAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/sourcearea/icons/source.png\n ** module id = 56\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB5UlEQVQ4y5WTv2siQRTHPzNZ2VURjRAIAS1tAxapUlxxnY2F/1LuD7DPf2BnfddbCrlyEQS9gyUh/th1Vmf2XWF2PYsL3oNXDMx83vf73huiKMI5h4j8VzrniKIInHMAj8AEkAtzAjw650BEACbdbldExFyS3W5XgImI4AF0Op2HIAgAGlwQQRDsOp3OA3AENBoNrLVkWWbm8znGmFxZEUopgiCg3W5jraXRONbyALIso1KpoLXm5uaGzWZDlmVnAK01tVoNrTVBEJAkyQkgItRqNZRStyLyu1qt/lO+Uuq21+sRx/EJAOD7PlrrX0qpT/1rrfF9vzh7cBylc47BYIC1Nh8tubq8B1dXV3ieR5qmxZ0CkKYpcRzz/v7ObrcjV/LRXLTWVKtVrq+v8TzvHLDf7zHG8Pb2xnQ6TT+zcH9/7zebTQ6HwxGQZRlJkpAkCZvNptgFpdTuw0L5b8B2u93V6/ViSjqOY/r9/vfX11fSNAUwgGm1WrRaLQCzXC7Ncrk0gFFKYa09KViv1wyHwx9xHMtoNPqaVyqVSkXVu7u7s4Xabres1+uf1lq8/X7PYrH49vz8XIqiCKWUAFQqlfzB2UqWy2Wccy/j8fhltVpBGIaEYchsNkNEni78UFMR+RKGIX8Aqct2fUQ36sYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/save/icons/save.png\n ** module id = 57\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABXUlEQVQ4y42TUW6DMAyGfzsUVZWgVFygzz3DDrUbrIfbMfqQA1RKi3iIQmLvYUsGLdX2S5ZC7Px8sYGstdjtdui6DpvNBmsSEdzvd4zjiBgjVLXkmJnRti3qulYiWg1jzPlwOGC/36OqKhDRrwERgZlxOp2gqqvRdd07EZ3btn0yqTLiOI4IIdD1ekUIAaoKIsLxeDw65z5/TKCq55QShmFASgmcUaZpgoggpQQRgYggxojL5WIBvN1ut7FpmnciOjdNA2PM9xXmBkRU0ObrbDIMwwjgwxhT8pyLU0qLw48m1loL4K3ve6SUShOrvJhvzlXexAzvvQ0hQETKKAuBiCzG8yhmBjM/1XF+mKZpgb9GQUSIMS7qVnvwSmt1ix7ME69IHntV5YSqwhiD7XYLZn46XNc1jDHlA3siyJt93/95jQWBiMB7n50V/5D3voySY4xwzr38kdbCOVem8QVc3u0094BtXgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/newpage/icons/newpage.png\n ** module id = 58\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACcElEQVQ4y32TsU4bQRRFz9uxjWyMdy1RxBHCbkCIhsJl+ABEnwKaNFRQJJ9AQpsPSBdFiiJR+g8oUkBPAU4wlm2EiUBrm5Vlr3fnpQDbCqA86WpGGs3Rve/NSL1eJ5PJ4HkeyWSSl8paS7fbJQgCoihCVSdnjuM45HI5UqmUisiLMsbs5/N5XNclkUggIlOAiOA4Dqurq6jqi/I874OI7OdyuWeQxNhiEASEYSi3t7eEYQiAiFAsFku+7/98hKCq+3Ec0+v1iOMYZ2xlNBqhqlhrERGMMRhjuLq6qgPrnU4nGDuZm5vDGPNwsdlsMhgMmJ+f1+FwSLvdxvd9rLVPo5RUtQWotZZWq0WtVntwICJYazHGkM1m8TwPx3E2RORYRHqP6wqwXiqVJm5VdRohjmOMMczOziIiG8C3SqVSUFVzeHj4GvghIit7e3t2NBphrZ1GCMOQbDarYypwfnR0dKuqO6paUNXdSqXSTSQS59Vq9bvv+9TrdS4uLqDVahGGITMzMxOA67qRqu72+31ubm4YDAbc399/WlxcjLrd7ptOpzMBJMY9iON48urK5TKPIyOdTgNQLBbZ2tpS13Wzw+GQIAiw1v7bA1Wl3+9zcHDwG/goIjsiUhCR3XQ6/f709DS8u7tLp1IpMpkMjuM8RIiiCEBVFd/3UdWNs7OzP/l8vgbcLy0t1cvlsq6trSnwC3gVRRHNZnMKEBF9MvcNVT1W1Z6qHl9fX0fLy8taKBQU+BqGIY1GAxqNBkEQAOh/NNre3v58cnISbW5uqqp+abfbXF5eIrVajWQyycLCwvSPPq8I2HrcvwPeVqvVgTGGv5VznLZsZ+w7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/preview/icons/preview.png\n ** module id = 59\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACFklEQVQ4y5WTzUojURCFv7rX0J2OraEXcemmhaxHEGfj4/gAMi/hK/gUunPtZkBx9mIEA4pIQGPr7b6xf2oWsYMzo8IUnN25p+rUqStXV1eICMYYrLVYa/mq6rqmrmuapkFVWQIwxtDr9UiSBGPMlwJN0/Dw8IBzjrquMSKCtZbV1VWstXsikomIfoLMWrv3xkVEkOvra8IwZG1tDREpdnZ2wjAMUdU/OosI3ntOTk68qnbv7+/x3sNkMkFVW/xQ1SdV9Z/g6Y2DqjKZTKAsS4BjQP8Tx2VZIqrK+vq6bm1t0TQNLy8vFEVBXdcLG+2eut0uy8vLGGM4PT1lPB7LEsBgMMB7j3OOg4ODn2mafvsogdFo9Gt3d/d7r9djMBgAzGMsy5LX11ecc6Rpui8ihx8JqOq+c+6w0+m01jHvj6OqKoCj4XBInufnqjpT1Vme5+fD4RDgqKqqBX8hUFXVAq1gFEWbIhKISBBF0Wb74G+uASiKgjzP57m+XVtVVYsJqqo6b5oGAO89eZ5TFMXcl3OOOI7PkiTRKIpUVUnT9J/Y0jRVVSWKIk2SROM4PnPOsfT4+EiWZVNg1i7Le8/29jZBEAAwm824ublpG7a86e3tLTIajWiaho2NjRDg+fnZr6ysaL/fp9Pp0KY0nU7JskziOA4BLi8vvTFmHiPAxcWFFxGCIEBVF9O8r/F4zN3dnVfVxa/9DSMafiMai7u8AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/print/icons/print.png\n ** module id = 60\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABmElEQVQ4y42TTY7iMBCFX9nG+UGggLKOZs0NuFnvhtvNLWgLIVaICBSJENvlWTR2hyYjTUklJXby6qtXNhljUJYlqqrCbDbDVDAzrtcruq6Dcw4hhLQnhBBYLpfQWgcimkwp5W61WqGqKiilQETfAkQEIQQ2mw1CCG9prcV8Pv8got1isXgTURGx6zoMw0Dn8xnDMEQ8NE3zyxjzp2maDyJCCGHnnMPtdoP3HiKiWGvBzPDeg5nBzLDWYr/fm7qut4fDoc3zPJFIKb+KjAWEEFBKQWuNPM9RFAW01jgej6au6+3pdGoB/JZSgohARF8tEBGYGUIIFEWBsiyhtU5G9X2Py+Vi1uv1tq7rT+992lPxwXsPKSXKskSWZd9zesb9fifnnBmGAcycRpkIoqoQAiEE+ingnIOUEsz8MkYVX6y1qS8iChMCRESw1iIWnSR4zn+SILb6cpDGHkSBqdMYex4b+EIQP3ga9EbweDzGBd4J4mKWZZMXKq6PfwYAxczo+z6h4z+i7/s0SuGcQ9u2kxfpX9m2bTL1L1PNGa2ESIi0AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/templates/icons/templates.png\n ** module id = 61\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAADIElEQVQ4y0WSTUxjdRTFz+3/9eXRR/v652PMIwgbo13wlRA6Jd00mT2QEIlbXbkz7FyYSYw7ccMsjBIXunAxm1FiYpxIJA5EFGMktiLWebFgAoYUaukHvNL+jwumw0nu8t6c87tHgiAAACil4LoutNaIRCKoVquo1Wpot9sAAMuyEI/H4XkejDGoVCpoNBqI4JmUUtBaw7KsDyKRyL1kMgmtNWzbhm3b0FojmUwiEolkLcv6SGsNpRQsABARiAiUUvA8b94Y84aI3CX5l23bEBFEo1GIyEgsFnuktTZKqTdF5MYBSZBEp9PBxMTEL/Pz89pxnK9ExLNtu7vsKqXWFxcX7/i+v2uMAcnbCJ1OB/V6HUtLS39Wq1XMzc294jjOQxFRIiKO43y2sLAwVavVkMvl/mg0GjDGQLoQuzaHh4fnU6nU++Pj4y+3Wi1sbW2tGmOq2Wz2fm9vL/L5/D/7+/v3j4+PPw3D8IYBABhjEIYhAHxTKBRen56e1qlUanBsbOyt6+trJBIJBEFQ39jYyAN4dHV1BQC3EUQEAFAqlULLspbX19cL5XK55fs+RkdHUS6XzcrKyu7Q0NA7R0dHFyRvD3Q/EIvF0NfXBwB/DwwMfBKGYbXZbKLZbKLVal0ODg5+AeBXrTV6enqglLphoJRCIpGA1rrrxgHwJJ1Oz4RheNJut9uJROLFnZ2dpwDukjwHgLOzM0RE5HlR5Eb3AHyZTqdnYrHY9t7eXrVQKFzE4/HvM5nMSwAei8irImL39/cDpVIJlUoFzzI9cF33JJfL/TA1NdXc3NxcJXmHpCa5Ojk5eTU7O/uT53lPATwhCRweHqJWqwFAj+u6dZK7JHeXl5e/A7DeLRiA92ZmZn4mWSAZ+L7fATBuGWNweXkJklHP84JoNPpbu93+0Lbtj33fD4wx6HQ6yGQylXw+PywiS47jZF3XfTsMQyAIApRKJZyfn2N7e/shgB8BXIyMjHxL8t3T01OcnJyA5FI2m30M4BRAfm1t7WuScQRB8HxIZklukfyP5OckXygWizg4OABJRfIByX9J/k7ytWKxiP8BDeCLDPFqgVEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/clipboard/icons/cut.png\n ** module id = 62\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABxUlEQVQ4y32TUWrrQAxFz53xuCVtcUO/+tWQdXRR2UHz9tZlBJJAPkIKdil2cGzPzPtobOKm7wkEGqGRdK8kxRiRFPld/sQYl1VVkec5XdcR4zjUAMznc2KMV/r4+LiQtLy7u+P+/h5jzFWFpG1b8jzHe6/D4UDTNAC8vLzMiqJ4v729XUiiaZplVVWEEEZdGIC2bfHe473nDIndbrcBXuu6LoE3YwzOOYwxSBoSqGkaHh4eYlmW+vj4wDlHlmU45/qYGbAGBFAUBWVZDnwYSXjvAbDWkmUZaZpGSb2uJXG2l9PplCzLSJIESSQA3nskYYwhSRImkwlVVV0R5pxbSCLGuPTe8/X1RXJ2YK3FOYckjscjIQTt9/uB1NlsNmvb9t1au5BE13XLqqoYzSXLssGOMRJCwHtP13WsVqsN8Oq9L4E3ay3GGMzpdPpm84x5YPcb96AA2+12A7z2BWKMJJ+fn1fbdSn9556jtm03fQKApK5r1uu1JJGmKc/Pz6MOLpMYY7DWjjcRIIRAT2afWRI3NzejpUnTdFjn3p9cPn7K09PTP6ENEC6dIQTquh5I5T9S1zUhhPEYu64jz/NfL/On9uf9F/KEFkDo3OO5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/clipboard/icons/copy.png\n ** module id = 63\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB7UlEQVQ4y32SwUocQRCGv+quWQZmddab4GERFFwSz0FMzvHsKwTyAnmOvM96jr6AJFnDrigygoiwATP2su1M5bCOibrrD3X6q7u/+qvl/PycLMtYWVnBe08jERlmWbYBUJblyMw2G6+qKsbjMWVZot578jxHVd8DX4EPwI/9/f2N1dVVAK6urjZEZAi8Ab4BX6bT6eFkMkGKomBtbQ0RGQwGA7+1tfV2d3f3D5A45wCo6xogHh0dtU9OTr73er3KzHqXl5dQFAUxRrIsMzPbu7m5wcyG9lLDB28vTVObTqcURYGaGXVds7S0xGQy6d/d3XF7e7upqjQEjbz3hBD6aZoSYwRA/w9GRPDek6YpnU6HJEmYp/F4DEAIgccnYow451BVOp0OrVarLyK2oBCR/vLy8oxARKiqqlkfSZKgqh9jjMICJUliqvpyhCb1PM+bC+35YTOTPM+p6xp9wHkM5aGBEMJj8zyCEAJm9o/AzFBVvPfPR5pL0Phq9tRvt9s457i/v3+VIMaIiODMjBgjOzs7iMheq9V60jhvCw0xAGdnZ1xfX3N8fPwT+DXzDO+9mRmLCrAYI66ua8qyZHt7+7OZ/W6Iut1u8co/sPX19SKEMAuxqipGo9Ghc+6diKCqnJ6eHgCfWKyDi4sL/gIXpTjZ8JWxsAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/clipboard/icons/paste.png\n ** module id = 64\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACB0lEQVQ4y32Sz0ocQRDGf9XdMwzMOq43QRARBZfEcxCTczz7CoG8QJ4j77Oeoy8gSdawiiIjyCJsFjN/2KanctCZaMzmg6K7qeqqr74qubq6Ik1TVlZWsNbSQkTGaZpuARRFca6q260vhMB0OqUoCpy1luXlZZxzb4HPwDvg2+Hh4dbq6ioAt7e3WyIyBl4BX4BP8/n8uK5rJM9z1tbWEJHRaDSyOzs7r/f3938BkTEGgKZpAPzJyUnv7Ozs62AwCKo6uLm5gTzP8d6Tpqmq6sHd3R2qOtaXGD/6DpIk0fl8Tp7nOFWlaRqWlpao63pYliX39/fbzjlaBi2stVRVNUySBO89AO6pMCKCtZYkSej3+0RRxL8wnU4BqKqKroT3HmMMzjn6/T5xHA9FRBcYIjLMsuyBgYgQQmjHRxRFOOfee++FBYiiSJ1zL1toVc+yrE2of39WVcmyjKZpMI90OlEeAyjLsgtWVVlfX+/uAGVZoqp/NFBVnHPdNnrvUVVmsxkAk8kEgNlshqp2BY3qc4a9Xg9rLSGELjCEQF3XhBC6xG3Lpg3a29tDRA7iOO6SGWN4+gaI4/j5flxeXjKZTDg9Pf0O/HjoRmnPRQao9x7TNA1FUbC7u/tRVX+2jDY3N/P/7IFubGzkVVU9jDGEwPn5+bEx5o2I4Jzj4uLiCPjAYhxdX1/zGyKQVlCgOuDiAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/pastetext/icons/pastetext.png\n ** module id = 65\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB7ElEQVQ4y32SwUobURSGvzN3kuiMhMnCZUICCoEiuHNhu67v0dIX6BP4AH2D9j2yb/eC0A41FUXGjSEakCSaiffvwkzMtE1/uIvDufc7//3vtcvLS+I4ptFo4JyjkJn1kyTZARiNRr8k7Ra9p6cn7u7uGI/HhM45kiQhDMPXwCfgDfD94OBgZ3t7G4DBYLBjZn3gFfAV+Jjn+beHhwe4vr5GEkCapumZpGq32501m011Oh11Oh01m011u92ZpGqapmdAKoksyyDLMrz3AJJ0NBwOkdTX3+rf3t4i6QjQfD4nyzJCAO89Zkae573JZML9/f2uc66UCYBzjsfHxx5AnucAz4DFFTAznHPUajWSJKFSqfAvFfs3NjYIVhtmRhiGJElCtVrtmZnWLMysV6/Xnx38CVlMfivJWCMzU6VSKTtYtRhF0XIjwGQyKdVRFOG9Xw9YvAz1ep3iwGrtvUfSC6AIMAjKzDiOS5OLulBQJFokHsdxCRJFEWam/f19zEyFkxIgz3MODw8xs6NarfbcWECm0ynA8cnJiQHHi/pFFxcX3NzccHp6+gP4ufiRbG1tSRLr1ubmpmazGYH3nvF4zN7e3gdJo8JRq9XK/vMP1G63s+l0ip2fny+pQRAsw2y1Wp+Bd6zXl6urq/e/AdjrHTsrslRZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/pastefromword/icons/pastefromword.png\n ** module id = 66\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACa0lEQVQ4y6WTPWgbaRCGn/n2s4XEnlaWVdgxhhjkP4JSRU26FDYEkyppTK47DlK6DSSBq650cRCOqy9tfkgXFykCRgnuXHntNSg2xoVhhdbCtna/nSuOFcGX44obGGaY33dgXomiiP8j9npARDDG4HkeAM458jxHVf97gIgwNjaG7/sEQUCe58RxzGAwwDn33QGmaLTWUi6Xqdfr1Go1jDFVa+2fExMTWGsREUTknwiKrdVqlWq1WiC5C7xaWFi46Xnej+VyGc/zcM6NtDjJWmup1Wr4vo+IeMCzRqPxfGVlxbu6ugKgXq+PNvb7ffr9PmmaoqpY3/eL5psi8qrdbt9ttVqjAhF5CUTALrClqmqModfrkaYpMhwOGR8ffwy8XFtbqzYaDdI0Jc9zjDEcHh5yeXlJkiREUbQLvFDVt+fn58RxjB0Oh6yurt46OTmRLMvo9XoYYxARVJWpqSmMMVhrWVxcbO3s7LwRkYeq+jrLMuT4+JiZmZmfgI3Z2dl8enr6dhAEWGu5uLggy7LO6enpD8CNycnJiSAI6HQ6SZIkd1Q1JIoioihCVedVdXt9ff1Ds9nM2u22Li0tqapuqequqp5tb293lpeXP7daLQV+UVU4ODggDEP29vZQ1TFV/XV/f/9LpVL5WqlU1DlHt9tFVcdV9YGqbm1ubn4E3jnn/v4DYwx5nhOGYep53tNms3lvMBj8ViqVPiVJgnOOMAyHIvK+VCq939jY+Pns7Ox+HMdIQabiMfI8B2B+fr4O/HF0dPQoy7JRHMAYw9zc3JNut/u7XGejqo60QHc9X1gR+T4bv7X/li/8vwCxOTo7geJStQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/undo/icons/undo.png\n ** module id = 67\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACY0lEQVQ4y6WTv0scaRjHP8+77yzOODPMWMgiiIsGQbLBwh+c+QPSBUPaFNcdRyohRQqbkKRIZxcCQUiRXHVXXGElXCDXbXfp1t31x6pns9ywpyK7zsyTwozBECGQb/PyPs/7+T5v8X2k3W7zI7LXNUQEYwylUgmALMvI8xxV/T4DYwzDw8PEcYwxhl6vx8nJCefn51dMzLcmiwjWWuI4xlr71hgTRlHEyMgIrutirUVErhoUULlcxnVdXNelVCoxPT39APhHRG57nkelUiGKIhzHuWAK2HEcwjAkDMMrP6rVaszNzVU3Nzc/iMgz4LmqZsYYkiTBFHAURYRhiFzojog8EpGX5XIZx3FYXl4uLS4uPhGRDyJS9X0f3/eRTqdDHMcXF5F7wNOpqalbQRAwNDTE5OQkeZ5jjMFxHLrdLhsbG/8DDweDwTsbBEEB3x8dHf1jfn4e3/dJ05Q8zzk7O0NEUFVOT09J05RarSZjY2M3B4MBNooiRGQ6CII3s7OzdLtdGo1GAvxbqVSOrbU/ua5Lmqb0ej2Ojo4+7u/vG6B9eHh4mYMH1Wo1ODg4qK+vr+vS0tINQIGTmZkZgiAgSZJsYWHhr3q97gM/b29vNy8TBvy5trb2XlU3VfWuqpb39vbIsgzP89TzvE6z2ayr6gtVdRqNBltbW7RaLWySJKyurmYrKyu/dTqd1/1+H1XFcRyOj49J0/Tvfr8/Ajxut9vvsyy7jLmIILu7u0xMTPy6s7PzKs/zK1G21jI+Pv478Euz2fyvqBfZAZBWq4Wqfil8PgsVC1RE/Ou+vQ78ejeue/MJcD7r0TAk3yEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/undo/icons/redo.png\n ** module id = 68\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAC7UlEQVQ4y3WSwUsjBxTGvzczccbJzDBJnGyEDZK6oTmUHoTqRSRKDqUeYy+eeuul0H+gsgql5909dWkr3gr2XHocWhZcsrsemlbp6Iw2cV07iTqaUQMZ5+1hdXZp6YPHg8d7P7738cjzPEiSBF3XYZom/i+CIECv10MURWDmpC9IkgTTNGGaJogoR0QPiOg5EfVu6gMiyt3OSJIEIkoAdHp6ers8DeCniYmJgqZpSKfTuLi4QBiG2NzcPALwKTM/CYIAZ2dnuL6+fkO4kZNTVfVVvV7narXa8H2/yczHvu83q9Vqo16v8/Dw8CsAOWZGu92G67pwXRfCjZKlWq1W6HQ6z2zbHliW9QjAhGVZD23bHnQ6nWe1Wq0AYAkABEFIzhAAQFGU6aurK6yurv4DYMZxnO+2t7f/dhznewDVtbW1br/fh6Io0/82VwCAQqHwfhRFGB8f/yEIgutUKgVZlqEoCsIwHJRKpW+jKIJlWffeOfstQBTFvVQqBSJ6aZomDMOAruvI5/PQNA1E1JVlGYZh/PEfBf1+H0NDQ39FUQQAywCQy+VgWRYURQERkaqqS7IsY2ZmZufWgwRwfn6Ora2t3/f29vxKpfIJEf1MRB8RUZaIPhNF8bepqamPmRnHx8d3AEDXddwoBnmeh1KpNNJoNH5cWFj4UFXV/OHhIQaDAUZGRlAsFpHJZEBEaDabaLVaK8y8HIYhgiCAEMcxPM/rTk5OftNqtU6KxaKdyWS2RkdHzzRNezE/P/8rgP1ut4tKpYKxsbH7RLSsaRqy2Sxod3cXzAxmRrlcvgNgBcA0gPcAPAXwCwBhbm7uiyAI7mazWTiOg3a7vczMK+S6bgKI4zh5kHK5TDs7OyxJEtLpNPL5/Oezs7NfnZyc3DVNE57n4eDg4AMBwBsziCCKYgJwHIcBII5jXF5ewvf9x7Ztf62q6sv9/X0YhvH2D96FCIIAURSTJKIEcnR09HhjY+P++vp6b3Fx8Utm/vM1SWw9T15aOVMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/find/icons/find.png\n ** module id = 69\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACzUlEQVQ4y1WSPWsrZxCFn3m1q921Je/6I5KNEQQMMqSwC6PGmNj4B6S7KgIpkjq9IQRcxlXAVdqQIhhx0+QXpAkBcxsVKWQJWS5sXeNCWsmrr93VpPCVcQ5MN5yZOfNIEATa7/dRVel2u0wmE1QVEcEYQyaTASBNU+bzOQCqykLWwcEBnU4HANu2ieOYNE2xLIt8Pk8QBAAMh0NGoxFJkpAkCfP5HFXFqCqu6wKwsbFBLpcjm82Sy+UIggAR2RSRP/L5PMVike3tbXzfx7IsRATLGIPjOIiIflpPwjBkeXkZEfkW+LlcLgcicgX8A/yiqjOAMAwxIsJsNkNVp6o6FRFdWloiSRLOzs4+39raijzPY2dnpyQiZ8AHEVlZWVkhk8m8GKRpChAAgYgAMBgMuLi4+PDw8DCIouivVqsVzefz6Pz8/CPw02uQp6enure3p6q6SFcHgwGdTodWq4Wqrqrqb91uF1W1VPX7y8vL971ej7u7O6RcLmscx9ze3i5eNL2/v3dnsxlpmiIieJ6H7/t4nocxBuCrMAz/HAwGWI1GY8r/FUwmk1cOjDG4rksul9O3TaoqaZpifbr9Ve12e2LbNsaYRTZMp1NU9XVQpVJxRETjOBar1+tN1tbWqqpaAyiVSti2jaoShiHj8ZhsNsvbQY7jjCuVCpZlYRzHoVAoVEXkRxHxbNtGRGrGmM+CIGBzc5P19XVEZLwoz/OwLOuFxOFwyOPj473v+18DH0Xk76Ojo3fAvyLyTkQQET0+Pn5lJUkSjDGoKtbz8zPFYvGHfr9/UKvV4qurK03TlMPDQy2VSl8AnJycvGWFJEnGIvJioKo0Go1od3f3uFqtflOtVr/c39+P6/X6FtCczWZEUYTv+wATgNXVVUajEcALicYYbm5u0maz+Wu73f6uXq8/AEfNZvP3p6cnrq+vp67rIiIqIlooFLBtG4D/AMFyZMvvl32GAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/find/icons/replace.png\n ** module id = 70\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABsklEQVQ4y52TzYriQBSFz63KD0GIG4U2C4X4AG59dB9ARbLwBcSAIGYjmIqi1v8sZpIZp9uhmQPFhYI69d1zq2ixWHjGGDjnICJ47+G9BxGBiPC3nHMwxuDxeGA+n1PAGEOSJEjTFHEcQ2sNKSU45wjDsDNqjaWUaJoGz+cTABBwzpGmKWazWXfL4XDAZDLBO63XazDGfhoQEeI4BgAMh0NcLhckSYKqqpAkCRhjHYG1Fk3ToKqqzizw3kNrDQAQQsAYA+ccRqPRW4LNZvNqIKXE6XRCmqYwxkBKifP5jCiKXoK01kII8UrQJptlGb6rTwRtcP1+H5zztwe/JGgR/5X6twnSNO0I2v1WRPT1FP6HYLVawTkH7/0rQa/Xg5QSWZZ9esNFUXgAkFKirmtIKWGt/T2FPwl+/YWuB6015XlOzjm0yxgDrTWYMQb3+x1FUWC73WK5XLYm1Nbr9YrBYKCEEPj4+FC32w3j8VhZaxEIIRAEAeq67oJSSiGKoo6Ic46yLCMA2O12ERF1lbz3ar/fR9PpVJVlGeV5rrz3EWPMh2EIrTW893Q8HqGUepkOEeEHGwghYxx8EWgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDE6MTIrMDI6MDAjjGBvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAxOjEyKzAyOjAwUtHY0wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/selectall/icons/selectall.png\n ** module id = 71\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABZ0lEQVQ4y52TMaviUBCFvzHXKpAEFcXCxsZue6t9sH9sf9YrtbLfzkKECBYikQiBxDvJbOEzuO5b2LwD09y5HOY7c6/sdjtEhK/IzHBBEPCoLqrrmrqucWEYMhgM6PV6nQyapiHLMvDeA7wD1rHevfeImbFYLGy5XOKca9me9ZqRqrLZbNhut+KapiFJEtI0/YsPwDn3Rz5mhoiQJAlN0+BUldPpxH6/X3fJYD6ff1dVKMuS8XhsZvb2zGhmb69nz73pdGplWeJEBO89ZrYys3aK4/G4iqKI2WzGZDKh3++jqlwuF4CVqiIid4O6rh9B/XwYPLjTNP0U7WHA7XYjDEP7SL4dM89zVJV/IBBFkXnv7xN8XOQZIc9zgiBgOBwyGo1wzqGqXK/XdlMignvZc4sQxzEA5/P5UwQzu/+Fqqooy3ItIsb/y4B1VVW4LMswsxjo9A6A+HA44IqiAPgBfOto8KsoCn4DBmboqXruCR0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/form.png\n ** module id = 72\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACDUlEQVQ4y5WTPUtcQRSGnzMzfoDK7t2wIMhCijTbBOtgEbARGxsLu9T5DWniD7CWgGUWLSxukcpCtItYCGm2kIXVu9UWVxGE3bkz96TI3gVDyCYHHhgGznuG874jvV4PABHhf0pVAXAigjEGay3GmJlCqkpZlsQYKcsSZ4xhaWmJJEmw1v7T9BgjDw8PPD8/Y6y11Ot1nHMbInIlIjqDK+fcRr1er15tcM4BHJycnHRV9fJvnJ6edoED5xzGGBgMBoQQWFlZUVXdV9X3f+Lw8PDD5Lxfq9U0hMBgMIAsyxiNRqyurqqq2uFwSJ7nDIdDHh8fq23vAgXwWVVtq9XS8XhMlmWYysIQAkBsNps0Go16s9mkVqshIrtJkhxvb287YBGI4/F4ulD3ewZE5B3wTUQ+TgSP19fXnfe+o6qvAbz3LwUqayb1fnNzM7m9vf0aQqDdbrsQQuf8/HwZ2PPeUxTFdKgREURkqqqqr4wxnbW1NddqtV4039/fj6y1lGVJ1WcAjDHTaAKfzs7OlkMInRhj5+LiYhnYy7JsVIWtSi/wywXvPfPz8zfAlqqiqouqmk5YjDEyuQfYWlhYuPHek2UZ9Pt98jwnTdMj4BrQGVynaXqU5zn9fh8XY+Tp6YmdnZ3vqroFXM74Cm+AL3d3d8QYkV6vR1mWFEVBu91uAG9nCPzodrv53Nwcxhh+An+WUju9uCfbAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/checkbox.png\n ** module id = 73\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACg0lEQVQ4y32TQYtaZxiFn/deb2IRL8ilWUREyiwGAoJgKeiPkFn0Dww4MEQCQRCEWQ9Bmn/QroIr6WJI9pPgIot0ppR0NhNHO4vrBSEgKOjC+J1uvE0XpS+c1cd5eL9zeG0ymQBgZvi+j+/7eJ7Hf41zjt1ux263QxIAmdQcBAFhGBKGIf83y+WS5XLJdrtFEpnUXCgUyOVymJkBLaAJ1Pa+a+A18Isk+b7PYrFgu93i+b5PGIap+TFwWSqVno9Go0eScpJyo9HoUalUeg5cmtnjXC5HGIb4vg9xHKf/MeBtp9O5lPRe0pGk8l5Hkt53Op1L4C1gkojjGJIkSQEn1Wr1o6SXlUrlAXAM/LbXcaVSeSDpZbVa/QicSCJJEpjNZingzWAweCXJA47L5bKazaaazabK5bKAY0neYDB4BbyRxGw245++giCoNRqNC8ABT+v1Ovl8nnw+T71eB3gKuEajcREEQRouXtpnFEX0er0bgGKxmFmtVmw2GzabDavVimKxmAHo9Xo3URQBIOkrIJvNfhoOh08A2u32zXw+Z7FYsFgsmM/ntNvtG4DhcPgkm81+SgEZ5xzr9Zparfbn/f1918xeS3pXKBS+PT8/LwKcnZ3NTk9P35mZB3Rrtdrv6/Ua5xxMp9O0iVYURdfAiziOH0pqSfpjr1Ycxw+BF1EUXUtqJUnCdDrF7u7uADg4ODDgVzP7DtgAPwEf9ln9AHSBbyT9Bfw4mUwE4JkZkhiPxwKeSfrc7/e/mFkXuAKuzKzb7/e/SPoMPBuPx5KEmWGTyQRJOOdwznF4eGjACXAEfL/f4Aq4AH6+vb2V53l4nvcVkCbqnCMl//us0zNO31IzwN/2SWb00VF1LAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/radio.png\n ** module id = 74\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABZUlEQVQ4y6WTMWsiURSFv3t9ZmYEK8HWSvAHTJkFy2yVX5bfkTrdlmEbDWxhDAFFsLEUS/FpZt7ZZjW7JMvieuE078LHuYfzbLlccsmEPM8vApikiwAA18AToDP1BFy7u99Np9Na0v4cTSaT2t3vKMtSkm4l5cCPX/TvkvJ/6LYsS4WiKJD0sNlskBT7/T6LxWK/Wq3idrslpfRnaGZkWUav13soioIQY8TMqKoK4Mt6vU7A15QSIYSPqZvRbDZpNBrEGAl1XZ8WMUZVVcVut6vMDHf/NPXje13X+NFiCIGrqytCCGRZRggBM/vUwXFSSu+AVquFu5NlGe5Onue4O2b2QY1G4wQ4HVkUBWb22Ol0MLPHGOOwqiqOJ/5uv91uv1f5cDi8mtmNpG+S3oA98AbQ7Xb/XmGzm8Fg8Mp4PL4HXv6jiS+j0egeSUNJz5LimXqWNLT5fE5KicFgcNa3nM1m0d35CaoyLxlNiQxFAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/textfield.png\n ** module id = 75\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABvklEQVQ4y6WSvWobQRSFv5md1UiyvBbbuFQh1Lk0SAEbXMaV38HvoCrPYNzrBVy7VKPYgdiok7EhAYMbgRoFNUJri/05aSInISKJ8MBhBu585965d8xkMuEty0h6kwHAATAEtKGGwIF1zp09PT3lkpabaDQa5dbaMzqdjiSdAKMfzp8klf9DJ/v7+3Lee4BLSR9arRaPj4/L8Xj8slgsKIriz6YZg/eeRqNxWalUcEmSrGLvptNpBhwXRYFzbm3DrLWUy2WCICBNU1ye5wAURZFnWcbz83NmjMFauzZ7GIZEUQRAGIbYVZnWWpxzeO9xzmGMWQvv7OxQq9UwxpxGUfTTAMB7j7X2dV8Hb29vY4w53d3d7QZBgM2ybHXpaj6fY4y5CoLgr3Acx93r6+vZcrnEpmkKgKQ0SZKlpHSxWCDpFa7X67/Bg8Fg1m63m1mWYX8p9Rior6ZQKpWoVqvEcfz65jiOu/1+f3Z4eNg6Pz//mqYpNJvNB+C9JCSR5zmr80rAaRRFX4bD4Wfv/bder/dxa2sr2dvbe+Dm5uYCuP/X3y+VSgJUrVYFKAzD+9vb2wskHUm6k/Syoe4kHX0H84hXI1gk/8oAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/textarea.png\n ** module id = 76\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABgUlEQVQ4y6WTu27aYBSAv/+AjblZQmJA3SxVMuwWU4aM2bLzHskTMDbvkC1Du+QZQLLCFhIhkFIuE7BHJBjznw4tljK6HOlbv3M38/mcc6Loed5ZAqOqZwkALoAnQHPyBFyIiNwNh8Otqu7zMB6PjyJyRxRFqqrXqurl5DqKIi2Wy2WOx+PjarViv99zmomIUKlUaDQa1Go1jDFZz4fDAcdxHqvVKpIkCSKC4zi4rovrupRKJTzPw/d9fN+/FxE1xmS4rnsPkKYpxTRNMcYgIhhjvmT6V9FHp9N5C4LgO8ByuXybTCYfAEmS/BVkOzUma8Fay263A7gZDAa/ut3uN4DRaPQbuMkE1loACoXCl+yqirWWxWLxHgTBba/X+wHQbDZvN5vNe6vVwlpLUUQA8H0fYwwn4akSVWW9Xo/7/f5PgO12O67X69mgCcPwFbhSVfIAXIVh+Eocxw/Ay39c4kscxw+o6qWqPqvqZ06eVfXSzGYzrLW02+1cbzmdTj9FhD8PH2z3UpcTNgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/select.png\n ** module id = 77\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABKUlEQVQ4y6WTPWrDUBCEZ98PkkGVIbXS+Aqu1LjVOYJV+xaufApfRqkMLgyyTdIHBJaLZ2S/N2kikypS0MCy28y3MOzK+XzGGBkRGQeI43gUQEiOAgBABqAEwH9WCSCT6XRarlareRRFgzcqpdC2LTabzbvkec7FYoH9fg/nHEQEfcGKCKy1uFwuMFEUIYSAuq5hrYVSqj84EXjvMZlMYJxz0Frj8XhARAYBfss453C9XnG/35/0IQohwHsPybLso2ma1ziOYYzpBZBECAFt2yJJkk9TFMV2vV4Xh8PhRWs9aLv3Hmmafi2Xyy1IWpJvJHckbwNr9+OxUlUVRAQkMZvNBt318Xi8dR45nU4gCZLw3iOE8KdZKQWt9fNeTDeQhFIKfb/Rhdz1b0pVvJkuVfk3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/button.png\n ** module id = 78\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABwUlEQVQ4y6WTMYviUBSFz3tJjAQMxiIEX28RFATtrPwLdnYKU2lhlcLa32E1ha0Wgu3ULsMWMwQiMoiI2Ng6aszZYjcWW+wKXrhcOLx7Lu9974r1eo1nQhdCPGeQzWafMhAknzKAaZoGgC6AJQA+mEsAXdM0DQghukqp9ziOv0h+P5JxHH8ppd6FEF3hed5yMpnUPc/D8XjE9XrF39cSQkBK+fvRdB2FQgH7/R7tdvuHrpSql8tlbLdbAIBhGAAAkiAJKSUMw4BpmiCJy+WC0+mEcrkMpVRdz2QySJIEmqbBsiyYpgkpJc7nM67XK3Rdh+M4GA6HqFQqaLVauFwuSJIEmUwG8H3/czqdcrPZcL/fs9PpsFarMQxDbrdbHg4H9no92rZN27YZRRF3ux1nsxl93/9EEASvrutyPp+z3+/TsiwWi0UC4Hg85mAwYC6XY6PRYLVaZbPZ5GKxoOu6DILgFSQ7o9HoDcAHAObzeRYKBVqWdceWao7jpNrHaDR6I9kBSYPkC8mfj2L8c/aFpCHCMLwjKpVKD/3rKIq+ASBJEojVanXHdrvdkCTJP5ullNA0DekS6un0lPn/diNtTOsvlyozEjdB2QwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/imagebutton.png\n ** module id = 79\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAKlJREFUOBHVUsERwyAMsyEDMAz7T8AwLADUSmvOTnJp6K/+GBRZSBCivy+WBOMixWN8w/AYXoOZTxh4Rxx7PQmdQgii9RaTzqUUrwzSp3LO+2xQAOTWGkSo9053wzqDw6YAQLHEMca9K+muI4ITABkCK4XQjo8IKxVgw9aqA/cKKaVpp9b66BWcgMSZArhQ6+xqDb4K6Pfj/iu+mUNPf9qcFjOWZ3Fd/9xfYBJK9+tW5s0AAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/forms/icons/hiddenfield.png\n ** module id = 80\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACRklEQVQ4y3WTsUscURDGf/N21wiL53lRsFIMKWIIB0lQjkCQgIhNQAi2lv45AZsUpguksAiksItFCsOBIBaxMIVBhIugB7q3u6e79/ZNmtxpPB2Yama++eabGTk8PARARDDG4HkenudxlznnsNbinENVAfC7QWMMYRhSqVQwxnCfXVxcEMcx1lpUlV6m53mMjIzged5XEdEbfiYiuyLyQUQelctlhoaGek382/THxsZYXl4mz3NarRZpmo4650aTJHlRr9dXROSlqv5K0xTnHH1cO50OaZrSaDSyjY2NdHNzs7W6uro9MTHByspKCKx2mwL9ANbanlDAODCxtLT0OY7jIkkSAFXVbpx71SqVSiIiz0RkUUTeGmO809PTdGtr60+SJL1N+LcLu6vyfX+gXC7XwzBkamoKVWVtba1erVa/JUmCMQYR6QdQVfI85+rqys3Ozu5FUeTnef748vIynJmZeZXn+Zyq/rTWEkXR3QBZltFsNjs7OztNIAQ6tVptb35+/vnu7u57EfnknGslSdKvwc1rAxaB18B4rVbbttYyPT0dAE+6+XcyUFVKpRIi8hDIgafDw8NvqtUqJycnuaqm5+fnFEXRD9DpdGi32wRB8CAIgqYxhsHBQSYnJ2k0GszNzX0HfsdxfA2gqhRFQZZlAOzv7xMEAZVKBedc2zl3FkXR8fr6ullYWPhxfHx8aa39fwRrLc1mE1U1QHaD1MA/IdvAx6Ojoy9FUfQusQfgnCOOY4B3wM1/zg4ODtT3r6ftFgP8BQ+nPEJSi6tdAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/basicstyles/icons/bold.png\n ** module id = 81\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB3UlEQVQ4y3WTvW4aQRSFvzs7XsSuxY+toKVxZTd5hUhYTp10uMrTuPUbpOQ53OA+KazIiSwFUYCjSJa8Cix4YecnTZYQ2BxpmtHVd889c0dGoxHbEhGUUmitUUqxK2st1lqcc3jv0bsFSiniOObo6KgSUBQFaZqyXC7x3rNXEQQBzWaTIAjei0i+e8IwfFev1zfwPQfee7z3AG8vLy9rcRxjjCFNUx4fH83t7W2R5znOuWqAtZY0TfHefwd+9vv9ZLFYMBgMbjqdTg+YjMfjssn+CM45VqsVwEcRuTbG8PT09KvT6VwDrYeHh6/W2r+Z7QJEBK01gAHeiAiz2ewL8Hk0GuVKKURkU//fVwA4OTnprVYrkiT5lud5qrVmu/ueg7J7s9lERF6fnp6+ms/nXFxc3K3Xa6qkqhz80XmtVuP5+fnl6urqfrlcbpKvBIgIQRAQhmF51TPGYK29Bz5ZazfJ7wFK641Gg+PjYwC63e65MYazs7N7IIuiiCAIqgFKKaIootVqISI3IpInSdJdr9cMh8MPInJ3eHhYudp624GIxECv3W6Hk8mk/DA6iqJxURSVIepy++bzOd57B7wAu8P+mE6nGGOqAc45siwDyIGkolGRZRkHBwf/LBHAb9hB2IjVkGgMAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/basicstyles/icons/italic.png\n ** module id = 82\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACBElEQVQ4y42TwWrbQBRFz7wRxjKKRS2SQjDJzvss+gleFfIhIT/QRRel236DN4Uu+gmFQqDQTXYJlBYjsNMsQkCKG1m2LM2MuqgtkoakvTCLufO47937GBXHMQBaa4IgoNfroZTCWkuaphRFge/7RFGEUgrnHGmakuc51lo8AKUUWmt6vR4i0gYQEVOWpUmShCiKEJEWIIC11lZFUWCtRVhDRFBKASyBpXPundYaz/M2/Nn67b2INPWNQF3XABweHnJ0dITWmrs4ODjg+PiYKIru8cJfmM/nZFmGtfYev1gsyLKMsiyfFijL8kERgDGGsiwxxjwt4JzDOcdj/MbqowLGmHtdNlmIyIPujwmYtX8NEIYhAK1Wy7PW4pyzTwrM5/MrYwxbW1tN3EopvbOz87yqKtrt9u3drcnmUtc1xhgWi8WPPM/Z29t7qZQaKqX6nue9CoIguLm5YTAYXBRF0eTRTGCtJcsyRqPRt+l0WoZh2N3e3v7U6XR+7u/vv02ShPF4PD49Pb2YzWbNmmU9IgBFUTAcDj+cn59/n81mX8MwHPf7/Sul1Nnu7u7n6+vrX8DHqqoayyqOY0QE3/fpdrv4vg/wAngDDIBnwBT4Ary21t6uViuyLGO5XEIcx0wmE9I0BTgB6v84J0mSMJlM/vxG5xx5nlPXdQWs+Deqy8tLnHP8BuUKHbzV/Dz0AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/basicstyles/icons/underline.png\n ** module id = 83\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACiElEQVQ4y31TPUubURR+nvteE4IxJkReiLq8uNVEcChEi46BNks7tCBdC+0PcHAQCi5dOnQoLbq49heUIri0TrpUWqQdAoFoqTEfRPL1Ju+9p0OMDfbjwFnOuc95zjn3PCwUChgaSSiloLWGUgp/M2stgiCAtRYiAj0K1lpjYmIC8Xgc/7NqtYpmswljDK5plFLXYJIPSH4k+ZNkh2SJ5CeSL0k6iUQCjuMAwKADkhgbGxuCnyaTybfpdJpKKRhj4Pv+bL/fny2Xy3emp6efA2gNifWQPRKJAABSqdSLlZUV9no9bG1tmXQ6LRcXFzg6OuL29rbKZrO60WjAGPNnByQjy8vLCd/3sbCwEGQymScAvrquG8vn8/P5fP4xgO7p6SlEZDA6SZBEEAQQESwuLoqIYH9/3yH5kORtkhUArwEsWWv9aDSKUCgEx3EGBcLhMKLRKAB01tbWvjuOg7m5OeZyuXuZTObN1NTU56slPpqcnNTxeByu6w7GLhaLqNVqAHAAQP7loVBItNajsYN6vQ4tIuh0OhARC6B/888vLy+5s7OjDg8PVSQSgVJKdnd3AwD2/PwcyloL3/dxdna2GgRBiOQtAKErj8Visbvr6+vvjDFoNps4OTkByXC73V7t9XqDQxpuVGsNAN9IfiD5jGSWZI9krdPpoNVqwfM8ERG0Wi0YY36fsoig3+9jfn7e0VrnKpVKrtvtwloL13URBAHK5TI2NzcL1WpV2u02rLXgUExKKYyPj6NUKvX39vbU8fEx6/U6G40GksmkzMzMyMbGhvE8736xWHxvrR1o6KYaPc/LA8gBWAKQAhAH8APAFwCvCoXCwfDtHwVEBNeVrw5sVMaj8WHuFwz5JYbiysKzAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/basicstyles/icons/strike.png\n ** module id = 84\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACP0lEQVQ4y6WTv29SURTHP+cC773yK4ShyaMuJpgYhdFgTdOkHflTOpl07D9h4ubs5uBgTKMOdZK6dOlkpKRAKQOWtkCBR3nvOPRBaKiTN/ku595zzv1+v+fIyckJ/3OiACKCMQZjDEEQEAQBwFJMVZcLiAjRaJRUKsXKygqj0YibmxsAEonEPNbv95lOp0tFosYYUqkUmUwGETGqGsTjcQAsy5rHAK6vr/F9/14BE4lESKfTiMgnoC4iLy3LmiVvAE0R+ZBOp4lEIksUDICqkkwmn5XL5UeZTOariLwSkY1sNrtfLpdzjuM8f4g/gPF9n16vR6VS+dFut6+2trZSrut+cV13f3NzM3l+fv7n+Pj48KHvA0itVsO2bXK5XElV32xvbz/NZrMZgG63e3FwcFAFdlqt1tFkMrmXrKoYYwyO4wD83N3dfTcej2PD4ZAQsb29vbfAUSKRwHEcbNvGtm1isdidJs1mc+b7BtBfX1/XYrHYLRQKl6VSSYEroKSq81lQVW5vb+l0OtBqtWbenhaLRXVd98LzvMPBYFBZXV29LBQKCvwK33wHNMTpZDKBRqPBaDTCsqzPxpjfnU7nUFVfqGqpXq9XgFo8Hv8Ydv6mqmNVHd9JoER936fb7eJ5XgvIAzvVavUIIJ/Pv1bV90AzHPkngB1qeOZ5HrK4TDOec4vCHbFtm7W1NUREVdULr9u9Xu+xWUxeXCBjDCKCquL7PsPhEOBMROwQDd/3MYvd/oUZTVWdqqoXYjIYDPgL/8ZAl+EzJXAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/basicstyles/icons/subscript.png\n ** module id = 85\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACdElEQVQ4y42TTUsbURiFn3vnIzPJBIdsShQVJKVZ6Lq1iKCbQn5KoVBw6Z8odNdlcddlF6Ur201tEMSFGiFqg2MjQjvT2kRnzMy8XRgl/YD2wFncyz0vh/fcow4PD/kXlFJorTEMA601AHmek2UZ5v+IlVI4joPv+xQKBQDSNCWKIvTNI8MwsCwLwzBuRYZhYJomlmVRLBZxHOedUkqUUmJZVmdsbAxTKYVpmpTLZVzX5fLykn6/D0CpVMJ1XQaDAZZlISIDIAGo1+vThmFgaq0pl8v4vo9SSotIXiwWAbBt+/Zu6PQuUACYnJw8SZIEgiAgyzKA10AAPBARRARgAfgMvBIRarWaiEg85Kcoiq4HpGmK53mHjUZDfN8/Bx4CC5VK5Uej0RDP8/ZEBN/3A0CGfB+GITrLMs7Pz9nY2Phwenr6bWlpqVytVt9Wq9U3i4uLXrfb/bK9vf2x1+sRRVEqIsmQV/1+H3V0dEShUGB8fPy+iDxbXl6uVyoVHyAMw6/r6+sHwOPj4+OtqakpE26jT9vtdqq11jiOA9BcWVl5EcexdXFxwZDW6urqc2DLdV3a7XbaarXiVqsV7+/vp0opVBAETExMoLVeAN7Mz897vV4vEhFVKpX8ZrP5HXiU53nz5OSEq6srRASlFMB1jMPD2tzcnNfpdMJOp9MeDAYyMzNTn52d9Xd2dl4qpe6NfrIbmFmWEccxtm3v7u7uDs7Ozr7atv3Etm29ubn5bHp6+o5t23tJktzE/QvMLMsIw5AkST4DNeDxwcHBFkCtVnsqImtA0O12/zpAjbZRRMjz/I8ijVr+w8GoGLit6yhGl/Y7fgKDaThyiqUnXgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/basicstyles/icons/superscript.png\n ** module id = 86\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACgElEQVQ4y31STUsbURQ99703MzrqkDqTZCE0KoFWAuKqNNCFm9ZuzA8o3fYPFH9AlyK0SHf9FV3UnZaKFGo/LChtLVh0NAuNNGNoEmcmycztopOBVuuBA4/L5dxzz7u0v78PIQSklBBCgIhwGZgZcRwjiiLEcQxmBgAoIoJpmshkMtA0DVeh2+3i7OwM5+fnqYAQQsA0Tei6/piI+Crquv58cHAQQohUVDEzwjDE0tJSNDExseE4DpaXl/PZbPaG7/uwbfv17Oys1mq1MDU19TMIAsRxnApQP4NCoXAbwE0AolwuP52cnMzUarVobW1tEcCPpH/z4ODge99+6iCKIhwdHW2OjY1tKqXK8/PzmTAMUa/XvwF45rqu1+l0QEQXghYAQETQdR1SSgCYM00TYRhiZGRkOwgCj4j++0siSRKmaQIALMua6/V6aDabqFQqn8IwvDCZiNK3ICIopWBZFojoWqlUutXpdFCv1xsLCwvve70edF1PaRgGDMOApmmQUkL1HSS4a9u2CIIASqltAB9t207txnGc9sZxDM/zIPA35trtNhqNBorF4mcAEf3BEyIaT9bQiGhRSpmzLAtwXRe1Wq1/WdVCocCO4/DOzs6DpGaNjo5+EUK4AG4AeOU4Tsu27Xu+7wMnJycIwxDMDGbeY+aAmX1mvp7ULGZen5mZ2RseHu6WSqW253kbzHzn9PQUIglmPTnXIhEZRDRARIdEtA7gF4CHQojG9PS0EkI0j4+PXwB4K6UEqtUqmHk1mfwvV6WUCsDLoaEhf2Vl5U02m3UBHAIY73a7wO7uLphZMfPAJVS5XM7K5/Mftra2Npj5ETO/y+VyXyuVyn1mxm/slEskxqQ5owAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/removeformat/icons/removeformat.png\n ** module id = 87\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABnklEQVQ4y5WSy47iMBBFbzkhKfPMByD1qj+iP2H+mu2sZs0CMRIjdmF4BByTsmsWYLp7iOZRUklWybq+dY9ptVrhT0VETzNVfZzzdMkYgyzLAAAhBABAlmUwxnwSUVXEGBFCQIzxXYCZMZvNQERomgaqislkgrIsnxx477Hf7+Gcg/koYK1dMPP3qqowGo3AzAsi0t+bmRfWWhhjbg5UFW3bQlW7+Xz+kmyragfA90TTHQ4HALg5iDHCew8AX1IGIQQQUUFEZU8XMUao6k0gVdM00rYtRCTlcFVV39PX8/n8HmIqEUFd19+cc7hcLslR3rOCOOduGXxE2HUdVNVvt1sQEdbrtQCQvn+QkOeJQFVVKMsSIvLGzCiKAuPxGMz89LxzDsfjEXcXBtbaB7LBYPAzYbTW9mIcDoefMRpjHsim02n1PxhzYwyYGUT0CqAkooOIQERARAWAskeg2O12N4xElAJ5UVUfY4zOOZxOp3/DGGOEcw4AfhDRHMDXuq7T7O8YRQR3O3Lf97rZbKCqWC6XEkJ4wmiMQZ7nICL8AjrbLe/uCZarAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/list/icons/numberedlist.png\n ** module id = 88\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABn0lEQVQ4y52TvYoiQRSFv6quHoXWRIN+kzGZYCJhQfAxfBqDfYChn8HAiSc13MRAaWzQvH+S8qer7ga24qwOw+yFAwW3OHWK716VpikASiluS0Su5397t32jlEJrjTEGrTUA3nvqugYgCAK01p9MRATvPc45jNaaKIro9/vXSyJCnud47+l2u7RarbsEh8OBoihgu93inAN4ARaNXkQEay3AByAP9FGW5TlBE306Ho+fAWaz2RQYKKUQkRNw4L5OZVmiL3+J49iEYUgYhsRxbADqukYp9aSUaj3Qk/ce45yjLEuSJFlOJhMDkCTJMs9z9vs9InL8IsFxt9tBmqZkWYaIvIrIn0avm82G9XqNiBgRaT+QWa1WqDRN0VpfcV0wOufw3n8/B0EQEEURvV7vanCLsdPp0G637wystVRVdcbYvPT/GJuI08Fg8AywWCx+hrEZWeO9x3uPMeZnGPM85/39fTkajQzAfD5fFkWBtfZbjMY5R1VVDIfDt+Px+LtpvmVZxul0AvgFmAcGtbX2jFFEEJFPy6SUusN5W5cN/gs12Dh/m4Zu9QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/list/icons/bulletedlist.png\n ** module id = 89\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB1ElEQVQ4y4WTQW/aQBCFv12c9SIkapGU/JYe+3P7K+BQqcqh+QOJg7igYkBgEqIt2Pt6iB2ZiCorvcvu7JuZN29Mnud8PMYYjDFYa4kxIglJXDrJpc/WWrz3eO8JIRBCIMZ4FtcSvhNYa7HWYowhSRKyLMN7vwwh3O52uzMCScQYqev6jcBaS5qmeO+x1nJ1dUWapjjnvqZpyng8xhhzVkEIgbIssS2Bc47RaDTt9/sMBoMpwHg8bqsrjTHqot/vl845bK/Xo9frtWLdPT8/I+kO4Hg8tiXfS/r7AfeHwwFWqxWn04kYI2VZslwuKYqCuq4ZjUaxEWsPqMFekpeU5HkOp9MJ4BbI23G1oxsOh7G5m0gKDSaSeHl5YbFYQFVVAH9ubm7UyVJKYjAYXKrgPWaz2WC32y2Sfq7X62WnvzlAXdetBr8vafD6+gpPT09I+iLpR9Obl5Q0rX2qgXl8fATAOYdzDmMMzjmyLMMYEyVZYAJ8ayzwC/h+OBzY7/eQ5zmz2YyiKACmIQSAaZP5cw1aax6PRyRNuj7oWPe/GpjuNrZ2bXdhOBxuttvtdZZlyYXFqx4eHqrkQ6a3l6pit9sh6X4+n1MURVXXddVdaWstSZLwD9Q7oIRQPJBFAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/indent/icons/outdent.png\n ** module id = 90\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB4ElEQVQ4y4WTv47TQBCHv1mvN7ZjOZbyT4I2Pa9Ac89Ah4TEC9Cn4J6DConmelqkeweKFHeHSEFQFHGRiC3HiZ2h4DaCcHeMNM3uzOibn+YnNzc3nIaIYIwhCAIA2rblcDigqv/U2oea0zQlz3NEhPV6TVmWtG378ABjDNZajDE45+j3+4jIe+CNqt4C7Ha7Y6Onsb45jmOyLCOKIkQEgMlk8uz6+joDbvv9PveF8djOOZIkmRpjrIhM4zi24/HYr/VBRPQkv4hIaDxOXdeoaqCqjaoGVVU1ZVl63KeqWp/k/HA47E0QBFhrERGKoji/IzsH2O/3nmAhIp27/H5xcTEEzlarFTaKInq9HlEU+eJ3wFtV/RaGoSd4AtR3w78CG4DRaIRxzhHH8aXfbTAYvAYuRST1d3BC8PwvDcqyRH9Hrar1YDD4pKqfVbUoiuJI8KAGVVUBnAE5kM9msx/AKwAv4qMaiAhXV1dNp9Nper0eSZK88Ls75/6vgTGGMAzpdrvkeT51zlkRmSZJYv1BPabB8ZT9Hex2u8Y5FwBNlmX3EfiYt227F+9GbyIRIQxDhsMhaZp+rOv6par+vMd4zXw+b46Pqnp0W9u2LJdLttttpyiK28ViwWazafz/n3b/BVs9FHnbN9VlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/indent/icons/indent.png\n ** module id = 91\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACtklEQVQ4y22TP0gkdxzFP7/fTlZux8XVgEa0MAdi5EgIaIooUdhCwRSHKdLapE1hI2KXyi4cNiGFVkmRJqAXAkmwOyurpAgirLOK+8fNsbM7MyzMzu68FHEXjtxr3/vy/feeKZVKDGCMAUASb8PbeMcYg7WWTCaDtRZJ9Ho90jQdCgcax3EwxpCmKf1+nzRNcRzHYXR0lEKhMOwQhiFRFNHtdpFEJpMhn89TKBSGnX3fJ4oiaDabSMJ1XQf4AvhIEpJoNptUKhWCIBhM8xR4DrwjCd/3h/t8AlQWFhY0Pj4u4DfASqLT6Qw0P2az2XR+fl5AHShKwkjCGPPzzs7O9tjYGMYYyuUyp6enzyWdPd5gdWVl5dXS0hLWWsIw5OTk5JWkzxyAycnJZ71ej1arhbWWiYkJgDXg7HHlj2dnZ/F9H2st1lpWV1c/NcaM2CRJaDQa31YqFZrNJlEU0W63Af4ExuI4Znd394f7+/uwWq0SBAFhGBKG4d+SntBoNJDE5eXlN8fHx8HW1pbW19e1t7e3HgQB9XqdMAyR9PXFxcXrjY2NfzY3NzUzM/NTmqZwe3s7/MT09PRXa2trmpqaupL0ZaVSoVwuU61WieMYSe8uLi7WlpeXtb+//6LdbmOttYyMjABQq9U+bzQa/YODgxPAj+MYay35fJ5sNosx5kNJ73U6nYvDw8M/oij6zxCPb9pyXbe/vb39UtKR53l4nker1Rrwo8Bfc3NzryV9X6vVuLm5gV6vB/ABcH90dPS7pF8kudfX19zd3Q2KLfCyWCzeSDqT9KRUKlEqlXD6/T7A0yRJjh3HaQEvrq6uNPB9kiQA75+fn3vFYvHXer3+3cBcxhjMw8MDuVyOOI4Jw5But/tGeHK5HK7rkiTJMB9pmg5zYzzPw1pLmqb/SyAwNI6kN/gB/gV0j6gOvWHJiQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMToxMiswMjowMCOMYG8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDE6MTIrMDI6MDBS0djTAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/blockquote/icons/blockquote.png\n ** module id = 92\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACd0lEQVQ4y2WSPU8cVxSGnzMfDFoETBUhUMQWSbFAhLQSQhnLckWZVFGKRChKlSb5ExQUqZ10EU4RpaF2Z8kiRkrjxoloYFik1QIVsNHsx52dmTeFd1a2fJt77tE573nvc6+laYrv+zQaDeI4JgxDJpMJWZYhiTAMMTMk4Zyb5ZxzjEYjAgDP81hcXGRubk5MlyQDMDNJMjNTnucmiSiKlGWZ5XmONy3C8zza7TaSnCRnZgLY3d0FoN1uEwQBYRiytbVFEASY2VsHAGVZMhgMAGKA7e3tEUBVVdS7pA/imUAt4pwbA0wmEwCKoqA+e543i2uRmUANKoqi9xqdcwCMx+PZIOcceZ5/KGBms6LhcAhAlmUAXFxczLhIctfX15Rl+VagqiryPGc4HPJukXOOh4cHnHNEURQ3m83RlEn8noOqqhgMBvR6PfcOktg5R7/fr3PjTqfjAPr9/tjzPCThmRm+7zM/Pw8Qm9memT2WNF5aWsLMvjGzZ2b2hZntJ0nyyfLyMnEcEwQBXF1dcXd3Vz/L50Af+FNSnXvTbDbLk5OT74BL4F/gI0nc399Dt9utiT8C/kuS5G9Jv0+bn2xubmpnZ+eVpM8kvWq1Wl3gDFgpigJPEmVZAnzVarUW9/f3U+CH6b1/8n2fw8PD18A/wPcrKyud9fX1T4EnRVFAp9Ph5uYGST/v7e29AArga+Dj1dXVYm1t7Y2kx1NHT4HJ8fHxS0lf3t7eQpqmnJ+fI8kk/ZIkyYtGo/ErcLiwsKCDg4Nn0+Z54K+jo6OXkr7tdrtcXl4S1LDOzs60sbHx4+np6VNgCLgp0Oe9Xq8GOgF+S9P0j/rz/Q8ACH/M0LJm9QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/div/icons/creatediv.png\n ** module id = 93\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABR0lEQVQ4y5WRy4rqQBRFV72IVzCoqANH/oL//y0igrNoDSSaivW6A0lo206TPqOCqtqctZc4HA4ACCEYmpzz4J0WQiClRCmFUurjQYyRGCMppR+DtJSS6XTKcrkcDLDW8ng8iDH+HFCWJVrrwT2dc6JtW1JKH0gaIKXEfr9ntVqhte778N5jrcUYw2QyQSn1gSROpxPz+ZyyLB3DM+kOKSWstdzvd2KMrxKLokAIUfwS8IbnnBNN07wCOqbdbsd6vX5D+F6mc46qqggh9D3onDPee47HY8vIOZ/PvZGxCF37/wCapumV9wiLxYLNZoMx5uOj956qqng+n+5yuVAURW+hR7DWjkLYbrdvJrSUcjTCVxtt2wrn3GuDEAIAs9ls0EI3IQRutxsxxhdCCIHr9UrOebSFzkQIAZ1Soq5rgPlfAuq6xhjDf7PL2v1zNAgqAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/justify/icons/justifyleft.png\n ** module id = 94\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABeklEQVQ4y5WSwYriQBRFz6uUGUECEiQjuBgXvWj37qQ/wn+ezxgVJBCiZjGRQGJVqmahcWyHSeOBtyneq3q37pXNZoOIoJRCa41SChHhEe89AM45rLU45+5nGkApRRRFxHHMV5xOJ6qqom3b6wUigtaaOI6R69Pfeua9c66p6/q+xX2DGz+UUrsgCP6RYK0FaERk+NCP7rR3rNfrT7o7rLWkaQpAEAQopXDOoUejEZPJpBvyQNMjoQZIkoSiKKiqCowxAO+Af6Xquma/36OdcwAsl8v/2thJcs5R1zWHw6H7E3RRFHjvHfD7Sw8fSNMUay2qqiqAX8B8tVp9iMiwpwSYA/POStlut4RhSJIkhGE4XywWO631Jxnee4wxZFnWHI/HYZ7nGGOuOYii6NmFQ8/mDcBsNru7IMYYBoPBG/Dz1qToxwFcLpdpnufoW2D0eDz+3iXwOUTPgSrL8m+UH1xIX3EhyzLatkWXZcl0Ot0BH69ccD6fCYKAP8ys4C4csGX9AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/justify/icons/justifycenter.png\n ** module id = 95\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABQ0lEQVQ4y5WSTW7CMBCFP9uxhECgyiIbrsH9b8AV2AELICARiyTgny7SJKWNVTorS/Y8v2/eiO12S6qEEMm7GCMAWapRSolSCqXUr3vvPd57QgjjAlJKptMpxpikwOVy4X6/vwp0lpVSLBYLsiyLKYS6rkVd163AT8taa7TWrNdrjDForXtu5xzn85kQwjADKSWz2QxjDFLK/pfNZtOkHNxuN2KMg8B8PkcplbQ8goAQohXorK1WK/I8ZzKZjA6ve3c6nV5j9N5zvV7Z7/fNuw7KshwQYoxUVQXw8TXU6i+BpmlaBCFEe8gyDodDvVwuMcaQ53k//e/1fD45Ho8DwlgCRVH8iWKtbRG6pflPAgCPxwMpJVmMEe89QLd9yaYuhbIscc61DpxzFEVBjPHtBAB2ux3OObIQAtbaPoF3y1qL1ppPwFetLbWdKysAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/justify/icons/justifyright.png\n ** module id = 96\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABCUlEQVQ4y6XRwWrCQBDG8f9sNgQEpYrm7Cv4/u/gG0guOSWagwmSmMlOD0sppbS47dxn+H7fyOVyAUBESBkzA8CLCM45siwjy7KXlpdlYVkWQgh45xyr1Yrdbpd0oOs6Ho9HPLDZbPDeWwphHEcZxxEPEELgdDqx3+/x3v/Yh5mhqlyvV0IIsQMzY55nzufzlJLgfr9jZrHEoigQkSKRgIhEgplxPB45HA4vEdq2/XzjB6GqqiRC3/f/I0zT9JWw3W4py5I8z39dnOeZpmm+E7quSyIMwxAJzrk/EZ7PJ865mEBVAViv1y99oe97VDUmUFVutxtmlkSo6xpVxYcQGIYB4C21gzzPeQf9Ea46v5ZZbAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/justify/icons/justifyblock.png\n ** module id = 97\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACGklEQVQ4y4WTv04bQRCHv929EJ0Q5mQKKOISGgrCC1DQU9OkSZs3gAYegQeIUqRwQ14gBVIKOloqwEhGxrIUgXw66/b+7U4KshdInGSkbXY1v/nNN7NqMBjwr1BKzb0XEQCivyVprTHGYIz54905h3MO7/18Aa01i4uLdLtdtNZzBR4fH8nzHD2vujGGbreLMeaVUuq9UupCKSXhRFEknU4HrTWRUqq1LCJ479Fah8rvNjY2Pm1ubmKM4fT0tNzd3X09nU5xziEiRFpr4jgmjmOqqsJa+xzch52dHaqqYjweAySj0cheXV2Vk8kE5xzaGEOSJHQ6neOVlRWWl5dbcGtra9F0OiXPc6qqAihmsxlAUpYlIoJWSrGwsIAx5kgpdby0tEQcx+R5zv7+/uVoNCJNU8qybAFaa4vgsoW4vb3N6urqkVLqOI5jsizj5OTk297e3tebm5vLNE1bAWNMO51WIMsyer0evV7vTV3XFEUB8Pnw8PDL7e2te3h4AKBpGrTWtPBFhLquub+/Z319/ezu7u57mqY457i+vq6Hw+HHuq7fZlkGEFi0EXnvmc1mbG1tnfX7/YvxeHwQ+g3jFJHgCGstIvJrlZ1zZFnG+fn5xXA4PHDOvViq58khrLV475+mICI0TcNgMDhommbu2qZpioiUk8kEESlDiy8gBii/h/c+OEh+TiIpigLv/VPe/75zEAkJz9kA/ABubzXiCrz5ewAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/bidi/icons/bidiltr.png\n ** module id = 98\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACGUlEQVQ4y3VTu24aQRQ9d+5AJGPQChemCKXduCD8AAW9azdp0uYP7Mb+BH9AlCKFG/IDKSylcEfripcEghVSZGtXi3b2NTMpwixYJkeaauaeOefec2k6ncKBiHAI1lr8D5KIIIQAM4OZ3z3QWkNrDWPMQSIphECtVkOz2YQQ4iDB6+sr4jiG1vrdvWBmNJtNMHOFiL4Q0ZCIrDtSSttoNA6Slwq2l5/Pz8+/X1xcgJkxGAzSfr//IQiC8mdnl4hKS3KP7Guv10OWZfB9HwC85XKpRqNRul6vobWGlBJHR0eoVqtQSkEpBeEa02q1ZBAEiOMYWZYBQLLZbADAy7IMzAzP83BycoJGo3HneR6YGUJrjSiKcHV19bxcLhGGIdI0LRuolEqYGcfHx6jX6yCiO2a+rVar/yxprRGGIe7v739fXl7+mkwmz2EYlgRSSlQqlbL49PT0ttvt7qZgjEGSJADw4+bm5udsNtMvLy8AgKIoQESw1qIoCrTb7Y/tdhtRFO0IXPrG43E+n8+/5Xn+yT3Y9gJO5WKx+HN2dva4Wq2Q5zmstRAA4EYphIC11imCUgrWWhhjoJSC7/vXDw8Pw06n87jZbGCMQZkOJ9UVOyilYIyBszqfz6+fnp6GURRBa4038XJSrbXper2GtTYNw/BNhIuiwHQ6vS6KYmfBYa+h3nYSXpIkMMa82dj9raX9dXYk+wV7UT+Iv5WxRLH2Lo+oAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/bidi/icons/bidirtl.png\n ** module id = 99\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABtUlEQVQ4y42TQcriQBCFv+rEaMAookcQ5t+6caPHmZN4Dm8zc4LZDaKIZKE4o1EJSUftmoVG1F9/5sGjunhNV/erapnP53iehzEGEQFAVXHOcT6fAfA8j0qlQhiGNBoNAJxzbDYb/DAMaTabVKtV7mGt5XA4ICI0m0183wdARDrAB/BhrR2TZRmAvqK1lqIoAMbAT+AP8FdEfnW73R9pmmJqtRqq+pJBECAijEajb6vVqjEYDNqqqs65/WQy+Z0kCW+rl8zzHFX9rqrDXq+nqsp6vSaOY+bzOb6q8h8YA9TrdQA6nQ55nrPb7TCHw0FEhFe8eCZaMooiynUYhhoEAcY599aDoige8u12+5BnWYZ/V+0T0jQlSRLxPI9Wq0Wapuqck+12i7WW4/F4OeArH8IwvBWIoghjDO12m+PxSJIkmLJVbzzAGHPz4DqtKiIaBIFGUQRFUdDv9/UZw+FQVZVr/IR+v69FUVzaeH3CgxGn00nLmX/WSv18Pl+6cL2y3jPP89vmZ63UrbX4WZaxXq9fGpmmKcvl8q3JcRzj7/d7ZrMZi8VCypm4q8x0Or1p5Ve/j/8Ar71qYMq9eYcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDktMTdUMTE6NTU6MDYrMDI6MDD5I/4gAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA5LTE3VDExOjU1OjA2KzAyOjAwiH5GnAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/language/icons/language.png\n ** module id = 100\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABqUlEQVQ4y6VTsWrjQBSctyvjRa7sWpY6ObhNow+4rzCoMNxHuLvr/Aup3eYbrkqTxIaQIoUtdFe5NkYgq9DuXHGS0JnAXcjCwDI7b2Z3H0/yPMdnltduRORDhST/GGitobWGUuq/TUjCOQdrLbzRaITxeAyt9YduYK3F6XQC6roGgAGAJYAtAPbwHcC3K27baAd1XXdvWUZR9EryJ8mqRRRFnE6n7HMkf0VR9ApgSbIz2JZleW+MeeynJUnCJEn66TTGPJZleQ9g2xlMJhOSTMIwZFVVu6vEDlVV7cIwJMmkqYFyzsH3/TcRcUEQ7IwxtyIyfA/GmNsgCHYi4nzff3POAUVRIE3TOwAPJJ+atAvJSxzHjOP4+g+eADykaXpXFAW88/mMzWbzPJ/Pb0RkCGDYtmqxWPwAQBH50uvgcL1eX1ar1fPxeASyLAPJAcmvJF+u0tYN+txLox1kWQbJsgzOOYgISCKOY9NG7ff7CgBms1nHHQ6HqtUqpSB5noNkB2stSEJEoJQCADjnOk5rDRHp4LWD1Hdtxe3SWv/F9c+83ue8K/jXtP4GAMhQwX2SIi0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/link/icons/link.png\n ** module id = 101\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACRUlEQVQ4y6WTQUsbURSFz52XTB6IlQQhKSEOWrBgWgRLcegvCFn5B4RaXLTdd9GVbbNw031b90JFf0JbSy1UidDEUjdhLI6KpDCRVqITnZnThSaEQKHSCx88Lu+dc+/jXnEcB/8TsfZBRK70kOSFgFIKSikYhvHPIiQRRRHCMESsr68PyWQSSqkrVRCGIY6OjoAgCAAgDmAGQBkAu3gGYK4nV768Gw+CoNPLjGVZVZI7JP02lmUxl8uxO0fyh2VZVQAzJDsC5ZOTk2Wt9Xq3m23btG27252JRGK92WwuAyh3BFKpFEnaQ0ND9H1/s8exg+/7m9lsliRtpZTTarVgRFEErfV3EYmy2eym1vqOiCQuiYnIbD6fvyUiRa31zUKh8EFE3CAI6kEQAMfHx5ienn4NYI3kxqXbKcnT+fn5d6urq08BnE5NTb0k6ZFcBLAH4E2z2QT29/dB8kGpVPoIoNLz409I3p2cnPw8MDAQASgB2MvlcvVKpfLc8zygVquBZJzkLMmvPX0/ImmSXCkUChsjIyOcmJj4RfILydsHBweQWq2GKIogIiCJ0dFR3R6Wer3up9NpmKaZz2Qy7zOZzOD5+blyXXfO87wXjUYD4jgOSHYIwxAkYZom0uk0+vv7bwD4lEwmY41G4+f4+Pjvra2tewAe+77/ymgvkmEYMAwD8XgcpmlCKYWzszMsLCxcA3Douu4OgPvVavUwlUqtFYvFwVardVHB30JEMDw8fB3ACoCH29vb38bGxkwAbwEs7e7uLv0BACJ210JBXI8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/link/icons/unlink.png\n ** module id = 102\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACDklEQVQ4y42TvU5bQRCFv/2xY3ORKYgESuPIipBMiyKFSHkPCt4gXR6BVyANdao8RJooZbrQWNwIB1mmCMjYV9Z62bs7Kcy9GEKkTDOz0plz5m/V+fk57XabtbU1sixDa41Sqru1tfUmxji+urr6LiKOO0spobUmxshkMoGLiwvm8zmAiAjA+/X1db+3tyf9fl9ardYC+AS8BVp3mHfAtxACVimFtZbd3V0ANjY2Ph4cHNBsNlFKkVJ6dnZ2dnh6eno4Ho9RSl13Op3NXq+HtRZblXZ7ewvA/v4+8/m8fmut6Xa79Ho9lFI45zZhWTlwT1CWZU0UQgBAKVX7Kgbw3uO9f0hQJYUQKMvyr6RVWxWxlUKMEYAYIzFGjDH/JEgp1fgnW3DOEUKoqzDGVOtFRAgh1DOyFagimEwmFEVx02g0cu/98yzLXmZZRrvdptFoICI455jNZoQQ7iuohuK9/5rn+SvAARq4Pjo6+nFycmKazeZrrXWrKIrr4+PjX0VRwGg0WjJZKyKCiHwWkU6e5+R5joj0ReSDiHwRkZn3figiv0XkcDgcokajEdvb21hrJYSgLi8vWSwW9cBEpO59Z2enA7wAfg4Gg2CMuW9hdd/GGO5OtiYBGAwGs5TSrMIopZYEKSVW/eoRVbGIoLXmsaBNKeHc8rM55x4oPwY/ZbosS6bTKSLip9Npvc7/tT+LejysYJ1PHgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/link/icons/anchor.png\n ** module id = 103\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACDUlEQVQ4y52TMU/bcBDFf/e3TRonBUskAi9AFwZLGSokpCwoA2OHLixM+QYszHyAzm0/QMdKHbrDjtS5QmICESERIUosJ9jO3//rQFKxtII+6W3v7nT33snFxQWe52GMQUR4DlQV5xxVVeGHYUgURQRB8KziOabTKff395DnOYD+D/M8xxhj6HQ6qGrxEiZJgjEG45xjPB4DRCJyJCJ3InIERP9imqaPNwCw1gLkwMHu7m58fHx8UJblh6urK8qyxBiD53mICJ7n0Wq1mE6niAi+iFAUBQD9fv/05OSku7+/f1oUBUEQEAQBzWaTKIoAeHh4oF6vY619dK0oCpaWllRVUdVDVR2q6uFwOOT6+posy1BVgHfA0UxHq9XSsiyhLEuazaaqKuPxmLngKYE37Xb71+bmpgPeqypra2taVRXmaXjCMERE+iLyVUTaACLyqlarfev1etHW1pbEcfxFRJJGo/Hogud51Go1ZuIkjuNP3W53r16v/xSRvYWFhY+9Xu9tVVXkec729vbrMAy/zweLqrKxsaGXl5eNxcXFHzs7O4nv+1hrOTs7Y3l5mdXVVay1qCrGGEajETc3N5yfn4s/zzbwudPpJJPJBOccIsL6+joAaZrinPuzqrV2nh1kZosCrKysUFXVvOFfH8laS5qmTCYT8W9vb1HV4kWfNMNgMMDPsoxZPF+MLMv4DfyAP8oRYsV6AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/image/icons/image.png\n ** module id = 104\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAADJ0lEQVQ4y32TS0hjdxSHv3Nzk07UPIzxUaUdDF1YkIIauxgsltJqFISCq+Km7UZhoBQEN4VWK1gKLkqldCPirhXR2SlCGQemFJw+XAy1DmOMxgdkk5h7k9wkN/f+u2h02bP/fuecj3MkmUwiIni9XgKBAKFQiP+rfD6PaZrYto1SCv0WDofDNDU1ISKNwEPgATBY534HfgN+UEoVPR4PNzc32LaNpNNpmpubb+F3gPV4PB7r7OwkEongOA6ZTIbLy0uOjo5OgY+VUk8LhQK5XA49GAzewdFo9MnExITW2NiIbdtUKhUsy8Lr9T5bXFwsbGxs3Nvd3d0TkVGl1FPHcdBDoRAi0hgIBNYnJyc1x3EoFArYtk0+n6e1tfXJ5uZmHtjt6up6W0TadnZ21kXkLaVUUavv+DCRSMRuO1YqFQqFAul0+mxtbe0Z8KGIXAwPD39aLpffGBsbi9U9odcDHvh8PqrVKq7rUqvVMAyDqampv4AvROQesDI+Po7f70dEqEtGA4hGo4PlchnbtrFtm2KxyMXFRXJubu6RaZo1pZQopWpDQ0OPLcvCsiyi0ejgXUAwGBTbtnFdF9u2MQyDmZmZP4GfAoEAQHV5eXlsaWnpTYBarUYwGJS7FTRNe1Eul191XZdSqUQmk/lndnb2EeCIyEfAV0BoZGSkQylFpVJB07QXALplWUQikZeGYbzb0NBALpdjZWXlV+BnEXmlpaXlm3g8ft/r9aLr+t2EkUjkpWVZ6IZhcHBw8LyjoyPd1tbmWVhY+DuRSHxbl/vjwMDAfb/fj+M4lMtlTNPk7OwsfX19/TyTyaCVSiWA9e3t7aPz8/Pw/Py8EpEPRGS3t7f3E13XsSyLYrFINpsllUq5W1tbR8B6qVRCTk5O0DSN7u7u9w4PD7/u7+9/zefzvR6LxWhvb8d1XarVKqZpcnV1ld7f37/o6+v7MpVKPXZd978ApRSaphGLxd4Hvp+enr7a29tryGazMaUU4XD4dHR0tLS6utoFfHZ6evqL67qICJJMJlFK4boujuPQ09MTBD6vH0q87uKP+jd+d3x8bHg8HjRNQ0T4F11+je9sgCXvAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/flash/icons/flash.png\n ** module id = 105\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABMElEQVQ4y6XTS24iMRSF4d9V19gwQOIhQLUCVlCTbIbdZicIkBAMyshIFU4PaBoa8iCJpTP5BpZ17rWTxG+OA351gy0WC376CucclnOmbVtOpxMARVHgnEPSl2Zm2H6/Z7fbcTgckESMkRACx+ORnDPAgznn6PV6DAYDqOtaktrbVFX1lNV1LUspAdhyuQRgMpmw3W7Vtq1tNpsPraoqUkqySyEhBCRhZudyzOh0Ouem78w5d52C9x6A0Wj0D/v9PgDj8fhT895T/G1YtwkhPGVFUWApJSS93c632+2Wz9h8Pi+taRoAW6/XSGI2m5FzFmCr1QrgwZxzTKdTmqa5lui9f9jISz/39l+JZVkCMBwOr2j2UOx7VpYlxBjF+UN9OzFGIelF0uv9lj2RV0kvfwCoQxSN62LCWQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/table/icons/table.png\n ** module id = 106\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABIElEQVQ4y62TMW/CMBBG3xljW4ShEr+TKRIzSExZ+X8QJLYIJkLsYNkMtKJDWyWon3Tru3e6O6nrmtlsxm63y0VRoJRCRPgpOWdSSrRty3K5lNvthhwOB5xzzOdznHMopfgrKSW891yvV7z36C/yer3Ozrlfu3+38N5TlqUATwNrLUVRYK0dZBBCoG1bQggvg81mk40xgwB9378Mjscj1lqcc2itB40QY8R7TwgBmqYhpUTOeVSllGiahicF8jsVQkDHGDHGsFgsmE6nDMn9fud8PhNjRF8uF8KnxticTid013UAH+8Auq5DK6Wo69pXVTVqjavVSpRSyH6/xxjz1iH1fY8WEZRSbLfbPAZQlqWIyD88k4gwmUyoqmr0O4sID6B1+FsZxhbOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/horizontalrule/icons/horizontalrule.png\n ** module id = 107\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACrUlEQVQ4y32Tv4sTaRzGP28yaRLnsoRpAmkkS9gqoneQvdViUQsLIYVNsLGxSnVNipNr0lludYT7CyyDCNekWQPa2ChEBzJT7EE8dfNrJ7m9CZOZ5wonh1xxLzzN8+X5fH/Aa3zfxxiDZVnYts3e3h7/95bLJavViu12iyQsYwy5XI5isYht2xhjvgN+Ao6AH9LcG+AVcCIpyGazXFxcEEURGcuyvg3fBUbNZvPBcDisSMpJyg2Hw0qz2XwAjIwxd23bplgsYlkWzOdzJAHcBqbL5fJc0omkO5JKqe5IOlkul+fAFLgtifl8DnEcA9jApyAIPko6lMR2u2U2mzGbzf7dV9JhEAQfgT8BO45jdt273W43kHQE3APOgKdpCOBp6t2TdNTtdgOgK+kroFqtvu/3+y8kUSqVThuNhhzHiYAckHMcJ2o0GiqVSqeS6Pf7L6rV6ntJZOI4ZrFYXK3X688kMRgMLsvlsnq9XryboNfrxeVyWYPB4FIS9Xr92WKxuBrHMURRRK1W23Y6nWubzQZJ1yX9LunxdDplOp0i6XHqXd9sNnQ6nWu1Wm0bRRGEYUir1bp0HOeRJJIkAbiy6/7NHa4kSYIkHMd51Gq1LsMwJBOGIZVKxbcs6yGAMQbg1BjzszHm0BjzvTHmF+BlWsOyrIeVSsUPwxAmkwmSnuTz+RVwLIn1ev2hWq2eASHw9/7+/h/r9dpNJznO5/MrSU8mkwn4vo+k/Gg0OgPOU8gNSc8lfUn1XNIN4Bg4H41GZ5Lyvu+D53k7yE3XdWfAZ+A34D5QTnU/9T67rjuTdNP3fTzP+woYj8c7yC1JXrvdflcoFN4CC2BRKBTettvtd5I8Sbd832c8HuN5HiYNkiQJcRxzcHBQANrAj//5ja+BX13X/SubzZLJZDDG8A/jc9VNll6oyAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/icons/smiley.png\n ** module id = 108\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAC40lEQVQ4y3WTT0ikdRzGP793nP/jO46DdJDcHMiiCNKVwQEPEaFzCAXTm9egw+IeOniLkBQCD4sLnbuIeOokRAV5CAk21l3aIM1xp9ehHGWcmXeUmX2deZ8OOcIGPfA9PX8uz/M1hUIBAGMMlmURCoWIx+PYts1/4bouV1dXeJ6H7/tIoqdr7unpwbZtkslkNzAIvA28BTjAU0kN27ap1+u4rku73Ybj42Mcx6HRaCAJIAV8BbwAFIvFSoAH+MB3wJuSaDQaOI4DxWKRarXaNd8FzkZHRzUzM/OzpL8k/S3pYnV19YdsNtsxxnjAx5KoVqtQKpW65t5wOPzHwsKC8vn8I0nfSHq1UCggyZb0+cbGxo/z8/MaHBx8AYxLgtPT027AF3Nzc5qenvZardbX5XKZo6MjDg4OODw8xHEcJH06MTFRWFxcFPCLJKxIJAJAX1/fe6FQiIuLi+fhcPgzz/MACAQCWJaF7/sAD6LR6K/X19fk8/lRY0zSCgaDGGPM8PDwXc/zcF3XARzLsrAsC2PMbcVAp1arPWu326RSKcsYM2o1m00kGaDWbrdxXfcOQDweJxAI3AYEg0EA9vf3X+l0OtTrdZaWlvyeVquF7/v+ycnJk/7+/nwmk3ndGHNH0p+e59FqtTDG3A5rYGDgg2azSalUOtvZ2fndarfbXF5esr29/X25XPaj0SjAJzdiUqkU6XSaWCyGMWYqk8m8VqvVGB8f/xY4w3EcXNdF0rubm5s/jY2N+UNDQwIeAJakbkvzkUiklcvlNDs7+0jSfUlQqVS6gnuSPjo/P3+ey+VKIyMjAj684UK2bXcmJycvt7a2fpP0JXAPsK1oNIoxJgI8NMbk1tbWNtfX108SiQTw768AViaTsbLZ7ONAIPDEGPMsnU4/BN6nUqmwu7sb7u3tfQq0uhcIBE5XVlamJLG3txdOJBIv8clksrG8vDzFzVQtSY/1Mi4kvVEsFv+Pv5b0zj+ydKn/9EzXawAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNy0wNFQxNzowMzowMyswMjowME2ku3gAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDA8+QPEAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/specialchar/icons/specialchar.png\n ** module id = 109\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAABc0lEQVQ4y42ST6oaQRjEf909zIgDGR1xMaAB1x7ApfEGuUeWuUeukVwgywfBRXKEgPhnqwaRDDOmg5mpbJ6JLzzNfFCLoumqr6vLrFYrnhtjDE0meO6itRbnHM65ZgIXN0lYa4njmDRNsdb+X+DiZIyhqiqstSRJgnNOjZ4QxzG9Xg9jDHme470nCAJmsxlZlhGG4d08TFVVOOfeAW8lyXsPwHg8Vrfb/ZPDtYikv1wSWZYJ+ACEkjidTkjyTWAkMZ1OBTCfzz8BryV9B1pNMrAAZVmSpimTyeQV8P5x5R8XeO/9LR4AFEXBdrtlv99/lfStLEsk/by45Hl+m5/PZzqdjgaDwRdJnyW93O12SGpd4SbneDwyGo0eJH2U9GKz2fD4E2qCIM9z1uv1EnizWCx+tVotoigiyzKGwyFRFN0N0SyXSyRR1zXWWsIwpN/v0263lSQJQRDcLVJwObyu8+FweBLa3Sr/27K6rimKAqDTROA3xOsBxDhPHswAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/pagebreak/icons/pagebreak.png\n ** module id = 110\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAC9klEQVQ4y32TPUzrdRSGn9+/LTH0gw4QTG5SEhNiaSQ0TR24zU2hKUzEoQ6UDhiDTC5ODMTEwcHNmJi73MF0ug4KC3cTvBWJiIpiSAmRfkCBCulCKWApbV+HW4iTZ3+ec86bc0w+n8cYg8PhwO1209PTw/9VtVrl8vKSZrOJJOz3sNfrxeVyYYxxAh8Cj4G3O9yvwE/AU0nXNpuNi4sL7u7usOx2+3/hJ8BONBodq9VqHkmvSbKWl5e9Q0ND7wJ/GmOeuFwuvF4vdrsdy+PxPMButzszMzNzEwgEeoLBYJcx5kUoFHr/+Pj4xd7e3l46nS4Bq/cSj8cDkgCcxpiD1dXVtWg0+nckElE8HlcymXwOlNxu9zuSHJLe29zcXAf2AaekB8FCMpnMSPogEomUpqenlUgk5HK5btbW1n6UFDs6OuLk5ARJ8XA4/BuwIAmrE9LjiYmJ9YGBge1arfaoUqlQKpXY2traicVinwOZRqNBs9mk0Wis+ny+3zshv5rAsqzTs7OzKUlvzc7OfrewsPDy7OzsZ0njrVaLSqXC4eEhpVKJer3OyspK0uFwnD6s0NfXV06lUm9KQtKniUTis3K5HO/t7fUBvZKo1Wqcn5/TbrdJpVJv9Pf3lx8EPp/ve2CqIzCSppeWll4HasAeMCKJ29vb+8ziPp9vTRLU63VGRkaeAs8kcXV1xfX1NaFQ6FE4HP5nfHxcXV1dAp53GgB8FQgEvqzX61jVapWdnZ0DYMIYM+Z0Ounu7mZjY+NmcHAw02w2GR0dZXJysg1gjBkFxrLZ7EG1WoVCoYAkdyaT+QYoAWOdTnZJnwwPD7eDwWBB0sfAGFDJZDLfSnIXCgXI5XIUi0UkxXZ3d7eAAvAMmEqn00G/33+wuLi4DnwN/JXNZn+RFCsWi+RyuVeCXC53P0lc0vb8/Pw68BI4BcqWZf0wNze3LmlbUrxQKDxwJp/PI4l2u02r1cLv93uAjzqHEgIE/NH5xi/29/cvbTYblmVhjOFfc0+yCXFgRkkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/iframe/icons/iframe.png\n ** module id = 111\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACRklEQVQ4y41Tz0sbQRT+3ptJxk2czSq5SSgYb0arhzYkRUp786oHS7H0VvHoqf9CwZOUHnvvQfBvEIpQSsmxEapQ68mSKIRdd7OzOz3ULNlgoe82M+99P957Q2dnZ5gMIgIzQ0oJIoK1FsYYpGkKa20uV95XLKWE1hqe52X3Nzc3GAwGMMbkQHgSgJmzYiL6TESWiN57ngetNZj53wqICMVicVTcWF9ff1Kv13FycvKKiN5aawPf93NWeJK9XC6Pjru1Wg1RFGFpaakCYAsApMy75nF2KSVc1wURlZeXl7eDIEClUvlqjIFSagcAHMfJ2cgpGEN/2Wg0XGPMr/39/U9RFCXtdrtJRA9d10WxWAQR5QGYGY7j4I5ll5lxfX39o9VqhcPh8HJubg4A3gDA9PR0poLHm3cn/3Gz2VwNwxD9fv9Zt9v9EATBgziOsbi4uE1EZa11tiN8X/Nc10Wv1/tdq9VO19bWTmdnZ7/3+/1hvV53AbwYtysBQAgBrTWIaGZ+fn6r1+thc3Pz297e3pc7ULGysvK8Wq22AewA+KiUQhiGkKNmpGkKAK+Z2Tk/P482NjbeXV1dHUdRBM/zsLCwMNPpdNrVavUREa36vt9h5r8KrLUYDAa4vb19KqWEMeYyDMNj3/dhrYXv+zg8PPwZhiGUUvbo6KgQxzGYGXRxcYGpqSkopSClBDMjTVMkSYIkSbIRCyEghMi8x3EMYwykUgoHBwe2VCpBCJHbssmfR0TZ/EdvslAooFQqQWsNIUSW8L/xB4KN1kEFPV2tAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/colorbutton/icons/textcolor.png\n ** module id = 112\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACo0lEQVQ4y5WSv2tbZxiFn1f3WlcSwhDwL13LrqHGGFosL50cg6DtaJwOxrgtXtrBa7dSOjhL/QfInZq0SyihdEiWLIG2cTE0rmvoYiha6q2yVEuxr6R7P33ffTsEKWPocLYD5zmHQ7PZJE1TVPV/KU1Tms0mpGkK8AbwLfACiF+jF8A9oOycQ1QVEXlQrVY/Wl5eHiUYY0iSBIAgCMhms4gIIsL5+TlHR0f3VfXTDMDCwsLW4uIizjmstSRJQrvdttvb27/s7u4+azQaURzHWGtxzrG0tMTs7OwWgA8wPz+f7Xa7+L6PqtLr9Wi32yebm5vfA7ZWqw1ubm7eKxQKeJ6HtZZyuRwAZACMMQwGA6y1GGOIooi9vb3fgW+A7/b3959fX1+PfMYYVJURQZqmOOfwPA9jDJeXl3/v7Ow8EZFpIFbVR51O506xWHxLREb+EcGw2zB9bW3tFHgKfAl8DpxubGz8EUXRiNRa+4rAOYdzjjRNubq6ig8PD5+JSDGfz3/inLMicldVf65UKndyudy4iIwI/CHBsH8+n38OPNSXJf8EFBDgx5mZmQ+73e77QRCMCDLDDay1xHHMwcHBCdASkY8nJydbU1NT/4rIFhDVarXf+v0+1trhAV8SDHs55/5aX19/LCJBGIZflUqlWyKC7/urIvJAVR/5vv+BtfbtwWDwiqDf7xvnHGEY/iMic57n7a+srNwKw5BSqcTq6mo5l8t9ISJL09PTDeccvV4vAZAkSahUKr+OjY3dNsbQ6XQYHx9nbm5uNJTneVxcXBBFEcVikUKhQJqmP52dnb0rjUaDJEm+rlarlVar9U4QBNnhLsOziAiZTAaAJEnMxMTEyfHx8Wkmk/mMer2Oqr6pqj+oak9V49eop6oPVXWhXq/zHxAY1OphZwhWAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/colorbutton/icons/bgcolor.png\n ** module id = 113\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACsklEQVQ4y1WTMU8baRCGn293bXkXWIQMlZsUlhWsWILecoElF6GNRJEy3f2Au0jUVxxlilRprktBm1QRvwEJDBIRAi2St8DG2OBdvN7d9wrb0WW6kR7NSO88Y8IwxPd9XNfFGAPAy8sLo9GIOI4BcF2X9fV1SqUSAJKI45jxeIzj+z7b29va3NzEtm1OT0+ZzWZHj4+Pf02nUwBKpRKu6/5TKBT+3NnZIcsy+v0+l5eXxnFdl62tLSqVCsYYVldXv52cnGT39/fkeQ5AkiRIyvb29r75vr8vCWMMrutiGWMoFovc3t5SLBZJ03QfOLRtG8uysCwL27YBDtM03f8/a4yBPM8xxgj4CqjdbqvRaEgSg8GAwWCAJBqNhtrttgABX40xyvMcRqMR5XL5h6Sfkt4DajabqtVqStOUNE2p1WpqNpua56f3kn6Wy+Ufo9EIgiBA0idJjqR/JX1cbPk1YNlL+rhgHEmfgiDAXF9fk2UZs9mMer1uA38Dr4DjwWBwDFAul98B74Bb4PDi4iIrFArYto25ubnBGEOWZQCsra2xsbGBMYbxeAyA7/tIYjgc8vT0BIBt20jC8TwPz/PI8xzHcfA8bxkqWZaZBayFQGZlZYU0TbEsiyiKYCHLkSSkOddqtVStVpUkCUmSUK1W1Wq1ljksuaPpdDrX0vM8AV8AdTod1et1SXoThiFhGCLpTb1eV6fTWZ7xi+d5koQDsLu7SxRFH2q1Gr1ej263+xl4/fz8fM68Xne73c+tVuuPg4MDrq6uPnieB4C1fIxKpUIURTiO8x04D8PweGliGIbHwLnjON+jKKJSqRDH8TzEyWRCr9cjjmMcx+Hs7OytMea83++TJAnAUttXwNtGo0GapgyHQyaTCc7DwwNhGE75veK7u7tfzxRFEZJi4DcuCAL+A+oEmlYTLOV8AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/maximize/icons/maximize.png\n ** module id = 114\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAB1klEQVQ4y4WTsU7jQBRFz4zHEiHBTpGfyA9sRUFJuZ+UfEA+AD4A2t0iUiQkesoIkVRJSWeQQAox9vPdIraTsKz2SVfXHs977747Y/f8/MzJyQnOOZxzSDpiAOccURRxenrarpkZr6+vkGUZwKgoCoBRnudHXJYlwEgSwDnwUOO8KAo8gCTleY4kvb29HfF2u0V1NjBZLBa2WCwMmIQQCLVE9/LyQpZlYzPj/f19DLDZbMZnZ2f0ej0nicFg8GM4HP4E6Pf7v8xsV0CSsixDEvtmtO+Ngm63S1VVvyXR6/Uws90IbhetQU00a67+UBQFzjm893x+fiJp78Fh0iEfKjCztmhVVbtijQLvPSGEvxBFUaugPhEaNcDeg4+PD6IoaitLwntPHMdHCppo1Phmxk6nQ5IkozRNSdN0lKYpSZKM6kvmDrsePvsQQtvhf1xVVVugUdrM1dwwfYMH4FwSnU5HzdF671WWJT6KIoDJcrk0SflXLJdLAyYAcRy3CkIIOw9qY+Krq6sp0P+K6+vrKRDXSU/OuUvn3GUcx09mtvuZptPpDTD/xwjz2Wx2Y2bc39/fAo/A493d3W2WZbBarZB0IWkuafsN5pIu1uv14b65pIvVasUfURB3OBrkZaIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMDctMDRUMTc6MDM6MDMrMDI6MDBNpLt4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwPPkDxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/showblocks/icons/showblocks.png\n ** module id = 115\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACZElEQVQ4y3WSz0sUcRjGP+93xnVSR22lKC8KC4qKsJ4EPQnhYTf2kkIdhG7VpbMYXaJD0NVDxy5B/QFJB0EhkoRS9yg4tPkrY8nV2R3HZWfm20HH3z7X932e93mf9xXHcQAQEUzTxLZtWltbuQ7lcpn9/X1qtRpaa1RcUEqdkEXEEpFXIrIsIq6IfBORZyIitm3T0tKCYRgAmPH0RCIRk5uB74ODgz3t7e00NjZSLpeHCoXCUD6fz4hITmutXdclDMMjB0opmpqaYjNvx8fHe1KpVHB4eLgwOjo6X6lUltPpNNls9j7wNOYARwKGYdDQ0ICIqK6urkfVahWt9deZmZmdiYmJT7Ozs3/W19fzyWQS4CGA1vpUQGtNtVplYGDgTmdn50/Xdeenpqbmi8Xig2Kx+A7I9vX1/fA8j46Ojt6zoZoAQRBQKpVYWloKgd/HtQ97e3snF5menr6Zy+Woq6v7p7UmiiK01kcCsQPHcf4Cj5VSNDc309bWhoj0Ak/S6XTOdV2Gh4c3Pc8jiqJTBxdhmibJZBIReW2a5ovu7m5s22ZtbW1xbm5ucXt7mzAMTzOIISKICEopRARgeGRkBMuyyplM5svGxoYHvPF9/3yIF6G1JggCLMvacRyHsbGxhcnJyc/AvdXV1XJMvnKF2EUYhvi+XwDywPvd3d2PpVLprLvrBSzLor6+HhG5AdwGWoIgwPM8arXauf5LKyilSCQSiMgty7Ke9/f33wVeGoZxafqVAlEUcRxSnWEYK4VCgVQqteL7/sntLz3SRYGDgwO2tra2K5WKCzjAr83NTYIguBT4fxtECqulFC+MAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA3LTA0VDE3OjAzOjAzKzAyOjAwTaS7eAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0wNy0wNFQxNzowMzowMyswMjowMDz5A8QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/about/icons/about.png\n ** module id = 116\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAAJdgAJdhAKFpAqRtA6ZvBK9/Dbt/B79/BrV8CLZ+CdOPCM6SDN6dDcyaFM+fF+KdC960Cf+jA/+lA/+jB/+mBf+oBf+lC/KsD/+qCP+sC/+vC/+zD/+0D/K/DuCiEOSsF+auF/+pEv+rG/2tHeO8EuO8E+ayGua0G+e1HOa3Hf+3EvS+EP+6E/+7Ff++F/+2G/e7GP+/GP+9Hf6yIf2yLP+zM/+0NP67Mf+7Nv+1OP+2Ov+6Pf29P+/ADO/FEPLIFPfEHv/AGP/DGv/EG/3DHP/HHvTJGf/IHuvHKPfIIf3JIf3NI//PJv/QJP/XKvraL//aLf/cL+zMOv3EMffPMv3RN/vbMP/UOP/hM/26Qf+9Tv++UP7GSvzBUP7dXPzKbPDUYP/bY/HbbPzXc/jYcP/XeP/Tff7Xfv/hav/jev/nff/QgP/Th//Zhf/Uif/bmf7fnfzen/7envTjhv7mi//kj/7sj/fpnP/jov7roPjtpvzsqf/qrv7wo//js//ktfzltv/muv/ruPrwsvrxs/31vv72xvz3yf33y/z4yf34y//v1P360v760/761//x2f/23f774P784f/55/785f/66P/97P/+8//++f/+/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAJoALAAAAAAXABcAQAj/ADUJHEiwoMGBfzJUYdKkSZIAAYAAARAARgwXMiDt8DMQk40NLFQIseIggQABCBo8aYFhBg0bmQYOahTpTYgxe9J4uXIlTB1IeES8idSIkMBMIoQUGcJUiNMgLly0CMmBw4s4ImISzLSoRgQKFTBQkBAhQo1FWgsyYtRIEqZAbLaIELGFTSBMRBsxKggGiZg5dwglWqs30aA7c8QgATMwkxYXRyIfWVKggJIilYlMVcEFzhatZjJEDbLAgwsWIVWoeKBgQwYeWdZsdRNhg20NuDPorlCBQgQ3aQ9qykS8uPCDjihZupQJ0yVLlBoJT6TIEaZHOXCU4TOpkqA2WXQ8usLkiNGhgVL0sEVUqI8dNWjQpKGTx1Cj+3qkNM4xhYqRHz5AUAISSJAAQQ8drECGHDmktYYKTCwhYQoQnWACAACAIBULZ5gh23AiDCFZEUVEEYVTUEBxmmovAJLVcFqI5NRTUW2mgm0b3PCFFlr5QcFpLqBAgAEMXHABAwcM8IFuXYjA0UCLWLCBaios4QQWWDhxxAZhjWDBIgZlwgZYGWigGwa8VSDBBGwEZxAmfqyhxVxarOGHmwIFBAA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/angel_smile.gif\n ** module id = 117\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEW0lEQVRIx7WVWUydRRTHCZSt7ItlKw2oMdposGq0aWIan2xMtH3wxcSHGh+0pkYTX4yRog9q1IcmxsS4YC0ILbuytbKWpQVKkbLotaVQ8LIoYFjbC5f7zc8z890LXEoaX3z4J9/MnPObM+ecbybAObMU8H/JbwC/hbA2+Czu/tcst+Mz5Zmow5q9gVpahDVlpL9lTq9pG21rfMR3WzgM7LLc/V8q98C0COUZA7UKk3XQ/xE0HYGSNFv6W8/pNbHRtsZHfK3V/k+hN9YP7lnpmrZWusXAcQm10sbCNag9APVPguNdmC6H1Slw/wUz5+GawBsO2jbaVnzEt81a7cPj6hrzg7vnKy2z+9qom6GvoSheeRzv4JktwnK+hxp+WU69HwZFQ6/C+Em4PQzOPChOUtpHrY2vaoZ7ocbjB5+9cuDyyj+FvuNhubqxbjWh5vNRswKayoaxN+DmMQHKZpOfo2Z+QN2Wg672r/tphmb5p2XJ8dL84FFmOh5kYeg4y86Pcf39nURRJRt1rjtvbN5p1rSNttU+Mx0PoRmatQ4HoqUqU9Tsx2rfh6v3MZa7UljsTGTuYiwj1eE4GxKYlo21nA3xMhfG3IVIFpujWW6KZeWPt1E3c9EMwxKmD36I8RoojcDqe0qK/QBcvd/I1ZnJV68EGLna9+BqTd8Y1yfDBVHjLlE63BqBuqcxLGH64Nn0fSiVj4Megfbcu67JcwI7GmA0WZ3GZGXqxrg8SdpS1HAP/JKAcpyQjpbaaJYwffCfaXzBjuByhp+snvuoyIkysroysTozNsZtu21wXQKci0ddeg418j2GJUwffILiVGhLtejYA51e6e8OOe5wFtzI0uvQkgLXH7G1CUxNLJzPwDNRqwxLmP7wlmSLixKNT+1ptjS0NcXOb3OSfcJ6OxXr4KoYSWsanpFTd8AlLc+LoeS8NXVDOsqWLVATbaJEmWDbG3C0EKJQ9fvwXD6OYW1KSzZXP4CfIgWS7FUSv34RyWherD/UF60U/8/cCAZOholfFJRLpzUexKp7BsPaVNBDOKvgTIgN8WqqZjeFb+2gPieUkdwoFstiWSyNYfTbCJpzQvjxzSDGS5MMmLIIPC1HUCVyYs3a1IryE61NUf2EHb2OTku6YW3oUXpPJVF7IpzTxwI5/XogNe+HceWbRNzXs+xASsJRldJJlQ9jGJrl+4nsK5fDzA1CQbgYxFim53U+dV67M+Vm3Aujj8v9Ivp9r92qFRJIcRiqaCdWWbpFgZxAM4R1x2Mhk/kMynVcsEMXyDKFqrSLZU5UIc7lO+VPlgBKJNdFoXA2RNtb5AVhfIWx7UskC3Eoa4yBT8REnItDvUCd022gZ4LFLlAkY+2jfYVxl2cOaQUKmRuQFpMU5EtEhcF2sYtCFGeDFQVB9nxeoG2jbbWP+N71Dd20yYtSmBlTed1aunf1z6Glv/WcXtM2YvufHugtG8SZQoO+iapFk15Ve+cOb03DVv0Ldv84uu1+i1IAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/angel_smile.png\n ** module id = 118\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAAC80Nl88M19AOF5KQ74uBcMtA8kwBc4zB880CdAxA9c0BdkzBNE3DN03CMI5Et09EeQ5C+o9DvM2Afc5A/E7B/M6Bvc7B/o7BvE9Cfo+Cf8+COE/EpdIM5dKN8VCHf5AC/lADf9CDuBAFe9DE+tGGvFAEPNBEPdEE/JEFPNHF/9DEP9FEvlGFf9GFP5IFvFJGfJKGvdKHPxLHPpNH/9MHM1PL8tXNs1ZPfhPI/NTJvxRIP9QIfpSJftSJf9TJP9TJvpVKv9WK/5YK/haLv9ZLu9YMPNdM/9bMf9cM/9eNf9fNu9hPfNhN/NiOfViOvZmPv9hOv1kOfplP/9kPZVZSJVbSdBoStFrTtR1Wv9nQvZpQvloQf9oQ/1tQ/1rRP9rR/9rSPRxTPVyTfV0T/1yT/9zUf53U/x5U/x9V/57W/x/Wv18XdZ6YNiAZ8iJcd6TfvWOa/+IafmNb/WRb/6OcumbffqRd/+RdfiXfvubf/qZgPiagPibgf2Zgfiehfigh/uiiv2jjfimj+Wqmfqmkv+vm+i0pei2qPy0ofy2ov23pf25p+zAtPvDs/zDtfvEtf3EtvzHuPvIuv3Lvvzd1Pbi3P3g2P3h2ffl4P/m4Pnq5v/q5P/u6v/8+//+/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAJ8ALAAAAAAXABcAQAj/AD8JHDjQk0FPBBMK5BNjCpQpAgAA6JAECQeJAX7sAJRHD0FKGGTIOEDAg40rbd4MYoSlgQ4MlBJ6EpSDUB8yX7hwcZgEyqJNTwQhFOgpzAwiSIUEWYqDxAMEBQyMcBFFjpihCTs10hMGxoswexp1UijzkhMneiBx4jQJkJYml7AWZLJlTZYsXLJM4YkEaZBEipgM9QSDSJLDc9zUUUMkCJo6buDooCEkEoyhjSj86IHDABtDlQ4axFRgxRkYjWT+qQCixYoVKkKE+KBhQoU/Y8nq3q3bkyQ/Y2DAGONHklyFM1HgcRSITpkydwplWpRCqEJKJuykAfMlp0MoSY4QoImzKYUlgo9MkLkr5cYSKFCUIClSA0gPIpmePCIqhoeS+ANIVAUSR1Ah0QA70GAGIld9QhgQR0SIhBdJNBbED0JEkaALPiRymUB7nBBEDxeKwEABDljxBiOaGGLACl1oscdAnRjBwg4bWCGaaIco0MMQRuRGFCAVuGDkCSVEAEEDCiSwwAUTAHIcUZQYUYEFGXzwAZQSGEHJlGTtCKZAAQEAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/angry_smile.gif\n ** module id = 119\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEi0lEQVRIx62VaWxUVRTHEVp2m7IjYsAFDFsLbekGU6YLMAzLgAVKWykUkMXGICghLoXywSgmYNAQAk1UQKrxi6m2oH5AIyViCApKFBIgrVLA1tiUZzvTmffez3PeTJtWWoOJL/nnvdx7zu+ee8955/b6rdHo1Z2AGJFHVCqqFNVHVBkZ07mYnvxVPYF9WNbt0LkvCbz7Gi0v+rjrHeNIv3VM59RGbe8LLoZDRMetuqsY69JoWZdO8HAZVs1J+LMBmhqxzp8mdOxNWrdkOTZqqz7q2yPcAdt2XaDiLe7mDLcDh3ZhnqnGOr4Pe/92eGGZaCkc2AGflMOtWqwvPsSYP8pWH/X95wKd4ccDJ/Zj5E4kWPG2bR3eA8/7oGQ+bM6BjZmwwQXF6bAmBdbL+9QH0HCT1k0ZqK8y7oHruVm1V7ibGWsHD+y07VcKBeoJg7fMhU1Z8MwcWDcb1qZC0UwoTID8OHhjiyxQj+EZbSujcw7CVWGZt43iFNo2Z2K9uloizQ5Hq2+NWMHrBVycJlEnw9OJUDAdVk2DFZOg+ijWqRMoQ1ntVaRwT6imGiMzFmu7LwJzExTghXwXTcWucMTt4NWJNK2azgVfPMEVk2H5k7LIVCcHrRszUJYy2+GlgfI9+L1jw2eqIIlyjTuVuKRk4kWHvBJRUTjiQ55EZ0zn1syWHTw1AZY+hv2elGf5bpSlzHZ4Zcv2xQTVSBOlZyoqWpgThs9M4WDhAgEnOEdxMN/jjOlckTfbAbNkHPbOXMyqoyhLme3w+uYFD2Hnx1usTpJtz3QS1nJgK+f2buP38lLM3QXh5Mn2zdI8Z0znWvaXOGAWya7zJmF++7mtLGV2hedNtSicQYckUqskB1srQxO3cko4eVKq9qopWBskB0sfDYO9Asx9AvPksXvglX9tW0Rw8bgwpEOSpDwBrpzsQAO+x2mcN4brriH8kDSAM9P68N30aJqyh0n6RmKvT6Vt31aU1flYSv1HduPPGR6OLKKQ5KDWPYJLKYOpiYvim7ShXNzo4cY7u/jj6yraGm5xp+oE5+KjYN4wrOey8T+bSeBIWZeEekJnPsOY3d/ZMrkTaF08nrMS1c8vr+VOdQWtv16ju8dfX0vNtN6QMxTzpVwMaWzK6lyKMZih24bUb9u8Ec451s2RKDd7tV/wb8+dkx/xY0I09sqJBAriUIayOn6i9t/fvH6ZZtcA7IUPW+bCsXyf2I/TcdGczXqE83nJXCpZwpWyTdw4WEb9x4dp/OpTLu8ooDalP+ay8VZzxkCU0eX379K4ju3FSO+L7Rlp4R2N5RkluRhGszuWBlcMN9MGcV1gvyRFc3FGH64mRhFy9bOM1N6ob7eNq6PlWlZd4P3XaZ7Vjzb3g5IoSfLcoXKm0uazYyFLLqfMweAeCBn9aUuPolmCUR/17bHlRhYQEhXmtZ/k/BIwUqPwy0LBDDku9yDbnjPADs7qiz+tD0byA46N2qqP+t7vNbdcEtOomdfS0trVn0Ol31q6TlWIjdr+pzu005UnbRLtRFWiWxFVRcZ83V1t9wX/P/Q34o3PjPApgwAAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/angry_smile.png\n ** module id = 120\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAKUCAqgGBq4EBK4HB6kICK0ICLYDA7EEBLQEBLgCAr4AALIICLUICLUMDKsQEKoREa0WFq0ZGa8eHq8fH70REbAiIrQtLbg3N7k8PLo/P8QODtAFBdMJCdcODsEQEMUQEMcSEsIVFcQWFssXF80cHNEREdQUFNkREdsSEtwWFt8XF9YbG9EfH9kbG94ZGdocHOMbG90iIt0lJeYgIOAnJ+okJOApKeYpKeYtLecuLu4pKe0vL/AsLPIuLvUyMvM1NfQ2Nvk3N/07O/49Pf8+PrxCQr1GRr5ISMFSUsNWVsNYWMRZWcZeXslpactubtB6etF+ftKAgNOFhdWKiteOjtePj9qXl9ycnN2fn9+kpOCoqOKtreSzs+W3t+e7u+rDw+/R0fDW1vbm5vfp6fjr6/nv7/rx8fvz8/77+////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAGoALAAAAAAXABcAQAf/gGqCg4SFhoJpDjs+jI0+HlMPN46MOw5phWlLBx2dnh0ISZiZRyRDp0AFVmlgBTmnsCRGo2pcAS4zubkMHzC6vi8DXYeEaVZKWbTEamhWRRZKUWGDYkwVD0VUtGlINEKnQkI/A1VlBEHg4UI0SGlpTx468vMrAAvz+DoeUNtSAioAAZZQAQOGihQC+C1Tc+ZCgg0QE1w4s7CiRUTulKnJ6M7QGAwUbPywIeKCOy8QWPwIgoMCBjGDtjQYQuTUjwVV0mgJQbMmzSENtGycsCOI0aM7Cnw5IuMoUgnuMMToQbUHj6sBLozg4eMqD6oxMmAyE+FFjbNnXwAAgbZtiwgUORFhCZCiYEETGuwWVDHgisaNTg6cQEH4hGHDC5r8JYTGiAEOkCEbKILmohoyFgQoEGCBjOViHZcFAgA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/broken_heart.gif\n ** module id = 121\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEOklEQVRIibWUXUwUVxSAv539YYuzyBJALTQgqECWrQG1JEj40TTRlKatadTExJBYE5s+mL4RkyaaPrQPjSZ92ERNfLNqDdi0xdQCtk3xL1aRLUpTf9AybAs7LsgO7C4zu6cvYNBdatOkJzkPc+e73zlz7uTaRsJR/q9wLHwozlcLgd3AO0ARkASuAl9outG1gGsG9gM1gBe4DvQBn2u6EXkqHAlHGQlHEZHNKdMc/z0QkO+bmuRbv19+3r5dggcPyuSdOyIiH4qIIiIfzYRC1uXdu+WrsjL5MjdXejZtkqHDhyVlWaMi8vq8c17cGBsbsy40NEiP1ytadbVMrl8vD6uqpK+wUL6rqxMRuS4iX//Z3S0dhYUyUFIi0Q0bJFFfLyG/X3q9XrlQXy8zoVBSRDaNhKPYRCQLGPhh69aKpYOD1JaVPf2q6Xic7mAQ35EjrN637/ZkMOi7WFdH/Zo1LM/NTZvxreFhHldUsLm7+x7gV4D3Rzo7K2J9fdSsXJnxYJLxOED5k6EhCjyejGKAtaWlmNeu8ejMmVXABw6gafjkSXxFRUgqhSyAX3I62VxdTW97O4C7rK2Na9EopmliV5SMBaqKinh0+jQlO3Y0KkBN5MYNPG43lmWlZZbdTnNVFUPt7TwZHKSguZkRXc/IWpaFJyuLyM2bADUOIMecmoKcHCzTzNiNS1HwZmcTvnKFx1evUrlixaIsqRSmYQAscQC3l/p8DZOhEAWqugifYmx6mkRnJ6VZWahOJ0nLyshOGga5Ph/AoAL0L2tsRItEsEwzY4YmJkhaFrO3brHS612Us0yTPyIRlrW0APTbRGSVOTX16zeVlW6/3U6u253WzUQsxvXRUcrz8ijPy8s8jjnuts3Gm0NDMYeq+hRNN+45c3I+qTt2jIHxcaKxWPohOZ143W5SqdSiBxmNxQiGw9QdP45DVT/WdGN4/n/6tKi1taf26FH6x8aYicdJmuYzWaKqSCqVtp40TeKJBP1jY9QEAry8ZUsP8BmAAqDpxizwVllbW1/FoUMEdZ347OwznS2x2/HY7WkdJ0yTgXCY1QcOUL5nz01gm6YbJoBt4ZVbnK/mAj/9sn//q6FAgEqPB8VmW3TGKRF+i0ZZvncvrwUCd4EGTTfG59/bnr/Pi/PVFYhcvrRrV+nE2bOsys7OKBbgwcwMS7dtY+OpUyGbomzUdOPhQiZNPldgdco0L/3Y2lqQ6O3lFZcrjRmZncXV0kJLV9eE4nI1arox+DyT8YLQdOOu4nRubezomLatW8doIkHSsp7maCKBrbaWpnPnYorL1ZpJvKh8rsANh6q+3dLVNZtcu5Zh0yRimjwwTZJ+Py3nz1sOVX1X043LizkyjmVhFOerb0gyeer+iROevy5epLi1lZKdOw2b3d6m6UbHP+19oXyuwBrgPcAPDADHNd24/6J9/0r+X+Nv6FCWNqNxjEEAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/broken_heart.png\n ** module id = 122\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAAJdgAJdhAKpuAa5xAq9/DbB2BL+ABcGBBsaGB8WNDNeVCt+dDcuaFMudFuWdCtWhFN6rGemiDP+jA/+lA/+jB/+nBv+oBv+jCP+lCf+nDv+rCP+rCf+tCv+wDP+1D+WpE+auF/CsEP+pEv+qGv+rG/2tHeayGua3HfezEv+zEP21Ef+5E/+6E/+7Ff++F/+2G/e7GP+/GP+9Hf6yIf60If+4IP2yLP+zM/67Mf+7Nv+1OP+2Ov29P/+8P/fCHffEHv/AGP/CGv/DGv3DHP/HHv/IHvDFJPfIIfXMJ//MIf/NIv/JJf/PJv/QJP/VKP/YK//aLf/cL/7EMv3RN/3dMf/UOP7hM//jNf26Qf+9Tf++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Shf/Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/lm//gof/jovzsqf/qrv/js//ktfzltv/muv/ruP/v0//v1P/x2P/23f/34//66P/++////gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAIcALAAAAAAXABcAQAj/AA8JHDjQkEFDBBMKVKOCiZKHJwAAMGFCIggXLlacMWOGICAMHVQkufIkSYsOHThosLChRIY/CQ25oSEHTRQnTpooSVJkSZ1BOd4gFGgoi4ogSIEoxchixQoVERx0wBEmy9CYetRkGTEiixo9hRTGDLQjR5k8hAj5YdNjR6CrBXVI4dIkZ4MGOxkwQBqDjh0dQw2NCEKkiOEiUaIICQLlScanNfiMGKqnggsWGVEsQDCAAAQkVqIQ4eBlhJ6Yay5s4MCawwYLFipIoLAGrtjbuGP2WaOFBAkta/rYjvlGBBk8acBUqSJmjqA7I4QqDJRhTBecOXUmIUIkyJdBIwIRj9yzYQqTJk2OBAjww8d6GEBayBDUYw/RLC6K8EyihACB7f4N0YJTW8Rh1SGCAUGEEAsuhhRGGamgQgcvwDHZQh0EsRSEK4SggAECJPABBzxgocZAhejAgVMHFPCAEVRY4YQQHrA2gw03wGVIGxWElAJKrXEQm2xtDIfgHzdIUEEFsE0ggQQ3/GGkQgcdhFtAADs=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/confused_smile.gif\n ** module id = 123\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEFElEQVRIia2VXWhbZRiAn+9r0q4u/U1aMxvckOpYO4dbf2Rz/uAuprvYhgxEneK8UpCJMofgnZNdeCP+wLxz4MAbLybCdIKIs7NqT3VjdnNjMMlimzYnTZomTZqc871enNMmmS3uwhde3vNx4Hn/v0/dTM2zksQioVZgBzAEDPoKYPk6BvyUsPO5FQGAWgkei4T2IeYTkt9FscfAHoP0mPczPAQRX6O7kij9csLOf/mf8Fgk1AF8SO7aQc4fgqADscchPAxt20EpmLsAs+Nw81soV+ChT6H1vlPA4YSdz6wI98BygSsf3M2lY+JuOaToGkYVL6LKcVTpOgjQ1A/Nm6FzL6TPw+ibwua3FJtei4N6oNZBLfwzLr9/UG58hHv/S6LVtNLFH8FdBFfAGHBN1dIIsaPQuRtGnoW7noK+108l7PzzdfBYJLSP3NXTnBkWZ9vTNMh1pUwSRDw1ZmUHxkD7Lug9Dl8NCrt/ULRu3L/UAyUirYh7la93RqWtjHR2op04KEDAGsuCwODWEBiD9XsBEAb7mqpOe98BtwkmTsCTI0lUw8aEnc9pYAeTZ6MULyEtQfRifDmy0kIFa2QG6/wMpaJDqehijaawRm1KRReMn821Y9D1MASDMHk26o8wGhgibcEdjWgnDcbxUnYNmYzjNVEgk3XJZN3qeV48uAg4C0j8JKx7DNIW/m4QAAaxx6EpCK5TN6d3djcSXd/ifXc1gkjNOQiLi17kRiBjIdEDqBunwV84D562YF3A4BqN8skC2nXZ/8I9XrRTKTDC/uc2eP/jybpGq9xl3PVRaUhbqhbuifG7vyQinp1M+RPjl+DmdLXWtVZVYHG6LnMNWIQHYGFRL9X6dtQ4hplUmclkGYxBgt1gjyvCA+DdPQR8+F7++h7WNFVrIjUZ+JHP5RympsskUxVSsw4969eyIdYMbgnRrajsBHQ/WgcfIzwAV8oQcmvKAqWSS3KmsgwMtTXS29/B8IOtNHeFUI4D07MwVUICHejZX2HTG+DdmEtL5FzlzPYozp/Q7EV/7ud5MgXDvf3t9PS20xJtQQc05Aowl4e5eShVwAjSFEVYi9ZrYM9oEhXYmLDzuer6ZydOc2YI2hoNWmuns51ATwQKCz6wAIWSX6alZgoiGgmEjS7Navb8Au391fWvu7gm3jvIxbch1GwINGgMYNxq3WunZsm6xuCKZttx6D9ad3Hpmsk5TN+ROFuOQa6iKRTBqaw+McZAxQHToNn6LvQdiQOHa0fx1seiE/iY7B/PMPIiZC9Ag/YeCY34kSqMP0UdW2HnSWjf/DnwasLOz64Kr3FyAHFO8Pc3EdLjLCtAeKCqPU/YqMArCTv/xb8gq8F9Bx3AI8A2YMC3AL8B4749d+vTdlvw/0P+Aa7vaTpCiocHAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/confused_smile.png\n ** module id = 124\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJdgAJtkAp9qBKNtBKdzB616Cbd6Bbh9B7F+C7aIEb2LEMeJCMmMCsqaFtOgFdWrHP+kBP+pBv+lC/6sCv+yDv+qFf+rG+e1G/62Ev+7Ff++Gty3JNy4JP6zIf6yK/+7L+u8N/+zM/+7Nv+2Of+8PvfEHv/CGv/JH+/AIO/OK//MIv/SJv7VKf/aLv7EMv/KM//LPf3RN//VOP3iNf+9Tf++UPjJTf3WRP7YQf/QTfzBUP/TXf7dXPvNbv7aZP/RaPnPcv3WdPHbdP/edP/WfP3ibP3jehenyxynyxurzxus0R+23CGpzDGxzy2v0Di11T261yW+5UO61UK92SbD6zHG7F3D3H3R537Y5HbV6X/a8KLSvtrUkP/Sg/HchP/Zhf/VjePXlP/cm/vhg//kj//km9nct+XarP/iov7rrP7ktP/muv/ruJbQwZfSyqvUx47d8J7k9rrn8sjeyv3rxv/v0//z2sTr8P/34//55//66OL1+/P8/v///gAAAAAAACH5BAEAAH4ALAAAAAAXABcAAAf+gH6Cg4SFhoeFfYp9iIh9a101FhY6XWuMjX59dSIiRGl6emxENCN2mIZ9YBVBaUY8MjI+ZHZoFWCog6odY0UtLCsrKsMqZXgkuIV1FT43LMDAwycmJjt4FnaEfSMuN8ErDw0qJxcK1CZlYiOoahMxwislAQAlJwgADiYZGngjaoNdMBBT0QAAgAslBgAgoCFDBiJEugjqoyPDCx9DhBAAkEBFiQfzQHD5EURMDUZ9LJjYgiSJmw0pWJjQoILFBhtQkjShYwGlyjZRsMA4p89hBgxhqkxR01MTDQwvvOQ4Z/QohqtAgPSggUmMmRcaZjpkMGDAgqsUKEwgceafJit5UmAcdXjA4DwDE9RO0PHGyR4/T5Rk+XD1aAEBBgUgmDAhQgcPc5Yg8cMkihYPV6+2mMF5RgsKESZYkCCHymQ5cPiAgUABQ9rWGBpHiAABAq44V7R1gRBBr+zZtbvk0lYnRG3exyGEqDM8lZouNCbRIKKmeaNFixAFAgA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/cry_smile.gif\n ** module id = 125\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEhUlEQVRIx7WVW2xVRRSGm164tFKlCIVCgWJBiRBEIxADEi8xvCAk+iiJhjQxipoIGkNS1ChRokEfjBAwiCW09Aac3ikcoFKhtEDvlFPaRnpaqh4SqIRrz57Pf/Y+RaBq0MSHP3vvmbW+WbPW2jNRwdDlqP9L/zgJJEpLpEzJJ/VG5IuM2bnEfw2X0zKM08f5SmhaDweXQ/5ET/bdjtk5ayPbe4LLcLS0g/4AlD0F++dB2wfw2264Ic7NXyBUAQHBDyz2bKyt9ZHv38I9sDnH6a8gN8mE21YTvpCLE1yL6XwFWhdAi3R2JfTI5monBLMgL9m4Ptb3tgXuhu+gdSOmJI2Bc58Yp3uVIpwDpx+B5oehcTqceghOpMHxKZK+e7fCtW7tcCHW1zKGwN0c95+BnEQzEMgw5swzgs6Ug8AtAjcJVJ8OJ6dB7VSomQw/TYIjKVp4hRYIejuwjEgN/uwKE+6jdAGm+nGc088LNkNOM9xnm4pY9904D1w3lb6Sifi/eACqVdwfJ8Ch8UrPFvj5ByzDZYk5CF9CTykUJOA0zleEgjaku7p4eCpbM6LZ9FoU16onu+nYuy6BTa9G0bx9LBwW2K+F/alwpQsqF+GyxByEZ9L4sSqvep6MbD2ims1jXZBVX6kiPZrK9jdj3e+c1cPVlsnqGi2ybwymbZ12q/a3LDEH4T78L3oRnJoL7RnQtYb+s2tcgAWVfT4aUzfNTUVzXipbVka746ED82lv+VrA1zEt72G6tuGyxByE95KXYovjZDUdJCWnjkn5DWxqqqWjXKk59agKO9MrXtUEt6DXW2fTUZHO9eNLWVTZxsT8eub66nFCR43LEvNOeNV459uGKqb7e1h3pkdpWegVzUJt4Wx+DyV7O9zvpYLyJIJt3zD36AWe9QdwekuHwJWWpTJUzmseo7/jUxVzqRdl1V1Qm9/KB6FijGdfqq4pS+Zm/TvcqH+XcK3+Dcu6LS2ZBDYT6CgXfL7XWhZ20JOzfxzHv4wn++0Yst+K4diGETglApfcD0U62/aOgt3qNP9ietsLCAeL7ijo+hVHOniuslXwp73orLR1R1FWZA6/1TGDKl8bh7NH0L33uWAKEwhXLSe/5Riz9zTQfWWgwIJfWFDaejOlsIn3W38VcI6XSytt/XpxEoVrR/L9G7G3wNtXxeHLjOdGvoXG66QciSlKwymaRU1XLVPKOkjNqTUW/lJa7gmTfug8H7ZfUqZm2u06bs/bfFYkQacW7J2n8+ZJV3RLgVle1HkjMLnxOIWpDjsTqA5dYsaREMnqOAuPr+z7vXBj56Wey2HTQMsG2BmrRUY5FCd6OfVp+z4992khO1YwUtGO0Mmpn2jXMGvvkBWD66tybuu52p3Z2BcceuQa5xzNn+lsk3OenPckRHIaPxSaEye7aEnf1sf6eveBJon9q8tC4ZHNxWZF+YQcFVG2IDmyzx1m2BVn2BnjjWdFezbW1vrI916vuZcxAyGCxer5j7zetT+HlX23Y3bO2sj2v1zQo91zHuxJVCKdj6gkMrbs7qvtdv0B77IaEysKoisAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/cry_smile.png\n ** module id = 126\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPfyANIPD9YQENsSEtwSEuQdHfYWFvsYGPwdHdggFdkgHu0iIu4oKPYlJf4lJeszM+4yMvw4OJdgAJdhAKFoAqFpAqRtA6ZvBK9/Dbt/B79/BrV8CLZ+CfNVLv9mKP95LPdHR+9aRv5XV/9zUf97Vv91ddOPCM6SDN6dDcuaFMuaFcyaFMucFsudFs+fF+CbC+KdC/+WFf+SGv+iAv+jAv+iA/+jA/+lA/+jB/+lBP+mBf+nBf+nBv+oBf+oBv+pBv+pB/+qB/+jCP+lCf+lC/KsD/+qCP+rCP+rCf6pCv+sCf+tCv+sC/+tC/+uCv+uC/+vC/+vDP+wDP+wDf+xDf+yDv+zDv+zD/+0D+CiEOSsF+auF/KtEP+qGv6rGv+rG/2tHeayGua0G+e1HOa3Hf+1EP+2Ef+3Ef+3Ev+4E/+5E/+6E/+6FP+7Ff+8Ff+9Fv++F/+/F/+2G/e7GP+/GP+9Hf6yIf+4IP2yLP+zM/6zNv+0NP67Mf+7Nv+2Ov+6Pf29P/+8P/fCHffEHv/AGP/BGP/BGf/CGf/CGv/DGv/EG/3DHP/DHP/FHP/HHf/HHv/IHv/JH/fIIf3IIP3JIf/KIP/LIP/LIf/MIf3NI//NIv/OI//JJf/NJP/PJP/PJv/QJP/RJf/SJf/SJv/TJv/TJ//UJ//VKP/WKP/WKf/WKv/XKvraL//aLf/ZL//cL//dL/3RN/vbMP/UOP/VOP/gM//hM/26Qf+9Tf+9Tv++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbPrVZv/bY/zXc//XeP/Tff7Xfv3ibP3jevmamvmbm/+9vf/QgP/Rgf/Shf/Th/veg//Zhf/Uifzen/7env/kj//jmv/lm//Wo//jovzsqf/qrv/js//ktfzltv/muv/ruP/AwP/U1P/V1f/Y2P/v0//v1P/x2f/23f/13v/i4v3v4v/24v/55//66P/++//+/P/+/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAPMALAAAAAAXABcAAAj+AOXJm0ewoMGDBQXOk5ds4EGBCh82XKhgXMJvznJ58YLL2TeH8sI9GCiPAAR18s714UNsWzt34KIB6nNO3jgGDkguENBgBIxh2pD9kiVLWDV02WKIOBDgA8kQAAJwgHas1alToDRdgrTpGjsQAAaQcLisAIJgvK6CWrsVEiNEvtYlMEAuYYc8u9aCYsHikiUUKBAhamMNmweH87otgaVpbSQJEgQJihBBzpw2dNAB6lawWRlNWi+NgQwGDOUsc9iwMVasGUF5uNpYmm3p0oULliTdVtRGTRld1HCR9IKIkSVGbl25EsyKVe8yZex48zJ8UCJGjBQpEjy4DRvf0OO1TKO+EFcZ7oguX1YNPkqUPcCEE2wWZc5gE1jaeAf/okQUKH/YUkxB3OygXxtjWIDBCVsQ4UIGFWShhBK9eMEZQe/oEYUabCASSwsbUECBBiqs0sYRddyRxzsGmSPEhtBdokottZxiCRQ+HPGFEOY89MwO7gU54RFH+LDDDjc4g1hCzgRxRBQTKpHjkTUkuaRB8pSDRw1HHmlDDTXgUc6VCL3DTTG4bIQLM9ywiNCbC0EU0ZsBAQA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/devil_smile.gif\n ** module id = 127\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEi0lEQVRIx6WVa0xcRRTHCZRXKbAUWZCXS19io6KtqY2JaTTGNk20NVGbGE18JI0ajR+aJr4oGmNM/dKkHzQBsRaElrc8W6Erj1ZLS1sKuyyvgrC8GtESaQRh996//3PnXthi6xc//HPvzJz5zZlzzswEAaikTlORY9M3g/6PyLBTndRhaUuHbyE3lx98t8IwhtpFZVPV1ISparNPxmIC7EMo50JenrAGLfjsH+vWAT090vm2abgHujaFyUag+3Pgp71AWYqS/EufjIkNbc05X6KlBTe2bBFOtwW/Pp6WBv/27YDXKwMD+LMfaHgMaNoG9L4P/MbILZCzeB2YZgT7CT+zQ9mILTAKtxtzGzdieutWabdb8F9vZGZicO1a6BzERy8CXyXA33sA/t9LoI19CH3oZe6Mi7upwTeA8SPA3BAwVgAcTQYOPAc/HfTYbJjfuVPgzRb8Z33fPnTHxhqDN194EL7hz6B536GHWYAnE3DdC3Rx4SvrgUsZwIV7KLYnGN85L2ZeetqYf40O4uBBgRdZ8NfhdGLObkefIwGLPfuh9z1B6H30lmA3wd0EdW4ALjM3Fx3cdDpdSgXO0mvXK9BmvOh3pMOXlAT09Qn8SQtuh+73YX8m9Npt0DxPEbaJkzYZ3458Ozq+sStwhwMduQnUXcA5JrftbgaAwDFWm6cQ+OB+Jtn/t1VFQUZJjdcD5VHQuh6lh4Re3WBovj0DX78WZGj+XDrm29KW202EtlBOLuxMA/4aBhofh8Ei04Jno+tTZj6O3plbNzV5irBXgwxN1qVgsiZ5uV2ZyLKkziQAP8ZD7z3E3bL8hUWmBa+G81nlgcQzQNrl9ajKiTakXciA1u5Ybp9NVeDGeOAUK+2X3dCHv4XBItOCT6A0WZKj4Xy6SpZI/s9zu0OsmGtZKnmtjPHAA0oBYNTbeIE44J9o0A0WmbfCW5M0owIsScJEApXESXybE9UOm1QolsC1sQxrCvzDx/4FZ1ieoSFj3pa8LPGydQXU8JaVcjpe2RtgXkHV0dCbHob/Is+GsALCko2rnwA/rFFl1axgV46uwUiB7Vao5S2T782PgutIBOdF815lpTl3QGvk+RBWQEJ3YawWOBGmIKam6lNR/N4qNOWEYzg/GrMVNsyWx2IkLwrNOWH4/t0QjJcnGmBURMHfuhd6GXcsrIBSjIHum0LdI8p78U7EavANPoTOY4loOBSJ428F4/ibwaj/OAKXeIgWB7KUI2WR0GtYSTU8QMIQlnWIlq7YGTdvhEgaxGpGzUs8Ja4dvEt6NwMjvO1GKc9mVapVdKQ0AnrJamgVaRqKuANhmFfwEtxcoBDuw1xglSRIMxJVo5Jl7KiKkytX8yTTgTLGuiQcOBkm9hoK+E7IXDICH5xAeBwv/1G4vqAJJ5eGm0CJ6W2gJ0JpF0yxLXNkLhm3hZsLsBRQjBkXS4whKKRHxaEq2SVhOk6G6igKUf0FwcpGbGUO5658U+/00D7PxEwbmZfSktqVwyGSf+mTMbGh7Z0e7P96yeOMRANyE9VRk6bqzL49K8OwUv8A2p4bNMmskSYAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/devil_smile.png\n ** module id = 128\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJpeAZdhAKpsAK9/Dbt+BrN4D/l9Fvl6GtaOEsubFfyUD/6eCeWMFvqEFfqLFPmEHPqMGuecGvuTFPyaE/qUHPucGv+kBP+pBv+jC/+tCv+yDuyrEfaiEv2kFP6pFfyhHPetGv6qG+ayHP+1Ef+8Ff2yG/68HfmDIfmMIvqVIvubIvqZL+6oJPqiJPysI+u3JP21I/2yLPujO/6zM/+7Nv+2Of+7PffDHv/CGf/JHvbFIP3AJf/LIv7JLf/SJv/WKP/bL/7WMf/VOP/lNvumRPy9Qf+9Tf++UP3QQP7HWf7dXPrNYfzKbP/bY/zGdvzXc//Vev3ibP3jev/Rg//Zhf/Ujf3en/vhg//kj//lm//iov7rrP/ktP/muv/ruP/v0//y2v/24f/66P///gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAGQALAAAAAAXABcAQAf/gGSCg4RjhmOEiYJTHi0tLjAiAQEikgARFRQUTlBThF8YExMeGqWmGRgKCiEYX4ljVTBXUUA/Prc8OTxZYDZViIJjRhQnJykfJSQ4JMweEw4HBytMRsCvXFNGISFGU1zWisG9NFBbYmJeVEU2YODBNTNFOz0+CQm59iYlIVVWNcBjQlRAgSJFCBNAgODAAaRHBQgPHqDgEgIYFwsUIFD48IKAgI8CCLBw0KCBNi6vpli4oCGDywswL1iwMMVduJs4C3WZcmTbkSldbBaq4uHJFilKhAhpggWMFn42wWBYgsTWLR88cuUwkSRMCDCEuGSYAWmHjkk3bgQAACLEBxW9b1CSEVZBRYpHOwYMyDqgwIeMEIhYqTY3hIpix0osXEjCw8NoFLJUFARlQsSNCDaYIDFiBAcGDgwYkFHEU7AZEyRU6GBiiGvXQUIocJAixgxwsCx4yGCqJUwLC2b+Cjfmy4yZK2XOnPFFqKJDh24GAgA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/embaressed_smile.gif\n ** module id = 129\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJpeAZdhAKpsAK9/Dbt+BrN4D/l9Fvl6GtaOEsubFfyUD/6eCeWMFvqEFfqLFPmEHPqMGuecGvuTFPyaE/qUHPucGv+kBP+pBv+jC/+tCv+yDuyrEfaiEv2kFP6pFfyhHPetGv6qG+ayHP+1Ef+8Ff2yG/68HfmDIfmMIvqVIvubIvqZL+6oJPqiJPysI+u3JP21I/2yLPujO/6zM/+7Nv+2Of+7PffDHv/CGf/JHvbFIP3AJf/LIv7JLf/SJv/WKP/bL/7WMf/VOP/lNvumRPy9Qf+9Tf++UP3QQP7HWf7dXPrNYfzKbP/bY/zGdvzXc//Vev3ibP3jev/Rg//Zhf/Ujf3en/vhg//kj//lm//iov7rrP/ktP/muv/ruP/v0//y2v/24f/66P///gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAGQALAAAAAAXABcAQAf/gGSCg4RjhmOEiYJTHi0tLjAiAQEikgARFRQUTlBThF8YExMeGqWmGRgKCiEYX4ljVTBXUUA/Prc8OTxZYDZViIJjRhQnJykfJSQ4JMweEw4HBytMRsCvXFNGISFGU1zWisG9NFBbYmJeVEU2YODBNTNFOz0+CQm59iYlIVVWNcBjQlRAgSJFCBNAgODAAaRHBQgPHqDgEgIYFwsUIFD48IKAgI8CCLBw0KCBNi6vpli4oCGDywswL1iwMMVduJs4C3WZcmTbkSldbBaq4uHJFilKhAhpggWMFn42wWBYgsTWLR88cuUwkSRMCDCEuGSYAWmHjkk3bgQAACLEBxW9b1CSEVZBRYpHOwYMyDqgwIeMEIhYqTY3hIpix0osXEjCw8NoFLJUFARlQsSNCDaYIDFiBAcGDgwYkFHEU7AZEyRU6GBiiGvXQUIocJAixgxwsCx4yGCqJUwLC2b+Cjfmy4yZK2XOnPFFqKJDh24GAgA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/embarrassed_smile.gif\n ** module id = 130\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEQElEQVRIx6WVTWhcVRiGn+/MJDNJ0zTJTNuxDdYfaGhTozE/2FiKKPjThQ3qRlvFulKQilLFlS7qwp2/UMGFggE3LhqhagUXamOQmbQRm0rEWkmmadK5k0yTmczcmbnnc3Fv0qSmWvDAy+FyOc85vOc93yeTmQWuN1rjDY1AH9ADdAcCSAVKAj+lnfz8WuvlevDWeMN+1H7E9HcJnCQ4Scgm/Z+xHogHSjwwjZjn005+8D/hrfGGZuB95n8/yNAhqKlC6/0Q64UNu0EErozC7AhMfgvlCtz7CTRuHwAOp5383JpwH6yj/Pbezfx6VL2OQ8LGXqT4C1KeQEp/gAKRdqjbBS2PQnYIhl9Vdr0u7HhpAuSupQ2uhX/GuXcO6p8f4HU8p0ZmxBR/BM8FT8Fa8OzVmVpofQ2aH4ShA7DlMdj58kDayT+9Ct4ab9jP/PhxTvRqpe1xQqELYmpnQNWXtWtuoEWFdXuRjrfhRK/y0PdCY1t/2skPymRmwU+FeuN8vSdhcbH1TRi5iKwDiUAqmQOF7s4GsJbUmQKgdN0eRfMWyoJsP4JsaIGxY/DIqWkk1GYCR/qYOpmgcBavEkLmptBFhYJSXCiTOnWZ1NBlSsUqpaJHajjDyJCDm7NoUdCCYs+8C819UFMDUycTQN8SvIdsCmsjsDCPLXhoQdGiJZex/iUqzOU85nIeKISsITcHWgS7KNh8GW/sY7jpPsimAHrCAbwbZwQtRqDkAaAWNGTZFKshsW09AJs31oIqiW3rCbuGWEMYnfVgUcGC/nUavecp5MJxgO6r8GwKrYZVCyoAYhQiiilW6H/mNv/0lzJglf4Dt6BzYM85WBd0UUBBshewkYSGsilZCQ9Oq1BS/yOiaMWiFYtMZYLEBMmZnEFnBa0KVARcQAW0Cu7MMs8s14pYF1ItCzaALCuI3rWygZajqmikCZwRIdYFkFoFN+Ey1FhfxkPwGD9fIptx/wF3XY/LC4BYCFkIe0h9A5IbYwm+ZEuSWBembhGJ1Pv+hvyFG3e0cGZ4grnZ8qoatLmxjjs6tsLFHBIRv5YkYkguBTteAUiueETVcb7anbBT5/HKUSSimHqLbIkit8ahtmYVXHNl9OwM9lIRdQXT0oxsqsOYKOwbnkbCbauff27sOF/24rl1llpjTNRD1lmQwFfl6qV6Fs0b7KJBq4LZ3GhNddaw72doau9PO/nBJc9JO/lBmtoH6HqTUPSKMbUVS43nB37Zaw+s589qIeRhohXCTQVr3CnDnW9AU/vAUm0319T3w+w8MkHnUaRaMuKVfJC3dmIkXEXCLkjI0PkW7DwyARz+t2bRAnxI7uyTnHoWcqMQMn6TMGhgiWDx7WnuhD2fQtOuz4EX005+9kba3BNo9RgXv4mTHWFZ4EdtSVsfdpDwC2kn/8UN99AVLW8vcDfQFcwAp4GRYP5hZWu7Yfj/HX8DJwVlCbHhKHsAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/embarrassed_smile.png\n ** module id = 131\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPUAAKeopauupq6vrLGysLW2tLa5sbe4tbm5t7q9trq6uLu8uby/uMDAvsbHxcfJw8fIxsjKxMrMx83OzM7Pzc/QzdbX09XW1N3d3N7f3OHi3+Pk4eTk4+Tl4+bn5ebo5enq5+nr6evs6u3t6+7v7O/v7e/v7u/w7vHx7/Ly8vP08vT08vT08/b29ff39vn59/j5+Pv7+/z8+/z8/P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADQALAAAAAAXABcAQAb/QJpwSCwah7PLgDVrOp8vlos1uMxoM0BsC3KUWOAwiwQRbWOAK3HGeMxKoA7nM2ssZMXsVlRBPf8pFWZoVxcLGSUlIyUkjY6PJBkLF0c0LwcAmZkKL5VCMxIJMVAqJiAkMQkTalgCIEx/sU4pIAJNWmcoBQgsLy9TCAUoZ4R6LhoiKCfKKM3MKCEcLoRIstaslbKeRS+qfxQJMNt1DE0vKCQgHiB1DdifFgQvsi8pJCsvBBZqMxsCftec+EIhYMOtFyQ6zAv4ogMJGWn0bDEBwUOEABgxRugAwcSZiLi2YFiAgkWLky1QTCIGcosKQSpisigZU0WICiq2RDwAAoWIFxNAgwoN+hPEgSsyLhjQxLSpJgMX8AQBADs=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/envelope.gif\n ** module id = 132\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAMAAADX9CSSAAABX1BMVEXj6/P////////////////////////////////////////////////////////////////////////////////////8/Pz////9/f3////7+/v4+finqKWrrqaur6yvsK2xsrC1trS2ubG3uLW5ube5ure6uri6vba7u7m7vLm8vbu8v7jAwL7Bwr/Gx8XHyMbHycPIysTIysXKzMfNzszOz83P0M3U1tLV1tTV19LW19Pd3dze3t3e39zh4t/j5OHk5OPk5eLk5ePl5uTm5+Xm6OXn5+Xp6ufp6ujp6+nq6unq6urq6+nr7Ors7Ors7Ovs7evt7evt7uzu7uzu7u3u7+zu7+3v7+3v7+7v8O7x8e/x8fHy8vDy8vHy8vLy8/Lz8/Lz9PL09PL09PP09fT19fT19fX29vX39/b4+Pf5+ff5+fj5+fn6+vn6+/r7+/v8/Pv9/f39/v3+/v7///8PQs4GAAAAHHRSTlMABAoREhUdKThJTlN2eY+2x9bX3t/i5uft8vX7rsZGhwAAASxJREFUKM99zGk7AlEYh/HTXrRq0TK0adFKhTSViFCKwhRtkoom5jDn+18cqZl54375e/7XA8D/ra4j3NqKkFWOLQK37VDxWWn37/3u9/12JccKayTOti5OT86/4hGrYsFycyzKIvrp7vKs+hmNmeVzlhpSQYifzAbU1QMMpgxSzGJ92j1D896H1HDmTuvFAIh0pGuMln28vI1dpE4EtAVnG/FjmLazoAW2zcqIFRzYUWXTBhDBNIoMf19sMAT6cQjrmf6S+5k6hH8OqUQpuYFLlhIU5Bz2PIEJTdOTgKcH+Z4Ld15x3XCO77Wd5mRea7fG+fPB9XDRzeFg4dOjaperdjzFbvKVO7eP/O47ZZ8JqLOhfFNYPpRVA4mF9BLCvKRFAoBMY0TCjBoZ+AZAuYovcxIlbgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/envelope.png\n ** module id = 133\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAK8AAKsEBK8EBKsJCasMDKkPD7cCArIFBboCAr4AALgEBLMKCrQLC7gODrwODqwWFq0ZGa8eHrAhIbAjI7QtLbYyMrc1Nbk8PNAFBdQJCdYODtcODsIREcoaGswbG9kREdsSEtsVFd8XF9cbG9wYGN4ZGdsdHeMbG9QhIdogIN0lJd8nJ+YgIOolJeEpKeQsLO4pKeotLfAvL/IuLu4wMPUyMvM2NvU3N/k3N/g5Of07O/49Pf8+PrxCQr1GRr5ISL9NTcBPT8JVVcNYWMVdXcdhYclpac52ds94eNF9fdOEhNaNjdiSktmVlduZmd2hod+kpOCpqeKtreKvr+i+vu3MzPDW1vfp6fjr6/nv7/vy8vz29v35+f/+/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAF4ALAAAAAAXABcAQAf/gF6Cg4SFhoJdBDI1jI2Oj4wxEF2FXUIHGpkbmxoHRZSVPh47pKQ2Cz8LN6U8Ox1BoF5SASYstre4tyQDVIeEXE0XT7G+Xl1OQBEWRlaUXVVEEwU9TbFdQCs6Ozrc3d2k3ytDXV1IHDDo6err6A5K1kkCIvP0IifzIQJLxIZaFggYAhq4sKWYwYOVyPFTyE/QlR8NXNiggYLAMCYDUNjI8cLBDyyDojAoRdJGg1WtSLVaMMVYBBo4cuCYSbNmzRwxJpC7oGKGz59Ag/pM4YOSlgcmWihdyrTpCAkFETERUOKE1atYT5AIAKVhFyMHPoAY+6Fs2QNHGv7yoSCDW7cGEYCoPYSFAoAEACpkQWhIocFAADs=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/heart.gif\n ** module id = 134\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAADrklEQVRIibWU209URxzHP2d3QQ4uLBKKDyxtgLZy2UWggDdabvESrY0xPpgYkr40DSZ94Q/gsYYXE9NYixF9oGmiNnUTEtJ6QYiQaAORKisaSwnsSRA5LHT3uOCe5fz6AobLikTSb/J7mJnvfL4zk5lRAlNh/i85ljfcGU4n8C1QAZQBOjAA+DTduLPMdwL4CtgLZAJ9wD3gJ003gm+AgakwgakwIrJLLOv589ZWuXv0qPyWnS2dZWXyoLFRZp88ERH5UUS2i8jP0/390tfQIL68PLnqcsntujp5dv68iGWNi8i+JeYSuGZuctLsOnRIfk9NlbGCAglXVopeWipDOTly3emUkStXRERiT8+dk+uqKk/z8uTf8nKZ37NHNI9H/khNlTsHDsj8y5cxEfkiMBVGEZFE4K+ugwfzXX4/Zbm5KIqy4uxCkQjdfj8pNTW86umhxuPBmZS0wiMi9I+MEKmooNrnewKU2IDvxq5dy5/r64sLBkhNTqbO6yXa20ud17sGDKAoCp/l5RG+dYuAz1cINNqAmtH2dorcbsSysBYW4lZyQgL7i4tJcjje6sGyKMzKYuzqVYBqB1A8++gRrvR0YrHYBi7Y+kpJSmLm4UMArwNINUMhbNu2ETPNTcMVEcxQCMDpAIZcHk/V7MQE6Vu3bho+YxikeTwAj23AYGZVFePBIDHT3HSNB4NkVlcDDCoi8nF0dnaoY8eOLTu3bMEV5yZsVNORCM8SE/nS7zfsqlpg03Tj78S0tO8rL1xgcGKC8Nzce604FIkwpOvsbmvDrqrNmm5otsXQluzjx3u8Z8/y8MUL5l+/ZsE0N1yR+XkGJycpb2tje21tJ/ADgLL0K7oznC6g51Fz885/zpzBm56OPc6DWq2YZfF4Zob8lhYKmpruA/WabkRWwBcDPgB6/zx9+tPJS5fIT0lhPbwlwnA4zIdNTZS2tAwDn2u6Mb00rqz+z90Zzo/Esvp6T57MCvl85Kpq3AABRiIRMhoa2H35cgDYp+lGYLlnDXwxoNCKRu/dPXIkPdbdjTshYY1nLBol+fBhqm/cCCp2e5WmG8OrPXHhiwG7YuFw1+36+mT7wACZdvubsYmFBWx791J/82bErqr1mm7cj8ewxesE0HTjgSMl5VhtZ2c0WlTEqGkSNE1GTBMpKaGmo8O0q+qJt4HXXfmyHRyTWOyX5xcvqqPt7XzS2EjOqVOvFLv9a003fl1v7jvhiwElwDeAF+gHWjXdePaueRuCv6/+AwnIWKXoN6HyAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/heart.png\n ** module id = 135\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAKYBAa4DA6sGBq4HB6kKCqwICKoPD7MHB7cFBb0HB7AICLIMDLcMDLcNDbgICL4JCa0XF64bG7AiIrg3N7o+PsIJCcUPD8kKCswLC9UNDcATE8IVFcwQEMgWFsoWFsAZGcUeHssbG84cHNEREdsUFN8fH+AZGeIeHuQfH8sjI9ouLuUgIOMnJ+YmJukjI+kmJuMqKuooKOgrK+0pKekvL+0tLfArK/MvL+owMO4yMuU7O+M/P/MwMPQwMPc0NPg2Nvg4OPk6Ovk9Pf8+PrxDQ79LS8RaWuNAQOdKSv9DQ/9FRf9KSvxMTOZWVuhTU+dfX/xXV/laWshlZcpra81zc810dM95edB6etF+fuhoaPplZep0dP11df14eNiRkdiSktmVldubm/2Zmf2bm/6dnd+lpeGsrP6hof6np+OxseSysua4uP67u+zLy+7Pz/DV1fHZ2fXj4/bl5fjs7Pz29v35+f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAHcALAAAAAAXABcAQAf/gHeCg4SFhoJ2XkUFPFpRQD+RPz6UPj0/PANEX3aGdnJgUhMFBBRVap2Hg3Z0b3B2nbBvbXGphXZXBygrvC0yNDItvSgWFHWqyMnKy3d2VQo4Skk5IQMiOUNLQRoUdIRrAy03MzYxGwsCAAILGy8z7y8DZrZ3dUYBIyU7TVlbT0ckHkhww6ygwYMIEx6ykwaCAgUSsLSpImFAAwFWjt36wkAIGTZnujARooSLGDRjoHSYkspOhA41ePSYyeNGzRs4c96I4UFCrDADVrxwpyIFiA8gUqiI4aKpAyr07BhxYOIECxgwZMDQ4QSJCQ4R5KiyU8YAggoYMmS4kCAAkTkFCGHJpaewrrJAADs=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/kiss.gif\n ** module id = 136\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAADsklEQVRIidWVT0xUVxSHv/vmzaMDz4HBgRlwMDRSO40NiIGUNthQYxtLbFnVFWnckEZdGcuiuipr3SAxXWDdNDYYQokrtEhtE5FAqhQwMkmB0nmFUh4dRt4wMG9mbhf8CYzgjkV/yU1u7sn5frkn59wrwvNL7JWUPSPvNVzdLRDw6rmAD3AAIcO00hnxt4DXgBeGaU3sxBCZNQ949QPA16l4/HNrasopVBX34cN/A53Aj8BHwKcvxsdLbMvC5feTHQgMAc2Gaf28Kzzg1Q8BfcbduwcHm5rQLItUOg3Fxbze2MiB06eZvnOHPzs7kbOzuDQNa3WVskuXqGhpsYWqfmKY1r2X4AGvng8MPmluPhRua+O9YJCCggJIp4lEIkzMzRE2TUoLCigtLMSj66DrJBYXeRwKkThyhBM9PUsOl6tyo0xCSrkPaASaQtevV05dvsyJykqcZ8/CwYMwM4N8/hw5NgaRCOTkICoqoKwM4XYjLQvZ28tAXx/amTNUt7WFgG+BdiGl/CbU2vrF7P37LDx4wMlgkOzqamQshpychHQapNws3eZuyxmAnUrR++wZuXV1FJ86RfDixe+FlPKXHwKB48W2zRs+H1mqui15GyIDmGmUSCaZNE1mdJ2GiYkhFbhXc/Pm8f6GBkpyc3Fo2maSnUoxvrDAYjzOaiKBbds4nU6yNI08l4s3PR6cDsemUTKZJByJUHXjBkCPkFIqQNfv7e0Noxcu8E5JCZqyNltCVfnX6SQai5Gw7TW4qqJpGrk5OeQlEkjb3rzJ8Ows3nPnOHb1aj9QJ8LzSwS8ejbw8LcrV6rD165R6fejCLHeTwJF0xCqCqqKTCaRtk06kVgLaxrplRWmo1Fi5eWc7Ov7R6jqMcO0/traij6kHHjU2FhqdXUR9HhQnE6EywWqulZXKUFRUPLycPj9yHic1ZERTMtiOiuLj58+TbmKij40TOsn2DL+hmnNBbx6/bu3bvU/hrxfOzooc7txC4FaWorD50PJz0fRdVLz89jT06yMjRGOxYgWFvJBdzeuoqKvNsDbhmhDAa/+NvDdH7dvVwydP8++5WVyVJVsRSFbUZCAlUphpVJEk0ncdXXUdnTYWfv3f2mYVutW1kvwdQMNaInPzDSHu7uVyPAwiyMjREdHAfBUVeGtqaGwtpbi+npDOByfGaY1kMnZEb7FJAi8DxwFjiJluZRSEYoyCDxaXw8N01reKf+V8B3MBCAyn9/dtOt7vpMM05JkDO2r9P/95vYU/h91I584SIOKSwAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/kiss.png\n ** module id = 137\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJdgAJplCJ5qEKl7LK2CN9aIAduOA9yNAdiPDtuRD9mQEduVFN2XG+eWA+iYBfSgBf+pB/CiCPGlC/+tCv+zD/+0D+yqEPe1FPyzEP+3Efy3E/+5E/+9F/+/GN2bIdyaJ96fMd6gM9+hNt+jOeKjJe22Kfi4Je+1Nv/CGv/EG/jBHP/FHP/IH/bBIv/KIP/PI//NJv/KLf/SJv/TKv/UL//INv/XP7iTUbqVVb6bX+awQ+OuUcOjbMSlb8iqd8mseua1Yea4Zue5aP/YQf/ZRv/aTP/cV/rSaPzaaPTSef/ic//kf8+1idO8k9jDn+vGhOzIie3Lj/TVhO7OlvfcmP3lkv/pk/7lmPvkndvIpvDToPLZreLTuePVu/TfuvzrtOfbxendyfbkxvfozu7l1fnt2f711v712/Ls4PXv5vry4/744//55fby6v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAG8ALAAAAAAXABcAQAfxgG+Cg4NuhoaEiYRuH0cxKyssLC4uLy4qH26KiYeHaGSam4RlDGZGMqioNkgJZaKFOxEUsxQVEjuhr4U9AgQ5Ybm6b25PHlRnbF9JC0/Bim4iWEOp1DMtIs6jCiYc3d0dKBcIrsJqBg8Q6Q8HYsKFWTg/TmBt2e73m25jQSAIIEFj7HGComONlSI0iCipQgKKwGFCpCyhlmpIiSAC3SC4AuOFR48wUMFAkBHIiRooUKRQCWmFBSAP3Ww5gCGDzQ0bNBzY8lCQmykNJkCYQNRBlJ6FvIwowDSEFqSFuPi4MSAAACZQC6Xp0oQHVnyFOr0KBAA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/lightbulb.gif\n ** module id = 138\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAADXklEQVRIiaWUXWhbZRjHf6dp03zaJc3oTppJJzYuw0qLit2E0U1ULFhlQq/UKy8UB+qNDhHBG0E3GHolflB6JXrjjZvMMafTopu1HdjZj2iD5mTpx8lJlp3TnM/Ei4atxHyBz815z/O+/9/zfx/e9xXSmzdpFrFI4GHgceAocD+wAJwDvpZk9ZdmWqERPBYJ+IAP9PX5F/JXP0LP/oqZT+IODeIRHyQ0/CKevpGPgVckWdXbhscigTBUfpJ/fjdRvPYZ0SNv0C0+gtDpwynOo2dnyP74CbtGXiVy8M3fQRiTZFWp5XQ02NGp3OWTCWvjIvueu4QnaCFkXoPkOC7lQ/y7TO56+m1Kf02Tu3xyCDjVlvNYJDBmKisXpS+Psu/58wjZd2Br/r/KLhHHlSD1zefc+ewV3OH4EUlWv2/lfFKZPU3f4ZcQ8l/UBwNYWVzlZcKDUZTZ0wCTtUvqwUf0tTm6e0RQL9UH3yqwjtdvoK/NAYzUTnfWkQwZyhIuwQItA9jbWUEAAUC4Pa7YdAc6MJQlgKF24JlOvxi3c1fpcrrB0XdAq0V2FLM0i06/CJCpBdVry6yv/xBaeg7KXjAtMG2wql/TAsu+lVfXVXz9hwBm24Ff6B09wUYyiVHIg12uQu0q9PZYz5fIZcr0jp4AuNAOfNodji+IT3xK+o9VnC2jrmunZCEt5xHHp3CH4wvAdEu4JKsOcDwYP1bxDEyg5vWatmy71hQdz8AEwfgxgJerupbOkWT1B+Ar/8CjlFSrpi3b/6WbJr69hwHOSnL9M9vo+gOcC9z9JFtmB5pmg1MG2wHbQSuaqJqNV3wI4HwjQDP4b13BGH1PnWHT9QCLKZPFlMFiymSD+4g8NoW3/yBAw2e32ZPrBlJAdGe+UimjKmlsQyMUPWACd0iyatRj1LtEAEiyasYiASW98G30+uJ3FNZXuLGW5MbGnziWzujk+4SiB640AjeFV+MfQ8vdW9xcJSQmGBieoGdPnJ6+QbzB3QbwVjNxw7YAxCKBBDCzVciGlOvXKGSXKGSXCYT3Mjz+elaS1WhDcSvnkqwuxiIBaf7se6GVmWl69txDSNxPdP8YwJlm2pbOq+6fqZSdKaHDFQQc4G9gBjguyWrxf8GrBXYDvcCqJKtmS0E1/gU8zp237x4lrgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/lightbulb.png\n ** module id = 139\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJdgAK1zBK10Ba16Cq9/Dbl/B7qCCcmQD8uZFMucFsydFdKhF9WlF+ehDOekD/+iA/+jA/+lA/+mBf+pB/+jCP+lC/+nDv+qCP+rCP+sC/+vC/+zDv+zD/+0D+atF/+pEv+qGv+rG/2tHeaxGeW0HP+3Eve6F/+5E/+7FP+6Ff+9Fv+2G/e/G/+/GP+9Hee9Iue+I/6yIf60If2yLP+zM/+0NP67Mf+7Nv+1OP+6Pf29P/fBHPfGH//DGv/EG/vHH/3FHv/JH+fAJe/IJ//LIf/OI//PJv/RJf/TJ/7XKf/aLf/dL/7EMv3RN/nbMfzcMf/VOPrTPv/hM+e3Q/26Qf+9Tv++UOG9aP7GSv3WROnHVPzBUP7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3jev/QgP/Th//Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/gof/jovzsqf/qrv/js//ktf/muv/ruP/v0//v1P/x2P/23f/34//66P/++//+/CH5BAEAAIAALAAAAAAXABcAQAj/AAEJHEjwj8E/BBMKFFOiiMMiPAAA2MFCogkVKk6MEVOGYJ4KHUqU4MBhgMQBGTJguCDCQp6Ef9TIaKNlgQESR4r8KHDgip4caRAK/GOlRI+jPVr0wJgixYkSG6La6FJFKMw6ZaqECFGlDB2rCofqwXEjzJw+fe6coYJDD9ihOJhkQSJlSZKcRPIeUULkDRwcQv+A6BEkCBAgRAgQAPKDgIEdT0usqANCKB0JKlCoaHrCQYAADaJuSLlFBB2YaChM0KAhhRIlJSZIeCDBzNuwuHMXtGPGSggRVszYuV1QzQcwcshwgQLFi5s9cUCoua3HwpcoCoQ4SeKQyJMhDKbwkQGhh2CdDE2MHDFiREGCwggQJFXhYk8OO0OrqChcmITEESNI5IFTJ2DBRlWACNaDDz4AcdQSSiz1WgoicbDCGpUJVMYGS2HkoVMiiZaBDlR0JJAfNWhwwlMrCiBRAKNlcEEMM9TgR0FoSKCBaDAQMMALF0wwQQQQoEHcH3jQAIEEElzA5AMP0IAHcQoddBBuAQEAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/omg_smile.gif\n ** module id = 140\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEKUlEQVRIiaWVW2gcVRzGf2eym0vdpsnuNt10k8YgWmrSi7mBSZViBVMfbBBBii3YPkUQxYIiPkilb76IF6hvBgz44oNB0FZQUNstNpOaWNOSUE1NNslmO5tN9pJkd2fO8WFmNpsmVcED3wz/ufzON9+ci5i5m+Z+rSHoqwa6gU6gwxGA7mgYiESNTGqr98X94A1B33GU/JTY9yGMYTCGITFs3wx0QtBR6GgMofVHjczQv8Ibgr5a4CNSkye5chq8JjQ8BYEu2PE4CAHLo7A4AjPfQb4APZ9B9SODwGtRI5PcEm6D1Si3PtzDjfPKOnBasLMLsTqGyE8j1m6DAipaoKoV/M9B4gpcfVPR+rZg3+vTIA65HdwL/5ybH5xUUx9j7T+jFufGxMLkz8T+StHSFmB3YxVYEjNn8sPFGDW1lYT2nyDceZayX87A7ufh0TcGo0bm1AZ4Q9B3nNTEV3zTpcy2F1H5CfHbtVuEH6rBH/bhNdcQawWQEqTCqq0hbaww98cSfn8roSMD8HWH4pkfBdV7+6JGZkjM3E3bo0JZE3x7OKR25FF+P5o1A9U+ME3IFSCfB0sW4WgaVJZDZQUkU1D/DlgVMH4Bjl2OIcr2ak4i3cxdCrF6A7Xdi5abBsuC5DKksugRA11PFcH6WBb9ehqSaZiNQ3oFJs/DzifA64W5SyGg2+PAO0nosK0czUwAsvgf1nIW+pU4AK0PN9jwq4ZdN++i0gMoBdYKanoAUX8EEjqEn+10nXdgjECFFyzT/nxHyUXTHiEKksuSZEqu12mcr3GiSuqoB5rBGAHo8BThCR3qPRJLagjnqoJddeWEmrYDsGunF6Rar4MeyK2BpUBKROomVlNIlSV0UQq3m+vCbUqhWRZ9p5ptt7NxUIq+lx60o7gzbzt2nYsC5BaKr7ux6ATaYSWnlUZSVDQO0YX1+s48TM2XRGJLeevAGBEE2gH0jfBcoQRqbe6kVLK0VmBJlFaNWBrHhbuxDBNoh1t58FklsTgHBbF4gcivWXvcHqgk5C+zO1DKjkSB8tSiLV6DfWcBhl3nEcK9MbYfgMzqFk4tImOrxBMm8YRJ5EZuk3vlrUMs30ZU7YZwbwyIaABRI5NCePrpGYCsBQVTborGW/Lvy70g1+8pKVAFU2rpKegZAOHpjxqZlOucqJEZoqZlkIPnYDmrUTBlqbPup+upa/RR1+ij+2hoQ/bCzEstO6dx8F2oaRl01/bNS66So4y/v4fR96BC2Y4V4NsGTSH7wT9nYTlj521agBcOnYOWt6YR2tZLrtOBH/iEpd9PcPllWBqFMs3eJDSUPdWlQNrzgNrH4PAA1LR+AbwaNTKLLuuftrkXUOYFZi8GSYxQFNhDzVW410B4XokamS/vZdwXXowJngTagHbnDHAdGHHOP5Vubf8Z/n/b36v9YYfjntYDAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/omg_smile.png\n ** module id = 141\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAAJdgAJdhAKFoAqRtA6ZvBK9/Dbt/B79/BrV8CNOPCM6SDN6dDcuaFMucFs+fF+KdC/+jAv+lA/+jB/+nBv+oBf+qB/+lC/+nDvKsD/+qCP+sC/+wDP+xDf+zD/+0D+CiEOSsF/+pEv+qF/+qGv+rG/2tHea0G+a3Hf+3Ef+4E/+6FP+9Fv+2G/e7GP+/GP+9Hf6yIf60If2yLP+zM/+0NP67Mf+7Nv+1OP+6Pf29P/fCHffEHv/AGP/DGv/EG/3DHP/FHP/IHv/JH/fIIf3IIP/KIP/OI//JJf/PJv/QJP/TJv/TJ//WKP/XKvraL//cL//dL/7EMv3RN//VOP/hM/26Qf+9Tv++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Rgf/Th//Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/lm//gof/jovzsqf/qrv/js//ktfzltv/muv/ruP/v0//v1P/x2P/23f/34v/66P/++//+/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAIUALAAAAAAXABcAQAj/AAsJHEiQkEFCBBMKPIMCiZGHJwIAMGECAAAQLlakIDMGDUE/FjakQJFCSBMqVJgE2ZAhQwkLfhISahMDTpknSpYseRjkyJxAONggFEjoCooeSJHy4LFChYqRHjxwqOHFylCZedBYIUHCCho8VxUS/XPDhpg7ggTxUVPlxp+wRG9EyaJzSYMGRoowYOCjhws5dG4MJTSiB5AgQIoAgQIF6ZMnTlF0eKFnxFA8E1Y0PUHAwAIMGBYcGABCg4YtI/LIXGOhgmnTFWJHgCAhDVyxuHMX3JPmCokSV9LsuV2wTYgwdsx0mTLlSxxAdUa0uf3nAhgtTJgoSeKwSJC+XAKJlvhDMI8GKUiQJBkSIMAOHe1bZHwBCMceolZWBPFexEiBAkUQ8d8PkWHxhlWFEGYYEED00Jdfmj010gYsuGGZQGhskNEKCnwQ4UgoPJAABxrkUIVHRNEgUgo9OOEAAgIIgAADTqygAQwy0DBIQWtMsMEGHmzAAYkaxFbBBBKsQRwhfcwAwQQTZEDBbBDM0AdxCh10EG4BAQA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/regular_smile.gif\n ** module id = 142\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEA0lEQVRIiaWVX2hbdRTHP79fm9bMrH/TLXNxEx0O21rc2g42pwz3MN2DGzIQtYrzSUEqwhyCb1b24Iv4B+abgw188WFDmE4UdHYrI7euY+20ZVCaZm233CxZkzVJc+/v+HBv2qS0OPDAl5Oby+9zzu/8zrk/NZ3MspZFw6EGYA/QC/T4ArB8xYDLCTs3v9p6tRY8Gg4dQsy3zP0WwY6BHYNUzHvZ2gthX5H9cyj9bsLOnftPeDQcaga+Yn6ij0tHIeBA9AVo3QWNu0EpuDcCd4dh+hdYLMGz30HDk2eA/oSdS68K98Aywt9fbuH6gLhdRxVtu1D5a6jFOKpwEwSo74BgJ7S8DKlLMPSR0Pmx4qkP4qCeKQdYCT/NjS/6ZPJr3KffEa1uK53/E9wiuALGgGuWPXUQPQ4tB2DwdXjkFWj/8EzCzr1ZBY+GQ4eYHz/L+V3i7HyVGrmplJkDEU/GrB7AGGjaD9tOwI89woE/FA3bDyfs3Dk1ncx6XSHuOD/tjUjjItLSgnbioAABK5YBgZ4dITAG6+p9QOhpr18Ouu1TcOth7CS8NDiHqtmu/YrsYeZChPx1ZH0AXYwvZVZYKGEN3sG6dIdC3qGQd7GGklhDNoW8C8bfzcQAtD0HgQDMXIgAe8rwXlIWrKtDOykwjrdl15BOO94hCqQzLumMu/ycFQ8uAs4CEj8Fm/ZBygLorfXhPdjDUB8A16lqzY0b6ohsXe/9bqsDkYrnABSLXuZGIG0hkSOoybMAPcvwlAWbag2u0Sj/XwHtuhx+63Ev29kkGOHwG4957+NzVQet5m/gbo1ITcpSlXDPjH/6ZRPx/EzS7xi/BNO3l2td6VUJireXlpdrbtHaDQtFXa71A8lUSwIbwB5WtHYDWNXwYqliscvVa1mmpvJrgqdnFhmdKHhlcQ2iG1CZMVbCY7R2Q34RXNeXYdMTTVwezvHrxXtMThXIZh2yWYepRJHfr9zn4kiB5kcbvcwFpLYZdW+8DI9VDJEzzvndEZx/IFjvhVwXxImEGR2cZXZynmSyCALhcB0bt4To2reZQHwG0jmkPoLwMFo/BAeH5lC126vHPzN2lvO90Fhn0FojAlpBuAlCQQgGvam9n4fcAtyyoeQgopHaVqMLdzUHr0BTx/L4ly0aDp1m7PM+rn0CoaBBK+0NjFTLrPCuMbii2XkCOo4vfbg01dZP+7E4XQMwX9Lki0v1X7NbSg6YGs2Oz6D9WBzoL8NWuyxagG/IjL7G4NuQGYEa7V0SGvEzVRh/R807YO8paOr8Hng/YefurgmvCHIEcU5y6+cwqWGWBF43lLX5RRtV+17Czv2wkrEm3A/QDDwP7AS6fQ/wFzDs+4uVV9sDw/+v/Qs09mw0UGoXIwAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/regular_smile.png\n ** module id = 143\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJdgAJdhAKFoAqFpAqRqAq9/DbV5BbZ8BruFDMyMCc+SDNOTC8uaFMudFuSbCd6vG/+iAv+jA/+jB/+nBv+qB/+lCf+nDv+rCf+sCf+vC/+vDPqxDv+yDv+zD/+0D+emEOauF/+pEv+qGv+rG/2tHeayGua3Hf+3Ev+6E/u6Fv+7Ff+/F/+2G/e7GP+/GP+9HeC3IeK6Iv60If2yLP+zM/67Mf+7Nv+1OP+2Ov29P/+8P/fCHffEHv/DGv/EG/3DHP/GHv/IH/fIIf/MIf/NIv/JJf/PJvLNKv/QJP/VKP/cL/7EMv3RN//UOP+9Tf++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Rgf/Shf/Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/lm//gof/jovzsqf/qrv/js//ktfzltv/muv/ruP/v0//v1P/x2P/23f/34//66P/++////gAAAAAAAAAAACH5BAEAAH0ALAAAAAAXABcAQAf/gH2Cg4N8hnyEiYJgJ0REQ0QmAAAlJZMgLioqXFtfhHYVHI1AHKUcGRgrQBckFnWJfGQyaF1KSUlIj0FFa3k2ZYiCfE4nPcY9Li4rKyooJycepTVWTsGwcGBOIiJOYHB7irB3ODZab3p6dGI6OHfWhTdLUUi4DQ2PDAzGLmpsN8F8RPQAQpCgEiXGDjY70YGFHBHB4EzQpOIDAQQPjhx5gGCAA1RTRMCBFaYCBVQYMFygwBKChDDvwsmcCWtOmCcjRjwJMycmrDIhsrjxUqVJkytp8LQRAUzRHQtYpNzClWsIwR5U8oi4QyjOBSZGkCAREiAAjx1lWzB7gUdHHGFOa1YEGUKXSIECVu/+0HQCyplqfQL28OEDyDFkzBYyZGEG4iINyZalUHBAgAADCTaYyqEDzKA9NDigQKEAhpIhyoAkibEAA4kZN8AVGjPBVCmUGChMmABhjM/AdWhE2K07QgQINOr8VnTo0MxAADs=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/sad_smile.gif\n ** module id = 144\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEIklEQVRIia2VTWxUVRSAv3s70wEc+jMzLQ9pwCiKtBUsbUlAVKILlAUQQ2JUNOJKE4PRoHFljBi3xp8Ed5LYxMS4gJigmBiiFhvtVDBQoISITocybd90ptNp5++9e1y8184US2ThTU7Ou3nJd/7PVaOTMyx12mLhBmA70Av0+AIQ92UQ+CVp53NLAgC1FLwtFt6LmM9I/WBhD4I9COlB72e0F2K+WI+nUPrlpJ0/8Z/wtli4GfiY3JUDnDkIQQfaHoPoVmjcBkrB9DmYGoLR76FcgYc+h4b7+oBDSTufWRLugeUclz5ay/kj4m46qGjZiir8gSonUMWrIECoA5Z3QmQPpM/AwJtC59uKja8lQD1Ya6AW/gUXPzwg1z7BfeAl0Wpc6cLP4JbAFTAGXFPV1EPbWxDZBf3Pwp1PQfvrfUk7//wieFssvJfcyHFObhVny9PUyVWlTApEPDFmaQPGQNPjsP4D+KZH2PWjomHDvvkaKBFpQNwRvt1hSWMZiUTQTgIUIBAfzIJAT1cYjCF+dhYQetpDVaPr3wM3BMNH4cn+FKpuQ9LO5zSwnbFTFoXzyMogupRY8Kw4VyHeP0H8zATFgkOx4BIfmCQ+YFMsuGD8aK4cgZaHIRiEsVOW38JooJd0HFbUo500GMcL2TVkMo5XRIFM1iWTdav3GfHgIuDMIYljsHonpOP4s0EA6MEeglAQXGdRn65qrcdat9L7bqkHkZp7EEolz3MjkIkj1n7UtePgD5wHT8dhdcDgGo3yyQLaddn3wt2etzcmwQj7nrvL+59ILSq0yl3EXWdJXTquauHeMX7154+Ip8cm/Y7xUzA6Xs11rVYVKI0vilwDcaLdMFfS87m+LTGLRYKtYA8pot3g7R4CPnwPf52GZaFqTgQcR7hweY4bE2Um015xY811rIoG2HRvkKBiwXvRDajsMLQ+ugg+SLQbLpUh7C6ElJqocHpghhZrOff3tLJjbQMI2Ilp/hzO8tWpPDu7QqyJas+XQDN66jfY+AZ4G3N+iJwRTm6zcC7Dcs/7s1fKRNbHWHdPGLIzMFv00rFiGTStZDRZYHpknE7LICEL4Q60Xga7B1KowIaknc9Vxz87fJyTvdBYb9BaY0W9rWdn/TVAtahiINIIoXokMYkEokYXpzS7f4WmjoXx1wBJO3+Cpo4+Nr8L07OaimO4PgETmZoiumBcT7sGxqfg7xsop2z07Jhm8zvQ1NFXu9t1Teccov1wgk1HIFfRFEpV0K26peKAqdN0vQ/thxPAodpWvPmxiACfkr3wDP0vQvYc1GnvkdAIIuAahfHnoLkLdhyDps4vgVeTdn7qlvAaI/sR5yjXv4uRHmJBAKLdVVnzhI0KvJK081//C3IruG+gGXgE2AJ0+xrgd2DI1z/d/LTdFvz/OP8AgMFicWLPrRIAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/sad_smile.png\n ** module id = 145\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAADI4Nzk7NT4/Njk+OD4/ODs/PTtAOD9DOUBCN0NFN0VENk9LNE9NNUJFOEVGOkNFPFFNNHReK3loLm1kM29gOnJlMHhtM3p0N3ZxOHZyO1hWQFpWQVhYQlpZQ2BfRWBgRmFiSGNjSGRnS2FkTGVpTGltT3dvSGRpVmluVHh5dKpsALt+Bod5MYR4M76BB7WUJ9OXDuucEuidGv+iA/+jA/+lA/+jB/+mBf+oBv+jCP+lC/asDf+qCP+uC/+vC/+xDeKjEOypEP+pEv+qGv+rG/2tHf+3Ev+5E/+7Ff+9FuS7Juu5IP6yIf60If2yLOSlOOinOP+zM/+0NP+7Nv+2Ov+8P/rAG//BGf/DGvjBHv/EHP/FHP/JH+vBI+7CI+jDKerKL+3KLu3ML//KIP/NIv/JJf/RJf/TJ//ZL//aLv3DPu/XNe/XNvHXNfHYNf/eMf/UOP/gMv/jNf/mN46AXJSGVZSGVpSMWZySY5+YYJ+bYZmbZaCbYqafaKGab6KhZqKiZ6KjaLurZ7utaruybaKkc/26Qf+9Tv++UMmwZcm0aMi1asi4bMm6bMi+cPzBUOnRU/7dXMnEdcnFdcnHd8jIefzOZP/bY/zXc//XeP3ibP3jev/Rgf/Th//Zhf/Uif/Vjv/Wj/vhg//kj//lm//jovzsqf/qrv/js//ktf/muv/ruP/v1P/x2P/23f/34v/66P/++//+/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAALMALAAAAAAXABcAQAj/AGcJHEiwoMGBqSKQqNQHUKUSE168qECC0p8+lFBQQDUwlpQfSI4c6bJChUkVLrz44MHEiRRZBWWFEoLJ1KZIcOBcGuWq1BBQMAfKGiJGAYc7dzokAHMlSRgFGurY2YAAEpGgQllJoXHjBg4cM2zQiMIK68FZslR1QkSECKJOqswWbBXDhIMGFr6cMUNmzBIJCh6kkNFKKKIGfBzhweNIz4AsVhLkYbR4kZ8Dh4Jy+rEljRw5abAkEWkkyZk5cs6oMcSJoKxPNX7I7tHDh20eOG7MmPFJrkFZwIOfHY5WOHGhrahMyXQKFqxVngxRaeUbLagmojShObOXDBkuZUi9rKoC1DUUAiP27BFhQEnfJQJAqD9R4AlWTggCEaJDh1AgAAEYYMAfg/AnSCEEdCLQUBd80AglkzQSAgZYXHGBB4pMIkkiIGQwBEyyIJKEGyxAwEALa4iGxBVtlLhAC2xYkplAqOCQxI1IwBDEEUb0uAMQP9D2yBAcDcSKDj/0qEUcczQ5xxtJ8MBDETqw8lsnOuBg20o+eIVDDTl0Ul1HqHCCyBBDHJIJKrEcFBAAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/shades_smile.gif\n ** module id = 146\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEe0lEQVRIx7WVe0yVZRzHmQZeSEJMLenipdKy8MLlHMS4CmNTRJcxca5AINFBlJcEG02X5VpNt0YrxWYeAgSE5GbAKZLQBDKLQEmbLbkIieZcm5Vy3k+/533P0YPKZm398d3e93m/v8/zPL/f8/xel67+P1z+Lw35AfAQRYuyReWiHrvK7WPqm8e/hktQLJqtl/N18ONbUL8ESrwNqWc1pr4pj3jvCi7GsaI8rpyGQ/PAGgAdmXChDP4WzrU+6K+B0wL/IsTwKK+Kkdgh4QZYO8epnVDkpQ10rGfgYhG2rs1oZ1fCSTO0i35Ogm7xXD0LXRYonqjpMSr2lgmc4Xmc3IFWNYXr597UbJ1pssJZcGoGtE2H1sfhxDQ4PgWaHxXJe08u/NkpO5yPilWM2+B6jq/8RP8eL21TRjSRUfOIiDSRme5LX+OTkmMBff8YfDcVWibTXzuZrFQfIhcEiG8+mVkb6Pt4kqYYzjUwToU20NtXaCY4xExi8iJ27U5hV24KyasXEhQcQLf1CQP87WT6aqeKL4DEVdHiS9a9yWviCAp5lu58SZuwHKfIRT9S3dVseGEmKWsW0dSURcHeVF1NTZmsSY8lPdmX6g9mUJ0znXUpsw3fscybvm/E9/IyMhKkwMJSTAc8m9athIabsFhWY61IZ8eWlbqsFWlY8lKZazYRGOQvK/YjKNSMZd9LWEvX3vSVrMby6XrmhwaiWIrpgJfz5WLCI818kruKpvpX2PN+ki71vDc3kcBgM381PMK1w96EiW/vRwk01aTd9FWvZd/uDEIiBC4sxXTAeyiexOYNJhISomi2ptN8bJOhujSSkqJ57VXJZeMkaHjQ8L0YSXNVKs1HN9J8RHQwhaRE8a0LQrEUcxD80vFZ2oKoAJYvDyfn3Xhy3otnRXwEYQtMXGiRI3n4AfhqIpdafNB9caHkvB0nep4VcWGERZj4rfW52+CSlhi51hPkJPmz/XVfli72JzbGn22Zvlzu8IejD8l2J8itHK9PckXGtmfNYWmMH7EL/di2cbb4Ahg4kYzOckpLNj9sgYP3GpAzz8jN8zd0xkfS4W1A6+6H2nHwuZcxUcdM6LT7Tj6FrTEYW10YOsupoNF0VUKhmwFxyDqetg89uFjkaUBrBHpIOkS1J1cPjKEzz9NYUJk7lLoz0LAErURSolhOR1Eu0fVeqvwMswLpsHH0N0zD+oYbxWkug1S/dQS/fy2toHS0dMpRaBVTsFU8jc5QLMclunH9L7dD/igx3GdzrJAjkqZf50p7NQ3WL3NkZ5Ka4pFoRaOxlT5sI192oBjO139Q42p/Rya4R8oxxkal/CsqPNSzsaPPJLhMVnpAFlAyUjrnCNjvpvw2LMPRY+/UuG60XM12jrbtYpHg4hF2oLux/Vuhha7iGyaSdxWjYodqufYJpGoUcLkNKn0lUFZU4GoUu8hNY7+rRv5wY9wyzPAor4qR2Lv9zS2TwvTrlVdHS51ddTmU1LMaU9+UR7z/5Qc9Vi80qE5UJTpvV5V9LPZOvzZn/QMPiOVRvbntLAAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/shades_smile.png\n ** module id = 147\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAAJdgAK9/DdaKA9eNBNiPBNiPBd2SBd6UBdyVB9mTCNyYCsuaFMudFuefCeafCt+gDv+iA/+kA/+lBP+nBf+jCP+lCf+nDvCqDv+sC/+uC/+xDf+0D+OkEeauF++rEP+pEv+qF/+qGv+rG/2tHea0G+a3HemzGey9H/e2FPi2E/+2Ef+6E/+6Ff+8Ff+2G/e7GP69Gf+9HduZJ9ycLd2hOP60If+4IP2yLP+0NP67Mf+7Nv+1OP+2Ov29P/+8P/fCHffEHv/CGf/EG/3DHP/FHP/IHvHHJffIIf/KIP/MIf/JJf/PJv/RJf/TJvnTKv/WKf7XK//aLf/ZL//dL/7EMv3RN//VOP/hM/26Qf+9TuOvVuOxWeSzXv++UOa6bf7GSv7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jeuvIi//Rgf/Shf/Th//Zhf/Uif/Vjv/Wj+zLkO7Pmvzen/7envvhg//kj//lm/DWqP/gof/jovzsqf/qrv/js//ktfzltvTgvv/muv/ruPXiwffoz//v0/jr1f/v1P/x2P/x2f/13v/34//55/v16vz37f358//++////gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAJYALAAAAAAXABcAQAj/AC0JHDiwksFKBBMKdKNiSZKHJQAAIEFCYgcYLVaoSeOG4KIKG4YksHPwIBcOMEZYSJSw0pwaedZIedKEicMiSvY88jEHocBKWVQEGYrCgwMDAmRsaUPoEAINOchk8dkykJssIUJkcROIksKWjXjoQAMIEiRDcXzwaES14A4qYJjIZcDg4YIFQoK02NNnh89KIYQQKVJk8JQpQ6NEybhChY1BIXwGmtCCBQFFJUva4ZAhTIhALeFQ0BDlhIICAx4YgSKhwpu2X2PLblnoTRcRIrq8KQS7JZ0PZ/6wGWPFShk9jvyA6KmQkQUzYJ7QbPIQSWEhYh6BYERQEIYqS5YwjjkiEcgPiS/0xnDkQ9DPLC2QyEeyJEAAJETsD2HR+AueqZYAFgQRBA4RhBB5pXBBAwcI0IAGLtwR2UIawBCEATNwUcchk5SEiAIZ9IBFRwJRgoMGLJjgRWYHzQDECDfs4FVBckigghMJaHFIJJLwQYMCT0gQgRy9BbgIDhIEEcUVVzzBAgQ4JFKkQizKFhAAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/teeth_smile.gif\n ** module id = 148\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEZklEQVRIia2VXYjUVRTAf/e/87G7zsy687E7usMksiiuJuvsKqT2QT64vaiFEJV92EMYRJGQRE+lUNBLlIGCDy1kRNCDlaQGEdauQjObE5vKqrQ5juvo/mdnnZnd/3z8//f28J/9mBithw4czr1c+J1z7rnnXHFjskAjiQQ9PmAzsBHorylAoqZx4FxaL+YbAgDRCB4Jenai5FEyP4bR46DHIRu3DwMbIVjT8LYMQtuX1ovf/Cs8EvS0A5+Qv7KH4b3gNCHyOAQ2QdtDIATcTcLUCNz4ASpV2PIZ+FYdB15P68VcQ7gNVkkufxxl9JCy1u8VhDYhjN8RlRSidA0U4F4LLevAvwOyw3D+LcW6twVr3kiB6F3sYDH8cy59tEeNH8Z68GWlidtCM34BqwyWAinBkgsWF0QOgH87DD0Ly5+CnjePp/Xi83XwSNCzk/zYCb7fpMzY0zSpa0LIDChlq5SNHUgJS7dB9/vwXb9i+1mBb/WuuRoIpZQPZY1xamtYtVVQfj+amQIBKEjEp0FB/wYPSEniwgyg6O9xLzjtPgiWGy4egSeGMoim1Wm9mNeAzUycCWOMorxOtHJqPrLSbJXE0B0Sw3coGSYlwyJxfpLEeZ2SYYGsZXPlEIQeBqcTJs6Ea08YDdhINgGtLjQzC9K0U7YkuZxpF1FBbtoiN20t7AvKhisF5iwqNQjLHoNsglpv4AD60UfA7QTLrHunnR0uwg947XXIBUot2juhXLYjlwpyCVR4N2L8BNQazoZnE7DMIbGkhqiRFWiWxa4XVtrR3poEqdj13Ar7PJWpK7TIX8J6IKyasgmxGG6LrFV/TpSy7cSkvbYUZaNKKXkdY6ZKqWhSLln4gy5CQTeIKpRv12XuABIE+nYwO6SxRJvnlmcqlGZMjGKF0kyV0qzE2dZNczhGczRGKNwHQpA5OUBISlRzB+gjgkAf2LNnEfyvn6DZDcD4aBbZupqWzhjNK2K0dcZo7tyA5vLURVa6nQRNA0uiNB9i+iJ0PFoHjxPog8sV8FgAVC3Fip1f4Q72cD8xbsVxe5tBVVCOdrSpX2HNfrAnJhpwjq6BDN71UDTAkrR3h5i6cPS+YKUspkYO0x71oZwdiLvXEC3LoWsgA5wD0NJ6MY9w7GPLIMxYUDWlP+CmMHaMXPLYPcE3T76Iw5mitVpBVU2pFcZhyyAIx765Gd+0/8A75GcrYz5/pBvNuZ7rp4WmpPT2RsXE2S8wbo3iWNKJcLairDKFq98yceoVlDFMtL8L7c+0FOW8xoaDEH3yeFovfjAXRP3IVTLJxQ+jJN8DrwPZs5LcjbtMX53ENKooqWgJLqF9VQfepS5E8gqYGvS+C2sPpBBa45Fbc+AHPmX6j2cYegkKo9AVhGVBu4MFUDDg5iTcmYK2Xtg6CEvXfQm8ltaLU4uv717f3G6UeYSbp4NkR5hXgEDfgnYN6AjHq2m9+HWj2jSEz18TPALEgL6aBfgNGKnZn//5tf0n+P8hfwO8iDyMS1zc2wAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/teeth_smile.png\n ** module id = 149\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAMF4A8N5A8F5BMJ7CMN9C8Z9CsV+DMWAD8aAEcmFFceFHMuHGcmIIsqLJsuNK9COI9SULc2RMdaXMdibN9CYP9qdOdufPdShT9WkVdanWtepXuCnSOOqTeWuUuWvVOixWOiyXem0XNiqYN+6f+u3YOy3Ye25Yu26ZfLCb/TDc/TEc/TEdPTFdPXGePXIfaeopaqooKqooaytquLAiePDjvbKgPbLg/PKhfbMhPfOh/fPivjQjOTFk+bJmufLnfjSkfnTk/nVl/rXm/rXnfrYn+jMoOvTrfvZofvbpvzdqfzfre3Yt9fa09nc1t/f3vDewd3g2/HgxvLiyvPlzuLk3/Xp1uPj4ebn5Ofo5evs6u7u7Pr06vv37/j4+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAF8ALAAAAAAXABcAQAf/gF+Cg4SFhoJeL1pXWFovKpArLTU7QCgFAZkFUohenp9FCSiQGxleh4laTEyOkK4qLi0sKh4KW4OpWrqPKiwuOD9DSEOuKRwYp4eCPggSCD7KXk4yLy8yTlIjFw4DAN4CDUvJiIpQUK2QLCktODiuKAszp7m7riyUwTmvEjRfXjJdPHWJYaBDikgTBHgDIMAAhSrKBElJ4ArAuIgYI3765G+jx0L/rOiyAiNBhQ4lRslK8eHAE0KpmjRBZ68GCACZAkRIlooKFZosfOXY8coEAS7+FGnJArRFjh9CWrx6YCSprnqQWtjYEeTIjZzeLnhSinWSDiBEkihRcRCFBRGeKKZVuxYFAQlIKSD08HjRkBcNFQ6eUNA3oxcGIVSEYFDY8BQeUxp/CQQAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/thumbs_down.gif\n ** module id = 150\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAADoElEQVRIibWVXWgcVRTHf/fOzG42M5slm7U2202btIYoAesmtdGaWlS0trWIfVEptA8iIljUhxa0oNBXfQkiolSoaCNV1CKkxVIVSkJBXROpJaHNx8aMjWsncU1mN9nP8WE3IbMhSVE8j+ee87vn/M+ZO2Li5iz/lwnHcW4DuoADgLfszwBfAWeAnUArsAXYBGgVDBP4GDhuWrZTCf8kHh87GPv5J3K5HACaptEebadOnWJqqIfU5ABz1jBz0yM4hdySbIEvuJkt+7sItjz+gWnZL1TC0198+bmvY3sHuq4DkEqluNz3PZtGjlK7/g702nq8vgAevQYpVYTUcJw8FB3s6d8Z6T9P66GvCTQ9+KZp2ScW4BLw5XI5dF0nYU2SsCbRdZ0CGq27DhFu2UFgXRNV/iBSquUsFSFUEGDUbaBx66MMfnqQXOrmG5GQ8dACXF3ahpTKLUxJQUiVmT/HuX6523V05cPdStuR2OlIyIialp1wwVVVA1wzWc6WKkiVmnAL0X2vLPqdYoGhvjNMXHqrvmHXsZPAfrk0UVNVNLVyGVxohFQQUkGqVRWXKmxu28P4tyfIzyefiISMde7KFQ0hxBpVayXNVR/FQo5fL56kkM8sxkhFY84awR9pb3TBPZpndVHKVS9conj93L37RVfI8A9nySTH8UfaG1yySClRpMu19LS8IaVNEUJBqvqyKI8vwHxyHKBBXXa6ggmplOQoD1RIlXzRYeBcFzjufou+CJHOV28djtRcYKSGtyZMdO/LrrC/blxjJusFWL+SBhVgpVx5WW+hljbGW+OuOJ9lPpVE8egAjgqkNU2rrq428HpL71Ymk0Ehzy8X3qdx62MEbm+imJ2F7CwFwBzsJTEaWyaH4jEwwvfQvPeYA3QLx3FOxeNjh5c9XG3bCIo/uHpqH80dT+Lz1y1C4gMXCN57hPrtz1f2OAUMAu+Zlt0tHMcJAm8DTwPV5aA0pec2kIh9dGD8m6Pc2fksilL6wKyJq6QJctczp8+alv3USmqK1X4WkZDhB2JDnx1uVuzrhFt2lGRLz3Dtx/Pc9/rElGnZoZXyVx2oadmzwHMb7n+J6cnhRb+3uobs7CRA3Uq5a8LL1uuPbBsTqp9UMgFAKpmgqrYJSvr+e7hp2Q5CvLPxkeOMxnr47cp3jMZ62PjwawDvrpa7quYLFgkZBnDOvtG/8+94H4HGBzDC0UvAHtOy0/8JvuSSKNAJ9JqW3b9W/D/uBzwG5EiSeAAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/thumbs_down.png\n ** module id = 151\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAMF4A8N5A8F5BMJ7CMV+DMR+D8WAD8eBEciEFceFHMuHGcmJI8mJJMuNK9COI9SULc2RMdaXMdibN9CYP9qdOdufPdSgTtWkVdanWtepXuCnSOOqTeWtUuixWOiyXem0XNiqYN+6f+u3YOy3Ye25Yu26ZfHBbvTDc/TEc/TGdvXHevXIfPbJf6eopaqooKqooaytquLAiePDjvbKgPbLg/bMhPfNhffNh/fOiffPivfQi/jQjeTFk+bJmufLnfjSkfnUlfnVl/rXm/rYn+jMoOvTrfvZofvbpvzdqfzfre3Yt9fa09nc1t/f3vDewd3g2vHgxvLiyvPlzuLk3/Xp1uPj4ebn5Ofo5evs6uzs6u7u7Pr06vv37/j4+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAF8ALAAAAAAXABcAQAf/gF+Cg4SFhoNUEwUAjAACEicokhwEL11eXl0wXl9eMQomKScnNTUqkZIoLVpPT1otnIZeAKkIUYeDMhGpKDZDQDgsKamrWsawhF5KDAKNAw0WIVFNMC0tME2xhj4HEQc+uOFeGBqSJghEmOqYnRcbvENHQj83LMTGx5xRBAABAQQmgOigMezeFSuvtG1JwEFSihUnCkpatWRJwnAYM3aSwkOKNo2CvDD4gOLDgo8avSQoIYlCBpSF1mHq8SCViANQqFnDhglEBROpkiAZEiSHsIn4Enqx4M8fABpGguwgeA8fsiIOeKkQssPGKVSrsGS5yIUACV466vFSpWXKlIudJyA0DeBhhiheq5gwgSvIiYEOEYeZGMGBAgIXVYxV2RRT5rpOMr8EAgA7\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/thumbs_up.gif\n ** module id = 152\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAADhklEQVRIiaWVX2hbVRzHPze5WdImM7G9I4verWnaiu0cbu2U+a9UKz5sIHMiw4rCcCp7Gj7sVVDwZU/K9EGYRYWBTwrareoeZFQdaLussiqjbo0mLW2XRtvee9v0npzjQ9J2abuk0B9cuPf87vmc7/meH7+jpW/PUy1MI7QfeBL4KZO1klUnlEKvAq0F+q2JZOds6mfC8Scw79s/ABzKZC2rGtxTJX98crC38/q5buZ+7+X6uW4mB3ufAt7YjHKtki2mEfrj1zMtrfE9BwlGotj/TZEaucKjp0fH0LSmTNZSW1HeuvjvGMFIFIBgJIpy55jPDDZSPIOKUQ0+s217jLwztzJQF2tm/MpHAJ+aRmj7VuAD4UQn8zPplYFo8yPM/dXP1NDnLcBnphHqNY2QbRohVXrs0lidDmAaoR7gJNAK1N9JjyS6yP12FmPXHgC8Xh+J9sOM9r1NjfHA0ZzaydDVQVzXBcDn89V2tB84Ho83ejSl1CFn+s++0a9PatbENQpLaypM04gmOjBbyy2enRojNfwD420f8/yRY/j9fgDy+Tx9F77hxaMvOTrQk758Rgv6JYlnXsOjb1sBBO5/HKRAug5KOEjXRrkOUjiEo408/Nxb/JPRcRwLx1kVVdpFrQfQCks2gWCkDAwg83MoWQAlUFKALBS/ZaHKURVDByaVyJMauUgqebHMjn1H3iUQNkvg5QXcTYGX4elwUxeehQy79z5dlvR6tDVgUVS+yfAA6UCkgaWF2XVJKWyUKqCUKFqjBCA3BBWkRMrynA6k/ZEG7Nw4yQsfrKrW/Tz07Al06aKWFVdQLYSLUoqAP1AGT9UYTUjNS1tXD/7gvWWTlFiAktdKirvCXbFUeluFezJZa1oPRPoaut/h1tX+dZ5KsYharhLu3qdc4eKK8sWX+/mJXZ2nk7eHv4xd6z9b9kPLYz3cs7OpomoAIdbndYBM1poyjdAre1///tLQh+3e3W0HCe9oAEDz+IpgVblK5AbnsdK4MlnrR19wx3utL58nNXwJa2YcFMUKKamWUrA4n2N2eoyJG78wcvkLvLjYtk3UiBE1Yti2jc/nA1hYd1mYRuiT3I3v3rz57SkWcrdArfqseX3U1DVRYzQTjO2j/sHDzIh6hpJDdzYuOtoPEI83nt8IrgHvA68C5pqdusDfwE1gBBgAjgEvAP7SP3ngK+BUxWtuq/E/1+WfXnxPu34AAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/thumbs_up.png\n ** module id = 153\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAALc8CcwAANcxDOcgIOwmJrVACaJUA5dgAJdhAKRtA6ZvBK9/Dbt/B79/BtOPCM6SDN6dDcuaFMucFuCbC+KdC8ykHM+oHv+iA/+jB/+lBP+nBv+qB/+jCP+lC/+nDvKsD/6pCv+sC/+vDP+wDf+0D+SsF/+pEv+qGv+rG/2tHea0G+a3Hf+3Ef+5E/+7Ff+/F/+2G/e7GP++Gf+9Hf6yIf60IfOwKv2yLP+zM/+0NP67Mf+7Nv+1OP+6Pf29P/fCHffEHv/EG/3DHP/HHf/HHv/IHvfIIf/KIP/OI//JJf/PJv/QJP/TJv/TJ//WKPraL//bL//cL/7EMv3RN/vbMP/VOP/mN/26Qf+9Tv++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Th//Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/gof/jovzsqf/qrv/js//ktf/muv/ruP/v0//v1P/x2P/23f/34v/34//66P/++//+/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAIUALAAAAAAXABcAQAj/AAsJHEiQkEFCBBMKTENCCZKHKxAcUKHiwIESL1y0MFMmDcE+HUiwGGllAAECA6yE2AAiRYc+CQm5qRHnDBQmTZo8LJJkDqAdbRAKJJSFRZAgMo6+WKqxBQsSJEboAINFaMw8abCgQIElDR6rCof64bGDzB1BgvasucLDD9ihPKRsydlEggQkRyJEUDqHDg+hhE4EGUKYcBQoQV5AgeLCxcgZeU4IxaMho4sVChhA+PABQoMEJUKE6JICT0w2HDaEGGJDgAAbMjRcwKDmbdjbuAvqUZMFRYosavTYLujGxBg7aL5UqRJGzp86J9zY9uNBDBcnTpgscXikyFEvgU74lyGYJ8QUJUqWGEGAAMgP9jFkvJjxp4eeoVheFOleBMmCBUUQ8Z8QGrGgBRxVFRKYDIQd5eBSGTnFwggwvIGCUGmMIN8LD1AQoYQTODBCCD5c4dFQOYjQQgtCUGEBAAYYUEAFT7wAAg035DBIQWxoMMKPUAgQQAACQLHBBhlcwMZwhPCBwwUbyLDYCxdcgAMfwyl00EG3BQQAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/tongue_smile.gif\n ** module id = 154\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEM0lEQVRIiaWVX2hbVRzHP+e0Sd2WtU2TrZnGTnRs2M7Vrn9gdYq4h+keXJGBqFOc+KAgE2GKT06c+CrqYL45sOCLDyvCdKKgs38YuXEdW6cNg61pVtPlpkmbdPl37zk+3Js2LS0O/MGX3/3D+fzO/Z7fOVdMp3KsF+GgrxHoB3qBHlcAhqsIMJow8wtrjRfrwcNB32G0+prkryHMCJgRSEecl4FeCLoKHUgi5FsJMz/0n/Bw0OcHvmQhdpSRY+CxIPwMBPqgaR8IAfPjMBeF6Z+hXIEnvoHGnYPA8YSZz6wJd8B6nL++aOPqKW3vOSbY0ocoXEGU44jiDdBAQwds2A0tz0N6BMbe1+z+UPDou3EQj1cLrIZ/y/XPj+qbX2E/9oaWYlbIwh9gl8DWoBTYajnjhfAH0HIQhl+G+1+A9vcGE2b+1RXwcNB3mIXJc5zv09beF6nTN4RQSdDakVJrF1AKmg/Ajs/ghx7Nwd8FjbsGEmZ+SEynck5XaHuSH/eHdFMZ3dKCtOIgAA1GJAsaerp8oBTG5UVA09PesFx0xydgN8DEGXhuOImo2yVdR/qZuRCicBW92YMsxZdmVrxbwRi+gzFyh2LBoliwMcZSGGMmxYINyv2a2CnY8iR4PDBzIQT0V+G9pA3Y6EVaaVCW88m2IpOxnEXUkMnaZLL28n1OO3CtwbqLjp+FbU9D2gDorXfhPZhRaPCAba1ozdatXkLbNzvXW7ygdc29B0olZ+ZKQ8ZAh44gbp4D6FmGpw3YVq+wlUS4TzVI22bgtYed2f6TAqUZeOUh5308uWKhxcJ17O0hXZc2RC3cCeWufjW0dvJMyu0Y14Lp2WWva7OoQGl2aXjVc4NAN9wtyarX9yS1UtqzFcyoINANYKyElyo1g20uX8kxNVVYFzw9U+ZarOjYYiu0bERkJ1gNjxDohkIZbNuVYtsjzYxG8/xycZ6bU0VyOYtczmIqUeK3S4tcHC/if7DJmbkGXe9HzE9W4ZGaTWRNcn5fCOtv2NDglNy4ASsU5Fp0juTpFGZrGS0gYHppfTPAnr4AnvgMZPLohhCaTUh5HxwaSyLqd63c/tmJc5zvhSavQkqJ1iAFdO4k2T+Lx+sFoFIuExpthUsTULHQWqLrA0oW5ySHLkFzx0DCzA9VbSFh5odo7hik82OYX5RULIVSULFhsUjWb3IrFuNWLEbWb0K+4By3SiGsspKLM5LOj6C5Y7B6ti/B3ThO+4k4e07BQkVSKDn+J9OET7axqcvHpi4f4ZNtcDvleF2xQNVJuj6F9hNx4HgVttbPogU4TfbaSwy/Dtlx8NTB1gCEg85mStyBZNrpGn8X7D8Lzbu/A95JmPm5deE1RY6grTPc/ilIOsqSwOmGqh541kTUv50w89+vZqwLdwv4gaeAvUC3mwH+BKJuvlj7a7tn+P+NfwFBH2ytjcPQjwAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/tongue_smile.png\n ** module id = 155\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAALc8CcwAANcxDOcgIOwmJrVACaJUA5dgAJdhAKRtA6ZvBK9/Dbt/B79/BtOPCM6SDN6dDcuaFMucFuCbC+KdC8ykHM+oHv+iA/+jB/+lBP+nBv+qB/+jCP+lC/+nDvKsD/6pCv+sC/+vDP+wDf+0D+SsF/+pEv+qGv+rG/2tHea0G+a3Hf+3Ef+5E/+7Ff+/F/+2G/e7GP++Gf+9Hf6yIf60IfOwKv2yLP+zM/+0NP67Mf+7Nv+1OP+6Pf29P/fCHffEHv/EG/3DHP/HHf/HHv/IHvfIIf/KIP/OI//JJf/PJv/QJP/TJv/TJ//WKPraL//bL//cL/7EMv3RN/vbMP/VOP/mN/26Qf+9Tv++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Th//Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/gof/jovzsqf/qrv/js//ktf/muv/ruP/v0//v1P/x2P/23f/34v/34//66P/++//+/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAIUALAAAAAAXABcAQAj/AAsJHEiQkEFCBBMKTENCCZKHKxAcUKHiwIESL1y0MFMmDcE+HUiwGGllAAECA6yE2AAiRYc+CQm5qRHnDBQmTZo8LJJkDqAdbRAKJJSFRZAgMo6+WKqxBQsSJEboAINFaMw8abCgQIElDR6rCof64bGDzB1BgvasucLDD9ihPKRsydlEggQkRyJEUDqHDg+hhE4EGUKYcBQoQV5AgeLCxcgZeU4IxaMho4sVChhA+PABQoMEJUKE6JICT0w2HDaEGGJDgAAbMjRcwKDmbdjbuAvqUZMFRYosavTYLujGxBg7aL5UqRJGzp86J9zY9uNBDBcnTpgscXikyFEvgU74lyGYJ8QUJUqWGEGAAMgP9jFkvJjxp4eeoVheFOleBMmCBUUQ8Z8QGrGgBRxVFRKYDIQd5eBSGTnFwggwvIGCUGmMIN8LD1AQoYQTODBCCD5c4dFQOYjQQgtCUGEBAAYYUEAFT7wAAg035DBIQWxoMMKPUAgQQAACQLHBBhlcwMZwhPCBwwUbyLDYCxdcgAMfwyl00EG3BQQAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/tounge_smile.gif\n ** module id = 156\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPYAAJdgAJdhAKpsAK9/Db58A75+BcuaFMudFv+iAv+jA/+jB/+nBv+qB/+lCf+nDv+rCf+sCf+vC/+vDP+yDv+0D+auF/+pEv+qGv+rG/2tHeayGua3Hf+2Ef+5E/+7Ff++F/+2G/e7GP+/GP+9Hf6yIf60If+4IP2yLP+zM/67Mf+7Nv+1OP+2Ov29P/+8P/fCHffEHv/AGP/CGv/DGv3DHP/HHv/IHvfIIf/MIf3NI//NIv/JJf/PJv/QJP/VKP/aLf/cL/7EMv3RN//UOP/mN/26Qf+9Tf++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Shf/Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/lm//gof/jovzsqf/qrv/js//ktfzltv/muv/ruP/v0//v1P/x2P/23f/34//66P/++////gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAHQALAAAAAAXABcAQAf/gHSCg4NzhnOEiYJXHDw6jxsAABoakhUfHx1UU1OEbQ0THBQUE6UTEBEMDA8ZDmyJc1slX1VAPj49Ojg2O2JwKlyIgnNGHDLHx5gfHh0dHBylKU5GwrBnV0YXF0ZXZ3KKsG4sKlJmcXFrWS4sbtWFK0FJPbgHB7oGBsciYWMrwnMXZtgYOBAIkBkyfvzI9MxEmgvCzizwkKmAgIsYLxKAIGHJhTOwsDRgEAEChAcPVC1AoACLO3AwY8JSg+UIBgxHsKh5CYuLhShlrDQZMuQJmDdkLgRT5MYBFCW3cOXCUaOGDCZwLrghhOaBEB49etwIEADGC7IhYngY8cYFmmFGZD4M3JVjwACqdml48MABiRdqdADGqDGDMDIZmJg9mwCiC8RFEhDHUJbJmahSEFoUuTJIDooJzYAQGU169A8IJE6gcDdHywJTmEtCUIlAC8/AbFAkWLBAVYIECFCwua3o0KGYgQAAOw==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/whatchutalkingabout_smile.gif\n ** module id = 157\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAD1klEQVRIia2VXWhcRRTHfzPZzTY1TTbJpm5tsKLF0CS25hNaq6h9qPbBBimIWsX6pCARpYpPIkZ8FT+gvlkw4IsPKUK0gog1MdTcaLSmNaVS2Kxx09zNbjebbDZ77xwf7t1kt6xpHzxwmDsM93fmnP+cGTW7sEQla4nU1gEHgF6gx3cAy/cJ4Ke4nc1UBACqErwlUnsUMZ+S+C6KPQH2BCQnvMWmXoj4Hj2UQOmX4nb2zE3hLZHaBuAjMpePM3YCgg60PApNfVC/H5SC61OwOAmz38JaAR74DOruHQIG4nY2VRHugWWKSx/eyYVBcfeeUDT3oXK/odZiqNUrIECoHWo6oPEJSI7B+BtCx1uKPa/GQN1fGqAU/jkXPzguVz/Gve9F0Wpe6dyP4ObBFTAGXLMxUg0tb0LjYRh9Bu54EtpeG4rb2efK4C2R2qNkZoYZ6ROn6ymq5IpSJgEinhtTOYAxED4Eu9+Hr3qEwz8o6lr7ixooEalD3Bm+PhiV+jWksRHtxEABAtZEGgR6OmvBGKxflwGhpy20EXT3u+CGYPoUPD6aQFW1xu1sRgMHmDsbJXcB2RZE52PrO1tdKWCNXsMau8ZqzmE152KNL2CN26zmXDB+NpcHoflBCAZh7mzUP8JooJekBVur0U4SjOOl7BpSKccTUSCVdkml3Y35knhwEXBWkNhp2PEwJC383iAA9GBPQigIrlN2Tm/fXk101zbvu7kaRErmQcjnvZ0bgZSFRI+hrg6D33AePGnBjoDBNRrlkwW069L//N3ebv9ZACP0P3uXtx5LlAmtMhdxd0WlKmmpUrhnxle/aCLeOLfgnxi/BLPzG7UuHVUB8vNlmWvAoqkbVvK6WOtbclPuEtwO9qSiqRu8u6cEni+U/OzeHLw+F3ANoutQ6WlK4QFggqZuuLQGte56St+fS2MvFtjMIuEqHunaAgISaEAv/gx7Xgfvxiw2kTPDyP4ozp9QE/L+vGcnbK3ZFM7SMvz+FxKKItyG1lvgyHgCFWiN29nMRvunp4cZ6YX6aoPWel3Q4hUgbIgqRTEFEY0EmoxeXdQcOQ/h9vX21wBxO3uGcPsQ+96B68uagmPK6+rrYNxyPYxBOWtGL89p9r0N4fah0rtdlyQ5QNvJGHsHIVPQ5PKbC2sMFBwwVZrO96DtZAwYKK3ajY9FI/AJ6T+eZvQFSE9BlfYeCY0gAq5RGL9cDZ1w8DSEO74AXonb2cX/hJcEOYY4p/j7mwjJSdYdvKNW9J2P2ajAy3E7+2UlvSvC/QANwENAF9DtjwC/AJP+eO7Gp+2W4P+H/QsIxlsFRknkTgAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/whatchutalkingabout_smile.png\n ** module id = 158\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,R0lGODlhFwAXAPcAAJdgAJ1lAaFpAqJsBK93B6p2CLZ8B7R8CL+LD9iXDMGQEcGUFcuaFOOaCNGrH/+jAv+iA/+jA/+nBv+pBv+jCP+lCf+nDvaqDP+rCf+vC/+wC/+zD/+0D+CsGPOtEP+pEv+qF/+qGv+rG/2tHeKzG+ayGvC2F/+3Evi3Ff+6E/+7Ff+/F/+2G/W7Gfe7GPC+Hfm7GP++GP+/GP+9Hea+JP60If2yLP+zM/67Mf+7Nv+1OP+2Ov+6PffCHf/DGv/FHP/JH+bGKv3IIP/LIf/NIf/JJf/PJv/QJPDTL//VKP/XLP/YLP/aLf/ZL/7EMv3RN/vbMPjdM/3dMP/VOP/hMv26Qf+9Tv++UP7GSv3WRP7YQfzBUP/TXf7dXPzKbP/bY/vZZfzXc//XeP/Tff7Xfv3ibP3jev/QgP/Rgf/Shf/Zhf/Uif/Vjv/Wj/zen/7envvhg//kj//jmv/lm//gof/jovzsqf/qrv/js//ktfzltv/muv/ruP/v0//v1P/x2P/23f/34v/55//++////gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAIUALAAAAAAXABcAQAj/AAsJHDiQkEFCBBMKRHOCiMMFQZA4eFECAIAOMVakIDPmDEE/FTZwGPljCZUoUo5kwIBBRAU/CQmxqQGnTJMkSY4YIQKkyJxAPNggFEjIygkfPjoMgLGiqYoUJ05smIrDi5WhMfGgsRIihBU0eAYpjPmHRw4xdwQJ4qOmyo4/WAvqcJLlSM4jR4gMYcDgh48VcujsGEoohI8fP4b8AOLXhwwmTJ6m4FBDT4iheCSoULECCgIBCTxEbXAhg+ktIfDETENhgmkMKydMkPCAwpq4Y3PrjrknzRURIq6k2YM7ZpsPYeyY6TJlypc4gOqEaFP8jwUwWnDmdAiEsQ8ugUDAjxyYB8MTI0dIFBiAAEgPiy6azgDEIw9RKyqGDAGyk4iRH0IgUMAPMECFxRtXFVLYYT+0YAJSSDkF1UgsuHHZQhmsIIMSChiAgmRRTWUaD1WgMdAgN2yQQgqP0XCAAAEEQEADpo1ggw5iFbSGBFOJmIEGsM0mAQS3jUVIHzc8IMGSEkTwwAM39FGckQcZpFtAADs=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/wink_smile.gif\n ** module id = 159\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAEIUlEQVRIia2VX2xTVRzHP+esXR1u3dYWLFodASJxQyJsI+GPxMgDigkQQ2JUTMQXNTEYEyQmvonhwRfjnwQTHySBxBh9QI0IRozocDHrEIJDhyTTrkBxt2x0pV3be87Ph3u33cKIPniSb3659+Z+fuec3/d3jhodm2SukUo0R4G1QC/Q4wsg7WsA+CnrFAtzAgA1FzyVaN6K2A/IHU/iDIAzAPkB72O8FxK+khtzKP1C1il+/q/wVKK5HXiXwvkdnNwJYRdSD0N8NbSuAaXg2mm4Ogij30C1Bus+gui9h4BdWac4PifcA8tpfnvnHs7uFbNip2L+alT5DKqaQU1dAAEiXdC0HGJbIH8S+l8Vlr+muO/lDKgHggmC8IOce3uHjLyHuf850eqK0uUfwVTACFgLxs5GGiG1B2KboO8puPNx6HzlUNYpPlMHTyWat1IYPsyR1eKueoIGuaCUzYGIJ2vnTmAttG2Epfvgyx5h0wlFdNm26RooEYkiZpiv1yeltYrEYmg3AwpvG0TA+mBrSf9yHRB6OiOzSZe+ASYCQ/vh0b4cqmFZ1ikWNLCWS8eSlM8iLWF0JQPWMvrndT49lOHghyN8/+0YtmaYKhvS/WOk+x2mymY26fm9MP9BCIfh0rGkb2E00Es+DfMa0W4erAvGMvJXlfXbFrPl+S5ii9qYLFnGJ4y/Ghif9FckAm4JyRyAhQ9BPo3fG4SAHpxBiITBuDM22rCuFWwZpsqsWBKGSpWWeY0kO1oAuGN+GCoVf7sExtNIcjtq5DD4DefB82lYGLIYq1E+farqTVEEKjUQi7bCtqcXed8zubpCq8I5TEdSGvJpFYR7wy8YQKlkqNUsrdFQwDF+HL0SKHAgqhpUrtR1qAbSxLuhVNEYz2Jj14Svjuaplg3T726SrZeEF4AzqIh3g3f2BOCV2syPHV0JUotbOH5inMpcCWzwWcBYREdRE0PcCB8g3g3lKhjj6fIYax/rYF5bhE++yDP8R5nipOcit2bI/V2jXDKzMxeQUDvq2vA0fCDQRO4wR9YkcX+Hpoi3YeEw3L2Ay6MlTn2XJZ+v4roCQCzWSM8SRSquwQoSSSLcjta3web+HCq0LOsUC7PtPzF0mCO90Npo0VojHohYFNqj0NRIxVWEMehiGUYuQtVFRCOhuNVTVzWbf4a2rtn2rzu4ht7awZnXobnJopWeaf9pKcC19e4x1mJEs2ofdO2pO7h0wDm76NydYcVeKNQ05Ypfg0Dxaqa+qDUXbINm5ZvQuTsD7Apa8cbLIga8z8SvT9L3LEychgbtXRIa8WeqsP6K2lfC+gPQtvxj4KWsU7x6S3ggyXbE3c/Fownyg8wIPDdM665HHFToxaxT/OwmyK3gfoJ2YAOwCuj2I8ApYNCPP9x4tf0n+P8x/gG8C3hwkQi8lAAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./plugins/smiley/images/wink_smile.png\n ** module id = 160\n ** module chunks = 0\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview API initialization code.\n */\n\n( function() {\n\t// Disable HC detection in WebKit. (#5429)\n\tif ( CKEDITOR.env.webkit )\n\t\tCKEDITOR.env.hc = false;\n\telse {\n\t\t// Check whether high contrast is active by creating a colored border.\n\t\tvar hcDetect = CKEDITOR.dom.element.createFromHtml( '<div style=\"width:0;height:0;position:absolute;left:-10000px;' +\n\t\t\t'border:1px solid;border-color:red blue\"></div>', CKEDITOR.document );\n\n\t\thcDetect.appendTo( CKEDITOR.document.getHead() );\n\n\t\t// Update CKEDITOR.env.\n\t\t// Catch exception needed sometimes for FF. (#4230)\n\t\ttry {\n\t\t\tvar top = hcDetect.getComputedStyle( 'border-top-color' ),\n\t\t\t\tright = hcDetect.getComputedStyle( 'border-right-color' );\n\n\t\t\t// We need to check if getComputedStyle returned any value, because on FF\n\t\t\t// it returnes empty string if CKEditor is loaded in hidden iframe. (#11121)\n\t\t\tCKEDITOR.env.hc = !!( top && top == right );\n\t\t} catch ( e ) {\n\t\t\tCKEDITOR.env.hc = false;\n\t\t}\n\n\t\thcDetect.remove();\n\t}\n\n\tif ( CKEDITOR.env.hc )\n\t\tCKEDITOR.env.cssClass += ' cke_hc';\n\n\t// Initially hide UI spaces when relevant skins are loading, later restored by skin css.\n\tCKEDITOR.document.appendStyleText( '.cke{visibility:hidden;}' );\n\n\t// Mark the editor as fully loaded.\n\tCKEDITOR.status = 'loaded';\n\tCKEDITOR.fireOnce( 'loaded' );\n\n\t// Process all instances created by the \"basic\" implementation.\n\tvar pending = CKEDITOR._.pending;\n\tif ( pending ) {\n\t\tdelete CKEDITOR._.pending;\n\n\t\tfor ( var i = 0; i < pending.length; i++ ) {\n\t\t\tCKEDITOR.editor.prototype.constructor.apply( pending[ i ][ 0 ], pending[ i ][ 1 ] );\n\t\t\tCKEDITOR.add( pending[ i ][ 0 ] );\n\t\t}\n\t}\n} )();\n\n/**\n * Indicates that CKEditor is running on a High Contrast environment.\n *\n *\t\tif ( CKEDITOR.env.hc )\n *\t\t\talert( 'You\\'re running on High Contrast mode. The editor interface will get adapted to provide you a better experience.' );\n *\n * @property {Boolean} hc\n * @member CKEDITOR.env\n */\n\n/**\n * Fired when a CKEDITOR core object is fully loaded and ready for interaction.\n *\n * @event loaded\n * @member CKEDITOR\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/_bootstrap.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.editorConfig = function( config ) {\n\t// Define changes to default configuration here. For example:\n\tconfig.language = 'zh-cn';\n\t// config.uiColor = '#AADC6E';\n\tconfig.skin = 'moono';//原来是在ckeditor中设置的\n\t// %REMOVE_START%\n\tconfig.plugins =\n\t\t'about,' +\n\t\t'a11yhelp,' +\n\t\t'basicstyles,' +\n\t\t'bidi,' +\n\t\t'blockquote,' +\n\t\t'clipboard,' +\n\t\t'colorbutton,' +\n\t\t'colordialog,' +\n\t\t'contextmenu,' +\n\t\t'dialogadvtab,' +\n\t\t'div,' +\n\t\t'elementspath,' +\n\t\t'enterkey,' +\n\t\t'entities,' +\n\t\t'filebrowser,' +\n\t\t'find,' +\n\t\t'flash,' +\n\t\t'floatingspace,' +\n\t\t'font,' +\n\t\t'format,' +\n\t\t'forms,' +\n\t\t'horizontalrule,' +\n\t\t'htmlwriter,' +\n\t\t'image,' +\n\t\t'iframe,' +\n\t\t'indentlist,' +\n\t\t'indentblock,' +\n\t\t'justify,' +\n\t\t'language,' +\n\t\t'link,' +\n\t\t'list,' +\n\t\t'liststyle,' +\n\t\t'magicline,' +\n\t\t'maximize,' +\n\t\t'newpage,' +\n\t\t'pagebreak,' +\n\t\t'pastefromword,' +\n\t\t'pastetext,' +\n\t\t'preview,' +\n\t\t'print,' +\n\t\t'removeformat,' +\n\t\t'resize,' +\n\t\t'save,' +\n\t\t'selectall,' +\n\t\t'showblocks,' +\n\t\t'showborders,' +\n\t\t'smiley,' +\n\t\t'sourcearea,' +\n\t\t'specialchar,' +\n\t\t'stylescombo,' +\n\t\t'tab,' +\n\t\t'table,' +\n\t\t'tabletools,' +\n\t\t'templates,' +\n\t\t'toolbar,' +\n\t\t'undo,' +\n\t\t'wysiwygarea';\n\t// %REMOVE_END%\n\n\tconfig.icons = './plugins/sourcearea/icons/source.png,'\n\t\t\t\t\t+'./plugins/save/icons/save.png,'\n\t\t\t\t\t+'./plugins/newpage/icons/newpage.png,'\n\t\t\t\t\t+'./plugins/preview/icons/preview.png,'\n\t\t\t\t\t+'./plugins/print/icons/print.png,'\n\t\t\t\t\t+'./plugins/templates/icons/templates.png,'\n\t\t\t\t\t+'./plugins/clipboard/icons/cut.png,'\n\t\t\t\t\t+'./plugins/clipboard/icons/copy.png,'\n\t\t\t\t\t+'./plugins/clipboard/icons/paste.png,'\n\t\t\t\t\t+'./plugins/pastetext/icons/pastetext.png,'\n\t\t\t\t\t+'./plugins/pastefromword/icons/pastefromword.png,'\n\t\t\t\t\t+'./plugins/undo/icons/undo.png,'\n\t\t\t\t\t+'./plugins/undo/icons/redo.png,'\n\t\t\t\t\t+'./plugins/find/icons/find.png,'\n\t\t\t\t\t+'./plugins/find/icons/replace.png,'\n\t\t\t\t\t+'./plugins/selectall/icons/selectall.png,'\n\t\t\t\t\t+'./plugins/forms/icons/form.png,'\n\t\t\t\t\t+'./plugins/forms/icons/checkbox.png,'\n\t\t\t\t\t+'./plugins/forms/icons/radio.png,'\n\t\t\t\t\t+'./plugins/forms/icons/textfield.png,'\n\t\t\t\t\t+'./plugins/forms/icons/textarea.png,'\n\t\t\t\t\t+'./plugins/forms/icons/select.png,'\n\t\t\t\t\t+'./plugins/forms/icons/button.png,'\n\t\t\t\t\t+'./plugins/forms/icons/imagebutton.png,'\n\t\t\t\t\t+'./plugins/forms/icons/hiddenfield.png,'\n\t\t\t\t\t+'./plugins/basicstyles/icons/bold.png,'\n\t\t\t\t\t+'./plugins/basicstyles/icons/italic.png,'\n\t\t\t\t\t+'./plugins/basicstyles/icons/underline.png,'\n\t\t\t\t\t+'./plugins/basicstyles/icons/strike.png,'\n\t\t\t\t\t+'./plugins/basicstyles/icons/subscript.png,'\n\t\t\t\t\t+'./plugins/basicstyles/icons/superscript.png,'\n\t\t\t\t\t+'./plugins/removeformat/icons/removeformat.png,'\n\t\t\t\t\t+'./plugins/list/icons/numberedlist.png,'\n\t\t\t\t\t+'./plugins/list/icons/bulletedlist.png,'\n\t\t\t\t\t+'./plugins/indent/icons/outdent.png,'\n\t\t\t\t\t+'./plugins/indent/icons/indent.png,'\n\t\t\t\t\t+'./plugins/blockquote/icons/blockquote.png,'\n\t\t\t\t\t+'./plugins/div/icons/creatediv.png,'\n\t\t\t\t\t+'./plugins/justify/icons/justifyleft.png,'\n\t\t\t\t\t+'./plugins/justify/icons/justifycenter.png,'\n\t\t\t\t\t+'./plugins/justify/icons/justifyright.png,'\n\t\t\t\t\t+'./plugins/justify/icons/justifyblock.png,'\n\t\t\t\t\t+'./plugins/bidi/icons/bidiltr.png,'\n\t\t\t\t\t+'./plugins/bidi/icons/bidirtl.png,'\n\t\t\t\t\t+'./plugins/language/icons/language.png,'\n\t\t\t\t\t+'./plugins/link/icons/link.png,'\n\t\t\t\t\t+'./plugins/link/icons/unlink.png,'\n\t\t\t\t\t+'./plugins/link/icons/anchor.png,'\n\t\t\t\t\t+'./plugins/image/icons/image.png,'\n\t\t\t\t\t+'./plugins/flash/icons/flash.png,'\n\t\t\t\t\t+'./plugins/table/icons/table.png,'\n\t\t\t\t\t+'./plugins/horizontalrule/icons/horizontalrule.png,'\n\t\t\t\t\t+'./plugins/smiley/icons/smiley.png,'\n\t\t\t\t\t+'./plugins/specialchar/icons/specialchar.png,'\n\t\t\t\t\t+'./plugins/pagebreak/icons/pagebreak.png,'\n\t\t\t\t\t+'./plugins/iframe/icons/iframe.png,'\n\t\t\t\t\t+'./plugins/colorbutton/icons/textcolor.png,'\n\t\t\t\t\t+'./plugins/colorbutton/icons/bgcolor.png,'\n\t\t\t\t\t+'./plugins/maximize/icons/maximize.png,'\n\t\t\t\t\t+'./plugins/showblocks/icons/showblocks.png,'\n\t\t\t\t\t+'./plugins/about/icons/about.png,';\n};\n\n// %LEAVE_UNMINIFIED% %REMOVE_LINE%\n\n\n\n/** WEBPACK FOOTER **\n ** ./config.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the {@link CKEDITOR.lang} object, for the\n * Chinese Simplified language.\n */\n\n/**#@+\n   @type String\n   @example\n*/\n\n/**\n * Contains the dictionary of language entries.\n * @namespace\n */\nCKEDITOR.lang[ 'zh-cn' ] = {\n\t// ARIA description.\n\teditor: '所见即所得编辑器',\n\teditorPanel: '所见即所得编辑器面板',\n\n\t// Common messages and labels.\n\tcommon: {\n\t\t// Screenreader titles. Please note that screenreaders are not always capable\n\t\t// of reading non-English words. So be careful while translating it.\n\t\teditorHelp: '按 ALT+0 获得帮助',\n\n\t\tbrowseServer: '浏览服务器',\n\t\turl: 'URL',\n\t\tprotocol: '协议',\n\t\tupload: '上传',\n\t\tuploadSubmit: '上传到服务器',\n\t\timage: '图像',\n\t\tflash: 'Flash',\n\t\tform: '表单',\n\t\tcheckbox: '复选框',\n\t\tradio: '单选按钮',\n\t\ttextField: '单行文本',\n\t\ttextarea: '多行文本',\n\t\thiddenField: '隐藏域',\n\t\tbutton: '按钮',\n\t\tselect: '列表/菜单',\n\t\timageButton: '图像按钮',\n\t\tnotSet: '<没有设置>',\n\t\tid: 'ID',\n\t\tname: '名称',\n\t\tlangDir: '语言方向',\n\t\tlangDirLtr: '从左到右 (LTR)',\n\t\tlangDirRtl: '从右到左 (RTL)',\n\t\tlangCode: '语言代码',\n\t\tlongDescr: '详细说明 URL',\n\t\tcssClass: '样式类名称',\n\t\tadvisoryTitle: '标题',\n\t\tcssStyle: '行内样式',\n\t\tok: '确定',\n\t\tcancel: '取消',\n\t\tclose: '关闭',\n\t\tpreview: '预览',\n\t\tresize: '拖拽以改变大小',\n\t\tgeneralTab: '常规',\n\t\tadvancedTab: '高级',\n\t\tvalidateNumberFailed: '需要输入数字格式',\n\t\tconfirmNewPage: '当前文档内容未保存，是否确认新建文档？',\n\t\tconfirmCancel: '部分修改尚未保存，是否确认关闭对话框？',\n\t\toptions: '选项',\n\t\ttarget: '目标窗口',\n\t\ttargetNew: '新窗口 (_blank)',\n\t\ttargetTop: '整页 (_top)',\n\t\ttargetSelf: '本窗口 (_self)',\n\t\ttargetParent: '父窗口 (_parent)',\n\t\tlangDirLTR: '从左到右 (LTR)',\n\t\tlangDirRTL: '从右到左 (RTL)',\n\t\tstyles: '样式',\n\t\tcssClasses: '样式类',\n\t\twidth: '宽度',\n\t\theight: '高度',\n\t\talign: '对齐方式',\n\t\talignLeft: '左对齐',\n\t\talignRight: '右对齐',\n\t\talignCenter: '居中',\n\t\talignJustify: '两端对齐',\n\t\talignTop: '顶端',\n\t\talignMiddle: '居中',\n\t\talignBottom: '底部',\n\t\talignNone: '无',\n\t\tinvalidValue\t: '无效的值。',\n\t\tinvalidHeight: '高度必须为数字格式',\n\t\tinvalidWidth: '宽度必须为数字格式',\n\t\tinvalidCssLength: '此“%1”字段的值必须为正数，可以包含或不包含一个有效的 CSS 长度单位(px, %, in, cm, mm, em, ex, pt 或 pc)',\n\t\tinvalidHtmlLength: '此“%1”字段的值必须为正数，可以包含或不包含一个有效的 HTML 长度单位(px 或 %)',\n\t\tinvalidInlineStyle: '内联样式必须为格式是以分号分隔的一个或多个“属性名 : 属性值”。',\n\t\tcssLengthTooltip: '输入一个表示像素值的数字，或加上一个有效的 CSS 长度单位(px, %, in, cm, mm, em, ex, pt 或 pc)。',\n\n\t\t// Put the voice-only part of the label in the span.\n\t\tunavailable: '%1<span class=\"cke_accessibility\">，不可用</span>'\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lang/zh-cn.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'about', {\n\trequires: 'dialog',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'about', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\tvar command = editor.addCommand( 'about', new CKEDITOR.dialogCommand( 'about' ) );\n\t\tcommand.modes = { wysiwyg: 1, source: 1 };\n\t\tcommand.canUndo = false;\n\t\tcommand.readOnly = 1;\n\n\t\teditor.ui.addButton && editor.ui.addButton( 'About', {\n\t\t\tlabel: editor.lang.about.title,\n\t\t\tcommand: 'about',\n\t\t\ttoolbar: 'about'\n\t\t} );\n\n\t\tCKEDITOR.dialog.add( 'about', this.path + 'dialogs/about.js' );\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/about/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Plugin definition for the a11yhelp, which provides a dialog\n * with accessibility related help.\n */\n\n( function() {\n\tvar pluginName = 'a11yhelp',\n\t\tcommandName = 'a11yHelp';\n\n\tCKEDITOR.plugins.add( pluginName, {\n\t\trequires: 'dialog',\n\n\t\t// List of available localizations.\n\t\t// jscs:disable\n\t\tavailableLangs: { af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,'de-ch':1,el:1,en:1,'en-gb':1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,'fr-ca':1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,'pt-br':1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,'sr-latn':1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,'zh-cn':1 },\n\t\t// jscs:enable\n\n\t\tinit: function( editor ) {\n\t\t\tvar plugin = this;\n\t\t\teditor.addCommand( commandName, {\n\t\t\t\texec: function() {\n\t\t\t\t\tvar langCode = editor.langCode;\n\t\t\t\t\tlangCode =\n\t\t\t\t\t\tplugin.availableLangs[ langCode ] ? langCode :\n\t\t\t\t\t\tplugin.availableLangs[ langCode.replace( /-.*/, '' ) ] ? langCode.replace( /-.*/, '' ) :\n\t\t\t\t\t\t'en';\n\n\t\t\t\t\tCKEDITOR.scriptLoader.load( CKEDITOR.getUrl( plugin.path + 'dialogs/lang/' + langCode + '.js' ), function() {\n\t\t\t\t\t\teditor.lang.a11yhelp = plugin.langEntries[ langCode ];\n\t\t\t\t\t\teditor.openDialog( commandName );\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tmodes: { wysiwyg: 1, source: 1 },\n\t\t\t\treadOnly: 1,\n\t\t\t\tcanUndo: false\n\t\t\t} );\n\n\t\t\teditor.setKeystroke( CKEDITOR.ALT + 48 /*0*/, 'a11yHelp' );\n\t\t\tCKEDITOR.dialog.add( commandName, this.path + 'dialogs/a11yhelp.js' );\n\n\t\t\teditor.on( 'ariaEditorHelpLabel', function( evt ) {\n\t\t\t\tevt.data.label = editor.lang.common.editorHelp;\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/a11yhelp/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'basicstyles', {\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'bold,italic,underline,strike,subscript,superscript', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\tvar order = 0;\n\t\t// All buttons use the same code to register. So, to avoid\n\t\t// duplications, let's use this tool function.\n\t\tvar addButtonCommand = function( buttonName, buttonLabel, commandName, styleDefiniton ) {\n\t\t\t\t// Disable the command if no definition is configured.\n\t\t\t\tif ( !styleDefiniton )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar style = new CKEDITOR.style( styleDefiniton ),\n\t\t\t\t\tforms = contentForms[ commandName ];\n\n\t\t\t\t// Put the style as the most important form.\n\t\t\t\tforms.unshift( style );\n\n\t\t\t\t// Listen to contextual style activation.\n\t\t\t\teditor.attachStyleStateChange( style, function( state ) {\n\t\t\t\t\t!editor.readOnly && editor.getCommand( commandName ).setState( state );\n\t\t\t\t} );\n\n\t\t\t\t// Create the command that can be used to apply the style.\n\t\t\t\teditor.addCommand( commandName, new CKEDITOR.styleCommand( style, {\n\t\t\t\t\tcontentForms: forms\n\t\t\t\t} ) );\n\n\t\t\t\t// Register the button, if the button plugin is loaded.\n\t\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\t\teditor.ui.addButton( buttonName, {\n\t\t\t\t\t\tlabel: buttonLabel,\n\t\t\t\t\t\tcommand: commandName,\n\t\t\t\t\t\ttoolbar: 'basicstyles,' + ( order += 10 )\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t};\n\n\t\tvar contentForms = {\n\t\t\t\tbold: [\n\t\t\t\t\t'strong',\n\t\t\t\t\t'b',\n\t\t\t\t\t[ 'span', function( el ) {\n\t\t\t\t\t\tvar fw = el.styles[ 'font-weight' ];\n\t\t\t\t\t\treturn fw == 'bold' || +fw >= 700;\n\t\t\t\t\t} ]\n\t\t\t\t],\n\n\t\t\t\titalic: [\n\t\t\t\t\t'em',\n\t\t\t\t\t'i',\n\t\t\t\t\t[ 'span', function( el ) {\n\t\t\t\t\t\treturn el.styles[ 'font-style' ] == 'italic';\n\t\t\t\t\t} ]\n\t\t\t\t],\n\n\t\t\t\tunderline: [\n\t\t\t\t\t'u',\n\t\t\t\t\t[ 'span', function( el ) {\n\t\t\t\t\t\treturn el.styles[ 'text-decoration' ] == 'underline';\n\t\t\t\t\t} ]\n\t\t\t\t],\n\n\t\t\t\tstrike: [\n\t\t\t\t\t's',\n\t\t\t\t\t'strike',\n\t\t\t\t\t[ 'span', function( el ) {\n\t\t\t\t\t\treturn el.styles[ 'text-decoration' ] == 'line-through';\n\t\t\t\t\t} ]\n\t\t\t\t],\n\n\t\t\t\tsubscript: [\n\t\t\t\t\t'sub'\n\t\t\t\t],\n\n\t\t\t\tsuperscript: [\n\t\t\t\t\t'sup'\n\t\t\t\t]\n\t\t\t},\n\t\t\tconfig = editor.config,\n\t\t\tlang = editor.lang.basicstyles;\n\n\t\taddButtonCommand( 'Bold', lang.bold, 'bold', config.coreStyles_bold );\n\t\taddButtonCommand( 'Italic', lang.italic, 'italic', config.coreStyles_italic );\n\t\taddButtonCommand( 'Underline', lang.underline, 'underline', config.coreStyles_underline );\n\t\taddButtonCommand( 'Strike', lang.strike, 'strike', config.coreStyles_strike );\n\t\taddButtonCommand( 'Subscript', lang.subscript, 'subscript', config.coreStyles_subscript );\n\t\taddButtonCommand( 'Superscript', lang.superscript, 'superscript', config.coreStyles_superscript );\n\n\t\teditor.setKeystroke( [\n\t\t\t[ CKEDITOR.CTRL + 66 /*B*/, 'bold' ],\n\t\t\t[ CKEDITOR.CTRL + 73 /*I*/, 'italic' ],\n\t\t\t[ CKEDITOR.CTRL + 85 /*U*/, 'underline' ]\n\t\t] );\n\t}\n} );\n\n// Basic Inline Styles.\n\n/**\n * The style definition that applies the **bold** style to the text.\n *\n * Read more in the [documentation](#!/guide/dev_basicstyles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/basicstyles.html).\n *\n *\t\tconfig.coreStyles_bold = { element: 'b', overrides: 'strong' };\n *\n *\t\tconfig.coreStyles_bold = {\n *\t\t\telement: 'span',\n *\t\t\tattributes: { 'class': 'Bold' }\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.coreStyles_bold = { element: 'strong', overrides: 'b' };\n\n/**\n * The style definition that applies the *italics* style to the text.\n *\n * Read more in the [documentation](#!/guide/dev_basicstyles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/basicstyles.html).\n *\n *\t\tconfig.coreStyles_italic = { element: 'i', overrides: 'em' };\n *\n *\t\tCKEDITOR.config.coreStyles_italic = {\n *\t\t\telement: 'span',\n *\t\t\tattributes: { 'class': 'Italic' }\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.coreStyles_italic = { element: 'em', overrides: 'i' };\n\n/**\n * The style definition that applies the <u>underline</u> style to the text.\n *\n * Read more in the [documentation](#!/guide/dev_basicstyles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/basicstyles.html).\n *\n *\t\tCKEDITOR.config.coreStyles_underline = {\n *\t\t\telement: 'span',\n *\t\t\tattributes: { 'class': 'Underline' }\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.coreStyles_underline = { element: 'u' };\n\n/**\n * The style definition that applies the <strike>strikethrough</strike> style to the text.\n *\n * Read more in the [documentation](#!/guide/dev_basicstyles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/basicstyles.html).\n *\n *\t\tCKEDITOR.config.coreStyles_strike = {\n *\t\t\telement: 'span',\n *\t\t\tattributes: { 'class': 'Strikethrough' },\n *\t\t\toverrides: 'strike'\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.coreStyles_strike = { element: 's', overrides: 'strike' };\n\n/**\n * The style definition that applies the subscript style to the text.\n *\n * Read more in the [documentation](#!/guide/dev_basicstyles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/basicstyles.html).\n *\n *\t\tCKEDITOR.config.coreStyles_subscript = {\n *\t\t\telement: 'span',\n *\t\t\tattributes: { 'class': 'Subscript' },\n *\t\t\toverrides: 'sub'\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.coreStyles_subscript = { element: 'sub' };\n\n/**\n * The style definition that applies the superscript style to the text.\n *\n * Read more in the [documentation](#!/guide/dev_basicstyles)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/basicstyles.html).\n *\n *\t\tCKEDITOR.config.coreStyles_superscript = {\n *\t\t\telement: 'span',\n *\t\t\tattributes: { 'class': 'Superscript' },\n *\t\t\toverrides: 'sup'\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.coreStyles_superscript = { element: 'sup' };\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/basicstyles/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar guardElements = { table: 1, ul: 1, ol: 1, blockquote: 1, div: 1 },\n\t\tdirectSelectionGuardElements = {},\n\t\t// All guard elements which can have a direction applied on them.\n\t\tallGuardElements = {};\n\tCKEDITOR.tools.extend( directSelectionGuardElements, guardElements, { tr: 1, p: 1, div: 1, li: 1 } );\n\tCKEDITOR.tools.extend( allGuardElements, directSelectionGuardElements, { td: 1 } );\n\n\tfunction setToolbarStates( editor, path ) {\n\t\tvar useComputedState = editor.config.useComputedState,\n\t\t\tselectedElement;\n\n\t\tuseComputedState = useComputedState === undefined || useComputedState;\n\n\t\t// We can use computedState provided by the browser or traverse parents manually.\n\t\tif ( !useComputedState )\n\t\t\tselectedElement = getElementForDirection( path.lastElement, editor.editable() );\n\n\t\tselectedElement = selectedElement || path.block || path.blockLimit;\n\n\t\t// If we're having BODY here, user probably done CTRL+A, let's try to get the enclosed node, if any.\n\t\tif ( selectedElement.equals( editor.editable() ) ) {\n\t\t\tvar enclosedNode = editor.getSelection().getRanges()[ 0 ].getEnclosedNode();\n\t\t\tenclosedNode && enclosedNode.type == CKEDITOR.NODE_ELEMENT && ( selectedElement = enclosedNode );\n\t\t}\n\n\t\tif ( !selectedElement )\n\t\t\treturn;\n\n\t\tvar selectionDir = useComputedState ? selectedElement.getComputedStyle( 'direction' ) : selectedElement.getStyle( 'direction' ) || selectedElement.getAttribute( 'dir' );\n\n\t\teditor.getCommand( 'bidirtl' ).setState( selectionDir == 'rtl' ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t\teditor.getCommand( 'bidiltr' ).setState( selectionDir == 'ltr' ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t}\n\n\tfunction handleMixedDirContent( editor, path ) {\n\t\tvar directionNode = path.block || path.blockLimit || editor.editable();\n\t\tvar pathDir = directionNode.getDirection( 1 );\n\t\tif ( pathDir != ( editor._.selDir || editor.lang.dir ) ) {\n\t\t\teditor._.selDir = pathDir;\n\t\t\teditor.fire( 'contentDirChanged', pathDir );\n\t\t}\n\t}\n\n\t// Returns element with possibility of applying the direction.\n\t// @param node\n\tfunction getElementForDirection( node, root ) {\n\t\twhile ( node && !( node.getName() in allGuardElements || node.equals( root ) ) ) {\n\t\t\tvar parent = node.getParent();\n\t\t\tif ( !parent )\n\t\t\t\tbreak;\n\n\t\t\tnode = parent;\n\t\t}\n\n\t\treturn node;\n\t}\n\n\tfunction switchDir( element, dir, editor, database ) {\n\t\tif ( element.isReadOnly() || element.equals( editor.editable() ) )\n\t\t\treturn;\n\n\t\t// Mark this element as processed by switchDir.\n\t\tCKEDITOR.dom.element.setMarker( database, element, 'bidi_processed', 1 );\n\n\t\t// Check whether one of the ancestors has already been styled.\n\t\tvar parent = element,\n\t\t\teditable = editor.editable();\n\t\twhile ( ( parent = parent.getParent() ) && !parent.equals( editable ) ) {\n\t\t\tif ( parent.getCustomData( 'bidi_processed' ) ) {\n\t\t\t\t// Ancestor style must dominate.\n\t\t\t\telement.removeStyle( 'direction' );\n\t\t\t\telement.removeAttribute( 'dir' );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tvar useComputedState = ( 'useComputedState' in editor.config ) ? editor.config.useComputedState : 1;\n\n\t\tvar elementDir = useComputedState ? element.getComputedStyle( 'direction' ) : element.getStyle( 'direction' ) || element.hasAttribute( 'dir' );\n\n\t\t// Stop if direction is same as present.\n\t\tif ( elementDir == dir )\n\t\t\treturn;\n\n\t\t// Clear direction on this element.\n\t\telement.removeStyle( 'direction' );\n\n\t\t// Do the second check when computed state is ON, to check\n\t\t// if we need to apply explicit direction on this element.\n\t\tif ( useComputedState ) {\n\t\t\telement.removeAttribute( 'dir' );\n\t\t\tif ( dir != element.getComputedStyle( 'direction' ) ) {\n\t\t\t\telement.setAttribute( 'dir', dir );\n\t\t\t}\n\t\t} else {\n\t\t\t// Set new direction for this element.\n\t\t\telement.setAttribute( 'dir', dir );\n\t\t}\n\n\t\teditor.forceNextSelectionCheck();\n\n\t\treturn;\n\t}\n\n\tfunction getFullySelected( range, elements, enterMode ) {\n\t\tvar ancestor = range.getCommonAncestor( false, true );\n\n\t\trange = range.clone();\n\t\trange.enlarge( enterMode == CKEDITOR.ENTER_BR ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS );\n\n\t\tif ( range.checkBoundaryOfElement( ancestor, CKEDITOR.START ) && range.checkBoundaryOfElement( ancestor, CKEDITOR.END ) ) {\n\t\t\tvar parent;\n\t\t\twhile ( ancestor && ancestor.type == CKEDITOR.NODE_ELEMENT && ( parent = ancestor.getParent() ) && parent.getChildCount() == 1 && !( ancestor.getName() in elements ) )\n\t\t\t\tancestor = parent;\n\n\t\t\treturn ancestor.type == CKEDITOR.NODE_ELEMENT && ( ancestor.getName() in elements ) && ancestor;\n\t\t}\n\t}\n\n\tfunction bidiCommand( dir ) {\n\t\treturn {\n\t\t\t// It applies to a \"block-like\" context.\n\t\t\tcontext: 'p',\n\t\t\tallowedContent: {\n\t\t\t\t'h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td': {\n\t\t\t\t\tpropertiesOnly: true,\n\t\t\t\t\tattributes: 'dir'\n\t\t\t\t}\n\t\t\t},\n\t\t\trequiredContent: 'p[dir]',\n\t\t\trefresh: function( editor, path ) {\n\t\t\t\tsetToolbarStates( editor, path );\n\t\t\t\thandleMixedDirContent( editor, path );\n\t\t\t},\n\t\t\texec: function( editor ) {\n\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\tenterMode = editor.config.enterMode,\n\t\t\t\t\tranges = selection.getRanges();\n\n\t\t\t\tif ( ranges && ranges.length ) {\n\t\t\t\t\tvar database = {};\n\n\t\t\t\t\t// Creates bookmarks for selection, as we may split some blocks.\n\t\t\t\t\tvar bookmarks = selection.createBookmarks();\n\n\t\t\t\t\tvar rangeIterator = ranges.createIterator(),\n\t\t\t\t\t\trange,\n\t\t\t\t\t\ti = 0;\n\n\t\t\t\t\twhile ( ( range = rangeIterator.getNextRange( 1 ) ) ) {\n\t\t\t\t\t\t// Apply do directly selected elements from guardElements.\n\t\t\t\t\t\tvar selectedElement = range.getEnclosedNode();\n\n\t\t\t\t\t\t// If this is not our element of interest, apply to fully selected elements from guardElements.\n\t\t\t\t\t\tif ( !selectedElement || selectedElement && !( selectedElement.type == CKEDITOR.NODE_ELEMENT && selectedElement.getName() in directSelectionGuardElements ) )\n\t\t\t\t\t\t\tselectedElement = getFullySelected( range, guardElements, enterMode );\n\n\t\t\t\t\t\tselectedElement && switchDir( selectedElement, dir, editor, database );\n\n\t\t\t\t\t\tvar iterator, block;\n\n\t\t\t\t\t\t// Walker searching for guardElements.\n\t\t\t\t\t\tvar walker = new CKEDITOR.dom.walker( range );\n\n\t\t\t\t\t\tvar start = bookmarks[ i ].startNode,\n\t\t\t\t\t\t\tend = bookmarks[ i++ ].endNode;\n\n\t\t\t\t\t\twalker.evaluator = function( node ) {\n\t\t\t\t\t\t\tvar enterTagName = ( enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' );\n\n\t\t\t\t\t\t\tfunction isNodeElement( node ) {\n\t\t\t\t\t\t\t\treturn node ? ( node.type == CKEDITOR.NODE_ELEMENT ) : false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfunction isGuard( node ) {\n\t\t\t\t\t\t\t\treturn node.getName() in guardElements;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn !!( isNodeElement( node ) && isGuard( node ) && !( node.is( enterTagName ) && isNodeElement( node.getParent() ) && node.getParent().is( 'blockquote' ) ) &&\n\t\t\t\t\t\t\t// Element must be fully included in the range as well. (#6485).\n\t\t\t\t\t\t\tnode.getPosition( start ) & CKEDITOR.POSITION_FOLLOWING &&\n\t\t\t\t\t\t\t( ( node.getPosition( end ) & CKEDITOR.POSITION_PRECEDING + CKEDITOR.POSITION_CONTAINS ) == CKEDITOR.POSITION_PRECEDING ) );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\twhile ( ( block = walker.next() ) )\n\t\t\t\t\t\t\tswitchDir( block, dir, editor, database );\n\n\t\t\t\t\t\titerator = range.createIterator();\n\t\t\t\t\t\titerator.enlargeBr = enterMode != CKEDITOR.ENTER_BR;\n\n\t\t\t\t\t\twhile ( ( block = iterator.getNextParagraph( enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' ) ) )\n\t\t\t\t\t\t\tswitchDir( block, dir, editor, database );\n\t\t\t\t\t}\n\n\t\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\t\t\t\teditor.forceNextSelectionCheck();\n\t\t\t\t\t// Restore selection position.\n\t\t\t\t\tselection.selectBookmarks( bookmarks );\n\n\t\t\t\t\teditor.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tCKEDITOR.plugins.add( 'bidi', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'bidiltr,bidirtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\t// All buttons use the same code to register. So, to avoid\n\t\t\t// duplications, let's use this tool function.\n\t\t\tfunction addButtonCommand( buttonName, buttonLabel, commandName, commandDef, order ) {\n\t\t\t\teditor.addCommand( commandName, new CKEDITOR.command( editor, commandDef ) );\n\n\t\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\t\teditor.ui.addButton( buttonName, {\n\t\t\t\t\t\tlabel: buttonLabel,\n\t\t\t\t\t\tcommand: commandName,\n\t\t\t\t\t\ttoolbar: 'bidi,' + order\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar lang = editor.lang.bidi;\n\n\t\t\taddButtonCommand( 'BidiLtr', lang.ltr, 'bidiltr', bidiCommand( 'ltr' ), 10 );\n\t\t\taddButtonCommand( 'BidiRtl', lang.rtl, 'bidirtl', bidiCommand( 'rtl' ), 20 );\n\n\t\t\teditor.on( 'contentDom', function() {\n\t\t\t\teditor.document.on( 'dirChanged', function( evt ) {\n\t\t\t\t\teditor.fire( 'dirChanged', {\n\t\t\t\t\t\tnode: evt.data,\n\t\t\t\t\t\tdir: evt.data.getDirection( 1 )\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t// Indicate that the current selection is in different direction than the UI.\n\t\t\teditor.on( 'contentDirChanged', function( evt ) {\n\t\t\t\tvar func = ( editor.lang.dir != evt.data ? 'add' : 'remove' ) + 'Class';\n\t\t\t\tvar toolbar = editor.ui.space( editor.config.toolbarLocation );\n\t\t\t\tif ( toolbar )\n\t\t\t\t\ttoolbar[ func ]( 'cke_mixed_dir_content' );\n\t\t\t} );\n\t\t}\n\t} );\n\n\t// If the element direction changed, we need to switch the margins of\n\t// the element and all its children, so it will get really reflected\n\t// like a mirror. (#5910)\n\tfunction isOffline( el ) {\n\t\tvar html = el.getDocument().getBody().getParent();\n\t\twhile ( el ) {\n\t\t\tif ( el.equals( html ) )\n\t\t\t\treturn false;\n\t\t\tel = el.getParent();\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction dirChangeNotifier( org ) {\n\t\tvar isAttribute = org == elementProto.setAttribute,\n\t\t\tisRemoveAttribute = org == elementProto.removeAttribute,\n\t\t\tdirStyleRegexp = /\\bdirection\\s*:\\s*(.*?)\\s*(:?$|;)/;\n\n\t\treturn function( name, val ) {\n\t\t\tif ( !this.isReadOnly() ) {\n\t\t\t\tvar orgDir;\n\t\t\t\tif ( ( name == ( isAttribute || isRemoveAttribute ? 'dir' : 'direction' ) || name == 'style' && ( isRemoveAttribute || dirStyleRegexp.test( val ) ) ) && !isOffline( this ) ) {\n\t\t\t\t\torgDir = this.getDirection( 1 );\n\t\t\t\t\tvar retval = org.apply( this, arguments );\n\t\t\t\t\tif ( orgDir != this.getDirection( 1 ) ) {\n\t\t\t\t\t\tthis.getDocument().fire( 'dirChanged', this );\n\t\t\t\t\t\treturn retval;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn org.apply( this, arguments );\n\t\t};\n\t}\n\n\tvar elementProto = CKEDITOR.dom.element.prototype,\n\t\tmethods = [ 'setStyle', 'removeStyle', 'setAttribute', 'removeAttribute' ];\n\tfor ( var i = 0; i < methods.length; i++ )\n\t\telementProto[ methods[ i ] ] = CKEDITOR.tools.override( elementProto[ methods[ i ] ], dirChangeNotifier );\n} )();\n\n/**\n * Fired when the language direction of an element is changed.\n *\n * @event dirChanged\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {CKEDITOR.dom.node} data.node The element that is being changed.\n * @param {String} data.dir The new direction.\n */\n\n/**\n * Fired when the language direction in the specific cursor position is changed\n *\n * @event contentDirChanged\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {String} data The direction in the current position.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/bidi/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tfunction noBlockLeft( bqBlock ) {\n\t\tfor ( var i = 0, length = bqBlock.getChildCount(), child; i < length && ( child = bqBlock.getChild( i ) ); i++ ) {\n\t\t\tif ( child.type == CKEDITOR.NODE_ELEMENT && child.isBlockBoundary() )\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tvar commandObject = {\n\t\texec: function( editor ) {\n\t\t\tvar state = editor.getCommand( 'blockquote' ).state,\n\t\t\t\tselection = editor.getSelection(),\n\t\t\t\trange = selection && selection.getRanges()[ 0 ];\n\n\t\t\tif ( !range )\n\t\t\t\treturn;\n\n\t\t\tvar bookmarks = selection.createBookmarks();\n\n\t\t\t// Kludge for #1592: if the bookmark nodes are in the beginning of\n\t\t\t// blockquote, then move them to the nearest block element in the\n\t\t\t// blockquote.\n\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\tvar bookmarkStart = bookmarks[ 0 ].startNode,\n\t\t\t\t\tbookmarkEnd = bookmarks[ 0 ].endNode,\n\t\t\t\t\tcursor;\n\n\t\t\t\tif ( bookmarkStart && bookmarkStart.getParent().getName() == 'blockquote' ) {\n\t\t\t\t\tcursor = bookmarkStart;\n\t\t\t\t\twhile ( ( cursor = cursor.getNext() ) ) {\n\t\t\t\t\t\tif ( cursor.type == CKEDITOR.NODE_ELEMENT && cursor.isBlockBoundary() ) {\n\t\t\t\t\t\t\tbookmarkStart.move( cursor, true );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( bookmarkEnd && bookmarkEnd.getParent().getName() == 'blockquote' ) {\n\t\t\t\t\tcursor = bookmarkEnd;\n\t\t\t\t\twhile ( ( cursor = cursor.getPrevious() ) ) {\n\t\t\t\t\t\tif ( cursor.type == CKEDITOR.NODE_ELEMENT && cursor.isBlockBoundary() ) {\n\t\t\t\t\t\t\tbookmarkEnd.move( cursor );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar iterator = range.createIterator(),\n\t\t\t\tblock;\n\t\t\titerator.enlargeBr = editor.config.enterMode != CKEDITOR.ENTER_BR;\n\n\t\t\tif ( state == CKEDITOR.TRISTATE_OFF ) {\n\t\t\t\tvar paragraphs = [];\n\t\t\t\twhile ( ( block = iterator.getNextParagraph() ) )\n\t\t\t\t\tparagraphs.push( block );\n\n\t\t\t\t// If no paragraphs, create one from the current selection position.\n\t\t\t\tif ( paragraphs.length < 1 ) {\n\t\t\t\t\tvar para = editor.document.createElement( editor.config.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' ),\n\t\t\t\t\t\tfirstBookmark = bookmarks.shift();\n\t\t\t\t\trange.insertNode( para );\n\t\t\t\t\tpara.append( new CKEDITOR.dom.text( '\\ufeff', editor.document ) );\n\t\t\t\t\trange.moveToBookmark( firstBookmark );\n\t\t\t\t\trange.selectNodeContents( para );\n\t\t\t\t\trange.collapse( true );\n\t\t\t\t\tfirstBookmark = range.createBookmark();\n\t\t\t\t\tparagraphs.push( para );\n\t\t\t\t\tbookmarks.unshift( firstBookmark );\n\t\t\t\t}\n\n\t\t\t\t// Make sure all paragraphs have the same parent.\n\t\t\t\tvar commonParent = paragraphs[ 0 ].getParent(),\n\t\t\t\t\ttmp = [];\n\t\t\t\tfor ( var i = 0; i < paragraphs.length; i++ ) {\n\t\t\t\t\tblock = paragraphs[ i ];\n\t\t\t\t\tcommonParent = commonParent.getCommonAncestor( block.getParent() );\n\t\t\t\t}\n\n\t\t\t\t// The common parent must not be the following tags: table, tbody, tr, ol, ul.\n\t\t\t\tvar denyTags = { table: 1, tbody: 1, tr: 1, ol: 1, ul: 1 };\n\t\t\t\twhile ( denyTags[ commonParent.getName() ] )\n\t\t\t\t\tcommonParent = commonParent.getParent();\n\n\t\t\t\t// Reconstruct the block list to be processed such that all resulting blocks\n\t\t\t\t// satisfy parentNode.equals( commonParent ).\n\t\t\t\tvar lastBlock = null;\n\t\t\t\twhile ( paragraphs.length > 0 ) {\n\t\t\t\t\tblock = paragraphs.shift();\n\t\t\t\t\twhile ( !block.getParent().equals( commonParent ) )\n\t\t\t\t\t\tblock = block.getParent();\n\t\t\t\t\tif ( !block.equals( lastBlock ) )\n\t\t\t\t\t\ttmp.push( block );\n\t\t\t\t\tlastBlock = block;\n\t\t\t\t}\n\n\t\t\t\t// If any of the selected blocks is a blockquote, remove it to prevent\n\t\t\t\t// nested blockquotes.\n\t\t\t\twhile ( tmp.length > 0 ) {\n\t\t\t\t\tblock = tmp.shift();\n\t\t\t\t\tif ( block.getName() == 'blockquote' ) {\n\t\t\t\t\t\tvar docFrag = new CKEDITOR.dom.documentFragment( editor.document );\n\t\t\t\t\t\twhile ( block.getFirst() ) {\n\t\t\t\t\t\t\tdocFrag.append( block.getFirst().remove() );\n\t\t\t\t\t\t\tparagraphs.push( docFrag.getLast() );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdocFrag.replace( block );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparagraphs.push( block );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Now we have all the blocks to be included in a new blockquote node.\n\t\t\t\tvar bqBlock = editor.document.createElement( 'blockquote' );\n\t\t\t\tbqBlock.insertBefore( paragraphs[ 0 ] );\n\t\t\t\twhile ( paragraphs.length > 0 ) {\n\t\t\t\t\tblock = paragraphs.shift();\n\t\t\t\t\tbqBlock.append( block );\n\t\t\t\t}\n\t\t\t} else if ( state == CKEDITOR.TRISTATE_ON ) {\n\t\t\t\tvar moveOutNodes = [],\n\t\t\t\t\tdatabase = {};\n\n\t\t\t\twhile ( ( block = iterator.getNextParagraph() ) ) {\n\t\t\t\t\tvar bqParent = null,\n\t\t\t\t\t\tbqChild = null;\n\t\t\t\t\twhile ( block.getParent() ) {\n\t\t\t\t\t\tif ( block.getParent().getName() == 'blockquote' ) {\n\t\t\t\t\t\t\tbqParent = block.getParent();\n\t\t\t\t\t\t\tbqChild = block;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tblock = block.getParent();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remember the blocks that were recorded down in the moveOutNodes array\n\t\t\t\t\t// to prevent duplicates.\n\t\t\t\t\tif ( bqParent && bqChild && !bqChild.getCustomData( 'blockquote_moveout' ) ) {\n\t\t\t\t\t\tmoveOutNodes.push( bqChild );\n\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, bqChild, 'blockquote_moveout', true );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\t\t\tvar movedNodes = [],\n\t\t\t\t\tprocessedBlockquoteBlocks = [];\n\n\t\t\t\tdatabase = {};\n\t\t\t\twhile ( moveOutNodes.length > 0 ) {\n\t\t\t\t\tvar node = moveOutNodes.shift();\n\t\t\t\t\tbqBlock = node.getParent();\n\n\t\t\t\t\t// If the node is located at the beginning or the end, just take it out\n\t\t\t\t\t// without splitting. Otherwise, split the blockquote node and move the\n\t\t\t\t\t// paragraph in between the two blockquote nodes.\n\t\t\t\t\tif ( !node.getPrevious() )\n\t\t\t\t\t\tnode.remove().insertBefore( bqBlock );\n\t\t\t\t\telse if ( !node.getNext() )\n\t\t\t\t\t\tnode.remove().insertAfter( bqBlock );\n\t\t\t\t\telse {\n\t\t\t\t\t\tnode.breakParent( node.getParent() );\n\t\t\t\t\t\tprocessedBlockquoteBlocks.push( node.getNext() );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remember the blockquote node so we can clear it later (if it becomes empty).\n\t\t\t\t\tif ( !bqBlock.getCustomData( 'blockquote_processed' ) ) {\n\t\t\t\t\t\tprocessedBlockquoteBlocks.push( bqBlock );\n\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, bqBlock, 'blockquote_processed', true );\n\t\t\t\t\t}\n\n\t\t\t\t\tmovedNodes.push( node );\n\t\t\t\t}\n\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\t\t\t// Clear blockquote nodes that have become empty.\n\t\t\t\tfor ( i = processedBlockquoteBlocks.length - 1; i >= 0; i-- ) {\n\t\t\t\t\tbqBlock = processedBlockquoteBlocks[ i ];\n\t\t\t\t\tif ( noBlockLeft( bqBlock ) )\n\t\t\t\t\t\tbqBlock.remove();\n\t\t\t\t}\n\n\t\t\t\tif ( editor.config.enterMode == CKEDITOR.ENTER_BR ) {\n\t\t\t\t\tvar firstTime = true;\n\t\t\t\t\twhile ( movedNodes.length ) {\n\t\t\t\t\t\tnode = movedNodes.shift();\n\n\t\t\t\t\t\tif ( node.getName() == 'div' ) {\n\t\t\t\t\t\t\tdocFrag = new CKEDITOR.dom.documentFragment( editor.document );\n\t\t\t\t\t\t\tvar needBeginBr = firstTime && node.getPrevious() && !( node.getPrevious().type == CKEDITOR.NODE_ELEMENT && node.getPrevious().isBlockBoundary() );\n\t\t\t\t\t\t\tif ( needBeginBr )\n\t\t\t\t\t\t\t\tdocFrag.append( editor.document.createElement( 'br' ) );\n\n\t\t\t\t\t\t\tvar needEndBr = node.getNext() && !( node.getNext().type == CKEDITOR.NODE_ELEMENT && node.getNext().isBlockBoundary() );\n\t\t\t\t\t\t\twhile ( node.getFirst() )\n\t\t\t\t\t\t\t\tnode.getFirst().remove().appendTo( docFrag );\n\n\t\t\t\t\t\t\tif ( needEndBr )\n\t\t\t\t\t\t\t\tdocFrag.append( editor.document.createElement( 'br' ) );\n\n\t\t\t\t\t\t\tdocFrag.replace( node );\n\t\t\t\t\t\t\tfirstTime = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tselection.selectBookmarks( bookmarks );\n\t\t\teditor.focus();\n\t\t},\n\n\t\trefresh: function( editor, path ) {\n\t\t\t// Check if inside of blockquote.\n\t\t\tvar firstBlock = path.block || path.blockLimit;\n\t\t\tthis.setState( editor.elementPath( firstBlock ).contains( 'blockquote', 1 ) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t\t},\n\n\t\tcontext: 'blockquote',\n\n\t\tallowedContent: 'blockquote',\n\t\trequiredContent: 'blockquote'\n\t};\n\n\tCKEDITOR.plugins.add( 'blockquote', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'blockquote', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\teditor.addCommand( 'blockquote', commandObject );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Blockquote', {\n\t\t\t\tlabel: editor.lang.blockquote.toolbar,\n\t\t\t\tcommand: 'blockquote',\n\t\t\t\ttoolbar: 'blocks,10'\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/blockquote/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @ignore\n * File overview: Clipboard support.\n */\n\n//\n// COPY & PASTE EXECUTION FLOWS:\n// -- CTRL+C\n//\t\t* if ( isCustomCopyCutSupported )\n//\t\t\t* dataTransfer.setData( 'text/html', getSelectedHtml )\n//\t\t* else\n//\t\t\t* browser's default behavior\n// -- CTRL+X\n//\t\t* listen onKey (onkeydown)\n//\t\t* fire 'saveSnapshot' on editor\n//\t\t* if ( isCustomCopyCutSupported )\n//\t\t\t* dataTransfer.setData( 'text/html', getSelectedHtml )\n//\t\t\t* extractSelectedHtml // remove selected contents\n//\t\t* else\n//\t\t\t* browser's default behavior\n//\t\t* deferred second 'saveSnapshot' event\n// -- CTRL+V\n//\t\t* listen onKey (onkeydown)\n//\t\t* simulate 'beforepaste' for non-IEs on editable\n//\t\t* listen 'onpaste' on editable ('onbeforepaste' for IE)\n//\t\t* fire 'beforePaste' on editor\n//\t\t* if ( !canceled && ( htmlInDataTransfer || !external paste) && dataTransfer is not empty ) getClipboardDataByPastebin\n//\t\t* fire 'paste' on editor\n//\t\t* !canceled && fire 'afterPaste' on editor\n// -- Copy command\n//\t\t* tryToCutCopy\n//\t\t\t* execCommand\n//\t\t* !success && notification\n// -- Cut command\n//\t\t* fixCut\n//\t\t* tryToCutCopy\n//\t\t\t* execCommand\n//\t\t* !success && notification\n// -- Paste command\n//\t\t* fire 'paste' on editable ('beforepaste' for IE)\n//\t\t* !canceled && execCommand 'paste'\n//\t\t* !success && fire 'pasteDialog' on editor\n// -- Paste from native context menu & menubar\n//\t\t(Fx & Webkits are handled in 'paste' default listener.\n//\t\tOpera cannot be handled at all because it doesn't fire any events\n//\t\tSpecial treatment is needed for IE, for which is this part of doc)\n//\t\t* listen 'onpaste'\n//\t\t* cancel native event\n//\t\t* fire 'beforePaste' on editor\n//\t\t* if ( !canceled && ( htmlInDataTransfer || !external paste) && dataTransfer is not empty ) getClipboardDataByPastebin\n//\t\t* execIECommand( 'paste' ) -> this fires another 'paste' event, so cancel it\n//\t\t* fire 'paste' on editor\n//\t\t* !canceled && fire 'afterPaste' on editor\n//\n//\n// PASTE EVENT - PREPROCESSING:\n// -- Possible dataValue types: auto, text, html.\n// -- Possible dataValue contents:\n//\t\t* text (possible \\n\\r)\n//\t\t* htmlified text (text + br,div,p - no presentational markup & attrs - depends on browser)\n//\t\t* html\n// -- Possible flags:\n//\t\t* htmlified - if true then content is a HTML even if no markup inside. This flag is set\n//\t\t\tfor content from editable pastebins, because they 'htmlify' pasted content.\n//\n// -- Type: auto:\n//\t\t* content: htmlified text ->\tfilter, unify text markup (brs, ps, divs), set type: text\n//\t\t* content: html ->\t\t\t\tfilter, set type: html\n// -- Type: text:\n//\t\t* content: htmlified text ->\tfilter, unify text markup\n//\t\t* content: html ->\t\t\t\tfilter, strip presentational markup, unify text markup\n// -- Type: html:\n//\t\t* content: htmlified text ->\tfilter, unify text markup\n//\t\t* content: html ->\t\t\t\tfilter\n//\n// -- Phases:\n//\t\t* if dataValue is empty copy data from dataTransfer to dataValue (priority 1)\n//\t\t* filtering (priorities 3-5) - e.g. pastefromword filters\n//\t\t* content type sniffing (priority 6)\n//\t\t* markup transformations for text (priority 6)\n//\n// DRAG & DROP EXECUTION FLOWS:\n// -- Drag\n//\t\t* save to the global object:\n//\t\t\t* drag timestamp (with 'cke-' prefix),\n//\t\t\t* selected html,\n//\t\t\t* drag range,\n//\t\t\t* editor instance.\n//\t\t* put drag timestamp into event.dataTransfer.text\n// -- Drop\n//\t\t* if events text == saved timestamp && editor == saved editor\n//\t\t\tinternal drag & drop occurred\n//\t\t\t* getRangeAtDropPosition\n//\t\t\t* create bookmarks for drag and drop ranges starting from the end of the document\n//\t\t\t* dragRange.deleteContents()\n//\t\t\t* fire 'paste' with saved html and drop range\n//\t\t* if events text == saved timestamp && editor != saved editor\n//\t\t\tcross editor drag & drop occurred\n//\t\t\t* getRangeAtDropPosition\n//\t\t\t* fire 'paste' with saved html\n//\t\t\t* dragRange.deleteContents()\n//\t\t\t* FF: refreshCursor on afterPaste\n//\t\t* if events text != saved timestamp\n//\t\t\tdrop form external source occurred\n//\t\t\t* getRangeAtDropPosition\n//\t\t\t* if event contains html data then fire 'paste' with html\n//\t\t\t* else if event contains text data then fire 'paste' with encoded text\n//\t\t\t* FF: refreshCursor on afterPaste\n\n'use strict';\n\n( function() {\n\t// Register the plugin.\n\tCKEDITOR.plugins.add( 'clipboard', {\n\t\trequires: 'dialog',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'copy,copy-rtl,cut,cut-rtl,paste,paste-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tvar filterType,\n\t\t\t\tfiltersFactory = filtersFactoryFactory();\n\n\t\t\tif ( editor.config.forcePasteAsPlainText ) {\n\t\t\t\tfilterType = 'plain-text';\n\t\t\t} else if ( editor.config.pasteFilter ) {\n\t\t\t\tfilterType = editor.config.pasteFilter;\n\t\t\t}\n\t\t\t// On Webkit the pasteFilter defaults 'semantic-content' because pasted data is so terrible\n\t\t\t// that it must be always filtered.\n\t\t\telse if ( CKEDITOR.env.webkit && !( 'pasteFilter' in editor.config ) ) {\n\t\t\t\tfilterType = 'semantic-content';\n\t\t\t}\n\n\t\t\teditor.pasteFilter = filtersFactory.get( filterType );\n\n\t\t\tinitPasteClipboard( editor );\n\t\t\tinitDragDrop( editor );\n\n\t\t\tCKEDITOR.dialog.add( 'paste', CKEDITOR.getUrl( this.path + 'dialogs/paste.js' ) );\n\n\t\t\teditor.on( 'paste', function( evt ) {\n\t\t\t\t// Init `dataTransfer` if `paste` event was fired without it, so it will be always available.\n\t\t\t\tif ( !evt.data.dataTransfer ) {\n\t\t\t\t\tevt.data.dataTransfer = new CKEDITOR.plugins.clipboard.dataTransfer();\n\t\t\t\t}\n\n\t\t\t\t// If dataValue is already set (manually or by paste bin), so do not override it.\n\t\t\t\tif ( evt.data.dataValue ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar dataTransfer = evt.data.dataTransfer,\n\t\t\t\t\t// IE support only text data and throws exception if we try to get html data.\n\t\t\t\t\t// This html data object may also be empty if we drag content of the textarea.\n\t\t\t\t\tvalue = dataTransfer.getData( 'text/html' );\n\n\t\t\t\tif ( value ) {\n\t\t\t\t\tevt.data.dataValue = value;\n\t\t\t\t\tevt.data.type = 'html';\n\t\t\t\t} else {\n\t\t\t\t\t// Try to get text data otherwise.\n\t\t\t\t\tvalue = dataTransfer.getData( 'text/plain' );\n\n\t\t\t\t\tif ( value ) {\n\t\t\t\t\t\tevt.data.dataValue = editor.editable().transformPlainTextToHtml( value );\n\t\t\t\t\t\tevt.data.type = 'text';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, null, null, 1 );\n\n\t\t\teditor.on( 'paste', function( evt ) {\n\t\t\t\tvar data = evt.data.dataValue,\n\t\t\t\t\tblockElements = CKEDITOR.dtd.$block;\n\n\t\t\t\t// Filter webkit garbage.\n\t\t\t\tif ( data.indexOf( 'Apple-' ) > -1 ) {\n\t\t\t\t\t// Replace special webkit's &nbsp; with simple space, because webkit\n\t\t\t\t\t// produces them even for normal spaces.\n\t\t\t\t\tdata = data.replace( /<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi, ' ' );\n\n\t\t\t\t\t// Strip <span> around white-spaces when not in forced 'html' content type.\n\t\t\t\t\t// This spans are created only when pasting plain text into Webkit,\n\t\t\t\t\t// but for safety reasons remove them always.\n\t\t\t\t\tif ( evt.data.type != 'html' ) {\n\t\t\t\t\t\tdata = data.replace( /<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi, function( all, spaces ) {\n\t\t\t\t\t\t\t// Replace tabs with 4 spaces like Fx does.\n\t\t\t\t\t\t\treturn spaces.replace( /\\t/g, '&nbsp;&nbsp; &nbsp;' );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t// This br is produced only when copying & pasting HTML content.\n\t\t\t\t\tif ( data.indexOf( '<br class=\"Apple-interchange-newline\">' ) > -1 ) {\n\t\t\t\t\t\tevt.data.startsWithEOL = 1;\n\t\t\t\t\t\tevt.data.preSniffing = 'html'; // Mark as not text.\n\t\t\t\t\t\tdata = data.replace( /<br class=\"Apple-interchange-newline\">/, '' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove all other classes.\n\t\t\t\t\tdata = data.replace( /(<[^>]+) class=\"Apple-[^\"]*\"/gi, '$1' );\n\t\t\t\t}\n\n\t\t\t\t// Strip editable that was copied from inside. (#9534)\n\t\t\t\tif ( data.match( /^<[^<]+cke_(editable|contents)/i ) ) {\n\t\t\t\t\tvar tmp,\n\t\t\t\t\t\teditable_wrapper,\n\t\t\t\t\t\twrapper = new CKEDITOR.dom.element( 'div' );\n\n\t\t\t\t\twrapper.setHtml( data );\n\t\t\t\t\t// Verify for sure and check for nested editor UI parts. (#9675)\n\t\t\t\t\twhile ( wrapper.getChildCount() == 1 &&\n\t\t\t\t\t\t\t( tmp = wrapper.getFirst() ) &&\n\t\t\t\t\t\t\ttmp.type == CKEDITOR.NODE_ELEMENT &&\t// Make sure first-child is element.\n\t\t\t\t\t\t\t( tmp.hasClass( 'cke_editable' ) || tmp.hasClass( 'cke_contents' ) ) ) {\n\t\t\t\t\t\twrapper = editable_wrapper = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If editable wrapper was found strip it and bogus <br> (added on FF).\n\t\t\t\t\tif ( editable_wrapper )\n\t\t\t\t\t\tdata = editable_wrapper.getHtml().replace( /<br>$/i, '' );\n\t\t\t\t}\n\n\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t// &nbsp; <p> -> <p> (br.cke-pasted-remove will be removed later)\n\t\t\t\t\tdata = data.replace( /^&nbsp;(?: |\\r\\n)?<(\\w+)/g, function( match, elementName ) {\n\t\t\t\t\t\tif ( elementName.toLowerCase() in blockElements ) {\n\t\t\t\t\t\t\tevt.data.preSniffing = 'html'; // Mark as not a text.\n\t\t\t\t\t\t\treturn '<' + elementName;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn match;\n\t\t\t\t\t} );\n\t\t\t\t} else if ( CKEDITOR.env.webkit ) {\n\t\t\t\t\t// </p><div><br></div> -> </p><br>\n\t\t\t\t\t// We don't mark br, because this situation can happen for htmlified text too.\n\t\t\t\t\tdata = data.replace( /<\\/(\\w+)><div><br><\\/div>$/, function( match, elementName ) {\n\t\t\t\t\t\tif ( elementName in blockElements ) {\n\t\t\t\t\t\t\tevt.data.endsWithEOL = 1;\n\t\t\t\t\t\t\treturn '</' + elementName + '>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn match;\n\t\t\t\t\t} );\n\t\t\t\t} else if ( CKEDITOR.env.gecko ) {\n\t\t\t\t\t// Firefox adds bogus <br> when user pasted text followed by space(s).\n\t\t\t\t\tdata = data.replace( /(\\s)<br>$/, '$1' );\n\t\t\t\t}\n\n\t\t\t\tevt.data.dataValue = data;\n\t\t\t}, null, null, 3 );\n\n\t\t\teditor.on( 'paste', function( evt ) {\n\t\t\t\tvar dataObj = evt.data,\n\t\t\t\t\ttype = dataObj.type,\n\t\t\t\t\tdata = dataObj.dataValue,\n\t\t\t\t\ttrueType,\n\t\t\t\t\t// Default is 'html'.\n\t\t\t\t\tdefaultType = editor.config.clipboard_defaultContentType || 'html',\n\t\t\t\t\ttransferType = dataObj.dataTransfer.getTransferType( editor );\n\n\t\t\t\t// If forced type is 'html' we don't need to know true data type.\n\t\t\t\tif ( type == 'html' || dataObj.preSniffing == 'html' ) {\n\t\t\t\t\ttrueType = 'html';\n\t\t\t\t} else {\n\t\t\t\t\ttrueType = recogniseContentType( data );\n\t\t\t\t}\n\n\t\t\t\t// Unify text markup.\n\t\t\t\tif ( trueType == 'htmlifiedtext' ) {\n\t\t\t\t\tdata = htmlifiedTextHtmlification( editor.config, data );\n\t\t\t\t}\n\n\t\t\t\t// Strip presentational markup & unify text markup.\n\t\t\t\t// Forced plain text (dialog or forcePAPT).\n\t\t\t\t// Note: we do not check dontFilter option in this case, because forcePAPT was implemented\n\t\t\t\t// before pasteFilter and pasteFilter is automatically used on Webkit&Blink since 4.5, so\n\t\t\t\t// forcePAPT should have priority as it had before 4.5.\n\t\t\t\tif ( type == 'text' && trueType == 'html' ) {\n\t\t\t\t\tdata = filterContent( editor, data, filtersFactory.get( 'plain-text' ) );\n\t\t\t\t}\n\t\t\t\t// External paste and pasteFilter exists and filtering isn't disabled.\n\t\t\t\telse if ( transferType == CKEDITOR.DATA_TRANSFER_EXTERNAL && editor.pasteFilter && !dataObj.dontFilter ) {\n\t\t\t\t\tdata = filterContent( editor, data, editor.pasteFilter );\n\t\t\t\t}\n\n\t\t\t\tif ( dataObj.startsWithEOL ) {\n\t\t\t\t\tdata = '<br data-cke-eol=\"1\">' + data;\n\t\t\t\t}\n\t\t\t\tif ( dataObj.endsWithEOL ) {\n\t\t\t\t\tdata += '<br data-cke-eol=\"1\">';\n\t\t\t\t}\n\n\t\t\t\tif ( type == 'auto' ) {\n\t\t\t\t\ttype = ( trueType == 'html' || defaultType == 'html' ) ? 'html' : 'text';\n\t\t\t\t}\n\n\t\t\t\tdataObj.type = type;\n\t\t\t\tdataObj.dataValue = data;\n\t\t\t\tdelete dataObj.preSniffing;\n\t\t\t\tdelete dataObj.startsWithEOL;\n\t\t\t\tdelete dataObj.endsWithEOL;\n\t\t\t}, null, null, 6 );\n\n\t\t\t// Inserts processed data into the editor at the end of the\n\t\t\t// events chain.\n\t\t\teditor.on( 'paste', function( evt ) {\n\t\t\t\tvar data = evt.data;\n\n\t\t\t\tif ( data.dataValue ) {\n\t\t\t\t\teditor.insertHtml( data.dataValue, data.type, data.range );\n\n\t\t\t\t\t// Defer 'afterPaste' so all other listeners for 'paste' will be fired first.\n\t\t\t\t\t// Fire afterPaste only if paste inserted some HTML.\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\teditor.fire( 'afterPaste' );\n\t\t\t\t\t}, 0 );\n\t\t\t\t}\n\t\t\t}, null, null, 1000 );\n\n\t\t\teditor.on( 'pasteDialog', function( evt ) {\n\t\t\t\t// TODO it's possible that this setTimeout is not needed any more,\n\t\t\t\t// because of changes introduced in the same commit as this comment.\n\t\t\t\t// Editor.getClipboardData adds listener to the dialog's events which are\n\t\t\t\t// fired after a while (not like 'showDialog').\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t// Open default paste dialog.\n\t\t\t\t\teditor.openDialog( 'paste', evt.data );\n\t\t\t\t}, 0 );\n\t\t\t} );\n\t\t}\n\t} );\n\n\tfunction firePasteEvents( editor, data, withBeforePaste ) {\n\t\tif ( !data.type ) {\n\t\t\tdata.type = 'auto';\n\t\t}\n\n\t\tif ( withBeforePaste ) {\n\t\t\t// Fire 'beforePaste' event so clipboard flavor get customized\n\t\t\t// by other plugins.\n\t\t\tif ( editor.fire( 'beforePaste', data ) === false )\n\t\t\t\treturn false; // Event canceled\n\t\t}\n\n\t\t// Do not fire paste if there is no data (dataValue and dataTranfser are empty).\n\t\t// This check should be done after firing 'beforePaste' because for native paste\n\t\t// 'beforePaste' is by default fired even for empty clipboard.\n\t\tif ( !data.dataValue && data.dataTransfer.isEmpty() ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !data.dataValue ) {\n\t\t\tdata.dataValue = '';\n\t\t}\n\n\t\t// Because of FF bug we need to use this hack, otherwise cursor is hidden\n\t\t// or it is not possible to move it (#12420).\n\t\t// Also, check that editor.toolbox exists, because the toolbar plugin might not be loaded (#13305).\n\t\tif ( CKEDITOR.env.gecko && data.method == 'drop' && editor.toolbox ) {\n\t\t\teditor.once( 'afterPaste', function() {\n\t\t\t\teditor.toolbox.focus();\n\t\t\t} );\n\t\t}\n\n\t\treturn editor.fire( 'paste', data );\n\t}\n\n\tfunction initPasteClipboard( editor ) {\n\t\tvar clipboard = CKEDITOR.plugins.clipboard,\n\t\t\tpreventBeforePasteEvent = 0,\n\t\t\tpreventPasteEvent = 0,\n\t\t\tinReadOnly = 0;\n\n\t\taddListeners();\n\t\taddButtonsCommands();\n\n\t\t/**\n\t\t * Gets clipboard data by directly accessing the clipboard (IE only) or opening the paste dialog window.\n\t\t *\n\t\t *\t\teditor.getClipboardData( { title: 'Get my data' }, function( data ) {\n\t\t *\t\t\tif ( data )\n\t\t *\t\t\t\talert( data.type + ' ' + data.dataValue );\n\t\t *\t\t} );\n\t\t *\n\t\t * @member CKEDITOR.editor\n\t\t * @param {Object} options\n\t\t * @param {String} [options.title] The title of the paste dialog window.\n\t\t * @param {Function} callback A function that will be executed with `data.type` and `data.dataValue`\n\t\t * or `null` if none of the capturing methods succeeded.\n\t\t */\n\t\teditor.getClipboardData = function( options, callback ) {\n\t\t\tvar beforePasteNotCanceled = false,\n\t\t\t\tdataType = 'auto',\n\t\t\t\tdialogCommited = false;\n\n\t\t\t// Options are optional - args shift.\n\t\t\tif ( !callback ) {\n\t\t\t\tcallback = options;\n\t\t\t\toptions = null;\n\t\t\t}\n\n\t\t\t// Listen with maximum priority to handle content before everyone else.\n\t\t\t// This callback will handle paste event that will be fired if direct\n\t\t\t// access to the clipboard succeed in IE.\n\t\t\teditor.on( 'paste', onPaste, null, null, 0 );\n\n\t\t\t// Listen at the end of listeners chain to see if event wasn't canceled\n\t\t\t// and to retrieve modified data.type.\n\t\t\teditor.on( 'beforePaste', onBeforePaste, null, null, 1000 );\n\n\t\t\t// getClipboardDataDirectly() will fire 'beforePaste' synchronously, so we can\n\t\t\t// check if it was canceled and if any listener modified data.type.\n\n\t\t\t// If command didn't succeed (only IE allows to access clipboard and only if\n\t\t\t// user agrees) open and handle paste dialog.\n\t\t\tif ( getClipboardDataDirectly() === false ) {\n\t\t\t\t// Direct access to the clipboard wasn't successful so remove listener.\n\t\t\t\teditor.removeListener( 'paste', onPaste );\n\n\t\t\t\t// If beforePaste was canceled do not open dialog.\n\t\t\t\t// Add listeners only if dialog really opened. 'pasteDialog' can be canceled.\n\t\t\t\tif ( beforePasteNotCanceled && editor.fire( 'pasteDialog', onDialogOpen ) ) {\n\t\t\t\t\teditor.on( 'pasteDialogCommit', onDialogCommit );\n\n\t\t\t\t\t// 'dialogHide' will be fired after 'pasteDialogCommit'.\n\t\t\t\t\teditor.on( 'dialogHide', function( evt ) {\n\t\t\t\t\t\tevt.removeListener();\n\t\t\t\t\t\tevt.data.removeListener( 'pasteDialogCommit', onDialogCommit );\n\n\t\t\t\t\t\t// Because Opera has to wait a while in pasteDialog we have to wait here.\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t// Notify even if user canceled dialog (clicked 'cancel', ESC, etc).\n\t\t\t\t\t\t\tif ( !dialogCommited )\n\t\t\t\t\t\t\t\tcallback( null );\n\t\t\t\t\t\t}, 10 );\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tcallback( null );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onPaste( evt ) {\n\t\t\t\tevt.removeListener();\n\t\t\t\tevt.cancel();\n\t\t\t\tcallback( evt.data );\n\t\t\t}\n\n\t\t\tfunction onBeforePaste( evt ) {\n\t\t\t\tevt.removeListener();\n\t\t\t\tbeforePasteNotCanceled = true;\n\t\t\t\tdataType = evt.data.type;\n\t\t\t}\n\n\t\t\tfunction onDialogCommit( evt ) {\n\t\t\t\tevt.removeListener();\n\t\t\t\t// Cancel pasteDialogCommit so paste dialog won't automatically fire\n\t\t\t\t// 'paste' evt by itself.\n\t\t\t\tevt.cancel();\n\t\t\t\tdialogCommited = true;\n\t\t\t\tcallback( {\n\t\t\t\t\ttype: dataType,\n\t\t\t\t\tdataValue: evt.data.dataValue,\n\t\t\t\t\tdataTransfer: evt.data.dataTransfer,\n\t\t\t\t\tmethod: 'paste'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tfunction onDialogOpen() {\n\t\t\t\tthis.customTitle = ( options && options.title );\n\t\t\t}\n\t\t};\n\n\t\tfunction addButtonsCommands() {\n\t\t\taddButtonCommand( 'Cut', 'cut', createCutCopyCmd( 'cut' ), 10, 1 );\n\t\t\taddButtonCommand( 'Copy', 'copy', createCutCopyCmd( 'copy' ), 20, 4 );\n\t\t\taddButtonCommand( 'Paste', 'paste', createPasteCmd(), 30, 8 );\n\n\t\t\tfunction addButtonCommand( buttonName, commandName, command, toolbarOrder, ctxMenuOrder ) {\n\t\t\t\tvar lang = editor.lang.clipboard[ commandName ];\n\n\t\t\t\teditor.addCommand( commandName, command );\n\t\t\t\teditor.ui.addButton && editor.ui.addButton( buttonName, {\n\t\t\t\t\tlabel: lang,\n\t\t\t\t\tcommand: commandName,\n\t\t\t\t\ttoolbar: 'clipboard,' + toolbarOrder\n\t\t\t\t} );\n\n\t\t\t\t// If the \"menu\" plugin is loaded, register the menu item.\n\t\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\t\teditor.addMenuItem( commandName, {\n\t\t\t\t\t\tlabel: lang,\n\t\t\t\t\t\tcommand: commandName,\n\t\t\t\t\t\tgroup: 'clipboard',\n\t\t\t\t\t\torder: ctxMenuOrder\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction addListeners() {\n\t\t\teditor.on( 'key', onKey );\n\t\t\teditor.on( 'contentDom', addPasteListenersToEditable );\n\n\t\t\t// For improved performance, we're checking the readOnly state on selectionChange instead of hooking a key event for that.\n\t\t\teditor.on( 'selectionChange', function( evt ) {\n\t\t\t\tinReadOnly = evt.data.selection.getRanges()[ 0 ].checkReadOnly();\n\t\t\t\tsetToolbarStates();\n\t\t\t} );\n\n\t\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\t\tif ( editor.contextMenu ) {\n\t\t\t\teditor.contextMenu.addListener( function( element, selection ) {\n\t\t\t\t\tinReadOnly = selection.getRanges()[ 0 ].checkReadOnly();\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcut: stateFromNamedCommand( 'cut' ),\n\t\t\t\t\t\tcopy: stateFromNamedCommand( 'copy' ),\n\t\t\t\t\t\tpaste: stateFromNamedCommand( 'paste' )\n\t\t\t\t\t};\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\t// Add events listeners to editable.\n\t\tfunction addPasteListenersToEditable() {\n\t\t\tvar editable = editor.editable();\n\n\t\t\tif ( CKEDITOR.plugins.clipboard.isCustomCopyCutSupported ) {\n\t\t\t\tvar initOnCopyCut = function( evt ) {\n\t\t\t\t\t// If user tries to cut in read-only editor, we must prevent default action. (#13872)\n\t\t\t\t\tif ( !editor.readOnly || evt.name != 'cut' ) {\n\t\t\t\t\t\tclipboard.initPasteDataTransfer( evt, editor );\n\t\t\t\t\t}\n\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t};\n\n\t\t\t\teditable.on( 'copy', initOnCopyCut );\n\t\t\t\teditable.on( 'cut', initOnCopyCut );\n\n\t\t\t\t// Delete content with the low priority so one can overwrite cut data.\n\t\t\t\teditable.on( 'cut', function() {\n\t\t\t\t\t// If user tries to cut in read-only editor, we must prevent default action. (#13872)\n\t\t\t\t\tif ( !editor.readOnly ) {\n\t\t\t\t\t\teditor.extractSelectedHtml();\n\t\t\t\t\t}\n\t\t\t\t}, null, null, 999 );\n\t\t\t}\n\n\t\t\t// We'll be catching all pasted content in one line, regardless of whether\n\t\t\t// it's introduced by a document command execution (e.g. toolbar buttons) or\n\t\t\t// user paste behaviors (e.g. CTRL+V).\n\t\t\teditable.on( clipboard.mainPasteEvent, function( evt ) {\n\t\t\t\tif ( clipboard.mainPasteEvent == 'beforepaste' && preventBeforePasteEvent ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// If you've just asked yourself why preventPasteEventNow() is not here, but\n\t\t\t\t// in listener for CTRL+V and exec method of 'paste' command\n\t\t\t\t// you've asked the same question we did.\n\t\t\t\t//\n\t\t\t\t// THE ANSWER:\n\t\t\t\t//\n\t\t\t\t// First thing to notice - this answer makes sense only for IE,\n\t\t\t\t// because other browsers don't listen for 'paste' event.\n\t\t\t\t//\n\t\t\t\t// What would happen if we move preventPasteEventNow() here?\n\t\t\t\t// For:\n\t\t\t\t// * CTRL+V - IE fires 'beforepaste', so we prevent 'paste' and pasteDataFromClipboard(). OK.\n\t\t\t\t// * editor.execCommand( 'paste' ) - we fire 'beforepaste', so we prevent\n\t\t\t\t//\t\t'paste' and pasteDataFromClipboard() and doc.execCommand( 'Paste' ). OK.\n\t\t\t\t// * native context menu - IE fires 'beforepaste', so we prevent 'paste', but unfortunately\n\t\t\t\t//\t\ton IE we fail with pasteDataFromClipboard() here, because of... we don't know why, but\n\t\t\t\t//\t\twe just fail, so... we paste nothing. FAIL.\n\t\t\t\t// * native menu bar - the same as for native context menu.\n\t\t\t\t//\n\t\t\t\t// But don't you know any way to distinguish first two cases from last two?\n\t\t\t\t// Only one - special flag set in CTRL+V handler and exec method of 'paste'\n\t\t\t\t// command. And that's what we did using preventPasteEventNow().\n\n\t\t\t\tpasteDataFromClipboard( evt );\n\t\t\t} );\n\n\t\t\t// It's not possible to clearly handle all four paste methods (ctrl+v, native menu bar\n\t\t\t// native context menu, editor's command) in one 'paste/beforepaste' event in IE.\n\t\t\t//\n\t\t\t// For ctrl+v & editor's command it's easy to handle pasting in 'beforepaste' listener,\n\t\t\t// so we do this. For another two methods it's better to use 'paste' event.\n\t\t\t//\n\t\t\t// 'paste' is always being fired after 'beforepaste' (except of weird one on opening native\n\t\t\t// context menu), so for two methods handled in 'beforepaste' we're canceling 'paste'\n\t\t\t// using preventPasteEvent state.\n\t\t\t//\n\t\t\t// 'paste' event in IE is being fired before getClipboardDataByPastebin executes its callback.\n\t\t\t//\n\t\t\t// QUESTION: Why didn't you handle all 4 paste methods in handler for 'paste'?\n\t\t\t//\t\tWouldn't this just be simpler?\n\t\t\t// ANSWER: Then we would have to evt.data.preventDefault() only for native\n\t\t\t//\t\tcontext menu and menu bar pastes. The same with execIECommand().\n\t\t\t//\t\tThat would force us to mark CTRL+V and editor's paste command with\n\t\t\t//\t\tspecial flag, other than preventPasteEvent. But we still would have to\n\t\t\t//\t\thave preventPasteEvent for the second event fired by execIECommand.\n\t\t\t//\t\tCode would be longer and not cleaner.\n\t\t\tif ( clipboard.mainPasteEvent == 'beforepaste' ) {\n\t\t\t\teditable.on( 'paste', function( evt ) {\n\t\t\t\t\tif ( preventPasteEvent ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Cancel next 'paste' event fired by execIECommand( 'paste' )\n\t\t\t\t\t// at the end of this callback.\n\t\t\t\t\tpreventPasteEventNow();\n\n\t\t\t\t\t// Prevent native paste.\n\t\t\t\t\tevt.data.preventDefault();\n\n\t\t\t\t\tpasteDataFromClipboard( evt );\n\n\t\t\t\t\t// Force IE to paste content into pastebin so pasteDataFromClipboard will work.\n\t\t\t\t\tif ( !execIECommand( 'paste' ) ) {\n\t\t\t\t\t\teditor.openDialog( 'paste' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t// If mainPasteEvent is 'beforePaste' (IE before Edge),\n\t\t\t\t// dismiss the (wrong) 'beforepaste' event fired on context/toolbar menu open. (#7953)\n\t\t\t\teditable.on( 'contextmenu', preventBeforePasteEventNow, null, null, 0 );\n\n\t\t\t\teditable.on( 'beforepaste', function( evt ) {\n\t\t\t\t\t// Do not prevent event on CTRL+V and SHIFT+INS because it blocks paste (#11970).\n\t\t\t\t\tif ( evt.data && !evt.data.$.ctrlKey && !evt.data.$.shiftKey )\n\t\t\t\t\t\tpreventBeforePasteEventNow();\n\t\t\t\t}, null, null, 0 );\n\t\t\t}\n\n\t\t\teditable.on( 'beforecut', function() {\n\t\t\t\t!preventBeforePasteEvent && fixCut( editor );\n\t\t\t} );\n\n\t\t\tvar mouseupTimeout;\n\n\t\t\t// Use editor.document instead of editable in non-IEs for observing mouseup\n\t\t\t// since editable won't fire the event if selection process started within\n\t\t\t// iframe and ended out of the editor (#9851).\n\t\t\teditable.attachListener( CKEDITOR.env.ie ? editable : editor.document.getDocumentElement(), 'mouseup', function() {\n\t\t\t\tmouseupTimeout = setTimeout( function() {\n\t\t\t\t\tsetToolbarStates();\n\t\t\t\t}, 0 );\n\t\t\t} );\n\n\t\t\t// Make sure that deferred mouseup callback isn't executed after editor instance\n\t\t\t// had been destroyed. This may happen when editor.destroy() is called in parallel\n\t\t\t// with mouseup event (i.e. a button with onclick callback) (#10219).\n\t\t\teditor.on( 'destroy', function() {\n\t\t\t\tclearTimeout( mouseupTimeout );\n\t\t\t} );\n\n\t\t\teditable.on( 'keyup', setToolbarStates );\n\t\t}\n\n\t\t// Create object representing Cut or Copy commands.\n\t\tfunction createCutCopyCmd( type ) {\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tcanUndo: type == 'cut', // We can't undo copy to clipboard.\n\t\t\t\tstartDisabled: true,\n\t\t\t\texec: function() {\n\t\t\t\t\t// Attempts to execute the Cut and Copy operations.\n\t\t\t\t\tfunction tryToCutCopy( type ) {\n\t\t\t\t\t\tif ( CKEDITOR.env.ie )\n\t\t\t\t\t\t\treturn execIECommand( type );\n\n\t\t\t\t\t\t// non-IEs part\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Other browsers throw an error if the command is disabled.\n\t\t\t\t\t\t\treturn editor.document.$.execCommand( type, false, null );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.type == 'cut' && fixCut();\n\n\t\t\t\t\tvar success = tryToCutCopy( this.type );\n\n\t\t\t\t\tif ( !success ) {\n\t\t\t\t\t\t// Show cutError or copyError.\n\t\t\t\t\t\teditor.showNotification( editor.lang.clipboard[ this.type + 'Error' ] ); // jshint ignore:line\n\t\t\t\t\t}\n\n\t\t\t\t\treturn success;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction createPasteCmd() {\n\t\t\treturn {\n\t\t\t\t// Snapshots are done manually by editable.insertXXX methods.\n\t\t\t\tcanUndo: false,\n\t\t\t\tasync: true,\n\n\t\t\t\texec: function( editor, data ) {\n\t\t\t\t\tvar cmd = this,\n\t\t\t\t\t\tfire = function( data, withBeforePaste ) {\n\t\t\t\t\t\t\tdata &&\tfirePasteEvents( editor, data, !!withBeforePaste );\n\n\t\t\t\t\t\t\teditor.fire( 'afterCommandExec', {\n\t\t\t\t\t\t\t\tname: 'paste',\n\t\t\t\t\t\t\t\tcommand: cmd,\n\t\t\t\t\t\t\t\treturnValue: !!data\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t};\n\n\t\t\t\t\t// Check data precisely - don't open dialog on empty string.\n\t\t\t\t\tif ( typeof data == 'string' )\n\t\t\t\t\t\tfire( {\n\t\t\t\t\t\t\t\tdataValue: data,\n\t\t\t\t\t\t\t\tmethod: 'paste',\n\t\t\t\t\t\t\t\tdataTransfer: clipboard.initPasteDataTransfer()\n\t\t\t\t\t\t\t}, 1 );\n\t\t\t\t\telse\n\t\t\t\t\t\teditor.getClipboardData( fire );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction preventPasteEventNow() {\n\t\t\tpreventPasteEvent = 1;\n\t\t\t// For safety reason we should wait longer than 0/1ms.\n\t\t\t// We don't know how long execution of quite complex getClipboardData will take\n\t\t\t// and in for example 'paste' listener execCommand() (which fires 'paste') is called\n\t\t\t// after getClipboardData finishes.\n\t\t\t// Luckily, it's impossible to immediately fire another 'paste' event we want to handle,\n\t\t\t// because we only handle there native context menu and menu bar.\n\t\t\tsetTimeout( function() {\n\t\t\t\tpreventPasteEvent = 0;\n\t\t\t}, 100 );\n\t\t}\n\n\t\tfunction preventBeforePasteEventNow() {\n\t\t\tpreventBeforePasteEvent = 1;\n\t\t\tsetTimeout( function() {\n\t\t\t\tpreventBeforePasteEvent = 0;\n\t\t\t}, 10 );\n\t\t}\n\n\t\t// Tries to execute any of the paste, cut or copy commands in IE. Returns a\n\t\t// boolean indicating that the operation succeeded.\n\t\t// @param {String} command *LOWER CASED* name of command ('paste', 'cut', 'copy').\n\t\tfunction execIECommand( command ) {\n\t\t\tvar doc = editor.document,\n\t\t\t\tbody = doc.getBody(),\n\t\t\t\tenabled = false,\n\t\t\t\tonExec = function() {\n\t\t\t\t\tenabled = true;\n\t\t\t\t};\n\n\t\t\t// The following seems to be the only reliable way to detect that\n\t\t\t// clipboard commands are enabled in IE. It will fire the\n\t\t\t// onpaste/oncut/oncopy events only if the security settings allowed\n\t\t\t// the command to execute.\n\t\t\tbody.on( command, onExec );\n\n\t\t\t// IE7: document.execCommand has problem to paste into positioned element.\n\t\t\tif ( CKEDITOR.env.version > 7 ) {\n\t\t\t\tdoc.$.execCommand( command );\n\t\t\t} else {\n\t\t\t\tdoc.$.selection.createRange().execCommand( command );\n\t\t\t}\n\n\t\t\tbody.removeListener( command, onExec );\n\n\t\t\treturn enabled;\n\t\t}\n\n\t\t// Cutting off control type element in IE standards breaks the selection entirely. (#4881)\n\t\tfunction fixCut() {\n\t\t\tif ( !CKEDITOR.env.ie || CKEDITOR.env.quirks )\n\t\t\t\treturn;\n\n\t\t\tvar sel = editor.getSelection(),\n\t\t\t\tcontrol, range, dummy;\n\n\t\t\tif ( ( sel.getType() == CKEDITOR.SELECTION_ELEMENT ) && ( control = sel.getSelectedElement() ) ) {\n\t\t\t\trange = sel.getRanges()[ 0 ];\n\t\t\t\tdummy = editor.document.createText( '' );\n\t\t\t\tdummy.insertBefore( control );\n\t\t\t\trange.setStartBefore( dummy );\n\t\t\t\trange.setEndAfter( control );\n\t\t\t\tsel.selectRanges( [ range ] );\n\n\t\t\t\t// Clear up the fix if the paste wasn't succeeded.\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t// Element still online?\n\t\t\t\t\tif ( control.getParent() ) {\n\t\t\t\t\t\tdummy.remove();\n\t\t\t\t\t\tsel.selectElement( control );\n\t\t\t\t\t}\n\t\t\t\t}, 0 );\n\t\t\t}\n\t\t}\n\n\t\t// Allow to peek clipboard content by redirecting the\n\t\t// pasting content into a temporary bin and grab the content of it.\n\t\tfunction getClipboardDataByPastebin( evt, callback ) {\n\t\t\tvar doc = editor.document,\n\t\t\t\teditable = editor.editable(),\n\t\t\t\tcancel = function( evt ) {\n\t\t\t\t\tevt.cancel();\n\t\t\t\t},\n\t\t\t\tblurListener;\n\n\t\t\t// Avoid recursions on 'paste' event or consequent paste too fast. (#5730)\n\t\t\tif ( doc.getById( 'cke_pastebin' ) )\n\t\t\t\treturn;\n\n\t\t\tvar sel = editor.getSelection();\n\t\t\tvar bms = sel.createBookmarks();\n\n\t\t\t// #11384. On IE9+ we use native selectionchange (i.e. editor#selectionCheck) to cache the most\n\t\t\t// recent selection which we then lock on editable blur. See selection.js for more info.\n\t\t\t// selectionchange fired before getClipboardDataByPastebin() cached selection\n\t\t\t// before creating bookmark (cached selection will be invalid, because bookmarks modified the DOM),\n\t\t\t// so we need to fire selectionchange one more time, to store current seleciton.\n\t\t\t// Selection will be locked when we focus pastebin.\n\t\t\tif ( CKEDITOR.env.ie )\n\t\t\t\tsel.root.fire( 'selectionchange' );\n\n\t\t\t// Create container to paste into.\n\t\t\t// For rich content we prefer to use \"body\" since it holds\n\t\t\t// the least possibility to be splitted by pasted content, while this may\n\t\t\t// breaks the text selection on a frame-less editable, \"div\" would be\n\t\t\t// the best one in that case.\n\t\t\t// In another case on old IEs moving the selection into a \"body\" paste bin causes error panic.\n\t\t\t// Body can't be also used for Opera which fills it with <br>\n\t\t\t// what is indistinguishable from pasted <br> (copying <br> in Opera isn't possible,\n\t\t\t// but it can be copied from other browser).\n\t\t\tvar pastebin = new CKEDITOR.dom.element(\n\t\t\t\t( CKEDITOR.env.webkit || editable.is( 'body' ) ) && !CKEDITOR.env.ie ? 'body' : 'div', doc );\n\n\t\t\tpastebin.setAttributes( {\n\t\t\t\tid: 'cke_pastebin',\n\t\t\t\t'data-cke-temp': '1'\n\t\t\t} );\n\n\t\t\tvar containerOffset = 0,\n\t\t\t\toffsetParent,\n\t\t\t\twin = doc.getWindow();\n\n\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t// It's better to paste close to the real paste destination, so inherited styles\n\t\t\t\t// (which Webkits will try to compensate by styling span) differs less from the destination's one.\n\t\t\t\teditable.append( pastebin );\n\t\t\t\t// Style pastebin like .cke_editable, to minimize differences between origin and destination. (#9754)\n\t\t\t\tpastebin.addClass( 'cke_editable' );\n\n\t\t\t\t// Compensate position of offsetParent.\n\t\t\t\tif ( !editable.is( 'body' ) ) {\n\t\t\t\t\t// We're not able to get offsetParent from pastebin (body element), so check whether\n\t\t\t\t\t// its parent (editable) is positioned.\n\t\t\t\t\tif ( editable.getComputedStyle( 'position' ) != 'static' )\n\t\t\t\t\t\toffsetParent = editable;\n\t\t\t\t\t// And if not - safely get offsetParent from editable.\n\t\t\t\t\telse\n\t\t\t\t\t\toffsetParent = CKEDITOR.dom.element.get( editable.$.offsetParent );\n\n\t\t\t\t\tcontainerOffset = offsetParent.getDocumentPosition().y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Opera and IE doesn't allow to append to html element.\n\t\t\t\teditable.getAscendant( CKEDITOR.env.ie ? 'body' : 'html', 1 ).append( pastebin );\n\t\t\t}\n\n\t\t\tpastebin.setStyles( {\n\t\t\t\tposition: 'absolute',\n\t\t\t\t// Position the bin at the top (+10 for safety) of viewport to avoid any subsequent document scroll.\n\t\t\t\ttop: ( win.getScrollPosition().y - containerOffset + 10 ) + 'px',\n\t\t\t\twidth: '1px',\n\t\t\t\t// Caret has to fit in that height, otherwise browsers like Chrome & Opera will scroll window to show it.\n\t\t\t\t// Set height equal to viewport's height - 20px (safety gaps), minimum 1px.\n\t\t\t\theight: Math.max( 1, win.getViewPaneSize().height - 20 ) + 'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\t// Reset styles that can mess up pastebin position.\n\t\t\t\tmargin: 0,\n\t\t\t\tpadding: 0\n\t\t\t} );\n\n\t\t\t// Paste fails in Safari when the body tag has 'user-select: none'. (#12506)\n\t\t\tif ( CKEDITOR.env.safari )\n\t\t\t\tpastebin.setStyles( CKEDITOR.tools.cssVendorPrefix( 'user-select', 'text' ) );\n\n\t\t\t// Check if the paste bin now establishes new editing host.\n\t\t\tvar isEditingHost = pastebin.getParent().isReadOnly();\n\n\t\t\tif ( isEditingHost ) {\n\t\t\t\t// Hide the paste bin.\n\t\t\t\tpastebin.setOpacity( 0 );\n\t\t\t\t// And make it editable.\n\t\t\t\tpastebin.setAttribute( 'contenteditable', true );\n\t\t\t}\n\t\t\t// Transparency is not enough since positioned non-editing host always shows\n\t\t\t// resize handler, pull it off the screen instead.\n\t\t\telse {\n\t\t\t\tpastebin.setStyle( editor.config.contentsLangDirection == 'ltr' ? 'left' : 'right', '-10000px' );\n\t\t\t}\n\n\t\t\teditor.on( 'selectionChange', cancel, null, null, 0 );\n\n\t\t\t// Webkit fill fire blur on editable when moving selection to\n\t\t\t// pastebin (if body is used). Cancel it because it causes incorrect\n\t\t\t// selection lock in case of inline editor (#10644).\n\t\t\t// The same seems to apply to Firefox (#10787).\n\t\t\tif ( CKEDITOR.env.webkit || CKEDITOR.env.gecko )\n\t\t\t\tblurListener = editable.once( 'blur', cancel, null, null, -100 );\n\n\t\t\t// Temporarily move selection to the pastebin.\n\t\t\tisEditingHost && pastebin.focus();\n\t\t\tvar range = new CKEDITOR.dom.range( pastebin );\n\t\t\trange.selectNodeContents( pastebin );\n\t\t\tvar selPastebin = range.select();\n\n\t\t\t// If non-native paste is executed, IE will open security alert and blur editable.\n\t\t\t// Editable will then lock selection inside itself and after accepting security alert\n\t\t\t// this selection will be restored. We overwrite stored selection, so it's restored\n\t\t\t// in pastebin. (#9552)\n\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\tblurListener = editable.once( 'blur', function() {\n\t\t\t\t\teditor.lockSelection( selPastebin );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tvar scrollTop = CKEDITOR.document.getWindow().getScrollPosition().y;\n\n\t\t\t// Wait a while and grab the pasted contents.\n\t\t\tsetTimeout( function() {\n\t\t\t\t// Restore main window's scroll position which could have been changed\n\t\t\t\t// by browser in cases described in #9771.\n\t\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\t\tCKEDITOR.document.getBody().$.scrollTop = scrollTop;\n\n\t\t\t\t// Blur will be fired only on non-native paste. In other case manually remove listener.\n\t\t\t\tblurListener && blurListener.removeListener();\n\n\t\t\t\t// Restore properly the document focus. (#8849)\n\t\t\t\tif ( CKEDITOR.env.ie )\n\t\t\t\t\teditable.focus();\n\n\t\t\t\t// IE7: selection must go before removing pastebin. (#8691)\n\t\t\t\tsel.selectBookmarks( bms );\n\t\t\t\tpastebin.remove();\n\n\t\t\t\t// Grab the HTML contents.\n\t\t\t\t// We need to look for a apple style wrapper on webkit it also adds\n\t\t\t\t// a div wrapper if you copy/paste the body of the editor.\n\t\t\t\t// Remove hidden div and restore selection.\n\t\t\t\tvar bogusSpan;\n\t\t\t\tif ( CKEDITOR.env.webkit && ( bogusSpan = pastebin.getFirst() ) && ( bogusSpan.is && bogusSpan.hasClass( 'Apple-style-span' ) ) )\n\t\t\t\t\tpastebin = bogusSpan;\n\n\t\t\t\teditor.removeListener( 'selectionChange', cancel );\n\t\t\t\tcallback( pastebin.getHtml() );\n\t\t\t}, 0 );\n\t\t}\n\n\t\t// Try to get content directly on IE from clipboard, without native event\n\t\t// being fired before. In other words - synthetically get clipboard data, if it's possible.\n\t\t// mainPasteEvent will be fired, so if forced native paste:\n\t\t// * worked, getClipboardDataByPastebin will grab it,\n\t\t// * didn't work, dataValue and dataTransfer will be empty and editor#paste won't be fired.\n\t\t// Clipboard data can be accessed directly only on IEs older than Edge.\n\t\t// On other browsers we should fire beforePaste event and return false.\n\t\tfunction getClipboardDataDirectly() {\n\t\t\tif ( clipboard.mainPasteEvent == 'paste' ) {\n\t\t\t\t// beforePaste should be fired when dialog open so it can be canceled.\n\t\t\t\teditor.fire( 'beforePaste', { type: 'auto', method: 'paste' } );\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Prevent IE from pasting at the begining of the document.\n\t\t\teditor.focus();\n\n\t\t\t// Command will be handled by 'beforepaste', but as\n\t\t\t// execIECommand( 'paste' ) will fire also 'paste' event\n\t\t\t// we're canceling it.\n\t\t\tpreventPasteEventNow();\n\n\t\t\t// #9247: Lock focus to prevent IE from hiding toolbar for inline editor.\n\t\t\tvar focusManager = editor.focusManager;\n\t\t\tfocusManager.lock();\n\n\t\t\tif ( editor.editable().fire( clipboard.mainPasteEvent ) && !execIECommand( 'paste' ) ) {\n\t\t\t\tfocusManager.unlock();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfocusManager.unlock();\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Listens for some clipboard related keystrokes, so they get customized.\n\t\t// Needs to be bind to keydown event.\n\t\tfunction onKey( event ) {\n\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\treturn;\n\n\t\t\tswitch ( event.data.keyCode ) {\n\t\t\t\t// Paste\n\t\t\t\tcase CKEDITOR.CTRL + 86: // CTRL+V\n\t\t\t\tcase CKEDITOR.SHIFT + 45: // SHIFT+INS\n\t\t\t\t\tvar editable = editor.editable();\n\n\t\t\t\t\t// Cancel 'paste' event because ctrl+v is for IE handled\n\t\t\t\t\t// by 'beforepaste'.\n\t\t\t\t\tpreventPasteEventNow();\n\n\t\t\t\t\t// Simulate 'beforepaste' event for all browsers using 'paste' as main event.\n\t\t\t\t\tif ( clipboard.mainPasteEvent == 'paste' ) {\n\t\t\t\t\t\teditable.fire( 'beforepaste' );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\n\t\t\t\t\t// Cut\n\t\t\t\tcase CKEDITOR.CTRL + 88: // CTRL+X\n\t\t\t\tcase CKEDITOR.SHIFT + 46: // SHIFT+DEL\n\t\t\t\t\t// Save Undo snapshot.\n\t\t\t\t\teditor.fire( 'saveSnapshot' ); // Save before cut\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\teditor.fire( 'saveSnapshot' ); // Save after cut\n\t\t\t\t\t}, 50 ); // OSX is slow (#11416).\n\t\t\t}\n\t\t}\n\n\t\tfunction pasteDataFromClipboard( evt ) {\n\t\t\t// Default type is 'auto', but can be changed by beforePaste listeners.\n\t\t\tvar eventData = {\n\t\t\t\t\ttype: 'auto',\n\t\t\t\t\tmethod: 'paste',\n\t\t\t\t\tdataTransfer: clipboard.initPasteDataTransfer( evt )\n\t\t\t\t};\n\n\t\t\teventData.dataTransfer.cacheData();\n\n\t\t\t// Fire 'beforePaste' event so clipboard flavor get customized by other plugins.\n\t\t\t// If 'beforePaste' is canceled continue executing getClipboardDataByPastebin and then do nothing\n\t\t\t// (do not fire 'paste', 'afterPaste' events). This way we can grab all - synthetically\n\t\t\t// and natively pasted content and prevent its insertion into editor\n\t\t\t// after canceling 'beforePaste' event.\n\t\t\tvar beforePasteNotCanceled = editor.fire( 'beforePaste', eventData ) !== false;\n\n\t\t\t// Do not use paste bin if the browser let us get HTML or files from dataTranfer.\n\t\t\tif ( beforePasteNotCanceled && clipboard.canClipboardApiBeTrusted( eventData.dataTransfer, editor ) ) {\n\t\t\t\tevt.data.preventDefault();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tfirePasteEvents( editor, eventData );\n\t\t\t\t}, 0 );\n\t\t\t} else {\n\t\t\t\tgetClipboardDataByPastebin( evt, function( data ) {\n\t\t\t\t\t// Clean up.\n\t\t\t\t\teventData.dataValue = data.replace( /<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig, '' );\n\n\t\t\t\t\t// Fire remaining events (without beforePaste)\n\t\t\t\t\tbeforePasteNotCanceled && firePasteEvents( editor, eventData );\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tfunction setToolbarStates() {\n\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\treturn;\n\n\t\t\tvar pasteState = stateFromNamedCommand( 'paste' );\n\n\t\t\teditor.getCommand( 'cut' ).setState( stateFromNamedCommand( 'cut' ) );\n\t\t\teditor.getCommand( 'copy' ).setState( stateFromNamedCommand( 'copy' ) );\n\t\t\teditor.getCommand( 'paste' ).setState( pasteState );\n\t\t\teditor.fire( 'pasteState', pasteState );\n\t\t}\n\n\t\tfunction stateFromNamedCommand( command ) {\n\t\t\tif ( inReadOnly && command in { paste: 1, cut: 1 } )\n\t\t\t\treturn CKEDITOR.TRISTATE_DISABLED;\n\n\t\t\tif ( command == 'paste' )\n\t\t\t\treturn CKEDITOR.TRISTATE_OFF;\n\n\t\t\t// Cut, copy - check if the selection is not empty.\n\t\t\tvar sel = editor.getSelection(),\n\t\t\t\tranges = sel.getRanges(),\n\t\t\t\tselectionIsEmpty = sel.getType() == CKEDITOR.SELECTION_NONE || ( ranges.length == 1 && ranges[ 0 ].collapsed );\n\n\t\t\treturn selectionIsEmpty ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_OFF;\n\t\t}\n\t}\n\n\t// Returns:\n\t// * 'htmlifiedtext' if content looks like transformed by browser from plain text.\n\t//\t\tSee clipboard/paste.html TCs for more info.\n\t// * 'html' if it is not 'htmlifiedtext'.\n\tfunction recogniseContentType( data ) {\n\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t// Plain text or ( <div><br></div> and text inside <div> ).\n\t\t\tif ( !data.match( /^[^<]*$/g ) && !data.match( /^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi ) )\n\t\t\t\treturn 'html';\n\t\t} else if ( CKEDITOR.env.ie ) {\n\t\t\t// Text and <br> or ( text and <br> in <p> - paragraphs can be separated by new \\r\\n ).\n\t\t\tif ( !data.match( /^([^<]|<br( ?\\/)?>)*$/gi ) && !data.match( /^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi ) )\n\t\t\t\treturn 'html';\n\t\t} else if ( CKEDITOR.env.gecko ) {\n\t\t\t// Text or <br>.\n\t\t\tif ( !data.match( /^([^<]|<br( ?\\/)?>)*$/gi ) )\n\t\t\t\treturn 'html';\n\t\t} else {\n\t\t\treturn 'html';\n\t\t}\n\n\t\treturn 'htmlifiedtext';\n\t}\n\n\t// This function transforms what browsers produce when\n\t// pasting plain text into editable element (see clipboard/paste.html TCs\n\t// for more info) into correct HTML (similar to that produced by text2Html).\n\tfunction htmlifiedTextHtmlification( config, data ) {\n\t\tfunction repeatParagraphs( repeats ) {\n\t\t\t// Repeat blocks floor((n+1)/2) times.\n\t\t\t// Even number of repeats - add <br> at the beginning of last <p>.\n\t\t\treturn CKEDITOR.tools.repeat( '</p><p>', ~~( repeats / 2 ) ) + ( repeats % 2 == 1 ? '<br>' : '' );\n\t\t}\n\n\t\t\t// Replace adjacent white-spaces (EOLs too - Fx sometimes keeps them) with one space.\n\t\tdata = data.replace( /\\s+/g, ' ' )\n\t\t\t// Remove spaces from between tags.\n\t\t\t.replace( /> +</g, '><' )\n\t\t\t// Normalize XHTML syntax and upper cased <br> tags.\n\t\t\t.replace( /<br ?\\/>/gi, '<br>' );\n\n\t\t// IE - lower cased tags.\n\t\tdata = data.replace( /<\\/?[A-Z]+>/g, function( match ) {\n\t\t\treturn match.toLowerCase();\n\t\t} );\n\n\t\t// Don't touch single lines (no <br|p|div>) - nothing to do here.\n\t\tif ( data.match( /^[^<]$/ ) )\n\t\t\treturn data;\n\n\t\t// Webkit.\n\t\tif ( CKEDITOR.env.webkit && data.indexOf( '<div>' ) > -1 ) {\n\t\t\t\t// One line break at the beginning - insert <br>\n\t\t\tdata = data.replace( /^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g, '<br>' )\n\t\t\t\t// Two or more - reduce number of new lines by one.\n\t\t\t\t.replace( /^(<div>(<br>|)<\\/div>){2}(?!$)/g, '<div></div>' );\n\n\t\t\t// Two line breaks create one paragraph in Webkit.\n\t\t\tif ( data.match( /<div>(<br>|)<\\/div>/ ) ) {\n\t\t\t\tdata = '<p>' + data.replace( /(<div>(<br>|)<\\/div>)+/g, function( match ) {\n\t\t\t\t\treturn repeatParagraphs( match.split( '</div><div>' ).length + 1 );\n\t\t\t\t} ) + '</p>';\n\t\t\t}\n\n\t\t\t// One line break create br.\n\t\t\tdata = data.replace( /<\\/div><div>/g, '<br>' );\n\n\t\t\t// Remove remaining divs.\n\t\t\tdata = data.replace( /<\\/?div>/g, '' );\n\t\t}\n\n\t\t// Opera and Firefox and enterMode != BR.\n\t\tif ( CKEDITOR.env.gecko && config.enterMode != CKEDITOR.ENTER_BR ) {\n\t\t\t// Remove bogus <br> - Fx generates two <brs> for one line break.\n\t\t\t// For two line breaks it still produces two <brs>, but it's better to ignore this case than the first one.\n\t\t\tif ( CKEDITOR.env.gecko )\n\t\t\t\tdata = data.replace( /^<br><br>$/, '<br>' );\n\n\t\t\t// This line satisfy edge case when for Opera we have two line breaks\n\t\t\t//data = data.replace( /)\n\n\t\t\tif ( data.indexOf( '<br><br>' ) > -1 ) {\n\t\t\t\t// Two line breaks create one paragraph, three - 2, four - 3, etc.\n\t\t\t\tdata = '<p>' + data.replace( /(<br>){2,}/g, function( match ) {\n\t\t\t\t\treturn repeatParagraphs( match.length / 4 );\n\t\t\t\t} ) + '</p>';\n\t\t\t}\n\t\t}\n\n\t\treturn switchEnterMode( config, data );\n\t}\n\n\tfunction filtersFactoryFactory() {\n\t\tvar filters = {};\n\n\t\tfunction setUpTags() {\n\t\t\tvar tags = {};\n\n\t\t\tfor ( var tag in CKEDITOR.dtd ) {\n\t\t\t\tif ( tag.charAt( 0 ) != '$' && tag != 'div' && tag != 'span' ) {\n\t\t\t\t\ttags[ tag ] = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn tags;\n\t\t}\n\n\t\tfunction createSemanticContentFilter() {\n\t\t\tvar filter = new CKEDITOR.filter();\n\n\t\t\tfilter.allow( {\n\t\t\t\t$1: {\n\t\t\t\t\telements: setUpTags(),\n\t\t\t\t\tattributes: true,\n\t\t\t\t\tstyles: false,\n\t\t\t\t\tclasses: false\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn filter;\n\t\t}\n\n\t\treturn {\n\t\t\tget: function( type ) {\n\t\t\t\tif ( type == 'plain-text' ) {\n\t\t\t\t\t// Does this look confusing to you? Did we forget about enter mode?\n\t\t\t\t\t// It is a trick that let's us creating one filter for edidtor, regardless of its\n\t\t\t\t\t// activeEnterMode (which as the name indicates can change during runtime).\n\t\t\t\t\t//\n\t\t\t\t\t// How does it work?\n\t\t\t\t\t// The active enter mode is passed to the filter.applyTo method.\n\t\t\t\t\t// The filter first marks all elements except <br> as disallowed and then tries to remove\n\t\t\t\t\t// them. However, it cannot remove e.g. a <p> element completely, because it's a basic structural element,\n\t\t\t\t\t// so it tries to replace it with an element created based on the active enter mode, eventually doing nothing.\n\t\t\t\t\t//\n\t\t\t\t\t// Now you can sleep well.\n\t\t\t\t\treturn filters.plainText || ( filters.plainText = new CKEDITOR.filter( 'br' ) );\n\t\t\t\t} else if ( type == 'semantic-content' ) {\n\t\t\t\t\treturn filters.semanticContent || ( filters.semanticContent = createSemanticContentFilter() );\n\t\t\t\t} else if ( type ) {\n\t\t\t\t\t// Create filter based on rules (string or object).\n\t\t\t\t\treturn new CKEDITOR.filter( type );\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction filterContent( editor, data, filter ) {\n\t\tvar fragment = CKEDITOR.htmlParser.fragment.fromHtml( data ),\n\t\t\twriter = new CKEDITOR.htmlParser.basicWriter();\n\n\t\tfilter.applyTo( fragment, true, false, editor.activeEnterMode );\n\t\tfragment.writeHtml( writer );\n\n\t\treturn writer.getHtml();\n\t}\n\n\tfunction switchEnterMode( config, data ) {\n\t\tif ( config.enterMode == CKEDITOR.ENTER_BR ) {\n\t\t\tdata = data.replace( /(<\\/p><p>)+/g, function( match ) {\n\t\t\t\treturn CKEDITOR.tools.repeat( '<br>', match.length / 7 * 2 );\n\t\t\t} ).replace( /<\\/?p>/g, '' );\n\t\t} else if ( config.enterMode == CKEDITOR.ENTER_DIV ) {\n\t\t\tdata = data.replace( /<(\\/)?p>/g, '<$1div>' );\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tfunction preventDefaultSetDropEffectToNone( evt ) {\n\t\tevt.data.preventDefault();\n\t\tevt.data.$.dataTransfer.dropEffect = 'none';\n\t}\n\n\tfunction initDragDrop( editor ) {\n\t\tvar clipboard = CKEDITOR.plugins.clipboard;\n\n\t\teditor.on( 'contentDom', function() {\n\t\t\tvar editable = editor.editable(),\n\t\t\t\tdropTarget = CKEDITOR.plugins.clipboard.getDropTarget( editor ),\n\t\t\t\ttop = editor.ui.space( 'top' ),\n\t\t\t\tbottom = editor.ui.space( 'bottom' );\n\n\t\t\t// -------------- DRAGOVER TOP & BOTTOM --------------\n\n\t\t\t// Not allowing dragging on toolbar and bottom (#12613).\n\t\t\tclipboard.preventDefaultDropOnElement( top );\n\t\t\tclipboard.preventDefaultDropOnElement( bottom );\n\n\t\t\t// -------------- DRAGSTART --------------\n\t\t\t// Listed on dragstart to mark internal and cross-editor drag & drop\n\t\t\t// and save range and selected HTML.\n\n\t\t\teditable.attachListener( dropTarget, 'dragstart', fireDragEvent );\n\n\t\t\t// Make sure to reset data transfer (in case dragend was not called or was canceled).\n\t\t\teditable.attachListener( editor, 'dragstart', clipboard.resetDragDataTransfer, clipboard, null, 1 );\n\n\t\t\t// Create a dataTransfer object and save it globally.\n\t\t\teditable.attachListener( editor, 'dragstart', function( evt ) {\n\t\t\t\tclipboard.initDragDataTransfer( evt, editor );\n\t\t\t}, null, null, 2 );\n\n\t\t\teditable.attachListener( editor, 'dragstart', function() {\n\t\t\t\t// Save drag range globally for cross editor D&D.\n\t\t\t\tvar dragRange = clipboard.dragRange = editor.getSelection().getRanges()[ 0 ];\n\n\t\t\t\t// Store number of children, so we can later tell if any text node was split on drop. (#13011, #13447)\n\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 10 ) {\n\t\t\t\t\tclipboard.dragStartContainerChildCount = dragRange ? getContainerChildCount( dragRange.startContainer ) : null;\n\t\t\t\t\tclipboard.dragEndContainerChildCount = dragRange ? getContainerChildCount( dragRange.endContainer ) : null;\n\t\t\t\t}\n\t\t\t}, null, null, 100 );\n\n\t\t\t// -------------- DRAGEND --------------\n\t\t\t// Clean up on dragend.\n\n\t\t\teditable.attachListener( dropTarget, 'dragend', fireDragEvent );\n\n\t\t\t// Init data transfer if someone wants to use it in dragend.\n\t\t\teditable.attachListener( editor, 'dragend', clipboard.initDragDataTransfer, clipboard, null, 1 );\n\n\t\t\t// When drag & drop is done we need to reset dataTransfer so the future\n\t\t\t// external drop will be not recognize as internal.\n\t\t\teditable.attachListener( editor, 'dragend', clipboard.resetDragDataTransfer, clipboard, null, 100 );\n\n\t\t\t// -------------- DRAGOVER --------------\n\t\t\t// We need to call preventDefault on dragover because otherwise if\n\t\t\t// we drop image it will overwrite document.\n\n\t\t\teditable.attachListener( dropTarget, 'dragover', function( evt ) {\n\t\t\t\tvar target = evt.data.getTarget();\n\n\t\t\t\t// Prevent reloading page when dragging image on empty document (#12619).\n\t\t\t\tif ( target && target.is && target.is( 'html' ) ) {\n\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// If we do not prevent default dragover on IE the file path\n\t\t\t\t// will be loaded and we will lose content. On the other hand\n\t\t\t\t// if we prevent it the cursor will not we shown, so we prevent\n\t\t\t\t// dragover only on IE, on versions which support file API and only\n\t\t\t\t// if the event contains files.\n\t\t\t\tif ( CKEDITOR.env.ie &&\n\t\t\t\t\tCKEDITOR.plugins.clipboard.isFileApiSupported &&\n\t\t\t\t\tevt.data.$.dataTransfer.types.contains( 'Files' ) ) {\n\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// -------------- DROP --------------\n\n\t\t\teditable.attachListener( dropTarget, 'drop', function( evt ) {\n\t\t\t\t// Do nothing if event was already prevented. (#13879)\n\t\t\t\tif ( evt.data.$.defaultPrevented ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Cancel native drop.\n\t\t\t\tevt.data.preventDefault();\n\n\t\t\t\tvar target = evt.data.getTarget(),\n\t\t\t\t\treadOnly = target.isReadOnly();\n\n\t\t\t\t// Do nothing if drop on non editable element (#13015).\n\t\t\t\t// The <html> tag isn't editable (body is), but we want to allow drop on it\n\t\t\t\t// (so it is possible to drop below editor contents).\n\t\t\t\tif ( readOnly && !( target.type == CKEDITOR.NODE_ELEMENT && target.is( 'html' ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Getting drop position is one of the most complex parts.\n\t\t\t\tvar dropRange = clipboard.getRangeAtDropPosition( evt, editor ),\n\t\t\t\t\tdragRange = clipboard.dragRange;\n\n\t\t\t\t// Do nothing if it was not possible to get drop range.\n\t\t\t\tif ( !dropRange ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fire drop.\n\t\t\t\tfireDragEvent( evt, dragRange, dropRange  );\n\t\t\t}, null, null, 9999 );\n\n\t\t\t// Create dataTransfer or get it, if it was created before.\n\t\t\teditable.attachListener( editor, 'drop', clipboard.initDragDataTransfer, clipboard, null, 1 );\n\n\t\t\t// Execute drop action, fire paste.\n\t\t\teditable.attachListener( editor, 'drop', function( evt ) {\n\t\t\t\tvar data = evt.data;\n\n\t\t\t\tif ( !data ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Let user modify drag and drop range.\n\t\t\t\tvar dropRange = data.dropRange,\n\t\t\t\t\tdragRange = data.dragRange,\n\t\t\t\t\tdataTransfer = data.dataTransfer;\n\n\t\t\t\tif ( dataTransfer.getTransferType( editor ) == CKEDITOR.DATA_TRANSFER_INTERNAL ) {\n\t\t\t\t\t// Execute drop with a timeout because otherwise selection, after drop,\n\t\t\t\t\t// on IE is in the drag position, instead of drop position.\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tclipboard.internalDrop( dragRange, dropRange, dataTransfer, editor );\n\t\t\t\t\t}, 0 );\n\t\t\t\t} else if ( dataTransfer.getTransferType( editor ) == CKEDITOR.DATA_TRANSFER_CROSS_EDITORS ) {\n\t\t\t\t\tcrossEditorDrop( dragRange, dropRange, dataTransfer );\n\t\t\t\t} else {\n\t\t\t\t\texternalDrop( dropRange, dataTransfer );\n\t\t\t\t}\n\t\t\t}, null, null, 9999 );\n\n\t\t\t// Cross editor drag and drop (drag in one Editor and drop in the other).\n\t\t\tfunction crossEditorDrop( dragRange, dropRange, dataTransfer ) {\n\t\t\t\t// Paste event should be fired before delete contents because otherwise\n\t\t\t\t// Chrome have a problem with drop range (Chrome split the drop\n\t\t\t\t// range container so the offset is bigger then container length).\n\t\t\t\tdropRange.select();\n\t\t\t\tfirePasteEvents( editor, { dataTransfer: dataTransfer, method: 'drop' }, 1 );\n\n\t\t\t\t// Remove dragged content and make a snapshot.\n\t\t\t\tdataTransfer.sourceEditor.fire( 'saveSnapshot' );\n\n\t\t\t\tdataTransfer.sourceEditor.editable().extractHtmlFromRange( dragRange );\n\n\t\t\t\t// Make some selection before saving snapshot, otherwise error will be thrown, because\n\t\t\t\t// there will be no valid selection after content is removed.\n\t\t\t\tdataTransfer.sourceEditor.getSelection().selectRanges( [ dragRange ] );\n\t\t\t\tdataTransfer.sourceEditor.fire( 'saveSnapshot' );\n\t\t\t}\n\n\t\t\t// Drop from external source.\n\t\t\tfunction externalDrop( dropRange, dataTransfer ) {\n\t\t\t\t// Paste content into the drop position.\n\t\t\t\tdropRange.select();\n\n\t\t\t\tfirePasteEvents( editor, { dataTransfer: dataTransfer, method: 'drop' }, 1 );\n\n\t\t\t\t// Usually we reset DataTranfer on dragend,\n\t\t\t\t// but dragend is called on the same element as dragstart\n\t\t\t\t// so it will not be called on on external drop.\n\t\t\t\tclipboard.resetDragDataTransfer();\n\t\t\t}\n\n\t\t\t// Fire drag/drop events (dragstart, dragend, drop).\n\t\t\tfunction fireDragEvent( evt, dragRange, dropRange ) {\n\t\t\t\tvar eventData = {\n\t\t\t\t\t\t$: evt.data.$,\n\t\t\t\t\t\ttarget: evt.data.getTarget()\n\t\t\t\t\t};\n\n\t\t\t\tif ( dragRange ) {\n\t\t\t\t\teventData.dragRange = dragRange;\n\t\t\t\t}\n\t\t\t\tif ( dropRange ) {\n\t\t\t\t\teventData.dropRange = dropRange;\n\t\t\t\t}\n\n\t\t\t\tif ( editor.fire( evt.name, eventData ) === false ) {\n\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getContainerChildCount( container ) {\n\t\t\t\tif ( container.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\tcontainer = container.getParent();\n\t\t\t\t}\n\n\t\t\t\treturn container.getChildCount();\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @singleton\n\t * @class CKEDITOR.plugins.clipboard\n\t */\n\tCKEDITOR.plugins.clipboard = {\n\t\t/**\n\t\t * True if the environment allows to set data on copy or cut manually. This value is false in IE, because this browser\n\t\t * shows the security dialog window when the script tries to set clipboard data and on iOS, because custom data is\n\t\t * not saved to clipboard there.\n\t\t *\n\t\t * @since 4.5\n\t\t * @readonly\n\t\t * @property {Boolean}\n\t\t */\n\t\tisCustomCopyCutSupported: !CKEDITOR.env.ie && !CKEDITOR.env.iOS,\n\n\t\t/**\n\t\t * True if the environment supports MIME types and custom data types in dataTransfer/cliboardData getData/setData methods.\n\t\t *\n\t\t * @since 4.5\n\t\t * @readonly\n\t\t * @property {Boolean}\n\t\t */\n\t\tisCustomDataTypesSupported: !CKEDITOR.env.ie,\n\n\t\t/**\n\t\t * True if the environment supports File API.\n\t\t *\n\t\t * @since 4.5\n\t\t * @readonly\n\t\t * @property {Boolean}\n\t\t */\n\t\tisFileApiSupported: !CKEDITOR.env.ie || CKEDITOR.env.version > 9,\n\n\t\t/**\n\t\t * Main native paste event editable should listen to.\n\t\t *\n\t\t * **Note:** Safari does not like the {@link CKEDITOR.editor#beforePaste} event &mdash; it sometimes does not\n\t\t * handle <kbd>Ctrl+C</kbd> properly. This is probably caused by some race condition between events.\n\t\t * Chrome, Firefox and Edge work well with both events, so it is better to use {@link CKEDITOR.editor#paste}\n\t\t * which will handle pasting from e.g. browsers' menu bars.\n\t\t * IE7/8 does not like the {@link CKEDITOR.editor#paste} event for which it is throwing random errors.\n\t\t *\n\t\t * @since 4.5\n\t\t * @readonly\n\t\t * @property {String}\n\t\t */\n\t\tmainPasteEvent: ( CKEDITOR.env.ie && !CKEDITOR.env.edge ) ? 'beforepaste' : 'paste',\n\n\t\t/**\n\t\t * Returns `true` if it is expected that a browser provides HTML data through the Clipboard API.\n\t\t * If not, this method returns `false` and as a result CKEditor will use the paste bin. Read more in\n\t\t * the [Clipboard Integration](http://docs.ckeditor.com/#!/guide/dev_clipboard-section-clipboard-api) guide.\n\t\t *\n\t\t * @since 4.5.2\n\t\t * @returns {Boolean}\n\t\t */\n\t\tcanClipboardApiBeTrusted: function( dataTransfer, editor ) {\n\t\t\t// If it's an internal or cross-editor data transfer, then it means that custom cut/copy/paste support works\n\t\t\t// and that the data were put manually on the data transfer so we can be sure that it's available.\n\t\t\tif ( dataTransfer.getTransferType( editor ) != CKEDITOR.DATA_TRANSFER_EXTERNAL ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// In Chrome we can trust Clipboard API, with the exception of Chrome on Android (in both - mobile and desktop modes), where\n\t\t\t// clipboard API is not available so we need to check it (#13187).\n\t\t\tif ( CKEDITOR.env.chrome && !dataTransfer.isEmpty() ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Because of a Firefox bug HTML data are not available in some cases (e.g. paste from Word), in such cases we\n\t\t\t// need to use the pastebin (#13528, https://bugzilla.mozilla.org/show_bug.cgi?id=1183686).\n\t\t\tif ( CKEDITOR.env.gecko && ( dataTransfer.getData( 'text/html' ) || dataTransfer.getFilesCount() ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// In Safari and IE HTML data is not available though the Clipboard API.\n\t\t\t// In Edge things are a bit messy at the moment -\n\t\t\t// https://connect.microsoft.com/IE/feedback/details/1572456/edge-clipboard-api-text-html-content-messed-up-in-event-clipboarddata\n\t\t\t// It is safer to use the paste bin in unknown cases.\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Returns the element that should be used as the target for the drop event.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {CKEDITOR.editor} editor The editor instance.\n\t\t * @returns {CKEDITOR.dom.domObject} the element that should be used as the target for the drop event.\n\t\t */\n\t\tgetDropTarget: function( editor ) {\n\t\t\tvar editable = editor.editable();\n\n\t\t\t// #11123 Firefox needs to listen on document, because otherwise event won't be fired.\n\t\t\t// #11086 IE8 cannot listen on document.\n\t\t\tif ( ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 ) || editable.isInline() ) {\n\t\t\t\treturn editable;\n\t\t\t} else {\n\t\t\t\treturn editor.document;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * IE 8 & 9 split text node on drop so the first node contains the\n\t\t * text before the drop position and the second contains the rest. If you\n\t\t * drag the content from the same node you will be not be able to get\n\t\t * it (the range becomes invalid), so you need to join them back.\n\t\t *\n\t\t * Note that the first node in IE 8 & 9 is the original node object\n\t\t * but with shortened content.\n\t\t *\n\t\t *\t\tBefore:\n\t\t *\t\t  --- Text Node A ----------------------------------\n\t\t *\t\t                                             /\\\n\t\t *\t\t                                        Drag position\n\t\t *\n\t\t *\t\tAfter (IE 8 & 9):\n\t\t *\t\t  --- Text Node A -----  --- Text Node B -----------\n\t\t *\t\t                       /\\                    /\\\n\t\t *\t\t                  Drop position        Drag position\n\t\t *\t\t                                         (invalid)\n\t\t *\n\t\t *\t\tAfter (other browsers):\n\t\t *\t\t  --- Text Node A ----------------------------------\n\t\t *\t\t                       /\\                    /\\\n\t\t *\t\t                  Drop position        Drag position\n\t\t *\n\t\t * **Note:** This function is in the public scope for tests usage only.\n\t\t *\n\t\t * @since 4.5\n\t\t * @private\n\t\t * @param {CKEDITOR.dom.range} dragRange The drag range.\n\t\t * @param {CKEDITOR.dom.range} dropRange The drop range.\n\t\t * @param {Number} preDragStartContainerChildCount The number of children of the drag range start container before the drop.\n\t\t * @param {Number} preDragEndContainerChildCount The number of children of the drag range end container before the drop.\n\t\t */\n\t\tfixSplitNodesAfterDrop: function( dragRange, dropRange, preDragStartContainerChildCount, preDragEndContainerChildCount ) {\n\t\t\tvar dropContainer = dropRange.startContainer;\n\n\t\t\tif (\n\t\t\t\ttypeof preDragEndContainerChildCount != 'number' ||\n\t\t\t\ttypeof preDragStartContainerChildCount != 'number'\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We are only concerned about ranges anchored in elements.\n\t\t\tif ( dropContainer.type != CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( handleContainer( dragRange.startContainer, dropContainer, preDragStartContainerChildCount ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( handleContainer( dragRange.endContainer, dropContainer, preDragEndContainerChildCount ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction handleContainer( dragContainer, dropContainer, preChildCount ) {\n\t\t\t\tvar dragElement = dragContainer;\n\t\t\t\tif ( dragElement.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\t\tdragElement = dragContainer.getParent();\n\t\t\t\t}\n\n\t\t\t\tif ( dragElement.equals( dropContainer ) && preChildCount != dropContainer.getChildCount() ) {\n\t\t\t\t\tapplyFix( dropRange );\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction applyFix( dropRange ) {\n\t\t\t\tvar nodeBefore = dropRange.startContainer.getChild( dropRange.startOffset - 1 ),\n\t\t\t\t\tnodeAfter = dropRange.startContainer.getChild( dropRange.startOffset );\n\n\t\t\t\tif (\n\t\t\t\t\tnodeBefore && nodeBefore.type == CKEDITOR.NODE_TEXT &&\n\t\t\t\t\tnodeAfter && nodeAfter.type == CKEDITOR.NODE_TEXT\n\t\t\t\t) {\n\t\t\t\t\tvar offset = nodeBefore.getLength();\n\n\t\t\t\t\tnodeBefore.setText( nodeBefore.getText() + nodeAfter.getText() );\n\t\t\t\t\tnodeAfter.remove();\n\n\t\t\t\t\tdropRange.setStart( nodeBefore, offset );\n\t\t\t\t\tdropRange.collapse( true );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks whether turning the drag range into bookmarks will invalidate the drop range.\n\t\t * This usually happens when the drop range shares the container with the drag range and is\n\t\t * located after the drag range, but there are countless edge cases.\n\t\t *\n\t\t * This function is stricly related to {@link #internalDrop} which toggles\n\t\t * order in which it creates bookmarks for both ranges based on a value returned\n\t\t * by this method. In some cases this method returns a value which is not necessarily\n\t\t * true in terms of what it was meant to check, but it is convenient, because\n\t\t * we know how it is interpreted in {@link #internalDrop}, so the correct\n\t\t * behavior of the entire algorithm is assured.\n\t\t *\n\t\t * **Note:** This function is in the public scope for tests usage only.\n\t\t *\n\t\t * @since 4.5\n\t\t * @private\n\t\t * @param {CKEDITOR.dom.range} dragRange The first range to compare.\n\t\t * @param {CKEDITOR.dom.range} dropRange The second range to compare.\n\t\t * @returns {Boolean} `true` if the first range is before the second range.\n\t\t */\n\t\tisDropRangeAffectedByDragRange: function( dragRange, dropRange ) {\n\t\t\tvar dropContainer = dropRange.startContainer,\n\t\t\t\tdropOffset = dropRange.endOffset;\n\n\t\t\t// Both containers are the same and drop offset is at the same position or later.\n\t\t\t// \" A L] A \" \" M A \"\n\t\t\t//       ^ ^\n\t\t\tif ( dragRange.endContainer.equals( dropContainer ) && dragRange.endOffset <= dropOffset ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Bookmark for drag start container will mess up with offsets.\n\t\t\t// \" O [L A \" \" M A \"\n\t\t\t//           ^       ^\n\t\t\tif (\n\t\t\t\tdragRange.startContainer.getParent().equals( dropContainer ) &&\n\t\t\t\tdragRange.startContainer.getIndex() < dropOffset\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Bookmark for drag end container will mess up with offsets.\n\t\t\t// \" O] L A \" \" M A \"\n\t\t\t//           ^       ^\n\t\t\tif (\n\t\t\t\tdragRange.endContainer.getParent().equals( dropContainer ) &&\n\t\t\t\tdragRange.endContainer.getIndex() < dropOffset\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Internal drag and drop (drag and drop in the same editor instance).\n\t\t *\n\t\t * **Note:** This function is in the public scope for tests usage only.\n\t\t *\n\t\t * @since 4.5\n\t\t * @private\n\t\t * @param {CKEDITOR.dom.range} dragRange The first range to compare.\n\t\t * @param {CKEDITOR.dom.range} dropRange The second range to compare.\n\t\t * @param {CKEDITOR.plugins.clipboard.dataTransfer} dataTransfer\n\t\t * @param {CKEDITOR.editor} editor\n\t\t */\n\t\tinternalDrop: function( dragRange, dropRange, dataTransfer, editor ) {\n\t\t\tvar clipboard = CKEDITOR.plugins.clipboard,\n\t\t\t\teditable = editor.editable(),\n\t\t\t\tdragBookmark, dropBookmark, isDropRangeAffected;\n\n\t\t\t// Save and lock snapshot so there will be only\n\t\t\t// one snapshot for both remove and insert content.\n\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\teditor.fire( 'lockSnapshot', { dontUpdate: 1 } );\n\n\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 10 ) {\n\t\t\t\tthis.fixSplitNodesAfterDrop(\n\t\t\t\t\tdragRange,\n\t\t\t\t\tdropRange,\n\t\t\t\t\tclipboard.dragStartContainerChildCount,\n\t\t\t\t\tclipboard.dragEndContainerChildCount\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Because we manipulate multiple ranges we need to do it carefully,\n\t\t\t// changing one range (event creating a bookmark) may make other invalid.\n\t\t\t// We need to change ranges into bookmarks so we can manipulate them easily in the future.\n\t\t\t// We can change the range which is later in the text before we change the preceding range.\n\t\t\t// We call isDropRangeAffectedByDragRange to test the order of ranges.\n\t\t\tisDropRangeAffected = this.isDropRangeAffectedByDragRange( dragRange, dropRange );\n\t\t\tif ( !isDropRangeAffected ) {\n\t\t\t\tdragBookmark = dragRange.createBookmark( false );\n\t\t\t}\n\t\t\tdropBookmark = dropRange.clone().createBookmark( false );\n\t\t\tif ( isDropRangeAffected ) {\n\t\t\t\tdragBookmark = dragRange.createBookmark( false );\n\t\t\t}\n\n\t\t\t// Check if drop range is inside range.\n\t\t\t// This is an edge case when we drop something on editable's margin/padding.\n\t\t\t// That space is not treated as a part of the range we drag, so it is possible to drop there.\n\t\t\t// When we drop, browser tries to find closest drop position and it finds it inside drag range. (#13453)\n\t\t\tvar startNode = dragBookmark.startNode,\n\t\t\t\tendNode = dragBookmark.endNode,\n\t\t\t\tdropNode = dropBookmark.startNode,\n\t\t\t\tdropInsideDragRange =\n\t\t\t\t\t// Must check endNode because dragRange could be collapsed in some edge cases (simulated DnD).\n\t\t\t\t\tendNode &&\n\t\t\t\t\t( startNode.getPosition( dropNode ) & CKEDITOR.POSITION_PRECEDING ) &&\n\t\t\t\t\t( endNode.getPosition( dropNode ) & CKEDITOR.POSITION_FOLLOWING );\n\n\t\t\t// If the drop range happens to be inside drag range change it's position to the beginning of the drag range.\n\t\t\tif ( dropInsideDragRange ) {\n\t\t\t\t// We only change position of bookmark span that is connected with dropBookmark.\n\t\t\t\t// dropRange will be overwritten and set to the dropBookmark later.\n\t\t\t\tdropNode.insertBefore( startNode );\n\t\t\t}\n\n\t\t\t// No we can safely delete content for the drag range...\n\t\t\tdragRange = editor.createRange();\n\t\t\tdragRange.moveToBookmark( dragBookmark );\n\t\t\teditable.extractHtmlFromRange( dragRange, 1 );\n\n\t\t\t// ...and paste content into the drop position.\n\t\t\tdropRange = editor.createRange();\n\t\t\tdropRange.moveToBookmark( dropBookmark );\n\n\t\t\t// We do not select drop range, because of may be in the place we can not set the selection\n\t\t\t// (e.g. between blocks, in case of block widget D&D). We put range to the paste event instead.\n\t\t\tfirePasteEvents( editor, { dataTransfer: dataTransfer, method: 'drop', range: dropRange }, 1 );\n\n\t\t\teditor.fire( 'unlockSnapshot' );\n\t\t},\n\n\t\t/**\n\t\t * Gets the range from the `drop` event.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {Object} domEvent A native DOM drop event object.\n\t\t * @param {CKEDITOR.editor} editor The source editor instance.\n\t\t * @returns {CKEDITOR.dom.range} range at drop position.\n\t\t */\n\t\tgetRangeAtDropPosition: function( dropEvt, editor ) {\n\t\t\tvar $evt = dropEvt.data.$,\n\t\t\t\tx = $evt.clientX,\n\t\t\t\ty = $evt.clientY,\n\t\t\t\t$range,\n\t\t\t\tdefaultRange = editor.getSelection( true ).getRanges()[ 0 ],\n\t\t\t\trange = editor.createRange();\n\n\t\t\t// Make testing possible.\n\t\t\tif ( dropEvt.data.testRange )\n\t\t\t\treturn dropEvt.data.testRange;\n\n\t\t\t// Webkits.\n\t\t\tif ( document.caretRangeFromPoint ) {\n\t\t\t\t$range = editor.document.$.caretRangeFromPoint( x, y );\n\t\t\t\trange.setStart( CKEDITOR.dom.node( $range.startContainer ), $range.startOffset );\n\t\t\t\trange.collapse( true );\n\t\t\t}\n\t\t\t// FF.\n\t\t\telse if ( $evt.rangeParent ) {\n\t\t\t\trange.setStart( CKEDITOR.dom.node( $evt.rangeParent ), $evt.rangeOffset );\n\t\t\t\trange.collapse( true );\n\t\t\t}\n\t\t\t// IEs 9+.\n\t\t\t// We check if editable is focused to make sure that it's an internal DnD. External DnD must use the second\n\t\t\t// mechanism because of http://dev.ckeditor.com/ticket/13472#comment:6.\n\t\t\telse if ( CKEDITOR.env.ie && CKEDITOR.env.version > 8 && defaultRange && editor.editable().hasFocus ) {\n\t\t\t\t// On IE 9+ range by default is where we expected it.\n\t\t\t\t// defaultRange may be undefined if dragover was canceled (file drop).\n\t\t\t\treturn defaultRange;\n\t\t\t}\n\t\t\t// IE 8 and all IEs if !defaultRange or external DnD.\n\t\t\telse if ( document.body.createTextRange ) {\n\t\t\t\t// To use this method we need a focus (which may be somewhere else in case of external drop).\n\t\t\t\teditor.focus();\n\n\t\t\t\t$range = editor.document.getBody().$.createTextRange();\n\t\t\t\ttry {\n\t\t\t\t\tvar sucess = false;\n\n\t\t\t\t\t// If user drop between text line IEs moveToPoint throws exception:\n\t\t\t\t\t//\n\t\t\t\t\t//\t\tLorem ipsum pulvinar purus et euismod\n\t\t\t\t\t//\n\t\t\t\t\t//\t\tdolor sit amet,| consectetur adipiscing\n\t\t\t\t\t//\t\t               *\n\t\t\t\t\t//\t\tvestibulum tincidunt augue eget tempus.\n\t\t\t\t\t//\n\t\t\t\t\t// * - drop position\n\t\t\t\t\t// | - expected cursor position\n\t\t\t\t\t//\n\t\t\t\t\t// So we try to call moveToPoint with +-1px up to +-20px above or\n\t\t\t\t\t// below original drop position to find nearest good drop position.\n\t\t\t\t\tfor ( var i = 0; i < 20 && !sucess; i++ ) {\n\t\t\t\t\t\tif ( !sucess ) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t$range.moveToPoint( x, y - i );\n\t\t\t\t\t\t\t\tsucess = true;\n\t\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( !sucess ) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t$range.moveToPoint( x, y + i );\n\t\t\t\t\t\t\t\tsucess = true;\n\t\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( sucess ) {\n\t\t\t\t\t\tvar id = 'cke-temp-' + ( new Date() ).getTime();\n\t\t\t\t\t\t$range.pasteHTML( '<span id=\"' + id + '\">\\u200b</span>' );\n\n\t\t\t\t\t\tvar span = editor.document.getById( id );\n\t\t\t\t\t\trange.moveToPosition( span, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\tspan.remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If the fist method does not succeed we might be next to\n\t\t\t\t\t\t// the short element (like header):\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\t\tLorem ipsum pulvinar purus et euismod.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\t\tSOME HEADER|        *\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\t\tvestibulum tincidunt augue eget tempus.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// * - drop position\n\t\t\t\t\t\t// | - expected cursor position\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// In such situation elementFromPoint returns proper element. Using getClientRect\n\t\t\t\t\t\t// it is possible to check if the cursor should be at the beginning or at the end\n\t\t\t\t\t\t// of paragraph.\n\t\t\t\t\t\tvar $element = editor.document.$.elementFromPoint( x, y ),\n\t\t\t\t\t\t\telement = new CKEDITOR.dom.element( $element ),\n\t\t\t\t\t\t\trect;\n\n\t\t\t\t\t\tif ( !element.equals( editor.editable() ) && element.getName() != 'html' ) {\n\t\t\t\t\t\t\trect = element.getClientRect();\n\n\t\t\t\t\t\t\tif ( x < rect.left ) {\n\t\t\t\t\t\t\t\trange.setStartAt( element, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\t\t\trange.collapse( true );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trange.setStartAt( element, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\t\t\t\trange.collapse( true );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If drop happens on no element elementFromPoint returns html or body.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\t\t*      |Lorem ipsum pulvinar purus et euismod.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\t\t       vestibulum tincidunt augue eget tempus.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// * - drop position\n\t\t\t\t\t\t// | - expected cursor position\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// In such case we can try to use default selection. If startContainer is not\n\t\t\t\t\t\t// 'editable' element it is probably proper selection.\n\t\t\t\t\t\telse if ( defaultRange && defaultRange.startContainer &&\n\t\t\t\t\t\t\t!defaultRange.startContainer.equals( editor.editable() ) ) {\n\t\t\t\t\t\t\treturn defaultRange;\n\n\t\t\t\t\t\t// Otherwise we can not find any drop position and we have to return null\n\t\t\t\t\t\t// and cancel drop event.\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} catch ( err ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn range;\n\t\t},\n\n\t\t/**\n\t\t * This function tries to link the `evt.data.dataTransfer` property of the {@link CKEDITOR.editor#dragstart},\n\t\t * {@link CKEDITOR.editor#dragend} and {@link CKEDITOR.editor#drop} events to a single\n\t\t * {@link CKEDITOR.plugins.clipboard.dataTransfer} object.\n\t\t *\n\t\t * This method is automatically used by the core of the drag and drop functionality and\n\t\t * usually does not have to be called manually when using the drag and drop events.\n\t\t *\n\t\t * This method behaves differently depending on whether the drag and drop events were fired\n\t\t * artificially (to represent a non-native drag and drop) or whether they were caused by the native drag and drop.\n\t\t *\n\t\t * If the native event is not available, then it will create a new {@link CKEDITOR.plugins.clipboard.dataTransfer}\n\t\t * instance (if it does not exist already) and will link it to this and all following event objects until\n\t\t * the {@link #resetDragDataTransfer} method is called. It means that all three drag and drop events must be fired\n\t\t * in order to ensure that the data transfer is bound correctly.\n\t\t *\n\t\t * If the native event is available, then the {@link CKEDITOR.plugins.clipboard.dataTransfer} is identified\n\t\t * by its ID and a new instance is assigned to the `evt.data.dataTransfer` only if the ID changed or\n\t\t * the {@link #resetDragDataTransfer} method was called.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {CKEDITOR.dom.event} [evt] A drop event object.\n\t\t * @param {CKEDITOR.editor} [sourceEditor] The source editor instance.\n\t\t */\n\t\tinitDragDataTransfer: function( evt, sourceEditor ) {\n\t\t\t// Create a new dataTransfer object based on the drop event.\n\t\t\t// If this event was used on dragstart to create dataTransfer\n\t\t\t// both dataTransfer objects will have the same id.\n\t\t\tvar nativeDataTransfer = evt.data.$ ? evt.data.$.dataTransfer : null,\n\t\t\t\tdataTransfer = new this.dataTransfer( nativeDataTransfer, sourceEditor );\n\n\t\t\tif ( !nativeDataTransfer ) {\n\t\t\t\t// No native event.\n\t\t\t\tif ( this.dragData ) {\n\t\t\t\t\tdataTransfer = this.dragData;\n\t\t\t\t} else {\n\t\t\t\t\tthis.dragData = dataTransfer;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Native event. If there is the same id we will replace dataTransfer with the one\n\t\t\t\t// created on drag, because it contains drag editor, drag content and so on.\n\t\t\t\t// Otherwise (in case of drag from external source) we save new object to\n\t\t\t\t// the global clipboard.dragData.\n\t\t\t\tif ( this.dragData && dataTransfer.id == this.dragData.id ) {\n\t\t\t\t\tdataTransfer = this.dragData;\n\t\t\t\t} else {\n\t\t\t\t\tthis.dragData = dataTransfer;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tevt.data.dataTransfer = dataTransfer;\n\t\t},\n\n\t\t/**\n\t\t * Removes the global {@link #dragData} so the next call to {@link #initDragDataTransfer}\n\t\t * always creates a new instance of {@link CKEDITOR.plugins.clipboard.dataTransfer}.\n\t\t *\n\t\t * @since 4.5\n\t\t */\n\t\tresetDragDataTransfer: function() {\n\t\t\tthis.dragData = null;\n\t\t},\n\n\t\t/**\n\t\t * Global object storing the data transfer of the current drag and drop operation.\n\t\t * Do not use it directly, use {@link #initDragDataTransfer} and {@link #resetDragDataTransfer}.\n\t\t *\n\t\t * Note: This object is global (meaning that it is not related to a single editor instance)\n\t\t * in order to handle drag and drop from one editor into another.\n\t\t *\n\t\t * @since 4.5\n\t\t * @private\n\t\t * @property {CKEDITOR.plugins.clipboard.dataTransfer} dragData\n\t\t */\n\n\t\t/**\n\t\t * Range object to save the drag range and remove its content after the drop.\n\t\t *\n\t\t * @since 4.5\n\t\t * @private\n\t\t * @property {CKEDITOR.dom.range} dragRange\n\t\t */\n\n\t\t/**\n\t\t * Initializes and links data transfer objects based on the paste event. If the data\n\t\t * transfer object was already initialized on this event, the function will\n\t\t * return that object. In IE it is not possible to link copy/cut and paste events\n\t\t * so the method always returns a new object. The same happens if there is no paste event\n\t\t * passed to the method.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {CKEDITOR.dom.event} [evt] A paste event object.\n\t\t * @param {CKEDITOR.editor} [sourceEditor] The source editor instance.\n\t\t * @returns {CKEDITOR.plugins.clipboard.dataTransfer} The data transfer object.\n\t\t */\n\t\tinitPasteDataTransfer: function( evt, sourceEditor ) {\n\t\t\tif ( !this.isCustomCopyCutSupported ) {\n\t\t\t\treturn new this.dataTransfer( null, sourceEditor );\n\t\t\t} else if ( evt && evt.data && evt.data.$ ) {\n\t\t\t\tvar dataTransfer = new this.dataTransfer( evt.data.$.clipboardData, sourceEditor );\n\n\t\t\t\tif ( this.copyCutData && dataTransfer.id == this.copyCutData.id ) {\n\t\t\t\t\tdataTransfer = this.copyCutData;\n\t\t\t\t\tdataTransfer.$ = evt.data.$.clipboardData;\n\t\t\t\t} else {\n\t\t\t\t\tthis.copyCutData = dataTransfer;\n\t\t\t\t}\n\n\t\t\t\treturn dataTransfer;\n\t\t\t} else {\n\t\t\t\treturn new this.dataTransfer( null, sourceEditor );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Prevents dropping on the specified element.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {CKEDITOR.dom.element} element The element on which dropping should be disabled.\n\t\t */\n\t\tpreventDefaultDropOnElement: function( element ) {\n\t\t\telement && element.on( 'dragover', preventDefaultSetDropEffectToNone );\n\t\t}\n\t};\n\n\t// Data type used to link drag and drop events.\n\t//\n\t// In IE URL data type is buggie and there is no way to mark drag & drop  without\n\t// modifying text data (which would be displayed if user drop content to the textarea)\n\t// so we just read dragged text.\n\t//\n\t// In Chrome and Firefox we can use custom data types.\n\tvar clipboardIdDataType = CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? 'cke/id' : 'Text';\n\t/**\n\t * Facade for the native `dataTransfer`/`clipboadData` object to hide all differences\n\t * between browsers.\n\t *\n\t * @since 4.5\n\t * @class CKEDITOR.plugins.clipboard.dataTransfer\n\t * @constructor Creates a class instance.\n\t * @param {Object} [nativeDataTransfer] A native data transfer object.\n\t * @param {CKEDITOR.editor} [editor] The source editor instance. If the editor is defined, dataValue will\n\t * be created based on the editor content and the type will be 'html'.\n\t */\n\tCKEDITOR.plugins.clipboard.dataTransfer = function( nativeDataTransfer, editor ) {\n\t\tif ( nativeDataTransfer ) {\n\t\t\tthis.$ = nativeDataTransfer;\n\t\t}\n\n\t\tthis._ = {\n\t\t\tmetaRegExp: /^<meta.*?>/i,\n\t\t\tbodyRegExp: /<body(?:[\\s\\S]*?)>([\\s\\S]*)<\\/body>/i,\n\t\t\tfragmentRegExp: /<!--(?:Start|End)Fragment-->/g,\n\n\t\t\tdata: {},\n\t\t\tfiles: [],\n\n\t\t\tnormalizeType: function( type ) {\n\t\t\t\ttype = type.toLowerCase();\n\n\t\t\t\tif ( type == 'text' || type == 'text/plain' ) {\n\t\t\t\t\treturn 'Text'; // IE support only Text and URL;\n\t\t\t\t} else if ( type == 'url' ) {\n\t\t\t\t\treturn 'URL'; // IE support only Text and URL;\n\t\t\t\t} else {\n\t\t\t\t\treturn type;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// Check if ID is already created.\n\t\tthis.id = this.getData( clipboardIdDataType );\n\n\t\t// If there is no ID we need to create it. Different browsers needs different ID.\n\t\tif ( !this.id ) {\n\t\t\tif ( clipboardIdDataType == 'Text' ) {\n\t\t\t\t// For IE10+ only Text data type is supported and we have to compare dragged\n\t\t\t\t// and dropped text. If the ID is not set it means that empty string was dragged\n\t\t\t\t// (ex. image with no alt). We change null to empty string.\n\t\t\t\tthis.id = '';\n\t\t\t} else {\n\t\t\t\t// String for custom data type.\n\t\t\t\tthis.id = 'cke-' + CKEDITOR.tools.getUniqueId();\n\t\t\t}\n\t\t}\n\n\t\t// In IE10+ we can not use any data type besides text, so we do not call setData.\n\t\tif ( clipboardIdDataType != 'Text' ) {\n\t\t\t// Try to set ID so it will be passed from the drag to the drop event.\n\t\t\t// On some browsers with some event it is not possible to setData so we\n\t\t\t// need to catch exceptions.\n\t\t\ttry {\n\t\t\t\tthis.$.setData( clipboardIdDataType, this.id );\n\t\t\t} catch ( err ) {}\n\t\t}\n\n\t\tif ( editor ) {\n\t\t\tthis.sourceEditor = editor;\n\n\t\t\tthis.setData( 'text/html', editor.getSelectedHtml( 1 ) );\n\n\t\t\t// Without setData( 'text', ... ) on dragstart there is no drop event in Safari.\n\t\t\t// Also 'text' data is empty as drop to the textarea does not work if we do not put there text.\n\t\t\tif ( clipboardIdDataType != 'Text' && !this.getData( 'text/plain' ) ) {\n\t\t\t\tthis.setData( 'text/plain', editor.getSelection().getSelectedText() );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Data transfer ID used to bind all dataTransfer\n\t\t * objects based on the same event (e.g. in drag and drop events).\n\t\t *\n\t\t * @readonly\n\t\t * @property {String} id\n\t\t */\n\n\t\t/**\n\t\t * A native DOM event object.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Object} $\n\t\t */\n\n\t\t/**\n\t\t * Source editor &mdash; the editor where the drag starts.\n\t\t * Might be undefined if the drag starts outside the editor (e.g. when dropping files to the editor).\n\t\t *\n\t\t * @readonly\n\t\t * @property {CKEDITOR.editor} sourceEditor\n\t\t */\n\n\t\t/**\n\t\t * Private properties and methods.\n\t\t *\n\t\t * @private\n\t\t * @property {Object} _\n\t\t */\n\t};\n\n\t/**\n\t * Data transfer operation (drag and drop or copy and paste) started and ended in the same\n\t * editor instance.\n\t *\n\t * @since 4.5\n\t * @readonly\n\t * @property {Number} [=1]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.DATA_TRANSFER_INTERNAL = 1;\n\n\t/**\n\t * Data transfer operation (drag and drop or copy and paste) started in one editor\n\t * instance and ended in another.\n\t *\n\t * @since 4.5\n\t * @readonly\n\t * @property {Number} [=2]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.DATA_TRANSFER_CROSS_EDITORS = 2;\n\n\t/**\n\t * Data transfer operation (drag and drop or copy and paste) started outside of the editor.\n\t * The source of the data may be a textarea, HTML, another application, etc.\n\t *\n\t * @since 4.5\n\t * @readonly\n\t * @property {Number} [=3]\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.DATA_TRANSFER_EXTERNAL = 3;\n\n\tCKEDITOR.plugins.clipboard.dataTransfer.prototype = {\n\t\t/**\n\t\t * Facade for the native `getData` method.\n\t\t *\n\t\t * @param {String} type The type of data to retrieve.\n\t\t * @returns {String} type Stored data for the given type or an empty string if the data for that type does not exist.\n\t\t */\n\t\tgetData: function( type ) {\n\t\t\tfunction isEmpty( data ) {\n\t\t\t\treturn data === undefined || data === null || data === '';\n\t\t\t}\n\n\t\t\ttype = this._.normalizeType( type );\n\n\t\t\tvar data = this._.data[ type ],\n\t\t\t\tresult;\n\n\t\t\tif ( isEmpty( data ) ) {\n\t\t\t\ttry {\n\t\t\t\t\tdata = this.$.getData( type );\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( isEmpty( data ) ) {\n\t\t\t\tdata = '';\n\t\t\t}\n\n\t\t\t// Some browsers add <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"> at the begging of the HTML data\n\t\t\t// or surround it with <html><head>...</head><body>(some content)<!--StartFragment--> and <!--EndFragment-->(some content)</body></html>\n\t\t\t// This code removes meta tags and returns only the contents of the <body> element if found. Note that\n\t\t\t// some significant content may be placed outside Start/EndFragment comments so it's kept.\n\t\t\t//\n\t\t\t// See #13583 for more details.\n\t\t\tif ( type == 'text/html' ) {\n\t\t\t\tdata = data.replace( this._.metaRegExp, '' );\n\n\t\t\t\t// Keep only contents of the <body> element\n\t\t\t\tresult = this._.bodyRegExp.exec( data );\n\t\t\t\tif ( result && result.length ) {\n\t\t\t\t\tdata = result[ 1 ];\n\n\t\t\t\t\t// Remove also comments.\n\t\t\t\t\tdata = data.replace( this._.fragmentRegExp, '' );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Firefox on Linux put files paths as a text/plain data if there are files\n\t\t\t// in the dataTransfer object. We need to hide it, because files should be\n\t\t\t// handled on paste only if dataValue is empty.\n\t\t\telse if ( type == 'Text' && CKEDITOR.env.gecko && this.getFilesCount() &&\n\t\t\t\tdata.substring( 0, 7 ) == 'file://' ) {\n\t\t\t\tdata = '';\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\n\t\t/**\n\t\t * Facade for the native `setData` method.\n\t\t *\n\t\t * @param {String} type The type of data to retrieve.\n\t\t * @param {String} value The data to add.\n\t\t */\n\t\tsetData: function( type, value ) {\n\t\t\ttype = this._.normalizeType( type );\n\n\t\t\tthis._.data[ type ] = value;\n\n\t\t\t// There is \"Unexpected call to method or property access.\" error if you try\n\t\t\t// to set data of unsupported type on IE.\n\t\t\tif ( !CKEDITOR.plugins.clipboard.isCustomDataTypesSupported && type != 'URL' && type != 'Text' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If we use the text type to bind the ID, then if someone tries to set the text, we must also\n\t\t\t// update ID accordingly. #13468.\n\t\t\tif ( clipboardIdDataType == 'Text' && type == 'Text' ) {\n\t\t\t\tthis.id = value;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.$.setData( type, value );\n\t\t\t} catch ( e ) {}\n\t\t},\n\n\t\t/**\n\t\t * Gets the data transfer type.\n\t\t *\n\t\t * @param {CKEDITOR.editor} targetEditor The drop/paste target editor instance.\n\t\t * @returns {Number} Possible values: {@link CKEDITOR#DATA_TRANSFER_INTERNAL},\n\t\t * {@link CKEDITOR#DATA_TRANSFER_CROSS_EDITORS}, {@link CKEDITOR#DATA_TRANSFER_EXTERNAL}.\n\t\t */\n\t\tgetTransferType: function( targetEditor ) {\n\t\t\tif ( !this.sourceEditor ) {\n\t\t\t\treturn CKEDITOR.DATA_TRANSFER_EXTERNAL;\n\t\t\t} else if ( this.sourceEditor == targetEditor ) {\n\t\t\t\treturn CKEDITOR.DATA_TRANSFER_INTERNAL;\n\t\t\t} else {\n\t\t\t\treturn CKEDITOR.DATA_TRANSFER_CROSS_EDITORS;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Copies the data from the native data transfer to a private cache.\n\t\t * This function is needed because the data from the native data transfer\n\t\t * is available only synchronously to the event listener. It is not possible\n\t\t * to get the data asynchronously, after a timeout, and the {@link CKEDITOR.editor#paste}\n\t\t * event is fired asynchronously &mdash; hence the need for caching the data.\n\t\t */\n\t\tcacheData: function() {\n\t\t\tif ( !this.$ ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar that = this,\n\t\t\t\ti, file;\n\n\t\t\tfunction getAndSetData( type ) {\n\t\t\t\ttype = that._.normalizeType( type );\n\n\t\t\t\tvar data = that.getData( type );\n\t\t\t\tif ( data ) {\n\t\t\t\t\tthat._.data[ type ] = data;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Copy data.\n\t\t\tif ( CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ) {\n\t\t\t\tif ( this.$.types ) {\n\t\t\t\t\tfor ( i = 0; i < this.$.types.length; i++ ) {\n\t\t\t\t\t\tgetAndSetData( this.$.types[ i ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgetAndSetData( 'Text' );\n\t\t\t\tgetAndSetData( 'URL' );\n\t\t\t}\n\n\t\t\t// Copy files references.\n\t\t\tfile = this._getImageFromClipboard();\n\t\t\tif ( ( this.$ && this.$.files ) || file ) {\n\t\t\t\tthis._.files = [];\n\n\t\t\t\tfor ( i = 0; i < this.$.files.length; i++ ) {\n\t\t\t\t\tthis._.files.push( this.$.files[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Don't include $.items if both $.files and $.items contains files, because,\n\t\t\t\t// according to spec and browsers behavior, they contain the same files.\n\t\t\t\tif ( this._.files.length === 0 && file ) {\n\t\t\t\t\tthis._.files.push( file );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets the number of files in the dataTransfer object.\n\t\t *\n\t\t * @returns {Number} The number of files.\n\t\t */\n\t\tgetFilesCount: function() {\n\t\t\tif ( this._.files.length ) {\n\t\t\t\treturn this._.files.length;\n\t\t\t}\n\n\t\t\tif ( this.$ && this.$.files && this.$.files.length ) {\n\t\t\t\treturn this.$.files.length;\n\t\t\t}\n\n\t\t\treturn this._getImageFromClipboard() ? 1 : 0;\n\t\t},\n\n\t\t/**\n\t\t * Gets the file at the index given.\n\t\t *\n\t\t * @param {Number} i Index.\n\t\t * @returns {File} File instance.\n\t\t */\n\t\tgetFile: function( i ) {\n\t\t\tif ( this._.files.length ) {\n\t\t\t\treturn this._.files[ i ];\n\t\t\t}\n\n\t\t\tif ( this.$ && this.$.files && this.$.files.length ) {\n\t\t\t\treturn this.$.files[ i ];\n\t\t\t}\n\n\t\t\t// File or null if the file was not found.\n\t\t\treturn i === 0 ? this._getImageFromClipboard() : undefined;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the data transfer contains any data.\n\t\t *\n\t\t * @returns {Boolean} `true` if the object contains no data.\n\t\t */\n\t\tisEmpty: function() {\n\t\t\tvar typesToCheck = {},\n\t\t\t\ttype;\n\n\t\t\t// If dataTransfer contains files it is not empty.\n\t\t\tif ( this.getFilesCount() ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Add custom types.\n\t\t\tfor ( type in this._.data ) {\n\t\t\t\ttypesToCheck[ type ] = 1;\n\t\t\t}\n\n\t\t\t// Add native types.\n\t\t\tif ( this.$ ) {\n\t\t\t\tif ( CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ) {\n\t\t\t\t\tif ( this.$.types ) {\n\t\t\t\t\t\tfor ( var i = 0; i < this.$.types.length; i++ ) {\n\t\t\t\t\t\t\ttypesToCheck[ this.$.types[ i ] ] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttypesToCheck.Text = 1;\n\t\t\t\t\ttypesToCheck.URL = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove ID.\n\t\t\tif ( clipboardIdDataType != 'Text' ) {\n\t\t\t\ttypesToCheck[ clipboardIdDataType ] = 0;\n\t\t\t}\n\n\t\t\tfor ( type in typesToCheck ) {\n\t\t\t\tif ( typesToCheck[ type ] && this.getData( type ) !== '' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * When the content of the clipboard is pasted in Chrome, the clipboard data object has an empty `files` property,\n\t\t * but it is possible to get the file as `items[0].getAsFile();` (#12961).\n\t\t *\n\t\t * @private\n\t\t * @returns {File} File instance or `null` if not found.\n\t\t */\n\t\t_getImageFromClipboard: function() {\n\t\t\tvar file;\n\n\t\t\tif ( this.$ && this.$.items && this.$.items[ 0 ] ) {\n\t\t\t\ttry {\n\t\t\t\t\tfile = this.$.items[ 0 ].getAsFile();\n\t\t\t\t\t// Duck typing\n\t\t\t\t\tif ( file && file.type ) {\n\t\t\t\t\t\treturn file;\n\t\t\t\t\t}\n\t\t\t\t} catch ( err ) {\n\t\t\t\t\t// noop\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\t};\n} )();\n\n/**\n * The default content type that is used when pasted data cannot be clearly recognized as HTML or text.\n *\n * For example: `'foo'` may come from a plain text editor or a website. It is not possible to recognize the content\n * type in this case, so the default type will be used. At the same time it is clear that `'<b>example</b> text'` is\n * HTML and its origin is a web page, email or another rich text editor.\n *\n * **Note:** If content type is text, then styles of the paste context are preserved.\n *\n *\t\tCKEDITOR.config.clipboard_defaultContentType = 'text';\n *\n * See also the {@link CKEDITOR.editor#paste} event and read more about the integration with clipboard\n * in the [Clipboard Deep Dive guide](#!/guide/dev_clipboard).\n *\n * @since 4.0\n * @cfg {'html'/'text'} [clipboard_defaultContentType='html']\n * @member CKEDITOR.config\n */\n\n/**\n * Fired after the user initiated a paste action, but before the data is inserted into the editor.\n * The listeners to this event are able to process the content before its insertion into the document.\n *\n * Read more about the integration with clipboard in the [Clipboard Deep Dive guide](#!/guide/dev_clipboard).\n *\n * See also:\n *\n * * the {@link CKEDITOR.config#pasteFilter} option,\n * * the {@link CKEDITOR.editor#drop} event,\n * * the {@link CKEDITOR.plugins.clipboard.dataTransfer} class.\n *\n * @since 3.1\n * @event paste\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.type The type of data in `data.dataValue`. Usually `'html'` or `'text'`, but for listeners\n * with a priority smaller than `6` it may also be `'auto'` which means that the content type has not been recognised yet\n * (this will be done by the content type sniffer that listens with priority `6`).\n * @param {String} data.dataValue HTML to be pasted.\n * @param {String} data.method Indicates the data transfer method. It could be drag and drop or copy and paste.\n * Possible values: `'drop'`, `'paste'`. Introduced in CKEditor 4.5.\n * @param {CKEDITOR.plugins.clipboard.dataTransfer} data.dataTransfer Facade for the native dataTransfer object\n * which provides access to various data types and files, and passes some data between linked events\n * (like drag and drop). Introduced in CKEditor 4.5.\n * @param {Boolean} [data.dontFilter=false] Whether the {@link CKEDITOR.editor#pasteFilter paste filter} should not\n * be applied to data. This option has no effect when `data.type` equals `'text'` which means that for instance\n * {@link CKEDITOR.config#forcePasteAsPlainText} has a higher priority. Introduced in CKEditor 4.5.\n */\n\n/**\n * Fired before the {@link #paste} event. Allows to preset data type.\n *\n * **Note:** This event is deprecated. Add a `0` priority listener for the\n * {@link #paste} event instead.\n *\n * @deprecated\n * @event beforePaste\n * @member CKEDITOR.editor\n */\n\n /**\n * Fired after the {@link #paste} event if content was modified. Note that if the paste\n * event does not insert any data, the `afterPaste` event will not be fired.\n *\n * @event afterPaste\n * @member CKEDITOR.editor\n */\n\n/**\n * Internal event to open the Paste dialog window.\n *\n * @private\n * @event pasteDialog\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {Function} [data] Callback that will be passed to {@link CKEDITOR.editor#openDialog}.\n */\n\n/**\n * Facade for the native `drop` event. Fired when the native `drop` event occurs.\n *\n * **Note:** To manipulate dropped data, use the {@link CKEDITOR.editor#paste} event.\n * Use the `drop` event only to control drag and drop operations (e.g. to prevent the ability to drop some content).\n *\n * Read more about integration with drag and drop in the [Clipboard Deep Dive guide](#!/guide/dev_clipboard).\n *\n * See also:\n *\n * * The {@link CKEDITOR.editor#paste} event,\n * * The {@link CKEDITOR.editor#dragstart} and {@link CKEDITOR.editor#dragend} events,\n * * The {@link CKEDITOR.plugins.clipboard.dataTransfer} class.\n *\n * @since 4.5\n * @event drop\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {Object} data.$ Native drop event.\n * @param {CKEDITOR.dom.node} data.target Drop target.\n * @param {CKEDITOR.plugins.clipboard.dataTransfer} data.dataTransfer DataTransfer facade.\n * @param {CKEDITOR.dom.range} data.dragRange Drag range, lets you manipulate the drag range.\n * Note that dragged HTML is saved as `text/html` data on `dragstart` so if you change the drag range\n * on drop, dropped HTML will not change. You need to change it manually using\n * {@link CKEDITOR.plugins.clipboard.dataTransfer#setData dataTransfer.setData}.\n * @param {CKEDITOR.dom.range} data.dropRange Drop range, lets you manipulate the drop range.\n */\n\n/**\n * Facade for the native `dragstart` event. Fired when the native `dragstart` event occurs.\n *\n * This event can be canceled in order to block the drag start operation. It can also be fired to mimic the start of the drag and drop\n * operation. For instance, the `widget` plugin uses this option to integrate its custom block widget drag and drop with\n * the entire system.\n *\n * Read more about integration with drag and drop in the [Clipboard Deep Dive guide](#!/guide/dev_clipboard).\n *\n * See also:\n *\n * * The {@link CKEDITOR.editor#paste} event,\n * * The {@link CKEDITOR.editor#drop} and {@link CKEDITOR.editor#dragend} events,\n * * The {@link CKEDITOR.plugins.clipboard.dataTransfer} class.\n *\n * @since 4.5\n * @event dragstart\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {Object} data.$ Native dragstart event.\n * @param {CKEDITOR.dom.node} data.target Drag target.\n * @param {CKEDITOR.plugins.clipboard.dataTransfer} data.dataTransfer DataTransfer facade.\n */\n\n/**\n * Facade for the native `dragend` event. Fired when the native `dragend` event occurs.\n *\n * Read more about integration with drag and drop in the [Clipboard Deep Dive guide](#!/guide/dev_clipboard).\n *\n * See also:\n *\n * * The {@link CKEDITOR.editor#paste} event,\n * * The {@link CKEDITOR.editor#drop} and {@link CKEDITOR.editor#dragend} events,\n * * The {@link CKEDITOR.plugins.clipboard.dataTransfer} class.\n *\n * @since 4.5\n * @event dragend\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {Object} data.$ Native dragend event.\n * @param {CKEDITOR.dom.node} data.target Drag target.\n * @param {CKEDITOR.plugins.clipboard.dataTransfer} data.dataTransfer DataTransfer facade.\n */\n\n/**\n * Defines a filter which is applied to external data pasted or dropped into the editor. Possible values are:\n *\n * * `'plain-text'` &ndash; Content will be pasted as a plain text.\n * * `'semantic-content'` &ndash; Known tags (except `div`, `span`) with all attributes (except\n * `style` and `class`) will be kept.\n * * `'h1 h2 p div'` &ndash; Custom rules compatible with {@link CKEDITOR.filter}.\n * * `null` &ndash; Content will not be filtered by the paste filter (but it still may be filtered\n * by [Advanced Content Filter](#!/guide/dev_advanced_content_filter)). This value can be used to\n * disable the paste filter in Chrome and Safari, where this option defaults to `'semantic-content'`.\n *\n * Example:\n *\n *\t\tconfig.pasteFilter = 'plain-text';\n *\n * Custom setting:\n *\n *\t\tconfig.pasteFilter = 'h1 h2 p ul ol li; img[!src, alt]; a[!href]';\n *\n * Based on this configuration option, a proper {@link CKEDITOR.filter} instance will be defined and assigned to the editor\n * as a {@link CKEDITOR.editor#pasteFilter}. You can tweak the paste filter settings on the fly on this object\n * as well as delete or replace it.\n *\n *\t\tvar editor = CKEDITOR.replace( 'editor', {\n *\t\t\tpasteFilter: 'semantic-content'\n *\t\t} );\n *\n *\t\teditor.on( 'instanceReady', function() {\n *\t\t\t// The result of this will be that all semantic content will be preserved\n *\t\t\t// except tables.\n *\t\t\teditor.pasteFilter.disallow( 'table' );\n *\t\t} );\n *\n * Note that the paste filter is applied only to **external** data. There are three data sources:\n *\n * * copied and pasted in the same editor (internal),\n * * copied from one editor and pasted into another (cross-editor),\n * * coming from all other sources like websites, MS Word, etc. (external).\n *\n * If {@link CKEDITOR.config#allowedContent Advanced Content Filter} is not disabled, then\n * it will also be applied to pasted and dropped data. The paste filter job is to \"normalize\"\n * external data which often needs to be handled differently than content produced by the editor.\n *\n * This setting defaults to `'semantic-content'` in Chrome, Opera and Safari (all Blink and Webkit based browsers)\n * due to messy HTML which these browsers keep in the clipboard. In other browsers it defaults to `null`.\n *\n * @since 4.5\n * @cfg {String} [pasteFilter='semantic-content' in Chrome and Safari and `null` in other browsers]\n * @member CKEDITOR.config\n */\n\n/**\n * {@link CKEDITOR.filter Content filter} which is used when external data is pasted or dropped into the editor\n * or a forced paste as plain text occurs.\n *\n * This object might be used on the fly to define rules for pasted external content.\n * This object is available and used if the {@link CKEDITOR.plugins.clipboard clipboard} plugin is enabled and\n * {@link CKEDITOR.config#pasteFilter} or {@link CKEDITOR.config#forcePasteAsPlainText} was defined.\n *\n * To enable the filter:\n *\n *\t\tvar editor = CKEDITOR.replace( 'editor', {\n *\t\t\tpasteFilter: 'plain-text'\n *\t\t} );\n *\n * You can also modify the filter on the fly later on:\n *\n *\t\teditor.pasteFilter = new CKEDITOR.filter( 'p h1 h2; a[!href]' );\n *\n * Note that the paste filter is only applied to **external** data. There are three data sources:\n *\n * * copied and pasted in the same editor (internal),\n * * copied from one editor and pasted into another (cross-editor),\n * * coming from all other sources like websites, MS Word, etc. (external).\n *\n * If {@link CKEDITOR.config#allowedContent Advanced Content Filter} is not disabled, then\n * it will also be applied to pasted and dropped data. The paste filter job is to \"normalize\"\n * external data which often needs to be handled differently than content produced by the editor.\n *\n * @since 4.5\n * @readonly\n * @property {CKEDITOR.filter} [pasteFilter]\n * @member CKEDITOR.editor\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/clipboard/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"colorbutton\" plugin that makes it possible to assign\n *               text and background colors to editor contents.\n *\n */\nCKEDITOR.plugins.add( 'colorbutton', {\n\trequires: 'panelbutton,floatpanel',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'bgcolor,textcolor', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\tvar config = editor.config,\n\t\t\tlang = editor.lang.colorbutton;\n\n\t\tif ( !CKEDITOR.env.hc ) {\n\t\t\taddButton( 'TextColor', 'fore', lang.textColorTitle, 10 );\n\t\t\taddButton( 'BGColor', 'back', lang.bgColorTitle, 20 );\n\t\t}\n\n\t\tfunction addButton( name, type, title, order ) {\n\t\t\tvar style = new CKEDITOR.style( config[ 'colorButton_' + type + 'Style' ] ),\n\t\t\t\tcolorBoxId = CKEDITOR.tools.getNextId() + '_colorBox';\n\n\t\t\teditor.ui.add( name, CKEDITOR.UI_PANELBUTTON, {\n\t\t\t\tlabel: title,\n\t\t\t\ttitle: title,\n\t\t\t\tmodes: { wysiwyg: 1 },\n\t\t\t\teditorFocus: 0,\n\t\t\t\ttoolbar: 'colors,' + order,\n\t\t\t\tallowedContent: style,\n\t\t\t\trequiredContent: style,\n\n\t\t\t\tpanel: {\n\t\t\t\t\tcss: CKEDITOR.skin.getPath( 'editor' ),\n\t\t\t\t\tattributes: { role: 'listbox', 'aria-label': lang.panelTitle }\n\t\t\t\t},\n\n\t\t\t\tonBlock: function( panel, block ) {\n\t\t\t\t\tblock.autoSize = true;\n\t\t\t\t\tblock.element.addClass( 'cke_colorblock' );\n\t\t\t\t\tblock.element.setHtml( renderColors( panel, type, colorBoxId ) );\n\t\t\t\t\t// The block should not have scrollbars (#5933, #6056)\n\t\t\t\t\tblock.element.getDocument().getBody().setStyle( 'overflow', 'hidden' );\n\n\t\t\t\t\tCKEDITOR.ui.fire( 'ready', this );\n\n\t\t\t\t\tvar keys = block.keys;\n\t\t\t\t\tvar rtl = editor.lang.dir == 'rtl';\n\t\t\t\t\tkeys[ rtl ? 37 : 39 ] = 'next'; // ARROW-RIGHT\n\t\t\t\t\tkeys[ 40 ] = 'next'; // ARROW-DOWN\n\t\t\t\t\tkeys[ 9 ] = 'next'; // TAB\n\t\t\t\t\tkeys[ rtl ? 39 : 37 ] = 'prev'; // ARROW-LEFT\n\t\t\t\t\tkeys[ 38 ] = 'prev'; // ARROW-UP\n\t\t\t\t\tkeys[ CKEDITOR.SHIFT + 9 ] = 'prev'; // SHIFT + TAB\n\t\t\t\t\tkeys[ 32 ] = 'click'; // SPACE\n\t\t\t\t},\n\n\t\t\t\trefresh: function() {\n\t\t\t\t\tif ( !editor.activeFilter.check( style ) )\n\t\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t},\n\n\t\t\t\t// The automatic colorbox should represent the real color (#6010)\n\t\t\t\tonOpen: function() {\n\n\t\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\t\tblock = selection && selection.getStartElement(),\n\t\t\t\t\t\tpath = editor.elementPath( block ),\n\t\t\t\t\t\tcolor;\n\n\t\t\t\t\tif ( !path )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Find the closest block element.\n\t\t\t\t\tblock = path.block || path.blockLimit || editor.document.getBody();\n\n\t\t\t\t\t// The background color might be transparent. In that case, look up the color in the DOM tree.\n\t\t\t\t\tdo {\n\t\t\t\t\t\tcolor = block && block.getComputedStyle( type == 'back' ? 'background-color' : 'color' ) || 'transparent';\n\t\t\t\t\t}\n\t\t\t\t\twhile ( type == 'back' && color == 'transparent' && block && ( block = block.getParent() ) );\n\n\t\t\t\t\t// The box should never be transparent.\n\t\t\t\t\tif ( !color || color == 'transparent' )\n\t\t\t\t\t\tcolor = '#ffffff';\n\n\t\t\t\t\tif ( config.colorButton_enableAutomatic !== false ) {\n\t\t\t\t\t\tthis._.panel._.iframe.getFrameDocument().getById( colorBoxId ).setStyle( 'background-color', color );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn color;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction renderColors( panel, type, colorBoxId ) {\n\t\t\tvar output = [],\n\t\t\t\tcolors = config.colorButton_colors.split( ',' ),\n\t\t\t\t// Tells if we should include \"More Colors...\" button.\n\t\t\t\tmoreColorsEnabled = editor.plugins.colordialog && config.colorButton_enableMore !== false,\n\t\t\t\t// aria-setsize and aria-posinset attributes are used to indicate size of options, because\n\t\t\t\t// screen readers doesn't play nice with table, based layouts (#12097).\n\t\t\t\ttotal = colors.length + ( moreColorsEnabled ? 2 : 1 );\n\n\t\t\tvar clickFn = CKEDITOR.tools.addFunction( function( color, type ) {\n\t\t\t\tvar applyColorStyle = arguments.callee;\n\t\t\t\tfunction onColorDialogClose( evt ) {\n\t\t\t\t\tthis.removeListener( 'ok', onColorDialogClose );\n\t\t\t\t\tthis.removeListener( 'cancel', onColorDialogClose );\n\n\t\t\t\t\tevt.name == 'ok' && applyColorStyle( this.getContentElement( 'picker', 'selectedColor' ).getValue(), type );\n\t\t\t\t}\n\n\t\t\t\tif ( color == '?' ) {\n\t\t\t\t\teditor.openDialog( 'colordialog', function() {\n\t\t\t\t\t\tthis.on( 'ok', onColorDialogClose );\n\t\t\t\t\t\tthis.on( 'cancel', onColorDialogClose );\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\teditor.focus();\n\n\t\t\t\tpanel.hide();\n\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t// Clean up any conflicting style within the range.\n\t\t\t\teditor.removeStyle( new CKEDITOR.style( config[ 'colorButton_' + type + 'Style' ], { color: 'inherit' } ) );\n\n\t\t\t\tif ( color ) {\n\t\t\t\t\tvar colorStyle = config[ 'colorButton_' + type + 'Style' ];\n\n\t\t\t\t\tcolorStyle.childRule = type == 'back' ?\n\t\t\t\t\tfunction( element ) {\n\t\t\t\t\t\t// It's better to apply background color as the innermost style. (#3599)\n\t\t\t\t\t\t// Except for \"unstylable elements\". (#6103)\n\t\t\t\t\t\treturn isUnstylable( element );\n\t\t\t\t\t} : function( element ) {\n\t\t\t\t\t\t// Fore color style must be applied inside links instead of around it. (#4772,#6908)\n\t\t\t\t\t\treturn !( element.is( 'a' ) || element.getElementsByTag( 'a' ).count() ) || isUnstylable( element );\n\t\t\t\t\t};\n\n\t\t\t\t\teditor.applyStyle( new CKEDITOR.style( colorStyle, { color: color } ) );\n\t\t\t\t}\n\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t} );\n\n\t\t\tif ( config.colorButton_enableAutomatic !== false ) {\n\t\t\t\t// Render the \"Automatic\" button.\n\t\t\t\toutput.push( '<a class=\"cke_colorauto\" _cke_focus=1 hidefocus=true' +\n\t\t\t\t\t' title=\"', lang.auto, '\"' +\n\t\t\t\t\t' onclick=\"CKEDITOR.tools.callFunction(', clickFn, ',null,\\'', type, '\\');return false;\"' +\n\t\t\t\t\t' href=\"javascript:void(\\'', lang.auto, '\\')\"' +\n\t\t\t\t\t' role=\"option\" aria-posinset=\"1\" aria-setsize=\"', total, '\">' +\n\t\t\t\t\t\t'<table role=\"presentation\" cellspacing=0 cellpadding=0 width=\"100%\">' +\n\t\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t\t'<td>' +\n\t\t\t\t\t\t\t\t\t'<span class=\"cke_colorbox\" id=\"', colorBoxId, '\"></span>' +\n\t\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t\t'<td colspan=7 align=center>', lang.auto, '</td>' +\n\t\t\t\t\t\t\t'</tr>' +\n\t\t\t\t\t\t'</table>' +\n\t\t\t\t\t'</a>' );\n\t\t\t}\n\t\t\toutput.push( '<table role=\"presentation\" cellspacing=0 cellpadding=0 width=\"100%\">' );\n\n\t\t\t// Render the color boxes.\n\t\t\tfor ( var i = 0; i < colors.length; i++ ) {\n\t\t\t\tif ( ( i % 8 ) === 0 )\n\t\t\t\t\toutput.push( '</tr><tr>' );\n\n\t\t\t\tvar parts = colors[ i ].split( '/' ),\n\t\t\t\t\tcolorName = parts[ 0 ],\n\t\t\t\t\tcolorCode = parts[ 1 ] || colorName;\n\n\t\t\t\t// The data can be only a color code (without #) or colorName + color code\n\t\t\t\t// If only a color code is provided, then the colorName is the color with the hash\n\t\t\t\t// Convert the color from RGB to RRGGBB for better compatibility with IE and <font>. See #5676\n\t\t\t\tif ( !parts[ 1 ] )\n\t\t\t\t\tcolorName = '#' + colorName.replace( /^(.)(.)(.)$/, '$1$1$2$2$3$3' );\n\n\t\t\t\tvar colorLabel = editor.lang.colorbutton.colors[ colorCode ] || colorCode;\n\t\t\t\toutput.push( '<td>' +\n\t\t\t\t\t'<a class=\"cke_colorbox\" _cke_focus=1 hidefocus=true' +\n\t\t\t\t\t\t' title=\"', colorLabel, '\"' +\n\t\t\t\t\t\t' onclick=\"CKEDITOR.tools.callFunction(', clickFn, ',\\'', colorName, '\\',\\'', type, '\\'); return false;\"' +\n\t\t\t\t\t\t' href=\"javascript:void(\\'', colorLabel, '\\')\"' +\n\t\t\t\t\t\t' role=\"option\" aria-posinset=\"', ( i + 2 ), '\" aria-setsize=\"', total, '\">' +\n\t\t\t\t\t\t'<span class=\"cke_colorbox\" style=\"background-color:#', colorCode, '\"></span>' +\n\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</td>' );\n\t\t\t}\n\n\t\t\t// Render the \"More Colors\" button.\n\t\t\tif ( moreColorsEnabled ) {\n\t\t\t\toutput.push( '</tr>' +\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t'<td colspan=8 align=center>' +\n\t\t\t\t\t\t\t'<a class=\"cke_colormore\" _cke_focus=1 hidefocus=true' +\n\t\t\t\t\t\t\t\t' title=\"', lang.more, '\"' +\n\t\t\t\t\t\t\t\t' onclick=\"CKEDITOR.tools.callFunction(', clickFn, ',\\'?\\',\\'', type, '\\');return false;\"' +\n\t\t\t\t\t\t\t\t' href=\"javascript:void(\\'', lang.more, '\\')\"', ' role=\"option\" aria-posinset=\"', total, '\" aria-setsize=\"', total, '\">', lang.more, '</a>' +\n\t\t\t\t\t\t'</td>' ); // tr is later in the code.\n\t\t\t}\n\n\t\t\toutput.push( '</tr></table>' );\n\n\t\t\treturn output.join( '' );\n\t\t}\n\n\t\tfunction isUnstylable( ele ) {\n\t\t\treturn ( ele.getAttribute( 'contentEditable' ) == 'false' ) || ele.getAttribute( 'data-nostyle' );\n\t\t}\n\t}\n} );\n\n/**\n * Whether to enable the **More Colors** button in the color selectors.\n *\n * Read more in the [documentation](#!/guide/dev_colorbutton)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/colorbutton.html).\n *\n *\t\tconfig.colorButton_enableMore = false;\n *\n * @cfg {Boolean} [colorButton_enableMore=true]\n * @member CKEDITOR.config\n */\n\n/**\n * Defines the colors to be displayed in the color selectors. This is a string\n * containing hexadecimal notation for HTML colors, without the `'#'` prefix.\n *\n * **Since 3.3:** A color name may optionally be defined by prefixing the entries with\n * a name and the slash character. For example, `'FontColor1/FF9900'` will be\n * displayed as the color `#FF9900` in the selector, but will be output as `'FontColor1'`.\n *\n * Read more in the [documentation](#!/guide/dev_colorbutton)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/colorbutton.html).\n *\n *\t\t// Brazil colors only.\n *\t\tconfig.colorButton_colors = '00923E,F8C100,28166F';\n *\n *\t\tconfig.colorButton_colors = 'FontColor1/FF9900,FontColor2/0066CC,FontColor3/F00';\n *\n * @cfg {String} [colorButton_colors=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.colorButton_colors = '000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,' +\n\t'B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,' +\n\t'F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,' +\n\t'FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,' +\n\t'FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';\n\n/**\n * Stores the style definition that applies the text foreground color.\n *\n * Read more in the [documentation](#!/guide/dev_colorbutton)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/colorbutton.html).\n *\n *\t\t// This is actually the default value.\n *\t\tconfig.colorButton_foreStyle = {\n *\t\t\telement: 'span',\n *\t\t\tstyles: { color: '#(color)' }\n *\t\t};\n *\n * @cfg [colorButton_foreStyle=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.colorButton_foreStyle = {\n\telement: 'span',\n\tstyles: { 'color': '#(color)' },\n\toverrides: [ {\n\t\telement: 'font', attributes: { 'color': null }\n\t} ]\n};\n\n/**\n * Stores the style definition that applies the text background color.\n *\n * Read more in the [documentation](#!/guide/dev_colorbutton)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/colorbutton.html).\n *\n *\t\t// This is actually the default value.\n *\t\tconfig.colorButton_backStyle = {\n *\t\t\telement: 'span',\n *\t\t\tstyles: { 'background-color': '#(color)' }\n *\t\t};\n *\n * @cfg [colorButton_backStyle=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.colorButton_backStyle = {\n\telement: 'span',\n\tstyles: { 'background-color': '#(color)' }\n};\n\n/**\n * Whether to enable the **Automatic** button in the color selectors.\n *\n * Read more in the [documentation](#!/guide/dev_colorbutton)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/colorbutton.html).\n *\n *\t\tconfig.colorButton_enableAutomatic = false;\n *\n * @cfg {Boolean} [colorButton_enableAutomatic=true]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/colorbutton/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.colordialog = {\n\trequires: 'dialog',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\tinit: function( editor ) {\n\t\tvar cmd = new CKEDITOR.dialogCommand( 'colordialog' );\n\t\tcmd.editorFocus = false;\n\n\t\teditor.addCommand( 'colordialog', cmd );\n\n\t\tCKEDITOR.dialog.add( 'colordialog', this.path + 'dialogs/colordialog.js' );\n\n\t\t/**\n\t\t * Open up color dialog and to receive the selected color.\n\t\t *\n\t\t * @param {Function} callback The callback when color dialog is closed\n\t\t * @param {String} callback.color The color value received if selected on the dialog.\n\t\t * @param [scope] The scope in which the callback will be bound.\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\teditor.getColorFromDialog = function( callback, scope ) {\n\t\t\tvar onClose = function( evt ) {\n\t\t\t\treleaseHandlers( this );\n\t\t\t\tvar color = evt.name == 'ok' ? this.getValueOf( 'picker', 'selectedColor' ) : null;\n\t\t\t\tcallback.call( scope, color );\n\t\t\t};\n\t\t\tvar releaseHandlers = function( dialog ) {\n\t\t\t\tdialog.removeListener( 'ok', onClose );\n\t\t\t\tdialog.removeListener( 'cancel', onClose );\n\t\t\t};\n\t\t\tvar bindToDialog = function( dialog ) {\n\t\t\t\tdialog.on( 'ok', onClose );\n\t\t\t\tdialog.on( 'cancel', onClose );\n\t\t\t};\n\n\t\t\teditor.execCommand( 'colordialog' );\n\n\t\t\tif ( editor._.storedDialogs && editor._.storedDialogs.colordialog )\n\t\t\t\tbindToDialog( editor._.storedDialogs.colordialog );\n\t\t\telse {\n\t\t\t\tCKEDITOR.on( 'dialogDefinition', function( e ) {\n\t\t\t\t\tif ( e.data.name != 'colordialog' )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar definition = e.data.definition;\n\n\t\t\t\t\te.removeListener();\n\t\t\t\t\tdefinition.onLoad = CKEDITOR.tools.override( definition.onLoad,\n\t\t\t\t\t\tfunction( orginal ) {\n\t\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t\tbindToDialog( this );\n\t\t\t\t\t\t\t\tdefinition.onLoad = orginal;\n\t\t\t\t\t\t\t\tif ( typeof orginal == 'function' )\n\t\t\t\t\t\t\t\t\torginal.call( this );\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\n\t}\n};\n\nCKEDITOR.plugins.add( 'colordialog', CKEDITOR.plugins.colordialog );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/colordialog/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'contextmenu', {\n\trequires: 'menu',\n\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\n\t// Make sure the base class (CKEDITOR.menu) is loaded before it (#3318).\n\tonLoad: function() {\n\t\t/**\n\t\t * Class replacing the non-configurable native context menu with a configurable CKEditor's equivalent.\n\t\t *\n\t\t * @class\n\t\t * @extends CKEDITOR.menu\n\t\t */\n\t\tCKEDITOR.plugins.contextMenu = CKEDITOR.tools.createClass( {\n\t\t\tbase: CKEDITOR.menu,\n\n\t\t\t/**\n\t\t\t * Creates the CKEDITOR.plugins.contextMenu class instance.\n\t\t\t *\n\t\t\t * @constructor\n\t\t\t * @param {CKEDITOR.editor} editor\n\t\t\t */\n\t\t\t$: function( editor ) {\n\t\t\t\tthis.base.call( this, editor, {\n\t\t\t\t\tpanel: {\n\t\t\t\t\t\tclassName: 'cke_menu_panel',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t'aria-label': editor.lang.contextmenu.options\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\n\t\t\tproto: {\n\t\t\t\t/**\n\t\t\t\t * Starts watching on native context menu triggers (<kbd>Option</kbd> key, right click) on the given element.\n\t\t\t\t *\n\t\t\t\t * @param {CKEDITOR.dom.element} element\n\t\t\t\t * @param {Boolean} [nativeContextMenuOnCtrl] Whether to open native context menu if the\n\t\t\t\t * <kbd>Ctrl</kbd> key is held on opening the context menu. See {@link CKEDITOR.config#browserContextMenuOnCtrl}.\n\t\t\t\t */\n\t\t\t\taddTarget: function( element, nativeContextMenuOnCtrl ) {\n\t\t\t\t\telement.on( 'contextmenu', function( event ) {\n\t\t\t\t\t\tvar domEvent = event.data,\n\t\t\t\t\t\t\tisCtrlKeyDown =\n\t\t\t\t\t\t\t\t// Safari on Windows always show 'ctrlKey' as true in 'contextmenu' event,\n\t\t\t\t\t\t\t\t// which make this property unreliable. (#4826)\n\t\t\t\t\t\t\t\t( CKEDITOR.env.webkit ? holdCtrlKey : ( CKEDITOR.env.mac ? domEvent.$.metaKey : domEvent.$.ctrlKey ) );\n\n\t\t\t\t\t\tif ( nativeContextMenuOnCtrl && isCtrlKeyDown )\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t// Cancel the browser context menu.\n\t\t\t\t\t\tdomEvent.preventDefault();\n\n\t\t\t\t\t\t// Fix selection when non-editable element in Webkit/Blink (Mac) (#11306).\n\t\t\t\t\t\tif ( CKEDITOR.env.mac && CKEDITOR.env.webkit ) {\n\t\t\t\t\t\t\tvar editor = this.editor,\n\t\t\t\t\t\t\t\tcontentEditableParent = new CKEDITOR.dom.elementPath( domEvent.getTarget(), editor.editable() ).contains( function( el ) {\n\t\t\t\t\t\t\t\t\t// Return when non-editable or nested editable element is found.\n\t\t\t\t\t\t\t\t\treturn el.hasAttribute( 'contenteditable' );\n\t\t\t\t\t\t\t\t}, true ); // Exclude editor's editable.\n\n\t\t\t\t\t\t\t// Fake selection for non-editables only (to exclude nested editables).\n\t\t\t\t\t\t\tif ( contentEditableParent && contentEditableParent.getAttribute( 'contenteditable' ) == 'false' )\n\t\t\t\t\t\t\t\teditor.getSelection().fake( contentEditableParent );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar doc = domEvent.getTarget().getDocument(),\n\t\t\t\t\t\t\toffsetParent = domEvent.getTarget().getDocument().getDocumentElement(),\n\t\t\t\t\t\t\tfromFrame = !doc.equals( CKEDITOR.document ),\n\t\t\t\t\t\t\tscroll = doc.getWindow().getScrollPosition(),\n\t\t\t\t\t\t\toffsetX = fromFrame ? domEvent.$.clientX : domEvent.$.pageX || scroll.x + domEvent.$.clientX,\n\t\t\t\t\t\t\toffsetY = fromFrame ? domEvent.$.clientY : domEvent.$.pageY || scroll.y + domEvent.$.clientY;\n\n\t\t\t\t\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t\t\t\t\tthis.open( offsetParent, null, offsetX, offsetY );\n\n\t\t\t\t\t\t\t// IE needs a short while to allow selection change before opening menu. (#7908)\n\t\t\t\t\t\t}, CKEDITOR.env.ie ? 200 : 0, this );\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t\t\tvar holdCtrlKey,\n\t\t\t\t\t\t\tonKeyDown = function( event ) {\n\t\t\t\t\t\t\t\tholdCtrlKey = CKEDITOR.env.mac ? event.data.$.metaKey : event.data.$.ctrlKey;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresetOnKeyUp = function() {\n\t\t\t\t\t\t\t\tholdCtrlKey = 0;\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\telement.on( 'keydown', onKeyDown );\n\t\t\t\t\t\telement.on( 'keyup', resetOnKeyUp );\n\t\t\t\t\t\telement.on( 'contextmenu', resetOnKeyUp );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Opens the context menu in the given location. See the {@link CKEDITOR.menu#show} method.\n\t\t\t\t *\n\t\t\t\t * @param {CKEDITOR.dom.element} offsetParent\n\t\t\t\t * @param {Number} [corner]\n\t\t\t\t * @param {Number} [offsetX]\n\t\t\t\t * @param {Number} [offsetY]\n\t\t\t\t */\n\t\t\t\topen: function( offsetParent, corner, offsetX, offsetY ) {\n\t\t\t\t\tthis.editor.focus();\n\t\t\t\t\toffsetParent = offsetParent || CKEDITOR.document.getDocumentElement();\n\n\t\t\t\t\t// #9362: Force selection check to update commands' states in the new context.\n\t\t\t\t\tthis.editor.selectionChange( 1 );\n\n\t\t\t\t\tthis.show( offsetParent, corner, offsetX, offsetY );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tbeforeInit: function( editor ) {\n\t\t/**\n\t\t * @readonly\n\t\t * @property {CKEDITOR.plugins.contextMenu} contextMenu\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\tvar contextMenu = editor.contextMenu = new CKEDITOR.plugins.contextMenu( editor );\n\n\t\teditor.on( 'contentDom', function() {\n\t\t\tcontextMenu.addTarget( editor.editable(), editor.config.browserContextMenuOnCtrl !== false );\n\t\t} );\n\n\t\teditor.addCommand( 'contextMenu', {\n\t\t\texec: function() {\n\t\t\t\teditor.contextMenu.open( editor.document.getBody() );\n\t\t\t}\n\t\t} );\n\n\t\teditor.setKeystroke( CKEDITOR.SHIFT + 121 /*F10*/, 'contextMenu' );\n\t\teditor.setKeystroke( CKEDITOR.CTRL + CKEDITOR.SHIFT + 121 /*F10*/, 'contextMenu' );\n\t}\n} );\n\n/**\n * Whether to show the browser native context menu when the <kbd>Ctrl</kbd> or\n * <kbd>Meta</kbd> (Mac) key is pressed on opening the context menu with the\n * right mouse button click or the <kbd>Menu</kbd> key.\n *\n *\t\tconfig.browserContextMenuOnCtrl = false;\n *\n * @since 3.0.2\n * @cfg {Boolean} [browserContextMenuOnCtrl=true]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/contextmenu/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\n\tfunction setupAdvParams( element ) {\n\t\tvar attrName = this.att;\n\n\t\tvar value = element && element.hasAttribute( attrName ) && element.getAttribute( attrName ) || '';\n\n\t\tif ( value !== undefined )\n\t\t\tthis.setValue( value );\n\t}\n\n\tfunction commitAdvParams() {\n\t\t// Dialogs may use different parameters in the commit list, so, by\n\t\t// definition, we take the first CKEDITOR.dom.element available.\n\t\tvar element;\n\n\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\tif ( arguments[ i ] instanceof CKEDITOR.dom.element ) {\n\t\t\t\telement = arguments[ i ];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( element ) {\n\t\t\tvar attrName = this.att,\n\t\t\t\tvalue = this.getValue();\n\n\t\t\tif ( value )\n\t\t\t\telement.setAttribute( attrName, value );\n\t\t\telse\n\t\t\t\telement.removeAttribute( attrName, value );\n\t\t}\n\t}\n\n\tvar defaultTabConfig = { id: 1, dir: 1, classes: 1, styles: 1 };\n\n\tCKEDITOR.plugins.add( 'dialogadvtab', {\n\t\trequires: 'dialog',\n\n\t\t// Returns allowed content rule for the content created by this plugin.\n\t\tallowedContent: function( tabConfig ) {\n\t\t\tif ( !tabConfig )\n\t\t\t\ttabConfig = defaultTabConfig;\n\n\t\t\tvar allowedAttrs = [];\n\t\t\tif ( tabConfig.id )\n\t\t\t\tallowedAttrs.push( 'id' );\n\t\t\tif ( tabConfig.dir )\n\t\t\t\tallowedAttrs.push( 'dir' );\n\n\t\t\tvar allowed = '';\n\n\t\t\tif ( allowedAttrs.length )\n\t\t\t\tallowed += '[' + allowedAttrs.join( ',' ) +  ']';\n\n\t\t\tif ( tabConfig.classes )\n\t\t\t\tallowed += '(*)';\n\t\t\tif ( tabConfig.styles )\n\t\t\t\tallowed += '{*}';\n\n\t\t\treturn allowed;\n\t\t},\n\n\t\t// @param tabConfig\n\t\t// id, dir, classes, styles\n\t\tcreateAdvancedTab: function( editor, tabConfig, element ) {\n\t\t\tif ( !tabConfig )\n\t\t\t\ttabConfig = defaultTabConfig;\n\n\t\t\tvar lang = editor.lang.common;\n\n\t\t\tvar result = {\n\t\t\t\tid: 'advanced',\n\t\t\t\tlabel: lang.advancedTab,\n\t\t\t\ttitle: lang.advancedTab,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tchildren: []\n\t\t\t\t} ]\n\t\t\t};\n\n\t\t\tvar contents = [];\n\n\t\t\tif ( tabConfig.id || tabConfig.dir ) {\n\t\t\t\tif ( tabConfig.id ) {\n\t\t\t\t\tcontents.push( {\n\t\t\t\t\t\tid: 'advId',\n\t\t\t\t\t\tatt: 'id',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: element ? element + '[id]' : null,\n\t\t\t\t\t\tlabel: lang.id,\n\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\tcommit: commitAdvParams\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tif ( tabConfig.dir ) {\n\t\t\t\t\tcontents.push( {\n\t\t\t\t\t\tid: 'advLangDir',\n\t\t\t\t\t\tatt: 'dir',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: element ? element + '[dir]' : null,\n\t\t\t\t\t\tlabel: lang.langDir,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ lang.notSet, '' ],\n\t\t\t\t\t\t\t[ lang.langDirLTR, 'ltr' ],\n\t\t\t\t\t\t\t[ lang.langDirRTL, 'rtl' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\tcommit: commitAdvParams\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tresult.elements[ 0 ].children.push( {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [].concat( contents )\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( tabConfig.styles || tabConfig.classes ) {\n\t\t\t\tcontents = [];\n\n\t\t\t\tif ( tabConfig.styles ) {\n\t\t\t\t\tcontents.push( {\n\t\t\t\t\t\tid: 'advStyles',\n\t\t\t\t\t\tatt: 'style',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: element ? element + '{cke-xyz}' : null,\n\t\t\t\t\t\tlabel: lang.styles,\n\t\t\t\t\t\t'default': '',\n\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.inlineStyle( lang.invalidInlineStyle ),\n\t\t\t\t\t\tonChange: function() {},\n\n\t\t\t\t\t\tgetStyle: function( name, defaultValue ) {\n\t\t\t\t\t\t\tvar match = this.getValue().match( new RegExp( '(?:^|;)\\\\s*' + name + '\\\\s*:\\\\s*([^;]*)', 'i' ) );\n\t\t\t\t\t\t\treturn match ? match[ 1 ] : defaultValue;\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tupdateStyle: function( name, value ) {\n\t\t\t\t\t\t\tvar styles = this.getValue();\n\n\t\t\t\t\t\t\tvar tmp = editor.document.createElement( 'span' );\n\t\t\t\t\t\t\ttmp.setAttribute( 'style', styles );\n\t\t\t\t\t\t\ttmp.setStyle( name, value );\n\t\t\t\t\t\t\tstyles = CKEDITOR.tools.normalizeCssText( tmp.getAttribute( 'style' ) );\n\n\t\t\t\t\t\t\tthis.setValue( styles, 1 );\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tsetup: setupAdvParams,\n\n\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tif ( tabConfig.classes ) {\n\t\t\t\t\tcontents.push( {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\tid: 'advCSSClasses',\n\t\t\t\t\t\t\tatt: 'class',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\trequiredContent: element ? element + '(cke-xyz)' : null,\n\t\t\t\t\t\t\tlabel: lang.cssClasses,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tresult.elements[ 0 ].children.push( {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [].concat( contents )\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t} );\n\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/dialogadvtab/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"div\" plugin. It wraps the selected block level elements with a 'div' element with specified styles and attributes.\n *\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'div', {\n\t\trequires: 'dialog',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'creatediv', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\tvar lang = editor.lang.div,\n\t\t\t\tallowed = 'div(*)';\n\n\t\t\tif ( CKEDITOR.dialog.isTabEnabled( editor, 'editdiv', 'advanced' ) )\n\t\t\t\tallowed += ';div[dir,id,lang,title]{*}';\n\n\t\t\teditor.addCommand( 'creatediv', new CKEDITOR.dialogCommand( 'creatediv', {\n\t\t\t\tallowedContent: allowed,\n\t\t\t\trequiredContent: 'div',\n\t\t\t\tcontextSensitive: true,\n\t\t\t\trefresh: function( editor, path ) {\n\t\t\t\t\tvar context = editor.config.div_wrapTable ? path.root : path.blockLimit;\n\t\t\t\t\tthis.setState( 'div' in context.getDtd() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\teditor.addCommand( 'editdiv', new CKEDITOR.dialogCommand( 'editdiv', { requiredContent: 'div' } ) );\n\t\t\teditor.addCommand( 'removediv', {\n\t\t\t\trequiredContent: 'div',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\t\tranges = selection && selection.getRanges(),\n\t\t\t\t\t\trange,\n\t\t\t\t\t\tbookmarks = selection.createBookmarks(),\n\t\t\t\t\t\twalker,\n\t\t\t\t\t\ttoRemove = [];\n\n\t\t\t\t\tfunction findDiv( node ) {\n\t\t\t\t\t\tvar div = CKEDITOR.plugins.div.getSurroundDiv( editor, node );\n\t\t\t\t\t\tif ( div && !div.data( 'cke-div-added' ) ) {\n\t\t\t\t\t\t\ttoRemove.push( div );\n\t\t\t\t\t\t\tdiv.data( 'cke-div-added' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < ranges.length; i++ ) {\n\t\t\t\t\t\trange = ranges[ i ];\n\t\t\t\t\t\tif ( range.collapsed )\n\t\t\t\t\t\t\tfindDiv( selection.getStartElement() );\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\twalker = new CKEDITOR.dom.walker( range );\n\t\t\t\t\t\t\twalker.evaluator = findDiv;\n\t\t\t\t\t\t\twalker.lastForward();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( i = 0; i < toRemove.length; i++ )\n\t\t\t\t\t\ttoRemove[ i ].remove( true );\n\n\t\t\t\t\tselection.selectBookmarks( bookmarks );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'CreateDiv', {\n\t\t\t\tlabel: lang.toolbar,\n\t\t\t\tcommand: 'creatediv',\n\t\t\t\ttoolbar: 'blocks,50'\n\t\t\t} );\n\n\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\teditor.addMenuItems( {\n\t\t\t\t\teditdiv: {\n\t\t\t\t\t\tlabel: lang.edit,\n\t\t\t\t\t\tcommand: 'editdiv',\n\t\t\t\t\t\tgroup: 'div',\n\t\t\t\t\t\torder: 1\n\t\t\t\t\t},\n\n\t\t\t\t\tremovediv: {\n\t\t\t\t\t\tlabel: lang.remove,\n\t\t\t\t\t\tcommand: 'removediv',\n\t\t\t\t\t\tgroup: 'div',\n\t\t\t\t\t\torder: 5\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tif ( editor.contextMenu ) {\n\t\t\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\t\t\tif ( !element || element.isReadOnly() )\n\t\t\t\t\t\t\treturn null;\n\n\n\t\t\t\t\t\tif ( CKEDITOR.plugins.div.getSurroundDiv( editor ) ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\teditdiv: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\tremovediv: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tCKEDITOR.dialog.add( 'creatediv', this.path + 'dialogs/div.js' );\n\t\t\tCKEDITOR.dialog.add( 'editdiv', this.path + 'dialogs/div.js' );\n\t\t}\n\t} );\n\n\tCKEDITOR.plugins.div = {\n\t\tgetSurroundDiv: function( editor, start ) {\n\t\t\tvar path = editor.elementPath( start );\n\t\t\treturn editor.elementPath( path.blockLimit ).contains( function( node ) {\n\t\t\t\t// Avoid read-only (i.e. contenteditable=\"false\") divs (#11083).\n\t\t\t\treturn node.is( 'div' ) && !node.isReadOnly();\n\t\t\t}, 1 );\n\t\t}\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/div/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"elementspath\" plugin. It shows all elements in the DOM\n *\t\tparent tree relative to the current selection in the editing area.\n */\n\n( function() {\n\tvar commands = {\n\t\ttoolbarFocus: {\n\t\t\teditorFocus: false,\n\t\t\treadOnly: 1,\n\t\t\texec: function( editor ) {\n\t\t\t\tvar idBase = editor._.elementsPath.idBase;\n\t\t\t\tvar element = CKEDITOR.document.getById( idBase + '0' );\n\n\t\t\t\t// Make the first button focus accessible for IE. (#3417)\n\t\t\t\t// Adobe AIR instead need while of delay.\n\t\t\t\telement && element.focus( CKEDITOR.env.ie || CKEDITOR.env.air );\n\t\t\t}\n\t\t}\n\t};\n\n\tvar emptyHtml = '<span class=\"cke_path_empty\">&nbsp;</span>';\n\n\tvar extra = '';\n\n\t// Some browsers don't cancel key events in the keydown but in the\n\t// keypress.\n\t// TODO: Check if really needed.\n\tif ( CKEDITOR.env.gecko && CKEDITOR.env.mac )\n\t\textra += ' onkeypress=\"return false;\"';\n\n\t// With Firefox, we need to force the button to redraw, otherwise it\n\t// will remain in the focus state.\n\tif ( CKEDITOR.env.gecko )\n\t\textra += ' onblur=\"this.style.cssText = this.style.cssText;\"';\n\n\tvar pathItemTpl = CKEDITOR.addTemplate( 'pathItem', '<a' +\n\t\t' id=\"{id}\"' +\n\t\t' href=\"{jsTitle}\"' +\n\t\t' tabindex=\"-1\"' +\n\t\t' class=\"cke_path_item\"' +\n\t\t' title=\"{label}\"' +\n\t\textra +\n\t\t' hidefocus=\"true\" ' +\n\t\t' onkeydown=\"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );\"' +\n\t\t' onclick=\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"' +\n\t\t' role=\"button\" aria-label=\"{label}\">' +\n\t\t'{text}' +\n\t\t'</a>' );\n\n\tCKEDITOR.plugins.add( 'elementspath', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\tinit: function( editor ) {\n\t\t\teditor._.elementsPath = {\n\t\t\t\tidBase: 'cke_elementspath_' + CKEDITOR.tools.getNextNumber() + '_',\n\t\t\t\tfilters: []\n\t\t\t};\n\n\t\t\teditor.on( 'uiSpace', function( event ) {\n\t\t\t\tif ( event.data.space == 'bottom' )\n\t\t\t\t\tinitElementsPath( editor, event.data );\n\t\t\t} );\n\t\t}\n\t} );\n\n\tfunction initElementsPath( editor, bottomSpaceData ) {\n\t\tvar spaceId = editor.ui.spaceId( 'path' ),\n\t\t\tspaceElement,\n\t\t\tgetSpaceElement = function() {\n\t\t\t\tif ( !spaceElement )\n\t\t\t\t\tspaceElement = CKEDITOR.document.getById( spaceId );\n\t\t\t\treturn spaceElement;\n\t\t\t},\n\t\t\telementsPath = editor._.elementsPath,\n\t\t\tidBase = elementsPath.idBase;\n\n\t\tbottomSpaceData.html += '<span id=\"' + spaceId + '_label\" class=\"cke_voice_label\">' + editor.lang.elementspath.eleLabel + '</span>' +\n\t\t\t'<span id=\"' + spaceId + '\" class=\"cke_path\" role=\"group\" aria-labelledby=\"' + spaceId + '_label\">' + emptyHtml + '</span>';\n\n\t\t// Register the ui element to the focus manager.\n\t\teditor.on( 'uiReady', function() {\n\t\t\tvar element = editor.ui.space( 'path' );\n\t\t\telement && editor.focusManager.add( element, 1 );\n\t\t} );\n\n\t\tfunction onClick( elementIndex ) {\n\t\t\tvar element = elementsPath.list[ elementIndex ];\n\t\t\tif ( element.equals( editor.editable() ) || element.getAttribute( 'contenteditable' ) == 'true' ) {\n\t\t\t\tvar range = editor.createRange();\n\t\t\t\trange.selectNodeContents( element );\n\t\t\t\trange.select();\n\t\t\t} else {\n\t\t\t\teditor.getSelection().selectElement( element );\n\t\t\t}\n\n\t\t\t// It is important to focus() *after* the above selection\n\t\t\t// manipulation, otherwise Firefox will have troubles. #10119\n\t\t\teditor.focus();\n\t\t}\n\n\t\telementsPath.onClick = onClick;\n\n\t\tvar onClickHanlder = CKEDITOR.tools.addFunction( onClick ),\n\t\t\tonKeyDownHandler = CKEDITOR.tools.addFunction( function( elementIndex, ev ) {\n\t\t\t\tvar idBase = elementsPath.idBase,\n\t\t\t\t\telement;\n\n\t\t\t\tev = new CKEDITOR.dom.event( ev );\n\n\t\t\t\tvar rtl = editor.lang.dir == 'rtl';\n\t\t\t\tswitch ( ev.getKeystroke() ) {\n\t\t\t\t\tcase rtl ? 39 : 37: // LEFT-ARROW\n\t\t\t\t\tcase 9: // TAB\n\t\t\t\t\t\telement = CKEDITOR.document.getById( idBase + ( elementIndex + 1 ) );\n\t\t\t\t\t\tif ( !element )\n\t\t\t\t\t\t\telement = CKEDITOR.document.getById( idBase + '0' );\n\t\t\t\t\t\telement.focus();\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tcase rtl ? 37 : 39: // RIGHT-ARROW\n\t\t\t\t\tcase CKEDITOR.SHIFT + 9: // SHIFT + TAB\n\t\t\t\t\t\telement = CKEDITOR.document.getById( idBase + ( elementIndex - 1 ) );\n\t\t\t\t\t\tif ( !element )\n\t\t\t\t\t\t\telement = CKEDITOR.document.getById( idBase + ( elementsPath.list.length - 1 ) );\n\t\t\t\t\t\telement.focus();\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tcase 27: // ESC\n\t\t\t\t\t\teditor.focus();\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tcase 13: // ENTER\t// Opera\n\t\t\t\t\tcase 32: // SPACE\n\t\t\t\t\t\tonClick( elementIndex );\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} );\n\n\t\teditor.on( 'selectionChange', function() {\n\t\t\tvar html = [],\n\t\t\t\telementsList = elementsPath.list = [],\n\t\t\t\tnamesList = [],\n\t\t\t\tfilters = elementsPath.filters,\n\t\t\t\tisContentEditable = true,\n\n\t\t\t\t// Use elementPath to consider children of editable only (#11124).\n\t\t\t\telementsChain = editor.elementPath().elements,\n\t\t\t\tname;\n\n\t\t\t// Starts iteration from body element, skipping html.\n\t\t\tfor ( var j = elementsChain.length; j--; ) {\n\t\t\t\tvar element = elementsChain[ j ],\n\t\t\t\t\tignore = 0;\n\n\t\t\t\tif ( element.data( 'cke-display-name' ) )\n\t\t\t\t\tname = element.data( 'cke-display-name' );\n\t\t\t\telse if ( element.data( 'cke-real-element-type' ) )\n\t\t\t\t\tname = element.data( 'cke-real-element-type' );\n\t\t\t\telse\n\t\t\t\t\tname = element.getName();\n\n\t\t\t\tisContentEditable = element.hasAttribute( 'contenteditable' ) ?\n\t\t\t\t\telement.getAttribute( 'contenteditable' ) == 'true' : isContentEditable;\n\n\t\t\t\t// If elem is non-contenteditable, and it's not specifying contenteditable\n\t\t\t\t// attribute - then elem should be ignored.\n\t\t\t\tif ( !isContentEditable && !element.hasAttribute( 'contenteditable' ) )\n\t\t\t\t\tignore = 1;\n\n\t\t\t\tfor ( var i = 0; i < filters.length; i++ ) {\n\t\t\t\t\tvar ret = filters[ i ]( element, name );\n\t\t\t\t\tif ( ret === false ) {\n\t\t\t\t\t\tignore = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tname = ret || name;\n\t\t\t\t}\n\n\t\t\t\tif ( !ignore ) {\n\t\t\t\t\telementsList.unshift( element );\n\t\t\t\t\tnamesList.unshift( name );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( var iterationLimit = elementsList.length, index = 0; index < iterationLimit; index++ ) {\n\t\t\t\tname = namesList[ index ];\n\t\t\t\tvar label = editor.lang.elementspath.eleTitle.replace( /%1/, name ),\n\t\t\t\t\titem = pathItemTpl.output( {\n\t\t\t\t\t\tid: idBase + index,\n\t\t\t\t\t\tlabel: label,\n\t\t\t\t\t\ttext: name,\n\t\t\t\t\t\tjsTitle: 'javascript:void(\\'' + name + '\\')', // jshint ignore:line\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tkeyDownFn: onKeyDownHandler,\n\t\t\t\t\t\tclickFn: onClickHanlder\n\t\t\t\t\t} );\n\n\t\t\t\thtml.unshift( item );\n\t\t\t}\n\n\t\t\tvar space = getSpaceElement();\n\t\t\tspace.setHtml( html.join( '' ) + emptyHtml );\n\t\t\teditor.fire( 'elementsPathUpdate', { space: space } );\n\t\t} );\n\n\t\tfunction empty() {\n\t\t\tspaceElement && spaceElement.setHtml( emptyHtml );\n\t\t\tdelete elementsPath.list;\n\t\t}\n\n\t\teditor.on( 'readOnly', empty );\n\t\teditor.on( 'contentDomUnload', empty );\n\n\t\teditor.addCommand( 'elementsPathFocus', commands.toolbarFocus );\n\t\teditor.setKeystroke( CKEDITOR.ALT + 122 /*F11*/, 'elementsPathFocus' );\n\t}\n} )();\n\n/**\n * Fired when the contents of the elementsPath are changed.\n *\n * @event elementsPathUpdate\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {CKEDITOR.dom.element} data.space The elementsPath container.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/elementspath/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'enterkey', {\n\t\tinit: function( editor ) {\n\t\t\teditor.addCommand( 'enter', {\n\t\t\t\tmodes: { wysiwyg: 1 },\n\t\t\t\teditorFocus: false,\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tenter( editor );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\teditor.addCommand( 'shiftEnter', {\n\t\t\t\tmodes: { wysiwyg: 1 },\n\t\t\t\teditorFocus: false,\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tshiftEnter( editor );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\teditor.setKeystroke( [\n\t\t\t\t[ 13, 'enter' ],\n\t\t\t\t[ CKEDITOR.SHIFT + 13, 'shiftEnter' ]\n\t\t\t] );\n\t\t}\n\t} );\n\n\tvar whitespaces = CKEDITOR.dom.walker.whitespaces(),\n\t\tbookmark = CKEDITOR.dom.walker.bookmark();\n\n\tCKEDITOR.plugins.enterkey = {\n\t\tenterBlock: function( editor, mode, range, forceMode ) {\n\t\t\t// Get the range for the current selection.\n\t\t\trange = range || getRange( editor );\n\n\t\t\t// We may not have valid ranges to work on, like when inside a\n\t\t\t// contenteditable=false element.\n\t\t\tif ( !range )\n\t\t\t\treturn;\n\n\t\t\t// When range is in nested editable, we have to replace range with this one,\n\t\t\t// which have root property set to closest editable, to make auto paragraphing work. (#12162)\n\t\t\trange = replaceRangeWithClosestEditableRoot( range );\n\n\t\t\tvar doc = range.document;\n\n\t\t\tvar atBlockStart = range.checkStartOfBlock(),\n\t\t\t\tatBlockEnd = range.checkEndOfBlock(),\n\t\t\t\tpath = editor.elementPath( range.startContainer ),\n\t\t\t\tblock = path.block,\n\n\t\t\t\t// Determine the block element to be used.\n\t\t\t\tblockTag = ( mode == CKEDITOR.ENTER_DIV ? 'div' : 'p' ),\n\n\t\t\t\tnewBlock;\n\n\t\t\t// Exit the list when we're inside an empty list item block. (#5376)\n\t\t\tif ( atBlockStart && atBlockEnd ) {\n\t\t\t\t// Exit the list when we're inside an empty list item block. (#5376)\n\t\t\t\tif ( block && ( block.is( 'li' ) || block.getParent().is( 'li' ) ) ) {\n\t\t\t\t\t// Make sure to point to the li when dealing with empty list item.\n\t\t\t\t\tif ( !block.is( 'li' ) )\n\t\t\t\t\t\tblock = block.getParent();\n\n\t\t\t\t\tvar blockParent = block.getParent(),\n\t\t\t\t\t\tblockGrandParent = blockParent.getParent(),\n\n\t\t\t\t\t\tfirstChild = !block.hasPrevious(),\n\t\t\t\t\t\tlastChild = !block.hasNext(),\n\n\t\t\t\t\t\tselection = editor.getSelection(),\n\t\t\t\t\t\tbookmarks = selection.createBookmarks(),\n\n\t\t\t\t\t\torgDir = block.getDirection( 1 ),\n\t\t\t\t\t\tclassName = block.getAttribute( 'class' ),\n\t\t\t\t\t\tstyle = block.getAttribute( 'style' ),\n\t\t\t\t\t\tdirLoose = blockGrandParent.getDirection( 1 ) != orgDir,\n\n\t\t\t\t\t\tenterMode = editor.enterMode,\n\t\t\t\t\t\tneedsBlock = enterMode != CKEDITOR.ENTER_BR || dirLoose || style || className,\n\n\t\t\t\t\t\tchild;\n\n\t\t\t\t\tif ( blockGrandParent.is( 'li' ) ) {\n\n\t\t\t\t\t\t// If block is the first or the last child of the parent\n\t\t\t\t\t\t// list, degrade it and move to the outer list:\n\t\t\t\t\t\t// before the parent list if block is first child and after\n\t\t\t\t\t\t// the parent list if block is the last child, respectively.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                         =>      <ul>\n\t\t\t\t\t\t//      <li>                     =>          <li>\n\t\t\t\t\t\t//          <ul>                 =>              <ul>\n\t\t\t\t\t\t//              <li>x</li>       =>                  <li>x</li>\n\t\t\t\t\t\t//              <li>^</li>       =>              </ul>\n\t\t\t\t\t\t//          </ul>                =>          </li>\n\t\t\t\t\t\t//      </li>                    =>          <li>^</li>\n\t\t\t\t\t\t//  </ul>                        =>      </ul>\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//                              AND\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                         =>      <ul>\n\t\t\t\t\t\t//      <li>                     =>          <li>^</li>\n\t\t\t\t\t\t//          <ul>                 =>          <li>\n\t\t\t\t\t\t//              <li>^</li>       =>              <ul>\n\t\t\t\t\t\t//              <li>x</li>       =>                  <li>x</li>\n\t\t\t\t\t\t//          </ul>                =>              </ul>\n\t\t\t\t\t\t//      </li>                    =>          </li>\n\t\t\t\t\t\t//  </ul>                        =>      </ul>\n\n\t\t\t\t\t\tif ( firstChild || lastChild ) {\n\n\t\t\t\t\t\t\t// If it's only child, we don't want to keep perent ul anymore.\n\t\t\t\t\t\t\tif ( firstChild && lastChild ) {\n\t\t\t\t\t\t\t\tblockParent.remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tblock[lastChild ? 'insertAfter' : 'insertBefore']( blockGrandParent );\n\n\t\t\t\t\t\t\t// If the empty block is neither first nor last child\n\t\t\t\t\t\t\t// then split the list and the block as an element\n\t\t\t\t\t\t\t// of outer list.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t//                              =>      <ul>\n\t\t\t\t\t\t\t//                              =>          <li>\n\t\t\t\t\t\t\t//  <ul>                        =>              <ul>\n\t\t\t\t\t\t\t//      <li>                    =>                  <li>x</li>\n\t\t\t\t\t\t\t//          <ul>                =>              </ul>\n\t\t\t\t\t\t\t//              <li>x</li>      =>          </li>\n\t\t\t\t\t\t\t//              <li>^</li>      =>          <li>^</li>\n\t\t\t\t\t\t\t//              <li>y</li>      =>          <li>\n\t\t\t\t\t\t\t//          </ul>               =>              <ul>\n\t\t\t\t\t\t\t//      </li>                   =>                  <li>y</li>\n\t\t\t\t\t\t\t//  </ul>                       =>              </ul>\n\t\t\t\t\t\t\t//                              =>          </li>\n\t\t\t\t\t\t\t//                              =>      </ul>\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblock.breakParent( blockGrandParent );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telse if ( !needsBlock ) {\n\t\t\t\t\t\tblock.appendBogus( true );\n\n\t\t\t\t\t\t// If block is the first or last child of the parent\n\t\t\t\t\t\t// list, move all block's children out of the list:\n\t\t\t\t\t\t// before the list if block is first child and after the list\n\t\t\t\t\t\t// if block is the last child, respectively.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                       =>      <ul>\n\t\t\t\t\t\t//      <li>x</li>             =>          <li>x</li>\n\t\t\t\t\t\t//      <li>^</li>             =>      </ul>\n\t\t\t\t\t\t//  </ul>                      =>      ^\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//                            AND\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                       =>      ^\n\t\t\t\t\t\t//      <li>^</li>             =>      <ul>\n\t\t\t\t\t\t//      <li>x</li>             =>          <li>x</li>\n\t\t\t\t\t\t//  </ul>                      =>      </ul>\n\n\t\t\t\t\t\tif ( firstChild || lastChild ) {\n\t\t\t\t\t\t\twhile ( ( child = block[ firstChild ? 'getFirst' : 'getLast' ]() ) )\n\t\t\t\t\t\t\t\tchild[ firstChild ? 'insertBefore' : 'insertAfter' ]( blockParent );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the empty block is neither first nor last child\n\t\t\t\t\t\t// then split the list and put all the block contents\n\t\t\t\t\t\t// between two lists.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                       =>      <ul>\n\t\t\t\t\t\t//      <li>x</li>             =>          <li>x</li>\n\t\t\t\t\t\t//      <li>^</li>             =>      </ul>\n\t\t\t\t\t\t//      <li>y</li>             =>      ^\n\t\t\t\t\t\t//  </ul>                      =>      <ul>\n\t\t\t\t\t\t//                             =>          <li>y</li>\n\t\t\t\t\t\t//                             =>      </ul>\n\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tblock.breakParent( blockParent );\n\n\t\t\t\t\t\t\twhile ( ( child = block.getLast() ) )\n\t\t\t\t\t\t\t\tchild.insertAfter( blockParent );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tblock.remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Original path block is the list item, create new block for the list item content.\n\t\t\t\t\t\tif ( path.block.is( 'li' ) ) {\n\t\t\t\t\t\t\t// Use <div> block for ENTER_BR and ENTER_DIV.\n\t\t\t\t\t\t\tnewBlock = doc.createElement( mode == CKEDITOR.ENTER_P ? 'p' : 'div' );\n\n\t\t\t\t\t\t\tif ( dirLoose )\n\t\t\t\t\t\t\t\tnewBlock.setAttribute( 'dir', orgDir );\n\n\t\t\t\t\t\t\tstyle && newBlock.setAttribute( 'style', style );\n\t\t\t\t\t\t\tclassName && newBlock.setAttribute( 'class', className );\n\n\t\t\t\t\t\t\t// Move all the child nodes to the new block.\n\t\t\t\t\t\t\tblock.moveChildren( newBlock );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// The original path block is not a list item, just copy the block to out side of the list.\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tnewBlock = path.block;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If block is the first or last child of the parent\n\t\t\t\t\t\t// list, move it out of the list:\n\t\t\t\t\t\t// before the list if block is first child and after the list\n\t\t\t\t\t\t// if block is the last child, respectively.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                       =>      <ul>\n\t\t\t\t\t\t//      <li>x</li>             =>          <li>x</li>\n\t\t\t\t\t\t//      <li>^</li>             =>      </ul>\n\t\t\t\t\t\t//  </ul>                      =>      <p>^</p>\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//                            AND\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  <ul>                       =>      <p>^</p>\n\t\t\t\t\t\t//      <li>^</li>             =>      <ul>\n\t\t\t\t\t\t//      <li>x</li>             =>          <li>x</li>\n\t\t\t\t\t\t//  </ul>                      =>      </ul>\n\n\t\t\t\t\t\tif ( firstChild || lastChild )\n\t\t\t\t\t\t\tnewBlock[ firstChild ? 'insertBefore' : 'insertAfter' ]( blockParent );\n\n\t\t\t\t\t\t// If the empty block is neither first nor last child\n\t\t\t\t\t\t// then split the list and put the new block between\n\t\t\t\t\t\t// two lists.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//                             =>       <ul>\n\t\t\t\t\t\t//     <ul>                    =>           <li>x</li>\n\t\t\t\t\t\t//         <li>x</li>          =>       </ul>\n\t\t\t\t\t\t//         <li>^</li>          =>       <p>^</p>\n\t\t\t\t\t\t//         <li>y</li>          =>       <ul>\n\t\t\t\t\t\t//     </ul>                   =>           <li>y</li>\n\t\t\t\t\t\t//                             =>       </ul>\n\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tblock.breakParent( blockParent );\n\t\t\t\t\t\t\tnewBlock.insertAfter( blockParent );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tblock.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tselection.selectBookmarks( bookmarks );\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( block && block.getParent().is( 'blockquote' ) ) {\n\t\t\t\t\tblock.breakParent( block.getParent() );\n\n\t\t\t\t\t// If we were at the start of <blockquote>, there will be an empty element before it now.\n\t\t\t\t\tif ( !block.getPrevious().getFirst( CKEDITOR.dom.walker.invisible( 1 ) ) )\n\t\t\t\t\t\tblock.getPrevious().remove();\n\n\t\t\t\t\t// If we were at the end of <blockquote>, there will be an empty element after it now.\n\t\t\t\t\tif ( !block.getNext().getFirst( CKEDITOR.dom.walker.invisible( 1 ) ) )\n\t\t\t\t\t\tblock.getNext().remove();\n\n\t\t\t\t\trange.moveToElementEditStart( block );\n\t\t\t\t\trange.select();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Don't split <pre> if we're in the middle of it, act as shift enter key.\n\t\t\telse if ( block && block.is( 'pre' ) ) {\n\t\t\t\tif ( !atBlockEnd ) {\n\t\t\t\t\tenterBr( editor, mode, range, forceMode );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Split the range.\n\t\t\tvar splitInfo = range.splitBlock( blockTag );\n\n\t\t\tif ( !splitInfo )\n\t\t\t\treturn;\n\n\t\t\t// Get the current blocks.\n\t\t\tvar previousBlock = splitInfo.previousBlock,\n\t\t\t\tnextBlock = splitInfo.nextBlock;\n\n\t\t\tvar isStartOfBlock = splitInfo.wasStartOfBlock,\n\t\t\t\tisEndOfBlock = splitInfo.wasEndOfBlock;\n\n\t\t\tvar node;\n\n\t\t\t// If this is a block under a list item, split it as well. (#1647)\n\t\t\tif ( nextBlock ) {\n\t\t\t\tnode = nextBlock.getParent();\n\t\t\t\tif ( node.is( 'li' ) ) {\n\t\t\t\t\tnextBlock.breakParent( node );\n\t\t\t\t\tnextBlock.move( nextBlock.getNext(), 1 );\n\t\t\t\t}\n\t\t\t} else if ( previousBlock && ( node = previousBlock.getParent() ) && node.is( 'li' ) ) {\n\t\t\t\tpreviousBlock.breakParent( node );\n\t\t\t\tnode = previousBlock.getNext();\n\t\t\t\trange.moveToElementEditStart( node );\n\t\t\t\tpreviousBlock.move( previousBlock.getPrevious() );\n\t\t\t}\n\n\t\t\t// If we have both the previous and next blocks, it means that the\n\t\t\t// boundaries were on separated blocks, or none of them where on the\n\t\t\t// block limits (start/end).\n\t\t\tif ( !isStartOfBlock && !isEndOfBlock ) {\n\t\t\t\t// If the next block is an <li> with another list tree as the first\n\t\t\t\t// child, we'll need to append a filler (<br>/NBSP) or the list item\n\t\t\t\t// wouldn't be editable. (#1420)\n\t\t\t\tif ( nextBlock.is( 'li' ) ) {\n\t\t\t\t\tvar walkerRange = range.clone();\n\t\t\t\t\twalkerRange.selectNodeContents( nextBlock );\n\t\t\t\t\tvar walker = new CKEDITOR.dom.walker( walkerRange );\n\t\t\t\t\twalker.evaluator = function( node ) {\n\t\t\t\t\t\treturn !( bookmark( node ) || whitespaces( node ) || node.type == CKEDITOR.NODE_ELEMENT && node.getName() in CKEDITOR.dtd.$inline && !( node.getName() in CKEDITOR.dtd.$empty ) );\n\t\t\t\t\t};\n\n\t\t\t\t\tnode = walker.next();\n\t\t\t\t\tif ( node && node.type == CKEDITOR.NODE_ELEMENT && node.is( 'ul', 'ol' ) )\n\t\t\t\t\t\t( CKEDITOR.env.needsBrFiller ? doc.createElement( 'br' ) : doc.createText( '\\xa0' ) ).insertBefore( node );\n\t\t\t\t}\n\n\t\t\t\t// Move the selection to the end block.\n\t\t\t\tif ( nextBlock )\n\t\t\t\t\trange.moveToElementEditStart( nextBlock );\n\t\t\t} else {\n\t\t\t\tvar newBlockDir;\n\n\t\t\t\tif ( previousBlock ) {\n\t\t\t\t\t// Do not enter this block if it's a header tag, or we are in\n\t\t\t\t\t// a Shift+Enter (#77). Create a new block element instead\n\t\t\t\t\t// (later in the code).\n\t\t\t\t\tif ( previousBlock.is( 'li' ) || !( headerTagRegex.test( previousBlock.getName() ) || previousBlock.is( 'pre' ) ) ) {\n\t\t\t\t\t\t// Otherwise, duplicate the previous block.\n\t\t\t\t\t\tnewBlock = previousBlock.clone();\n\t\t\t\t\t}\n\t\t\t\t} else if ( nextBlock ) {\n\t\t\t\t\tnewBlock = nextBlock.clone();\n\t\t\t\t}\n\n\t\t\t\tif ( !newBlock ) {\n\t\t\t\t\t// We have already created a new list item. (#6849)\n\t\t\t\t\tif ( node && node.is( 'li' ) )\n\t\t\t\t\t\tnewBlock = node;\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewBlock = doc.createElement( blockTag );\n\t\t\t\t\t\tif ( previousBlock && ( newBlockDir = previousBlock.getDirection() ) )\n\t\t\t\t\t\t\tnewBlock.setAttribute( 'dir', newBlockDir );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Force the enter block unless we're talking of a list item.\n\t\t\t\telse if ( forceMode && !newBlock.is( 'li' ) ) {\n\t\t\t\t\tnewBlock.renameNode( blockTag );\n\t\t\t\t}\n\n\t\t\t\t// Recreate the inline elements tree, which was available\n\t\t\t\t// before hitting enter, so the same styles will be available in\n\t\t\t\t// the new block.\n\t\t\t\tvar elementPath = splitInfo.elementPath;\n\t\t\t\tif ( elementPath ) {\n\t\t\t\t\tfor ( var i = 0, len = elementPath.elements.length; i < len; i++ ) {\n\t\t\t\t\t\tvar element = elementPath.elements[ i ];\n\n\t\t\t\t\t\tif ( element.equals( elementPath.block ) || element.equals( elementPath.blockLimit ) )\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tif ( CKEDITOR.dtd.$removeEmpty[ element.getName() ] ) {\n\t\t\t\t\t\t\telement = element.clone();\n\t\t\t\t\t\t\tnewBlock.moveChildren( element );\n\t\t\t\t\t\t\tnewBlock.append( element );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnewBlock.appendBogus();\n\n\t\t\t\tif ( !newBlock.getParent() )\n\t\t\t\t\trange.insertNode( newBlock );\n\n\t\t\t\t// list item start number should not be duplicated (#7330), but we need\n\t\t\t\t// to remove the attribute after it's onto the DOM tree because of old IEs (#7581).\n\t\t\t\tnewBlock.is( 'li' ) && newBlock.removeAttribute( 'value' );\n\n\t\t\t\t// This is tricky, but to make the new block visible correctly\n\t\t\t\t// we must select it.\n\t\t\t\t// The previousBlock check has been included because it may be\n\t\t\t\t// empty if we have fixed a block-less space (like ENTER into an\n\t\t\t\t// empty table cell).\n\t\t\t\tif ( CKEDITOR.env.ie && isStartOfBlock && ( !isEndOfBlock || !previousBlock.getChildCount() ) ) {\n\t\t\t\t\t// Move the selection to the new block.\n\t\t\t\t\trange.moveToElementEditStart( isEndOfBlock ? previousBlock : newBlock );\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\n\t\t\t\t// Move the selection to the new block.\n\t\t\t\trange.moveToElementEditStart( isStartOfBlock && !isEndOfBlock ? nextBlock : newBlock );\n\t\t\t}\n\n\t\t\trange.select();\n\t\t\trange.scrollIntoView();\n\t\t},\n\n\t\tenterBr: function( editor, mode, range, forceMode ) {\n\t\t\t// Get the range for the current selection.\n\t\t\trange = range || getRange( editor );\n\n\t\t\t// We may not have valid ranges to work on, like when inside a\n\t\t\t// contenteditable=false element.\n\t\t\tif ( !range )\n\t\t\t\treturn;\n\n\t\t\tvar doc = range.document;\n\n\t\t\tvar isEndOfBlock = range.checkEndOfBlock();\n\n\t\t\tvar elementPath = new CKEDITOR.dom.elementPath( editor.getSelection().getStartElement() );\n\n\t\t\tvar startBlock = elementPath.block,\n\t\t\t\tstartBlockTag = startBlock && elementPath.block.getName();\n\n\t\t\tif ( !forceMode && startBlockTag == 'li' ) {\n\t\t\t\tenterBlock( editor, mode, range, forceMode );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If we are at the end of a header block.\n\t\t\tif ( !forceMode && isEndOfBlock && headerTagRegex.test( startBlockTag ) ) {\n\t\t\t\tvar newBlock, newBlockDir;\n\n\t\t\t\tif ( ( newBlockDir = startBlock.getDirection() ) ) {\n\t\t\t\t\tnewBlock = doc.createElement( 'div' );\n\t\t\t\t\tnewBlock.setAttribute( 'dir', newBlockDir );\n\t\t\t\t\tnewBlock.insertAfter( startBlock );\n\t\t\t\t\trange.setStart( newBlock, 0 );\n\t\t\t\t} else {\n\t\t\t\t\t// Insert a <br> after the current paragraph.\n\t\t\t\t\tdoc.createElement( 'br' ).insertAfter( startBlock );\n\n\t\t\t\t\t// A text node is required by Gecko only to make the cursor blink.\n\t\t\t\t\tif ( CKEDITOR.env.gecko )\n\t\t\t\t\t\tdoc.createText( '' ).insertAfter( startBlock );\n\n\t\t\t\t\t// IE has different behaviors regarding position.\n\t\t\t\t\trange.setStartAt( startBlock.getNext(), CKEDITOR.env.ie ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar lineBreak;\n\n\t\t\t\t// IE<8 prefers text node as line-break inside of <pre> (#4711).\n\t\t\t\tif ( startBlockTag == 'pre' && CKEDITOR.env.ie && CKEDITOR.env.version < 8 )\n\t\t\t\t\tlineBreak = doc.createText( '\\r' );\n\t\t\t\telse\n\t\t\t\t\tlineBreak = doc.createElement( 'br' );\n\n\t\t\t\trange.deleteContents();\n\t\t\t\trange.insertNode( lineBreak );\n\n\t\t\t\t// Old IEs have different behavior regarding position.\n\t\t\t\tif ( !CKEDITOR.env.needsBrFiller )\n\t\t\t\t\trange.setStartAt( lineBreak, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\telse {\n\t\t\t\t\t// A text node is required by Gecko only to make the cursor blink.\n\t\t\t\t\t// We need some text inside of it, so the bogus <br> is properly\n\t\t\t\t\t// created.\n\t\t\t\t\tdoc.createText( '\\ufeff' ).insertAfter( lineBreak );\n\n\t\t\t\t\t// If we are at the end of a block, we must be sure the bogus node is available in that block.\n\t\t\t\t\tif ( isEndOfBlock ) {\n\t\t\t\t\t\t// In most situations we've got an elementPath.block (e.g. <p>), but in a\n\t\t\t\t\t\t// blockless editor or when autoP is false that needs to be a block limit.\n\t\t\t\t\t\t( startBlock || elementPath.blockLimit ).appendBogus();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Now we can remove the text node contents, so the caret doesn't\n\t\t\t\t\t// stop on it.\n\t\t\t\t\tlineBreak.getNext().$.nodeValue = '';\n\n\t\t\t\t\trange.setStartAt( lineBreak.getNext(), CKEDITOR.POSITION_AFTER_START );\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This collapse guarantees the cursor will be blinking.\n\t\t\trange.collapse( true );\n\n\t\t\trange.select();\n\t\t\trange.scrollIntoView();\n\t\t}\n\t};\n\n\tvar plugin = CKEDITOR.plugins.enterkey,\n\t\tenterBr = plugin.enterBr,\n\t\tenterBlock = plugin.enterBlock,\n\t\theaderTagRegex = /^h[1-6]$/;\n\n\tfunction shiftEnter( editor ) {\n\t\t// On SHIFT+ENTER:\n\t\t// 1. We want to enforce the mode to be respected, instead\n\t\t// of cloning the current block. (#77)\n\t\treturn enter( editor, editor.activeShiftEnterMode, 1 );\n\t}\n\n\tfunction enter( editor, mode, forceMode ) {\n\t\tforceMode = editor.config.forceEnterMode || forceMode;\n\n\t\t// Only effective within document.\n\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\treturn;\n\n\t\tif ( !mode )\n\t\t\tmode = editor.activeEnterMode;\n\n\t\t// TODO this should be handled by setting editor.activeEnterMode on selection change.\n\t\t// Check path block specialities:\n\t\t// 1. Cannot be a un-splittable element, e.g. table caption;\n\t\tvar path = editor.elementPath();\n\t\tif ( !path.isContextFor( 'p' ) ) {\n\t\t\tmode = CKEDITOR.ENTER_BR;\n\t\t\tforceMode = 1;\n\t\t}\n\n\t\teditor.fire( 'saveSnapshot' ); // Save undo step.\n\n\t\tif ( mode == CKEDITOR.ENTER_BR )\n\t\t\tenterBr( editor, mode, null, forceMode );\n\t\telse\n\t\t\tenterBlock( editor, mode, null, forceMode );\n\n\t\teditor.fire( 'saveSnapshot' );\n\t}\n\n\tfunction getRange( editor ) {\n\t\t// Get the selection ranges.\n\t\tvar ranges = editor.getSelection().getRanges( true );\n\n\t\t// Delete the contents of all ranges except the first one.\n\t\tfor ( var i = ranges.length - 1; i > 0; i-- ) {\n\t\t\tranges[ i ].deleteContents();\n\t\t}\n\n\t\t// Return the first range.\n\t\treturn ranges[ 0 ];\n\t}\n\n\tfunction replaceRangeWithClosestEditableRoot( range ) {\n\t\tvar closestEditable = range.startContainer.getAscendant( function( node ) {\n\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT && node.getAttribute( 'contenteditable' ) == 'true';\n\t\t}, true );\n\n\t\tif ( range.root.equals( closestEditable ) ) {\n\t\t\treturn range;\n\t\t} else {\n\t\t\tvar newRange = new CKEDITOR.dom.range( closestEditable );\n\n\t\t\tnewRange.moveToRange( range );\n\t\t\treturn newRange;\n\t\t}\n\t}\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/enterkey/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t// Basic HTML entities.\n\tvar htmlbase = 'nbsp,gt,lt,amp';\n\n\tvar entities =\n\t// Latin-1 entities\n\t'quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,' +\n\t\t'not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,' +\n\t\t'cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,' +\n\n\t\t// Symbols\n\t\t'fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,' +\n\t\t'alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,' +\n\t\t'forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,' +\n\t\t'radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,' +\n\t\t'equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,' +\n\t\t'rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,' +\n\n\t\t// Other special characters\n\t\t'circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,' +\n\t\t'rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,' +\n\t\t'euro';\n\n\t// Latin letters entities\n\tvar latin = 'Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,' +\n\t\t'Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,' +\n\t\t'Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,' +\n\t\t'agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,' +\n\t\t'ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,' +\n\t\t'otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,' +\n\t\t'OElig,oelig,Scaron,scaron,Yuml';\n\n\t// Greek letters entities.\n\tvar greek = 'Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,' +\n\t\t'Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,' +\n\t\t'beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,' +\n\t\t'omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,' +\n\t\t'upsih,piv';\n\n\t// Create a mapping table between one character and its entity form from a list of entity names.\n\t// @param reverse {Boolean} Whether to create a reverse map from the entity string form to an actual character.\n\tfunction buildTable( entities, reverse ) {\n\t\tvar table = {},\n\t\t\tregex = [];\n\n\t\t// Entities that the browsers' DOM does not automatically transform to the\n\t\t// final character.\n\t\tvar specialTable = {\n\t\t\tnbsp: '\\u00A0', // IE | FF\n\t\t\tshy: '\\u00AD', // IE\n\t\t\tgt: '\\u003E', // IE | FF |   --   | Opera\n\t\t\tlt: '\\u003C', // IE | FF | Safari | Opera\n\t\t\tamp: '\\u0026', // ALL\n\t\t\tapos: '\\u0027', // IE\n\t\t\tquot: '\\u0022' // IE\n\t\t};\n\n\t\tentities = entities.replace( /\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g, function( match, entity ) {\n\t\t\tvar org = reverse ? '&' + entity + ';' : specialTable[ entity ],\n\t\t\t\tresult = reverse ? specialTable[ entity ] : '&' + entity + ';';\n\n\t\t\ttable[ org ] = result;\n\t\t\tregex.push( org );\n\t\t\treturn '';\n\t\t} );\n\n\t\tif ( !reverse && entities ) {\n\t\t\t// Transforms the entities string into an array.\n\t\t\tentities = entities.split( ',' );\n\n\t\t\t// Put all entities inside a DOM element, transforming them to their\n\t\t\t// final characters.\n\t\t\tvar div = document.createElement( 'div' ),\n\t\t\t\tchars;\n\t\t\tdiv.innerHTML = '&' + entities.join( ';&' ) + ';';\n\t\t\tchars = div.innerHTML;\n\t\t\tdiv = null;\n\n\t\t\t// Add all characters to the table.\n\t\t\tfor ( var i = 0; i < chars.length; i++ ) {\n\t\t\t\tvar charAt = chars.charAt( i );\n\t\t\t\ttable[ charAt ] = '&' + entities[ i ] + ';';\n\t\t\t\tregex.push( charAt );\n\t\t\t}\n\t\t}\n\n\t\ttable.regex = regex.join( reverse ? '|' : '' );\n\n\t\treturn table;\n\t}\n\n\tCKEDITOR.plugins.add( 'entities', {\n\t\tafterInit: function( editor ) {\n\t\t\tvar config = editor.config;\n\n\t\t\tfunction getChar( character ) {\n\t\t\t\treturn baseEntitiesTable[ character ];\n\t\t\t}\n\n\t\t\tfunction getEntity( character ) {\n\t\t\t\treturn config.entities_processNumerical == 'force' || !entitiesTable[ character ] ? '&#' + character.charCodeAt( 0 ) + ';'\n\t\t\t\t: entitiesTable[ character ];\n\t\t\t}\n\n\t\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\t\thtmlFilter = dataProcessor && dataProcessor.htmlFilter;\n\n\t\t\tif ( htmlFilter ) {\n\t\t\t\t// Mandatory HTML basic entities.\n\t\t\t\tvar selectedEntities = [];\n\n\t\t\t\tif ( config.basicEntities !== false )\n\t\t\t\t\tselectedEntities.push( htmlbase );\n\n\t\t\t\tif ( config.entities ) {\n\t\t\t\t\tif ( selectedEntities.length )\n\t\t\t\t\t\tselectedEntities.push( entities );\n\n\t\t\t\t\tif ( config.entities_latin )\n\t\t\t\t\t\tselectedEntities.push( latin );\n\n\t\t\t\t\tif ( config.entities_greek )\n\t\t\t\t\t\tselectedEntities.push( greek );\n\n\t\t\t\t\tif ( config.entities_additional )\n\t\t\t\t\t\tselectedEntities.push( config.entities_additional );\n\t\t\t\t}\n\n\t\t\t\tvar entitiesTable = buildTable( selectedEntities.join( ',' ) );\n\n\t\t\t\t// Create the Regex used to find entities in the text, leave it matches nothing if entities are empty.\n\t\t\t\tvar entitiesRegex = entitiesTable.regex ? '[' + entitiesTable.regex + ']' : 'a^';\n\t\t\t\tdelete entitiesTable.regex;\n\n\t\t\t\tif ( config.entities && config.entities_processNumerical )\n\t\t\t\t\tentitiesRegex = '[^ -~]|' + entitiesRegex;\n\n\t\t\t\tentitiesRegex = new RegExp( entitiesRegex, 'g' );\n\n\t\t\t\t// Decode entities that the browsers has transformed\n\t\t\t\t// at first place.\n\t\t\t\tvar baseEntitiesTable = buildTable( [ htmlbase, 'shy' ].join( ',' ), true ),\n\t\t\t\t\tbaseEntitiesRegex = new RegExp( baseEntitiesTable.regex, 'g' );\n\n\t\t\t\thtmlFilter.addRules( {\n\t\t\t\t\ttext: function( text ) {\n\t\t\t\t\t\treturn text.replace( baseEntitiesRegex, getChar ).replace( entitiesRegex, getEntity );\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tapplyToAll: true,\n\t\t\t\t\texcludeNestedEditable: true\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n} )();\n\n/**\n * Whether to escape basic HTML entities in the document, including:\n *\n * * `&nbsp;`\n * * `&gt;`\n * * `&lt;`\n * * `&amp;`\n *\n * **Note:** This option should not be changed unless when outputting a non-HTML data format like BBCode.\n *\n *\t\tconfig.basicEntities = false;\n *\n * @cfg {Boolean} [basicEntities=true]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.basicEntities = true;\n\n/**\n * Whether to use HTML entities in the editor output.\n *\n *\t\tconfig.entities = false;\n *\n * @cfg {Boolean} [entities=true]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.entities = true;\n\n/**\n * Whether to convert some Latin characters (Latin alphabet No. 1, ISO 8859-1)\n * to HTML entities. The list of entities can be found in the\n * [W3C HTML 4.01 Specification, section 24.2.1](http://www.w3.org/TR/html4/sgml/entities.html#h-24.2.1).\n *\n *\t\tconfig.entities_latin = false;\n *\n * @cfg {Boolean} [entities_latin=true]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.entities_latin = true;\n\n/**\n * Whether to convert some symbols, mathematical symbols, and Greek letters to\n * HTML entities. This may be more relevant for users typing text written in Greek.\n * The list of entities can be found in the\n * [W3C HTML 4.01 Specification, section 24.3.1](http://www.w3.org/TR/html4/sgml/entities.html#h-24.3.1).\n *\n *\t\tconfig.entities_greek = false;\n *\n * @cfg {Boolean} [entities_greek=true]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.entities_greek = true;\n\n/**\n * Whether to convert all remaining characters not included in the ASCII\n * character table to their relative decimal numeric representation of HTML entity.\n * When set to `force`, it will convert all entities into this format.\n *\n * For example the phrase: `'This is Chinese: 汉语.'` would be output\n * as: `'This is Chinese: &#27721;&#35821;.'`\n *\n *\t\tconfig.entities_processNumerical = true;\n *\t\tconfig.entities_processNumerical = 'force'; // Converts from '&nbsp;' into '&#160;';\n *\n * @cfg {Boolean/String} [entities_processNumerical=false]\n * @member CKEDITOR.config\n */\n\n/**\n * A comma-separated list of  additional entities to be used. Entity names\n * or numbers must be used in a form that excludes the `'&amp;'` prefix and the `';'` ending.\n *\n *\t\tconfig.entities_additional = '#1049'; // Adds Cyrillic capital letter Short I (Й).\n *\n * @cfg {String} [entities_additional='#39' (The single quote (') character)]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.entities_additional = '#39';\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/entities/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"filebrowser\" plugin that adds support for file uploads and\n *               browsing.\n *\n * When a file is uploaded or selected inside the file browser, its URL is\n * inserted automatically into a field defined in the <code>filebrowser</code>\n * attribute. In order to specify a field that should be updated, pass the tab ID and\n * the element ID, separated with a colon.<br /><br />\n *\n * <strong>Example 1: (Browse)</strong>\n *\n * <pre>\n * {\n * \ttype : 'button',\n * \tid : 'browse',\n * \tfilebrowser : 'tabId:elementId',\n * \tlabel : editor.lang.common.browseServer\n * }\n * </pre>\n *\n * If you set the <code>filebrowser</code> attribute for an element other than\n * the <code>fileButton</code>, the <code>Browse</code> action will be triggered.<br /><br />\n *\n * <strong>Example 2: (Quick Upload)</strong>\n *\n * <pre>\n * {\n * \ttype : 'fileButton',\n * \tid : 'uploadButton',\n * \tfilebrowser : 'tabId:elementId',\n * \tlabel : editor.lang.common.uploadSubmit,\n * \t'for' : [ 'upload', 'upload' ]\n * }\n * </pre>\n *\n * If you set the <code>filebrowser</code> attribute for a <code>fileButton</code>\n * element, the <code>QuickUpload</code> action will be executed.<br /><br />\n *\n * The filebrowser plugin also supports more advanced configuration performed through\n * a JavaScript object.\n *\n * The following settings are supported:\n *\n * <ul>\n * <li><code>action</code> &ndash; <code>Browse</code> or <code>QuickUpload</code>.</li>\n * <li><code>target</code> &ndash; the field to update in the <code><em>tabId:elementId</em></code> format.</li>\n * <li><code>params</code> &ndash; additional arguments to be passed to the server connector (optional).</li>\n * <li><code>onSelect</code> &ndash; a function to execute when the file is selected/uploaded (optional).</li>\n * <li><code>url</code> &ndash; the URL to be called (optional).</li>\n * </ul>\n *\n * <strong>Example 3: (Quick Upload)</strong>\n *\n * <pre>\n * {\n * \ttype : 'fileButton',\n * \tlabel : editor.lang.common.uploadSubmit,\n * \tid : 'buttonId',\n * \tfilebrowser :\n * \t{\n * \t\taction : 'QuickUpload', // required\n * \t\ttarget : 'tab1:elementId', // required\n * \t\tparams : // optional\n * \t\t{\n * \t\t\ttype : 'Files',\n * \t\t\tcurrentFolder : '/folder/'\n * \t\t},\n * \t\tonSelect : function( fileUrl, errorMessage ) // optional\n * \t\t{\n * \t\t\t// Do not call the built-in selectFuntion.\n * \t\t\t// return false;\n * \t\t}\n * \t},\n * \t'for' : [ 'tab1', 'myFile' ]\n * }\n * </pre>\n *\n * Suppose you have a file element with an ID of <code>myFile</code>, a text\n * field with an ID of <code>elementId</code> and a <code>fileButton</code>.\n * If the <code>filebowser.url</code> attribute is not specified explicitly,\n * the form action will be set to <code>filebrowser[<em>DialogWindowName</em>]UploadUrl</code>\n * or, if not specified, to <code>filebrowserUploadUrl</code>. Additional parameters\n * from the <code>params</code> object will be added to the query string. It is\n * possible to create your own <code>uploadHandler</code> and cancel the built-in\n * <code>updateTargetElement</code> command.<br /><br />\n *\n * <strong>Example 4: (Browse)</strong>\n *\n * <pre>\n * {\n * \ttype : 'button',\n * \tid : 'buttonId',\n * \tlabel : editor.lang.common.browseServer,\n * \tfilebrowser :\n * \t{\n * \t\taction : 'Browse',\n * \t\turl : '/ckfinder/ckfinder.html&amp;type=Images',\n * \t\ttarget : 'tab1:elementId'\n * \t}\n * }\n * </pre>\n *\n * In this example, when the button is pressed, the file browser will be opened in a\n * popup window. If you do not specify the <code>filebrowser.url</code> attribute,\n * <code>filebrowser[<em>DialogName</em>]BrowseUrl</code> or\n * <code>filebrowserBrowseUrl</code> will be used. After selecting a file in the file\n * browser, an element with an ID of <code>elementId</code> will be updated. Just\n * like in the third example, a custom <code>onSelect</code> function may be defined.\n */\n\n( function() {\n\t// Default input element name for CSRF protection token.\n\tvar TOKEN_INPUT_NAME = 'ckCsrfToken';\n\n\t// Adds (additional) arguments to given url.\n\t//\n\t// @param {String}\n\t//            url The url.\n\t// @param {Object}\n\t//            params Additional parameters.\n\tfunction addQueryString( url, params ) {\n\t\tvar queryString = [];\n\n\t\tif ( !params )\n\t\t\treturn url;\n\t\telse {\n\t\t\tfor ( var i in params )\n\t\t\t\tqueryString.push( i + '=' + encodeURIComponent( params[ i ] ) );\n\t\t}\n\n\t\treturn url + ( ( url.indexOf( '?' ) != -1 ) ? '&' : '?' ) + queryString.join( '&' );\n\t}\n\n\t// Make a string's first character uppercase.\n\t//\n\t// @param {String}\n\t//            str String.\n\tfunction ucFirst( str ) {\n\t\tstr += '';\n\t\tvar f = str.charAt( 0 ).toUpperCase();\n\t\treturn f + str.substr( 1 );\n\t}\n\n\t// The onlick function assigned to the 'Browse Server' button. Opens the\n\t// file browser and updates target field when file is selected.\n\t//\n\t// @param {CKEDITOR.event}\n\t//            evt The event object.\n\tfunction browseServer() {\n\t\tvar dialog = this.getDialog();\n\t\tvar editor = dialog.getParentEditor();\n\n\t\teditor._.filebrowserSe = this;\n\n\t\tvar width = editor.config[ 'filebrowser' + ucFirst( dialog.getName() ) + 'WindowWidth' ] || editor.config.filebrowserWindowWidth || '80%';\n\t\tvar height = editor.config[ 'filebrowser' + ucFirst( dialog.getName() ) + 'WindowHeight' ] || editor.config.filebrowserWindowHeight || '70%';\n\n\t\tvar params = this.filebrowser.params || {};\n\t\tparams.CKEditor = editor.name;\n\t\tparams.CKEditorFuncNum = editor._.filebrowserFn;\n\t\tif ( !params.langCode )\n\t\t\tparams.langCode = editor.langCode;\n\n\t\tvar url = addQueryString( this.filebrowser.url, params );\n\t\t// TODO: V4: Remove backward compatibility (#8163).\n\t\teditor.popup( url, width, height, editor.config.filebrowserWindowFeatures || editor.config.fileBrowserWindowFeatures );\n\t}\n\n\t// Appends token preventing CSRF attacks to the form of provided file input.\n\t//\n\t// @since 4.5.6\n\t// @param {CKEDITOR.dom.element} fileInput\n\tfunction appendToken( fileInput ) {\n\t\tvar tokenElement;\n\t\tvar form = new CKEDITOR.dom.element( fileInput.$.form );\n\n\t\tif ( form ) {\n\t\t\t// Check if token input element already exists.\n\t\t\ttokenElement = form.$.elements[ TOKEN_INPUT_NAME ];\n\n\t\t\t// Create new if needed.\n\t\t\tif ( !tokenElement ) {\n\t\t\t\ttokenElement = new CKEDITOR.dom.element( 'input' );\n\t\t\t\ttokenElement.setAttributes( {\n\t\t\t\t\tname: TOKEN_INPUT_NAME,\n\t\t\t\t\ttype: 'hidden'\n\t\t\t\t} );\n\n\t\t\t\tform.append( tokenElement );\n\t\t\t} else {\n\t\t\t\ttokenElement = new CKEDITOR.dom.element( tokenElement );\n\t\t\t}\n\n\t\t\ttokenElement.setAttribute( 'value', CKEDITOR.tools.getCsrfToken() );\n\t\t}\n\t}\n\n\t// The onlick function assigned to the 'Upload' button. Makes the final\n\t// decision whether form is really submitted and updates target field when\n\t// file is uploaded.\n\t//\n\t// @param {CKEDITOR.event}\n\t//            evt The event object.\n\tfunction uploadFile() {\n\t\tvar dialog = this.getDialog();\n\t\tvar editor = dialog.getParentEditor();\n\n\t\teditor._.filebrowserSe = this;\n\n\t\t// If user didn't select the file, stop the upload.\n\t\tif ( !dialog.getContentElement( this[ 'for' ][ 0 ], this[ 'for' ][ 1 ] ).getInputElement().$.value )\n\t\t\treturn false;\n\n\t\tif ( !dialog.getContentElement( this[ 'for' ][ 0 ], this[ 'for' ][ 1 ] ).getAction() )\n\t\t\treturn false;\n\n\t\treturn true;\n\t}\n\n\t// Setups the file element.\n\t//\n\t// @param {CKEDITOR.ui.dialog.file}\n\t//            fileInput The file element used during file upload.\n\t// @param {Object}\n\t//            filebrowser Object containing filebrowser settings assigned to\n\t//            the fileButton associated with this file element.\n\tfunction setupFileElement( editor, fileInput, filebrowser ) {\n\t\tvar params = filebrowser.params || {};\n\t\tparams.CKEditor = editor.name;\n\t\tparams.CKEditorFuncNum = editor._.filebrowserFn;\n\t\tif ( !params.langCode )\n\t\t\tparams.langCode = editor.langCode;\n\n\t\tfileInput.action = addQueryString( filebrowser.url, params );\n\t\tfileInput.filebrowser = filebrowser;\n\t}\n\n\t// Traverse through the content definition and attach filebrowser to\n\t// elements with 'filebrowser' attribute.\n\t//\n\t// @param String\n\t//            dialogName Dialog name.\n\t// @param {CKEDITOR.dialog.definitionObject}\n\t//            definition Dialog definition.\n\t// @param {Array}\n\t//            elements Array of {@link CKEDITOR.dialog.definition.content}\n\t//            objects.\n\tfunction attachFileBrowser( editor, dialogName, definition, elements ) {\n\t\tif ( !elements || !elements.length )\n\t\t\treturn;\n\n\t\tvar element;\n\n\t\tfor ( var i = elements.length; i--; ) {\n\t\t\telement = elements[ i ];\n\n\t\t\tif ( element.type == 'hbox' || element.type == 'vbox' || element.type == 'fieldset' )\n\t\t\t\tattachFileBrowser( editor, dialogName, definition, element.children );\n\n\t\t\tif ( !element.filebrowser )\n\t\t\t\tcontinue;\n\n\t\t\tif ( typeof element.filebrowser == 'string' ) {\n\t\t\t\tvar fb = {\n\t\t\t\t\taction: ( element.type == 'fileButton' ) ? 'QuickUpload' : 'Browse',\n\t\t\t\t\ttarget: element.filebrowser\n\t\t\t\t};\n\t\t\t\telement.filebrowser = fb;\n\t\t\t}\n\n\t\t\tif ( element.filebrowser.action == 'Browse' ) {\n\t\t\t\tvar url = element.filebrowser.url;\n\t\t\t\tif ( url === undefined ) {\n\t\t\t\t\turl = editor.config[ 'filebrowser' + ucFirst( dialogName ) + 'BrowseUrl' ];\n\t\t\t\t\tif ( url === undefined )\n\t\t\t\t\t\turl = editor.config.filebrowserBrowseUrl;\n\t\t\t\t}\n\n\t\t\t\tif ( url ) {\n\t\t\t\t\telement.onClick = browseServer;\n\t\t\t\t\telement.filebrowser.url = url;\n\t\t\t\t\telement.hidden = false;\n\t\t\t\t}\n\t\t\t} else if ( element.filebrowser.action == 'QuickUpload' && element[ 'for' ] ) {\n\t\t\t\turl = element.filebrowser.url;\n\t\t\t\tif ( url === undefined ) {\n\t\t\t\t\turl = editor.config[ 'filebrowser' + ucFirst( dialogName ) + 'UploadUrl' ];\n\t\t\t\t\tif ( url === undefined )\n\t\t\t\t\t\turl = editor.config.filebrowserUploadUrl;\n\t\t\t\t}\n\n\t\t\t\tif ( url ) {\n\t\t\t\t\tvar onClick = element.onClick;\n\t\t\t\t\telement.onClick = function( evt ) {\n\t\t\t\t\t\t// \"element\" here means the definition object, so we need to find the correct\n\t\t\t\t\t\t// button to scope the event call\n\t\t\t\t\t\tvar sender = evt.sender;\n\t\t\t\t\t\tif ( onClick && onClick.call( sender, evt ) === false )\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\tif ( uploadFile.call( sender, evt ) ) {\n\t\t\t\t\t\t\tvar fileInput = sender.getDialog().getContentElement( this[ 'for' ][ 0 ], this[ 'for' ][ 1 ] ).getInputElement();\n\n\t\t\t\t\t\t\t// Append token preventing CSRF attacks.\n\t\t\t\t\t\t\tappendToken( fileInput );\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\n\t\t\t\t\telement.filebrowser.url = url;\n\t\t\t\t\telement.hidden = false;\n\t\t\t\t\tsetupFileElement( editor, definition.getContents( element[ 'for' ][ 0 ] ).get( element[ 'for' ][ 1 ] ), element.filebrowser );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Updates the target element with the url of uploaded/selected file.\n\t//\n\t// @param {String}\n\t//            url The url of a file.\n\tfunction updateTargetElement( url, sourceElement ) {\n\t\tvar dialog = sourceElement.getDialog();\n\t\tvar targetElement = sourceElement.filebrowser.target || null;\n\n\t\t// If there is a reference to targetElement, update it.\n\t\tif ( targetElement ) {\n\t\t\tvar target = targetElement.split( ':' );\n\t\t\tvar element = dialog.getContentElement( target[ 0 ], target[ 1 ] );\n\t\t\tif ( element ) {\n\t\t\t\telement.setValue( url );\n\t\t\t\tdialog.selectPage( target[ 0 ] );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Returns true if filebrowser is configured in one of the elements.\n\t//\n\t// @param {CKEDITOR.dialog.definitionObject}\n\t//            definition Dialog definition.\n\t// @param String\n\t//            tabId The tab id where element(s) can be found.\n\t// @param String\n\t//            elementId The element id (or ids, separated with a semicolon) to check.\n\tfunction isConfigured( definition, tabId, elementId ) {\n\t\tif ( elementId.indexOf( ';' ) !== -1 ) {\n\t\t\tvar ids = elementId.split( ';' );\n\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\tif ( isConfigured( definition, tabId, ids[ i ] ) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tvar elementFileBrowser = definition.getContents( tabId ).get( elementId ).filebrowser;\n\t\treturn ( elementFileBrowser && elementFileBrowser.url );\n\t}\n\n\tfunction setUrl( fileUrl, data ) {\n\t\tvar dialog = this._.filebrowserSe.getDialog(),\n\t\t\ttargetInput = this._.filebrowserSe[ 'for' ],\n\t\t\tonSelect = this._.filebrowserSe.filebrowser.onSelect;\n\n\t\tif ( targetInput )\n\t\t\tdialog.getContentElement( targetInput[ 0 ], targetInput[ 1 ] ).reset();\n\n\t\tif ( typeof data == 'function' && data.call( this._.filebrowserSe ) === false )\n\t\t\treturn;\n\n\t\tif ( onSelect && onSelect.call( this._.filebrowserSe, fileUrl, data ) === false )\n\t\t\treturn;\n\n\t\t// The \"data\" argument may be used to pass the error message to the editor.\n\t\tif ( typeof data == 'string' && data )\n\t\t\talert( data ); // jshint ignore:line\n\n\t\tif ( fileUrl )\n\t\t\tupdateTargetElement( fileUrl, this._.filebrowserSe );\n\t}\n\n\tCKEDITOR.plugins.add( 'filebrowser', {\n\t\trequires: 'popup',\n\t\tinit: function( editor ) {\n\t\t\teditor._.filebrowserFn = CKEDITOR.tools.addFunction( setUrl, editor );\n\t\t\teditor.on( 'destroy', function() {\n\t\t\t\tCKEDITOR.tools.removeFunction( this._.filebrowserFn );\n\t\t\t} );\n\t\t}\n\t} );\n\n\tCKEDITOR.on( 'dialogDefinition', function( evt ) {\n\t\t// We require filebrowser plugin to be loaded.\n\t\tif ( !evt.editor.plugins.filebrowser )\n\t\t\treturn;\n\n\t\tvar definition = evt.data.definition,\n\t\t\telement;\n\t\t// Associate filebrowser to elements with 'filebrowser' attribute.\n\t\tfor ( var i = 0; i < definition.contents.length; ++i ) {\n\t\t\tif ( ( element = definition.contents[ i ] ) ) {\n\t\t\t\tattachFileBrowser( evt.editor, evt.data.name, definition, element.elements );\n\t\t\t\tif ( element.hidden && element.filebrowser )\n\t\t\t\t\telement.hidden = !isConfigured( definition, element.id, element.filebrowser );\n\n\t\t\t}\n\t\t}\n\t} );\n\n} )();\n\n/**\n * The location of an external file manager that should be launched when the **Browse Server**\n * button is pressed. If configured, the **Browse Server** button will appear in the\n * **Link**, **Image**, and **Flash** dialog windows.\n *\n * Read more in the [documentation](#!/guide/dev_file_browse_upload)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserBrowseUrl = '/browser/browse.php';\n *\n * @since 3.0\n * @cfg {String} [filebrowserBrowseUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The location of the script that handles file uploads.\n * If set, the **Upload** tab will appear in the **Link**, **Image**,\n * and **Flash** dialog windows.\n *\n * Read more in the [documentation](#!/guide/dev_file_browse_upload)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserUploadUrl = '/uploader/upload.php';\n *\n * **Note:** This is a configuration setting for a [file browser/uploader](#!/guide/dev_file_browse_upload).\n * To configure [uploading dropped or pasted files](#!/guide/dev_file_upload) use the {@link CKEDITOR.config#uploadUrl}\n * configuration option.\n *\n * @since 3.0\n * @cfg {String} [filebrowserUploadUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The location of an external file manager that should be launched when the **Browse Server**\n * button is pressed in the **Image** dialog window.\n *\n * If not set, CKEditor will use {@link CKEDITOR.config#filebrowserBrowseUrl}.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-adding-file-manager-scripts-for-selected-dialog-windows)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserImageBrowseUrl = '/browser/browse.php?type=Images';\n *\n * @since 3.0\n * @cfg {String} [filebrowserImageBrowseUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The location of an external file browser that should be launched when the **Browse Server**\n * button is pressed in the **Flash** dialog window.\n *\n * If not set, CKEditor will use {@link CKEDITOR.config#filebrowserBrowseUrl}.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-adding-file-manager-scripts-for-selected-dialog-windows)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserFlashBrowseUrl = '/browser/browse.php?type=Flash';\n *\n * @since 3.0\n * @cfg {String} [filebrowserFlashBrowseUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The location of the script that handles file uploads in the **Image** dialog window.\n *\n * If not set, CKEditor will use {@link CKEDITOR.config#filebrowserUploadUrl}.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-adding-file-manager-scripts-for-selected-dialog-windows)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserImageUploadUrl = '/uploader/upload.php?type=Images';\n *\n * **Note:** This is a configuration setting for a [file browser/uploader](#!/guide/dev_file_browse_upload).\n * To configure [uploading dropped or pasted files](#!/guide/dev_file_upload) use the {@link CKEDITOR.config#uploadUrl}\n * or {@link CKEDITOR.config#imageUploadUrl} configuration option.\n *\n * @since 3.0\n * @cfg {String} [filebrowserImageUploadUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The location of the script that handles file uploads in the **Flash** dialog window.\n *\n * If not set, CKEditor will use {@link CKEDITOR.config#filebrowserUploadUrl}.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-adding-file-manager-scripts-for-selected-dialog-windows)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserFlashUploadUrl = '/uploader/upload.php?type=Flash';\n *\n * @since 3.0\n * @cfg {String} filebrowserFlashUploadUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The location of an external file manager that should be launched when the **Browse Server**\n * button is pressed in the **Link** tab of the **Image** dialog window.\n *\n * If not set, CKEditor will use {@link CKEDITOR.config#filebrowserBrowseUrl}.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-adding-file-manager-scripts-for-selected-dialog-windows)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserImageBrowseLinkUrl = '/browser/browse.php';\n *\n * @since 3.2\n * @cfg {String} [filebrowserImageBrowseLinkUrl='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n/**\n * The features to use in the file manager popup window.\n *\n *\t\tconfig.filebrowserWindowFeatures = 'resizable=yes,scrollbars=no';\n *\n * @since 3.4.1\n * @cfg {String} [filebrowserWindowFeatures='location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes']\n * @member CKEDITOR.config\n */\n\n/**\n * The width of the file manager popup window. It can be a number denoting a value in\n * pixels or a percent string.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-file-manager-window-size)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserWindowWidth = 750;\n *\n *\t\tconfig.filebrowserWindowWidth = '50%';\n *\n * @cfg {Number/String} [filebrowserWindowWidth='80%']\n * @member CKEDITOR.config\n */\n\n/**\n * The height of the file manager popup window. It can be a number denoting a value in\n * pixels or a percent string.\n *\n * Read more in the [documentation](#!/guide/dev_file_manager_configuration-section-file-manager-window-size)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/fileupload.html).\n *\n *\t\tconfig.filebrowserWindowHeight = 580;\n *\n *\t\tconfig.filebrowserWindowHeight = '50%';\n *\n * @cfg {Number/String} [filebrowserWindowHeight='70%']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/filebrowser/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'find', {\n\trequires: 'dialog',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'find,find-rtl,replace', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\tvar findCommand = editor.addCommand( 'find', new CKEDITOR.dialogCommand( 'find' ) );\n\t\tfindCommand.canUndo = false;\n\t\tfindCommand.readOnly = 1;\n\n\t\tvar replaceCommand = editor.addCommand( 'replace', new CKEDITOR.dialogCommand( 'replace' ) );\n\t\treplaceCommand.canUndo = false;\n\n\t\tif ( editor.ui.addButton ) {\n\t\t\teditor.ui.addButton( 'Find', {\n\t\t\t\tlabel: editor.lang.find.find,\n\t\t\t\tcommand: 'find',\n\t\t\t\ttoolbar: 'find,10'\n\t\t\t} );\n\n\t\t\teditor.ui.addButton( 'Replace', {\n\t\t\t\tlabel: editor.lang.find.replace,\n\t\t\t\tcommand: 'replace',\n\t\t\t\ttoolbar: 'find,20'\n\t\t\t} );\n\t\t}\n\n\t\tCKEDITOR.dialog.add( 'find', this.path + 'dialogs/find.js' );\n\t\tCKEDITOR.dialog.add( 'replace', this.path + 'dialogs/find.js' );\n\t}\n} );\n\n/**\n * Defines the style to be used to highlight results with the find dialog.\n *\n *\t\t// Highlight search results with blue on yellow.\n *\t\tconfig.find_highlight = {\n *\t\t\telement: 'span',\n *\t\t\tstyles: { 'background-color': '#ff0', color: '#00f' }\n *\t\t};\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.find_highlight = { element: 'span', styles: { 'background-color': '#004', color: '#fff' } };\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/find/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar flashFilenameRegex = /\\.swf(?:$|\\?)/i;\n\n\tfunction isFlashEmbed( element ) {\n\t\tvar attributes = element.attributes;\n\n\t\treturn ( attributes.type == 'application/x-shockwave-flash' || flashFilenameRegex.test( attributes.src || '' ) );\n\t}\n\n\tfunction createFakeElement( editor, realElement ) {\n\t\treturn editor.createFakeParserElement( realElement, 'cke_flash', 'flash', true );\n\t}\n\n\tCKEDITOR.plugins.add( 'flash', {\n\t\trequires: 'dialog,fakeobjects',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'flash', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tonLoad: function() {\n\t\t\tCKEDITOR.addCss( 'img.cke_flash' +\n\t\t\t\t'{' +\n\t\t\t\t\t'background-image: url(' + CKEDITOR.getUrl( this.path + 'images/placeholder.png' ) + ');' +\n\t\t\t\t\t'background-position: center center;' +\n\t\t\t\t\t'background-repeat: no-repeat;' +\n\t\t\t\t\t'border: 1px solid #a9a9a9;' +\n\t\t\t\t\t'width: 80px;' +\n\t\t\t\t\t'height: 80px;' +\n\t\t\t\t'}'\n\t\t\t\t);\n\n\t\t},\n\t\tinit: function( editor ) {\n\t\t\tvar allowed = 'object[classid,codebase,height,hspace,vspace,width];' +\n\t\t\t\t'param[name,value];' +\n\t\t\t\t'embed[height,hspace,pluginspage,src,type,vspace,width]';\n\n\t\t\tif ( CKEDITOR.dialog.isTabEnabled( editor, 'flash', 'properties' ) )\n\t\t\t\tallowed += ';object[align]; embed[allowscriptaccess,quality,scale,wmode]';\n\t\t\tif ( CKEDITOR.dialog.isTabEnabled( editor, 'flash', 'advanced' ) )\n\t\t\t\tallowed += ';object[id]{*}; embed[bgcolor]{*}(*)';\n\n\t\t\teditor.addCommand( 'flash', new CKEDITOR.dialogCommand( 'flash', {\n\t\t\t\tallowedContent: allowed,\n\t\t\t\trequiredContent: 'embed'\n\t\t\t} ) );\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Flash', {\n\t\t\t\tlabel: editor.lang.common.flash,\n\t\t\t\tcommand: 'flash',\n\t\t\t\ttoolbar: 'insert,20'\n\t\t\t} );\n\t\t\tCKEDITOR.dialog.add( 'flash', this.path + 'dialogs/flash.js' );\n\n\t\t\t// If the \"menu\" plugin is loaded, register the menu items.\n\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\teditor.addMenuItems( {\n\t\t\t\t\tflash: {\n\t\t\t\t\t\tlabel: editor.lang.flash.properties,\n\t\t\t\t\t\tcommand: 'flash',\n\t\t\t\t\t\tgroup: 'flash'\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\t\tvar element = evt.data.element;\n\n\t\t\t\tif ( element.is( 'img' ) && element.data( 'cke-real-element-type' ) == 'flash' )\n\t\t\t\t\tevt.data.dialog = 'flash';\n\t\t\t} );\n\n\t\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\t\tif ( editor.contextMenu ) {\n\t\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\t\tif ( element && element.is( 'img' ) && !element.isReadOnly() && element.data( 'cke-real-element-type' ) == 'flash' )\n\t\t\t\t\t\treturn { flash: CKEDITOR.TRISTATE_OFF };\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\n\t\tafterInit: function( editor ) {\n\t\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\t\tdataFilter = dataProcessor && dataProcessor.dataFilter;\n\n\t\t\tif ( dataFilter ) {\n\t\t\t\tdataFilter.addRules( {\n\t\t\t\t\telements: {\n\t\t\t\t\t\t'cke:object': function( element ) {\n\t\t\t\t\t\t\tvar attributes = element.attributes,\n\t\t\t\t\t\t\t\tclassId = attributes.classid && String( attributes.classid ).toLowerCase();\n\n\t\t\t\t\t\t\tif ( !classId && !isFlashEmbed( element ) ) {\n\t\t\t\t\t\t\t\t// Look for the inner <embed>\n\t\t\t\t\t\t\t\tfor ( var i = 0; i < element.children.length; i++ ) {\n\t\t\t\t\t\t\t\t\tif ( element.children[ i ].name == 'cke:embed' ) {\n\t\t\t\t\t\t\t\t\t\tif ( !isFlashEmbed( element.children[ i ] ) )\n\t\t\t\t\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t\t\t\t\treturn createFakeElement( editor, element );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn createFakeElement( editor, element );\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t'cke:embed': function( element ) {\n\t\t\t\t\t\t\tif ( !isFlashEmbed( element ) )\n\t\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t\treturn createFakeElement( editor, element );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 5 );\n\t\t\t}\n\t\t}\n\t} );\n} )();\n\nCKEDITOR.tools.extend( CKEDITOR.config, {\n\t/**\n\t * Save as `<embed>` tag only. This tag is unrecommended.\n\t *\n\t * @cfg {Boolean} [flashEmbedTagOnly=false]\n\t * @member CKEDITOR.config\n\t */\n\tflashEmbedTagOnly: false,\n\n\t/**\n\t * Add `<embed>` tag as alternative: `<object><embed></embed></object>`.\n\t *\n\t * @cfg {Boolean} [flashAddEmbedTag=false]\n\t * @member CKEDITOR.config\n\t */\n\tflashAddEmbedTag: true,\n\n\t/**\n\t * Use {@link #flashEmbedTagOnly} and {@link #flashAddEmbedTag} values on edit.\n\t *\n\t * @cfg {Boolean} [flashConvertOnEdit=false]\n\t * @member CKEDITOR.config\n\t */\n\tflashConvertOnEdit: false\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/flash/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar win = CKEDITOR.document.getWindow(),\n\t\tpixelate = CKEDITOR.tools.cssLength;\n\n\tCKEDITOR.plugins.add( 'floatingspace', {\n\t\tinit: function( editor ) {\n\t\t\t// Add listener with lower priority than that in themedui creator.\n\t\t\t// Thereby floatingspace will be created only if themedui wasn't used.\n\t\t\teditor.on( 'loaded', function() {\n\t\t\t\tattach( this );\n\t\t\t}, null, null, 20 );\n\t\t}\n\t} );\n\n\tfunction scrollOffset( side ) {\n\t\tvar pageOffset = side == 'left' ? 'pageXOffset' : 'pageYOffset',\n\t\t\tdocScrollOffset = side == 'left' ? 'scrollLeft' : 'scrollTop';\n\n\t\treturn ( pageOffset in win.$ ) ? win.$[ pageOffset ] : CKEDITOR.document.$.documentElement[ docScrollOffset ];\n\t}\n\n\tfunction attach( editor ) {\n\t\tvar config = editor.config,\n\n\t\t\t// Get the HTML for the predefined spaces.\n\t\t\ttopHtml = editor.fire( 'uiSpace', { space: 'top', html: '' } ).html,\n\n\t\t\t// Re-positioning of the space.\n\t\t\tlayout = ( function() {\n\t\t\t\t// Mode indicates the vertical aligning mode.\n\t\t\t\tvar mode, editable,\n\t\t\t\t\tspaceRect, editorRect, viewRect, spaceHeight, pageScrollX,\n\n\t\t\t\t\t// Allow minor adjustments of the float space from custom configs.\n\t\t\t\t\tdockedOffsetX = config.floatSpaceDockedOffsetX || 0,\n\t\t\t\t\tdockedOffsetY = config.floatSpaceDockedOffsetY || 0,\n\t\t\t\t\tpinnedOffsetX = config.floatSpacePinnedOffsetX || 0,\n\t\t\t\t\tpinnedOffsetY = config.floatSpacePinnedOffsetY || 0;\n\n\t\t\t\t// Update the float space position.\n\t\t\t\tfunction updatePos( pos, prop, val ) {\n\t\t\t\t\tfloatSpace.setStyle( prop, pixelate( val ) );\n\t\t\t\t\tfloatSpace.setStyle( 'position', pos );\n\t\t\t\t}\n\n\t\t\t\t// Change the current mode and update float space position accordingly.\n\t\t\t\tfunction changeMode( newMode ) {\n\t\t\t\t\tvar editorPos = editable.getDocumentPosition();\n\n\t\t\t\t\tswitch ( newMode ) {\n\t\t\t\t\t\tcase 'top':\n\t\t\t\t\t\t\tupdatePos( 'absolute', 'top', editorPos.y - spaceHeight - dockedOffsetY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'pin':\n\t\t\t\t\t\t\tupdatePos( 'fixed', 'top', pinnedOffsetY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\t\tupdatePos( 'absolute', 'top', editorPos.y + ( editorRect.height || editorRect.bottom - editorRect.top ) + dockedOffsetY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tmode = newMode;\n\t\t\t\t}\n\n\t\t\t\treturn function( evt ) {\n\t\t\t\t\t// #10112 Do not fail on editable-less editor.\n\t\t\t\t\tif ( !( editable = editor.editable() ) )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar show = ( evt && evt.name == 'focus' );\n\n\t\t\t\t\t// Show up the space on focus gain.\n\t\t\t\t\tif ( show ) {\n\t\t\t\t\t\tfloatSpace.show();\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.fire( 'floatingSpaceLayout', { show: show } );\n\n\t\t\t\t\t// Reset the horizontal position for below measurement.\n\t\t\t\t\tfloatSpace.removeStyle( 'left' );\n\t\t\t\t\tfloatSpace.removeStyle( 'right' );\n\n\t\t\t\t\t// Compute the screen position from the TextRectangle object would\n\t\t\t\t\t// be very simple, even though the \"width\"/\"height\" property is not\n\t\t\t\t\t// available for all, it's safe to figure that out from the rest.\n\n\t\t\t\t\t// http://help.dottoro.com/ljgupwlp.php\n\t\t\t\t\tspaceRect = floatSpace.getClientRect();\n\t\t\t\t\teditorRect = editable.getClientRect();\n\t\t\t\t\tviewRect = win.getViewPaneSize();\n\t\t\t\t\tspaceHeight = spaceRect.height;\n\t\t\t\t\tpageScrollX = scrollOffset( 'left' );\n\n\t\t\t\t\t// We initialize it as pin mode.\n\t\t\t\t\tif ( !mode ) {\n\t\t\t\t\t\tmode = 'pin';\n\t\t\t\t\t\tchangeMode( 'pin' );\n\t\t\t\t\t\t// Call for a refresh to the actual layout.\n\t\t\t\t\t\tlayout( evt );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// +------------------------ Viewport -+ \\\n\t\t\t\t\t// |                                   |  |-> floatSpaceDockedOffsetY\n\t\t\t\t\t// | ................................. | /\n\t\t\t\t\t// |                                   |\n\t\t\t\t\t// |   +------ Space -+                |\n\t\t\t\t\t// |   |              |                |\n\t\t\t\t\t// |   +--------------+                |\n\t\t\t\t\t// |   +------------------ Editor -+   |\n\t\t\t\t\t// |   |                           |   |\n\t\t\t\t\t//\n\t\t\t\t\tif ( spaceHeight + dockedOffsetY <= editorRect.top )\n\t\t\t\t\t\tchangeMode( 'top' );\n\n\t\t\t\t\t//     +- - - - - - - - -  Editor -+\n\t\t\t\t\t//     |                           |\n\t\t\t\t\t// +------------------------ Viewport -+ \\\n\t\t\t\t\t// |   |                           |   |  |-> floatSpacePinnedOffsetY\n\t\t\t\t\t// | ................................. | /\n\t\t\t\t\t// |   +------ Space -+            |   |\n\t\t\t\t\t// |   |              |            |   |\n\t\t\t\t\t// |   +--------------+            |   |\n\t\t\t\t\t// |   |                           |   |\n\t\t\t\t\t// |   +---------------------------+   |\n\t\t\t\t\t// +-----------------------------------+\n\t\t\t\t\t//\n\t\t\t\t\telse if ( spaceHeight + dockedOffsetY > viewRect.height - editorRect.bottom )\n\t\t\t\t\t\tchangeMode( 'pin' );\n\n\t\t\t\t\t//     +- - - - - - - - -  Editor -+\n\t\t\t\t\t//     |                           |\n\t\t\t\t\t// +------------------------ Viewport -+ \\\n\t\t\t\t\t// |   |                           |   |  |-> floatSpacePinnedOffsetY\n\t\t\t\t\t// | ................................. | /\n\t\t\t\t\t// |   |                           |   |\n\t\t\t\t\t// |   |                           |   |\n\t\t\t\t\t// |   +---------------------------+   |\n\t\t\t\t\t// |   +------ Space -+                |\n\t\t\t\t\t// |   |              |                |\n\t\t\t\t\t// |   +--------------+                |\n\t\t\t\t\t//\n\t\t\t\t\telse\n\t\t\t\t\t\tchangeMode( 'bottom' );\n\n\t\t\t\t\tvar mid = viewRect.width / 2,\n\t\t\t\t\t\talignSide, offset;\n\n\t\t\t\t\tif ( config.floatSpacePreferRight ) {\n\t\t\t\t\t\talignSide = 'right';\n\t\t\t\t\t} else if ( editorRect.left > 0 && editorRect.right < viewRect.width && editorRect.width > spaceRect.width ) {\n\t\t\t\t\t\talignSide = config.contentsLangDirection == 'rtl' ? 'right' : 'left';\n\t\t\t\t\t} else {\n\t\t\t\t\t\talignSide = mid - editorRect.left > editorRect.right - mid ? 'left' : 'right';\n\t\t\t\t\t}\n\n\t\t\t\t\t// (#9769) If viewport width is less than space width,\n\t\t\t\t\t// make sure space never cross the left boundary of the viewport.\n\t\t\t\t\t// In other words: top-left corner of the space is always visible.\n\t\t\t\t\tif ( spaceRect.width > viewRect.width ) {\n\t\t\t\t\t\talignSide = 'left';\n\t\t\t\t\t\toffset = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ( alignSide == 'left' ) {\n\t\t\t\t\t\t\t// If the space rect fits into viewport, align it\n\t\t\t\t\t\t\t// to the left edge of editor:\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// +------------------------ Viewport -+\n\t\t\t\t\t\t\t// |                                   |\n\t\t\t\t\t\t\t// |   +------------- Space -+         |\n\t\t\t\t\t\t\t// |   |                     |         |\n\t\t\t\t\t\t\t// |   +---------------------+         |\n\t\t\t\t\t\t\t// |   +------------------ Editor -+   |\n\t\t\t\t\t\t\t// |   |                           |   |\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tif ( editorRect.left > 0 )\n\t\t\t\t\t\t\t\toffset = editorRect.left;\n\n\t\t\t\t\t\t\t// If the left part of the editor is cut off by the left\n\t\t\t\t\t\t\t// edge of the viewport, stick the space to the viewport:\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t//       +------------------------ Viewport -+\n\t\t\t\t\t\t\t//       |                                   |\n\t\t\t\t\t\t\t//       +---------------- Space -+          |\n\t\t\t\t\t\t\t//       |                        |          |\n\t\t\t\t\t\t\t//       +------------------------+          |\n\t\t\t\t\t\t\t//  +----|------------- Editor -+            |\n\t\t\t\t\t\t\t//  |    |                      |            |\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\toffset = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// If the space rect fits into viewport, align it\n\t\t\t\t\t\t\t// to the right edge of editor:\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// +------------------------ Viewport -+\n\t\t\t\t\t\t\t// |                                   |\n\t\t\t\t\t\t\t// |         +------------- Space -+   |\n\t\t\t\t\t\t\t// |         |                     |   |\n\t\t\t\t\t\t\t// |         +---------------------+   |\n\t\t\t\t\t\t\t// |   +------------------ Editor -+   |\n\t\t\t\t\t\t\t// |   |                           |   |\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tif ( editorRect.right < viewRect.width )\n\t\t\t\t\t\t\t\toffset = viewRect.width - editorRect.right;\n\n\t\t\t\t\t\t\t// If the right part of the editor is cut off by the right\n\t\t\t\t\t\t\t// edge of the viewport, stick the space to the viewport:\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// +------------------------ Viewport -+\n\t\t\t\t\t\t\t// |                                   |\n\t\t\t\t\t\t\t// |             +------------- Space -+\n\t\t\t\t\t\t\t// |             |                     |\n\t\t\t\t\t\t\t// |             +---------------------+\n\t\t\t\t\t\t\t// |                 +-----------------|- Editor -+\n\t\t\t\t\t\t\t// |                 |                 |          |\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\toffset = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// (#9769) Finally, stick the space to the opposite side of\n\t\t\t\t\t\t// the viewport when it's cut off horizontally on the left/right\n\t\t\t\t\t\t// side like below.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// This trick reveals cut off space in some edge cases and\n\t\t\t\t\t\t// hence it improves accessibility.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// +------------------------ Viewport -+\n\t\t\t\t\t\t// |                                   |\n\t\t\t\t\t\t// |              +--------------------|-- Space -+\n\t\t\t\t\t\t// |              |                    |          |\n\t\t\t\t\t\t// |              +--------------------|----------+\n\t\t\t\t\t\t// |              +------- Editor -+   |\n\t\t\t\t\t\t// |              |                |   |\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//\t\t\t\tbecomes:\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// +------------------------ Viewport -+\n\t\t\t\t\t\t// |                                   |\n\t\t\t\t\t\t// |   +----------------------- Space -+\n\t\t\t\t\t\t// |   |                               |\n\t\t\t\t\t\t// |   +-------------------------------+\n\t\t\t\t\t\t// |              +------- Editor -+   |\n\t\t\t\t\t\t// |              |                |   |\n\t\t\t\t\t\t//\n\t\t\t\t\t\tif ( offset + spaceRect.width > viewRect.width ) {\n\t\t\t\t\t\t\talignSide = alignSide == 'left' ? 'right' : 'left';\n\t\t\t\t\t\t\toffset = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Pin mode is fixed, so don't include scroll-x.\n\t\t\t\t\t// (#9903) For mode is \"top\" or \"bottom\", add opposite scroll-x for right-aligned space.\n\t\t\t\t\tvar scroll = mode == 'pin' ? 0 : alignSide == 'left' ? pageScrollX : -pageScrollX;\n\n\t\t\t\t\tfloatSpace.setStyle( alignSide, pixelate( ( mode == 'pin' ? pinnedOffsetX : dockedOffsetX ) + offset + scroll ) );\n\t\t\t\t};\n\t\t\t} )();\n\n\t\tif ( topHtml ) {\n\t\t\tvar floatSpaceTpl = new CKEDITOR.template(\n\t\t\t\t'<div' +\n\t\t\t\t\t' id=\"cke_{name}\"' +\n\t\t\t\t\t' class=\"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} ' + CKEDITOR.env.cssClass + '\"' +\n\t\t\t\t\t' dir=\"{langDir}\"' +\n\t\t\t\t\t' title=\"' + ( CKEDITOR.env.gecko ? ' ' : '' ) + '\"' +\n\t\t\t\t\t' lang=\"{langCode}\"' +\n\t\t\t\t\t' role=\"application\"' +\n\t\t\t\t\t' style=\"{style}\"' +\n\t\t\t\t\t( editor.title ? ' aria-labelledby=\"cke_{name}_arialbl\"' : ' ' ) +\n\t\t\t\t\t'>' +\n\t\t\t\t\t( editor.title ? '<span id=\"cke_{name}_arialbl\" class=\"cke_voice_label\">{voiceLabel}</span>' : ' ' ) +\n\t\t\t\t\t'<div class=\"cke_inner\">' +\n\t\t\t\t\t\t'<div id=\"{topId}\" class=\"cke_top\" role=\"presentation\">{content}</div>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' ),\n\t\t\t\tfloatSpace = CKEDITOR.document.getBody().append( CKEDITOR.dom.element.createFromHtml( floatSpaceTpl.output( {\n\t\t\t\t\tcontent: topHtml,\n\t\t\t\t\tid: editor.id,\n\t\t\t\t\tlangDir: editor.lang.dir,\n\t\t\t\t\tlangCode: editor.langCode,\n\t\t\t\t\tname: editor.name,\n\t\t\t\t\tstyle: 'display:none;z-index:' + ( config.baseFloatZIndex - 1 ),\n\t\t\t\t\ttopId: editor.ui.spaceId( 'top' ),\n\t\t\t\t\tvoiceLabel: editor.title\n\t\t\t\t} ) ) ),\n\n\t\t\t\t// Use event buffers to reduce CPU load when tons of events are fired.\n\t\t\t\tchangeBuffer = CKEDITOR.tools.eventsBuffer( 500, layout ),\n\t\t\t\tuiBuffer = CKEDITOR.tools.eventsBuffer( 100, layout );\n\n\t\t\t// There's no need for the floatSpace to be selectable.\n\t\t\tfloatSpace.unselectable();\n\n\t\t\t// Prevent clicking on non-buttons area of the space from blurring editor.\n\t\t\tfloatSpace.on( 'mousedown', function( evt ) {\n\t\t\t\tevt = evt.data;\n\t\t\t\tif ( !evt.getTarget().hasAscendant( 'a', 1 ) )\n\t\t\t\t\tevt.preventDefault();\n\t\t\t} );\n\n\t\t\teditor.on( 'focus', function( evt ) {\n\t\t\t\tlayout( evt );\n\t\t\t\teditor.on( 'change', changeBuffer.input );\n\t\t\t\twin.on( 'scroll', uiBuffer.input );\n\t\t\t\twin.on( 'resize', uiBuffer.input );\n\t\t\t} );\n\n\t\t\teditor.on( 'blur', function() {\n\t\t\t\tfloatSpace.hide();\n\t\t\t\teditor.removeListener( 'change', changeBuffer.input );\n\t\t\t\twin.removeListener( 'scroll', uiBuffer.input );\n\t\t\t\twin.removeListener( 'resize', uiBuffer.input );\n\t\t\t} );\n\n\t\t\teditor.on( 'destroy', function() {\n\t\t\t\twin.removeListener( 'scroll', uiBuffer.input );\n\t\t\t\twin.removeListener( 'resize', uiBuffer.input );\n\t\t\t\tfloatSpace.clearCustomData();\n\t\t\t\tfloatSpace.remove();\n\t\t\t} );\n\n\t\t\t// Handle initial focus.\n\t\t\tif ( editor.focusManager.hasFocus )\n\t\t\t\tfloatSpace.show();\n\n\t\t\t// Register this UI space to the focus manager.\n\t\t\teditor.focusManager.add( floatSpace, 1 );\n\t\t}\n\t}\n} )();\n\n/**\n * Along with {@link #floatSpaceDockedOffsetY} it defines the\n * amount of offset (in pixels) between the float space and the editable left/right\n * boundaries when the space element is docked on either side of the editable.\n *\n *\t\tconfig.floatSpaceDockedOffsetX = 10;\n *\n * @cfg {Number} [floatSpaceDockedOffsetX=0]\n * @member CKEDITOR.config\n */\n\n/**\n * Along with {@link #floatSpaceDockedOffsetX} it defines the\n * amount of offset (in pixels) between the float space and the editable top/bottom\n * boundaries when the space element is docked on either side of the editable.\n *\n *\t\tconfig.floatSpaceDockedOffsetY = 10;\n *\n * @cfg {Number} [floatSpaceDockedOffsetY=0]\n * @member CKEDITOR.config\n */\n\n/**\n * Along with {@link #floatSpacePinnedOffsetY} it defines the\n * amount of offset (in pixels) between the float space and the viewport boundaries\n * when the space element is pinned.\n *\n *\t\tconfig.floatSpacePinnedOffsetX = 20;\n *\n * @cfg {Number} [floatSpacePinnedOffsetX=0]\n * @member CKEDITOR.config\n */\n\n/**\n * Along with {@link #floatSpacePinnedOffsetX} it defines the\n * amount of offset (in pixels) between the float space and the viewport boundaries\n * when the space element is pinned.\n *\n *\t\tconfig.floatSpacePinnedOffsetY = 20;\n *\n * @cfg {Number} [floatSpacePinnedOffsetY=0]\n * @member CKEDITOR.config\n */\n\n/**\n * Indicates that the float space should be aligned to the right side\n * of the editable area rather than to the left (if possible).\n *\n *\t\tconfig.floatSpacePreferRight = true;\n *\n * @since 4.5\n * @cfg {Boolean} [floatSpacePreferRight=false]\n * @member CKEDITOR.config\n */\n\n/**\n * Fired when the viewport or editor parameters change and the floating space needs to check and\n * eventually update its position and dimensions.\n *\n * @since 4.5\n * @event floatingSpaceLayout\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor The editor instance.\n * @param data\n * @param {Boolean} data.show True if the float space should show up as a result of this event.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/floatingspace/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tfunction addCombo( editor, comboName, styleType, lang, entries, defaultLabel, styleDefinition, order ) {\n\t\tvar config = editor.config,\n\t\t\tstyle = new CKEDITOR.style( styleDefinition );\n\n\t\t// Gets the list of fonts from the settings.\n\t\tvar names = entries.split( ';' ),\n\t\t\tvalues = [];\n\n\t\t// Create style objects for all fonts.\n\t\tvar styles = {};\n\t\tfor ( var i = 0; i < names.length; i++ ) {\n\t\t\tvar parts = names[ i ];\n\n\t\t\tif ( parts ) {\n\t\t\t\tparts = parts.split( '/' );\n\n\t\t\t\tvar vars = {},\n\t\t\t\t\tname = names[ i ] = parts[ 0 ];\n\n\t\t\t\tvars[ styleType ] = values[ i ] = parts[ 1 ] || name;\n\n\t\t\t\tstyles[ name ] = new CKEDITOR.style( styleDefinition, vars );\n\t\t\t\tstyles[ name ]._.definition.name = name;\n\t\t\t} else {\n\t\t\t\tnames.splice( i--, 1 );\n\t\t\t}\n\t\t}\n\n\t\teditor.ui.addRichCombo( comboName, {\n\t\t\tlabel: lang.label,\n\t\t\ttitle: lang.panelTitle,\n\t\t\ttoolbar: 'styles,' + order,\n\t\t\tallowedContent: style,\n\t\t\trequiredContent: style,\n\n\t\t\tpanel: {\n\t\t\t\tcss: [ CKEDITOR.skin.getPath( 'editor' ) ].concat( config.contentsCss ),\n\t\t\t\tmultiSelect: false,\n\t\t\t\tattributes: { 'aria-label': lang.panelTitle }\n\t\t\t},\n\n\t\t\tinit: function() {\n\t\t\t\tthis.startGroup( lang.panelTitle );\n\n\t\t\t\tfor ( var i = 0; i < names.length; i++ ) {\n\t\t\t\t\tvar name = names[ i ];\n\n\t\t\t\t\t// Add the tag entry to the panel list.\n\t\t\t\t\tthis.add( name, styles[ name ].buildPreview(), name );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function( value ) {\n\t\t\t\teditor.focus();\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\tvar previousValue = this.getValue(),\n\t\t\t\t\tstyle = styles[ value ];\n\n\t\t\t\t// When applying one style over another, first remove the previous one (#12403).\n\t\t\t\t// NOTE: This is only a temporary fix. It will be moved to the styles system (#12687).\n\t\t\t\tif ( previousValue && value != previousValue ) {\n\t\t\t\t\tvar previousStyle = styles[ previousValue ],\n\t\t\t\t\t\trange = editor.getSelection().getRanges()[ 0 ];\n\n\t\t\t\t\t// If the range is collapsed we can't simply use the editor.removeStyle method\n\t\t\t\t\t// because it will remove the entire element and we want to split it instead.\n\t\t\t\t\tif ( range.collapsed ) {\n\t\t\t\t\t\tvar path = editor.elementPath(),\n\t\t\t\t\t\t\t// Find the style element.\n\t\t\t\t\t\t\tmatching = path.contains( function( el ) {\n\t\t\t\t\t\t\t\treturn previousStyle.checkElementRemovable( el );\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tif ( matching ) {\n\t\t\t\t\t\t\tvar startBoundary = range.checkBoundaryOfElement( matching, CKEDITOR.START ),\n\t\t\t\t\t\t\t\tendBoundary = range.checkBoundaryOfElement( matching, CKEDITOR.END ),\n\t\t\t\t\t\t\t\tnode, bm;\n\n\t\t\t\t\t\t\t// If we are at both boundaries it means that the element is empty.\n\t\t\t\t\t\t\t// Remove it but in a way that we won't lose other empty inline elements inside it.\n\t\t\t\t\t\t\t// Example: <p>x<span style=\"font-size:48px\"><em>[]</em></span>x</p>\n\t\t\t\t\t\t\t// Result: <p>x<em>[]</em>x</p>\n\t\t\t\t\t\t\tif ( startBoundary && endBoundary ) {\n\t\t\t\t\t\t\t\tbm = range.createBookmark();\n\t\t\t\t\t\t\t\t// Replace the element with its children (TODO element.replaceWithChildren).\n\t\t\t\t\t\t\t\twhile ( ( node = matching.getFirst() ) ) {\n\t\t\t\t\t\t\t\t\tnode.insertBefore( matching );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmatching.remove();\n\t\t\t\t\t\t\t\trange.moveToBookmark( bm );\n\n\t\t\t\t\t\t\t// If we are at the boundary of the style element, just move out.\n\t\t\t\t\t\t\t} else if ( startBoundary ) {\n\t\t\t\t\t\t\t\trange.moveToPosition( matching, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\t\t} else if ( endBoundary ) {\n\t\t\t\t\t\t\t\trange.moveToPosition( matching, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Split the element and clone the elements that were in the path\n\t\t\t\t\t\t\t\t// (between the startContainer and the matching element)\n\t\t\t\t\t\t\t\t// into the new place.\n\t\t\t\t\t\t\t\trange.splitElement( matching );\n\t\t\t\t\t\t\t\trange.moveToPosition( matching, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\t\t\tcloneSubtreeIntoRange( range, path.elements.slice(), matching );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\teditor.getSelection().selectRanges( [ range ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.removeStyle( previousStyle );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\teditor[ previousValue == value ? 'removeStyle' : 'applyStyle' ]( style );\n\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t},\n\n\t\t\tonRender: function() {\n\t\t\t\teditor.on( 'selectionChange', function( ev ) {\n\t\t\t\t\tvar currentValue = this.getValue();\n\n\t\t\t\t\tvar elementPath = ev.data.path,\n\t\t\t\t\t\telements = elementPath.elements;\n\n\t\t\t\t\t// For each element into the elements path.\n\t\t\t\t\tfor ( var i = 0, element; i < elements.length; i++ ) {\n\t\t\t\t\t\telement = elements[ i ];\n\n\t\t\t\t\t\t// Check if the element is removable by any of\n\t\t\t\t\t\t// the styles.\n\t\t\t\t\t\tfor ( var value in styles ) {\n\t\t\t\t\t\t\tif ( styles[ value ].checkElementMatch( element, true, editor ) ) {\n\t\t\t\t\t\t\t\tif ( value != currentValue )\n\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If no styles match, just empty it.\n\t\t\t\t\tthis.setValue( '', defaultLabel );\n\t\t\t\t}, this );\n\t\t\t},\n\n\t\t\trefresh: function() {\n\t\t\t\tif ( !editor.activeFilter.check( style ) )\n\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Clones the subtree between subtreeStart (exclusive) and the\n\t// leaf (inclusive) and inserts it into the range.\n\t//\n\t// @param range\n\t// @param {CKEDITOR.dom.element[]} elements Elements path in the standard order: leaf -> root.\n\t// @param {CKEDITOR.dom.element/null} substreeStart The start of the subtree.\n\t// If null, then the leaf belongs to the subtree.\n\tfunction cloneSubtreeIntoRange( range, elements, subtreeStart ) {\n\t\tvar current = elements.pop();\n\t\tif ( !current ) {\n\t\t\treturn;\n\t\t}\n\t\t// Rewind the elements array up to the subtreeStart and then start the real cloning.\n\t\tif ( subtreeStart ) {\n\t\t\treturn cloneSubtreeIntoRange( range, elements, current.equals( subtreeStart ) ? null : subtreeStart );\n\t\t}\n\n\t\tvar clone = current.clone();\n\t\trange.insertNode( clone );\n\t\trange.moveToPosition( clone, CKEDITOR.POSITION_AFTER_START );\n\n\t\tcloneSubtreeIntoRange( range, elements );\n\t}\n\n\tCKEDITOR.plugins.add( 'font', {\n\t\trequires: 'richcombo',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\tinit: function( editor ) {\n\t\t\tvar config = editor.config;\n\n\t\t\taddCombo( editor, 'Font', 'family', editor.lang.font, config.font_names, config.font_defaultLabel, config.font_style, 30 );\n\t\t\taddCombo( editor, 'FontSize', 'size', editor.lang.font.fontSize, config.fontSize_sizes, config.fontSize_defaultLabel, config.fontSize_style, 40 );\n\t\t}\n\t} );\n} )();\n\n/**\n * The list of fonts names to be displayed in the Font combo in the toolbar.\n * Entries are separated by semi-colons (`';'`), while it's possible to have more\n * than one font for each entry, in the HTML way (separated by comma).\n *\n * A display name may be optionally defined by prefixing the entries with the\n * name and the slash character. For example, `'Arial/Arial, Helvetica, sans-serif'`\n * will be displayed as `'Arial'` in the list, but will be outputted as\n * `'Arial, Helvetica, sans-serif'`.\n *\n *\t\tconfig.font_names =\n *\t\t\t'Arial/Arial, Helvetica, sans-serif;' +\n *\t\t\t'Times New Roman/Times New Roman, Times, serif;' +\n *\t\t\t'Verdana';\n *\n *\t\tconfig.font_names = 'Arial;Times New Roman;Verdana';\n *\n * @cfg {String} [font_names=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.font_names = 'Arial/Arial, Helvetica, sans-serif;' +\n\t'Comic Sans MS/Comic Sans MS, cursive;' +\n\t'Courier New/Courier New, Courier, monospace;' +\n\t'Georgia/Georgia, serif;' +\n\t'Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;' +\n\t'Tahoma/Tahoma, Geneva, sans-serif;' +\n\t'Times New Roman/Times New Roman, Times, serif;' +\n\t'Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;' +\n\t'Verdana/Verdana, Geneva, sans-serif';\n\n/**\n * The text to be displayed in the Font combo is none of the available values\n * matches the current cursor position or text selection.\n *\n *\t\t// If the default site font is Arial, we may making it more explicit to the end user.\n *\t\tconfig.font_defaultLabel = 'Arial';\n *\n * @cfg {String} [font_defaultLabel='']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.font_defaultLabel = '';\n\n/**\n * The style definition to be used to apply the font in the text.\n *\n *\t\t// This is actually the default value for it.\n *\t\tconfig.font_style = {\n *\t\t\telement:\t\t'span',\n *\t\t\tstyles:\t\t\t{ 'font-family': '#(family)' },\n *\t\t\toverrides:\t\t[ { element: 'font', attributes: { 'face': null } } ]\n *     };\n *\n * @cfg {Object} [font_style=see example]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.font_style = {\n\telement: 'span',\n\tstyles: { 'font-family': '#(family)' },\n\toverrides: [ {\n\t\telement: 'font', attributes: { 'face': null }\n\t} ]\n};\n\n/**\n * The list of fonts size to be displayed in the Font Size combo in the\n * toolbar. Entries are separated by semi-colons (`';'`).\n *\n * Any kind of \"CSS like\" size can be used, like `'12px'`, `'2.3em'`, `'130%'`,\n * `'larger'` or `'x-small'`.\n *\n * A display name may be optionally defined by prefixing the entries with the\n * name and the slash character. For example, `'Bigger Font/14px'` will be\n * displayed as `'Bigger Font'` in the list, but will be outputted as `'14px'`.\n *\n *\t\tconfig.fontSize_sizes = '16/16px;24/24px;48/48px;';\n *\n *\t\tconfig.fontSize_sizes = '12px;2.3em;130%;larger;x-small';\n *\n *\t\tconfig.fontSize_sizes = '12 Pixels/12px;Big/2.3em;30 Percent More/130%;Bigger/larger;Very Small/x-small';\n *\n * @cfg {String} [fontSize_sizes=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.fontSize_sizes = '8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';\n\n/**\n * The text to be displayed in the Font Size combo is none of the available\n * values matches the current cursor position or text selection.\n *\n *\t\t// If the default site font size is 12px, we may making it more explicit to the end user.\n *\t\tconfig.fontSize_defaultLabel = '12px';\n *\n * @cfg {String} [fontSize_defaultLabel='']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.fontSize_defaultLabel = '';\n\n/**\n * The style definition to be used to apply the font size in the text.\n *\n *\t\t// This is actually the default value for it.\n *\t\tconfig.fontSize_style = {\n *\t\t\telement:\t\t'span',\n *\t\t\tstyles:\t\t\t{ 'font-size': '#(size)' },\n *\t\t\toverrides:\t\t[ { element: 'font', attributes: { 'size': null } } ]\n *\t\t};\n *\n * @cfg {Object} [fontSize_style=see example]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.fontSize_style = {\n\telement: 'span',\n\tstyles: { 'font-size': '#(size)' },\n\toverrides: [ {\n\t\telement: 'font', attributes: { 'size': null }\n\t} ]\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/font/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'format', {\n\trequires: 'richcombo',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\tinit: function( editor ) {\n\t\tif ( editor.blockless )\n\t\t\treturn;\n\n\t\tvar config = editor.config,\n\t\t\tlang = editor.lang.format;\n\n\t\t// Gets the list of tags from the settings.\n\t\tvar tags = config.format_tags.split( ';' );\n\n\t\t// Create style objects for all defined styles.\n\t\tvar styles = {},\n\t\t\tstylesCount = 0,\n\t\t\tallowedContent = [];\n\t\tfor ( var i = 0; i < tags.length; i++ ) {\n\t\t\tvar tag = tags[ i ];\n\t\t\tvar style = new CKEDITOR.style( config[ 'format_' + tag ] );\n\t\t\tif ( !editor.filter.customConfig || editor.filter.check( style ) ) {\n\t\t\t\tstylesCount++;\n\t\t\t\tstyles[ tag ] = style;\n\t\t\t\tstyles[ tag ]._.enterMode = editor.config.enterMode;\n\t\t\t\tallowedContent.push( style );\n\t\t\t}\n\t\t}\n\n\t\t// Hide entire combo when all formats are rejected.\n\t\tif ( stylesCount === 0 )\n\t\t\treturn;\n\n\t\teditor.ui.addRichCombo( 'Format', {\n\t\t\tlabel: lang.label,\n\t\t\ttitle: lang.panelTitle,\n\t\t\ttoolbar: 'styles,20',\n\t\t\tallowedContent: allowedContent,\n\n\t\t\tpanel: {\n\t\t\t\tcss: [ CKEDITOR.skin.getPath( 'editor' ) ].concat( config.contentsCss ),\n\t\t\t\tmultiSelect: false,\n\t\t\t\tattributes: { 'aria-label': lang.panelTitle }\n\t\t\t},\n\n\t\t\tinit: function() {\n\t\t\t\tthis.startGroup( lang.panelTitle );\n\n\t\t\t\tfor ( var tag in styles ) {\n\t\t\t\t\tvar label = lang[ 'tag_' + tag ];\n\n\t\t\t\t\t// Add the tag entry to the panel list.\n\t\t\t\t\tthis.add( tag, styles[ tag ].buildPreview( label ), label );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function( value ) {\n\t\t\t\teditor.focus();\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\tvar style = styles[ value ],\n\t\t\t\t\telementPath = editor.elementPath();\n\n\t\t\t\teditor[ style.checkActive( elementPath, editor ) ? 'removeStyle' : 'applyStyle' ]( style );\n\n\t\t\t\t// Save the undo snapshot after all changes are affected. (#4899)\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t}, 0 );\n\t\t\t},\n\n\t\t\tonRender: function() {\n\t\t\t\teditor.on( 'selectionChange', function( ev ) {\n\t\t\t\t\tvar currentTag = this.getValue(),\n\t\t\t\t\t\telementPath = ev.data.path;\n\n\t\t\t\t\tthis.refresh();\n\n\t\t\t\t\tfor ( var tag in styles ) {\n\t\t\t\t\t\tif ( styles[ tag ].checkActive( elementPath, editor ) ) {\n\t\t\t\t\t\t\tif ( tag != currentTag )\n\t\t\t\t\t\t\t\tthis.setValue( tag, editor.lang.format[ 'tag_' + tag ] );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If no styles match, just empty it.\n\t\t\t\t\tthis.setValue( '' );\n\n\t\t\t\t}, this );\n\t\t\t},\n\n\t\t\tonOpen: function() {\n\t\t\t\tthis.showAll();\n\t\t\t\tfor ( var name in styles ) {\n\t\t\t\t\tvar style = styles[ name ];\n\n\t\t\t\t\t// Check if that style is enabled in activeFilter.\n\t\t\t\t\tif ( !editor.activeFilter.check( style ) )\n\t\t\t\t\t\tthis.hideItem( name );\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trefresh: function() {\n\t\t\t\tvar elementPath = editor.elementPath();\n\n\t\t\t\tif ( !elementPath )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t// Check if element path contains 'p' element.\n\t\t\t\tif ( !elementPath.isContextFor( 'p' ) ) {\n\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Check if there is any available style.\n\t\t\t\tfor ( var name in styles ) {\n\t\t\t\t\tif ( editor.activeFilter.check( styles[ name ] ) )\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n/**\n * A list of semicolon-separated style names (by default: tags) representing\n * the style definition for each entry to be displayed in the Format drop-down list\n * in the toolbar. Each entry must have a corresponding configuration in a\n * setting named `'format_(tagName)'`. For example, the `'p'` entry has its\n * definition taken from [config.format_p](#!/api/CKEDITOR.config-cfg-format_p).\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_tags = 'p;h2;h3;pre';\n *\n * @cfg {String} [format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_tags = 'p;h1;h2;h3;h4;h5;h6;pre;address;div';\n\n/**\n * The style definition to be used to apply the `Normal` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_p = { element: 'p', attributes: { 'class': 'normalPara' } };\n *\n * @cfg {Object} [format_p={ element: 'p' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_p = { element: 'p' };\n\n/**\n * The style definition to be used to apply the `Normal (DIV)` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_div = { element: 'div', attributes: { 'class': 'normalDiv' } };\n *\n * @cfg {Object} [format_div={ element: 'div' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_div = { element: 'div' };\n\n/**\n * The style definition to be used to apply the `Formatted` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_pre = { element: 'pre', attributes: { 'class': 'code' } };\n *\n * @cfg {Object} [format_pre={ element: 'pre' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_pre = { element: 'pre' };\n\n/**\n * The style definition to be used to apply the `Address` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_address = { element: 'address', attributes: { 'class': 'styledAddress' } };\n *\n * @cfg {Object} [format_address={ element: 'address' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_address = { element: 'address' };\n\n/**\n * The style definition to be used to apply the `Heading 1` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_h1 = { element: 'h1', attributes: { 'class': 'contentTitle1' } };\n *\n * @cfg {Object} [format_h1={ element: 'h1' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_h1 = { element: 'h1' };\n\n/**\n * The style definition to be used to apply the `Heading 2` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_h2 = { element: 'h2', attributes: { 'class': 'contentTitle2' } };\n *\n * @cfg {Object} [format_h2={ element: 'h2' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_h2 = { element: 'h2' };\n\n/**\n * The style definition to be used to apply the `Heading 3` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_h3 = { element: 'h3', attributes: { 'class': 'contentTitle3' } };\n *\n * @cfg {Object} [format_h3={ element: 'h3' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_h3 = { element: 'h3' };\n\n/**\n * The style definition to be used to apply the `Heading 4` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_h4 = { element: 'h4', attributes: { 'class': 'contentTitle4' } };\n *\n * @cfg {Object} [format_h4={ element: 'h4' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_h4 = { element: 'h4' };\n\n/**\n * The style definition to be used to apply the `Heading 5` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_h5 = { element: 'h5', attributes: { 'class': 'contentTitle5' } };\n *\n * @cfg {Object} [format_h5={ element: 'h5' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_h5 = { element: 'h5' };\n\n/**\n * The style definition to be used to apply the `Heading 6` format.\n *\n * Read more in the [documentation](#!/guide/dev_format)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/format.html).\n *\n *\t\tconfig.format_h6 = { element: 'h6', attributes: { 'class': 'contentTitle6' } };\n *\n * @cfg {Object} [format_h6={ element: 'h6' }]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.format_h6 = { element: 'h6' };\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/format/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Forms Plugin\n */\n\nCKEDITOR.plugins.add( 'forms', {\n\trequires: 'dialog,fakeobjects',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'button,checkbox,form,hiddenfield,imagebutton,radio,select,select-rtl,textarea,textarea-rtl,textfield', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tonLoad: function() {\n\t\tCKEDITOR.addCss( '.cke_editable form' +\n\t\t\t'{' +\n\t\t\t\t'border: 1px dotted #FF0000;' +\n\t\t\t\t'padding: 2px;' +\n\t\t\t'}\\n' );\n\n\t\tCKEDITOR.addCss( 'img.cke_hidden' +\n\t\t\t'{' +\n\t\t\t\t'background-image: url(' + CKEDITOR.getUrl( this.path + 'images/hiddenfield.gif' ) + ');' +\n\t\t\t\t'background-position: center center;' +\n\t\t\t\t'background-repeat: no-repeat;' +\n\t\t\t\t'border: 1px solid #a9a9a9;' +\n\t\t\t\t'width: 16px !important;' +\n\t\t\t\t'height: 16px !important;' +\n\t\t\t'}' );\n\n\t},\n\tinit: function( editor ) {\n\t\tvar lang = editor.lang,\n\t\t\torder = 0,\n\t\t\ttextfieldTypes = { email: 1, password: 1, search: 1, tel: 1, text: 1, url: 1 },\n\t\t\tallowedContent = {\n\t\t\t\tcheckbox: 'input[type,name,checked,required]',\n\t\t\t\tradio: 'input[type,name,checked,required]',\n\t\t\t\ttextfield: 'input[type,name,value,size,maxlength,required]',\n\t\t\t\ttextarea: 'textarea[cols,rows,name,required]',\n\t\t\t\tselect: 'select[name,size,multiple,required]; option[value,selected]',\n\t\t\t\tbutton: 'input[type,name,value]',\n\t\t\t\tform: 'form[action,name,id,enctype,target,method]',\n\t\t\t\thiddenfield: 'input[type,name,value]',\n\t\t\t\timagebutton: 'input[type,alt,src]{width,height,border,border-width,border-style,margin,float}'\n\t\t\t},\n\t\t\trequiredContent = {\n\t\t\t\tcheckbox: 'input',\n\t\t\t\tradio: 'input',\n\t\t\t\ttextfield: 'input',\n\t\t\t\ttextarea: 'textarea',\n\t\t\t\tselect: 'select',\n\t\t\t\tbutton: 'input',\n\t\t\t\tform: 'form',\n\t\t\t\thiddenfield: 'input',\n\t\t\t\timagebutton: 'input'\n\t\t\t};\n\n\t\t// All buttons use the same code to register. So, to avoid\n\t\t// duplications, let's use this tool function.\n\t\tvar addButtonCommand = function( buttonName, commandName, dialogFile ) {\n\t\t\t\tvar def = {\n\t\t\t\t\tallowedContent: allowedContent[ commandName ],\n\t\t\t\t\trequiredContent: requiredContent[ commandName ]\n\t\t\t\t};\n\t\t\t\tcommandName == 'form' && ( def.context = 'form' );\n\n\t\t\t\teditor.addCommand( commandName, new CKEDITOR.dialogCommand( commandName, def ) );\n\n\t\t\t\teditor.ui.addButton && editor.ui.addButton( buttonName, {\n\t\t\t\t\tlabel: lang.common[ buttonName.charAt( 0 ).toLowerCase() + buttonName.slice( 1 ) ],\n\t\t\t\t\tcommand: commandName,\n\t\t\t\t\ttoolbar: 'forms,' + ( order += 10 )\n\t\t\t\t} );\n\t\t\t\tCKEDITOR.dialog.add( commandName, dialogFile );\n\t\t\t};\n\n\t\tvar dialogPath = this.path + 'dialogs/';\n\t\t!editor.blockless && addButtonCommand( 'Form', 'form', dialogPath + 'form.js' );\n\t\taddButtonCommand( 'Checkbox', 'checkbox', dialogPath + 'checkbox.js' );\n\t\taddButtonCommand( 'Radio', 'radio', dialogPath + 'radio.js' );\n\t\taddButtonCommand( 'TextField', 'textfield', dialogPath + 'textfield.js' );\n\t\taddButtonCommand( 'Textarea', 'textarea', dialogPath + 'textarea.js' );\n\t\taddButtonCommand( 'Select', 'select', dialogPath + 'select.js' );\n\t\taddButtonCommand( 'Button', 'button', dialogPath + 'button.js' );\n\n\t\tvar imagePlugin = editor.plugins.image;\n\n\t\t// Since Image plugin is disabled when Image2 is to be loaded,\n\t\t// ImageButton also got to be off (#11222).\n\t\tif ( imagePlugin && !editor.plugins.image2 )\n\t\t\taddButtonCommand( 'ImageButton', 'imagebutton', CKEDITOR.plugins.getPath( 'image' ) + 'dialogs/image.js' );\n\n\t\taddButtonCommand( 'HiddenField', 'hiddenfield', dialogPath + 'hiddenfield.js' );\n\n\t\t// If the \"menu\" plugin is loaded, register the menu items.\n\t\tif ( editor.addMenuItems ) {\n\t\t\tvar items = {\n\t\t\t\tcheckbox: {\n\t\t\t\t\tlabel: lang.forms.checkboxAndRadio.checkboxTitle,\n\t\t\t\t\tcommand: 'checkbox',\n\t\t\t\t\tgroup: 'checkbox'\n\t\t\t\t},\n\n\t\t\t\tradio: {\n\t\t\t\t\tlabel: lang.forms.checkboxAndRadio.radioTitle,\n\t\t\t\t\tcommand: 'radio',\n\t\t\t\t\tgroup: 'radio'\n\t\t\t\t},\n\n\t\t\t\ttextfield: {\n\t\t\t\t\tlabel: lang.forms.textfield.title,\n\t\t\t\t\tcommand: 'textfield',\n\t\t\t\t\tgroup: 'textfield'\n\t\t\t\t},\n\n\t\t\t\thiddenfield: {\n\t\t\t\t\tlabel: lang.forms.hidden.title,\n\t\t\t\t\tcommand: 'hiddenfield',\n\t\t\t\t\tgroup: 'hiddenfield'\n\t\t\t\t},\n\n\t\t\t\tbutton: {\n\t\t\t\t\tlabel: lang.forms.button.title,\n\t\t\t\t\tcommand: 'button',\n\t\t\t\t\tgroup: 'button'\n\t\t\t\t},\n\n\t\t\t\tselect: {\n\t\t\t\t\tlabel: lang.forms.select.title,\n\t\t\t\t\tcommand: 'select',\n\t\t\t\t\tgroup: 'select'\n\t\t\t\t},\n\n\t\t\t\ttextarea: {\n\t\t\t\t\tlabel: lang.forms.textarea.title,\n\t\t\t\t\tcommand: 'textarea',\n\t\t\t\t\tgroup: 'textarea'\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ( imagePlugin ) {\n\t\t\t\titems.imagebutton = {\n\t\t\t\t\tlabel: lang.image.titleButton,\n\t\t\t\t\tcommand: 'imagebutton',\n\t\t\t\t\tgroup: 'imagebutton'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t!editor.blockless && ( items.form = {\n\t\t\t\tlabel: lang.forms.form.menu,\n\t\t\t\tcommand: 'form',\n\t\t\t\tgroup: 'form'\n\t\t\t} );\n\n\t\t\teditor.addMenuItems( items );\n\n\t\t}\n\n\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\tif ( editor.contextMenu ) {\n\t\t\t!editor.blockless && editor.contextMenu.addListener( function( element, selection, path ) {\n\t\t\t\tvar form = path.contains( 'form', 1 );\n\t\t\t\tif ( form && !form.isReadOnly() )\n\t\t\t\t\treturn { form: CKEDITOR.TRISTATE_OFF };\n\t\t\t} );\n\n\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\tif ( element && !element.isReadOnly() ) {\n\t\t\t\t\tvar name = element.getName();\n\n\t\t\t\t\tif ( name == 'select' )\n\t\t\t\t\t\treturn { select: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\tif ( name == 'textarea' )\n\t\t\t\t\t\treturn { textarea: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\tif ( name == 'input' ) {\n\t\t\t\t\t\tvar type = element.getAttribute( 'type' ) || 'text';\n\t\t\t\t\t\tswitch ( type ) {\n\t\t\t\t\t\t\tcase 'button':\n\t\t\t\t\t\t\tcase 'submit':\n\t\t\t\t\t\t\tcase 'reset':\n\t\t\t\t\t\t\t\treturn { button: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t\t\treturn { checkbox: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\t\t\tcase 'radio':\n\t\t\t\t\t\t\t\treturn { radio: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\t\t\tcase 'image':\n\t\t\t\t\t\t\t\treturn imagePlugin ? { imagebutton: CKEDITOR.TRISTATE_OFF } : null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( textfieldTypes[ type ] )\n\t\t\t\t\t\t\treturn { textfield: CKEDITOR.TRISTATE_OFF };\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( name == 'img' && element.data( 'cke-real-element-type' ) == 'hiddenfield' )\n\t\t\t\t\t\treturn { hiddenfield: CKEDITOR.TRISTATE_OFF };\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\tvar element = evt.data.element;\n\n\t\t\tif ( !editor.blockless && element.is( 'form' ) )\n\t\t\t\tevt.data.dialog = 'form';\n\t\t\telse if ( element.is( 'select' ) )\n\t\t\t\tevt.data.dialog = 'select';\n\t\t\telse if ( element.is( 'textarea' ) )\n\t\t\t\tevt.data.dialog = 'textarea';\n\t\t\telse if ( element.is( 'img' ) && element.data( 'cke-real-element-type' ) == 'hiddenfield' )\n\t\t\t\tevt.data.dialog = 'hiddenfield';\n\t\t\telse if ( element.is( 'input' ) ) {\n\t\t\t\tvar type = element.getAttribute( 'type' ) || 'text';\n\t\t\t\tswitch ( type ) {\n\t\t\t\t\tcase 'button':\n\t\t\t\t\tcase 'submit':\n\t\t\t\t\tcase 'reset':\n\t\t\t\t\t\tevt.data.dialog = 'button';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\tevt.data.dialog = 'checkbox';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\t\tevt.data.dialog = 'radio';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\tevt.data.dialog = 'imagebutton';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( textfieldTypes[ type ] )\n\t\t\t\t\tevt.data.dialog = 'textfield';\n\t\t\t}\n\t\t} );\n\t},\n\n\tafterInit: function( editor ) {\n\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\thtmlFilter = dataProcessor && dataProcessor.htmlFilter,\n\t\t\tdataFilter = dataProcessor && dataProcessor.dataFilter;\n\n\t\t// Cleanup certain IE form elements default values.\n\t\t// Note: Inputs are marked with contenteditable=false flags, so filters for them\n\t\t// need to be applied to non-editable content as well.\n\t\tif ( CKEDITOR.env.ie ) {\n\t\t\thtmlFilter && htmlFilter.addRules( {\n\t\t\t\telements: {\n\t\t\t\t\tinput: function( input ) {\n\t\t\t\t\t\tvar attrs = input.attributes,\n\t\t\t\t\t\t\ttype = attrs.type;\n\t\t\t\t\t\t// Old IEs don't provide type for Text inputs #5522\n\t\t\t\t\t\tif ( !type )\n\t\t\t\t\t\t\tattrs.type = 'text';\n\t\t\t\t\t\tif ( type == 'checkbox' || type == 'radio' )\n\t\t\t\t\t\t\tattrs.value == 'on' && delete attrs.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, { applyToAll: true } );\n\t\t}\n\n\t\tif ( dataFilter ) {\n\t\t\tdataFilter.addRules( {\n\t\t\t\telements: {\n\t\t\t\t\tinput: function( element ) {\n\t\t\t\t\t\tif ( element.attributes.type == 'hidden' )\n\t\t\t\t\t\t\treturn editor.createFakeParserElement( element, 'cke_hidden', 'hiddenfield' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, { applyToAll: true } );\n\t\t}\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Horizontal Rule plugin.\n */\n\n( function() {\n\tvar horizontalruleCmd = {\n\t\tcanUndo: false, // The undo snapshot will be handled by 'insertElement'.\n\t\texec: function( editor ) {\n\t\t\tvar hr = editor.document.createElement( 'hr' );\n\t\t\teditor.insertElement( hr );\n\t\t},\n\n\t\tallowedContent: 'hr',\n\t\trequiredContent: 'hr'\n\t};\n\n\tvar pluginName = 'horizontalrule';\n\n\t// Register a plugin named \"horizontalrule\".\n\tCKEDITOR.plugins.add( pluginName, {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'horizontalrule', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\teditor.addCommand( pluginName, horizontalruleCmd );\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'HorizontalRule', {\n\t\t\t\tlabel: editor.lang.horizontalrule.toolbar,\n\t\t\t\tcommand: pluginName,\n\t\t\t\ttoolbar: 'insert,40'\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/horizontalrule/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'htmlwriter', {\n\tinit: function( editor ) {\n\t\tvar writer = new CKEDITOR.htmlWriter();\n\n\t\twriter.forceSimpleAmpersand = editor.config.forceSimpleAmpersand;\n\t\twriter.indentationChars = editor.config.dataIndentationChars || '\\t';\n\n\t\t// Overwrite default basicWriter initialized in hmtlDataProcessor constructor.\n\t\teditor.dataProcessor.writer = writer;\n\t}\n} );\n\n/**\n * The class used to write HTML data.\n *\n *\t\tvar writer = new CKEDITOR.htmlWriter();\n *\t\twriter.openTag( 'p' );\n *\t\twriter.attribute( 'class', 'MyClass' );\n *\t\twriter.openTagClose( 'p' );\n *\t\twriter.text( 'Hello' );\n *\t\twriter.closeTag( 'p' );\n *\t\talert( writer.getHtml() ); // '<p class=\"MyClass\">Hello</p>'\n *\n * @class\n * @extends CKEDITOR.htmlParser.basicWriter\n */\nCKEDITOR.htmlWriter = CKEDITOR.tools.createClass( {\n\tbase: CKEDITOR.htmlParser.basicWriter,\n\n\t/**\n\t * Creates an `htmlWriter` class instance.\n\t *\n\t * @constructor\n\t */\n\t$: function() {\n\t\t// Call the base contructor.\n\t\tthis.base();\n\n\t\t/**\n\t\t * The characters to be used for each indentation step.\n\t\t *\n\t\t *\t\t// Use tab for indentation.\n\t\t *\t\teditorInstance.dataProcessor.writer.indentationChars = '\\t';\n\t\t */\n\t\tthis.indentationChars = '\\t';\n\n\t\t/**\n\t\t * The characters to be used to close \"self-closing\" elements, like `<br>` or `<img>`.\n\t\t *\n\t\t *\t\t// Use HTML4 notation for self-closing elements.\n\t\t *\t\teditorInstance.dataProcessor.writer.selfClosingEnd = '>';\n\t\t */\n\t\tthis.selfClosingEnd = ' />';\n\n\t\t/**\n\t\t * The characters to be used for line breaks.\n\t\t *\n\t\t *\t\t// Use CRLF for line breaks.\n\t\t *\t\teditorInstance.dataProcessor.writer.lineBreakChars = '\\r\\n';\n\t\t */\n\t\tthis.lineBreakChars = '\\n';\n\n\t\tthis.sortAttributes = 1;\n\n\t\tthis._.indent = 0;\n\t\tthis._.indentation = '';\n\t\t// Indicate preformatted block context status. (#5789)\n\t\tthis._.inPre = 0;\n\t\tthis._.rules = {};\n\n\t\tvar dtd = CKEDITOR.dtd;\n\n\t\tfor ( var e in CKEDITOR.tools.extend( {}, dtd.$nonBodyContent, dtd.$block, dtd.$listItem, dtd.$tableContent ) ) {\n\t\t\tthis.setRules( e, {\n\t\t\t\tindent: !dtd[ e ][ '#' ],\n\t\t\t\tbreakBeforeOpen: 1,\n\t\t\t\tbreakBeforeClose: !dtd[ e ][ '#' ],\n\t\t\t\tbreakAfterClose: 1,\n\t\t\t\tneedsSpace: ( e in dtd.$block ) && !( e in { li: 1, dt: 1, dd: 1 } )\n\t\t\t} );\n\t\t}\n\n\t\tthis.setRules( 'br', { breakAfterOpen: 1 } );\n\n\t\tthis.setRules( 'title', {\n\t\t\tindent: 0,\n\t\t\tbreakAfterOpen: 0\n\t\t} );\n\n\t\tthis.setRules( 'style', {\n\t\t\tindent: 0,\n\t\t\tbreakBeforeClose: 1\n\t\t} );\n\n\t\tthis.setRules( 'pre', {\n\t\t\tbreakAfterOpen: 1, // Keep line break after the opening tag\n\t\t\tindent: 0 // Disable indentation on <pre>.\n\t\t} );\n\t},\n\n\tproto: {\n\t\t/**\n\t\t * Writes the tag opening part for an opener tag.\n\t\t *\n\t\t *\t\t// Writes '<p'.\n\t\t *\t\twriter.openTag( 'p', { class : 'MyClass', id : 'MyId' } );\n\t\t *\n\t\t * @param {String} tagName The element name for this tag.\n\t\t * @param {Object} attributes The attributes defined for this tag. The\n\t\t * attributes could be used to inspect the tag.\n\t\t */\n\t\topenTag: function( tagName ) {\n\t\t\tvar rules = this._.rules[ tagName ];\n\n\t\t\tif ( this._.afterCloser && rules && rules.needsSpace && this._.needsSpace )\n\t\t\t\tthis._.output.push( '\\n' );\n\n\t\t\tif ( this._.indent )\n\t\t\t\tthis.indentation();\n\t\t\t// Do not break if indenting.\n\t\t\telse if ( rules && rules.breakBeforeOpen ) {\n\t\t\t\tthis.lineBreak();\n\t\t\t\tthis.indentation();\n\t\t\t}\n\n\t\t\tthis._.output.push( '<', tagName );\n\n\t\t\tthis._.afterCloser = 0;\n\t\t},\n\n\t\t/**\n\t\t * Writes the tag closing part for an opener tag.\n\t\t *\n\t\t *\t\t// Writes '>'.\n\t\t *\t\twriter.openTagClose( 'p', false );\n\t\t *\n\t\t *\t\t// Writes ' />'.\n\t\t *\t\twriter.openTagClose( 'br', true );\n\t\t *\n\t\t * @param {String} tagName The element name for this tag.\n\t\t * @param {Boolean} isSelfClose Indicates that this is a self-closing tag,\n\t\t * like `<br>` or `<img>`.\n\t\t */\n\t\topenTagClose: function( tagName, isSelfClose ) {\n\t\t\tvar rules = this._.rules[ tagName ];\n\n\t\t\tif ( isSelfClose ) {\n\t\t\t\tthis._.output.push( this.selfClosingEnd );\n\n\t\t\t\tif ( rules && rules.breakAfterClose )\n\t\t\t\t\tthis._.needsSpace = rules.needsSpace;\n\t\t\t} else {\n\t\t\t\tthis._.output.push( '>' );\n\n\t\t\t\tif ( rules && rules.indent )\n\t\t\t\t\tthis._.indentation += this.indentationChars;\n\t\t\t}\n\n\t\t\tif ( rules && rules.breakAfterOpen )\n\t\t\t\tthis.lineBreak();\n\t\t\ttagName == 'pre' && ( this._.inPre = 1 );\n\t\t},\n\n\t\t/**\n\t\t * Writes an attribute. This function should be called after opening the\n\t\t * tag with {@link #openTagClose}.\n\t\t *\n\t\t *\t\t// Writes ' class=\"MyClass\"'.\n\t\t *\t\twriter.attribute( 'class', 'MyClass' );\n\t\t *\n\t\t * @param {String} attName The attribute name.\n\t\t * @param {String} attValue The attribute value.\n\t\t */\n\t\tattribute: function( attName, attValue ) {\n\n\t\t\tif ( typeof attValue == 'string' ) {\n\t\t\t\tthis.forceSimpleAmpersand && ( attValue = attValue.replace( /&amp;/g, '&' ) );\n\t\t\t\t// Browsers don't always escape special character in attribute values. (#4683, #4719).\n\t\t\t\tattValue = CKEDITOR.tools.htmlEncodeAttr( attValue );\n\t\t\t}\n\n\t\t\tthis._.output.push( ' ', attName, '=\"', attValue, '\"' );\n\t\t},\n\n\t\t/**\n\t\t * Writes a closer tag.\n\t\t *\n\t\t *\t\t// Writes '</p>'.\n\t\t *\t\twriter.closeTag( 'p' );\n\t\t *\n\t\t * @param {String} tagName The element name for this tag.\n\t\t */\n\t\tcloseTag: function( tagName ) {\n\t\t\tvar rules = this._.rules[ tagName ];\n\n\t\t\tif ( rules && rules.indent )\n\t\t\t\tthis._.indentation = this._.indentation.substr( this.indentationChars.length );\n\n\t\t\tif ( this._.indent )\n\t\t\t\tthis.indentation();\n\t\t\t// Do not break if indenting.\n\t\t\telse if ( rules && rules.breakBeforeClose ) {\n\t\t\t\tthis.lineBreak();\n\t\t\t\tthis.indentation();\n\t\t\t}\n\n\t\t\tthis._.output.push( '</', tagName, '>' );\n\t\t\ttagName == 'pre' && ( this._.inPre = 0 );\n\n\t\t\tif ( rules && rules.breakAfterClose ) {\n\t\t\t\tthis.lineBreak();\n\t\t\t\tthis._.needsSpace = rules.needsSpace;\n\t\t\t}\n\n\t\t\tthis._.afterCloser = 1;\n\t\t},\n\n\t\t/**\n\t\t * Writes text.\n\t\t *\n\t\t *\t\t// Writes 'Hello Word'.\n\t\t *\t\twriter.text( 'Hello Word' );\n\t\t *\n\t\t * @param {String} text The text value\n\t\t */\n\t\ttext: function( text ) {\n\t\t\tif ( this._.indent ) {\n\t\t\t\tthis.indentation();\n\t\t\t\t!this._.inPre && ( text = CKEDITOR.tools.ltrim( text ) );\n\t\t\t}\n\n\t\t\tthis._.output.push( text );\n\t\t},\n\n\t\t/**\n\t\t * Writes a comment.\n\t\t *\n\t\t *\t\t// Writes \"<!-- My comment -->\".\n\t\t *\t\twriter.comment( ' My comment ' );\n\t\t *\n\t\t * @param {String} comment The comment text.\n\t\t */\n\t\tcomment: function( comment ) {\n\t\t\tif ( this._.indent )\n\t\t\t\tthis.indentation();\n\n\t\t\tthis._.output.push( '<!--', comment, '-->' );\n\t\t},\n\n\t\t/**\n\t\t * Writes a line break. It uses the {@link #lineBreakChars} property for it.\n\t\t *\n\t\t *\t\t// Writes '\\n' (e.g.).\n\t\t *\t\twriter.lineBreak();\n\t\t */\n\t\tlineBreak: function() {\n\t\t\tif ( !this._.inPre && this._.output.length > 0 )\n\t\t\t\tthis._.output.push( this.lineBreakChars );\n\t\t\tthis._.indent = 1;\n\t\t},\n\n\t\t/**\n\t\t * Writes the current indentation character. It uses the {@link #indentationChars}\n\t\t * property, repeating it for the current indentation steps.\n\t\t *\n\t\t *\t\t// Writes '\\t' (e.g.).\n\t\t *\t\twriter.indentation();\n\t\t */\n\t\tindentation: function() {\n\t\t\tif ( !this._.inPre && this._.indentation )\n\t\t\t\tthis._.output.push( this._.indentation );\n\t\t\tthis._.indent = 0;\n\t\t},\n\n\t\t/**\n\t\t * Empties the current output buffer. It also brings back the default\n\t\t * values of the writer flags.\n\t\t *\n\t\t *\t\twriter.reset();\n\t\t */\n\t\treset: function() {\n\t\t\tthis._.output = [];\n\t\t\tthis._.indent = 0;\n\t\t\tthis._.indentation = '';\n\t\t\tthis._.afterCloser = 0;\n\t\t\tthis._.inPre = 0;\n\t\t\tthis._.needsSpace = 0;\n\t\t},\n\n\t\t/**\n\t\t * Sets formatting rules for a given element. Possible rules are:\n\t\t *\n\t\t * * `indent` &ndash; indent the element content.\n\t\t * * `breakBeforeOpen` &ndash; break line before the opener tag for this element.\n\t\t * * `breakAfterOpen` &ndash; break line after the opener tag for this element.\n\t\t * * `breakBeforeClose` &ndash; break line before the closer tag for this element.\n\t\t * * `breakAfterClose` &ndash; break line after the closer tag for this element.\n\t\t *\n\t\t * All rules default to `false`. Each function call overrides rules that are\n\t\t * already present, leaving the undefined ones untouched.\n\t\t *\n\t\t * By default, all elements available in the {@link CKEDITOR.dtd#$block},\n\t\t * {@link CKEDITOR.dtd#$listItem}, and {@link CKEDITOR.dtd#$tableContent}\n\t\t * lists have all the above rules set to `true`. Additionaly, the `<br>`\n\t\t * element has the `breakAfterOpen` rule set to `true`.\n\t\t *\n\t\t *\t\t// Break line before and after \"img\" tags.\n\t\t *\t\twriter.setRules( 'img', {\n\t\t *\t\t\tbreakBeforeOpen: true\n\t\t *\t\t\tbreakAfterOpen: true\n\t\t *\t\t} );\n\t\t *\n\t\t *\t\t// Reset the rules for the \"h1\" tag.\n\t\t *\t\twriter.setRules( 'h1', {} );\n\t\t *\n\t\t * @param {String} tagName The name of the element for which the rules are set.\n\t\t * @param {Object} rules An object containing the element rules.\n\t\t */\n\t\tsetRules: function( tagName, rules ) {\n\t\t\tvar currentRules = this._.rules[ tagName ];\n\n\t\t\tif ( currentRules )\n\t\t\t\tCKEDITOR.tools.extend( currentRules, rules, true );\n\t\t\telse\n\t\t\t\tthis._.rules[ tagName ] = rules;\n\t\t}\n\t}\n} );\n\n/**\n * Whether to force using `'&'` instead of `'&amp;'` in element attributes\n * values. It is not recommended to change this setting for compliance with the\n * W3C XHTML 1.0 standards ([C.12, XHTML 1.0](http://www.w3.org/TR/xhtml1/#C_12)).\n *\n *\t\t// Use `'&'` instead of `'&amp;'`\n *\t\tCKEDITOR.config.forceSimpleAmpersand = true;\n *\n * @cfg {Boolean} [forceSimpleAmpersand=false]\n * @member CKEDITOR.config\n */\n\n/**\n * The characters to be used for indenting HTML output produced by the editor.\n * Using characters different from `' '` (space) and `'\\t'` (tab) is not recommended\n * as it will mess the code.\n *\n *\t\t// No indentation.\n *\t\tCKEDITOR.config.dataIndentationChars = '';\n *\n *\t\t// Use two spaces for indentation.\n *\t\tCKEDITOR.config.dataIndentationChars = '  ';\n *\n * @cfg {String} [dataIndentationChars='\\t']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/htmlwriter/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The Image plugin.\n */\n\n( function() {\n\n\tCKEDITOR.plugins.add( 'image', {\n\t\trequires: 'dialog',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'image', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\t// Abort when Image2 is to be loaded since both plugins\n\t\t\t// share the same button, command, etc. names (#11222).\n\t\t\tif ( editor.plugins.image2 )\n\t\t\t\treturn;\n\n\t\t\tvar pluginName = 'image';\n\n\t\t\t// Register the dialog.\n\t\t\tCKEDITOR.dialog.add( pluginName, this.path + 'dialogs/image.js' );\n\n\t\t\tvar allowed = 'img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}',\n\t\t\t\trequired = 'img[alt,src]';\n\n\t\t\tif ( CKEDITOR.dialog.isTabEnabled( editor, pluginName, 'advanced' ) )\n\t\t\t\tallowed = 'img[alt,dir,id,lang,longdesc,!src,title]{*}(*)';\n\n\t\t\t// Register the command.\n\t\t\teditor.addCommand( pluginName, new CKEDITOR.dialogCommand( pluginName, {\n\t\t\t\tallowedContent: allowed,\n\t\t\t\trequiredContent: required,\n\t\t\t\tcontentTransformations: [\n\t\t\t\t\t[ 'img{width}: sizeToStyle', 'img[width]: sizeToAttribute' ],\n\t\t\t\t\t[ 'img{float}: alignmentToStyle', 'img[align]: alignmentToAttribute' ]\n\t\t\t\t]\n\t\t\t} ) );\n\n\t\t\t// Register the toolbar button.\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Image', {\n\t\t\t\tlabel: editor.lang.common.image,\n\t\t\t\tcommand: pluginName,\n\t\t\t\ttoolbar: 'insert,10'\n\t\t\t} );\n\n\t\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\t\tvar element = evt.data.element;\n\n\t\t\t\tif ( element.is( 'img' ) && !element.data( 'cke-realelement' ) && !element.isReadOnly() )\n\t\t\t\t\tevt.data.dialog = 'image';\n\t\t\t} );\n\n\t\t\t// If the \"menu\" plugin is loaded, register the menu items.\n\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\teditor.addMenuItems( {\n\t\t\t\t\timage: {\n\t\t\t\t\t\tlabel: editor.lang.image.menu,\n\t\t\t\t\t\tcommand: 'image',\n\t\t\t\t\t\tgroup: 'image'\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\t\tif ( editor.contextMenu ) {\n\t\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\t\tif ( getSelectedImage( editor, element ) )\n\t\t\t\t\t\treturn { image: CKEDITOR.TRISTATE_OFF };\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\tafterInit: function( editor ) {\n\t\t\t// Abort when Image2 is to be loaded since both plugins\n\t\t\t// share the same button, command, etc. names (#11222).\n\t\t\tif ( editor.plugins.image2 )\n\t\t\t\treturn;\n\n\t\t\t// Customize the behavior of the alignment commands. (#7430)\n\t\t\tsetupAlignCommand( 'left' );\n\t\t\tsetupAlignCommand( 'right' );\n\t\t\tsetupAlignCommand( 'center' );\n\t\t\tsetupAlignCommand( 'block' );\n\n\t\t\tfunction setupAlignCommand( value ) {\n\t\t\t\tvar command = editor.getCommand( 'justify' + value );\n\t\t\t\tif ( command ) {\n\t\t\t\t\tif ( value == 'left' || value == 'right' ) {\n\t\t\t\t\t\tcommand.on( 'exec', function( evt ) {\n\t\t\t\t\t\t\tvar img = getSelectedImage( editor ),\n\t\t\t\t\t\t\t\talign;\n\t\t\t\t\t\t\tif ( img ) {\n\t\t\t\t\t\t\t\talign = getImageAlignment( img );\n\t\t\t\t\t\t\t\tif ( align == value ) {\n\t\t\t\t\t\t\t\t\timg.removeStyle( 'float' );\n\n\t\t\t\t\t\t\t\t\t// Remove \"align\" attribute when necessary.\n\t\t\t\t\t\t\t\t\tif ( value == getImageAlignment( img ) )\n\t\t\t\t\t\t\t\t\t\timg.removeAttribute( 'align' );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\timg.setStyle( 'float', value );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\tcommand.on( 'refresh', function( evt ) {\n\t\t\t\t\t\tvar img = getSelectedImage( editor ),\n\t\t\t\t\t\t\talign;\n\t\t\t\t\t\tif ( img ) {\n\t\t\t\t\t\t\talign = getImageAlignment( img );\n\n\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t( align == value ) ? CKEDITOR.TRISTATE_ON : ( value == 'right' || value == 'left' ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\n\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n\n\tfunction getSelectedImage( editor, element ) {\n\t\tif ( !element ) {\n\t\t\tvar sel = editor.getSelection();\n\t\t\telement = sel.getSelectedElement();\n\t\t}\n\n\t\tif ( element && element.is( 'img' ) && !element.data( 'cke-realelement' ) && !element.isReadOnly() )\n\t\t\treturn element;\n\t}\n\n\tfunction getImageAlignment( element ) {\n\t\tvar align = element.getStyle( 'float' );\n\n\t\tif ( align == 'inherit' || align == 'none' )\n\t\t\talign = 0;\n\n\t\tif ( !align )\n\t\t\talign = element.getAttribute( 'align' );\n\n\t\treturn align;\n\t}\n\n} )();\n\n/**\n * Determines whether dimension inputs should be automatically filled when the image URL changes in the Image plugin dialog window.\n *\n *\t\tconfig.image_prefillDimensions = false;\n *\n * @since 4.5\n * @cfg {Boolean} [image_prefillDimensions=true]\n * @member CKEDITOR.config\n */\n\n/**\n * Whether to remove links when emptying the link URL field in the Image dialog window.\n *\n *\t\tconfig.image_removeLinkByEmptyURL = false;\n *\n * @cfg {Boolean} [image_removeLinkByEmptyURL=true]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.image_removeLinkByEmptyURL = true;\n\n/**\n * Padding text to set off the image in the preview area.\n *\n *\t\tconfig.image_previewText = CKEDITOR.tools.repeat( '___ ', 100 );\n *\n * @cfg {String} [image_previewText='Lorem ipsum dolor...' (placeholder text)]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/image/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'iframe', {\n\t\trequires: 'dialog,fakeobjects',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'iframe', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tonLoad: function() {\n\t\t\tCKEDITOR.addCss( 'img.cke_iframe' +\n\t\t\t\t'{' +\n\t\t\t\t\t'background-image: url(' + CKEDITOR.getUrl( this.path + 'images/placeholder.png' ) + ');' +\n\t\t\t\t\t'background-position: center center;' +\n\t\t\t\t\t'background-repeat: no-repeat;' +\n\t\t\t\t\t'border: 1px solid #a9a9a9;' +\n\t\t\t\t\t'width: 80px;' +\n\t\t\t\t\t'height: 80px;' +\n\t\t\t\t'}'\n\t\t\t\t);\n\t\t},\n\t\tinit: function( editor ) {\n\t\t\tvar pluginName = 'iframe',\n\t\t\t\tlang = editor.lang.iframe,\n\t\t\t\tallowed = 'iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]';\n\n\t\t\tif ( editor.plugins.dialogadvtab )\n\t\t\t\tallowed += ';iframe' + editor.plugins.dialogadvtab.allowedContent( { id: 1, classes: 1, styles: 1 } );\n\n\t\t\tCKEDITOR.dialog.add( pluginName, this.path + 'dialogs/iframe.js' );\n\t\t\teditor.addCommand( pluginName, new CKEDITOR.dialogCommand( pluginName, {\n\t\t\t\tallowedContent: allowed,\n\t\t\t\trequiredContent: 'iframe'\n\t\t\t} ) );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Iframe', {\n\t\t\t\tlabel: lang.toolbar,\n\t\t\t\tcommand: pluginName,\n\t\t\t\ttoolbar: 'insert,80'\n\t\t\t} );\n\n\t\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\t\tvar element = evt.data.element;\n\t\t\t\tif ( element.is( 'img' ) && element.data( 'cke-real-element-type' ) == 'iframe' )\n\t\t\t\t\tevt.data.dialog = 'iframe';\n\t\t\t} );\n\n\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\teditor.addMenuItems( {\n\t\t\t\t\tiframe: {\n\t\t\t\t\t\tlabel: lang.title,\n\t\t\t\t\t\tcommand: 'iframe',\n\t\t\t\t\t\tgroup: 'image'\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\t\tif ( editor.contextMenu ) {\n\t\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\t\tif ( element && element.is( 'img' ) && element.data( 'cke-real-element-type' ) == 'iframe' )\n\t\t\t\t\t\treturn { iframe: CKEDITOR.TRISTATE_OFF };\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\tafterInit: function( editor ) {\n\t\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\t\tdataFilter = dataProcessor && dataProcessor.dataFilter;\n\n\t\t\tif ( dataFilter ) {\n\t\t\t\tdataFilter.addRules( {\n\t\t\t\t\telements: {\n\t\t\t\t\t\tiframe: function( element ) {\n\t\t\t\t\t\t\treturn editor.createFakeParserElement( element, 'cke_iframe', 'iframe', true );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/iframe/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Handles the indentation of lists.\n */\n\n( function() {\n\t'use strict';\n\n\tvar isNotWhitespaces = CKEDITOR.dom.walker.whitespaces( true ),\n\t\tisNotBookmark = CKEDITOR.dom.walker.bookmark( false, true ),\n\t\tTRISTATE_DISABLED = CKEDITOR.TRISTATE_DISABLED,\n\t\tTRISTATE_OFF = CKEDITOR.TRISTATE_OFF;\n\n\tCKEDITOR.plugins.add( 'indentlist', {\n\t\trequires: 'indent',\n\t\tinit: function( editor ) {\n\t\t\tvar globalHelpers = CKEDITOR.plugins.indent;\n\n\t\t\t// Register commands.\n\t\t\tglobalHelpers.registerCommands( editor, {\n\t\t\t\tindentlist: new commandDefinition( editor, 'indentlist', true ),\n\t\t\t\toutdentlist: new commandDefinition( editor, 'outdentlist' )\n\t\t\t} );\n\n\t\t\tfunction commandDefinition( editor ) {\n\t\t\t\tglobalHelpers.specificDefinition.apply( this, arguments );\n\n\t\t\t\t// Require ul OR ol list.\n\t\t\t\tthis.requiredContent = [ 'ul', 'ol' ];\n\n\t\t\t\t// Indent and outdent lists with TAB/SHIFT+TAB key. Indenting can\n\t\t\t\t// be done for any list item that isn't the first child of the parent.\n\t\t\t\teditor.on( 'key', function( evt ) {\n\t\t\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tif ( evt.data.keyCode == this.indentKey ) {\n\t\t\t\t\t\tvar list = this.getContext( editor.elementPath() );\n\n\t\t\t\t\t\tif ( list ) {\n\t\t\t\t\t\t\t// Don't indent if in first list item of the parent.\n\t\t\t\t\t\t\t// Outdent, however, can always be done to collapse\n\t\t\t\t\t\t\t// the list into a paragraph (div).\n\t\t\t\t\t\t\tif ( this.isIndent && CKEDITOR.plugins.indentList.firstItemInPath( this.context, editor.elementPath(), list ) )\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t// Exec related global indentation command. Global\n\t\t\t\t\t\t\t// commands take care of bookmarks and selection,\n\t\t\t\t\t\t\t// so it's much easier to use them instead of\n\t\t\t\t\t\t\t// content-specific commands.\n\t\t\t\t\t\t\teditor.execCommand( this.relatedGlobal );\n\n\t\t\t\t\t\t\t// Cancel the key event so editor doesn't lose focus.\n\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this );\n\n\t\t\t\t// There are two different jobs for this plugin:\n\t\t\t\t//\n\t\t\t\t//\t* Indent job (priority=10), before indentblock.\n\t\t\t\t//\n\t\t\t\t//\t  This job is before indentblock because, if this plugin is\n\t\t\t\t//\t  loaded it has higher priority over indentblock. It means that,\n\t\t\t\t//\t  if possible, nesting is performed, and then block manipulation,\n\t\t\t\t//\t  if necessary.\n\t\t\t\t//\n\t\t\t\t//\t* Outdent job (priority=30), after outdentblock.\n\t\t\t\t//\n\t\t\t\t//\t  This job got to be after outdentblock because in some cases\n\t\t\t\t//\t  (margin, config#indentClass on list) outdent must be done on\n\t\t\t\t//\t  block-level.\n\n\t\t\t\tthis.jobs[ this.isIndent ? 10 : 30 ] = {\n\t\t\t\t\trefresh: this.isIndent ?\n\t\t\t\t\t\tfunction( editor, path ) {\n\t\t\t\t\t\t\tvar list = this.getContext( path ),\n\t\t\t\t\t\t\t\tinFirstListItem = CKEDITOR.plugins.indentList.firstItemInPath( this.context, path, list );\n\n\t\t\t\t\t\t\tif ( !list || !this.isIndent || inFirstListItem )\n\t\t\t\t\t\t\t\treturn TRISTATE_DISABLED;\n\n\t\t\t\t\t\t\treturn TRISTATE_OFF;\n\t\t\t\t\t\t} : function( editor, path ) {\n\t\t\t\t\t\t\tvar list = this.getContext( path );\n\n\t\t\t\t\t\t\tif ( !list || this.isIndent )\n\t\t\t\t\t\t\t\treturn TRISTATE_DISABLED;\n\n\t\t\t\t\t\t\treturn TRISTATE_OFF;\n\t\t\t\t\t\t},\n\n\t\t\t\t\texec: CKEDITOR.tools.bind( indentList, this )\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tCKEDITOR.tools.extend( commandDefinition.prototype, globalHelpers.specificDefinition.prototype, {\n\t\t\t\t// Elements that, if in an elementpath, will be handled by this\n\t\t\t\t// command. They restrict the scope of the plugin.\n\t\t\t\tcontext: { ol: 1, ul: 1 }\n\t\t\t} );\n\t\t}\n\t} );\n\n\tfunction indentList( editor ) {\n\t\tvar that = this,\n\t\t\tdatabase = this.database,\n\t\t\tcontext = this.context;\n\n\t\tfunction indent( listNode ) {\n\t\t\t// Our starting and ending points of the range might be inside some blocks under a list item...\n\t\t\t// So before playing with the iterator, we need to expand the block to include the list items.\n\t\t\tvar startContainer = range.startContainer,\n\t\t\t\tendContainer = range.endContainer;\n\t\t\twhile ( startContainer && !startContainer.getParent().equals( listNode ) )\n\t\t\t\tstartContainer = startContainer.getParent();\n\t\t\twhile ( endContainer && !endContainer.getParent().equals( listNode ) )\n\t\t\t\tendContainer = endContainer.getParent();\n\n\t\t\tif ( !startContainer || !endContainer )\n\t\t\t\treturn false;\n\n\t\t\t// Now we can iterate over the individual items on the same tree depth.\n\t\t\tvar block = startContainer,\n\t\t\t\titemsToMove = [],\n\t\t\t\tstopFlag = false;\n\n\t\t\twhile ( !stopFlag ) {\n\t\t\t\tif ( block.equals( endContainer ) )\n\t\t\t\t\tstopFlag = true;\n\n\t\t\t\titemsToMove.push( block );\n\t\t\t\tblock = block.getNext();\n\t\t\t}\n\n\t\t\tif ( itemsToMove.length < 1 )\n\t\t\t\treturn false;\n\n\t\t\t// Do indent or outdent operations on the array model of the list, not the\n\t\t\t// list's DOM tree itself. The array model demands that it knows as much as\n\t\t\t// possible about the surrounding lists, we need to feed it the further\n\t\t\t// ancestor node that is still a list.\n\t\t\tvar listParents = listNode.getParents( true );\n\t\t\tfor ( var i = 0; i < listParents.length; i++ ) {\n\t\t\t\tif ( listParents[ i ].getName && context[ listParents[ i ].getName() ] ) {\n\t\t\t\t\tlistNode = listParents[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar indentOffset = that.isIndent ? 1 : -1,\n\t\t\t\tstartItem = itemsToMove[ 0 ],\n\t\t\t\tlastItem = itemsToMove[ itemsToMove.length - 1 ],\n\n\t\t\t\t// Convert the list DOM tree into a one dimensional array.\n\t\t\t\tlistArray = CKEDITOR.plugins.list.listToArray( listNode, database ),\n\n\t\t\t\t// Apply indenting or outdenting on the array.\n\t\t\t\tbaseIndent = listArray[ lastItem.getCustomData( 'listarray_index' ) ].indent;\n\n\t\t\tfor ( i = startItem.getCustomData( 'listarray_index' ); i <= lastItem.getCustomData( 'listarray_index' ); i++ ) {\n\t\t\t\tlistArray[ i ].indent += indentOffset;\n\t\t\t\t// Make sure the newly created sublist get a brand-new element of the same type. (#5372)\n\t\t\t\tif ( indentOffset > 0 ) {\n\t\t\t\t\tvar listRoot = listArray[ i ].parent;\n\t\t\t\t\tlistArray[ i ].parent = new CKEDITOR.dom.element( listRoot.getName(), listRoot.getDocument() );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( i = lastItem.getCustomData( 'listarray_index' ) + 1; i < listArray.length && listArray[ i ].indent > baseIndent; i++ )\n\t\t\t\tlistArray[ i ].indent += indentOffset;\n\n\t\t\t// Convert the array back to a DOM forest (yes we might have a few subtrees now).\n\t\t\t// And replace the old list with the new forest.\n\t\t\tvar newList = CKEDITOR.plugins.list.arrayToList( listArray, database, null, editor.config.enterMode, listNode.getDirection() );\n\n\t\t\t// Avoid nested <li> after outdent even they're visually same,\n\t\t\t// recording them for later refactoring.(#3982)\n\t\t\tif ( !that.isIndent ) {\n\t\t\t\tvar parentLiElement;\n\t\t\t\tif ( ( parentLiElement = listNode.getParent() ) && parentLiElement.is( 'li' ) ) {\n\t\t\t\t\tvar children = newList.listNode.getChildren(),\n\t\t\t\t\t\tpendingLis = [],\n\t\t\t\t\t\tcount = children.count(),\n\t\t\t\t\t\tchild;\n\n\t\t\t\t\tfor ( i = count - 1; i >= 0; i-- ) {\n\t\t\t\t\t\tif ( ( child = children.getItem( i ) ) && child.is && child.is( 'li' ) )\n\t\t\t\t\t\t\tpendingLis.push( child );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( newList )\n\t\t\t\tnewList.listNode.replace( listNode );\n\n\t\t\t// Move the nested <li> to be appeared after the parent.\n\t\t\tif ( pendingLis && pendingLis.length ) {\n\t\t\t\tfor ( i = 0; i < pendingLis.length; i++ ) {\n\t\t\t\t\tvar li = pendingLis[ i ],\n\t\t\t\t\t\tfollowingList = li;\n\n\t\t\t\t\t// Nest preceding <ul>/<ol> inside current <li> if any.\n\t\t\t\t\twhile ( ( followingList = followingList.getNext() ) && followingList.is && followingList.getName() in context ) {\n\t\t\t\t\t\t// IE requires a filler NBSP for nested list inside empty list item,\n\t\t\t\t\t\t// otherwise the list item will be inaccessiable. (#4476)\n\t\t\t\t\t\tif ( CKEDITOR.env.needsNbspFiller && !li.getFirst( neitherWhitespacesNorBookmark ) )\n\t\t\t\t\t\t\tli.append( range.document.createText( '\\u00a0' ) );\n\n\t\t\t\t\t\tli.append( followingList );\n\t\t\t\t\t}\n\n\t\t\t\t\tli.insertAfter( parentLiElement );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( newList )\n\t\t\t\teditor.fire( 'contentDomInvalidated' );\n\n\t\t\treturn true;\n\t\t}\n\n\t\tvar selection = editor.getSelection(),\n\t\t\tranges = selection && selection.getRanges(),\n\t\t\titerator = ranges.createIterator(),\n\t\t\trange;\n\n\t\twhile ( ( range = iterator.getNextRange() ) ) {\n\t\t\tvar nearestListBlock = range.getCommonAncestor();\n\n\t\t\twhile ( nearestListBlock && !( nearestListBlock.type == CKEDITOR.NODE_ELEMENT && context[ nearestListBlock.getName() ] ) ) {\n\t\t\t\t// Avoid having plugin propagate to parent of editor in inline mode by canceling the indentation. (#12796)\n\t\t\t\tif ( editor.editable().equals( nearestListBlock ) ) {\n\t\t\t\t\tnearestListBlock = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tnearestListBlock = nearestListBlock.getParent();\n\t\t\t}\n\n\t\t\t// Avoid having selection boundaries out of the list.\n\t\t\t// <ul><li>[...</li></ul><p>...]</p> => <ul><li>[...]</li></ul><p>...</p>\n\t\t\tif ( !nearestListBlock ) {\n\t\t\t\tif ( ( nearestListBlock = range.startPath().contains( context ) ) )\n\t\t\t\t\trange.setEndAt( nearestListBlock, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t}\n\n\t\t\t// Avoid having selection enclose the entire list. (#6138)\n\t\t\t// [<ul><li>...</li></ul>] =><ul><li>[...]</li></ul>\n\t\t\tif ( !nearestListBlock ) {\n\t\t\t\tvar selectedNode = range.getEnclosedNode();\n\t\t\t\tif ( selectedNode && selectedNode.type == CKEDITOR.NODE_ELEMENT && selectedNode.getName() in context ) {\n\t\t\t\t\trange.setStartAt( selectedNode, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\trange.setEndAt( selectedNode, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\tnearestListBlock = selectedNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Avoid selection anchors under list root.\n\t\t\t// <ul>[<li>...</li>]</ul> =>\t<ul><li>[...]</li></ul>\n\t\t\tif ( nearestListBlock && range.startContainer.type == CKEDITOR.NODE_ELEMENT && range.startContainer.getName() in context ) {\n\t\t\t\tvar walker = new CKEDITOR.dom.walker( range );\n\t\t\t\twalker.evaluator = listItem;\n\t\t\t\trange.startContainer = walker.next();\n\t\t\t}\n\n\t\t\tif ( nearestListBlock && range.endContainer.type == CKEDITOR.NODE_ELEMENT && range.endContainer.getName() in context ) {\n\t\t\t\twalker = new CKEDITOR.dom.walker( range );\n\t\t\t\twalker.evaluator = listItem;\n\t\t\t\trange.endContainer = walker.previous();\n\t\t\t}\n\n\t\t\tif ( nearestListBlock )\n\t\t\t\treturn indent( nearestListBlock );\n\t\t}\n\t\treturn 0;\n\t}\n\n\t// Determines whether a node is a list <li> element.\n\tfunction listItem( node ) {\n\t\treturn node.type == CKEDITOR.NODE_ELEMENT && node.is( 'li' );\n\t}\n\n\tfunction neitherWhitespacesNorBookmark( node ) {\n\t\treturn isNotWhitespaces( node ) && isNotBookmark( node );\n\t}\n\n\t/**\n\t * Global namespace for methods exposed by the Indent List plugin.\n\t *\n\t * @singleton\n\t * @class\n\t */\n\tCKEDITOR.plugins.indentList = {};\n\n\t/**\n\t * Checks whether the first child of the list is in the path.\n\t * The list can be extracted from the path or given explicitly\n\t * e.g. for better performance if cached.\n\t *\n\t * @since 4.4.6\n\t * @param {Object} query See the {@link CKEDITOR.dom.elementPath#contains} method arguments.\n\t * @param {CKEDITOR.dom.elementPath} path\n\t * @param {CKEDITOR.dom.element} [list]\n\t * @returns {Boolean}\n\t * @member CKEDITOR.plugins.indentList\n\t */\n\tCKEDITOR.plugins.indentList.firstItemInPath = function( query, path, list ) {\n\t\tvar firstListItemInPath = path.contains( listItem );\n\t\tif ( !list )\n\t\t\tlist = path.contains( query );\n\n\t\treturn list && firstListItemInPath && firstListItemInPath.equals( list.getFirst( listItem ) );\n\t};\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/indentlist/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Handles the indentation of block elements.\n */\n\n( function() {\n\t'use strict';\n\n\tvar $listItem = CKEDITOR.dtd.$listItem,\n\t\t$list = CKEDITOR.dtd.$list,\n\t\tTRISTATE_DISABLED = CKEDITOR.TRISTATE_DISABLED,\n\t\tTRISTATE_OFF = CKEDITOR.TRISTATE_OFF;\n\n\tCKEDITOR.plugins.add( 'indentblock', {\n\t\trequires: 'indent',\n\t\tinit: function( editor ) {\n\t\t\tvar globalHelpers = CKEDITOR.plugins.indent,\n\t\t\t\tclasses = editor.config.indentClasses;\n\n\t\t\t// Register commands.\n\t\t\tglobalHelpers.registerCommands( editor, {\n\t\t\t\tindentblock: new commandDefinition( editor, 'indentblock', true ),\n\t\t\t\toutdentblock: new commandDefinition( editor, 'outdentblock' )\n\t\t\t} );\n\n\t\t\tfunction commandDefinition() {\n\t\t\t\tglobalHelpers.specificDefinition.apply( this, arguments );\n\n\t\t\t\tthis.allowedContent = {\n\t\t\t\t\t'div h1 h2 h3 h4 h5 h6 ol p pre ul': {\n\t\t\t\t\t\t// Do not add elements, but only text-align style if element is validated by other rule.\n\t\t\t\t\t\tpropertiesOnly: true,\n\t\t\t\t\t\tstyles: !classes ? 'margin-left,margin-right' : null,\n\t\t\t\t\t\tclasses: classes || null\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif ( this.enterBr )\n\t\t\t\t\tthis.allowedContent.div = true;\n\n\t\t\t\tthis.requiredContent = ( this.enterBr ? 'div' : 'p' ) +\n\t\t\t\t\t( classes ? '(' + classes.join( ',' ) + ')' : '{margin-left}' );\n\n\t\t\t\tthis.jobs = {\n\t\t\t\t\t'20': {\n\t\t\t\t\t\trefresh: function( editor, path ) {\n\t\t\t\t\t\t\tvar firstBlock = path.block || path.blockLimit;\n\n\t\t\t\t\t\t\t// Switch context from somewhere inside list item to list item,\n\t\t\t\t\t\t\t// if not found just assign self (doing nothing).\n\t\t\t\t\t\t\tif ( !firstBlock.is( $listItem ) ) {\n\t\t\t\t\t\t\t\tvar ascendant = firstBlock.getAscendant( $listItem );\n\n\t\t\t\t\t\t\t\tfirstBlock = ( ascendant && path.contains( ascendant ) ) || firstBlock;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Switch context from list item to list\n\t\t\t\t\t\t\t// because indentblock can indent entire list\n\t\t\t\t\t\t\t// but not a single list element.\n\n\t\t\t\t\t\t\tif ( firstBlock.is( $listItem ) )\n\t\t\t\t\t\t\t\tfirstBlock = firstBlock.getParent();\n\n\t\t\t\t\t\t\t//\t[-] Context in the path or ENTER_BR\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t//\t\tDon't try to indent if the element is out of\n\t\t\t\t\t\t\t//\t\tthis plugin's scope. This assertion is omitted\n\t\t\t\t\t\t\t//\t\tif ENTER_BR is in use since there may be no block\n\t\t\t\t\t\t\t//\t\tin the path.\n\n\t\t\t\t\t\t\tif ( !this.enterBr && !this.getContext( path ) )\n\t\t\t\t\t\t\t\treturn TRISTATE_DISABLED;\n\n\t\t\t\t\t\t\telse if ( classes ) {\n\n\t\t\t\t\t\t\t\t//\t[+] Context in the path or ENTER_BR\n\t\t\t\t\t\t\t\t//\t[+] IndentClasses\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t//\t\tIf there are indentation classes, check if reached\n\t\t\t\t\t\t\t\t//\t\tthe highest level of indentation. If so, disable\n\t\t\t\t\t\t\t\t//\t\tthe command.\n\n\t\t\t\t\t\t\t\tif ( indentClassLeft.call( this, firstBlock, classes ) )\n\t\t\t\t\t\t\t\t\treturn TRISTATE_OFF;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\treturn TRISTATE_DISABLED;\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t//\t[+] Context in the path or ENTER_BR\n\t\t\t\t\t\t\t\t//\t[-] IndentClasses\n\t\t\t\t\t\t\t\t//\t[+] Indenting\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t//\t\tNo indent-level limitations due to indent classes.\n\t\t\t\t\t\t\t\t//\t\tIndent-like command can always be executed.\n\n\t\t\t\t\t\t\t\tif ( this.isIndent )\n\t\t\t\t\t\t\t\t\treturn TRISTATE_OFF;\n\n\t\t\t\t\t\t\t\t//\t[+] Context in the path or ENTER_BR\n\t\t\t\t\t\t\t\t//\t[-] IndentClasses\n\t\t\t\t\t\t\t\t//\t[-] Indenting\n\t\t\t\t\t\t\t\t//\t[-] Block in the path\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t//\t\tNo block in path. There's no element to apply indentation\n\t\t\t\t\t\t\t\t//\t\tso disable the command.\n\n\t\t\t\t\t\t\t\telse if ( !firstBlock )\n\t\t\t\t\t\t\t\t\treturn TRISTATE_DISABLED;\n\n\t\t\t\t\t\t\t\t//\t[+] Context in the path or ENTER_BR\n\t\t\t\t\t\t\t\t//\t[-] IndentClasses\n\t\t\t\t\t\t\t\t//\t[-] Indenting\n\t\t\t\t\t\t\t\t//\t[+] Block in path.\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t//\t\tNot using indentClasses but there is firstBlock.\n\t\t\t\t\t\t\t\t//\t\tWe can calculate current indentation level and\n\t\t\t\t\t\t\t\t//\t\ttry to increase/decrease it.\n\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\treturn CKEDITOR[\n\t\t\t\t\t\t\t\t\t\t( getIndent( firstBlock ) || 0 ) <= 0 ? 'TRISTATE_DISABLED' : 'TRISTATE_OFF'\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\texec: function( editor ) {\n\t\t\t\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\t\t\t\trange = selection && selection.getRanges()[ 0 ],\n\t\t\t\t\t\t\t\tnearestListBlock;\n\n\t\t\t\t\t\t\t// If there's some list in the path, then it will be\n\t\t\t\t\t\t\t// a full-list indent by increasing or decreasing margin property.\n\t\t\t\t\t\t\tif ( ( nearestListBlock = editor.elementPath().contains( $list ) ) )\n\t\t\t\t\t\t\t\tindentElement.call( this, nearestListBlock, classes );\n\n\t\t\t\t\t\t\t// If no list in the path, use iterator to indent all the possible\n\t\t\t\t\t\t\t// paragraphs in the range, creating them if necessary.\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar iterator = range.createIterator(),\n\t\t\t\t\t\t\t\t\tenterMode = editor.config.enterMode,\n\t\t\t\t\t\t\t\t\tblock;\n\n\t\t\t\t\t\t\t\titerator.enforceRealBlocks = true;\n\t\t\t\t\t\t\t\titerator.enlargeBr = enterMode != CKEDITOR.ENTER_BR;\n\n\t\t\t\t\t\t\t\twhile ( ( block = iterator.getNextParagraph( enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' ) ) ) {\n\t\t\t\t\t\t\t\t\tif ( !block.isReadOnly() )\n\t\t\t\t\t\t\t\t\t\tindentElement.call( this, block, classes );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tCKEDITOR.tools.extend( commandDefinition.prototype, globalHelpers.specificDefinition.prototype, {\n\t\t\t\t// Elements that, if in an elementpath, will be handled by this\n\t\t\t\t// command. They restrict the scope of the plugin.\n\t\t\t\tcontext: { div: 1, dl: 1, h1: 1, h2: 1, h3: 1, h4: 1, h5: 1, h6: 1, ul: 1, ol: 1, p: 1, pre: 1, table: 1 },\n\n\t\t\t\t// A regex built on config#indentClasses to detect whether an\n\t\t\t\t// element has some indentClass or not.\n\t\t\t\tclassNameRegex: classes ? new RegExp( '(?:^|\\\\s+)(' + classes.join( '|' ) + ')(?=$|\\\\s)' ) : null\n\t\t\t} );\n\t\t}\n\t} );\n\n\t// Generic indentation procedure for indentation of any element\n\t// either with margin property or config#indentClass.\n\tfunction indentElement( element, classes, dir ) {\n\t\tif ( element.getCustomData( 'indent_processed' ) )\n\t\t\treturn;\n\n\t\tvar editor = this.editor,\n\t\t\tisIndent = this.isIndent;\n\n\t\tif ( classes ) {\n\t\t\t// Transform current class f to indent step index.\n\t\t\tvar indentClass = element.$.className.match( this.classNameRegex ),\n\t\t\t\tindentStep = 0;\n\n\t\t\tif ( indentClass ) {\n\t\t\t\tindentClass = indentClass[ 1 ];\n\t\t\t\tindentStep = CKEDITOR.tools.indexOf( classes, indentClass ) + 1;\n\t\t\t}\n\n\t\t\t// Operate on indent step index, transform indent step index\n\t\t\t// back to class name.\n\t\t\tif ( ( indentStep += isIndent ? 1 : -1 ) < 0 )\n\t\t\t\treturn;\n\n\t\t\tindentStep = Math.min( indentStep, classes.length );\n\t\t\tindentStep = Math.max( indentStep, 0 );\n\t\t\telement.$.className = CKEDITOR.tools.ltrim( element.$.className.replace( this.classNameRegex, '' ) );\n\n\t\t\tif ( indentStep > 0 )\n\t\t\t\telement.addClass( classes[ indentStep - 1 ] );\n\t\t} else {\n\t\t\tvar indentCssProperty = getIndentCss( element, dir ),\n\t\t\t\tcurrentOffset = parseInt( element.getStyle( indentCssProperty ), 10 ),\n\t\t\t\tindentOffset = editor.config.indentOffset || 40;\n\n\t\t\tif ( isNaN( currentOffset ) )\n\t\t\t\tcurrentOffset = 0;\n\n\t\t\tcurrentOffset += ( isIndent ? 1 : -1 ) * indentOffset;\n\n\t\t\tif ( currentOffset < 0 )\n\t\t\t\treturn;\n\n\t\t\tcurrentOffset = Math.max( currentOffset, 0 );\n\t\t\tcurrentOffset = Math.ceil( currentOffset / indentOffset ) * indentOffset;\n\n\t\t\telement.setStyle(\n\t\t\t\tindentCssProperty,\n\t\t\t\tcurrentOffset ? currentOffset + ( editor.config.indentUnit || 'px' ) : ''\n\t\t\t);\n\n\t\t\tif ( element.getAttribute( 'style' ) === '' )\n\t\t\t\telement.removeAttribute( 'style' );\n\t\t}\n\n\t\tCKEDITOR.dom.element.setMarker( this.database, element, 'indent_processed', 1 );\n\n\t\treturn;\n\t}\n\n\t// Method that checks if current indentation level for an element\n\t// reached the limit determined by config#indentClasses.\n\tfunction indentClassLeft( node, classes ) {\n\t\tvar indentClass = node.$.className.match( this.classNameRegex ),\n\t\t\tisIndent = this.isIndent;\n\n\t\t// If node has one of the indentClasses:\n\t\t//\t* If it holds the topmost indentClass, then\n\t\t//\t  no more classes have left.\n\t\t//\t* If it holds any other indentClass, it can use the next one\n\t\t//\t  or the previous one.\n\t\t//\t* Outdent is always possible. We can remove indentClass.\n\t\tif ( indentClass )\n\t\t\treturn isIndent ? indentClass[ 1 ] != classes.slice( -1 ) : true;\n\n\t\t// If node has no class which belongs to indentClasses,\n\t\t// then it is at 0-level. It can be indented but not outdented.\n\t\telse\n\t\t\treturn isIndent;\n\t}\n\n\t// Determines indent CSS property for an element according to\n\t// what is the direction of such element. It can be either `margin-left`\n\t// or `margin-right`.\n\tfunction getIndentCss( element, dir ) {\n\t\treturn ( dir || element.getComputedStyle( 'direction' ) ) == 'ltr' ? 'margin-left' : 'margin-right';\n\t}\n\n\t// Return the numerical indent value of margin-left|right of an element,\n\t// considering element's direction. If element has no margin specified,\n\t// NaN is returned.\n\tfunction getIndent( element ) {\n\t\treturn parseInt( element.getStyle( getIndentCss( element ) ), 10 );\n\t}\n} )();\n\n/**\n * A list of classes to use for indenting the contents. If set to `null`, no classes will be used\n * and instead the {@link #indentUnit} and {@link #indentOffset} properties will be used.\n *\n *\t\t// Use the 'Indent1', 'Indent2', 'Indent3' classes.\n *\t\tconfig.indentClasses = ['Indent1', 'Indent2', 'Indent3'];\n *\n * @cfg {Array} [indentClasses=null]\n * @member CKEDITOR.config\n */\n\n/**\n * The size in {@link CKEDITOR.config#indentUnit indentation units} of each indentation step.\n *\n *\t\tconfig.indentOffset = 4;\n *\n * @cfg {Number} [indentOffset=40]\n * @member CKEDITOR.config\n */\n\n/**\n * The unit used for {@link CKEDITOR.config#indentOffset indentation offset}.\n *\n *\t\tconfig.indentUnit = 'em';\n *\n * @cfg {String} [indentUnit='px']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/indentblock/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Justify commands.\n */\n\n( function() {\n\tfunction getAlignment( element, useComputedState ) {\n\t\tuseComputedState = useComputedState === undefined || useComputedState;\n\n\t\tvar align;\n\t\tif ( useComputedState )\n\t\t\talign = element.getComputedStyle( 'text-align' );\n\t\telse {\n\t\t\twhile ( !element.hasAttribute || !( element.hasAttribute( 'align' ) || element.getStyle( 'text-align' ) ) ) {\n\t\t\t\tvar parent = element.getParent();\n\t\t\t\tif ( !parent )\n\t\t\t\t\tbreak;\n\t\t\t\telement = parent;\n\t\t\t}\n\t\t\talign = element.getStyle( 'text-align' ) || element.getAttribute( 'align' ) || '';\n\t\t}\n\n\t\t// Sometimes computed values doesn't tell.\n\t\talign && ( align = align.replace( /(?:-(?:moz|webkit)-)?(?:start|auto)/i, '' ) );\n\n\t\t!align && useComputedState && ( align = element.getComputedStyle( 'direction' ) == 'rtl' ? 'right' : 'left' );\n\n\t\treturn align;\n\t}\n\n\tfunction justifyCommand( editor, name, value ) {\n\t\tthis.editor = editor;\n\t\tthis.name = name;\n\t\tthis.value = value;\n\t\tthis.context = 'p';\n\n\t\tvar classes = editor.config.justifyClasses,\n\t\t\tblockTag = editor.config.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div';\n\n\t\tif ( classes ) {\n\t\t\tswitch ( value ) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tthis.cssClassName = classes[ 0 ];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tthis.cssClassName = classes[ 1 ];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tthis.cssClassName = classes[ 2 ];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'justify':\n\t\t\t\t\tthis.cssClassName = classes[ 3 ];\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.cssClassRegex = new RegExp( '(?:^|\\\\s+)(?:' + classes.join( '|' ) + ')(?=$|\\\\s)' );\n\t\t\tthis.requiredContent = blockTag + '(' + this.cssClassName + ')';\n\t\t}\n\t\telse {\n\t\t\tthis.requiredContent = blockTag + '{text-align}';\n\t\t}\n\n\t\tthis.allowedContent = {\n\t\t\t'caption div h1 h2 h3 h4 h5 h6 p pre td th li': {\n\t\t\t\t// Do not add elements, but only text-align style if element is validated by other rule.\n\t\t\t\tpropertiesOnly: true,\n\t\t\t\tstyles: this.cssClassName ? null : 'text-align',\n\t\t\t\tclasses: this.cssClassName || null\n\t\t\t}\n\t\t};\n\n\t\t// In enter mode BR we need to allow here for div, because when non other\n\t\t// feature allows div justify is the only plugin that uses it.\n\t\tif ( editor.config.enterMode == CKEDITOR.ENTER_BR )\n\t\t\tthis.allowedContent.div = true;\n\t}\n\n\tfunction onDirChanged( e ) {\n\t\tvar editor = e.editor;\n\n\t\tvar range = editor.createRange();\n\t\trange.setStartBefore( e.data.node );\n\t\trange.setEndAfter( e.data.node );\n\n\t\tvar walker = new CKEDITOR.dom.walker( range ),\n\t\t\tnode;\n\n\t\twhile ( ( node = walker.next() ) ) {\n\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t// A child with the defined dir is to be ignored.\n\t\t\t\tif ( !node.equals( e.data.node ) && node.getDirection() ) {\n\t\t\t\t\trange.setStartAfter( node );\n\t\t\t\t\twalker = new CKEDITOR.dom.walker( range );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Switch the alignment.\n\t\t\t\tvar classes = editor.config.justifyClasses;\n\t\t\t\tif ( classes ) {\n\t\t\t\t\t// The left align class.\n\t\t\t\t\tif ( node.hasClass( classes[ 0 ] ) ) {\n\t\t\t\t\t\tnode.removeClass( classes[ 0 ] );\n\t\t\t\t\t\tnode.addClass( classes[ 2 ] );\n\t\t\t\t\t}\n\t\t\t\t\t// The right align class.\n\t\t\t\t\telse if ( node.hasClass( classes[ 2 ] ) ) {\n\t\t\t\t\t\tnode.removeClass( classes[ 2 ] );\n\t\t\t\t\t\tnode.addClass( classes[ 0 ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Always switch CSS margins.\n\t\t\t\tvar style = 'text-align';\n\t\t\t\tvar align = node.getStyle( style );\n\n\t\t\t\tif ( align == 'left' )\n\t\t\t\t\tnode.setStyle( style, 'right' );\n\t\t\t\telse if ( align == 'right' )\n\t\t\t\t\tnode.setStyle( style, 'left' );\n\t\t\t}\n\t\t}\n\t}\n\n\tjustifyCommand.prototype = {\n\t\texec: function( editor ) {\n\t\t\tvar selection = editor.getSelection(),\n\t\t\t\tenterMode = editor.config.enterMode;\n\n\t\t\tif ( !selection )\n\t\t\t\treturn;\n\n\t\t\tvar bookmarks = selection.createBookmarks(),\n\t\t\t\tranges = selection.getRanges();\n\n\t\t\tvar cssClassName = this.cssClassName,\n\t\t\t\titerator, block;\n\n\t\t\tvar useComputedState = editor.config.useComputedState;\n\t\t\tuseComputedState = useComputedState === undefined || useComputedState;\n\n\t\t\tfor ( var i = ranges.length - 1; i >= 0; i-- ) {\n\t\t\t\titerator = ranges[ i ].createIterator();\n\t\t\t\titerator.enlargeBr = enterMode != CKEDITOR.ENTER_BR;\n\n\t\t\t\twhile ( ( block = iterator.getNextParagraph( enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' ) ) ) {\n\t\t\t\t\tif ( block.isReadOnly() )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tblock.removeAttribute( 'align' );\n\t\t\t\t\tblock.removeStyle( 'text-align' );\n\n\t\t\t\t\t// Remove any of the alignment classes from the className.\n\t\t\t\t\tvar className = cssClassName && ( block.$.className = CKEDITOR.tools.ltrim( block.$.className.replace( this.cssClassRegex, '' ) ) );\n\n\t\t\t\t\tvar apply = ( this.state == CKEDITOR.TRISTATE_OFF ) && ( !useComputedState || ( getAlignment( block, true ) != this.value ) );\n\n\t\t\t\t\tif ( cssClassName ) {\n\t\t\t\t\t\t// Append the desired class name.\n\t\t\t\t\t\tif ( apply )\n\t\t\t\t\t\t\tblock.addClass( cssClassName );\n\t\t\t\t\t\telse if ( !className )\n\t\t\t\t\t\t\tblock.removeAttribute( 'class' );\n\t\t\t\t\t} else if ( apply ) {\n\t\t\t\t\t\tblock.setStyle( 'text-align', this.value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\teditor.focus();\n\t\t\teditor.forceNextSelectionCheck();\n\t\t\tselection.selectBookmarks( bookmarks );\n\t\t},\n\n\t\trefresh: function( editor, path ) {\n\t\t\tvar firstBlock = path.block || path.blockLimit;\n\n\t\t\tthis.setState( firstBlock.getName() != 'body' && getAlignment( firstBlock, this.editor.config.useComputedState ) == this.value ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t\t}\n\t};\n\n\tCKEDITOR.plugins.add( 'justify', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'justifyblock,justifycenter,justifyleft,justifyright', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\tvar left = new justifyCommand( editor, 'justifyleft', 'left' ),\n\t\t\t\tcenter = new justifyCommand( editor, 'justifycenter', 'center' ),\n\t\t\t\tright = new justifyCommand( editor, 'justifyright', 'right' ),\n\t\t\t\tjustify = new justifyCommand( editor, 'justifyblock', 'justify' );\n\n\t\t\teditor.addCommand( 'justifyleft', left );\n\t\t\teditor.addCommand( 'justifycenter', center );\n\t\t\teditor.addCommand( 'justifyright', right );\n\t\t\teditor.addCommand( 'justifyblock', justify );\n\n\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\teditor.ui.addButton( 'JustifyLeft', {\n\t\t\t\t\tlabel: editor.lang.justify.left,\n\t\t\t\t\tcommand: 'justifyleft',\n\t\t\t\t\ttoolbar: 'align,10'\n\t\t\t\t} );\n\t\t\t\teditor.ui.addButton( 'JustifyCenter', {\n\t\t\t\t\tlabel: editor.lang.justify.center,\n\t\t\t\t\tcommand: 'justifycenter',\n\t\t\t\t\ttoolbar: 'align,20'\n\t\t\t\t} );\n\t\t\t\teditor.ui.addButton( 'JustifyRight', {\n\t\t\t\t\tlabel: editor.lang.justify.right,\n\t\t\t\t\tcommand: 'justifyright',\n\t\t\t\t\ttoolbar: 'align,30'\n\t\t\t\t} );\n\t\t\t\teditor.ui.addButton( 'JustifyBlock', {\n\t\t\t\t\tlabel: editor.lang.justify.block,\n\t\t\t\t\tcommand: 'justifyblock',\n\t\t\t\t\ttoolbar: 'align,40'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditor.on( 'dirChanged', onDirChanged );\n\t\t}\n\t} );\n} )();\n\n/**\n * List of classes to use for aligning the contents. If it's `null`, no classes will be used\n * and instead the corresponding CSS values will be used.\n *\n * The array should contain 4 members, in the following order: left, center, right, justify.\n *\n *\t\t// Use the classes 'AlignLeft', 'AlignCenter', 'AlignRight', 'AlignJustify'\n *\t\tconfig.justifyClasses = [ 'AlignLeft', 'AlignCenter', 'AlignRight', 'AlignJustify' ];\n *\n * @cfg {Array} [justifyClasses=null]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/justify/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The [Language](http://ckeditor.com/addon/language) plugin.\n */\n\n'use strict';\n\n( function() {\n\n\tvar allowedContent = 'span[!lang,!dir]',\n\t\trequiredContent = 'span[lang,dir]';\n\n\tCKEDITOR.plugins.add( 'language', {\n\t\trequires: 'menubutton',\n\t\tlang: 'ar,bg,ca,cs,cy,da,de,de-ch,el,en,en-gb,eo,es,eu,fa,fi,fo,fr,gl,he,hr,hu,id,it,ja,km,ko,ku,nb,nl,no,pl,pt,pt-br,ru,sk,sl,sq,sv,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\ticons: 'language', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\n\t\tinit: function( editor ) {\n\t\t\tvar languagesConfigStrings = ( editor.config.language_list || [ 'ar:Arabic:rtl', 'fr:French', 'es:Spanish' ] ),\n\t\t\t\tplugin = this,\n\t\t\t\tlang = editor.lang.language,\n\t\t\t\titems = {},\n\t\t\t\tparts,\n\t\t\t\tcurLanguageId, // 2-letter language identifier.\n\t\t\t\tlanguageButtonId, // Will store button namespaced identifier, like \"language_en\".\n\t\t\t\ti;\n\n\t\t\t// Registers command.\n\t\t\teditor.addCommand( 'language', {\n\t\t\t\tallowedContent: allowedContent,\n\t\t\t\trequiredContent: requiredContent,\n\t\t\t\tcontextSensitive: true,\n\t\t\t\texec: function( editor, languageId ) {\n\t\t\t\t\tvar item = items[ 'language_' + languageId ];\n\n\t\t\t\t\tif ( item )\n\t\t\t\t\t\teditor[ item.style.checkActive( editor.elementPath(), editor ) ? 'removeStyle' : 'applyStyle' ]( item.style );\n\t\t\t\t},\n\t\t\t\trefresh: function( editor ) {\n\t\t\t\t\tthis.setState( plugin.getCurrentLangElement( editor ) ?\n\t\t\t\t\t\tCKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Parse languagesConfigStrings, and create items entry for each lang.\n\t\t\tfor ( i = 0; i < languagesConfigStrings.length; i++ ) {\n\t\t\t\tparts = languagesConfigStrings[ i ].split( ':' );\n\t\t\t\tcurLanguageId = parts[ 0 ];\n\t\t\t\tlanguageButtonId = 'language_' + curLanguageId;\n\n\t\t\t\titems[ languageButtonId ] = {\n\t\t\t\t\tlabel: parts[ 1 ],\n\t\t\t\t\tlangId: curLanguageId,\n\t\t\t\t\tgroup: 'language',\n\t\t\t\t\torder: i,\n\t\t\t\t\t// Tells if this language is left-to-right oriented (default: true).\n\t\t\t\t\tltr: ( '' + parts[ 2 ] ).toLowerCase() != 'rtl',\n\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\teditor.execCommand( 'language', this.langId );\n\t\t\t\t\t},\n\t\t\t\t\trole: 'menuitemcheckbox'\n\t\t\t\t};\n\n\t\t\t\t// Init style property.\n\t\t\t\titems[ languageButtonId ].style = new CKEDITOR.style( {\n\t\t\t\t\telement: 'span',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tlang: curLanguageId,\n\t\t\t\t\t\tdir: items[ languageButtonId ].ltr ? 'ltr' : 'rtl'\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Remove language indicator button.\n\t\t\titems.language_remove = {\n\t\t\t\tlabel: lang.remove,\n\t\t\t\tgroup: 'language_remove',\n\t\t\t\tstate: CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\torder: items.length,\n\t\t\t\tonClick: function() {\n\t\t\t\t\tvar currentLanguagedElement = plugin.getCurrentLangElement( editor );\n\n\t\t\t\t\tif ( currentLanguagedElement )\n\t\t\t\t\t\teditor.execCommand( 'language', currentLanguagedElement.getAttribute( 'lang' ) );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Initialize groups for menu.\n\t\t\teditor.addMenuGroup( 'language', 1 );\n\t\t\teditor.addMenuGroup( 'language_remove' ); // Group order is skipped intentionally, it will be placed at the end.\n\t\t\teditor.addMenuItems( items );\n\n\t\t\teditor.ui.add( 'Language', CKEDITOR.UI_MENUBUTTON, {\n\t\t\t\tlabel: lang.button,\n\t\t\t\t// MenuButtons do not (yet) has toFeature method, so we cannot do this:\n\t\t\t\t// toFeature: function( editor ) { return editor.getCommand( 'language' ); }\n\t\t\t\t// Set feature's properties directly on button.\n\t\t\t\tallowedContent: allowedContent,\n\t\t\t\trequiredContent: requiredContent,\n\t\t\t\ttoolbar: 'bidi,30',\n\t\t\t\tcommand: 'language',\n\t\t\t\tonMenu: function() {\n\t\t\t\t\tvar activeItems = {},\n\t\t\t\t\t\tcurrentLanguagedElement = plugin.getCurrentLangElement( editor );\n\n\t\t\t\t\tfor ( var prop in items )\n\t\t\t\t\t\tactiveItems[ prop ] = CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\tactiveItems.language_remove = currentLanguagedElement ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;\n\n\t\t\t\t\tif ( currentLanguagedElement )\n\t\t\t\t\t\tactiveItems[ 'language_' + currentLanguagedElement.getAttribute( 'lang' ) ] = CKEDITOR.TRISTATE_ON;\n\n\t\t\t\t\treturn activeItems;\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\n\t\t// Gets the first language element for the current editor selection.\n\t\t// @param {CKEDITOR.editor} editor\n\t\t// @returns {CKEDITOR.dom.element} The language element, if any.\n\t\tgetCurrentLangElement: function( editor ) {\n\t\t\tvar elementPath = editor.elementPath(),\n\t\t\t\tactivePath = elementPath && elementPath.elements,\n\t\t\t\tpathMember, ret;\n\n\t\t\t// IE8: upon initialization if there is no path elementPath() returns null.\n\t\t\tif ( elementPath ) {\n\t\t\t\tfor ( var i = 0; i < activePath.length; i++ ) {\n\t\t\t\t\tpathMember = activePath[ i ];\n\n\t\t\t\t\tif ( !ret && pathMember.getName() == 'span' && pathMember.hasAttribute( 'dir' ) && pathMember.hasAttribute( 'lang' ) )\n\t\t\t\t\t\tret = pathMember;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\t} );\n} )();\n\n/**\n * Specifies the list of languages available in the\n * [Language](http://ckeditor.com/addon/language) plugin. Each entry\n * should be a string in the following format:\n *\n *\t\t<languageCode>:<languageLabel>[:<textDirection>]\n *\n * * _languageCode_: The language code used for the `lang` attribute in ISO 639 format.\n * \tLanguage codes can be found [here](http://www.loc.gov/standards/iso639-2/php/English_list.php).\n * \tYou can use both 2-letter ISO-639-1 codes and 3-letter ISO-639-2 codes, though\n * \tfor consistency it is recommended to stick to ISO-639-1 2-letter codes.\n * * _languageLabel_: The label to show for this language in the list.\n * * _textDirection_: (optional) One of the following values: `rtl` or `ltr`,\n * \tindicating the reading direction of the language. Defaults to `ltr`.\n *\n * See the [SDK sample](http://sdk.ckeditor.com/samples/language.html).\n *\n *\t\tconfig.language_list = [ 'he:Hebrew:rtl', 'pt:Portuguese', 'de:German' ];\n *\n * @cfg {Array} [language_list = [ 'ar:Arabic:rtl', 'fr:French', 'es:Spanish' ]]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/language/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n( function() {\n\tCKEDITOR.plugins.add( 'link', {\n\t\trequires: 'dialog,fakeobjects',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'anchor,anchor-rtl,link,unlink', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tonLoad: function() {\n\t\t\t// Add the CSS styles for anchor placeholders.\n\t\t\tvar iconPath = CKEDITOR.getUrl( this.path + 'images' + ( CKEDITOR.env.hidpi ? '/hidpi' : '' ) + '/anchor.png' ),\n\t\t\t\tbaseStyle = 'background:url(' + iconPath + ') no-repeat %1 center;border:1px dotted #00f;background-size:16px;';\n\n\t\t\tvar template = '.%2 a.cke_anchor,' +\n\t\t\t\t'.%2 a.cke_anchor_empty' +\n\t\t\t\t',.cke_editable.%2 a[name]' +\n\t\t\t\t',.cke_editable.%2 a[data-cke-saved-name]' +\n\t\t\t\t'{' +\n\t\t\t\t\tbaseStyle +\n\t\t\t\t\t'padding-%1:18px;' +\n\t\t\t\t\t// Show the arrow cursor for the anchor image (FF at least).\n\t\t\t\t\t'cursor:auto;' +\n\t\t\t\t'}' +\n\t\t\t\t'.%2 img.cke_anchor' +\n\t\t\t\t'{' +\n\t\t\t\t\tbaseStyle +\n\t\t\t\t\t'width:16px;' +\n\t\t\t\t\t'min-height:15px;' +\n\t\t\t\t\t// The default line-height on IE.\n\t\t\t\t\t'height:1.15em;' +\n\t\t\t\t\t// Opera works better with \"middle\" (even if not perfect)\n\t\t\t\t\t'vertical-align:text-bottom;' +\n\t\t\t\t'}';\n\n\t\t\t// Styles with contents direction awareness.\n\t\t\tfunction cssWithDir( dir ) {\n\t\t\t\treturn template.replace( /%1/g, dir == 'rtl' ? 'right' : 'left' ).replace( /%2/g, 'cke_contents_' + dir );\n\t\t\t}\n\n\t\t\tCKEDITOR.addCss( cssWithDir( 'ltr' ) + cssWithDir( 'rtl' ) );\n\t\t},\n\n\t\tinit: function( editor ) {\n\t\t\tvar allowed = 'a[!href]',\n\t\t\t\trequired = 'a[href]';\n\n\t\t\tif ( CKEDITOR.dialog.isTabEnabled( editor, 'link', 'advanced' ) )\n\t\t\t\tallowed = allowed.replace( ']', ',accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)' );\n\t\t\tif ( CKEDITOR.dialog.isTabEnabled( editor, 'link', 'target' ) )\n\t\t\t\tallowed = allowed.replace( ']', ',target,onclick]' );\n\n\t\t\t// Add the link and unlink buttons.\n\t\t\teditor.addCommand( 'link', new CKEDITOR.dialogCommand( 'link', {\n\t\t\t\tallowedContent: allowed,\n\t\t\t\trequiredContent: required\n\t\t\t} ) );\n\t\t\teditor.addCommand( 'anchor', new CKEDITOR.dialogCommand( 'anchor', {\n\t\t\t\tallowedContent: 'a[!name,id]',\n\t\t\t\trequiredContent: 'a[name]'\n\t\t\t} ) );\n\t\t\teditor.addCommand( 'unlink', new CKEDITOR.unlinkCommand() );\n\t\t\teditor.addCommand( 'removeAnchor', new CKEDITOR.removeAnchorCommand() );\n\n\t\t\teditor.setKeystroke( CKEDITOR.CTRL + 76 /*L*/, 'link' );\n\n\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\teditor.ui.addButton( 'Link', {\n\t\t\t\t\tlabel: editor.lang.link.toolbar,\n\t\t\t\t\tcommand: 'link',\n\t\t\t\t\ttoolbar: 'links,10'\n\t\t\t\t} );\n\t\t\t\teditor.ui.addButton( 'Unlink', {\n\t\t\t\t\tlabel: editor.lang.link.unlink,\n\t\t\t\t\tcommand: 'unlink',\n\t\t\t\t\ttoolbar: 'links,20'\n\t\t\t\t} );\n\t\t\t\teditor.ui.addButton( 'Anchor', {\n\t\t\t\t\tlabel: editor.lang.link.anchor.toolbar,\n\t\t\t\t\tcommand: 'anchor',\n\t\t\t\t\ttoolbar: 'links,30'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tCKEDITOR.dialog.add( 'link', this.path + 'dialogs/link.js' );\n\t\t\tCKEDITOR.dialog.add( 'anchor', this.path + 'dialogs/anchor.js' );\n\n\t\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\t\tvar element = CKEDITOR.plugins.link.getSelectedLink( editor ) || evt.data.element;\n\n\t\t\t\tif ( !element.isReadOnly() ) {\n\t\t\t\t\tif ( element.is( 'a' ) ) {\n\t\t\t\t\t\tevt.data.dialog = ( element.getAttribute( 'name' ) && ( !element.getAttribute( 'href' ) || !element.getChildCount() ) ) ? 'anchor' : 'link';\n\n\t\t\t\t\t\t// Pass the link to be selected along with event data.\n\t\t\t\t\t\tevt.data.link = element;\n\t\t\t\t\t} else if ( CKEDITOR.plugins.link.tryRestoreFakeAnchor( editor, element ) ) {\n\t\t\t\t\t\tevt.data.dialog = 'anchor';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, null, null, 0 );\n\n\t\t\t// If event was cancelled, link passed in event data will not be selected.\n\t\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\t\t// Make sure both links and anchors are selected (#11822).\n\t\t\t\tif ( evt.data.dialog in { link: 1, anchor: 1 } && evt.data.link )\n\t\t\t\t\teditor.getSelection().selectElement( evt.data.link );\n\t\t\t}, null, null, 20 );\n\n\t\t\t// If the \"menu\" plugin is loaded, register the menu items.\n\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\teditor.addMenuItems( {\n\t\t\t\t\tanchor: {\n\t\t\t\t\t\tlabel: editor.lang.link.anchor.menu,\n\t\t\t\t\t\tcommand: 'anchor',\n\t\t\t\t\t\tgroup: 'anchor',\n\t\t\t\t\t\torder: 1\n\t\t\t\t\t},\n\n\t\t\t\t\tremoveAnchor: {\n\t\t\t\t\t\tlabel: editor.lang.link.anchor.remove,\n\t\t\t\t\t\tcommand: 'removeAnchor',\n\t\t\t\t\t\tgroup: 'anchor',\n\t\t\t\t\t\torder: 5\n\t\t\t\t\t},\n\n\t\t\t\t\tlink: {\n\t\t\t\t\t\tlabel: editor.lang.link.menu,\n\t\t\t\t\t\tcommand: 'link',\n\t\t\t\t\t\tgroup: 'link',\n\t\t\t\t\t\torder: 1\n\t\t\t\t\t},\n\n\t\t\t\t\tunlink: {\n\t\t\t\t\t\tlabel: editor.lang.link.unlink,\n\t\t\t\t\t\tcommand: 'unlink',\n\t\t\t\t\t\tgroup: 'link',\n\t\t\t\t\t\torder: 5\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\t\tif ( editor.contextMenu ) {\n\t\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\t\tif ( !element || element.isReadOnly() )\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\tvar anchor = CKEDITOR.plugins.link.tryRestoreFakeAnchor( editor, element );\n\n\t\t\t\t\tif ( !anchor && !( anchor = CKEDITOR.plugins.link.getSelectedLink( editor ) ) )\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\tvar menu = {};\n\n\t\t\t\t\tif ( anchor.getAttribute( 'href' ) && anchor.getChildCount() )\n\t\t\t\t\t\tmenu = { link: CKEDITOR.TRISTATE_OFF, unlink: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\tif ( anchor && anchor.hasAttribute( 'name' ) )\n\t\t\t\t\t\tmenu.anchor = menu.removeAnchor = CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\treturn menu;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tthis.compiledProtectionFunction = getCompiledProtectionFunction( editor );\n\t\t},\n\n\t\tafterInit: function( editor ) {\n\t\t\t// Empty anchors upcasting to fake objects.\n\t\t\teditor.dataProcessor.dataFilter.addRules( {\n\t\t\t\telements: {\n\t\t\t\t\ta: function( element ) {\n\t\t\t\t\t\tif ( !element.attributes.name )\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\tif ( !element.children.length )\n\t\t\t\t\t\t\treturn editor.createFakeParserElement( element, 'cke_anchor', 'anchor' );\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tvar pathFilters = editor._.elementsPath && editor._.elementsPath.filters;\n\t\t\tif ( pathFilters ) {\n\t\t\t\tpathFilters.push( function( element, name ) {\n\t\t\t\t\tif ( name == 'a' ) {\n\t\t\t\t\t\tif ( CKEDITOR.plugins.link.tryRestoreFakeAnchor( editor, element ) || ( element.getAttribute( 'name' ) && ( !element.getAttribute( 'href' ) || !element.getChildCount() ) ) )\n\t\t\t\t\t\t\treturn 'anchor';\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n\n\t// Loads the parameters in a selected link to the link dialog fields.\n\tvar javascriptProtocolRegex = /^javascript:/,\n\t\temailRegex = /^mailto:([^?]+)(?:\\?(.+))?$/,\n\t\temailSubjectRegex = /subject=([^;?:@&=$,\\/]*)/i,\n\t\temailBodyRegex = /body=([^;?:@&=$,\\/]*)/i,\n\t\tanchorRegex = /^#(.*)$/,\n\t\turlRegex = /^((?:http|https|ftp|news):\\/\\/)?(.*)$/,\n\t\tselectableTargets = /^(_(?:self|top|parent|blank))$/,\n\t\tencodedEmailLinkRegex = /^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,\n\t\tfunctionCallProtectedEmailLinkRegex = /^javascript:([^(]+)\\(([^)]+)\\)$/,\n\t\tpopupRegex = /\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,\n\t\tpopupFeaturesRegex = /(?:^|,)([^=]+)=(\\d+|yes|no)/gi;\n\n\tvar advAttrNames = {\n\t\tid: 'advId',\n\t\tdir: 'advLangDir',\n\t\taccessKey: 'advAccessKey',\n\t\t// 'data-cke-saved-name': 'advName',\n\t\tname: 'advName',\n\t\tlang: 'advLangCode',\n\t\ttabindex: 'advTabIndex',\n\t\ttitle: 'advTitle',\n\t\ttype: 'advContentType',\n\t\t'class': 'advCSSClasses',\n\t\tcharset: 'advCharset',\n\t\tstyle: 'advStyles',\n\t\trel: 'advRel'\n\t};\n\n\tfunction unescapeSingleQuote( str ) {\n\t\treturn str.replace( /\\\\'/g, '\\'' );\n\t}\n\n\tfunction escapeSingleQuote( str ) {\n\t\treturn str.replace( /'/g, '\\\\$&' );\n\t}\n\n\tfunction protectEmailAddressAsEncodedString( address ) {\n\t\tvar charCode,\n\t\t\tlength = address.length,\n\t\t\tencodedChars = [];\n\n\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\tcharCode = address.charCodeAt( i );\n\t\t\tencodedChars.push( charCode );\n\t\t}\n\n\t\treturn 'String.fromCharCode(' + encodedChars.join( ',' ) + ')';\n\t}\n\n\tfunction protectEmailLinkAsFunction( editor, email ) {\n\t\tvar plugin = editor.plugins.link,\n\t\t\tname = plugin.compiledProtectionFunction.name,\n\t\t\tparams = plugin.compiledProtectionFunction.params,\n\t\t\tparamName, paramValue, retval;\n\n\t\tretval = [ name, '(' ];\n\t\tfor ( var i = 0; i < params.length; i++ ) {\n\t\t\tparamName = params[ i ].toLowerCase();\n\t\t\tparamValue = email[ paramName ];\n\n\t\t\ti > 0 && retval.push( ',' );\n\t\t\tretval.push( '\\'', paramValue ? escapeSingleQuote( encodeURIComponent( email[ paramName ] ) ) : '', '\\'' );\n\t\t}\n\t\tretval.push( ')' );\n\t\treturn retval.join( '' );\n\t}\n\n\tfunction getCompiledProtectionFunction( editor ) {\n\t\tvar emailProtection = editor.config.emailProtection || '',\n\t\t\tcompiledProtectionFunction;\n\n\t\t// Compile the protection function pattern.\n\t\tif ( emailProtection && emailProtection != 'encode' ) {\n\t\t\tcompiledProtectionFunction = {};\n\n\t\t\temailProtection.replace( /^([^(]+)\\(([^)]+)\\)$/, function( match, funcName, params ) {\n\t\t\t\tcompiledProtectionFunction.name = funcName;\n\t\t\t\tcompiledProtectionFunction.params = [];\n\t\t\t\tparams.replace( /[^,\\s]+/g, function( param ) {\n\t\t\t\t\tcompiledProtectionFunction.params.push( param );\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t\treturn compiledProtectionFunction;\n\t}\n\n\t/**\n\t * Set of Link plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.link = {\n\t\t/**\n\t\t * Get the surrounding link element of the current selection.\n\t\t *\n\t\t *\t\tCKEDITOR.plugins.link.getSelectedLink( editor );\n\t\t *\n\t\t *\t\t// The following selections will all return the link element.\n\t\t *\n\t\t *\t\t<a href=\"#\">li^nk</a>\n\t\t *\t\t<a href=\"#\">[link]</a>\n\t\t *\t\ttext[<a href=\"#\">link]</a>\n\t\t *\t\t<a href=\"#\">li[nk</a>]\n\t\t *\t\t[<b><a href=\"#\">li]nk</a></b>]\n\t\t *\t\t[<a href=\"#\"><b>li]nk</b></a>\n\t\t *\n\t\t * @since 3.2.1\n\t\t * @param {CKEDITOR.editor} editor\n\t\t */\n\t\tgetSelectedLink: function( editor ) {\n\t\t\tvar selection = editor.getSelection();\n\t\t\tvar selectedElement = selection.getSelectedElement();\n\t\t\tif ( selectedElement && selectedElement.is( 'a' ) )\n\t\t\t\treturn selectedElement;\n\n\t\t\tvar range = selection.getRanges()[ 0 ];\n\n\t\t\tif ( range ) {\n\t\t\t\trange.shrink( CKEDITOR.SHRINK_TEXT );\n\t\t\t\treturn editor.elementPath( range.getCommonAncestor() ).contains( 'a', 1 );\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Collects anchors available in the editor (i.e. used by the Link plugin).\n\t\t * Note that the scope of search is different for inline (the \"global\" document) and\n\t\t * classic (`iframe`-based) editors (the \"inner\" document).\n\t\t *\n\t\t * @since 4.3.3\n\t\t * @param {CKEDITOR.editor} editor\n\t\t * @returns {CKEDITOR.dom.element[]} An array of anchor elements.\n\t\t */\n\t\tgetEditorAnchors: function( editor ) {\n\t\t\tvar editable = editor.editable(),\n\n\t\t\t\t// The scope of search for anchors is the entire document for inline editors\n\t\t\t\t// and editor's editable for classic editor/divarea (#11359).\n\t\t\t\tscope = ( editable.isInline() && !editor.plugins.divarea ) ? editor.document : editable,\n\n\t\t\t\tlinks = scope.getElementsByTag( 'a' ),\n\t\t\t\timgs = scope.getElementsByTag( 'img' ),\n\t\t\t\tanchors = [],\n\t\t\t\ti = 0,\n\t\t\t\titem;\n\n\t\t\t// Retrieve all anchors within the scope.\n\t\t\twhile ( ( item = links.getItem( i++ ) ) ) {\n\t\t\t\tif ( item.data( 'cke-saved-name' ) || item.hasAttribute( 'name' ) ) {\n\t\t\t\t\tanchors.push( {\n\t\t\t\t\t\tname: item.data( 'cke-saved-name' ) || item.getAttribute( 'name' ),\n\t\t\t\t\t\tid: item.getAttribute( 'id' )\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Retrieve all \"fake anchors\" within the scope.\n\t\t\ti = 0;\n\n\t\t\twhile ( ( item = imgs.getItem( i++ ) ) ) {\n\t\t\t\tif ( ( item = this.tryRestoreFakeAnchor( editor, item ) ) ) {\n\t\t\t\t\tanchors.push( {\n\t\t\t\t\t\tname: item.getAttribute( 'name' ),\n\t\t\t\t\t\tid: item.getAttribute( 'id' )\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn anchors;\n\t\t},\n\n\t\t/**\n\t\t * Opera and WebKit do not make it possible to select empty anchors. Fake\n\t\t * elements must be used for them.\n\t\t *\n\t\t * @readonly\n\t\t * @deprecated 4.3.3 It is set to `true` in every browser.\n\t\t * @property {Boolean}\n\t\t */\n\t\tfakeAnchor: true,\n\n\t\t/**\n\t\t * For browsers that do not support CSS3 `a[name]:empty()`. Note that IE9 is included because of #7783.\n\t\t *\n\t\t * @readonly\n\t\t * @deprecated 4.3.3 It is set to `false` in every browser.\n\t\t * @property {Boolean} synAnchorSelector\n\t\t */\n\n\t\t/**\n\t\t * For browsers that have editing issues with an empty anchor.\n\t\t *\n\t\t * @readonly\n\t\t * @deprecated 4.3.3 It is set to `false` in every browser.\n\t\t * @property {Boolean} emptyAnchorFix\n\t\t */\n\n\t\t/**\n\t\t * Returns an element representing a real anchor restored from a fake anchor.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @returns {CKEDITOR.dom.element} Restored anchor element or nothing if the\n\t\t * passed element was not a fake anchor.\n\t\t */\n\t\ttryRestoreFakeAnchor: function( editor, element ) {\n\t\t\tif ( element && element.data( 'cke-real-element-type' ) && element.data( 'cke-real-element-type' ) == 'anchor' ) {\n\t\t\t\tvar link = editor.restoreRealElement( element );\n\t\t\t\tif ( link.data( 'cke-saved-name' ) )\n\t\t\t\t\treturn link;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Parses attributes of the link element and returns an object representing\n\t\t * the current state (data) of the link. This data format is a plain object accepted\n\t\t * e.g. by the Link dialog window and {@link #getLinkAttributes}.\n\t\t *\n\t\t * **Note:** Data model format produced by the parser must be compatible with the Link\n\t\t * plugin dialog because it is passed directly to {@link CKEDITOR.dialog#setupContent}.\n\t\t *\n\t\t * @since 4.4\n\t\t * @param {CKEDITOR.editor} editor\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @returns {Object} An object of link data.\n\t\t */\n\t\tparseLinkAttributes: function( editor, element ) {\n\t\t\tvar href = ( element && ( element.data( 'cke-saved-href' ) || element.getAttribute( 'href' ) ) ) || '',\n\t\t\t\tcompiledProtectionFunction = editor.plugins.link.compiledProtectionFunction,\n\t\t\t\temailProtection = editor.config.emailProtection,\n\t\t\t\tjavascriptMatch, emailMatch, anchorMatch, urlMatch,\n\t\t\t\tretval = {};\n\n\t\t\tif ( ( javascriptMatch = href.match( javascriptProtocolRegex ) ) ) {\n\t\t\t\tif ( emailProtection == 'encode' ) {\n\t\t\t\t\thref = href.replace( encodedEmailLinkRegex, function( match, protectedAddress, rest ) {\n\t\t\t\t\t\t// Without it 'undefined' is appended to e-mails without subject and body (#9192).\n\t\t\t\t\t\trest = rest || '';\n\n\t\t\t\t\t\treturn 'mailto:' +\n\t\t\t\t\t\t\tString.fromCharCode.apply( String, protectedAddress.split( ',' ) ) +\n\t\t\t\t\t\t\tunescapeSingleQuote( rest );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\t// Protected email link as function call.\n\t\t\t\telse if ( emailProtection ) {\n\t\t\t\t\thref.replace( functionCallProtectedEmailLinkRegex, function( match, funcName, funcArgs ) {\n\t\t\t\t\t\tif ( funcName == compiledProtectionFunction.name ) {\n\t\t\t\t\t\t\tretval.type = 'email';\n\t\t\t\t\t\t\tvar email = retval.email = {};\n\n\t\t\t\t\t\t\tvar paramRegex = /[^,\\s]+/g,\n\t\t\t\t\t\t\t\tparamQuoteRegex = /(^')|('$)/g,\n\t\t\t\t\t\t\t\tparamsMatch = funcArgs.match( paramRegex ),\n\t\t\t\t\t\t\t\tparamsMatchLength = paramsMatch.length,\n\t\t\t\t\t\t\t\tparamName, paramVal;\n\n\t\t\t\t\t\t\tfor ( var i = 0; i < paramsMatchLength; i++ ) {\n\t\t\t\t\t\t\t\tparamVal = decodeURIComponent( unescapeSingleQuote( paramsMatch[ i ].replace( paramQuoteRegex, '' ) ) );\n\t\t\t\t\t\t\t\tparamName = compiledProtectionFunction.params[ i ].toLowerCase();\n\t\t\t\t\t\t\t\temail[ paramName ] = paramVal;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\temail.address = [ email.name, email.domain ].join( '@' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !retval.type ) {\n\t\t\t\tif ( ( anchorMatch = href.match( anchorRegex ) ) ) {\n\t\t\t\t\tretval.type = 'anchor';\n\t\t\t\t\tretval.anchor = {};\n\t\t\t\t\tretval.anchor.name = retval.anchor.id = anchorMatch[ 1 ];\n\t\t\t\t}\n\t\t\t\t// Protected email link as encoded string.\n\t\t\t\telse if ( ( emailMatch = href.match( emailRegex ) ) ) {\n\t\t\t\t\tvar subjectMatch = href.match( emailSubjectRegex ),\n\t\t\t\t\t\tbodyMatch = href.match( emailBodyRegex );\n\n\t\t\t\t\tretval.type = 'email';\n\t\t\t\t\tvar email = ( retval.email = {} );\n\t\t\t\t\temail.address = emailMatch[ 1 ];\n\t\t\t\t\tsubjectMatch && ( email.subject = decodeURIComponent( subjectMatch[ 1 ] ) );\n\t\t\t\t\tbodyMatch && ( email.body = decodeURIComponent( bodyMatch[ 1 ] ) );\n\t\t\t\t}\n\t\t\t\t// urlRegex matches empty strings, so need to check for href as well.\n\t\t\t\telse if ( href && ( urlMatch = href.match( urlRegex ) ) ) {\n\t\t\t\t\tretval.type = 'url';\n\t\t\t\t\tretval.url = {};\n\t\t\t\t\tretval.url.protocol = urlMatch[ 1 ];\n\t\t\t\t\tretval.url.url = urlMatch[ 2 ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Load target and popup settings.\n\t\t\tif ( element ) {\n\t\t\t\tvar target = element.getAttribute( 'target' );\n\n\t\t\t\t// IE BUG: target attribute is an empty string instead of null in IE if it's not set.\n\t\t\t\tif ( !target ) {\n\t\t\t\t\tvar onclick = element.data( 'cke-pa-onclick' ) || element.getAttribute( 'onclick' ),\n\t\t\t\t\t\tonclickMatch = onclick && onclick.match( popupRegex );\n\n\t\t\t\t\tif ( onclickMatch ) {\n\t\t\t\t\t\tretval.target = {\n\t\t\t\t\t\t\ttype: 'popup',\n\t\t\t\t\t\t\tname: onclickMatch[ 1 ]\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar featureMatch;\n\t\t\t\t\t\twhile ( ( featureMatch = popupFeaturesRegex.exec( onclickMatch[ 2 ] ) ) ) {\n\t\t\t\t\t\t\t// Some values should remain numbers (#7300)\n\t\t\t\t\t\t\tif ( ( featureMatch[ 2 ] == 'yes' || featureMatch[ 2 ] == '1' ) && !( featureMatch[ 1 ] in { height: 1, width: 1, top: 1, left: 1 } ) )\n\t\t\t\t\t\t\t\tretval.target[ featureMatch[ 1 ] ] = true;\n\t\t\t\t\t\t\telse if ( isFinite( featureMatch[ 2 ] ) )\n\t\t\t\t\t\t\t\tretval.target[ featureMatch[ 1 ] ] = featureMatch[ 2 ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tretval.target = {\n\t\t\t\t\t\ttype: target.match( selectableTargets ) ? target : 'frame',\n\t\t\t\t\t\tname: target\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tvar advanced = {};\n\n\t\t\t\tfor ( var a in advAttrNames ) {\n\t\t\t\t\tvar val = element.getAttribute( a );\n\n\t\t\t\t\tif ( val )\n\t\t\t\t\t\tadvanced[ advAttrNames[ a ] ] = val;\n\t\t\t\t}\n\n\t\t\t\tvar advName = element.data( 'cke-saved-name' ) || advanced.advName;\n\n\t\t\t\tif ( advName )\n\t\t\t\t\tadvanced.advName = advName;\n\n\t\t\t\tif ( !CKEDITOR.tools.isEmpty( advanced ) )\n\t\t\t\t\tretval.advanced = advanced;\n\t\t\t}\n\n\t\t\treturn retval;\n\t\t},\n\n\t\t/**\n\t\t * Converts link data produced by {@link #parseLinkAttributes} into an object which consists\n\t\t * of attributes to be set (with their values) and an array of attributes to be removed.\n\t\t * This method can be used to compose or to update any link element with the given data.\n\t\t *\n\t\t * @since 4.4\n\t\t * @param {CKEDITOR.editor} editor\n\t\t * @param {Object} data Data in {@link #parseLinkAttributes} format.\n\t\t * @returns {Object} An object consisting of two keys, i.e.:\n\t\t *\n\t\t *\t\t{\n\t\t *\t\t\t// Attributes to be set.\n\t\t *\t\t\tset: {\n\t\t *\t\t\t\thref: 'http://foo.bar',\n\t\t *\t\t\t\ttarget: 'bang'\n\t\t *\t\t\t},\n\t\t *\t\t\t// Attributes to be removed.\n\t\t *\t\t\tremoved: [\n\t\t *\t\t\t\t'id', 'style'\n\t\t *\t\t\t]\n\t\t *\t\t}\n\t\t *\n\t\t */\n\t\tgetLinkAttributes: function( editor, data ) {\n\t\t\tvar emailProtection = editor.config.emailProtection || '',\n\t\t\t\tset = {};\n\n\t\t\t// Compose the URL.\n\t\t\tswitch ( data.type ) {\n\t\t\t\tcase 'url':\n\t\t\t\t\tvar protocol = ( data.url && data.url.protocol !== undefined ) ? data.url.protocol : 'http://',\n\t\t\t\t\t\turl = ( data.url && CKEDITOR.tools.trim( data.url.url ) ) || '';\n\n\t\t\t\t\tset[ 'data-cke-saved-href' ] = ( url.indexOf( '/' ) === 0 ) ? url : protocol + url;\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'anchor':\n\t\t\t\t\tvar name = ( data.anchor && data.anchor.name ),\n\t\t\t\t\t\tid = ( data.anchor && data.anchor.id );\n\n\t\t\t\t\tset[ 'data-cke-saved-href' ] = '#' + ( name || id || '' );\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'email':\n\t\t\t\t\tvar email = data.email,\n\t\t\t\t\t\taddress = email.address,\n\t\t\t\t\t\tlinkHref;\n\n\t\t\t\t\tswitch ( emailProtection ) {\n\t\t\t\t\t\tcase '':\n\t\t\t\t\t\tcase 'encode':\n\t\t\t\t\t\t\tvar subject = encodeURIComponent( email.subject || '' ),\n\t\t\t\t\t\t\t\tbody = encodeURIComponent( email.body || '' ),\n\t\t\t\t\t\t\t\targList = [];\n\n\t\t\t\t\t\t\t// Build the e-mail parameters first.\n\t\t\t\t\t\t\tsubject && argList.push( 'subject=' + subject );\n\t\t\t\t\t\t\tbody && argList.push( 'body=' + body );\n\t\t\t\t\t\t\targList = argList.length ? '?' + argList.join( '&' ) : '';\n\n\t\t\t\t\t\t\tif ( emailProtection == 'encode' ) {\n\t\t\t\t\t\t\t\tlinkHref = [\n\t\t\t\t\t\t\t\t\t'javascript:void(location.href=\\'mailto:\\'+', // jshint ignore:line\n\t\t\t\t\t\t\t\t\tprotectEmailAddressAsEncodedString( address )\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t// parameters are optional.\n\t\t\t\t\t\t\t\targList && linkHref.push( '+\\'', escapeSingleQuote( argList ), '\\'' );\n\n\t\t\t\t\t\t\t\tlinkHref.push( ')' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlinkHref = [ 'mailto:', address, argList ];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// Separating name and domain.\n\t\t\t\t\t\t\tvar nameAndDomain = address.split( '@', 2 );\n\t\t\t\t\t\t\temail.name = nameAndDomain[ 0 ];\n\t\t\t\t\t\t\temail.domain = nameAndDomain[ 1 ];\n\n\t\t\t\t\t\t\tlinkHref = [ 'javascript:', protectEmailLinkAsFunction( editor, email ) ]; // jshint ignore:line\n\t\t\t\t\t}\n\n\t\t\t\t\tset[ 'data-cke-saved-href' ] = linkHref.join( '' );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Popups and target.\n\t\t\tif ( data.target ) {\n\t\t\t\tif ( data.target.type == 'popup' ) {\n\t\t\t\t\tvar onclickList = [\n\t\t\t\t\t\t\t'window.open(this.href, \\'', data.target.name || '', '\\', \\''\n\t\t\t\t\t\t],\n\t\t\t\t\t\tfeatureList = [\n\t\t\t\t\t\t\t'resizable', 'status', 'location', 'toolbar', 'menubar', 'fullscreen', 'scrollbars', 'dependent'\n\t\t\t\t\t\t],\n\t\t\t\t\t\tfeatureLength = featureList.length,\n\t\t\t\t\t\taddFeature = function( featureName ) {\n\t\t\t\t\t\t\tif ( data.target[ featureName ] )\n\t\t\t\t\t\t\t\tfeatureList.push( featureName + '=' + data.target[ featureName ] );\n\t\t\t\t\t\t};\n\n\t\t\t\t\tfor ( var i = 0; i < featureLength; i++ )\n\t\t\t\t\t\tfeatureList[ i ] = featureList[ i ] + ( data.target[ featureList[ i ] ] ? '=yes' : '=no' );\n\n\t\t\t\t\taddFeature( 'width' );\n\t\t\t\t\taddFeature( 'left' );\n\t\t\t\t\taddFeature( 'height' );\n\t\t\t\t\taddFeature( 'top' );\n\n\t\t\t\t\tonclickList.push( featureList.join( ',' ), '\\'); return false;' );\n\t\t\t\t\tset[ 'data-cke-pa-onclick' ] = onclickList.join( '' );\n\t\t\t\t}\n\t\t\t\telse if ( data.target.type != 'notSet' && data.target.name ) {\n\t\t\t\t\tset.target = data.target.name;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Advanced attributes.\n\t\t\tif ( data.advanced ) {\n\t\t\t\tfor ( var a in advAttrNames ) {\n\t\t\t\t\tvar val = data.advanced[ advAttrNames[ a ] ];\n\n\t\t\t\t\tif ( val )\n\t\t\t\t\t\tset[ a ] = val;\n\t\t\t\t}\n\n\t\t\t\tif ( set.name )\n\t\t\t\t\tset[ 'data-cke-saved-name' ] = set.name;\n\t\t\t}\n\n\t\t\t// Browser need the \"href\" fro copy/paste link to work. (#6641)\n\t\t\tif ( set[ 'data-cke-saved-href' ] )\n\t\t\t\tset.href = set[ 'data-cke-saved-href' ];\n\n\t\t\tvar removed = {\n\t\t\t\ttarget: 1,\n\t\t\t\tonclick: 1,\n\t\t\t\t'data-cke-pa-onclick': 1,\n\t\t\t\t'data-cke-saved-name': 1\n\t\t\t};\n\n\t\t\tif ( data.advanced )\n\t\t\t\tCKEDITOR.tools.extend( removed, advAttrNames );\n\n\t\t\t// Remove all attributes which are not currently set.\n\t\t\tfor ( var s in set )\n\t\t\t\tdelete removed[ s ];\n\n\t\t\treturn {\n\t\t\t\tset: set,\n\t\t\t\tremoved: CKEDITOR.tools.objectKeys( removed )\n\t\t\t};\n\t\t}\n\t};\n\n\t// TODO Much probably there's no need to expose these as public objects.\n\n\tCKEDITOR.unlinkCommand = function() {};\n\tCKEDITOR.unlinkCommand.prototype = {\n\t\texec: function( editor ) {\n\t\t\tvar style = new CKEDITOR.style( { element: 'a', type: CKEDITOR.STYLE_INLINE, alwaysRemoveElement: 1 } );\n\t\t\teditor.removeStyle( style );\n\t\t},\n\n\t\trefresh: function( editor, path ) {\n\t\t\t// Despite our initial hope, document.queryCommandEnabled() does not work\n\t\t\t// for this in Firefox. So we must detect the state by element paths.\n\n\t\t\tvar element = path.lastElement && path.lastElement.getAscendant( 'a', true );\n\n\t\t\tif ( element && element.getName() == 'a' && element.getAttribute( 'href' ) && element.getChildCount() )\n\t\t\t\tthis.setState( CKEDITOR.TRISTATE_OFF );\n\t\t\telse\n\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t},\n\n\t\tcontextSensitive: 1,\n\t\tstartDisabled: 1,\n\t\trequiredContent: 'a[href]'\n\t};\n\n\tCKEDITOR.removeAnchorCommand = function() {};\n\tCKEDITOR.removeAnchorCommand.prototype = {\n\t\texec: function( editor ) {\n\t\t\tvar sel = editor.getSelection(),\n\t\t\t\tbms = sel.createBookmarks(),\n\t\t\t\tanchor;\n\t\t\tif ( sel && ( anchor = sel.getSelectedElement() ) && ( !anchor.getChildCount() ? CKEDITOR.plugins.link.tryRestoreFakeAnchor( editor, anchor ) : anchor.is( 'a' ) ) )\n\t\t\t\tanchor.remove( 1 );\n\t\t\telse {\n\t\t\t\tif ( ( anchor = CKEDITOR.plugins.link.getSelectedLink( editor ) ) ) {\n\t\t\t\t\tif ( anchor.hasAttribute( 'href' ) ) {\n\t\t\t\t\t\tanchor.removeAttributes( { name: 1, 'data-cke-saved-name': 1 } );\n\t\t\t\t\t\tanchor.removeClass( 'cke_anchor' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tanchor.remove( 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsel.selectBookmarks( bms );\n\t\t},\n\t\trequiredContent: 'a[name]'\n\t};\n\n\tCKEDITOR.tools.extend( CKEDITOR.config, {\n\t\t/**\n\t\t * Whether to show the Advanced tab in the Link dialog window.\n\t\t *\n\t\t * @cfg {Boolean} [linkShowAdvancedTab=true]\n\t\t * @member CKEDITOR.config\n\t\t */\n\t\tlinkShowAdvancedTab: true,\n\n\t\t/**\n\t\t * Whether to show the Target tab in the Link dialog window.\n\t\t *\n\t\t * @cfg {Boolean} [linkShowTargetTab=true]\n\t\t * @member CKEDITOR.config\n\t\t */\n\t\tlinkShowTargetTab: true\n\n\t\t/**\n\t\t * Whether JavaScript code is allowed as a `href` attribute in an anchor tag.\n\t\t * With this option enabled it is possible to create links like:\n\t\t *\n\t\t *\t\t<a href=\"javascript:alert('Hello world!')\">hello world</a>\n\t\t *\n\t\t * By default JavaScript links are not allowed and will not pass\n\t\t * the Link dialog window validation.\n\t\t *\n\t\t * @since 4.4.1\n\t\t * @cfg {Boolean} [linkJavaScriptLinksAllowed=false]\n\t\t * @member CKEDITOR.config\n\t\t */\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/link/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Insert and remove numbered and bulleted lists.\n */\n\n( function() {\n\tvar listNodeNames = { ol: 1, ul: 1 };\n\n\tvar whitespaces = CKEDITOR.dom.walker.whitespaces(),\n\t\tbookmarks = CKEDITOR.dom.walker.bookmark(),\n\t\tnonEmpty = function( node ) {\n\t\t\treturn !( whitespaces( node ) || bookmarks( node ) );\n\t\t},\n\t\tblockBogus = CKEDITOR.dom.walker.bogus();\n\n\tfunction cleanUpDirection( element ) {\n\t\tvar dir, parent, parentDir;\n\t\tif ( ( dir = element.getDirection() ) ) {\n\t\t\tparent = element.getParent();\n\t\t\twhile ( parent && !( parentDir = parent.getDirection() ) )\n\t\t\t\tparent = parent.getParent();\n\n\t\t\tif ( dir == parentDir )\n\t\t\t\telement.removeAttribute( 'dir' );\n\t\t}\n\t}\n\n\t// Inherit inline styles from another element.\n\tfunction inheritInlineStyles( parent, el ) {\n\t\tvar style = parent.getAttribute( 'style' );\n\n\t\t// Put parent styles before child styles.\n\t\tstyle && el.setAttribute( 'style', style.replace( /([^;])$/, '$1;' ) + ( el.getAttribute( 'style' ) || '' ) );\n\t}\n\n\tCKEDITOR.plugins.list = {\n\t\t/**\n\t\t * Convert a DOM list tree into a data structure that is easier to\n\t\t * manipulate. This operation should be non-intrusive in the sense that it\n\t\t * does not change the DOM tree, with the exception that it may add some\n\t\t * markers to the list item nodes when database is specified.\n\t\t *\n\t\t * @member CKEDITOR.plugins.list\n\t\t * @todo params\n\t\t */\n\t\tlistToArray: function( listNode, database, baseArray, baseIndentLevel, grandparentNode ) {\n\t\t\tif ( !listNodeNames[ listNode.getName() ] )\n\t\t\t\treturn [];\n\n\t\t\tif ( !baseIndentLevel )\n\t\t\t\tbaseIndentLevel = 0;\n\t\t\tif ( !baseArray )\n\t\t\t\tbaseArray = [];\n\n\t\t\t// Iterate over all list items to and look for inner lists.\n\t\t\tfor ( var i = 0, count = listNode.getChildCount(); i < count; i++ ) {\n\t\t\t\tvar listItem = listNode.getChild( i );\n\n\t\t\t\t// Fixing malformed nested lists by moving it into a previous list item. (#6236)\n\t\t\t\tif ( listItem.type == CKEDITOR.NODE_ELEMENT && listItem.getName() in CKEDITOR.dtd.$list )\n\t\t\t\t\tCKEDITOR.plugins.list.listToArray( listItem, database, baseArray, baseIndentLevel + 1 );\n\n\t\t\t\t// It may be a text node or some funny stuff.\n\t\t\t\tif ( listItem.$.nodeName.toLowerCase() != 'li' )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tvar itemObj = { 'parent': listNode, indent: baseIndentLevel, element: listItem, contents: [] };\n\t\t\t\tif ( !grandparentNode ) {\n\t\t\t\t\titemObj.grandparent = listNode.getParent();\n\t\t\t\t\tif ( itemObj.grandparent && itemObj.grandparent.$.nodeName.toLowerCase() == 'li' )\n\t\t\t\t\t\titemObj.grandparent = itemObj.grandparent.getParent();\n\t\t\t\t} else {\n\t\t\t\t\titemObj.grandparent = grandparentNode;\n\t\t\t\t}\n\n\t\t\t\tif ( database )\n\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, listItem, 'listarray_index', baseArray.length );\n\t\t\t\tbaseArray.push( itemObj );\n\n\t\t\t\tfor ( var j = 0, itemChildCount = listItem.getChildCount(), child; j < itemChildCount; j++ ) {\n\t\t\t\t\tchild = listItem.getChild( j );\n\t\t\t\t\tif ( child.type == CKEDITOR.NODE_ELEMENT && listNodeNames[ child.getName() ] )\n\t\t\t\t\t// Note the recursion here, it pushes inner list items with\n\t\t\t\t\t// +1 indentation in the correct order.\n\t\t\t\t\tCKEDITOR.plugins.list.listToArray( child, database, baseArray, baseIndentLevel + 1, itemObj.grandparent );\n\t\t\t\t\telse\n\t\t\t\t\t\titemObj.contents.push( child );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn baseArray;\n\t\t},\n\n\t\t/**\n\t\t * Convert our internal representation of a list back to a DOM forest.\n\t\t *\n\t\t * @member CKEDITOR.plugins.list\n\t\t * @todo params\n\t\t */\n\t\tarrayToList: function( listArray, database, baseIndex, paragraphMode, dir ) {\n\t\t\tif ( !baseIndex )\n\t\t\t\tbaseIndex = 0;\n\t\t\tif ( !listArray || listArray.length < baseIndex + 1 )\n\t\t\t\treturn null;\n\n\t\t\tvar i,\n\t\t\t\tdoc = listArray[ baseIndex ].parent.getDocument(),\n\t\t\t\tretval = new CKEDITOR.dom.documentFragment( doc ),\n\t\t\t\trootNode = null,\n\t\t\t\tcurrentIndex = baseIndex,\n\t\t\t\tindentLevel = Math.max( listArray[ baseIndex ].indent, 0 ),\n\t\t\t\tcurrentListItem = null,\n\t\t\t\torgDir, block,\n\t\t\t\tparagraphName = ( paragraphMode == CKEDITOR.ENTER_P ? 'p' : 'div' );\n\n\t\t\twhile ( 1 ) {\n\t\t\t\tvar item = listArray[ currentIndex ],\n\t\t\t\t\titemGrandParent = item.grandparent;\n\n\t\t\t\torgDir = item.element.getDirection( 1 );\n\n\t\t\t\tif ( item.indent == indentLevel ) {\n\t\t\t\t\tif ( !rootNode || listArray[ currentIndex ].parent.getName() != rootNode.getName() ) {\n\t\t\t\t\t\trootNode = listArray[ currentIndex ].parent.clone( false, 1 );\n\t\t\t\t\t\tdir && rootNode.setAttribute( 'dir', dir );\n\t\t\t\t\t\tretval.append( rootNode );\n\t\t\t\t\t}\n\t\t\t\t\tcurrentListItem = rootNode.append( item.element.clone( 0, 1 ) );\n\n\t\t\t\t\tif ( orgDir != rootNode.getDirection( 1 ) )\n\t\t\t\t\t\tcurrentListItem.setAttribute( 'dir', orgDir );\n\n\t\t\t\t\tfor ( i = 0; i < item.contents.length; i++ )\n\t\t\t\t\t\tcurrentListItem.append( item.contents[ i ].clone( 1, 1 ) );\n\t\t\t\t\tcurrentIndex++;\n\t\t\t\t} else if ( item.indent == Math.max( indentLevel, 0 ) + 1 ) {\n\t\t\t\t\t// Maintain original direction (#6861).\n\t\t\t\t\tvar currDir = listArray[ currentIndex - 1 ].element.getDirection( 1 ),\n\t\t\t\t\t\tlistData = CKEDITOR.plugins.list.arrayToList( listArray, null, currentIndex, paragraphMode, currDir != orgDir ? orgDir : null );\n\n\t\t\t\t\t// If the next block is an <li> with another list tree as the first\n\t\t\t\t\t// child, we'll need to append a filler (<br>/NBSP) or the list item\n\t\t\t\t\t// wouldn't be editable. (#6724)\n\t\t\t\t\tif ( !currentListItem.getChildCount() && CKEDITOR.env.needsNbspFiller && doc.$.documentMode <= 7 )\n\t\t\t\t\t\tcurrentListItem.append( doc.createText( '\\xa0' ) );\n\t\t\t\t\tcurrentListItem.append( listData.listNode );\n\t\t\t\t\tcurrentIndex = listData.nextIndex;\n\t\t\t\t} else if ( item.indent == -1 && !baseIndex && itemGrandParent ) {\n\t\t\t\t\tif ( listNodeNames[ itemGrandParent.getName() ] ) {\n\t\t\t\t\t\tcurrentListItem = item.element.clone( false, true );\n\t\t\t\t\t\tif ( orgDir != itemGrandParent.getDirection( 1 ) )\n\t\t\t\t\t\t\tcurrentListItem.setAttribute( 'dir', orgDir );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentListItem = new CKEDITOR.dom.documentFragment( doc );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Migrate all children to the new container,\n\t\t\t\t\t// apply the proper text direction.\n\t\t\t\t\tvar dirLoose = itemGrandParent.getDirection( 1 ) != orgDir,\n\t\t\t\t\t\tli = item.element,\n\t\t\t\t\t\tclassName = li.getAttribute( 'class' ),\n\t\t\t\t\t\tstyle = li.getAttribute( 'style' );\n\n\t\t\t\t\tvar needsBlock = currentListItem.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && ( paragraphMode != CKEDITOR.ENTER_BR || dirLoose || style || className );\n\n\t\t\t\t\tvar child,\n\t\t\t\t\t\tcount = item.contents.length,\n\t\t\t\t\t\tcachedBookmark;\n\n\t\t\t\t\tfor ( i = 0; i < count; i++ ) {\n\t\t\t\t\t\tchild = item.contents[ i ];\n\n\t\t\t\t\t\t// Append bookmark if we can, or cache it and append it when we'll know\n\t\t\t\t\t\t// what to do with it. Generally - we want to keep it next to its original neighbour.\n\t\t\t\t\t\t// Exception: if bookmark is the only child it hasn't got any neighbour, so handle it normally\n\t\t\t\t\t\t// (wrap with block if needed).\n\t\t\t\t\t\tif ( bookmarks( child ) && count > 1 ) {\n\t\t\t\t\t\t\t// If we don't need block, it's simple - append bookmark directly to the current list item.\n\t\t\t\t\t\t\tif ( !needsBlock )\n\t\t\t\t\t\t\t\tcurrentListItem.append( child.clone( 1, 1 ) );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tcachedBookmark = child.clone( 1, 1 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Block content goes directly to the current list item, without wrapping.\n\t\t\t\t\t\telse if ( child.type == CKEDITOR.NODE_ELEMENT && child.isBlockBoundary() ) {\n\t\t\t\t\t\t\t// Apply direction on content blocks.\n\t\t\t\t\t\t\tif ( dirLoose && !child.getDirection() )\n\t\t\t\t\t\t\t\tchild.setAttribute( 'dir', orgDir );\n\n\t\t\t\t\t\t\tinheritInlineStyles( li, child );\n\n\t\t\t\t\t\t\tclassName && child.addClass( className );\n\n\t\t\t\t\t\t\t// Close the block which we started for inline content.\n\t\t\t\t\t\t\tblock = null;\n\t\t\t\t\t\t\t// Append bookmark directly before current child.\n\t\t\t\t\t\t\tif ( cachedBookmark ) {\n\t\t\t\t\t\t\t\tcurrentListItem.append( cachedBookmark );\n\t\t\t\t\t\t\t\tcachedBookmark = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Append this block element to the list item.\n\t\t\t\t\t\t\tcurrentListItem.append( child.clone( 1, 1 ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Some inline content was found - wrap it with block and append that\n\t\t\t\t\t\t// block to the current list item or append it to the block previously created.\n\t\t\t\t\t\telse if ( needsBlock ) {\n\t\t\t\t\t\t\t// Establish new block to hold text direction and styles.\n\t\t\t\t\t\t\tif ( !block ) {\n\t\t\t\t\t\t\t\tblock = doc.createElement( paragraphName );\n\t\t\t\t\t\t\t\tcurrentListItem.append( block );\n\t\t\t\t\t\t\t\tdirLoose && block.setAttribute( 'dir', orgDir );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Copy over styles to new block;\n\t\t\t\t\t\t\tstyle && block.setAttribute( 'style', style );\n\t\t\t\t\t\t\tclassName && block.setAttribute( 'class', className );\n\n\t\t\t\t\t\t\t// Append bookmark directly before current child.\n\t\t\t\t\t\t\tif ( cachedBookmark ) {\n\t\t\t\t\t\t\t\tblock.append( cachedBookmark );\n\t\t\t\t\t\t\t\tcachedBookmark = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tblock.append( child.clone( 1, 1 ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// E.g. BR mode - inline content appended directly to the list item.\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcurrentListItem.append( child.clone( 1, 1 ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// No content after bookmark - append it to the block if we had one\n\t\t\t\t\t// or directly to the current list item if we finished directly in the current list item.\n\t\t\t\t\tif ( cachedBookmark ) {\n\t\t\t\t\t\t( block || currentListItem ).append( cachedBookmark );\n\t\t\t\t\t\tcachedBookmark = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( currentListItem.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && currentIndex != listArray.length - 1 ) {\n\t\t\t\t\t\tvar last;\n\n\t\t\t\t\t\t// Remove bogus <br> if this browser uses them.\n\t\t\t\t\t\tif ( CKEDITOR.env.needsBrFiller ) {\n\t\t\t\t\t\t\tlast = currentListItem.getLast();\n\t\t\t\t\t\t\tif ( last && last.type == CKEDITOR.NODE_ELEMENT && last.is( 'br' ) )\n\t\t\t\t\t\t\t\tlast.remove();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the last element is not a block, append <br> to separate merged list items.\n\t\t\t\t\t\tlast = currentListItem.getLast( nonEmpty );\n\t\t\t\t\t\tif ( !( last && last.type == CKEDITOR.NODE_ELEMENT && last.is( CKEDITOR.dtd.$block ) ) )\n\t\t\t\t\t\t\tcurrentListItem.append( doc.createElement( 'br' ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tvar currentListItemName = currentListItem.$.nodeName.toLowerCase();\n\t\t\t\t\tif ( currentListItemName == 'div' || currentListItemName == 'p' ) {\n\t\t\t\t\t\tcurrentListItem.appendBogus();\n\t\t\t\t\t}\n\t\t\t\t\tretval.append( currentListItem );\n\t\t\t\t\trootNode = null;\n\t\t\t\t\tcurrentIndex++;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tblock = null;\n\n\t\t\t\tif ( listArray.length <= currentIndex || Math.max( listArray[ currentIndex ].indent, 0 ) < indentLevel )\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif ( database ) {\n\t\t\t\tvar currentNode = retval.getFirst();\n\n\t\t\t\twhile ( currentNode ) {\n\t\t\t\t\tif ( currentNode.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t// Clear marker attributes for the new list tree made of cloned nodes, if any.\n\t\t\t\t\t\tCKEDITOR.dom.element.clearMarkers( database, currentNode );\n\n\t\t\t\t\t\t// Clear redundant direction attribute specified on list items.\n\t\t\t\t\t\tif ( currentNode.getName() in CKEDITOR.dtd.$listItem )\n\t\t\t\t\t\t\tcleanUpDirection( currentNode );\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentNode = currentNode.getNextSourceNode();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn { listNode: retval, nextIndex: currentIndex };\n\t\t}\n\t};\n\n\tfunction changeListType( editor, groupObj, database, listsCreated ) {\n\t\t// This case is easy...\n\t\t// 1. Convert the whole list into a one-dimensional array.\n\t\t// 2. Change the list type by modifying the array.\n\t\t// 3. Recreate the whole list by converting the array to a list.\n\t\t// 4. Replace the original list with the recreated list.\n\t\tvar listArray = CKEDITOR.plugins.list.listToArray( groupObj.root, database ),\n\t\t\tselectedListItems = [];\n\n\t\tfor ( var i = 0; i < groupObj.contents.length; i++ ) {\n\t\t\tvar itemNode = groupObj.contents[ i ];\n\t\t\titemNode = itemNode.getAscendant( 'li', true );\n\t\t\tif ( !itemNode || itemNode.getCustomData( 'list_item_processed' ) )\n\t\t\t\tcontinue;\n\t\t\tselectedListItems.push( itemNode );\n\t\t\tCKEDITOR.dom.element.setMarker( database, itemNode, 'list_item_processed', true );\n\t\t}\n\n\t\tvar root = groupObj.root,\n\t\t\tdoc = root.getDocument(),\n\t\t\tlistNode, newListNode;\n\n\t\tfor ( i = 0; i < selectedListItems.length; i++ ) {\n\t\t\tvar listIndex = selectedListItems[ i ].getCustomData( 'listarray_index' );\n\t\t\tlistNode = listArray[ listIndex ].parent;\n\n\t\t\t// Switch to new list node for this particular item.\n\t\t\tif ( !listNode.is( this.type ) ) {\n\t\t\t\tnewListNode = doc.createElement( this.type );\n\t\t\t\t// Copy all attributes, except from 'start' and 'type'.\n\t\t\t\tlistNode.copyAttributes( newListNode, { start: 1, type: 1 } );\n\t\t\t\t// The list-style-type property should be ignored.\n\t\t\t\tnewListNode.removeStyle( 'list-style-type' );\n\t\t\t\tlistArray[ listIndex ].parent = newListNode;\n\t\t\t}\n\t\t}\n\n\t\tvar newList = CKEDITOR.plugins.list.arrayToList( listArray, database, null, editor.config.enterMode );\n\t\tvar child,\n\t\t\tlength = newList.listNode.getChildCount();\n\t\tfor ( i = 0; i < length && ( child = newList.listNode.getChild( i ) ); i++ ) {\n\t\t\tif ( child.getName() == this.type )\n\t\t\t\tlistsCreated.push( child );\n\t\t}\n\t\tnewList.listNode.replace( groupObj.root );\n\n\t\teditor.fire( 'contentDomInvalidated' );\n\t}\n\n\tfunction createList( editor, groupObj, listsCreated ) {\n\t\tvar contents = groupObj.contents,\n\t\t\tdoc = groupObj.root.getDocument(),\n\t\t\tlistContents = [];\n\n\t\t// It is possible to have the contents returned by DomRangeIterator to be the same as the root.\n\t\t// e.g. when we're running into table cells.\n\t\t// In such a case, enclose the childNodes of contents[0] into a <div>.\n\t\tif ( contents.length == 1 && contents[ 0 ].equals( groupObj.root ) ) {\n\t\t\tvar divBlock = doc.createElement( 'div' );\n\t\t\tcontents[ 0 ].moveChildren && contents[ 0 ].moveChildren( divBlock );\n\t\t\tcontents[ 0 ].append( divBlock );\n\t\t\tcontents[ 0 ] = divBlock;\n\t\t}\n\n\t\t// Calculate the common parent node of all content blocks.\n\t\tvar commonParent = groupObj.contents[ 0 ].getParent();\n\t\tfor ( var i = 0; i < contents.length; i++ )\n\t\t\tcommonParent = commonParent.getCommonAncestor( contents[ i ].getParent() );\n\n\t\tvar useComputedState = editor.config.useComputedState,\n\t\t\tlistDir, explicitDirection;\n\n\t\tuseComputedState = useComputedState === undefined || useComputedState;\n\n\t\t// We want to insert things that are in the same tree level only, so calculate the contents again\n\t\t// by expanding the selected blocks to the same tree level.\n\t\tfor ( i = 0; i < contents.length; i++ ) {\n\t\t\tvar contentNode = contents[ i ],\n\t\t\t\tparentNode;\n\t\t\twhile ( ( parentNode = contentNode.getParent() ) ) {\n\t\t\t\tif ( parentNode.equals( commonParent ) ) {\n\t\t\t\t\tlistContents.push( contentNode );\n\n\t\t\t\t\t// Determine the lists's direction.\n\t\t\t\t\tif ( !explicitDirection && contentNode.getDirection() )\n\t\t\t\t\t\texplicitDirection = 1;\n\n\t\t\t\t\tvar itemDir = contentNode.getDirection( useComputedState );\n\n\t\t\t\t\tif ( listDir !== null ) {\n\t\t\t\t\t\t// If at least one LI have a different direction than current listDir, we can't have listDir.\n\t\t\t\t\t\tif ( listDir && listDir != itemDir )\n\t\t\t\t\t\t\tlistDir = null;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tlistDir = itemDir;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcontentNode = parentNode;\n\t\t\t}\n\t\t}\n\n\t\tif ( listContents.length < 1 )\n\t\t\treturn;\n\n\t\t// Insert the list to the DOM tree.\n\t\tvar insertAnchor = listContents[ listContents.length - 1 ].getNext(),\n\t\t\tlistNode = doc.createElement( this.type );\n\n\t\tlistsCreated.push( listNode );\n\n\t\tvar contentBlock, listItem;\n\n\t\twhile ( listContents.length ) {\n\t\t\tcontentBlock = listContents.shift();\n\t\t\tlistItem = doc.createElement( 'li' );\n\n\t\t\t// If current block should be preserved, append it to list item instead of\n\t\t\t// transforming it to <li> element.\n\t\t\tif ( shouldPreserveBlock( contentBlock ) )\n\t\t\t\tcontentBlock.appendTo( listItem );\n\t\t\telse {\n\t\t\t\tcontentBlock.copyAttributes( listItem );\n\t\t\t\t// Remove direction attribute after it was merged into list root. (#7657)\n\t\t\t\tif ( listDir && contentBlock.getDirection() ) {\n\t\t\t\t\tlistItem.removeStyle( 'direction' );\n\t\t\t\t\tlistItem.removeAttribute( 'dir' );\n\t\t\t\t}\n\t\t\t\tcontentBlock.moveChildren( listItem );\n\t\t\t\tcontentBlock.remove();\n\t\t\t}\n\n\t\t\tlistItem.appendTo( listNode );\n\t\t}\n\n\t\t// Apply list root dir only if it has been explicitly declared.\n\t\tif ( listDir && explicitDirection )\n\t\t\tlistNode.setAttribute( 'dir', listDir );\n\n\t\tif ( insertAnchor )\n\t\t\tlistNode.insertBefore( insertAnchor );\n\t\telse\n\t\t\tlistNode.appendTo( commonParent );\n\t}\n\n\tfunction removeList( editor, groupObj, database ) {\n\t\t// This is very much like the change list type operation.\n\t\t// Except that we're changing the selected items' indent to -1 in the list array.\n\t\tvar listArray = CKEDITOR.plugins.list.listToArray( groupObj.root, database ),\n\t\t\tselectedListItems = [];\n\n\t\tfor ( var i = 0; i < groupObj.contents.length; i++ ) {\n\t\t\tvar itemNode = groupObj.contents[ i ];\n\t\t\titemNode = itemNode.getAscendant( 'li', true );\n\t\t\tif ( !itemNode || itemNode.getCustomData( 'list_item_processed' ) )\n\t\t\t\tcontinue;\n\t\t\tselectedListItems.push( itemNode );\n\t\t\tCKEDITOR.dom.element.setMarker( database, itemNode, 'list_item_processed', true );\n\t\t}\n\n\t\tvar lastListIndex = null;\n\t\tfor ( i = 0; i < selectedListItems.length; i++ ) {\n\t\t\tvar listIndex = selectedListItems[ i ].getCustomData( 'listarray_index' );\n\t\t\tlistArray[ listIndex ].indent = -1;\n\t\t\tlastListIndex = listIndex;\n\t\t}\n\n\t\t// After cutting parts of the list out with indent=-1, we still have to maintain the array list\n\t\t// model's nextItem.indent <= currentItem.indent + 1 invariant. Otherwise the array model of the\n\t\t// list cannot be converted back to a real DOM list.\n\t\tfor ( i = lastListIndex + 1; i < listArray.length; i++ ) {\n\t\t\tif ( listArray[ i ].indent > listArray[ i - 1 ].indent + 1 ) {\n\t\t\t\tvar indentOffset = listArray[ i - 1 ].indent + 1 - listArray[ i ].indent;\n\t\t\t\tvar oldIndent = listArray[ i ].indent;\n\t\t\t\twhile ( listArray[ i ] && listArray[ i ].indent >= oldIndent ) {\n\t\t\t\t\tlistArray[ i ].indent += indentOffset;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\n\t\tvar newList = CKEDITOR.plugins.list.arrayToList( listArray, database, null, editor.config.enterMode, groupObj.root.getAttribute( 'dir' ) );\n\n\t\t// Compensate <br> before/after the list node if the surrounds are non-blocks.(#3836)\n\t\tvar docFragment = newList.listNode,\n\t\t\tboundaryNode, siblingNode;\n\n\t\tfunction compensateBrs( isStart ) {\n\t\t\tif (\n\t\t\t\t( boundaryNode = docFragment[ isStart ? 'getFirst' : 'getLast' ]() ) &&\n\t\t\t\t!( boundaryNode.is && boundaryNode.isBlockBoundary() ) &&\n\t\t\t\t( siblingNode = groupObj.root[ isStart ? 'getPrevious' : 'getNext' ]( CKEDITOR.dom.walker.invisible( true ) ) ) &&\n\t\t\t\t!( siblingNode.is && siblingNode.isBlockBoundary( { br: 1 } ) )\n\t\t\t) {\n\t\t\t\teditor.document.createElement( 'br' )[ isStart ? 'insertBefore' : 'insertAfter' ]( boundaryNode );\n\t\t\t}\n\t\t}\n\t\tcompensateBrs( true );\n\t\tcompensateBrs();\n\n\t\tdocFragment.replace( groupObj.root );\n\n\t\teditor.fire( 'contentDomInvalidated' );\n\t}\n\n\tvar headerTagRegex = /^h[1-6]$/;\n\n\t// Checks wheather this block should be element preserved (not transformed to <li>) when creating list.\n\tfunction shouldPreserveBlock( block ) {\n\t\treturn (\n\t\t\t// #5335\n\t\t\tblock.is( 'pre' ) ||\n\t\t\t// #5271 - this is a header.\n\t\t\theaderTagRegex.test( block.getName() ) ||\n\t\t\t// 11083 - this is a non-editable element.\n\t\t\tblock.getAttribute( 'contenteditable' ) == 'false'\n\t\t);\n\t}\n\n\tfunction listCommand( name, type ) {\n\t\tthis.name = name;\n\t\tthis.type = type;\n\t\tthis.context = type;\n\t\tthis.allowedContent = type + ' li';\n\t\tthis.requiredContent = type;\n\t}\n\n\tvar elementType = CKEDITOR.dom.walker.nodeType( CKEDITOR.NODE_ELEMENT );\n\n\t// Merge child nodes with direction preserved. (#7448)\n\tfunction mergeChildren( from, into, refNode, forward ) {\n\t\tvar child, itemDir;\n\t\twhile ( ( child = from[ forward ? 'getLast' : 'getFirst' ]( elementType ) ) ) {\n\t\t\tif ( ( itemDir = child.getDirection( 1 ) ) !== into.getDirection( 1 ) )\n\t\t\t\tchild.setAttribute( 'dir', itemDir );\n\n\t\t\tchild.remove();\n\n\t\t\trefNode ? child[ forward ? 'insertBefore' : 'insertAfter' ]( refNode ) : into.append( child, forward );\n\t\t}\n\t}\n\n\tlistCommand.prototype = {\n\t\texec: function( editor ) {\n\t\t\t// Run state check first of all.\n\t\t\tthis.refresh( editor, editor.elementPath() );\n\n\t\t\tvar config = editor.config,\n\t\t\t\tselection = editor.getSelection(),\n\t\t\t\tranges = selection && selection.getRanges();\n\n\t\t\t// Midas lists rule #1 says we can create a list even in an empty document.\n\t\t\t// But DOM iterator wouldn't run if the document is really empty.\n\t\t\t// So create a paragraph if the document is empty and we're going to create a list.\n\t\t\tif ( this.state == CKEDITOR.TRISTATE_OFF ) {\n\t\t\t\tvar editable = editor.editable();\n\t\t\t\tif ( !editable.getFirst( nonEmpty ) ) {\n\t\t\t\t\tconfig.enterMode == CKEDITOR.ENTER_BR ? editable.appendBogus() : ranges[ 0 ].fixBlock( 1, config.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div' );\n\n\t\t\t\t\tselection.selectRanges( ranges );\n\t\t\t\t}\n\t\t\t\t// Maybe a single range there enclosing the whole list,\n\t\t\t\t// turn on the list state manually(#4129).\n\t\t\t\telse {\n\t\t\t\t\tvar range = ranges.length == 1 && ranges[ 0 ],\n\t\t\t\t\t\tenclosedNode = range && range.getEnclosedNode();\n\t\t\t\t\tif ( enclosedNode && enclosedNode.is && this.type == enclosedNode.getName() )\n\t\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_ON );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar bookmarks = selection.createBookmarks( true );\n\n\t\t\t// Group the blocks up because there are many cases where multiple lists have to be created,\n\t\t\t// or multiple lists have to be cancelled.\n\t\t\tvar listGroups = [],\n\t\t\t\tdatabase = {},\n\t\t\t\trangeIterator = ranges.createIterator(),\n\t\t\t\tindex = 0;\n\n\t\t\twhile ( ( range = rangeIterator.getNextRange() ) && ++index ) {\n\t\t\t\tvar boundaryNodes = range.getBoundaryNodes(),\n\t\t\t\t\tstartNode = boundaryNodes.startNode,\n\t\t\t\t\tendNode = boundaryNodes.endNode;\n\n\t\t\t\tif ( startNode.type == CKEDITOR.NODE_ELEMENT && startNode.getName() == 'td' )\n\t\t\t\t\trange.setStartAt( boundaryNodes.startNode, CKEDITOR.POSITION_AFTER_START );\n\n\t\t\t\tif ( endNode.type == CKEDITOR.NODE_ELEMENT && endNode.getName() == 'td' )\n\t\t\t\t\trange.setEndAt( boundaryNodes.endNode, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\t\tvar iterator = range.createIterator(),\n\t\t\t\t\tblock;\n\n\t\t\t\titerator.forceBrBreak = ( this.state == CKEDITOR.TRISTATE_OFF );\n\n\t\t\t\twhile ( ( block = iterator.getNextParagraph() ) ) {\n\t\t\t\t\t// Avoid duplicate blocks get processed across ranges.\n\t\t\t\t\tif ( block.getCustomData( 'list_block' ) )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\telse\n\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, block, 'list_block', 1 );\n\n\t\t\t\t\tvar path = editor.elementPath( block ),\n\t\t\t\t\t\tpathElements = path.elements,\n\t\t\t\t\t\tpathElementsCount = pathElements.length,\n\t\t\t\t\t\tprocessedFlag = 0,\n\t\t\t\t\t\tblockLimit = path.blockLimit,\n\t\t\t\t\t\telement;\n\n\t\t\t\t\t// First, try to group by a list ancestor.\n\t\t\t\t\tfor ( var i = pathElementsCount - 1; i >= 0 && ( element = pathElements[ i ] ); i-- ) {\n\t\t\t\t\t\t// Don't leak outside block limit (#3940).\n\t\t\t\t\t\tif ( listNodeNames[ element.getName() ] && blockLimit.contains( element ) ) {\n\t\t\t\t\t\t\t// If we've encountered a list inside a block limit\n\t\t\t\t\t\t\t// The last group object of the block limit element should\n\t\t\t\t\t\t\t// no longer be valid. Since paragraphs after the list\n\t\t\t\t\t\t\t// should belong to a different group of paragraphs before\n\t\t\t\t\t\t\t// the list. (Bug #1309)\n\t\t\t\t\t\t\tblockLimit.removeCustomData( 'list_group_object_' + index );\n\n\t\t\t\t\t\t\tvar groupObj = element.getCustomData( 'list_group_object' );\n\t\t\t\t\t\t\tif ( groupObj )\n\t\t\t\t\t\t\t\tgroupObj.contents.push( block );\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tgroupObj = { root: element, contents: [ block ] };\n\t\t\t\t\t\t\t\tlistGroups.push( groupObj );\n\t\t\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, element, 'list_group_object', groupObj );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprocessedFlag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( processedFlag )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t// No list ancestor? Group by block limit, but don't mix contents from different ranges.\n\t\t\t\t\tvar root = blockLimit;\n\t\t\t\t\tif ( root.getCustomData( 'list_group_object_' + index ) )\n\t\t\t\t\t\troot.getCustomData( 'list_group_object_' + index ).contents.push( block );\n\t\t\t\t\telse {\n\t\t\t\t\t\tgroupObj = { root: root, contents: [ block ] };\n\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, root, 'list_group_object_' + index, groupObj );\n\t\t\t\t\t\tlistGroups.push( groupObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Now we have two kinds of list groups, groups rooted at a list, and groups rooted at a block limit element.\n\t\t\t// We either have to build lists or remove lists, for removing a list does not makes sense when we are looking\n\t\t\t// at the group that's not rooted at lists. So we have three cases to handle.\n\t\t\tvar listsCreated = [];\n\t\t\twhile ( listGroups.length > 0 ) {\n\t\t\t\tgroupObj = listGroups.shift();\n\t\t\t\tif ( this.state == CKEDITOR.TRISTATE_OFF ) {\n\t\t\t\t\tif ( listNodeNames[ groupObj.root.getName() ] )\n\t\t\t\t\t\tchangeListType.call( this, editor, groupObj, database, listsCreated );\n\t\t\t\t\telse\n\t\t\t\t\t\tcreateList.call( this, editor, groupObj, listsCreated );\n\t\t\t\t} else if ( this.state == CKEDITOR.TRISTATE_ON && listNodeNames[ groupObj.root.getName() ] ) {\n\t\t\t\t\tremoveList.call( this, editor, groupObj, database );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// For all new lists created, merge into adjacent, same type lists.\n\t\t\tfor ( i = 0; i < listsCreated.length; i++ )\n\t\t\t\tmergeListSiblings( listsCreated[ i ] );\n\n\t\t\t// Clean up, restore selection and update toolbar button states.\n\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\t\t\tselection.selectBookmarks( bookmarks );\n\t\t\teditor.focus();\n\t\t},\n\n\t\trefresh: function( editor, path ) {\n\t\t\tvar list = path.contains( listNodeNames, 1 ),\n\t\t\t\tlimit = path.blockLimit || path.root;\n\n\t\t\t// 1. Only a single type of list activate.\n\t\t\t// 2. Do not show list outside of block limit.\n\t\t\tif ( list && limit.contains( list ) )\n\t\t\t\tthis.setState( list.is( this.type ) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t\t\telse\n\t\t\t\tthis.setState( CKEDITOR.TRISTATE_OFF );\n\t\t}\n\t};\n\n\t// Merge list adjacent, of same type lists.\n\tfunction mergeListSiblings( listNode ) {\n\n\t\tfunction mergeSibling( rtl ) {\n\t\t\tvar sibling = listNode[ rtl ? 'getPrevious' : 'getNext' ]( nonEmpty );\n\t\t\tif ( sibling && sibling.type == CKEDITOR.NODE_ELEMENT && sibling.is( listNode.getName() ) ) {\n\t\t\t\t// Move children order by merge direction.(#3820)\n\t\t\t\tmergeChildren( listNode, sibling, null, !rtl );\n\n\t\t\t\tlistNode.remove();\n\t\t\t\tlistNode = sibling;\n\t\t\t}\n\t\t}\n\n\t\tmergeSibling();\n\t\tmergeSibling( 1 );\n\t}\n\n\t// Check if node is block element that recieves text.\n\tfunction isTextBlock( node ) {\n\t\treturn node.type == CKEDITOR.NODE_ELEMENT && ( node.getName() in CKEDITOR.dtd.$block || node.getName() in CKEDITOR.dtd.$listItem ) && CKEDITOR.dtd[ node.getName() ][ '#' ];\n\t}\n\n\t// Join visually two block lines.\n\tfunction joinNextLineToCursor( editor, cursor, nextCursor ) {\n\t\teditor.fire( 'saveSnapshot' );\n\n\t\t// Merge with previous block's content.\n\t\tnextCursor.enlarge( CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS );\n\t\tvar frag = nextCursor.extractContents();\n\n\t\tcursor.trim( false, true );\n\t\tvar bm = cursor.createBookmark();\n\n\t\t// Kill original bogus;\n\t\tvar currentPath = new CKEDITOR.dom.elementPath( cursor.startContainer ),\n\t\t\t\tpathBlock = currentPath.block,\n\t\t\t\tcurrentBlock = currentPath.lastElement.getAscendant( 'li', 1 ) || pathBlock,\n\t\t\t\tnextPath = new CKEDITOR.dom.elementPath( nextCursor.startContainer ),\n\t\t\t\tnextLi = nextPath.contains( CKEDITOR.dtd.$listItem ),\n\t\t\t\tnextList = nextPath.contains( CKEDITOR.dtd.$list ),\n\t\t\t\tlast;\n\n\t\t// Remove bogus node the current block/pseudo block.\n\t\tif ( pathBlock ) {\n\t\t\tvar bogus = pathBlock.getBogus();\n\t\t\tbogus && bogus.remove();\n\t\t}\n\t\telse if ( nextList ) {\n\t\t\tlast = nextList.getPrevious( nonEmpty );\n\t\t\tif ( last && blockBogus( last ) )\n\t\t\t\tlast.remove();\n\t\t}\n\n\t\t// Kill the tail br in extracted.\n\t\tlast = frag.getLast();\n\t\tif ( last && last.type == CKEDITOR.NODE_ELEMENT && last.is( 'br' ) )\n\t\t\tlast.remove();\n\n\t\t// Insert fragment at the range position.\n\t\tvar nextNode = cursor.startContainer.getChild( cursor.startOffset );\n\t\tif ( nextNode )\n\t\t\tfrag.insertBefore( nextNode );\n\t\telse\n\t\t\tcursor.startContainer.append( frag );\n\n\t\t// Move the sub list nested in the next list item.\n\t\tif ( nextLi ) {\n\t\t\tvar sublist = getSubList( nextLi );\n\t\t\tif ( sublist ) {\n\t\t\t\t// If next line is in the sub list of the current list item.\n\t\t\t\tif ( currentBlock.contains( nextLi ) ) {\n\t\t\t\t\tmergeChildren( sublist, nextLi.getParent(), nextLi );\n\t\t\t\t\tsublist.remove();\n\t\t\t\t}\n\t\t\t\t// Migrate the sub list to current list item.\n\t\t\t\telse {\n\t\t\t\t\tcurrentBlock.append( sublist );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar nextBlock, parent;\n\t\t// Remove any remaining zombies path blocks at the end after line merged.\n\t\twhile ( nextCursor.checkStartOfBlock() && nextCursor.checkEndOfBlock() ) {\n\t\t\tnextPath = nextCursor.startPath();\n\t\t\tnextBlock = nextPath.block;\n\n\t\t\t// Abort when nothing to be removed (#10890).\n\t\t\tif ( !nextBlock )\n\t\t\t\tbreak;\n\n\t\t\t// Check if also to remove empty list.\n\t\t\tif ( nextBlock.is( 'li' ) ) {\n\t\t\t\tparent = nextBlock.getParent();\n\t\t\t\tif ( nextBlock.equals( parent.getLast( nonEmpty ) ) && nextBlock.equals( parent.getFirst( nonEmpty ) ) )\n\t\t\t\t\tnextBlock = parent;\n\t\t\t}\n\n\t\t\tnextCursor.moveToPosition( nextBlock, CKEDITOR.POSITION_BEFORE_START );\n\t\t\tnextBlock.remove();\n\t\t}\n\n\t\t// Check if need to further merge with the list resides after the merged block. (#9080)\n\t\tvar walkerRng = nextCursor.clone(), editable = editor.editable();\n\t\twalkerRng.setEndAt( editable, CKEDITOR.POSITION_BEFORE_END );\n\t\tvar walker = new CKEDITOR.dom.walker( walkerRng );\n\t\twalker.evaluator = function( node ) {\n\t\t\treturn nonEmpty( node ) && !blockBogus( node );\n\t\t};\n\t\tvar next = walker.next();\n\t\tif ( next && next.type == CKEDITOR.NODE_ELEMENT && next.getName() in CKEDITOR.dtd.$list )\n\t\t\tmergeListSiblings( next );\n\n\t\tcursor.moveToBookmark( bm );\n\n\t\t// Make fresh selection.\n\t\tcursor.select();\n\n\t\teditor.fire( 'saveSnapshot' );\n\t}\n\n\tfunction getSubList( li ) {\n\t\tvar last = li.getLast( nonEmpty );\n\t\treturn last && last.type == CKEDITOR.NODE_ELEMENT && last.getName() in listNodeNames ? last : null;\n\t}\n\n\tCKEDITOR.plugins.add( 'list', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'bulletedlist,bulletedlist-rtl,numberedlist,numberedlist-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\trequires: 'indentlist',\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\t// Register commands.\n\t\t\teditor.addCommand( 'numberedlist', new listCommand( 'numberedlist', 'ol' ) );\n\t\t\teditor.addCommand( 'bulletedlist', new listCommand( 'bulletedlist', 'ul' ) );\n\n\t\t\t// Register the toolbar button.\n\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\teditor.ui.addButton( 'NumberedList', {\n\t\t\t\t\tlabel: editor.lang.list.numberedlist,\n\t\t\t\t\tcommand: 'numberedlist',\n\t\t\t\t\tdirectional: true,\n\t\t\t\t\ttoolbar: 'list,10'\n\t\t\t\t} );\n\t\t\t\teditor.ui.addButton( 'BulletedList', {\n\t\t\t\t\tlabel: editor.lang.list.bulletedlist,\n\t\t\t\t\tcommand: 'bulletedlist',\n\t\t\t\t\tdirectional: true,\n\t\t\t\t\ttoolbar: 'list,20'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Handled backspace/del key to join list items. (#8248,#9080)\n\t\t\teditor.on( 'key', function( evt ) {\n\t\t\t\t// Use getKey directly in order to ignore modifiers.\n\t\t\t\t// Justification: http://dev.ckeditor.com/ticket/11861#comment:13\n\t\t\t\tvar key = evt.data.domEvent.getKey(), li;\n\n\t\t\t\t// DEl/BACKSPACE\n\t\t\t\tif ( editor.mode == 'wysiwyg' && key in { 8: 1, 46: 1 } ) {\n\t\t\t\t\tvar sel = editor.getSelection(),\n\t\t\t\t\t\trange = sel.getRanges()[ 0 ],\n\t\t\t\t\t\tpath = range && range.startPath();\n\n\t\t\t\t\tif ( !range || !range.collapsed )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar isBackspace = key == 8;\n\t\t\t\t\tvar editable = editor.editable();\n\t\t\t\t\tvar walker = new CKEDITOR.dom.walker( range.clone() );\n\t\t\t\t\twalker.evaluator = function( node ) {\n\t\t\t\t\t\treturn nonEmpty( node ) && !blockBogus( node );\n\t\t\t\t\t};\n\t\t\t\t\t// Backspace/Del behavior at the start/end of table is handled in core.\n\t\t\t\t\twalker.guard = function( node, isOut ) {\n\t\t\t\t\t\treturn !( isOut && node.type == CKEDITOR.NODE_ELEMENT && node.is( 'table' ) );\n\t\t\t\t\t};\n\n\t\t\t\t\tvar cursor = range.clone();\n\n\t\t\t\t\tif ( isBackspace ) {\n\t\t\t\t\t\tvar previous, joinWith;\n\n\t\t\t\t\t\t// Join a sub list's first line, with the previous visual line in parent.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t( previous = path.contains( listNodeNames ) ) &&\n\t\t\t\t\t\t\trange.checkBoundaryOfElement( previous, CKEDITOR.START ) &&\n\t\t\t\t\t\t\t( previous = previous.getParent() ) && previous.is( 'li' ) &&\n\t\t\t\t\t\t\t( previous = getSubList( previous ) )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tjoinWith = previous;\n\t\t\t\t\t\t\tprevious = previous.getPrevious( nonEmpty );\n\t\t\t\t\t\t\t// Place cursor before the nested list.\n\t\t\t\t\t\t\tcursor.moveToPosition(\n\t\t\t\t\t\t\t\tprevious && blockBogus( previous ) ? previous : joinWith,\n\t\t\t\t\t\t\t\tCKEDITOR.POSITION_BEFORE_START );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Join any line following a list, with the last visual line of the list.\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\twalker.range.setStartAt( editable, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\t\twalker.range.setEnd( range.startContainer, range.startOffset );\n\n\t\t\t\t\t\t\tprevious = walker.previous();\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tprevious && previous.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t\t\t\t( previous.getName() in listNodeNames ||\n\t\t\t\t\t\t\t\tprevious.is( 'li' ) )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif ( !previous.is( 'li' ) ) {\n\t\t\t\t\t\t\t\t\twalker.range.selectNodeContents( previous );\n\t\t\t\t\t\t\t\t\twalker.reset();\n\t\t\t\t\t\t\t\t\twalker.evaluator = isTextBlock;\n\t\t\t\t\t\t\t\t\tprevious = walker.previous();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tjoinWith = previous;\n\t\t\t\t\t\t\t\t// Place cursor at the end of previous block.\n\t\t\t\t\t\t\t\tcursor.moveToElementEditEnd( joinWith );\n\n\t\t\t\t\t\t\t\t// And then just before end of closest block element (#12729).\n\t\t\t\t\t\t\t\tcursor.moveToPosition( cursor.endPath().block, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( joinWith ) {\n\t\t\t\t\t\t\tjoinNextLineToCursor( editor, cursor, range );\n\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar list = path.contains( listNodeNames );\n\t\t\t\t\t\t\t// Backspace pressed at the start of list outdents the first list item. (#9129)\n\t\t\t\t\t\t\tif ( list && range.checkBoundaryOfElement( list, CKEDITOR.START ) ) {\n\t\t\t\t\t\t\t\tli = list.getFirst( nonEmpty );\n\n\t\t\t\t\t\t\t\tif ( range.checkBoundaryOfElement( li, CKEDITOR.START ) ) {\n\t\t\t\t\t\t\t\t\tprevious = list.getPrevious( nonEmpty );\n\n\t\t\t\t\t\t\t\t\t// Only if the list item contains a sub list, do nothing but\n\t\t\t\t\t\t\t\t\t// simply move cursor backward one character.\n\t\t\t\t\t\t\t\t\tif ( getSubList( li ) ) {\n\t\t\t\t\t\t\t\t\t\tif ( previous ) {\n\t\t\t\t\t\t\t\t\t\t\trange.moveToElementEditEnd( previous );\n\t\t\t\t\t\t\t\t\t\t\trange.select();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\teditor.execCommand( 'outdent' );\n\t\t\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar next, nextLine;\n\n\t\t\t\t\t\tli = path.contains( 'li' );\n\n\t\t\t\t\t\tif ( li ) {\n\t\t\t\t\t\t\twalker.range.setEndAt( editable, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\t\t\t\t\tvar last = li.getLast( nonEmpty );\n\t\t\t\t\t\t\tvar block = last && isTextBlock( last ) ? last : li;\n\n\t\t\t\t\t\t\t// Indicate cursor at the visual end of an list item.\n\t\t\t\t\t\t\tvar isAtEnd = 0;\n\n\t\t\t\t\t\t\tnext = walker.next();\n\n\t\t\t\t\t\t\t// When list item contains a sub list.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tnext && next.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t\t\t\tnext.getName() in listNodeNames &&\n\t\t\t\t\t\t\t\tnext.equals( last )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tisAtEnd = 1;\n\n\t\t\t\t\t\t\t\t// Move to the first item in sub list.\n\t\t\t\t\t\t\t\tnext = walker.next();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Right at the end of list item.\n\t\t\t\t\t\t\telse if ( range.checkBoundaryOfElement( block, CKEDITOR.END ) ) {\n\t\t\t\t\t\t\t\tisAtEnd = 2;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( isAtEnd && next ) {\n\t\t\t\t\t\t\t\t// Put cursor range there.\n\t\t\t\t\t\t\t\tnextLine = range.clone();\n\t\t\t\t\t\t\t\tnextLine.moveToElementEditStart( next );\n\n\t\t\t\t\t\t\t\t// #13409\n\t\t\t\t\t\t\t\t// For the following case and similar\n\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t// <ul>\n\t\t\t\t\t\t\t\t// \t<li>\n\t\t\t\t\t\t\t\t// \t\t<p><a href=\"#one\"><em>x^</em></a></p>\n\t\t\t\t\t\t\t\t// \t\t<ul>\n\t\t\t\t\t\t\t\t// \t\t\t<li><span>y</span></li>\n\t\t\t\t\t\t\t\t// \t\t</ul>\n\t\t\t\t\t\t\t\t// \t</li>\n\t\t\t\t\t\t\t\t// </ul>\n\t\t\t\t\t\t\t\tif ( isAtEnd == 1 ) {\n\t\t\t\t\t\t\t\t\t// Move the cursor to <em> if attached to \"x\" text node.\n\t\t\t\t\t\t\t\t\tcursor.optimize();\n\n\t\t\t\t\t\t\t\t\t// Abort if the range is attached directly in <li>, like\n\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t// <ul>\n\t\t\t\t\t\t\t\t\t// \t<li>\n\t\t\t\t\t\t\t\t\t// \t\tx^\n\t\t\t\t\t\t\t\t\t// \t\t<ul>\n\t\t\t\t\t\t\t\t\t// \t\t\t<li><span>y</span></li>\n\t\t\t\t\t\t\t\t\t// \t\t</ul>\n\t\t\t\t\t\t\t\t\t// \t</li>\n\t\t\t\t\t\t\t\t\t// </ul>\n\t\t\t\t\t\t\t\t\tif ( !cursor.startContainer.equals( li ) ) {\n\t\t\t\t\t\t\t\t\t\tvar node = cursor.startContainer,\n\t\t\t\t\t\t\t\t\t\t\tfarthestInlineAscendant;\n\n\t\t\t\t\t\t\t\t\t\t// Find <a>, which is farthest from <em> but still inline element.\n\t\t\t\t\t\t\t\t\t\twhile ( node.is( CKEDITOR.dtd.$inline ) ) {\n\t\t\t\t\t\t\t\t\t\t\tfarthestInlineAscendant = node;\n\t\t\t\t\t\t\t\t\t\t\tnode = node.getParent();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Move the range so it does not contain inline elements.\n\t\t\t\t\t\t\t\t\t\t// It prevents <span> from being included in <em>.\n\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t// <ul>\n\t\t\t\t\t\t\t\t\t\t// \t<li>\n\t\t\t\t\t\t\t\t\t\t// \t\t<p><a href=\"#one\"><em>x</em></a>^</p>\n\t\t\t\t\t\t\t\t\t\t// \t\t<ul>\n\t\t\t\t\t\t\t\t\t\t// \t\t\t<li><span>y</span></li>\n\t\t\t\t\t\t\t\t\t\t// \t\t</ul>\n\t\t\t\t\t\t\t\t\t\t// \t</li>\n\t\t\t\t\t\t\t\t\t\t// </ul>\n\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t// so instead of\n\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t// <ul>\n\t\t\t\t\t\t\t\t\t\t// \t<li>\n\t\t\t\t\t\t\t\t\t\t// \t\t<p><a href=\"#one\"><em>x^<span>y</span></em></a></p>\n\t\t\t\t\t\t\t\t\t\t// \t</li>\n\t\t\t\t\t\t\t\t\t\t// </ul>\n\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t// pressing DELETE produces\n\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t// <ul>\n\t\t\t\t\t\t\t\t\t\t// \t<li>\n\t\t\t\t\t\t\t\t\t\t// \t\t<p><a href=\"#one\"><em>x</em></a>^<span>y</span></p>\n\t\t\t\t\t\t\t\t\t\t// \t</li>\n\t\t\t\t\t\t\t\t\t\t// </ul>\n\t\t\t\t\t\t\t\t\t\tif ( farthestInlineAscendant ) {\n\t\t\t\t\t\t\t\t\t\t\tcursor.moveToPosition( farthestInlineAscendant, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Moving `cursor` and `next line` only when at the end literally (#12729).\n\t\t\t\t\t\t\t\tif ( isAtEnd == 2 ) {\n\t\t\t\t\t\t\t\t\tcursor.moveToPosition( cursor.endPath().block, CKEDITOR.POSITION_BEFORE_END );\n\n\t\t\t\t\t\t\t\t\t// Next line might be text node not wrapped in block element.\n\t\t\t\t\t\t\t\t\tif ( nextLine.endPath().block ) {\n\t\t\t\t\t\t\t\t\t\tnextLine.moveToPosition( nextLine.endPath().block, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tjoinNextLineToCursor( editor, cursor, nextLine );\n\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Handle Del key pressed before the list.\n\t\t\t\t\t\t\twalker.range.setEndAt( editable, CKEDITOR.POSITION_BEFORE_END );\n\t\t\t\t\t\t\tnext = walker.next();\n\n\t\t\t\t\t\t\tif ( next && next.type == CKEDITOR.NODE_ELEMENT && next.is( listNodeNames ) ) {\n\t\t\t\t\t\t\t\t// The start <li>\n\t\t\t\t\t\t\t\tnext = next.getFirst( nonEmpty );\n\n\t\t\t\t\t\t\t\t// Simply remove the current empty block, move cursor to the\n\t\t\t\t\t\t\t\t// subsequent list.\n\t\t\t\t\t\t\t\tif ( path.block && range.checkStartOfBlock() && range.checkEndOfBlock() ) {\n\t\t\t\t\t\t\t\t\tpath.block.remove();\n\t\t\t\t\t\t\t\t\trange.moveToElementEditStart( next );\n\t\t\t\t\t\t\t\t\trange.select();\n\t\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Preventing the default (merge behavior), but simply move\n\t\t\t\t\t\t\t\t// the cursor one character forward if subsequent list item\n\t\t\t\t\t\t\t\t// contains sub list.\n\t\t\t\t\t\t\t\telse if ( getSubList( next )  ) {\n\t\t\t\t\t\t\t\t\trange.moveToElementEditStart( next );\n\t\t\t\t\t\t\t\t\trange.select();\n\t\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Merge the first list item with the current line.\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tnextLine = range.clone();\n\t\t\t\t\t\t\t\t\tnextLine.moveToElementEditStart( next );\n\t\t\t\t\t\t\t\t\tjoinNextLineToCursor( editor, cursor, nextLine );\n\t\t\t\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// The backspace/del could potentially put cursor at a bad position,\n\t\t\t\t\t// being it handled or not, check immediately the selection to have it fixed.\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\teditor.selectionChange( 1 );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/list/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tCKEDITOR.plugins.liststyle = {\n\t\trequires: 'dialog,contextmenu',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\tvar def, cmd;\n\n\t\t\tdef = new CKEDITOR.dialogCommand( 'numberedListStyle', {\n\t\t\t\trequiredContent: 'ol',\n\t\t\t\tallowedContent: 'ol{list-style-type}[start]'\n\t\t\t} );\n\t\t\tcmd = editor.addCommand( 'numberedListStyle', def );\n\t\t\teditor.addFeature( cmd );\n\t\t\tCKEDITOR.dialog.add( 'numberedListStyle', this.path + 'dialogs/liststyle.js' );\n\n\t\t\tdef = new CKEDITOR.dialogCommand( 'bulletedListStyle', {\n\t\t\t\trequiredContent: 'ul',\n\t\t\t\tallowedContent: 'ul{list-style-type}'\n\t\t\t} );\n\t\t\tcmd = editor.addCommand( 'bulletedListStyle', def );\n\t\t\teditor.addFeature( cmd );\n\t\t\tCKEDITOR.dialog.add( 'bulletedListStyle', this.path + 'dialogs/liststyle.js' );\n\n\t\t\t//Register map group;\n\t\t\teditor.addMenuGroup( 'list', 108 );\n\n\t\t\teditor.addMenuItems( {\n\t\t\t\tnumberedlist: {\n\t\t\t\t\tlabel: editor.lang.liststyle.numberedTitle,\n\t\t\t\t\tgroup: 'list',\n\t\t\t\t\tcommand: 'numberedListStyle'\n\t\t\t\t},\n\t\t\t\tbulletedlist: {\n\t\t\t\t\tlabel: editor.lang.liststyle.bulletedTitle,\n\t\t\t\t\tgroup: 'list',\n\t\t\t\t\tcommand: 'bulletedListStyle'\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t\t\tif ( !element || element.isReadOnly() )\n\t\t\t\t\treturn null;\n\n\t\t\t\twhile ( element ) {\n\t\t\t\t\tvar name = element.getName();\n\t\t\t\t\tif ( name == 'ol' )\n\t\t\t\t\t\treturn { numberedlist: CKEDITOR.TRISTATE_OFF };\n\t\t\t\t\telse if ( name == 'ul' )\n\t\t\t\t\t\treturn { bulletedlist: CKEDITOR.TRISTATE_OFF };\n\n\t\t\t\t\telement = element.getParent();\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t} );\n\t\t}\n\t};\n\n\tCKEDITOR.plugins.add( 'liststyle', CKEDITOR.plugins.liststyle );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/liststyle/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The [Magic Line](http://ckeditor.com/addon/magicline) plugin that makes it easier to access some document areas that\n * are difficult to focus.\n */\n\n'use strict';\n\n( function() {\n\tCKEDITOR.plugins.add( 'magicline', {\n\t\tlang: 'af,ar,bg,ca,cs,cy,da,de,de-ch,el,en,en-gb,eo,es,et,eu,fa,fi,fr,fr-ca,gl,he,hr,hu,id,it,ja,km,ko,ku,lv,nb,nl,no,pl,pt,pt-br,ru,si,sk,sl,sq,sv,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\tinit: initPlugin\n\t} );\n\n\t// Activates the box inside of an editor.\n\tfunction initPlugin( editor ) {\n\t\t// Configurables\n\t\tvar config = editor.config,\n\t\t\ttriggerOffset = config.magicline_triggerOffset || 30,\n\t\t\tenterMode = config.enterMode,\n\t\t\tthat = {\n\t\t\t\t// Global stuff is being initialized here.\n\t\t\t\teditor: editor,\n\t\t\t\tenterMode: enterMode,\n\t\t\t\ttriggerOffset: triggerOffset,\n\t\t\t\tholdDistance: 0 | triggerOffset * ( config.magicline_holdDistance || 0.5 ),\n\t\t\t\tboxColor: config.magicline_color || '#ff0000',\n\t\t\t\trtl: config.contentsLangDirection == 'rtl',\n\t\t\t\ttabuList: [ 'data-cke-hidden-sel' ].concat( config.magicline_tabuList || [] ),\n\t\t\t\ttriggers: config.magicline_everywhere ? DTD_BLOCK : { table: 1, hr: 1, div: 1, ul: 1, ol: 1, dl: 1, form: 1, blockquote: 1 }\n\t\t\t},\n\t\t\tscrollTimeout, checkMouseTimeoutPending, checkMouseTimer;\n\n\t\t// %REMOVE_START%\n\t\t// Internal DEBUG uses tools located in the topmost window.\n\n\t\t// (#9701) Due to security limitations some browsers may throw\n\t\t// errors when accessing window.top object. Do it safely first then.\n\t\ttry {\n\t\t\tthat.debug = window.top.DEBUG;\n\t\t}\n\t\tcatch ( e ) {}\n\n\t\tthat.debug = that.debug || {\n\t\t\tgroupEnd: function() {},\n\t\t\tgroupStart: function() {},\n\t\t\tlog: function() {},\n\t\t\tlogElements: function() {},\n\t\t\tlogElementsEnd: function() {},\n\t\t\tlogEnd: function() {},\n\t\t\tmousePos: function() {},\n\t\t\tshowHidden: function() {},\n\t\t\tshowTrigger: function() {},\n\t\t\tstartTimer: function() {},\n\t\t\tstopTimer: function() {}\n\t\t};\n\t\t// %REMOVE_END%\n\n\t\t// Simple irrelevant elements filter.\n\t\tthat.isRelevant = function( node ) {\n\t\t\treturn isHtml( node ) && // -> Node must be an existing HTML element.\n\t\t\t\t!isLine( that, node ) && // -> Node can be neither the box nor its child.\n\t\t\t\t!isFlowBreaker( node ); // -> Node can be neither floated nor positioned nor aligned.\n\t\t};\n\n\t\teditor.on( 'contentDom', addListeners, this );\n\n\t\tfunction addListeners() {\n\t\t\tvar editable = editor.editable(),\n\t\t\t\tdoc = editor.document,\n\t\t\t\twin = editor.window;\n\n\t\t\t// Global stuff is being initialized here.\n\t\t\textend( that, {\n\t\t\t\teditable: editable,\n\t\t\t\tinInlineMode: editable.isInline(),\n\t\t\t\tdoc: doc,\n\t\t\t\twin: win,\n\t\t\t\thotNode: null\n\t\t\t}, true );\n\n\t\t\t// This is the boundary of the editor. For inline the boundary is editable itself.\n\t\t\t// For classic (`iframe`-based) editor, the HTML element is a real boundary.\n\t\t\tthat.boundary = that.inInlineMode ? that.editable : that.doc.getDocumentElement();\n\n\t\t\t// Enabling the box inside of inline editable is pointless.\n\t\t\t// There's no need to access spaces inside paragraphs, links, spans, etc.\n\t\t\tif ( editable.is( dtd.$inline ) )\n\t\t\t\treturn;\n\n\t\t\t// Handle in-line editing by setting appropriate position.\n\t\t\t// If current position is static, make it relative and clear top/left coordinates.\n\t\t\tif ( that.inInlineMode && !isPositioned( editable ) ) {\n\t\t\t\teditable.setStyles( {\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\ttop: null,\n\t\t\t\t\tleft: null\n\t\t\t\t} );\n\t\t\t}\n\t\t\t// Enable the box. Let it produce children elements, initialize\n\t\t\t// event handlers and own methods.\n\t\t\tinitLine.call( this, that );\n\n\t\t\t// Get view dimensions and scroll positions.\n\t\t\t// At this stage (before any checkMouse call) it is used mostly\n\t\t\t// by tests. Nevertheless it a crucial thing.\n\t\t\tupdateWindowSize( that );\n\n\t\t\t// Remove the box before an undo image is created.\n\t\t\t// This is important. If we didn't do that, the *undo thing* would revert the box into an editor.\n\t\t\t// Thanks to that, undo doesn't even know about the existence of the box.\n\t\t\teditable.attachListener( editor, 'beforeUndoImage', function() {\n\t\t\t\tthat.line.detach();\n\t\t\t} );\n\n\t\t\t// Removes the box HTML from editor data string if getData is called.\n\t\t\t// Thanks to that, an editor never yields data polluted by the box.\n\t\t\t// Listen with very high priority, so line will be removed before other\n\t\t\t// listeners will see it.\n\t\t\teditable.attachListener( editor, 'beforeGetData', function() {\n\t\t\t\t// If the box is in editable, remove it.\n\t\t\t\tif ( that.line.wrap.getParent() ) {\n\t\t\t\t\tthat.line.detach();\n\n\t\t\t\t\t// Restore line in the last listener for 'getData'.\n\t\t\t\t\teditor.once( 'getData', function() {\n\t\t\t\t\t\tthat.line.attach();\n\t\t\t\t\t}, null, null, 1000 );\n\t\t\t\t}\n\t\t\t}, null, null, 0 );\n\n\t\t\t// Hide the box on mouseout if mouse leaves document.\n\t\t\teditable.attachListener( that.inInlineMode ? doc : doc.getWindow().getFrame(), 'mouseout', function( event ) {\n\t\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\t\treturn;\n\n\t\t\t\t// Check for inline-mode editor. If so, check mouse position\n\t\t\t\t// and remove the box if mouse outside of an editor.\n\t\t\t\tif ( that.inInlineMode ) {\n\t\t\t\t\tvar mouse = {\n\t\t\t\t\t\tx: event.data.$.clientX,\n\t\t\t\t\t\ty: event.data.$.clientY\n\t\t\t\t\t};\n\n\t\t\t\t\tupdateWindowSize( that );\n\t\t\t\t\tupdateEditableSize( that, true );\n\n\t\t\t\t\tvar size = that.view.editable,\n\t\t\t\t\t\tscroll = that.view.scroll;\n\n\t\t\t\t\t// If outside of an editor...\n\t\t\t\t\tif ( !inBetween( mouse.x, size.left - scroll.x, size.right - scroll.x ) || !inBetween( mouse.y, size.top - scroll.y, size.bottom - scroll.y ) ) {\n\t\t\t\t\t\tclearTimeout( checkMouseTimer );\n\t\t\t\t\t\tcheckMouseTimer = null;\n\t\t\t\t\t\tthat.line.detach();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tclearTimeout( checkMouseTimer );\n\t\t\t\t\tcheckMouseTimer = null;\n\t\t\t\t\tthat.line.detach();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// This one deactivates hidden mode of an editor which\n\t\t\t// prevents the box from being shown.\n\t\t\teditable.attachListener( editable, 'keyup', function() {\n\t\t\t\tthat.hiddenMode = 0;\n\t\t\t\tthat.debug.showHidden( that.hiddenMode ); // %REMOVE_LINE%\n\t\t\t} );\n\n\t\t\teditable.attachListener( editable, 'keydown', function( event ) {\n\t\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar keyStroke = event.data.getKeystroke();\n\n\t\t\t\tswitch ( keyStroke ) {\n\t\t\t\t\t// Shift pressed\n\t\t\t\t\tcase 2228240: // IE\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\tthat.hiddenMode = 1;\n\t\t\t\t\t\tthat.line.detach();\n\t\t\t\t}\n\n\t\t\t\tthat.debug.showHidden( that.hiddenMode ); // %REMOVE_LINE%\n\t\t\t} );\n\n\t\t\t// This method ensures that checkMouse aren't executed\n\t\t\t// in parallel and no more frequently than specified in timeout function.\n\t\t\t// In classic (`iframe`-based) editor, document is used as a trigger, to provide magicline\n\t\t\t// functionality when mouse is below the body (short content, short body).\n\t\t\teditable.attachListener( that.inInlineMode ? editable : doc, 'mousemove', function( event ) {\n\t\t\t\tcheckMouseTimeoutPending = true;\n\n\t\t\t\tif ( editor.mode != 'wysiwyg' || editor.readOnly || checkMouseTimer )\n\t\t\t\t\treturn;\n\n\t\t\t\t// IE<9 requires this event-driven object to be created\n\t\t\t\t// outside of the setTimeout statement.\n\t\t\t\t// Otherwise it loses the event object with its properties.\n\t\t\t\tvar mouse = {\n\t\t\t\t\tx: event.data.$.clientX,\n\t\t\t\t\ty: event.data.$.clientY\n\t\t\t\t};\n\n\t\t\t\tcheckMouseTimer = setTimeout( function() {\n\t\t\t\t\tcheckMouse( mouse );\n\t\t\t\t}, 30 ); // balances performance and accessibility\n\t\t\t} );\n\n\t\t\t// This one removes box on scroll event.\n\t\t\t// It is to avoid box displacement.\n\t\t\teditable.attachListener( win, 'scroll', function() {\n\t\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\t\treturn;\n\n\t\t\t\tthat.line.detach();\n\n\t\t\t\t// To figure this out just look at the mouseup\n\t\t\t\t// event handler below.\n\t\t\t\tif ( env.webkit ) {\n\t\t\t\t\tthat.hiddenMode = 1;\n\n\t\t\t\t\tclearTimeout( scrollTimeout );\n\t\t\t\t\tscrollTimeout = setTimeout( function() {\n\t\t\t\t\t\t// Don't leave hidden mode until mouse remains pressed and\n\t\t\t\t\t\t// scroll is being used, i.e. when dragging something.\n\t\t\t\t\t\tif ( !that.mouseDown )\n\t\t\t\t\t\t\tthat.hiddenMode = 0;\n\t\t\t\t\t\tthat.debug.showHidden( that.hiddenMode ); // %REMOVE_LINE%\n\t\t\t\t\t}, 50 );\n\n\t\t\t\t\tthat.debug.showHidden( that.hiddenMode ); // %REMOVE_LINE%\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Those event handlers remove the box on mousedown\n\t\t\t// and don't reveal it until the mouse is released.\n\t\t\t// It is to prevent box insertion e.g. while scrolling\n\t\t\t// (w/ scrollbar), selecting and so on.\n\t\t\teditable.attachListener( env_ie8 ? doc : win, 'mousedown', function() {\n\t\t\t\tif ( editor.mode != 'wysiwyg' )\n\t\t\t\t\treturn;\n\n\t\t\t\tthat.line.detach();\n\t\t\t\tthat.hiddenMode = 1;\n\t\t\t\tthat.mouseDown = 1;\n\n\t\t\t\tthat.debug.showHidden( that.hiddenMode ); // %REMOVE_LINE%\n\t\t\t} );\n\n\t\t\t// Google Chrome doesn't trigger this on the scrollbar (since 2009...)\n\t\t\t// so it is totally useless to check for scroll finish\n\t\t\t// see: http://code.google.com/p/chromium/issues/detail?id=14204\n\t\t\teditable.attachListener( env_ie8 ? doc : win, 'mouseup', function() {\n\t\t\t\tthat.hiddenMode = 0;\n\t\t\t\tthat.mouseDown = 0;\n\t\t\t\tthat.debug.showHidden( that.hiddenMode ); // %REMOVE_LINE%\n\t\t\t} );\n\n\t\t\t// Editor commands for accessing difficult focus spaces.\n\t\t\teditor.addCommand( 'accessPreviousSpace', accessFocusSpaceCmd( that ) );\n\t\t\teditor.addCommand( 'accessNextSpace', accessFocusSpaceCmd( that, true ) );\n\n\t\t\teditor.setKeystroke( [\n\t\t\t\t[ config.magicline_keystrokePrevious, 'accessPreviousSpace' ],\n\t\t\t\t[ config.magicline_keystrokeNext, 'accessNextSpace' ]\n\t\t\t] );\n\n\t\t\t// Revert magicline hot node on undo/redo.\n\t\t\teditor.on( 'loadSnapshot', function() {\n\t\t\t\tvar elements, element, i;\n\n\t\t\t\tfor ( var t in { p: 1, br: 1, div: 1 } ) {\n\t\t\t\t\t// document.find is not available in QM (#11149).\n\t\t\t\t\telements = editor.document.getElementsByTag( t );\n\n\t\t\t\t\tfor ( i = elements.count(); i--; ) {\n\t\t\t\t\t\tif ( ( element = elements.getItem( i ) ).data( 'cke-magicline-hot' ) ) {\n\t\t\t\t\t\t\t// Restore hotNode\n\t\t\t\t\t\t\tthat.hotNode = element;\n\t\t\t\t\t\t\t// Restore last access direction\n\t\t\t\t\t\t\tthat.lastCmdDirection = element.data( 'cke-magicline-dir' ) === 'true' ? true : false;\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// This method handles mousemove mouse for box toggling.\n\t\t\t// It uses mouse position to determine underlying element, then\n\t\t\t// it tries to use different trigger type in order to place the box\n\t\t\t// in correct place. The following procedure is executed periodically.\n\t\t\tfunction checkMouse( mouse ) {\n\t\t\t\tthat.debug.groupStart( 'CheckMouse' ); // %REMOVE_LINE%\n\t\t\t\tthat.debug.startTimer(); // %REMOVE_LINE%\n\n\t\t\t\tthat.mouse = mouse;\n\t\t\t\tthat.trigger = null;\n\n\t\t\t\tcheckMouseTimer = null;\n\t\t\t\tupdateWindowSize( that );\n\n\t\t\t\tif (\n\t\t\t\t\tcheckMouseTimeoutPending &&\t\t\t\t\t\t\t\t// There must be an event pending.\n\t\t\t\t\t!that.hiddenMode &&\t\t\t\t\t\t\t\t\t\t// Can't be in hidden mode.\n\t\t\t\t\teditor.focusManager.hasFocus &&\t\t\t\t\t\t\t// Editor must have focus.\n\t\t\t\t\t!that.line.mouseNear() &&\t\t\t\t\t\t\t\t// Mouse pointer can't be close to the box.\n\t\t\t\t\t( that.element = elementFromMouse( that, true ) )\t\t// There must be valid element.\n\t\t\t\t) {\n\t\t\t\t\t// If trigger exists, and trigger is correct -> show the box.\n\t\t\t\t\t// Don't show the line if trigger is a descendant of some tabu-list element.\n\t\t\t\t\tif ( ( that.trigger = triggerEditable( that ) || triggerEdge( that ) || triggerExpand( that ) ) &&\n\t\t\t\t\t\t!isInTabu( that, that.trigger.upper || that.trigger.lower ) ) {\n\t\t\t\t\t\tthat.line.attach().place();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Otherwise remove the box\n\t\t\t\t\telse {\n\t\t\t\t\t\tthat.trigger = null;\n\t\t\t\t\t\tthat.line.detach();\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.debug.showTrigger( that.trigger ); // %REMOVE_LINE%\n\t\t\t\t\tthat.debug.mousePos( mouse.y, that.element ); // %REMOVE_LINE%\n\n\t\t\t\t\tcheckMouseTimeoutPending = false;\n\t\t\t\t}\n\n\t\t\t\tthat.debug.stopTimer(); // %REMOVE_LINE%\n\t\t\t\tthat.debug.groupEnd(); // %REMOVE_LINE%\n\t\t\t}\n\n\t\t\t// This one allows testing and debugging. It reveals some\n\t\t\t// inner methods to the world.\n\t\t\tthis.backdoor = {\n\t\t\t\taccessFocusSpace: accessFocusSpace,\n\t\t\t\tboxTrigger: boxTrigger,\n\t\t\t\tisLine: isLine,\n\t\t\t\tgetAscendantTrigger: getAscendantTrigger,\n\t\t\t\tgetNonEmptyNeighbour: getNonEmptyNeighbour,\n\t\t\t\tgetSize: getSize,\n\t\t\t\tthat: that,\n\t\t\t\ttriggerEdge: triggerEdge,\n\t\t\t\ttriggerEditable: triggerEditable,\n\t\t\t\ttriggerExpand: triggerExpand\n\t\t\t};\n\t\t}\n\t}\n\n\t// Some shorthands for common methods to save bytes\n\tvar extend = CKEDITOR.tools.extend,\n\t\tnewElement = CKEDITOR.dom.element,\n\t\tnewElementFromHtml = newElement.createFromHtml,\n\t\tenv = CKEDITOR.env,\n\t\tenv_ie8 = CKEDITOR.env.ie && CKEDITOR.env.version < 9,\n\t\tdtd = CKEDITOR.dtd,\n\n\t\t// Global object associating enter modes with elements.\n\t\tenterElements = {},\n\n\t\t// Constant values, types and so on.\n\t\tEDGE_TOP = 128,\n\t\tEDGE_BOTTOM = 64,\n\t\tEDGE_MIDDLE = 32,\n\t\tTYPE_EDGE = 16,\n\t\tTYPE_EXPAND = 8,\n\t\tLOOK_TOP = 4,\n\t\tLOOK_BOTTOM = 2,\n\t\tLOOK_NORMAL = 1,\n\t\tWHITE_SPACE = '\\u00A0',\n\t\tDTD_LISTITEM = dtd.$listItem,\n\t\tDTD_TABLECONTENT = dtd.$tableContent,\n\t\tDTD_NONACCESSIBLE = extend( {}, dtd.$nonEditable, dtd.$empty ),\n\t\tDTD_BLOCK = dtd.$block,\n\n\t\t// Minimum time that must elapse between two update*Size calls.\n\t\t// It prevents constant getComuptedStyle calls and improves performance.\n\t\tCACHE_TIME = 100,\n\n\t\t// Shared CSS stuff for box elements\n\t\tCSS_COMMON = 'width:0px;height:0px;padding:0px;margin:0px;display:block;' + 'z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;',\n\t\tCSS_TRIANGLE = CSS_COMMON + 'border-color:transparent;display:block;border-style:solid;',\n\t\tTRIANGLE_HTML = '<span>' + WHITE_SPACE + '</span>';\n\n\tenterElements[ CKEDITOR.ENTER_BR ] = 'br';\n\tenterElements[ CKEDITOR.ENTER_P ] = 'p';\n\tenterElements[ CKEDITOR.ENTER_DIV ] = 'div';\n\n\tfunction areSiblings( that, upper, lower ) {\n\t\treturn isHtml( upper ) && isHtml( lower ) && lower.equals( upper.getNext( function( node ) {\n\t\t\treturn !( isEmptyTextNode( node ) || isComment( node ) || isFlowBreaker( node ) );\n\t\t} ) );\n\t}\n\n\t// boxTrigger is an abstract type which describes\n\t// the relationship between elements that may result\n\t// in showing the box.\n\t//\n\t// The following type is used by numerous methods\n\t// to share information about the hypothetical box placement\n\t// and look by referring to boxTrigger properties.\n\tfunction boxTrigger( triggerSetup ) {\n\t\tthis.upper = triggerSetup[ 0 ];\n\t\tthis.lower = triggerSetup[ 1 ];\n\t\tthis.set.apply( this, triggerSetup.slice( 2 ) );\n\t}\n\n\tboxTrigger.prototype = {\n\t\tset: function( edge, type, look ) {\n\t\t\tthis.properties = edge + type + ( look || LOOK_NORMAL );\n\t\t\treturn this;\n\t\t},\n\n\t\tis: function( property ) {\n\t\t\treturn ( this.properties & property ) == property;\n\t\t}\n\t};\n\n\tvar elementFromMouse = ( function() {\n\t\tfunction elementFromPoint( doc, mouse ) {\n\t\t\tvar pointedElement = doc.$.elementFromPoint( mouse.x, mouse.y );\n\n\t\t\t// IE9QM: from times to times it will return an empty object on scroll bar hover. (#12185)\n\t\t\treturn pointedElement && pointedElement.nodeType ?\n\t\t\t\tnew CKEDITOR.dom.element( pointedElement ) :\n\t\t\t\tnull;\n\t\t}\n\n\t\treturn function( that, ignoreBox, forceMouse ) {\n\t\t\tif ( !that.mouse )\n\t\t\t\treturn null;\n\n\t\t\tvar doc = that.doc,\n\t\t\t\tlineWrap = that.line.wrap,\n\t\t\t\tmouse = forceMouse || that.mouse,\n\t\t\t\t// Note: element might be null.\n\t\t\t\telement = elementFromPoint( doc, mouse );\n\n\t\t\t// If ignoreBox is set and element is the box, it means that we\n\t\t\t// need to hide the box for a while, repeat elementFromPoint\n\t\t\t// and show it again.\n\t\t\tif ( ignoreBox && isLine( that, element ) ) {\n\t\t\t\tlineWrap.hide();\n\t\t\t\telement = elementFromPoint( doc, mouse );\n\t\t\t\tlineWrap.show();\n\t\t\t}\n\n\t\t\t// Return nothing if:\n\t\t\t//\t\\-> Element is not HTML.\n\t\t\tif ( !( element && element.type == CKEDITOR.NODE_ELEMENT && element.$ ) )\n\t\t\t\treturn null;\n\n\t\t\t// Also return nothing if:\n\t\t\t//\t\\-> We're IE<9 and element is out of the top-level element (editable for inline and HTML for classic (`iframe`-based)).\n\t\t\t//\t\tThis is due to the bug which allows IE<9 firing mouse events on element\n\t\t\t//\t\twith contenteditable=true while doing selection out (far, away) of the element.\n\t\t\t//\t\tThus we must always be sure that we stay in editable or HTML.\n\t\t\tif ( env.ie && env.version < 9 ) {\n\t\t\t\tif ( !( that.boundary.equals( element ) || that.boundary.contains( element ) ) )\n\t\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn element;\n\t\t};\n\t} )();\n\n\t// Gets the closest parent node that belongs to triggers group.\n\tfunction getAscendantTrigger( that ) {\n\t\tvar node = that.element,\n\t\t\ttrigger;\n\n\t\tif ( node && isHtml( node ) ) {\n\t\t\ttrigger = node.getAscendant( that.triggers, true );\n\n\t\t\t// If trigger is an element, neither editable nor editable's ascendant.\n\t\t\tif ( trigger && that.editable.contains( trigger ) ) {\n\t\t\t\t// Check for closest editable limit.\n\t\t\t\t// Don't consider trigger as a limit as it may be nested editable (includeSelf=false) (#12009).\n\t\t\t\tvar limit = getClosestEditableLimit( trigger );\n\n\t\t\t\t// Trigger in nested editable area.\n\t\t\t\tif ( limit.getAttribute( 'contenteditable' ) == 'true' )\n\t\t\t\t\treturn trigger;\n\t\t\t\t// Trigger in non-editable area.\n\t\t\t\telse if ( limit.is( that.triggers ) )\n\t\t\t\t\treturn limit;\n\t\t\t\telse\n\t\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getMidpoint( that, upper, lower ) {\n\t\tupdateSize( that, upper );\n\t\tupdateSize( that, lower );\n\n\t\tvar upperSizeBottom = upper.size.bottom,\n\t\t\tlowerSizeTop = lower.size.top;\n\n\t\treturn upperSizeBottom && lowerSizeTop ? 0 | ( upperSizeBottom + lowerSizeTop ) / 2 : upperSizeBottom || lowerSizeTop;\n\t}\n\n\t// Get nearest node (either text or HTML), but:\n\t//\t\\->\tOmit all empty text nodes (containing white characters only).\n\t//\t\\-> Omit BR elements\n\t//\t\\-> Omit flow breakers.\n\tfunction getNonEmptyNeighbour( that, node, goBack ) {\n\t\tnode = node[ goBack ? 'getPrevious' : 'getNext' ]( function( node ) {\n\t\t\treturn ( isTextNode( node ) && !isEmptyTextNode( node ) ) ||\n\t\t\t\t( isHtml( node ) && !isFlowBreaker( node ) && !isLine( that, node ) );\n\t\t} );\n\n\t\treturn node;\n\t}\n\n\tfunction inBetween( val, lower, upper ) {\n\t\treturn val > lower && val < upper;\n\t}\n\n\t// Returns the closest ancestor that has contenteditable attribute.\n\t// Such ancestor is the limit of (non-)editable DOM branch that element\n\t// belongs to. This method omits editor editable.\n\tfunction getClosestEditableLimit( element, includeSelf ) {\n\t\tif ( element.data( 'cke-editable' ) )\n\t\t\treturn null;\n\n\t\tif ( !includeSelf )\n\t\t\telement = element.getParent();\n\n\t\twhile ( element ) {\n\t\t\tif ( element.data( 'cke-editable' ) )\n\t\t\t\treturn null;\n\n\t\t\tif ( element.hasAttribute( 'contenteditable' ) )\n\t\t\t\treturn element;\n\n\t\t\telement = element.getParent();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t// Access space line consists of a few elements (spans):\n\t// \t\\-> Line wrapper.\n\t// \t\\-> Line.\n\t// \t\\-> Line triangles: left triangle (LT), right triangle (RT).\n\t// \t\\-> Button handler (BTN).\n\t//\n\t//\t+--------------------------------------------------- line.wrap (span) -----+\n\t//\t| +---------------------------------------------------- line (span) -----+ |\n\t//\t| | +- LT \\                                           +- BTN -+  / RT -+ | |\n\t//\t| | |      \\                                          |     | | /      | | |\n\t//\t| | |      /                                          |  <__| | \\      | | |\n\t//\t| | +-----/                                           +-------+  \\-----+ | |\n\t//\t| +----------------------------------------------------------------------+ |\n\t//  +--------------------------------------------------------------------------+\n\t//\n\tfunction initLine( that ) {\n\t\tvar doc = that.doc,\n\t\t\t// This the main box element that holds triangles and the insertion button\n\t\t\tline = newElementFromHtml( '<span contenteditable=\"false\" style=\"' + CSS_COMMON + 'position:absolute;border-top:1px dashed ' + that.boxColor + '\"></span>', doc ),\n\t\t\ticonPath = CKEDITOR.getUrl( this.path + 'images/' + ( env.hidpi ? 'hidpi/' : '' ) + 'icon' + ( that.rtl ? '-rtl' : '' ) + '.png' );\n\n\t\textend( line, {\n\n\t\t\tattach: function() {\n\t\t\t\t// Only if not already attached\n\t\t\t\tif ( !this.wrap.getParent() )\n\t\t\t\t\tthis.wrap.appendTo( that.editable, true );\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Looks are as follows: [ LOOK_TOP, LOOK_BOTTOM, LOOK_NORMAL ].\n\t\t\tlineChildren: [\n\t\t\t\textend(\n\t\t\t\t\tnewElementFromHtml(\n\t\t\t\t\t\t'<span title=\"' + that.editor.lang.magicline.title +\n\t\t\t\t\t\t'\" contenteditable=\"false\">&#8629;</span>', doc\n\t\t\t\t\t), {\n\t\t\t\t\t\tbase: CSS_COMMON + 'height:17px;width:17px;' + ( that.rtl ? 'left' : 'right' ) + ':17px;' +\n\t\t\t\t\t\t\t\t'background:url(' + iconPath + ') center no-repeat ' + that.boxColor + ';cursor:pointer;' +\n\t\t\t\t\t\t\t\t( env.hc ? 'font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;' : '' ) +\n\t\t\t\t\t\t\t\t( env.hidpi ? 'background-size: 9px 10px;' : '' ),\n\t\t\t\t\t\tlooks: [\n\t\t\t\t\t\t\t'top:-8px; border-radius: 2px;',\n\t\t\t\t\t\t\t'top:-17px; border-radius: 2px 2px 0px 0px;',\n\t\t\t\t\t\t\t'top:-1px; border-radius: 0px 0px 2px 2px;'\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\textend( newElementFromHtml( TRIANGLE_HTML, doc ), {\n\t\t\t\t\tbase: CSS_TRIANGLE + 'left:0px;border-left-color:' + that.boxColor + ';',\n\t\t\t\t\tlooks: [\n\t\t\t\t\t\t'border-width:8px 0 8px 8px;top:-8px',\n\t\t\t\t\t\t'border-width:8px 0 0 8px;top:-8px',\n\t\t\t\t\t\t'border-width:0 0 8px 8px;top:0px'\n\t\t\t\t\t]\n\t\t\t\t} ),\n\t\t\t\textend( newElementFromHtml( TRIANGLE_HTML, doc ), {\n\t\t\t\t\tbase: CSS_TRIANGLE + 'right:0px;border-right-color:' + that.boxColor + ';',\n\t\t\t\t\tlooks: [\n\t\t\t\t\t\t'border-width:8px 8px 8px 0;top:-8px',\n\t\t\t\t\t\t'border-width:8px 8px 0 0;top:-8px',\n\t\t\t\t\t\t'border-width:0 8px 8px 0;top:0px'\n\t\t\t\t\t]\n\t\t\t\t} )\n\t\t\t],\n\n\t\t\tdetach: function() {\n\t\t\t\t// Detach only if already attached.\n\t\t\t\tif ( this.wrap.getParent() )\n\t\t\t\t\tthis.wrap.remove();\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Checks whether mouseY is around an element by comparing boundaries and considering\n\t\t\t// an offset distance.\n\t\t\tmouseNear: function() {\n\t\t\t\tthat.debug.groupStart( 'mouseNear' ); // %REMOVE_LINE%\n\n\t\t\t\tupdateSize( that, this );\n\t\t\t\tvar offset = that.holdDistance,\n\t\t\t\t\tsize = this.size;\n\n\t\t\t\t// Determine neighborhood by element dimensions and offsets.\n\t\t\t\tif ( size && inBetween( that.mouse.y, size.top - offset, size.bottom + offset ) && inBetween( that.mouse.x, size.left - offset, size.right + offset ) ) {\n\t\t\t\t\tthat.debug.logEnd( 'Mouse is near.' ); // %REMOVE_LINE%\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tthat.debug.logEnd( 'Mouse isn\\'t near.' ); // %REMOVE_LINE%\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\t// Adjusts position of the box according to the trigger properties.\n\t\t\t// If also affects look of the box depending on the type of the trigger.\n\t\t\tplace: function() {\n\t\t\t\tvar view = that.view,\n\t\t\t\t\teditable = that.editable,\n\t\t\t\t\ttrigger = that.trigger,\n\t\t\t\t\tupper = trigger.upper,\n\t\t\t\t\tlower = trigger.lower,\n\t\t\t\t\tany = upper || lower,\n\t\t\t\t\tparent = any.getParent(),\n\t\t\t\t\tstyleSet = {};\n\n\t\t\t\t// Save recent trigger for further insertion.\n\t\t\t\t// It is necessary due to the fact, that that.trigger may\n\t\t\t\t// contain different boxTrigger at the moment of insertion\n\t\t\t\t// or may be even null.\n\t\t\t\tthis.trigger = trigger;\n\n\t\t\t\tupper && updateSize( that, upper, true );\n\t\t\t\tlower && updateSize( that, lower, true );\n\t\t\t\tupdateSize( that, parent, true );\n\n\t\t\t\t// Yeah, that's gonna be useful in inline-mode case.\n\t\t\t\tif ( that.inInlineMode )\n\t\t\t\t\tupdateEditableSize( that, true );\n\n\t\t\t\t// Set X coordinate (left, right, width).\n\t\t\t\tif ( parent.equals( editable ) ) {\n\t\t\t\t\tstyleSet.left = view.scroll.x;\n\t\t\t\t\tstyleSet.right = -view.scroll.x;\n\t\t\t\t\tstyleSet.width = '';\n\t\t\t\t} else {\n\t\t\t\t\tstyleSet.left = any.size.left - any.size.margin.left + view.scroll.x - ( that.inInlineMode ? view.editable.left + view.editable.border.left : 0 );\n\t\t\t\t\tstyleSet.width = any.size.outerWidth + any.size.margin.left + any.size.margin.right + view.scroll.x;\n\t\t\t\t\tstyleSet.right = '';\n\t\t\t\t}\n\n\t\t\t\t// Set Y coordinate (top) for trigger consisting of two elements.\n\t\t\t\tif ( upper && lower ) {\n\t\t\t\t\t// No margins at all or they're equal. Place box right between.\n\t\t\t\t\tif ( upper.size.margin.bottom === lower.size.margin.top )\n\t\t\t\t\t\tstyleSet.top = 0 | ( upper.size.bottom + upper.size.margin.bottom / 2 );\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Upper margin < lower margin. Place at lower margin.\n\t\t\t\t\t\tif ( upper.size.margin.bottom < lower.size.margin.top )\n\t\t\t\t\t\t\tstyleSet.top = upper.size.bottom + upper.size.margin.bottom;\n\t\t\t\t\t\t// Upper margin > lower margin. Place at upper margin - lower margin.\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tstyleSet.top = upper.size.bottom + upper.size.margin.bottom - lower.size.margin.top;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Set Y coordinate (top) for single-edge trigger.\n\t\t\t\telse if ( !upper )\n\t\t\t\t\tstyleSet.top = lower.size.top - lower.size.margin.top;\n\t\t\t\telse if ( !lower ) {\n\t\t\t\t\tstyleSet.top = upper.size.bottom + upper.size.margin.bottom;\n\t\t\t\t}\n\n\t\t\t\t// Set box button modes if close to the viewport horizontal edge\n\t\t\t\t// or look forced by the trigger.\n\t\t\t\tif ( trigger.is( LOOK_TOP ) || inBetween( styleSet.top, view.scroll.y - 15, view.scroll.y + 5 ) ) {\n\t\t\t\t\tstyleSet.top = that.inInlineMode ? 0 : view.scroll.y;\n\t\t\t\t\tthis.look( LOOK_TOP );\n\t\t\t\t} else if ( trigger.is( LOOK_BOTTOM ) || inBetween( styleSet.top, view.pane.bottom - 5, view.pane.bottom + 15 ) ) {\n\t\t\t\t\tstyleSet.top = that.inInlineMode ? (\n\t\t\t\t\t\t\tview.editable.height + view.editable.padding.top + view.editable.padding.bottom\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tview.pane.bottom - 1\n\t\t\t\t\t\t);\n\n\t\t\t\t\tthis.look( LOOK_BOTTOM );\n\t\t\t\t} else {\n\t\t\t\t\tif ( that.inInlineMode )\n\t\t\t\t\t\tstyleSet.top -= view.editable.top + view.editable.border.top;\n\n\t\t\t\t\tthis.look( LOOK_NORMAL );\n\t\t\t\t}\n\n\t\t\t\tif ( that.inInlineMode ) {\n\t\t\t\t\t// 1px bug here...\n\t\t\t\t\tstyleSet.top--;\n\n\t\t\t\t\t// Consider the editable to be an element with overflow:scroll\n\t\t\t\t\t// and non-zero scrollTop/scrollLeft value.\n\t\t\t\t\t// For example: divarea editable. (#9383)\n\t\t\t\t\tstyleSet.top += view.editable.scroll.top;\n\t\t\t\t\tstyleSet.left += view.editable.scroll.left;\n\t\t\t\t}\n\n\t\t\t\t// Append `px` prefixes.\n\t\t\t\tfor ( var style in styleSet )\n\t\t\t\t\tstyleSet[ style ] = CKEDITOR.tools.cssLength( styleSet[ style ] );\n\n\t\t\t\tthis.setStyles( styleSet );\n\t\t\t},\n\n\t\t\t// Changes look of the box according to current needs.\n\t\t\t// Three different styles are available: [ LOOK_TOP, LOOK_BOTTOM, LOOK_NORMAL ].\n\t\t\tlook: function( look ) {\n\t\t\t\tif ( this.oldLook == look )\n\t\t\t\t\treturn;\n\n\t\t\t\tfor ( var i = this.lineChildren.length, child; i--; )\n\t\t\t\t\t( child = this.lineChildren[ i ] ).setAttribute( 'style', child.base + child.looks[ 0 | look / 2 ] );\n\n\t\t\t\tthis.oldLook = look;\n\t\t\t},\n\n\t\t\twrap: new newElement( 'span', that.doc )\n\n\t\t} );\n\n\t\t// Insert children into the box.\n\t\tfor ( var i = line.lineChildren.length; i--; )\n\t\t\tline.lineChildren[ i ].appendTo( line );\n\n\t\t// Set default look of the box.\n\t\tline.look( LOOK_NORMAL );\n\n\t\t// Using that wrapper prevents IE (8,9) from resizing editable area at the moment\n\t\t// of box insertion. This works thanks to the fact, that positioned box is wrapped by\n\t\t// an inline element. So much tricky.\n\t\tline.appendTo( line.wrap );\n\n\t\t// Make the box unselectable.\n\t\tline.unselectable();\n\n\t\t// Handle accessSpace node insertion.\n\t\tline.lineChildren[ 0 ].on( 'mouseup', function( event ) {\n\t\t\tline.detach();\n\n\t\t\taccessFocusSpace( that, function( accessNode ) {\n\t\t\t\t// Use old trigger that was saved by 'place' method. Look: line.place\n\t\t\t\tvar trigger = that.line.trigger;\n\n\t\t\t\taccessNode[ trigger.is( EDGE_TOP ) ? 'insertBefore' : 'insertAfter' ](\n\t\t\t\t\ttrigger.is( EDGE_TOP ) ? trigger.lower : trigger.upper );\n\t\t\t}, true );\n\n\t\t\tthat.editor.focus();\n\n\t\t\tif ( !env.ie && that.enterMode != CKEDITOR.ENTER_BR )\n\t\t\t\tthat.hotNode.scrollIntoView();\n\n\t\t\tevent.data.preventDefault( true );\n\t\t} );\n\n\t\t// Prevents IE9 from displaying the resize box and disables drag'n'drop functionality.\n\t\tline.on( 'mousedown', function( event ) {\n\t\t\tevent.data.preventDefault( true );\n\t\t} );\n\n\t\tthat.line = line;\n\t}\n\n\t// This function allows accessing any focus space according to the insert function:\n\t// \t* For enterMode ENTER_P it creates P element filled with dummy white-space.\n\t// \t* For enterMode ENTER_DIV it creates DIV element filled with dummy white-space.\n\t// \t* For enterMode ENTER_BR it creates BR element or &nbsp; in IE.\n\t//\n\t// The node is being inserted according to insertFunction. Finally the method\n\t// selects the non-breaking space making the node ready for typing.\n\tfunction accessFocusSpace( that, insertFunction, doSave ) {\n\t\tvar range = new CKEDITOR.dom.range( that.doc ),\n\t\t\teditor = that.editor,\n\t\t\taccessNode;\n\n\t\t// IE requires text node of &nbsp; in ENTER_BR mode.\n\t\tif ( env.ie && that.enterMode == CKEDITOR.ENTER_BR )\n\t\t\taccessNode = that.doc.createText( WHITE_SPACE );\n\n\t\t// In other cases a regular element is used.\n\t\telse {\n\t\t\t// Use the enterMode of editable's limit or editor's\n\t\t\t// enter mode if not in nested editable.\n\t\t\tvar limit = getClosestEditableLimit( that.element, true ),\n\n\t\t\t\t// This is an enter mode for the context. We cannot use\n\t\t\t\t// editor.activeEnterMode because the focused nested editable will\n\t\t\t\t// have a different enterMode as editor but magicline will be inserted\n\t\t\t\t// directly into editor's editable.\n\t\t\t\tenterMode = limit && limit.data( 'cke-enter-mode' ) || that.enterMode;\n\n\t\t\taccessNode = new newElement( enterElements[ enterMode ], that.doc );\n\n\t\t\tif ( !accessNode.is( 'br' ) ) {\n\t\t\t\tvar dummy = that.doc.createText( WHITE_SPACE );\n\t\t\t\tdummy.appendTo( accessNode );\n\t\t\t}\n\t\t}\n\n\t\tdoSave && editor.fire( 'saveSnapshot' );\n\n\t\tinsertFunction( accessNode );\n\t\t//dummy.appendTo( accessNode );\n\t\trange.moveToPosition( accessNode, CKEDITOR.POSITION_AFTER_START );\n\t\teditor.getSelection().selectRanges( [ range ] );\n\t\tthat.hotNode = accessNode;\n\n\t\tdoSave && editor.fire( 'saveSnapshot' );\n\t}\n\n\t// Access focus space on demand by taking an element under the caret as a reference.\n\t// The space is accessed provided the element under the caret is trigger AND:\n\t//\n\t//  1. First/last-child of its parent:\n\t//\t\t+----------------------- Parent element -+\n\t//\t\t| +------------------------------ DIV -+ |\t<-- Access before\n\t//\t\t| | Foo^                               | |\n\t//\t\t| |                                    | |\n\t//\t\t| +------------------------------------+ |\t<-- Access after\n\t//\t\t+----------------------------------------+\n\t//\n\t//                       OR\n\t//\n\t//  2. It has a direct sibling element, which is also a trigger:\n\t//\t\t+-------------------------------- DIV#1 -+\n\t//\t\t| Foo^                                   |\n\t//\t\t|                                        |\n\t//\t\t+----------------------------------------+\n\t//                                                \t<-- Access here\n\t//\t\t+-------------------------------- DIV#2 -+\n\t//\t\t| Bar                                    |\n\t//\t\t|                                        |\n\t//\t\t+----------------------------------------+\n\t//\n\t//                       OR\n\t//\n\t//  3. It has a direct sibling, which is a trigger and has a valid neighbour trigger,\n\t//     but belongs to dtd.$.empty/nonEditable:\n\t//\t\t+------------------------------------ P -+\n\t//\t\t| Foo^                                   |\n\t//\t\t|                                        |\n\t//\t\t+----------------------------------------+\n\t//\t\t+----------------------------------- HR -+\n\t//                                                \t<-- Access here\n\t//\t\t+-------------------------------- DIV#2 -+\n\t//\t\t| Bar                                    |\n\t//\t\t|                                        |\n\t//\t\t+----------------------------------------+\n\t//\n\tfunction accessFocusSpaceCmd( that, insertAfter ) {\n\t\treturn {\n\t\t\tcanUndo: true,\n\t\t\tmodes: { wysiwyg: 1 },\n\t\t\texec: ( function() {\n\n\t\t\t\t// Inserts line (accessNode) at the position by taking target node as a reference.\n\t\t\t\tfunction doAccess( target ) {\n\t\t\t\t\t// Remove old hotNode under certain circumstances.\n\t\t\t\t\tvar hotNodeChar = ( env.ie && env.version < 9 ? ' ' : WHITE_SPACE ),\n\t\t\t\t\t\tremoveOld = that.hotNode &&\t\t\t\t\t\t\t// Old hotNode must exist.\n\t\t\t\t\t\t\tthat.hotNode.getText() == hotNodeChar &&\t\t// Old hotNode hasn't been changed.\n\t\t\t\t\t\t\tthat.element.equals( that.hotNode ) &&\t\t\t// Caret is inside old hotNode.\n\t\t\t\t\t\t\t// Command is executed in the same direction.\n\t\t\t\t\t\t\tthat.lastCmdDirection === !!insertAfter; // jshint ignore:line\n\n\t\t\t\t\taccessFocusSpace( that, function( accessNode ) {\n\t\t\t\t\t\tif ( removeOld && that.hotNode )\n\t\t\t\t\t\t\tthat.hotNode.remove();\n\n\t\t\t\t\t\taccessNode[ insertAfter ? 'insertAfter' : 'insertBefore' ]( target );\n\n\t\t\t\t\t\t// Make this element distinguishable. Also remember the direction\n\t\t\t\t\t\t// it's been inserted into document.\n\t\t\t\t\t\taccessNode.setAttributes( {\n\t\t\t\t\t\t\t'data-cke-magicline-hot': 1,\n\t\t\t\t\t\t\t'data-cke-magicline-dir': !!insertAfter\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Save last direction of the command (is insertAfter?).\n\t\t\t\t\t\tthat.lastCmdDirection = !!insertAfter;\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( !env.ie && that.enterMode != CKEDITOR.ENTER_BR )\n\t\t\t\t\t\tthat.hotNode.scrollIntoView();\n\n\t\t\t\t\t// Detach the line if was visible (previously triggered by mouse).\n\t\t\t\t\tthat.line.detach();\n\t\t\t\t}\n\n\t\t\t\treturn function( editor ) {\n\t\t\t\t\tvar selected = editor.getSelection().getStartElement(),\n\t\t\t\t\t\tlimit;\n\n\t\t\t\t\t// (#9833) Go down to the closest non-inline element in DOM structure\n\t\t\t\t\t// since inline elements don't participate in in magicline.\n\t\t\t\t\tselected = selected.getAscendant( DTD_BLOCK, 1 );\n\n\t\t\t\t\t// Stop if selected is a child of a tabu-list element.\n\t\t\t\t\tif ( isInTabu( that, selected ) )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Sometimes it may happen that there's no parent block below selected element\n\t\t\t\t\t// or, for example, getAscendant reaches editable or editable parent.\n\t\t\t\t\t// We must avoid such pathological cases.\n\t\t\t\t\tif ( !selected || selected.equals( that.editable ) || selected.contains( that.editable ) )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Executing the command directly in nested editable should\n\t\t\t\t\t// access space before/after it.\n\t\t\t\t\tif ( ( limit = getClosestEditableLimit( selected ) ) && limit.getAttribute( 'contenteditable' ) == 'false' )\n\t\t\t\t\t\tselected = limit;\n\n\t\t\t\t\t// That holds element from mouse. Replace it with the\n\t\t\t\t\t// element under the caret.\n\t\t\t\t\tthat.element = selected;\n\n\t\t\t\t\t// (3.) Handle the following cases where selected neighbour\n\t\t\t\t\t// is a trigger inaccessible for the caret AND:\n\t\t\t\t\t//\t- Is first/last-child\n\t\t\t\t\t//\tOR\n\t\t\t\t\t//\t- Has a sibling, which is also a trigger.\n\t\t\t\t\tvar neighbor = getNonEmptyNeighbour( that, selected, !insertAfter ),\n\t\t\t\t\t\tneighborSibling;\n\n\t\t\t\t\t// Check for a neighbour that belongs to triggers.\n\t\t\t\t\t// Consider only non-accessible elements (they cannot have any children)\n\t\t\t\t\t// since they cannot be given a caret inside, to run the command\n\t\t\t\t\t// the regular way (1. & 2.).\n\t\t\t\t\tif (\n\t\t\t\t\t\tisHtml( neighbor ) && neighbor.is( that.triggers ) && neighbor.is( DTD_NONACCESSIBLE ) &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t// Check whether neighbor is first/last-child.\n\t\t\t\t\t\t\t!getNonEmptyNeighbour( that, neighbor, !insertAfter ) ||\n\t\t\t\t\t\t\t// Check for a sibling of a neighbour that also is a trigger.\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t( neighborSibling = getNonEmptyNeighbour( that, neighbor, !insertAfter ) ) &&\n\t\t\t\t\t\t\t\tisHtml( neighborSibling ) &&\n\t\t\t\t\t\t\t\tneighborSibling.is( that.triggers )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tdoAccess( neighbor );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Look for possible target element DOWN \"selected\" DOM branch (towards editable)\n\t\t\t\t\t// that belong to that.triggers\n\t\t\t\t\tvar target = getAscendantTrigger( that, selected );\n\n\t\t\t\t\t// No HTML target -> no access.\n\t\t\t\t\tif ( !isHtml( target ) )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// (1.) Target is first/last child -> access.\n\t\t\t\t\tif ( !getNonEmptyNeighbour( that, target, !insertAfter ) ) {\n\t\t\t\t\t\tdoAccess( target );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar sibling = getNonEmptyNeighbour( that, target, !insertAfter );\n\n\t\t\t\t\t// (2.) Target has a sibling that belongs to that.triggers -> access.\n\t\t\t\t\tif ( sibling && isHtml( sibling ) && sibling.is( that.triggers ) ) {\n\t\t\t\t\t\tdoAccess( target );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} )()\n\t\t};\n\t}\n\n\tfunction isLine( that, node ) {\n\t\tif ( !( node && node.type == CKEDITOR.NODE_ELEMENT && node.$ ) )\n\t\t\treturn false;\n\n\t\tvar line = that.line;\n\n\t\treturn line.wrap.equals( node ) || line.wrap.contains( node );\n\t}\n\n\t// Is text node containing white-spaces only?\n\tvar isEmptyTextNode = CKEDITOR.dom.walker.whitespaces();\n\n\t// Is fully visible HTML node?\n\tfunction isHtml( node ) {\n\t\treturn node && node.type == CKEDITOR.NODE_ELEMENT && node.$;\t// IE requires that\n\t}\n\n\tfunction isFloated( element ) {\n\t\tif ( !isHtml( element ) )\n\t\t\treturn false;\n\n\t\tvar options = { left: 1, right: 1, center: 1 };\n\n\t\treturn !!( options[ element.getComputedStyle( 'float' ) ] || options[ element.getAttribute( 'align' ) ] );\n\t}\n\n\tfunction isFlowBreaker( element ) {\n\t\tif ( !isHtml( element ) )\n\t\t\treturn false;\n\n\t\treturn isPositioned( element ) || isFloated( element );\n\t}\n\n\t// Isn't node of NODE_COMMENT type?\n\tvar isComment = CKEDITOR.dom.walker.nodeType( CKEDITOR.NODE_COMMENT );\n\n\tfunction isPositioned( element ) {\n\t\treturn !!{ absolute: 1, fixed: 1 }[ element.getComputedStyle( 'position' ) ];\n\t}\n\n\t// Is text node?\n\tfunction isTextNode( node ) {\n\t\treturn node && node.type == CKEDITOR.NODE_TEXT;\n\t}\n\n\tfunction isTrigger( that, element ) {\n\t\treturn isHtml( element ) ? element.is( that.triggers ) : null;\n\t}\n\n\tfunction isInTabu( that, element ) {\n\t\tif ( !element )\n\t\t\treturn false;\n\n\t\tvar parents = element.getParents( 1 );\n\n\t\tfor ( var i = parents.length ; i-- ; ) {\n\t\t\tfor ( var j = that.tabuList.length ; j-- ; ) {\n\t\t\t\tif ( parents[ i ].hasAttribute( that.tabuList[ j ] ) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// This function checks vertically is there's a relevant child between element's edge\n\t// and the pointer.\n\t//\t\\-> Table contents are omitted.\n\tfunction isChildBetweenPointerAndEdge( that, parent, edgeBottom ) {\n\t\tvar edgeChild = parent[ edgeBottom ? 'getLast' : 'getFirst' ]( function( node ) {\n\t\t\treturn that.isRelevant( node ) && !node.is( DTD_TABLECONTENT );\n\t\t} );\n\n\t\tif ( !edgeChild )\n\t\t\treturn false;\n\n\t\tupdateSize( that, edgeChild );\n\n\t\treturn edgeBottom ? edgeChild.size.top > that.mouse.y : edgeChild.size.bottom < that.mouse.y;\n\t}\n\n\t// This method handles edge cases:\n\t// \t\\-> Mouse is around upper or lower edge of view pane.\n\t// \t\\-> Also scroll position is either minimal or maximal.\n\t// \t\\-> It's OK to show LOOK_TOP(BOTTOM) type line.\n\t//\n\t// This trigger doesn't need additional post-filtering.\n\t//\n\t//\t+----------------------------- Editable -+  /--\n\t//\t| +---------------------- First child -+ |  | <-- Top edge (first child)\n\t//\t| |                                    | |  |\n\t//\t| |                                    | |  |\t * Mouse activation area *\n\t//\t| |                                    | |  |\n\t//\t| |                 ...                | |\t\\-- Top edge + trigger offset\n\t//\t| .                                    . |\n\t//\t|                                        |\n\t//\t| .                                    . |\n\t//\t| |                 ...                | |  /-- Bottom edge - trigger offset\n\t//\t| |                                    | |  |\n\t//\t| |                                    | |  |\t * Mouse activation area *\n\t//\t| |                                    | |  |\n\t//\t| +----------------------- Last child -+ |  | <-- Bottom edge (last child)\n\t//\t+----------------------------------------+  \\--\n\t//\n\tfunction triggerEditable( that ) {\n\t\tthat.debug.groupStart( 'triggerEditable' ); // %REMOVE_LINE%\n\n\t\tvar editable = that.editable,\n\t\t\tmouse = that.mouse,\n\t\t\tview = that.view,\n\t\t\ttriggerOffset = that.triggerOffset,\n\t\t\ttriggerLook;\n\n\t\t// Update editable dimensions.\n\t\tupdateEditableSize( that );\n\n\t\t// This flag determines whether checking bottom trigger.\n\t\tvar bottomTrigger = mouse.y > (\n\t\t\t\tthat.inInlineMode ? (\n\t\t\t\t\tview.editable.top + view.editable.height / 2\n\t\t\t\t) : (\n\t\t\t\t\t// This is to handle case when editable.height / 2 <<< pane.height.\n\t\t\t\t\tMath.min( view.editable.height, view.pane.height ) / 2\n\t\t\t\t)\n\t\t\t),\n\n\t\t// Edge node according to bottomTrigger.\n\t\tedgeNode = editable[ bottomTrigger ? 'getLast' : 'getFirst' ]( function( node ) {\n\t\t\treturn !( isEmptyTextNode( node ) || isComment( node ) );\n\t\t} );\n\n\t\t// There's no edge node. Abort.\n\t\tif ( !edgeNode ) {\n\t\t\tthat.debug.logEnd( 'ABORT. No edge node found.' ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\t// If the edgeNode in editable is ML, get the next one.\n\t\tif ( isLine( that, edgeNode ) ) {\n\t\t\tedgeNode = that.line.wrap[ bottomTrigger ? 'getPrevious' : 'getNext' ]( function( node ) {\n\t\t\t\treturn !( isEmptyTextNode( node ) || isComment( node ) );\n\t\t\t} );\n\t\t}\n\n\t\t// Exclude bad nodes (no ML needed then):\n\t\t//\t\\-> Edge node is text.\n\t\t//\t\\-> Edge node is floated, etc.\n\t\t//\n\t\t// Edge node *must be* a valid trigger at this stage as well.\n\t\tif ( !isHtml( edgeNode ) || isFlowBreaker( edgeNode ) || !isTrigger( that, edgeNode ) ) {\n\t\t\tthat.debug.logEnd( 'ABORT. Invalid edge node.' ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\t// Update size of edge node. Dimensions will be necessary.\n\t\tupdateSize( that, edgeNode );\n\n\t\t// Return appropriate trigger according to bottomTrigger.\n\t\t// \\->\tTop edge trigger case first.\n\t\tif ( !bottomTrigger &&\t\t\t\t\t\t\t\t\t\t\t\t\t// Top trigger case.\n\t\t\tedgeNode.size.top >= 0 &&\t\t\t\t\t\t\t\t\t\t\t// Check if the first element is fully visible.\n\t\t\tinBetween( mouse.y, 0, edgeNode.size.top + triggerOffset ) ) {\t\t// Check if mouse in [0, edgeNode.top + triggerOffset].\n\n\t\t\t// Determine trigger look.\n\t\t\ttriggerLook = that.inInlineMode || view.scroll.y === 0 ?\n\t\t\t\tLOOK_TOP : LOOK_NORMAL;\n\n\t\t\tthat.debug.logEnd( 'SUCCESS. Created box trigger. EDGE_TOP.' ); // %REMOVE_LINE%\n\n\t\t\treturn new boxTrigger( [ null, edgeNode,\n\t\t\t\tEDGE_TOP,\n\t\t\t\tTYPE_EDGE,\n\t\t\t\ttriggerLook\n\t\t\t] );\n\t\t}\n\n\t\t// \\->\tBottom case.\n\t\telse if ( bottomTrigger &&\n\t\t\tedgeNode.size.bottom <= view.pane.height &&\t\t\t\t\t\t\t// Check if the last element is fully visible\n\t\t\tinBetween( mouse.y,\t\t\t\t\t\t\t\t\t\t\t\t\t// Check if mouse in...\n\t\t\t\tedgeNode.size.bottom - triggerOffset, view.pane.height ) ) {\t// [ edgeNode.bottom - triggerOffset, paneHeight ]\n\n\t\t\t// Determine trigger look.\n\t\t\ttriggerLook = that.inInlineMode ||\n\t\t\t\tinBetween( edgeNode.size.bottom, view.pane.height - triggerOffset, view.pane.height ) ?\n\t\t\t\t\tLOOK_BOTTOM : LOOK_NORMAL;\n\n\t\t\tthat.debug.logEnd( 'SUCCESS. Created box trigger. EDGE_BOTTOM.' ); // %REMOVE_LINE%\n\n\t\t\treturn new boxTrigger( [ edgeNode, null,\n\t\t\t\tEDGE_BOTTOM,\n\t\t\t\tTYPE_EDGE,\n\t\t\t\ttriggerLook\n\t\t\t] );\n\t\t}\n\n\t\tthat.debug.logEnd( 'ABORT. No trigger created.' ); // %REMOVE_LINE%\n\t\treturn null;\n\t}\n\n\t// This method covers cases *inside* of an element:\n\t// \t\\->\tThe pointer is in the top (bottom) area of an element and there's\n\t//\t\tHTML node before (after) this element.\n\t// \t\\-> An element being the first or last child of its parent.\n\t//\n\t//\t+----------------------- Parent element -+\n\t//\t| +----------------------- Element #1 -+ |  /--\n\t//\t| |                                    | |  |\t * Mouse activation area (as first child) *\n\t//\t| |                                    | |  \\--\n\t//\t| |                                    | |  /--\n\t//\t| |                                    | |  |\t * Mouse activation area (Element #2) *\n\t//\t| +------------------------------------+ |  \\--\n\t//\t|                                        |\n\t//\t| +----------------------- Element #2 -+ |  /--\n\t//\t| |                                    | |  |\t * Mouse activation area (Element #1) *\n\t//\t| |                                    | |  \\--\n\t//\t| |                                    | |\n\t//\t| +------------------------------------+ |\n\t//\t|                                        |\n\t//\t|            Text node is here.          |\n\t//\t|                                        |\n\t//\t| +----------------------- Element #3 -+ |\n\t//\t| |                                    | |\n\t//\t| |                                    | |\n\t//\t| |                                    | |  /--\n\t//\t| |                                    | |  |\t * Mouse activation area (as last child) *\n\t//\t| +------------------------------------+ |  \\--\n\t//\t+----------------------------------------+\n\t//\n\tfunction triggerEdge( that ) {\n\t\tthat.debug.groupStart( 'triggerEdge' ); // %REMOVE_LINE%\n\n\t\tvar mouse = that.mouse,\n\t\t\tview = that.view,\n\t\t\ttriggerOffset = that.triggerOffset;\n\n\t\t// Get the ascendant trigger basing on elementFromMouse.\n\t\tvar element = getAscendantTrigger( that );\n\n\t\tthat.debug.logElements( [ element ], [ 'Ascendant trigger' ], 'First stage' ); // %REMOVE_LINE%\n\n\t\t// Abort if there's no appropriate element.\n\t\tif ( !element ) {\n\t\t\tthat.debug.logEnd( 'ABORT. No element, element is editable or element contains editable.' ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\t// Dimensions will be necessary.\n\t\tupdateSize( that, element );\n\n\t\t// If triggerOffset is larger than a half of element's height,\n\t\t// use an offset of 1/2 of element's height. If the offset wasn't reduced,\n\t\t// top area would cover most (all) cases.\n\t\tvar fixedOffset = Math.min( triggerOffset,\n\t\t\t\t0 | ( element.size.outerHeight / 2 ) ),\n\n\t\t// This variable will hold the trigger to be returned.\n\t\t\ttriggerSetup = [],\n\t\t\ttriggerLook,\n\n\t\t// This flag determines whether dealing with a bottom trigger.\n\t\t\tbottomTrigger;\n\n\t\t//\t\\-> Top trigger.\n\t\tif ( inBetween( mouse.y, element.size.top - 1, element.size.top + fixedOffset ) )\n\t\t\tbottomTrigger = false;\n\t\t//\t\\-> Bottom trigger.\n\t\telse if ( inBetween( mouse.y, element.size.bottom - fixedOffset, element.size.bottom + 1 ) )\n\t\t\tbottomTrigger = true;\n\t\t//\t\\-> Abort. Not in a valid trigger space.\n\t\telse {\n\t\t\tthat.debug.logEnd( 'ABORT. Not around of any edge.' ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\t// Reject wrong elements.\n\t\t// \t\\-> Reject an element which is a flow breaker.\n\t\t// \t\\-> Reject an element which has a child above/below the mouse pointer.\n\t\t//\t\\-> Reject an element which belongs to list items.\n\t\tif (\n\t\t\tisFlowBreaker( element ) ||\n\t\t\tisChildBetweenPointerAndEdge( that, element, bottomTrigger ) ||\n\t\t\telement.getParent().is( DTD_LISTITEM )\n\t\t) {\n\t\t\tthat.debug.logEnd( 'ABORT. element is wrong', element ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\t// Get sibling according to bottomTrigger.\n\t\tvar elementSibling = getNonEmptyNeighbour( that, element, !bottomTrigger );\n\n\t\t// No sibling element.\n\t\t// This is a first or last child case.\n\t\tif ( !elementSibling ) {\n\t\t\t// No need to reject the element as it has already been done before.\n\t\t\t// Prepare a trigger.\n\n\t\t\t// Determine trigger look.\n\t\t\tif ( element.equals( that.editable[ bottomTrigger ? 'getLast' : 'getFirst' ]( that.isRelevant ) ) ) {\n\t\t\t\tupdateEditableSize( that );\n\n\t\t\t\tif (\n\t\t\t\t\tbottomTrigger && inBetween( mouse.y,\n\t\t\t\t\telement.size.bottom - fixedOffset, view.pane.height ) &&\n\t\t\t\t\tinBetween( element.size.bottom, view.pane.height - fixedOffset, view.pane.height )\n\t\t\t\t) {\n\t\t\t\t\ttriggerLook = LOOK_BOTTOM;\n\t\t\t\t} else if ( inBetween( mouse.y, 0, element.size.top + fixedOffset ) ) {\n\t\t\t\t\ttriggerLook = LOOK_TOP;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttriggerLook = LOOK_NORMAL;\n\t\t\t}\n\n\t\t\ttriggerSetup = [ null, element ][ bottomTrigger ? 'reverse' : 'concat' ]().concat( [\n\t\t\t\tbottomTrigger ? EDGE_BOTTOM : EDGE_TOP,\n\t\t\t\tTYPE_EDGE,\n\t\t\t\ttriggerLook,\n\t\t\t\telement.equals( that.editable[ bottomTrigger ? 'getLast' : 'getFirst' ]( that.isRelevant ) ) ?\n\t\t\t\t\t\t( bottomTrigger ? LOOK_BOTTOM : LOOK_TOP ) : LOOK_NORMAL\n\t\t\t] );\n\n\t\t\tthat.debug.log( 'Configured edge trigger of ' + ( bottomTrigger ? 'EDGE_BOTTOM' : 'EDGE_TOP' ) ); // %REMOVE_LINE%\n\t\t}\n\n\t\t// Abort. Sibling is a text element.\n\t\telse if ( isTextNode( elementSibling ) ) {\n\t\t\tthat.debug.logEnd( 'ABORT. Sibling is non-empty text element' ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\t// Check if the sibling is a HTML element.\n\t\t// If so, create an TYPE_EDGE, EDGE_MIDDLE trigger.\n\t\telse if ( isHtml( elementSibling ) ) {\n\t\t\t// Reject wrong elementSiblings.\n\t\t\t// \t\\-> Reject an elementSibling which is a flow breaker.\n\t\t\t//\t\\-> Reject an elementSibling which isn't a trigger.\n\t\t\t//\t\\-> Reject an elementSibling which belongs to list items.\n\t\t\tif (\n\t\t\t\tisFlowBreaker( elementSibling ) ||\n\t\t\t\t!isTrigger( that, elementSibling ) ||\n\t\t\t\telementSibling.getParent().is( DTD_LISTITEM )\n\t\t\t) {\n\t\t\t\tthat.debug.logEnd( 'ABORT. elementSibling is wrong', elementSibling ); // %REMOVE_LINE%\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Prepare a trigger.\n\t\t\ttriggerSetup = [ elementSibling, element ][ bottomTrigger ? 'reverse' : 'concat' ]().concat( [\n\t\t\t\tEDGE_MIDDLE,\n\t\t\t\tTYPE_EDGE\n\t\t\t] );\n\n\t\t\tthat.debug.log( 'Configured edge trigger of EDGE_MIDDLE' ); // %REMOVE_LINE%\n\t\t}\n\n\t\tif ( 0 in triggerSetup ) {\n\t\t\tthat.debug.logEnd( 'SUCCESS. Returning a trigger.' ); // %REMOVE_LINE%\n\t\t\treturn new boxTrigger( triggerSetup );\n\t\t}\n\n\t\tthat.debug.logEnd( 'ABORT. No trigger generated.' ); // %REMOVE_LINE%\n\t\treturn null;\n\t}\n\n\t// Checks iteratively up and down in search for elements using elementFromMouse method.\n\t// Useful if between two triggers.\n\t//\n\t//\t+----------------------- Parent element -+\n\t//\t| +----------------------- Element #1 -+ |\n\t//\t| |                                    | |\n\t//\t| |                                    | |\n\t//\t| |                                    | |\n\t//\t| +------------------------------------+ |\n\t//\t|                                        |  /--\n\t//\t|                  .                     |  |\n\t//\t|                  .      +-- Floated -+ |  |\n\t//\t|                  |      |            | |  |\t* Mouse activation area *\n\t//\t|                  |      |   IGNORE   | |  |\n\t//\t|                  X      |            | |  |\tMethod searches vertically for sibling elements.\n\t//\t|                  |      +------------+ |  |\tStart point is X (mouse-y coordinate).\n\t//\t|                  |                     |  |\tFloated elements, comments and empty text nodes are omitted.\n\t//\t|                  .                     |  |\n\t//\t|                  .                     |  |\n\t//\t|                                        |  \\--\n\t//\t| +----------------------- Element #2 -+ |\n\t//\t| |                                    | |\n\t//\t| |                                    | |\n\t//\t| |                                    | |\n\t//\t| |                                    | |\n\t//\t| +------------------------------------+ |\n\t//\t+----------------------------------------+\n\t//\n\tvar triggerExpand = ( function() {\n\t\t// The heart of the procedure. This method creates triggers that are\n\t\t// filtered by expandFilter method.\n\t\tfunction expandEngine( that ) {\n\t\t\tthat.debug.groupStart( 'expandEngine' ); // %REMOVE_LINE%\n\n\t\t\tvar startElement = that.element,\n\t\t\t\tupper, lower, trigger;\n\n\t\t\tif ( !isHtml( startElement ) || startElement.contains( that.editable ) ) {\n\t\t\t\tthat.debug.logEnd( 'ABORT. No start element, or start element contains editable.' ); // %REMOVE_LINE%\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Stop searching if element is in non-editable branch of DOM.\n\t\t\tif ( startElement.isReadOnly() )\n\t\t\t\treturn null;\n\n\t\t\ttrigger = verticalSearch( that,\n\t\t\t\tfunction( current, startElement ) {\n\t\t\t\t\treturn !startElement.equals( current );\t// stop when start element and the current one differ\n\t\t\t\t}, function( that, mouse ) {\n\t\t\t\t\treturn elementFromMouse( that, true, mouse );\n\t\t\t\t}, startElement ),\n\n\t\t\tupper = trigger.upper,\n\t\t\tlower = trigger.lower;\n\n\t\t\tthat.debug.logElements( [ upper, lower ], [ 'Upper', 'Lower' ], 'Pair found' ); // %REMOVE_LINE%\n\n\t\t\t// Success: two siblings have been found\n\t\t\tif ( areSiblings( that, upper, lower ) ) {\n\t\t\t\tthat.debug.logEnd( 'SUCCESS. Expand trigger created.' ); // %REMOVE_LINE%\n\t\t\t\treturn trigger.set( EDGE_MIDDLE, TYPE_EXPAND );\n\t\t\t}\n\n\t\t\tthat.debug.logElements( [ startElement, upper, lower ], // %REMOVE_LINE%\n\t\t\t\t[ 'Start', 'Upper', 'Lower' ], 'Post-processing' ); // %REMOVE_LINE%\n\n\t\t\t// Danger. Dragons ahead.\n\t\t\t// No siblings have been found during previous phase, post-processing may be necessary.\n\t\t\t// We can traverse DOM until a valid pair of elements around the pointer is found.\n\n\t\t\t// Prepare for post-processing:\n\t\t\t// \t1. Determine if upper and lower are children of startElement.\n\t\t\t// \t\t1.1. If so, find their ascendants that are closest to startElement (one level deeper than startElement).\n\t\t\t// \t\t1.2. Otherwise use first/last-child of the startElement as upper/lower. Why?:\n\t\t\t// \t\t\ta) \tupper/lower belongs to another branch of the DOM tree.\n\t\t\t// \t\t\tb) \tverticalSearch encountered an edge of the viewport and failed.\n\t\t\t// \t\t1.3. Make sure upper and lower still exist. Why?:\n\t\t\t// \t\t\ta) \tUpper and lower may be not belong to the branch of the startElement (may not exist at all) and\n\t\t\t// \t\t\t\tstartElement has no children.\n\t\t\t// \t2. Perform the post-processing.\n\t\t\t// \t\t2.1. Gather dimensions of an upper element.\n\t\t\t// \t\t2.2. Abort if lower edge of upper is already under the mouse pointer. Why?:\n\t\t\t// \t\t\ta) \tWe expect upper to be above and lower below the mouse pointer.\n\t\t\t// \t3. Perform iterative search while upper != lower.\n\t\t\t// \t\t3.1. Find the upper-next element. If there's no such element, break current search. Why?:\n\t\t\t// \t\t\ta)\tThere's no point in further search if there are only text nodes ahead.\n\t\t\t// \t\t3.2. Calculate the distance between the middle point of ( upper, upperNext ) and mouse-y.\n\t\t\t// \t\t3.3. If the distance is shorter than the previous best, save it (save upper, upperNext as well).\n\t\t\t// \t\t3.4. If the optimal pair is found, assign it back to the trigger.\n\n\t\t\t// 1.1., 1.2.\n\t\t\tif ( upper && startElement.contains( upper ) ) {\n\t\t\t\twhile ( !upper.getParent().equals( startElement ) )\n\t\t\t\t\tupper = upper.getParent();\n\t\t\t} else {\n\t\t\t\tupper = startElement.getFirst( function( node ) {\n\t\t\t\t\treturn expandSelector( that, node );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( lower && startElement.contains( lower ) ) {\n\t\t\t\twhile ( !lower.getParent().equals( startElement ) )\n\t\t\t\t\tlower = lower.getParent();\n\t\t\t} else {\n\t\t\t\tlower = startElement.getLast( function( node ) {\n\t\t\t\t\treturn expandSelector( that, node );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// 1.3.\n\t\t\tif ( !upper || !lower ) {\n\t\t\t\tthat.debug.logEnd( 'ABORT. There is no upper or no lower element.' ); // %REMOVE_LINE%\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// 2.1.\n\t\t\tupdateSize( that, upper );\n\t\t\tupdateSize( that, lower );\n\n\t\t\tif ( !checkMouseBetweenElements( that, upper, lower ) ) {\n\t\t\t\tthat.debug.logEnd( 'ABORT. Mouse is already above upper or below lower.' ); // %REMOVE_LINE%\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar minDistance = Number.MAX_VALUE,\n\t\t\t\tcurrentDistance, upperNext, minElement, minElementNext;\n\n\t\t\twhile ( lower && !lower.equals( upper ) ) {\n\t\t\t\t// 3.1.\n\t\t\t\tif ( !( upperNext = upper.getNext( that.isRelevant ) ) )\n\t\t\t\t\tbreak;\n\n\t\t\t\t// 3.2.\n\t\t\t\tcurrentDistance = Math.abs( getMidpoint( that, upper, upperNext ) - that.mouse.y );\n\n\t\t\t\t// 3.3.\n\t\t\t\tif ( currentDistance < minDistance ) {\n\t\t\t\t\tminDistance = currentDistance;\n\t\t\t\t\tminElement = upper;\n\t\t\t\t\tminElementNext = upperNext;\n\t\t\t\t}\n\n\t\t\t\tupper = upperNext;\n\t\t\t\tupdateSize( that, upper );\n\t\t\t}\n\n\t\t\tthat.debug.logElements( [ minElement, minElementNext ], // %REMOVE_LINE%\n\t\t\t\t[ 'Min', 'MinNext' ], 'Post-processing results' ); // %REMOVE_LINE%\n\n\t\t\t// 3.4.\n\t\t\tif ( !minElement || !minElementNext ) {\n\t\t\t\tthat.debug.logEnd( 'ABORT. No Min or MinNext' ); // %REMOVE_LINE%\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( !checkMouseBetweenElements( that, minElement, minElementNext ) ) {\n\t\t\t\tthat.debug.logEnd( 'ABORT. Mouse is already above minElement or below minElementNext.' ); // %REMOVE_LINE%\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// An element of minimal distance has been found. Assign it to the trigger.\n\t\t\ttrigger.upper = minElement;\n\t\t\ttrigger.lower = minElementNext;\n\n\t\t\t// Success: post-processing revealed a pair of elements.\n\t\t\tthat.debug.logEnd( 'SUCCESSFUL post-processing. Trigger created.' ); // %REMOVE_LINE%\n\t\t\treturn trigger.set( EDGE_MIDDLE, TYPE_EXPAND );\n\t\t}\n\n\t\t// This is default element selector used by the engine.\n\t\tfunction expandSelector( that, node ) {\n\t\t\treturn !( isTextNode( node ) ||\n\t\t\t\tisComment( node ) ||\n\t\t\t\tisFlowBreaker( node ) ||\n\t\t\t\tisLine( that, node ) ||\n\t\t\t\t( node.type == CKEDITOR.NODE_ELEMENT && node.$ && node.is( 'br' ) ) );\n\t\t}\n\n\t\t// This method checks whether mouse-y is between the top edge of upper\n\t\t// and bottom edge of lower.\n\t\t//\n\t\t// NOTE: This method assumes that updateSize has already been called\n\t\t// for the elements and is up-to-date.\n\t\t//\n\t\t//\t+---------------------------- Upper -+  /--\n\t\t//\t|                                    |  |\n\t\t//\t+------------------------------------+  |\n\t\t//                                          |\n\t\t//                     ...                  |\n\t\t//                                          |\n\t\t//\t\t\t\t\t\tX                   |\t* Return true for mouse-y in this range *\n\t\t//                                          |\n\t\t//                     ...                  |\n\t\t//                                          |\n\t\t//\t+---------------------------- Lower -+  |\n\t\t//\t|                                    |  |\n\t\t//\t+------------------------------------+  \\--\n\t\t//\n\t\tfunction checkMouseBetweenElements( that, upper, lower ) {\n\t\t\treturn inBetween( that.mouse.y, upper.size.top, lower.size.bottom );\n\t\t}\n\n\t\t// A method for trigger filtering. Accepts or rejects trigger pairs\n\t\t// by their location in DOM etc.\n\t\tfunction expandFilter( that, trigger ) {\n\t\t\tthat.debug.groupStart( 'expandFilter' ); // %REMOVE_LINE%\n\n\t\t\tvar upper = trigger.upper,\n\t\t\t\tlower = trigger.lower;\n\n\t\t\tif (\n\t\t\t\t!upper || !lower ||\t\t\t\t\t\t\t\t\t\t\t// NOT: EDGE_MIDDLE trigger ALWAYS has two elements.\n\t\t\t\tisFlowBreaker( lower ) || isFlowBreaker( upper ) ||\t\t\t// NOT: one of the elements is floated or positioned\n\t\t\t\tlower.equals( upper ) || upper.equals( lower ) ||\t\t\t// NOT: two trigger elements, one equals another.\n\t\t\t\tlower.contains( upper ) || upper.contains( lower )\n\t\t\t) {\t// NOT: two trigger elements, one contains another.\n\t\t\t\tthat.debug.logEnd( 'REJECTED. No upper or no lower or they contain each other.' ); // %REMOVE_LINE%\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// YES: two trigger elements, pure siblings.\n\t\t\telse if ( isTrigger( that, upper ) && isTrigger( that, lower ) && areSiblings( that, upper, lower ) ) {\n\t\t\t\tthat.debug.logElementsEnd( [ upper, lower ], // %REMOVE_LINE%\n\t\t\t\t\t[ 'upper', 'lower' ], 'APPROVED EDGE_MIDDLE' ); // %REMOVE_LINE%\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tthat.debug.logElementsEnd( [ upper, lower ], // %REMOVE_LINE%\n\t\t\t\t[ 'upper', 'lower' ], 'Rejected unknown pair' ); // %REMOVE_LINE%\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// Simple wrapper for expandEngine and expandFilter.\n\t\treturn function( that ) {\n\t\t\tthat.debug.groupStart( 'triggerExpand' ); // %REMOVE_LINE%\n\n\t\t\tvar trigger = expandEngine( that );\n\n\t\t\tthat.debug.groupEnd(); // %REMOVE_LINE%\n\t\t\treturn trigger && expandFilter( that, trigger ) ? trigger : null;\n\t\t};\n\t} )();\n\n\t// Collects dimensions of an element.\n\tvar sizePrefixes = [ 'top', 'left', 'right', 'bottom' ];\n\n\tfunction getSize( that, element, ignoreScroll, force ) {\n\t\tvar docPosition = element.getDocumentPosition(),\n\t\t\tborder = {},\n\t\t\tmargin = {},\n\t\t\tpadding = {},\n\t\t\tbox = {};\n\n\t\tfor ( var i = sizePrefixes.length; i--; ) {\n\t\t\tborder[ sizePrefixes[ i ] ] = parseInt( getStyle( 'border-' + sizePrefixes[ i ] + '-width' ), 10 ) || 0;\n\t\t\tpadding[ sizePrefixes[ i ] ] = parseInt( getStyle( 'padding-' + sizePrefixes[ i ] ), 10 ) || 0;\n\t\t\tmargin[ sizePrefixes[ i ] ] = parseInt( getStyle( 'margin-' + sizePrefixes[ i ] ), 10 ) || 0;\n\t\t}\n\n\t\t// updateWindowSize if forced to do so OR NOT ignoring scroll.\n\t\tif ( !ignoreScroll || force )\n\t\t\tupdateWindowSize( that, force );\n\n\t\tbox.top = docPosition.y - ( ignoreScroll ? 0 : that.view.scroll.y ), box.left = docPosition.x - ( ignoreScroll ? 0 : that.view.scroll.x ),\n\n\t\t// w/ borders and paddings.\n\t\tbox.outerWidth = element.$.offsetWidth, box.outerHeight = element.$.offsetHeight,\n\n\t\t// w/o borders and paddings.\n\t\tbox.height = box.outerHeight - ( padding.top + padding.bottom + border.top + border.bottom ), box.width = box.outerWidth - ( padding.left + padding.right + border.left + border.right ),\n\n\t\tbox.bottom = box.top + box.outerHeight, box.right = box.left + box.outerWidth;\n\n\t\tif ( that.inInlineMode ) {\n\t\t\tbox.scroll = {\n\t\t\t\ttop: element.$.scrollTop,\n\t\t\t\tleft: element.$.scrollLeft\n\t\t\t};\n\t\t}\n\n\t\treturn extend( {\n\t\t\tborder: border,\n\t\t\tpadding: padding,\n\t\t\tmargin: margin,\n\t\t\tignoreScroll: ignoreScroll\n\t\t}, box, true );\n\n\t\tfunction getStyle( propertyName ) {\n\t\t\treturn element.getComputedStyle.call( element, propertyName );\n\t\t}\n\t}\n\n\tfunction updateSize( that, element, ignoreScroll ) {\n\t\tif ( !isHtml( element ) ) // i.e. an element is hidden\n\t\t\treturn ( element.size = null ); //\t-> reset size to make it useless for other methods\n\n\t\tif ( !element.size )\n\t\t\telement.size = {};\n\n\t\t// Abort if there was a similar query performed recently.\n\t\t// This kind of caching provides great performance improvement.\n\t\telse if ( element.size.ignoreScroll == ignoreScroll && element.size.date > new Date() - CACHE_TIME ) {\n\t\t\tthat.debug.log( 'element.size: get from cache' ); // %REMOVE_LINE%\n\t\t\treturn null;\n\t\t}\n\n\t\tthat.debug.log( 'element.size: capture' ); // %REMOVE_LINE%\n\n\t\treturn extend( element.size, getSize( that, element, ignoreScroll ), {\n\t\t\tdate: +new Date()\n\t\t}, true );\n\t}\n\n\t// Updates that.view.editable object.\n\t// This one must be called separately outside of updateWindowSize\n\t// to prevent cyclic dependency getSize<->updateWindowSize.\n\t// It calls getSize with force flag to avoid getWindowSize cache (look: getSize).\n\tfunction updateEditableSize( that, ignoreScroll ) {\n\t\tthat.view.editable = getSize( that, that.editable, ignoreScroll, true );\n\t}\n\n\tfunction updateWindowSize( that, force ) {\n\t\tif ( !that.view )\n\t\t\tthat.view = {};\n\n\t\tvar view = that.view;\n\n\t\tif ( !force && view && view.date > new Date() - CACHE_TIME ) {\n\t\t\tthat.debug.log( 'win.size: get from cache' ); // %REMOVE_LINE%\n\t\t\treturn;\n\t\t}\n\n\t\tthat.debug.log( 'win.size: capturing' ); // %REMOVE_LINE%\n\n\t\tvar win = that.win,\n\t\t\tscroll = win.getScrollPosition(),\n\t\t\tpaneSize = win.getViewPaneSize();\n\n\t\textend( that.view, {\n\t\t\tscroll: {\n\t\t\t\tx: scroll.x,\n\t\t\t\ty: scroll.y,\n\t\t\t\twidth: that.doc.$.documentElement.scrollWidth - paneSize.width,\n\t\t\t\theight: that.doc.$.documentElement.scrollHeight - paneSize.height\n\t\t\t},\n\t\t\tpane: {\n\t\t\t\twidth: paneSize.width,\n\t\t\t\theight: paneSize.height,\n\t\t\t\tbottom: paneSize.height + scroll.y\n\t\t\t},\n\t\t\tdate: +new Date()\n\t\t}, true );\n\t}\n\n\t// This method searches document vertically using given\n\t// select criterion until stop criterion is fulfilled.\n\tfunction verticalSearch( that, stopCondition, selectCriterion, startElement ) {\n\t\tvar upper = startElement,\n\t\t\tlower = startElement,\n\t\t\tmouseStep = 0,\n\t\t\tupperFound = false,\n\t\t\tlowerFound = false,\n\t\t\tviewPaneHeight = that.view.pane.height,\n\t\t\tmouse = that.mouse;\n\n\t\twhile ( mouse.y + mouseStep < viewPaneHeight && mouse.y - mouseStep > 0 ) {\n\t\t\tif ( !upperFound )\n\t\t\t\tupperFound = stopCondition( upper, startElement );\n\n\t\t\tif ( !lowerFound )\n\t\t\t\tlowerFound = stopCondition( lower, startElement );\n\n\t\t\t// Still not found...\n\t\t\tif ( !upperFound && mouse.y - mouseStep > 0 )\n\t\t\t\tupper = selectCriterion( that, { x: mouse.x, y: mouse.y - mouseStep } );\n\n\t\t\tif ( !lowerFound && mouse.y + mouseStep < viewPaneHeight )\n\t\t\t\tlower = selectCriterion( that, { x: mouse.x, y: mouse.y + mouseStep } );\n\n\t\t\tif ( upperFound && lowerFound )\n\t\t\t\tbreak;\n\n\t\t\t// Instead of ++ to reduce the number of invocations by half.\n\t\t\t// It's trades off accuracy in some edge cases for improved performance.\n\t\t\tmouseStep += 2;\n\t\t}\n\n\t\treturn new boxTrigger( [ upper, lower, null, null ] );\n\t}\n\n} )();\n\n/**\n * Sets the default vertical distance between the edge of the element and the mouse pointer that\n * causes the magic line to appear. This option accepts a value in pixels, without the unit (for example:\n * `15` for 15 pixels).\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Changes the offset to 15px.\n *\t\tCKEDITOR.config.magicline_triggerOffset = 15;\n *\n * @cfg {Number} [magicline_triggerOffset=30]\n * @member CKEDITOR.config\n * @see CKEDITOR.config#magicline_holdDistance\n */\n\n/**\n * Defines the distance between the mouse pointer and the box within\n * which the magic line stays revealed and no other focus space is offered to be accessed.\n * This value is relative to {@link #magicline_triggerOffset}.\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Increases the distance to 80% of CKEDITOR.config.magicline_triggerOffset.\n *\t\tCKEDITOR.config.magicline_holdDistance = .8;\n *\n * @cfg {Number} [magicline_holdDistance=0.5]\n * @member CKEDITOR.config\n * @see CKEDITOR.config#magicline_triggerOffset\n */\n\n/**\n * Defines the default keystroke that accesses the closest unreachable focus space **before**\n * the caret (start of the selection). If there is no focus space available, the selection remains unchanged.\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Changes the default keystroke to \"Ctrl + ,\".\n *\t\tCKEDITOR.config.magicline_keystrokePrevious = CKEDITOR.CTRL + 188;\n *\n * @cfg {Number} [magicline_keystrokePrevious=CKEDITOR.CTRL + CKEDITOR.SHIFT + 51 (CTRL + SHIFT + 3)]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.magicline_keystrokePrevious = CKEDITOR.CTRL + CKEDITOR.SHIFT + 51; // CTRL + SHIFT + 3\n\n/**\n * Defines the default keystroke that accesses the closest unreachable focus space **after**\n * the caret (start of the selection). If there is no focus space available, the selection remains unchanged.\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Changes keystroke to \"Ctrl + .\".\n *\t\tCKEDITOR.config.magicline_keystrokeNext = CKEDITOR.CTRL + 190;\n *\n * @cfg {Number} [magicline_keystrokeNext=CKEDITOR.CTRL + CKEDITOR.SHIFT + 52 (CTRL + SHIFT + 4)]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.magicline_keystrokeNext = CKEDITOR.CTRL + CKEDITOR.SHIFT + 52; // CTRL + SHIFT + 4\n\n/**\n * Defines a list of attributes that, if assigned to some elements, prevent the magic line from being\n * used within these elements.\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Adds the \"data-tabu\" attribute to the magic line tabu list.\n *\t\tCKEDITOR.config.magicline_tabuList = [ 'data-tabu' ];\n *\n * @cfg {Number} [magicline_tabuList=[ 'data-widget-wrapper' ]]\n * @member CKEDITOR.config\n */\n\n/**\n * Defines the color of the magic line. The color may be adjusted to enhance readability.\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Changes magic line color to blue.\n *\t\tCKEDITOR.config.magicline_color = '#0000FF';\n *\n * @cfg {String} [magicline_color='#FF0000']\n * @member CKEDITOR.config\n */\n\n/**\n * Activates the special all-encompassing mode that considers all focus spaces between\n * {@link CKEDITOR.dtd#$block} elements as accessible by the magic line.\n *\n * Read more in the [documentation](#!/guide/dev_magicline)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/magicline.html).\n *\n *\t\t// Enables the greedy \"put everywhere\" mode.\n *\t\tCKEDITOR.config.magicline_everywhere = true;\n *\n * @cfg {Boolean} [magicline_everywhere=false]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/magicline/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tfunction protectFormStyles( formElement ) {\n\t\tif ( !formElement || formElement.type != CKEDITOR.NODE_ELEMENT || formElement.getName() != 'form' )\n\t\t\treturn [];\n\n\t\tvar hijackRecord = [],\n\t\t\thijackNames = [ 'style', 'className' ];\n\t\tfor ( var i = 0; i < hijackNames.length; i++ ) {\n\t\t\tvar name = hijackNames[ i ];\n\t\t\tvar $node = formElement.$.elements.namedItem( name );\n\t\t\tif ( $node ) {\n\t\t\t\tvar hijackNode = new CKEDITOR.dom.element( $node );\n\t\t\t\thijackRecord.push( [ hijackNode, hijackNode.nextSibling ] );\n\t\t\t\thijackNode.remove();\n\t\t\t}\n\t\t}\n\n\t\treturn hijackRecord;\n\t}\n\n\tfunction restoreFormStyles( formElement, hijackRecord ) {\n\t\tif ( !formElement || formElement.type != CKEDITOR.NODE_ELEMENT || formElement.getName() != 'form' )\n\t\t\treturn;\n\n\t\tif ( hijackRecord.length > 0 ) {\n\t\t\tfor ( var i = hijackRecord.length - 1; i >= 0; i-- ) {\n\t\t\t\tvar node = hijackRecord[ i ][ 0 ];\n\t\t\t\tvar sibling = hijackRecord[ i ][ 1 ];\n\t\t\t\tif ( sibling )\n\t\t\t\t\tnode.insertBefore( sibling );\n\t\t\t\telse\n\t\t\t\t\tnode.appendTo( formElement );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction saveStyles( element, isInsideEditor ) {\n\t\tvar data = protectFormStyles( element );\n\t\tvar retval = {};\n\n\t\tvar $element = element.$;\n\n\t\tif ( !isInsideEditor ) {\n\t\t\tretval[ 'class' ] = $element.className || '';\n\t\t\t$element.className = '';\n\t\t}\n\n\t\tretval.inline = $element.style.cssText || '';\n\t\tif ( !isInsideEditor ) // Reset any external styles that might interfere. (#2474)\n\t\t$element.style.cssText = 'position: static; overflow: visible';\n\n\t\trestoreFormStyles( data );\n\t\treturn retval;\n\t}\n\n\tfunction restoreStyles( element, savedStyles ) {\n\t\tvar data = protectFormStyles( element );\n\t\tvar $element = element.$;\n\t\tif ( 'class' in savedStyles )\n\t\t\t$element.className = savedStyles[ 'class' ];\n\t\tif ( 'inline' in savedStyles )\n\t\t\t$element.style.cssText = savedStyles.inline;\n\t\trestoreFormStyles( data );\n\t}\n\n\tfunction refreshCursor( editor ) {\n\t\tif ( editor.editable().isInline() )\n\t\t\treturn;\n\n\t\t// Refresh all editor instances on the page (#5724).\n\t\tvar all = CKEDITOR.instances;\n\t\tfor ( var i in all ) {\n\t\t\tvar one = all[ i ];\n\t\t\tif ( one.mode == 'wysiwyg' && !one.readOnly ) {\n\t\t\t\tvar body = one.document.getBody();\n\t\t\t\t// Refresh 'contentEditable' otherwise\n\t\t\t\t// DOM lifting breaks design mode. (#5560)\n\t\t\t\tbody.setAttribute( 'contentEditable', false );\n\t\t\t\tbody.setAttribute( 'contentEditable', true );\n\t\t\t}\n\t\t}\n\n\t\tif ( editor.editable().hasFocus ) {\n\t\t\teditor.toolbox.focus();\n\t\t\teditor.focus();\n\t\t}\n\t}\n\n\tCKEDITOR.plugins.add( 'maximize', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'maximize', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\t// Maximize plugin isn't available in inline mode yet.\n\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\t\treturn;\n\n\t\t\tvar lang = editor.lang;\n\t\t\tvar mainDocument = CKEDITOR.document,\n\t\t\t\tmainWindow = mainDocument.getWindow();\n\n\t\t\t// Saved selection and scroll position for the editing area.\n\t\t\tvar savedSelection, savedScroll;\n\n\t\t\t// Saved scroll position for the outer window.\n\t\t\tvar outerScroll;\n\n\t\t\t// Saved resize handler function.\n\t\t\tfunction resizeHandler() {\n\t\t\t\tvar viewPaneSize = mainWindow.getViewPaneSize();\n\t\t\t\teditor.resize( viewPaneSize.width, viewPaneSize.height, null, true );\n\t\t\t}\n\n\t\t\t// Retain state after mode switches.\n\t\t\tvar savedState = CKEDITOR.TRISTATE_OFF;\n\n\t\t\teditor.addCommand( 'maximize', {\n\t\t\t\t// Disabled on iOS (#8307).\n\t\t\t\tmodes: { wysiwyg: !CKEDITOR.env.iOS, source: !CKEDITOR.env.iOS },\n\t\t\t\treadOnly: 1,\n\t\t\t\teditorFocus: false,\n\t\t\t\texec: function() {\n\t\t\t\t\tvar container = editor.container.getFirst( function( node ) {\n\t\t\t\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT && node.hasClass( 'cke_inner' );\n\t\t\t\t\t} );\n\t\t\t\t\tvar contents = editor.ui.space( 'contents' );\n\n\t\t\t\t\t// Save current selection and scroll position in editing area.\n\t\t\t\t\tif ( editor.mode == 'wysiwyg' ) {\n\t\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\t\tsavedSelection = selection && selection.getRanges();\n\t\t\t\t\t\tsavedScroll = mainWindow.getScrollPosition();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar $textarea = editor.editable().$;\n\t\t\t\t\t\tsavedSelection = !CKEDITOR.env.ie && [ $textarea.selectionStart, $textarea.selectionEnd ];\n\t\t\t\t\t\tsavedScroll = [ $textarea.scrollLeft, $textarea.scrollTop ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Go fullscreen if the state is off.\n\t\t\t\t\tif ( this.state == CKEDITOR.TRISTATE_OFF ) {\n\t\t\t\t\t\t// Add event handler for resizing.\n\t\t\t\t\t\tmainWindow.on( 'resize', resizeHandler );\n\n\t\t\t\t\t\t// Save the scroll bar position.\n\t\t\t\t\t\touterScroll = mainWindow.getScrollPosition();\n\n\t\t\t\t\t\t// Save and reset the styles for the entire node tree.\n\t\t\t\t\t\tvar currentNode = editor.container;\n\t\t\t\t\t\twhile ( ( currentNode = currentNode.getParent() ) ) {\n\t\t\t\t\t\t\tcurrentNode.setCustomData( 'maximize_saved_styles', saveStyles( currentNode ) );\n\t\t\t\t\t\t\t// Show under floatpanels (-1) and context menu (-2).\n\t\t\t\t\t\t\tcurrentNode.setStyle( 'z-index', editor.config.baseFloatZIndex - 5 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontents.setCustomData( 'maximize_saved_styles', saveStyles( contents, true ) );\n\t\t\t\t\t\tcontainer.setCustomData( 'maximize_saved_styles', saveStyles( container, true ) );\n\n\t\t\t\t\t\t// Hide scroll bars.\n\t\t\t\t\t\tvar styles = {\n\t\t\t\t\t\t\toverflow: CKEDITOR.env.webkit ? '' : 'hidden', // #6896\n\t\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\t\theight: 0\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tmainDocument.getDocumentElement().setStyles( styles );\n\t\t\t\t\t\t!CKEDITOR.env.gecko && mainDocument.getDocumentElement().setStyle( 'position', 'fixed' );\n\t\t\t\t\t\t!( CKEDITOR.env.gecko && CKEDITOR.env.quirks ) && mainDocument.getBody().setStyles( styles );\n\n\t\t\t\t\t\t// Scroll to the top left (IE needs some time for it - #4923).\n\t\t\t\t\t\tCKEDITOR.env.ie ? setTimeout( function() {\n\t\t\t\t\t\t\tmainWindow.$.scrollTo( 0, 0 );\n\t\t\t\t\t\t}, 0 ) : mainWindow.$.scrollTo( 0, 0 );\n\n\t\t\t\t\t\t// Resize and move to top left.\n\t\t\t\t\t\t// Special treatment for FF Quirks (#7284)\n\t\t\t\t\t\tcontainer.setStyle( 'position', CKEDITOR.env.gecko && CKEDITOR.env.quirks ? 'fixed' : 'absolute' );\n\t\t\t\t\t\tcontainer.$.offsetLeft; // SAFARI BUG: See #2066.\n\t\t\t\t\t\tcontainer.setStyles( {\n\t\t\t\t\t\t\t// Show under floatpanels (-1) and context menu (-2).\n\t\t\t\t\t\t\t'z-index': editor.config.baseFloatZIndex - 5,\n\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\ttop: '0px'\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Add cke_maximized class before resize handle since that will change things sizes (#5580)\n\t\t\t\t\t\tcontainer.addClass( 'cke_maximized' );\n\n\t\t\t\t\t\tresizeHandler();\n\n\t\t\t\t\t\t// Still not top left? Fix it. (Bug #174)\n\t\t\t\t\t\tvar offset = container.getDocumentPosition();\n\t\t\t\t\t\tcontainer.setStyles( {\n\t\t\t\t\t\t\tleft: ( -1 * offset.x ) + 'px',\n\t\t\t\t\t\t\ttop: ( -1 * offset.y ) + 'px'\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Fixing positioning editor chrome in Firefox break design mode. (#5149)\n\t\t\t\t\t\tCKEDITOR.env.gecko && refreshCursor( editor );\n\t\t\t\t\t}\n\t\t\t\t\t// Restore from fullscreen if the state is on.\n\t\t\t\t\telse if ( this.state == CKEDITOR.TRISTATE_ON ) {\n\t\t\t\t\t\t// Remove event handler for resizing.\n\t\t\t\t\t\tmainWindow.removeListener( 'resize', resizeHandler );\n\n\t\t\t\t\t\t// Restore CSS styles for the entire node tree.\n\t\t\t\t\t\tvar editorElements = [ contents, container ];\n\t\t\t\t\t\tfor ( var i = 0; i < editorElements.length; i++ ) {\n\t\t\t\t\t\t\trestoreStyles( editorElements[ i ], editorElements[ i ].getCustomData( 'maximize_saved_styles' ) );\n\t\t\t\t\t\t\teditorElements[ i ].removeCustomData( 'maximize_saved_styles' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentNode = editor.container;\n\t\t\t\t\t\twhile ( ( currentNode = currentNode.getParent() ) ) {\n\t\t\t\t\t\t\trestoreStyles( currentNode, currentNode.getCustomData( 'maximize_saved_styles' ) );\n\t\t\t\t\t\t\tcurrentNode.removeCustomData( 'maximize_saved_styles' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Restore the window scroll position.\n\t\t\t\t\t\tCKEDITOR.env.ie ? setTimeout( function() {\n\t\t\t\t\t\t\tmainWindow.$.scrollTo( outerScroll.x, outerScroll.y );\n\t\t\t\t\t\t}, 0 ) : mainWindow.$.scrollTo( outerScroll.x, outerScroll.y );\n\n\t\t\t\t\t\t// Remove cke_maximized class.\n\t\t\t\t\t\tcontainer.removeClass( 'cke_maximized' );\n\n\t\t\t\t\t\t// Webkit requires a re-layout on editor chrome. (#6695)\n\t\t\t\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t\t\t\tcontainer.setStyle( 'display', 'inline' );\n\t\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t\tcontainer.setStyle( 'display', 'block' );\n\t\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Emit a resize event, because this time the size is modified in\n\t\t\t\t\t\t// restoreStyles.\n\t\t\t\t\t\teditor.fire( 'resize', {\n\t\t\t\t\t\t\touterHeight: editor.container.$.offsetHeight,\n\t\t\t\t\t\t\tcontentsHeight: contents.$.offsetHeight,\n\t\t\t\t\t\t\touterWidth: editor.container.$.offsetWidth\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.toggleState();\n\n\t\t\t\t\t// Toggle button label.\n\t\t\t\t\tvar button = this.uiItems[ 0 ];\n\t\t\t\t\t// Only try to change the button if it exists (#6166)\n\t\t\t\t\tif ( button ) {\n\t\t\t\t\t\tvar label = ( this.state == CKEDITOR.TRISTATE_OFF ) ? lang.maximize.maximize : lang.maximize.minimize;\n\t\t\t\t\t\tvar buttonNode = CKEDITOR.document.getById( button._.id );\n\t\t\t\t\t\tbuttonNode.getChild( 1 ).setHtml( label );\n\t\t\t\t\t\tbuttonNode.setAttribute( 'title', label );\n\t\t\t\t\t\tbuttonNode.setAttribute( 'href', 'javascript:void(\"' + label + '\");' ); // jshint ignore:line\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore selection and scroll position in editing area.\n\t\t\t\t\tif ( editor.mode == 'wysiwyg' ) {\n\t\t\t\t\t\tif ( savedSelection ) {\n\t\t\t\t\t\t\t// Fixing positioning editor chrome in Firefox break design mode. (#5149)\n\t\t\t\t\t\t\tCKEDITOR.env.gecko && refreshCursor( editor );\n\n\t\t\t\t\t\t\teditor.getSelection().selectRanges( savedSelection );\n\t\t\t\t\t\t\tvar element = editor.getSelection().getStartElement();\n\t\t\t\t\t\t\telement && element.scrollIntoView( true );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmainWindow.$.scrollTo( savedScroll.x, savedScroll.y );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( savedSelection ) {\n\t\t\t\t\t\t\t$textarea.selectionStart = savedSelection[ 0 ];\n\t\t\t\t\t\t\t$textarea.selectionEnd = savedSelection[ 1 ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$textarea.scrollLeft = savedScroll[ 0 ];\n\t\t\t\t\t\t$textarea.scrollTop = savedScroll[ 1 ];\n\t\t\t\t\t}\n\n\t\t\t\t\tsavedSelection = savedScroll = null;\n\t\t\t\t\tsavedState = this.state;\n\n\t\t\t\t\teditor.fire( 'maximize', this.state );\n\t\t\t\t},\n\t\t\t\tcanUndo: false\n\t\t\t} );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Maximize', {\n\t\t\t\tlabel: lang.maximize.maximize,\n\t\t\t\tcommand: 'maximize',\n\t\t\t\ttoolbar: 'tools,10'\n\t\t\t} );\n\n\t\t\t// Restore the command state after mode change, unless it has been changed to disabled (#6467)\n\t\t\teditor.on( 'mode', function() {\n\t\t\t\tvar command = editor.getCommand( 'maximize' );\n\t\t\t\tcommand.setState( command.state == CKEDITOR.TRISTATE_DISABLED ? CKEDITOR.TRISTATE_DISABLED : savedState );\n\t\t\t}, null, null, 100 );\n\t\t}\n\t} );\n} )();\n\n/**\n * Event fired when the maximize command is called.\n * It also indicates whether an editor is maximized or not.\n *\n * @event maximize\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {Number} data Current state of the command. See {@link CKEDITOR#TRISTATE_ON} and {@link CKEDITOR#TRISTATE_OFF}.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/maximize/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Horizontal Page Break.\n */\n\n// Register a plugin named \"newpage\".\nCKEDITOR.plugins.add( 'newpage', {\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'newpage,newpage-rtl', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\teditor.addCommand( 'newpage', { modes: { wysiwyg: 1, source: 1 },\n\n\t\t\texec: function( editor ) {\n\t\t\t\tvar command = this;\n\t\t\t\teditor.setData( editor.config.newpage_html || '', function() {\n\t\t\t\t\teditor.focus();\n\t\t\t\t\t// Save the undo snapshot after all document changes are affected. (#4889)\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\teditor.fire( 'afterCommandExec', {\n\t\t\t\t\t\t\tname: 'newpage',\n\t\t\t\t\t\t\tcommand: command\n\t\t\t\t\t\t} );\n\t\t\t\t\t\teditor.selectionChange();\n\n\t\t\t\t\t}, 200 );\n\t\t\t\t} );\n\t\t\t},\n\t\t\tasync: true\n\t\t} );\n\n\t\teditor.ui.addButton && editor.ui.addButton( 'NewPage', {\n\t\t\tlabel: editor.lang.newpage.toolbar,\n\t\t\tcommand: 'newpage',\n\t\t\ttoolbar: 'document,20'\n\t\t} );\n\t}\n} );\n\n/**\n * The HTML to load in the editor when the \"new page\" command is executed.\n *\n *\t\tconfig.newpage_html = '<p>Type your text here.</p>';\n *\n * @cfg {String} [newpage_html='']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/newpage/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Horizontal Page Break\n */\n\n'use strict';\n\n( function() {\n\t// Register a plugin named \"pagebreak\".\n\tCKEDITOR.plugins.add( 'pagebreak', {\n\t\trequires: 'fakeobjects',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'pagebreak,pagebreak-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tonLoad: function() {\n\t\t\tvar cssStyles = (\n\t\t\t\t\t'background:url(' + CKEDITOR.getUrl( this.path + 'images/pagebreak.gif' ) + ') no-repeat center center;' +\n\t\t\t\t\t'clear:both;' +\n\t\t\t\t\t'width:100%;' +\n\t\t\t\t\t'border-top:#999 1px dotted;' +\n\t\t\t\t\t'border-bottom:#999 1px dotted;' +\n\t\t\t\t\t'padding:0;' +\n\t\t\t\t\t'height:7px;' +\n\t\t\t\t\t'cursor:default;'\n\t\t\t\t).replace( /;/g, ' !important;' ); // Increase specificity to override other styles, e.g. block outline.\n\n\t\t\t// Add the style that renders our placeholder.\n\t\t\tCKEDITOR.addCss( 'div.cke_pagebreak{' + cssStyles + '}' );\n\t\t},\n\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\t// Register the command.\n\t\t\teditor.addCommand( 'pagebreak', CKEDITOR.plugins.pagebreakCmd );\n\n\t\t\t// Register the toolbar button.\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'PageBreak', {\n\t\t\t\tlabel: editor.lang.pagebreak.toolbar,\n\t\t\t\tcommand: 'pagebreak',\n\t\t\t\ttoolbar: 'insert,70'\n\t\t\t} );\n\n\t\t\t// Webkit based browsers needs help to select the page-break.\n\t\t\tCKEDITOR.env.webkit && editor.on( 'contentDom', function() {\n\t\t\t\teditor.document.on( 'click', function( evt ) {\n\t\t\t\t\tvar target = evt.data.getTarget();\n\t\t\t\t\tif ( target.is( 'div' ) && target.hasClass( 'cke_pagebreak' ) )\n\t\t\t\t\t\teditor.getSelection().selectElement( target );\n\t\t\t\t} );\n\t\t\t} );\n\t\t},\n\n\t\tafterInit: function( editor ) {\n\t\t\t// Register a filter to displaying placeholders after mode change.\n\t\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\t\tdataFilter = dataProcessor && dataProcessor.dataFilter,\n\t\t\t\thtmlFilter = dataProcessor && dataProcessor.htmlFilter,\n\t\t\t\tstyleRegex = /page-break-after\\s*:\\s*always/i,\n\t\t\t\tchildStyleRegex = /display\\s*:\\s*none/i;\n\n\t\t\tfunction upcastPageBreak( element ) {\n\t\t\t\tCKEDITOR.tools.extend( element.attributes, attributesSet( editor.lang.pagebreak.alt ), true );\n\n\t\t\t\telement.children.length = 0;\n\t\t\t}\n\n\t\t\tif ( htmlFilter ) {\n\t\t\t\thtmlFilter.addRules( {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\t'class': function( value, element ) {\n\t\t\t\t\t\t\tvar className = value.replace( 'cke_pagebreak', '' );\n\t\t\t\t\t\t\tif ( className != value ) {\n\t\t\t\t\t\t\t\tvar span = CKEDITOR.htmlParser.fragment.fromHtml( '<span style=\"display: none;\">&nbsp;</span>' ).children[ 0 ];\n\t\t\t\t\t\t\t\telement.children.length = 0;\n\t\t\t\t\t\t\t\telement.add( span );\n\t\t\t\t\t\t\t\tvar attrs = element.attributes;\n\t\t\t\t\t\t\t\tdelete attrs[ 'aria-label' ];\n\t\t\t\t\t\t\t\tdelete attrs.contenteditable;\n\t\t\t\t\t\t\t\tdelete attrs.title;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn className;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, { applyToAll: true, priority: 5 } );\n\t\t\t}\n\n\t\t\tif ( dataFilter ) {\n\t\t\t\tdataFilter.addRules( {\n\t\t\t\t\telements: {\n\t\t\t\t\t\tdiv: function( element ) {\n\t\t\t\t\t\t\t// The \"internal form\" of a pagebreak is pasted from clipboard.\n\t\t\t\t\t\t\t// ACF may have distorted the HTML because \"internal form\" is\n\t\t\t\t\t\t\t// different than \"data form\". Make sure that element remains valid\n\t\t\t\t\t\t\t// by re-upcasting it (#11133).\n\t\t\t\t\t\t\tif ( element.attributes[ 'data-cke-pagebreak' ] )\n\t\t\t\t\t\t\t\tupcastPageBreak( element );\n\n\t\t\t\t\t\t\t// Check for \"data form\" of the pagebreak. If both element and\n\t\t\t\t\t\t\t// descendants match, convert them to internal form.\n\t\t\t\t\t\t\telse if ( styleRegex.test( element.attributes.style ) ) {\n\t\t\t\t\t\t\t\tvar child = element.children[ 0 ];\n\n\t\t\t\t\t\t\t\tif ( child && child.name == 'span' && childStyleRegex.test( child.attributes.style ) )\n\t\t\t\t\t\t\t\t\tupcastPageBreak( element );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n\n\t// TODO Much probably there's no need to expose this object as public object.\n\tCKEDITOR.plugins.pagebreakCmd = {\n\t\texec: function( editor ) {\n\t\t\t// Create read-only element that represents a print break.\n\t\t\tvar pagebreak = editor.document.createElement( 'div', {\n\t\t\t\tattributes: attributesSet( editor.lang.pagebreak.alt )\n\t\t\t} );\n\n\t\t\teditor.insertElement( pagebreak );\n\t\t},\n\t\tcontext: 'div',\n\t\tallowedContent: {\n\t\t\tdiv: {\n\t\t\t\tstyles: '!page-break-after'\n\t\t\t},\n\t\t\tspan: {\n\t\t\t\tmatch: function( element ) {\n\t\t\t\t\tvar parent = element.parent;\n\t\t\t\t\treturn parent && parent.name == 'div' && parent.styles && parent.styles[ 'page-break-after' ];\n\t\t\t\t},\n\t\t\t\tstyles: 'display'\n\t\t\t}\n\t\t},\n\t\trequiredContent: 'div{page-break-after}'\n\t};\n\n\t// Returns an object representing all the attributes\n\t// of the \"internal form\" of the pagebreak element.\n\tfunction attributesSet( label ) {\n\t\treturn {\n\t\t\t'aria-label': label,\n\t\t\t'class': 'cke_pagebreak',\n\t\t\tcontenteditable: 'false',\n\t\t\t'data-cke-display-name': 'pagebreak',\n\t\t\t'data-cke-pagebreak': 1,\n\t\t\tstyle: 'page-break-after: always',\n\t\t\ttitle: label\n\t\t};\n\t}\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/pagebreak/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'pastefromword', {\n\t\trequires: 'clipboard',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'pastefromword,pastefromword-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tvar commandName = 'pastefromword',\n\t\t\t\t// Flag indicate this command is actually been asked instead of a generic pasting.\n\t\t\t\tforceFromWord = 0,\n\t\t\t\tpath = this.path;\n\n\t\t\teditor.addCommand( commandName, {\n\t\t\t\t// Snapshots are done manually by editable.insertXXX methods.\n\t\t\t\tcanUndo: false,\n\t\t\t\tasync: true,\n\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar cmd = this;\n\n\t\t\t\t\tforceFromWord = 1;\n\t\t\t\t\t// Force html mode for incomming paste events sequence.\n\t\t\t\t\teditor.once( 'beforePaste', forceHtmlMode );\n\n\t\t\t\t\teditor.getClipboardData( { title: editor.lang.pastefromword.title }, function( data ) {\n\t\t\t\t\t\t// Do not use editor#paste, because it would start from beforePaste event.\n\t\t\t\t\t\tdata && editor.fire( 'paste', {\n\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\tdataValue: data.dataValue,\n\t\t\t\t\t\t\tmethod: 'paste',\n\t\t\t\t\t\t\tdataTransfer: CKEDITOR.plugins.clipboard.initPasteDataTransfer()\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\teditor.fire( 'afterCommandExec', {\n\t\t\t\t\t\t\tname: commandName,\n\t\t\t\t\t\t\tcommand: cmd,\n\t\t\t\t\t\t\treturnValue: !!data\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Register the toolbar button.\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'PasteFromWord', {\n\t\t\t\tlabel: editor.lang.pastefromword.toolbar,\n\t\t\t\tcommand: commandName,\n\t\t\t\ttoolbar: 'clipboard,50'\n\t\t\t} );\n\n\t\t\teditor.on( 'pasteState', function( evt ) {\n\t\t\t\teditor.getCommand( commandName ).setState( evt.data );\n\t\t\t} );\n\n\t\t\t// Features bring by this command beside the normal process:\n\t\t\t// 1. No more bothering of user about the clean-up.\n\t\t\t// 2. Perform the clean-up even if content is not from MS-Word.\n\t\t\t// (e.g. from a MS-Word similar application.)\n\t\t\t// 3. Listen with high priority (3), so clean up is done before content\n\t\t\t// type sniffing (priority = 6).\n\t\t\teditor.on( 'paste', function( evt ) {\n\t\t\t\tvar data = evt.data,\n\t\t\t\t\tmswordHtml = data.dataValue;\n\n\t\t\t\t// MS-WORD format sniffing.\n\t\t\t\tif ( mswordHtml && ( forceFromWord || ( /(class=\\\"?Mso|style=\\\"[^\\\"]*\\bmso\\-|w:WordDocument)/ ).test( mswordHtml ) ) ) {\n\t\t\t\t\t// Do not apply paste filter to data filtered by the Word filter (#13093).\n\t\t\t\t\tdata.dontFilter = true;\n\n\t\t\t\t\t// If filter rules aren't loaded then cancel 'paste' event,\n\t\t\t\t\t// load them and when they'll get loaded fire new paste event\n\t\t\t\t\t// for which data will be filtered in second execution of\n\t\t\t\t\t// this listener.\n\t\t\t\t\tvar isLazyLoad = loadFilterRules( editor, path, function() {\n\t\t\t\t\t\t// Event continuation with the original data.\n\t\t\t\t\t\tif ( isLazyLoad )\n\t\t\t\t\t\t\teditor.fire( 'paste', data );\n\t\t\t\t\t\telse if ( !editor.config.pasteFromWordPromptCleanup || ( forceFromWord || confirm( editor.lang.pastefromword.confirmCleanup ) ) ) // jshint ignore:line\n\t\t\t\t\t\t\tdata.dataValue = CKEDITOR.cleanWord( mswordHtml, editor );\n\n\t\t\t\t\t\t// Reset forceFromWord.\n\t\t\t\t\t\tforceFromWord = 0;\n\t\t\t\t\t} );\n\n\t\t\t\t\t// The cleanup rules are to be loaded, we should just cancel\n\t\t\t\t\t// this event.\n\t\t\t\t\tisLazyLoad && evt.cancel();\n\t\t\t\t}\n\t\t\t}, null, null, 3 );\n\t\t}\n\n\t} );\n\n\tfunction loadFilterRules( editor, path, callback ) {\n\t\tvar isLoaded = CKEDITOR.cleanWord;\n\n\t\tif ( isLoaded )\n\t\t\tcallback();\n\t\telse {\n\t\t\tvar filterFilePath = CKEDITOR.getUrl( editor.config.pasteFromWordCleanupFile || ( path + 'filter/default.js' ) );\n\n\t\t\t// Load with busy indicator.\n\t\t\tCKEDITOR.scriptLoader.load( filterFilePath, callback, null, true );\n\t\t}\n\n\t\treturn !isLoaded;\n\t}\n\n\tfunction forceHtmlMode( evt ) {\n\t\tevt.data.type = 'html';\n\t}\n} )();\n\n\n/**\n * Whether to prompt the user about the clean up of content being pasted from MS Word.\n *\n *\t\tconfig.pasteFromWordPromptCleanup = true;\n *\n * @since 3.1\n * @cfg {Boolean} [pasteFromWordPromptCleanup=false]\n * @member CKEDITOR.config\n */\n\n/**\n * The file that provides the MS Word cleanup function for pasting operations.\n *\n * **Note:** This is a global configuration shared by all editor instances present\n * in the page.\n *\n *\t\t// Load from 'pastefromword' plugin 'filter' sub folder (custom.js file) using path relative to CKEditor installation folder.\n *\t\tCKEDITOR.config.pasteFromWordCleanupFile = 'plugins/pastefromword/filter/custom.js';\n *\n *\t\t// Load from 'pastefromword' plugin 'filter' sub folder (custom.js file) using full path (including CKEditor installation folder).\n *\t\tCKEDITOR.config.pasteFromWordCleanupFile = '/ckeditor/plugins/pastefromword/filter/custom.js';\n *\n *\t\t// Load custom.js file from 'customFilerts' folder (located in server's root) using full URL.\n *\t\tCKEDITOR.config.pasteFromWordCleanupFile = 'http://my.example.com/customFilerts/custom.js';\n *\n * @since 3.1\n * @cfg {String} [pasteFromWordCleanupFile=<plugin path> + 'filter/default.js']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/pastefromword/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Paste as plain text plugin.\n */\n\n( function() {\n\t// The pastetext command definition.\n\tvar pasteTextCmd = {\n\t\t// Snapshots are done manually by editable.insertXXX methods.\n\t\tcanUndo: false,\n\t\tasync: true,\n\n\t\texec: function( editor ) {\n\t\t\teditor.getClipboardData( { title: editor.lang.pastetext.title }, function( data ) {\n\t\t\t\t// Do not use editor#paste, because it would start from beforePaste event.\n\t\t\t\tdata && editor.fire( 'paste', {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tdataValue: data.dataValue,\n\t\t\t\t\tmethod: 'paste',\n\t\t\t\t\tdataTransfer: CKEDITOR.plugins.clipboard.initPasteDataTransfer()\n\t\t\t\t} );\n\n\t\t\t\teditor.fire( 'afterCommandExec', {\n\t\t\t\t\tname: 'pastetext',\n\t\t\t\t\tcommand: pasteTextCmd,\n\t\t\t\t\treturnValue: !!data\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t};\n\n\t// Register the plugin.\n\tCKEDITOR.plugins.add( 'pastetext', {\n\t\trequires: 'clipboard',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'pastetext,pastetext-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tvar commandName = 'pastetext';\n\n\t\t\teditor.addCommand( commandName, pasteTextCmd );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'PasteText', {\n\t\t\t\tlabel: editor.lang.pastetext.button,\n\t\t\t\tcommand: commandName,\n\t\t\t\ttoolbar: 'clipboard,40'\n\t\t\t} );\n\n\t\t\tif ( editor.config.forcePasteAsPlainText ) {\n\t\t\t\teditor.on( 'beforePaste', function( evt ) {\n\t\t\t\t\t// Do NOT overwrite if HTML format is explicitly requested.\n\t\t\t\t\t// This allows pastefromword dominates over pastetext.\n\t\t\t\t\tif ( evt.data.type != 'html' )\n\t\t\t\t\t\tevt.data.type = 'text';\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditor.on( 'pasteState', function( evt ) {\n\t\t\t\teditor.getCommand( commandName ).setState( evt.data );\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n/**\n * Whether to force all pasting operations to insert on plain text into the\n * editor, loosing any formatting information possibly available in the source\n * text.\n *\n * **Note:** paste from word (dialog) is not affected by this configuration.\n *\n *\t\tconfig.forcePasteAsPlainText = true;\n *\n * @cfg {Boolean} [forcePasteAsPlainText=false]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/pastetext/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Preview plugin.\n */\n\n( function() {\n\tvar pluginPath;\n\n\tvar previewCmd = { modes: { wysiwyg: 1, source: 1 },\n\t\tcanUndo: false,\n\t\treadOnly: 1,\n\t\texec: function( editor ) {\n\t\t\tvar sHTML,\n\t\t\t\tconfig = editor.config,\n\t\t\t\tbaseTag = config.baseHref ? '<base href=\"' + config.baseHref + '\"/>' : '',\n\t\t\t\teventData;\n\n\t\t\tif ( config.fullPage )\n\t\t\t\tsHTML = editor.getData().replace( /<head>/, '$&' + baseTag ).replace( /[^>]*(?=<\\/title>)/, '$& &mdash; ' + editor.lang.preview.preview );\n\t\t\telse {\n\t\t\t\tvar bodyHtml = '<body ',\n\t\t\t\t\tbody = editor.document && editor.document.getBody();\n\n\t\t\t\tif ( body ) {\n\t\t\t\t\tif ( body.getAttribute( 'id' ) )\n\t\t\t\t\t\tbodyHtml += 'id=\"' + body.getAttribute( 'id' ) + '\" ';\n\t\t\t\t\tif ( body.getAttribute( 'class' ) )\n\t\t\t\t\t\tbodyHtml += 'class=\"' + body.getAttribute( 'class' ) + '\" ';\n\t\t\t\t}\n\n\t\t\t\tbodyHtml += '>';\n\n\t\t\t\tsHTML = editor.config.docType + '<html dir=\"' + editor.config.contentsLangDirection + '\">' +\n\t\t\t\t\t'<head>' +\n\t\t\t\t\t\tbaseTag +\n\t\t\t\t\t\t'<title>' + editor.lang.preview.preview + '</title>' +\n\t\t\t\t\t\tCKEDITOR.tools.buildStyleHtml( editor.config.contentsCss ) +\n\t\t\t\t\t'</head>' + bodyHtml +\n\t\t\t\t\t\teditor.getData() +\n\t\t\t\t\t'</body></html>';\n\t\t\t}\n\n\t\t\tvar iWidth = 640,\n\t\t\t\t// 800 * 0.8,\n\t\t\t\tiHeight = 420,\n\t\t\t\t// 600 * 0.7,\n\t\t\t\tiLeft = 80; // (800 - 0.8 * 800) /2 = 800 * 0.1.\n\t\t\ttry {\n\t\t\t\tvar screen = window.screen;\n\t\t\t\tiWidth = Math.round( screen.width * 0.8 );\n\t\t\t\tiHeight = Math.round( screen.height * 0.7 );\n\t\t\t\tiLeft = Math.round( screen.width * 0.1 );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// (#9907) Allow data manipulation before preview is displayed.\n\t\t\t// Also don't open the preview window when event cancelled.\n\t\t\tif ( editor.fire( 'contentPreview', eventData = { dataValue: sHTML } ) === false )\n\t\t\t\treturn false;\n\n\t\t\tvar sOpenUrl = '',\n\t\t\t\tieLocation;\n\n\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\twindow._cke_htmlToLoad = eventData.dataValue;\n\t\t\t\tieLocation = 'javascript:void( (function(){' + // jshint ignore:line\n\t\t\t\t\t'document.open();' +\n\t\t\t\t\t// Support for custom document.domain.\n\t\t\t\t\t// Strip comments and replace parent with window.opener in the function body.\n\t\t\t\t\t( '(' + CKEDITOR.tools.fixDomain + ')();' ).replace( /\\/\\/.*?\\n/g, '' ).replace( /parent\\./g, 'window.opener.' ) +\n\t\t\t\t\t'document.write( window.opener._cke_htmlToLoad );' +\n\t\t\t\t\t'document.close();' +\n\t\t\t\t\t'window.opener._cke_htmlToLoad = null;' +\n\t\t\t\t'})() )';\n\t\t\t\t// For IE we should use window.location rather than setting url in window.open. (#11146)\n\t\t\t\tsOpenUrl = '';\n\t\t\t}\n\n\t\t\t// With Firefox only, we need to open a special preview page, so\n\t\t\t// anchors will work properly on it. (#9047)\n\t\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\t\twindow._cke_htmlToLoad = eventData.dataValue;\n\t\t\t\tsOpenUrl = CKEDITOR.getUrl( pluginPath + 'preview.html' );\n\t\t\t}\n\n\t\t\tvar oWindow = window.open( sOpenUrl, null, 'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width=' +\n\t\t\t\tiWidth + ',height=' + iHeight + ',left=' + iLeft );\n\n\t\t\t// For IE we want to assign whole js stored in ieLocation, but in case of\n\t\t\t// popup blocker activation oWindow variable will be null. (#11597)\n\t\t\tif ( CKEDITOR.env.ie && oWindow )\n\t\t\t\toWindow.location = ieLocation;\n\n\t\t\tif ( !CKEDITOR.env.ie && !CKEDITOR.env.gecko ) {\n\t\t\t\tvar doc = oWindow.document;\n\t\t\t\tdoc.open();\n\t\t\t\tdoc.write( eventData.dataValue );\n\t\t\t\tdoc.close();\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tvar pluginName = 'preview';\n\n\t// Register a plugin named \"preview\".\n\tCKEDITOR.plugins.add( pluginName, {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'preview,preview-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\n\t\t\t// Preview is not used for the inline creator.\n\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\t\treturn;\n\n\t\t\tpluginPath = this.path;\n\n\t\t\teditor.addCommand( pluginName, previewCmd );\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Preview', {\n\t\t\t\tlabel: editor.lang.preview.preview,\n\t\t\t\tcommand: pluginName,\n\t\t\t\ttoolbar: 'document,40'\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n/**\n * Event fired when executing `preview` command, which allows additional data manipulation.\n * With this event, the raw HTML content of the preview window to be displayed can be altered\n * or modified.\n *\n * @event contentPreview\n * @member CKEDITOR\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {String} data.dataValue The data that will go to the preview.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/preview/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Print Plugin\n */\n\nCKEDITOR.plugins.add( 'print', {\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'print,', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\t// Print plugin isn't available in inline mode yet.\n\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\treturn;\n\n\t\tvar pluginName = 'print';\n\n\t\t// Register the command.\n\t\teditor.addCommand( pluginName, CKEDITOR.plugins.print );\n\n\t\t// Register the toolbar button.\n\t\teditor.ui.addButton && editor.ui.addButton( 'Print', {\n\t\t\tlabel: editor.lang.print.toolbar,\n\t\t\tcommand: pluginName,\n\t\t\ttoolbar: 'document,50'\n\t\t} );\n\t}\n} );\n\nCKEDITOR.plugins.print = {\n\texec: function( editor ) {\n\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\teditor.window.$.print();\n\t\t} else {\n\t\t\teditor.document.$.execCommand( 'Print' );\n\t\t}\n\t},\n\tcanUndo: false,\n\treadOnly: 1,\n\tmodes: { wysiwyg: 1 }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/print/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'removeformat', {\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'removeformat', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\teditor.addCommand( 'removeFormat', CKEDITOR.plugins.removeformat.commands.removeformat );\n\t\teditor.ui.addButton && editor.ui.addButton( 'RemoveFormat', {\n\t\t\tlabel: editor.lang.removeformat.toolbar,\n\t\t\tcommand: 'removeFormat',\n\t\t\ttoolbar: 'cleanup,10'\n\t\t} );\n\t}\n} );\n\nCKEDITOR.plugins.removeformat = {\n\tcommands: {\n\t\tremoveformat: {\n\t\t\texec: function( editor ) {\n\t\t\t\tvar tagsRegex = editor._.removeFormatRegex || ( editor._.removeFormatRegex = new RegExp( '^(?:' + editor.config.removeFormatTags.replace( /,/g, '|' ) + ')$', 'i' ) );\n\n\t\t\t\tvar removeAttributes = editor._.removeAttributes || ( editor._.removeAttributes = editor.config.removeFormatAttributes.split( ',' ) ),\n\t\t\t\t\tfilter = CKEDITOR.plugins.removeformat.filter,\n\t\t\t\t\tranges = editor.getSelection().getRanges(),\n\t\t\t\t\titerator = ranges.createIterator(),\n\t\t\t\t\tisElement = function( element ) {\n\t\t\t\t\t\treturn element.type == CKEDITOR.NODE_ELEMENT;\n\t\t\t\t\t},\n\t\t\t\t\trange;\n\n\t\t\t\twhile ( ( range = iterator.getNextRange() ) ) {\n\t\t\t\t\tif ( !range.collapsed )\n\t\t\t\t\t\trange.enlarge( CKEDITOR.ENLARGE_ELEMENT );\n\n\t\t\t\t\t// Bookmark the range so we can re-select it after processing.\n\t\t\t\t\tvar bookmark = range.createBookmark(),\n\t\t\t\t\t\t// The style will be applied within the bookmark boundaries.\n\t\t\t\t\t\tstartNode = bookmark.startNode,\n\t\t\t\t\t\tendNode = bookmark.endNode,\n\t\t\t\t\t\tcurrentNode;\n\n\t\t\t\t\t// We need to check the selection boundaries (bookmark spans) to break\n\t\t\t\t\t// the code in a way that we can properly remove partially selected nodes.\n\t\t\t\t\t// For example, removing a <b> style from\n\t\t\t\t\t//\t\t<b>This is [some text</b> to show <b>the] problem</b>\n\t\t\t\t\t// ... where [ and ] represent the selection, must result:\n\t\t\t\t\t//\t\t<b>This is </b>[some text to show the]<b> problem</b>\n\t\t\t\t\t// The strategy is simple, we just break the partial nodes before the\n\t\t\t\t\t// removal logic, having something that could be represented this way:\n\t\t\t\t\t//\t\t<b>This is </b>[<b>some text</b> to show <b>the</b>]<b> problem</b>\n\n\t\t\t\t\tvar breakParent = function( node ) {\n\t\t\t\t\t\t\t// Let's start checking the start boundary.\n\t\t\t\t\t\t\tvar path = editor.elementPath( node ),\n\t\t\t\t\t\t\t\tpathElements = path.elements;\n\n\t\t\t\t\t\t\tfor ( var i = 1, pathElement; pathElement = pathElements[ i ]; i++ ) {\n\t\t\t\t\t\t\t\tif ( pathElement.equals( path.block ) || pathElement.equals( path.blockLimit ) )\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t// If this element can be removed (even partially).\n\t\t\t\t\t\t\t\tif ( tagsRegex.test( pathElement.getName() ) && filter( editor, pathElement ) )\n\t\t\t\t\t\t\t\t\tnode.breakParent( pathElement );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tbreakParent( startNode );\n\t\t\t\t\tif ( endNode ) {\n\t\t\t\t\t\tbreakParent( endNode );\n\n\t\t\t\t\t\t// Navigate through all nodes between the bookmarks.\n\t\t\t\t\t\tcurrentNode = startNode.getNextSourceNode( true, CKEDITOR.NODE_ELEMENT );\n\n\t\t\t\t\t\twhile ( currentNode ) {\n\t\t\t\t\t\t\t// If we have reached the end of the selection, stop looping.\n\t\t\t\t\t\t\tif ( currentNode.equals( endNode ) )\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tif ( currentNode.isReadOnly() ) {\n\t\t\t\t\t\t\t\t// In case of non-editable we're skipping to the next sibling *elmenet*.\n\n\t\t\t\t\t\t\t\t// We need to be aware that endNode can be nested within current non-editable.\n\t\t\t\t\t\t\t\t// This condition tests if currentNode (non-editable) contains endNode. If it does\n\t\t\t\t\t\t\t\t// then we should break the filtering\n\t\t\t\t\t\t\t\tif ( currentNode.getPosition( endNode ) & CKEDITOR.POSITION_CONTAINS ) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrentNode = currentNode.getNext( isElement );\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Cache the next node to be processed. Do it now, because\n\t\t\t\t\t\t\t// currentNode may be removed.\n\t\t\t\t\t\t\tvar nextNode = currentNode.getNextSourceNode( false, CKEDITOR.NODE_ELEMENT ),\n\t\t\t\t\t\t\t\tisFakeElement = currentNode.getName() == 'img' && currentNode.data( 'cke-realelement' );\n\n\t\t\t\t\t\t\t// This node must not be a fake element, and must not be read-only.\n\t\t\t\t\t\t\tif ( !isFakeElement && filter( editor, currentNode ) ) {\n\t\t\t\t\t\t\t\t// Remove elements nodes that match with this style rules.\n\t\t\t\t\t\t\t\tif ( tagsRegex.test( currentNode.getName() ) )\n\t\t\t\t\t\t\t\t\tcurrentNode.remove( 1 );\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tcurrentNode.removeAttributes( removeAttributes );\n\t\t\t\t\t\t\t\t\teditor.fire( 'removeFormatCleanup', currentNode );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcurrentNode = nextNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trange.moveToBookmark( bookmark );\n\t\t\t\t}\n\n\t\t\t\t// The selection path may not changed, but we should force a selection\n\t\t\t\t// change event to refresh command states, due to the above attribution change. (#9238)\n\t\t\t\teditor.forceNextSelectionCheck();\n\t\t\t\teditor.getSelection().selectRanges( ranges );\n\t\t\t}\n\t\t}\n\t},\n\n\t// Perform the remove format filters on the passed element.\n\t// @param {CKEDITOR.editor} editor\n\t// @param {CKEDITOR.dom.element} element\n\tfilter: function( editor, element ) {\n\t\t// If editor#addRemoveFotmatFilter hasn't been executed yet value is not initialized.\n\t\tvar filters = editor._.removeFormatFilters || [];\n\t\tfor ( var i = 0; i < filters.length; i++ ) {\n\t\t\tif ( filters[ i ]( element ) === false )\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\n/**\n * Add to a collection of functions to decide whether a specific\n * element should be considered as formatting element and thus\n * could be removed during `removeFormat` command.\n *\n * **Note:** Only available with the existence of `removeformat` plugin.\n *\n *\t\t// Don't remove empty span.\n *\t\teditor.addRemoveFormatFilter( function( element ) {\n *\t\t\treturn !( element.is( 'span' ) && CKEDITOR.tools.isEmpty( element.getAttributes() ) );\n *\t\t} );\n *\n * @since 3.3\n * @member CKEDITOR.editor\n * @param {Function} func The function to be called, which will be passed a {CKEDITOR.dom.element} element to test.\n */\nCKEDITOR.editor.prototype.addRemoveFormatFilter = function( func ) {\n\tif ( !this._.removeFormatFilters )\n\t\tthis._.removeFormatFilters = [];\n\n\tthis._.removeFormatFilters.push( func );\n};\n\n/**\n * A comma separated list of elements to be removed when executing the `remove\n * format` command. Note that only inline elements are allowed.\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.removeFormatTags = 'b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var';\n\n/**\n * A comma separated list of elements attributes to be removed when executing\n * the `remove format` command.\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.removeFormatAttributes = 'class,style,lang,width,height,align,hspace,valign';\n\n/**\n * Fired after an element was cleaned by the removeFormat plugin.\n *\n * @event removeFormatCleanup\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param data\n * @param {CKEDITOR.dom.element} data.element The element that was cleaned up.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/removeformat/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'resize', {\n\tinit: function( editor ) {\n\t\tfunction dragHandler( evt ) {\n\t\t\tvar dx = evt.data.$.screenX - origin.x,\n\t\t\tdy = evt.data.$.screenY - origin.y,\n\t\t\twidth = startSize.width,\n\t\t\theight = startSize.height,\n\t\t\tinternalWidth = width + dx * ( resizeDir == 'rtl' ? -1 : 1 ),\n\t\t\tinternalHeight = height + dy;\n\n\t\t\tif ( resizeHorizontal )\n\t\t\t\twidth = Math.max( config.resize_minWidth, Math.min( internalWidth, config.resize_maxWidth ) );\n\n\t\t\tif ( resizeVertical )\n\t\t\t\theight = Math.max( config.resize_minHeight, Math.min( internalHeight, config.resize_maxHeight ) );\n\n\t\t\t// DO NOT impose fixed size with single direction resize. (#6308)\n\t\t\teditor.resize( resizeHorizontal ? width : null, height );\n\t\t}\n\n\t\tfunction dragEndHandler() {\n\t\t\tCKEDITOR.document.removeListener( 'mousemove', dragHandler );\n\t\t\tCKEDITOR.document.removeListener( 'mouseup', dragEndHandler );\n\n\t\t\tif ( editor.document ) {\n\t\t\t\teditor.document.removeListener( 'mousemove', dragHandler );\n\t\t\t\teditor.document.removeListener( 'mouseup', dragEndHandler );\n\t\t\t}\n\t\t}\n\n\t\tvar config = editor.config;\n\t\tvar spaceId = editor.ui.spaceId( 'resizer' );\n\n\t\t// Resize in the same direction of chrome,\n\t\t// which is identical to dir of editor element. (#6614)\n\t\tvar resizeDir = editor.element ? editor.element.getDirection( 1 ) : 'ltr';\n\n\t\t!config.resize_dir && ( config.resize_dir = 'vertical' );\n\t\t( config.resize_maxWidth === undefined ) && ( config.resize_maxWidth = 3000 );\n\t\t( config.resize_maxHeight === undefined ) && ( config.resize_maxHeight = 3000 );\n\t\t( config.resize_minWidth === undefined ) && ( config.resize_minWidth = 750 );\n\t\t( config.resize_minHeight === undefined ) && ( config.resize_minHeight = 250 );\n\n\t\tif ( config.resize_enabled !== false ) {\n\t\t\tvar container = null,\n\t\t\t\torigin, startSize,\n\t\t\t\tresizeHorizontal = ( config.resize_dir == 'both' || config.resize_dir == 'horizontal' ) && ( config.resize_minWidth != config.resize_maxWidth ),\n\t\t\t\tresizeVertical = ( config.resize_dir == 'both' || config.resize_dir == 'vertical' ) && ( config.resize_minHeight != config.resize_maxHeight );\n\n\t\t\tvar mouseDownFn = CKEDITOR.tools.addFunction( function( $event ) {\n\t\t\t\tif ( !container )\n\t\t\t\t\tcontainer = editor.getResizable();\n\n\t\t\t\tstartSize = { width: container.$.offsetWidth || 0, height: container.$.offsetHeight || 0 };\n\t\t\t\torigin = { x: $event.screenX, y: $event.screenY };\n\n\t\t\t\tconfig.resize_minWidth > startSize.width && ( config.resize_minWidth = startSize.width );\n\t\t\t\tconfig.resize_minHeight > startSize.height && ( config.resize_minHeight = startSize.height );\n\n\t\t\t\tCKEDITOR.document.on( 'mousemove', dragHandler );\n\t\t\t\tCKEDITOR.document.on( 'mouseup', dragEndHandler );\n\n\t\t\t\tif ( editor.document ) {\n\t\t\t\t\teditor.document.on( 'mousemove', dragHandler );\n\t\t\t\t\teditor.document.on( 'mouseup', dragEndHandler );\n\t\t\t\t}\n\n\t\t\t\t$event.preventDefault && $event.preventDefault();\n\t\t\t} );\n\n\t\t\teditor.on( 'destroy', function() {\n\t\t\t\tCKEDITOR.tools.removeFunction( mouseDownFn );\n\t\t\t} );\n\n\t\t\teditor.on( 'uiSpace', function( event ) {\n\t\t\t\tif ( event.data.space == 'bottom' ) {\n\t\t\t\t\tvar direction = '';\n\t\t\t\t\tif ( resizeHorizontal && !resizeVertical )\n\t\t\t\t\t\tdirection = ' cke_resizer_horizontal';\n\t\t\t\t\tif ( !resizeHorizontal && resizeVertical )\n\t\t\t\t\t\tdirection = ' cke_resizer_vertical';\n\n\t\t\t\t\tvar resizerHtml =\n\t\t\t\t\t\t'<span' +\n\t\t\t\t\t\t' id=\"' + spaceId + '\"' +\n\t\t\t\t\t\t' class=\"cke_resizer' + direction + ' cke_resizer_' + resizeDir + '\"' +\n\t\t\t\t\t\t' title=\"' + CKEDITOR.tools.htmlEncode( editor.lang.common.resize ) + '\"' +\n\t\t\t\t\t\t' onmousedown=\"CKEDITOR.tools.callFunction(' + mouseDownFn + ', event)\"' +\n\t\t\t\t\t\t'>' +\n\t\t\t\t\t\t// BLACK LOWER RIGHT TRIANGLE (ltr)\n\t\t\t\t\t\t// BLACK LOWER LEFT TRIANGLE (rtl)\n\t\t\t\t\t\t( resizeDir == 'ltr' ? '\\u25E2' : '\\u25E3' ) +\n\t\t\t\t\t\t'</span>';\n\n\t\t\t\t\t// Always sticks the corner of botttom space.\n\t\t\t\t\tresizeDir == 'ltr' && direction == 'ltr' ? event.data.html += resizerHtml : event.data.html = resizerHtml + event.data.html;\n\t\t\t\t}\n\t\t\t}, editor, null, 100 );\n\n\t\t\t// Toggle the visibility of the resizer when an editor is being maximized or minimized.\n\t\t\teditor.on( 'maximize', function( event ) {\n\t\t\t\teditor.ui.space( 'resizer' )[ event.data == CKEDITOR.TRISTATE_ON ? 'hide' : 'show' ]();\n\t\t\t} );\n\t\t}\n\t}\n} );\n\n/**\n * The minimum editor width, in pixels, when resizing the editor interface by using the resize handle.\n * Note: It falls back to editor's actual width if it is smaller than the default value.\n *\n * Read more in the [documentation](#!/guide/dev_resize)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/resize.html).\n *\n *\t\tconfig.resize_minWidth = 500;\n *\n * @cfg {Number} [resize_minWidth=750]\n * @member CKEDITOR.config\n */\n\n/**\n * The minimum editor height, in pixels, when resizing the editor interface by using the resize handle.\n * Note: It falls back to editor's actual height if it is smaller than the default value.\n *\n * Read more in the [documentation](#!/guide/dev_resize)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/resize.html).\n *\n *\t\tconfig.resize_minHeight = 600;\n *\n * @cfg {Number} [resize_minHeight=250]\n * @member CKEDITOR.config\n */\n\n/**\n * The maximum editor width, in pixels, when resizing the editor interface by using the resize handle.\n *\n * Read more in the [documentation](#!/guide/dev_resize)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/resize.html).\n *\n *\t\tconfig.resize_maxWidth = 750;\n *\n * @cfg {Number} [resize_maxWidth=3000]\n * @member CKEDITOR.config\n */\n\n/**\n * The maximum editor height, in pixels, when resizing the editor interface by using the resize handle.\n *\n * Read more in the [documentation](#!/guide/dev_resize)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/resize.html).\n *\n *\t\tconfig.resize_maxHeight = 600;\n *\n * @cfg {Number} [resize_maxHeight=3000]\n * @member CKEDITOR.config\n */\n\n/**\n * Whether to enable the resizing feature. If this feature is disabled, the resize handle will not be visible.\n *\n * Read more in the [documentation](#!/guide/dev_resize)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/resize.html).\n *\n *\t\tconfig.resize_enabled = false;\n *\n * @cfg {Boolean} [resize_enabled=true]\n * @member CKEDITOR.config\n */\n\n/**\n * The dimensions for which the editor resizing is enabled. Possible values\n * are `both`, `vertical`, and `horizontal`.\n *\n * Read more in the [documentation](#!/guide/dev_resize)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/resize.html).\n *\n *\t\tconfig.resize_dir = 'both';\n *\n * @since 3.3\n * @cfg {String} [resize_dir='vertical']\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/resize/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The Save plugin.\n */\n\n( function() {\n\tvar saveCmd = {\n\t\treadOnly: 1,\n\n\t\texec: function( editor ) {\n\t\t\tif ( editor.fire( 'save' ) ) {\n\t\t\t\tvar $form = editor.element.$.form;\n\n\t\t\t\tif ( $form ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t$form.submit();\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t// If there's a button named \"submit\" then the form.submit\n\t\t\t\t\t\t// function is masked and can't be called in IE/FF, so we\n\t\t\t\t\t\t// call the click() method of that button.\n\t\t\t\t\t\tif ( $form.submit.click )\n\t\t\t\t\t\t\t$form.submit.click();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar pluginName = 'save';\n\n\t// Register a plugin named \"save\".\n\tCKEDITOR.plugins.add( pluginName, {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'save', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\t// Save plugin is for replace mode only.\n\t\t\tif ( editor.elementMode != CKEDITOR.ELEMENT_MODE_REPLACE )\n\t\t\t\treturn;\n\n\t\t\tvar command = editor.addCommand( pluginName, saveCmd );\n\t\t\tcommand.modes = { wysiwyg: !!( editor.element.$.form ) };\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Save', {\n\t\t\t\tlabel: editor.lang.save.toolbar,\n\t\t\t\tcommand: pluginName,\n\t\t\t\ttoolbar: 'document,10'\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n/**\n * Fired when the user clicks the Save button on the editor toolbar.\n * This event allows to overwrite the default Save button behavior.\n *\n * @since 4.2\n * @event save\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/save/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"selectall\" plugin provides an editor command that\n *               allows selecting the entire content of editable area.\n *               This plugin also enables a toolbar button for the feature.\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'selectall', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'selectall', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\teditor.addCommand( 'selectAll', { modes: { wysiwyg: 1, source: 1 },\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar editable = editor.editable();\n\n\t\t\t\t\tif ( editable.is( 'textarea' ) ) {\n\t\t\t\t\t\tvar textarea = editable.$;\n\n\t\t\t\t\t\tif ( CKEDITOR.env.ie )\n\t\t\t\t\t\t\ttextarea.createTextRange().execCommand( 'SelectAll' );\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttextarea.selectionStart = 0;\n\t\t\t\t\t\t\ttextarea.selectionEnd = textarea.value.length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttextarea.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( editable.is( 'body' ) )\n\t\t\t\t\t\t\teditor.document.$.execCommand( 'SelectAll', false, null );\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar range = editor.createRange();\n\t\t\t\t\t\t\trange.selectNodeContents( editable );\n\t\t\t\t\t\t\trange.select();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Force triggering selectionChange (#7008)\n\t\t\t\t\t\teditor.forceNextSelectionCheck();\n\t\t\t\t\t\teditor.selectionChange();\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tcanUndo: false\n\t\t\t} );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'SelectAll', {\n\t\t\t\tlabel: editor.lang.selectall.toolbar,\n\t\t\t\tcommand: 'selectAll',\n\t\t\t\ttoolbar: 'selection,10'\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/selectall/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"showblocks\" plugin. Enable it will make all block level\n *               elements being decorated with a border and the element name\n *               displayed on the left-right corner.\n */\n\n( function() {\n\t'use strict';\n\n\tvar commandDefinition = {\n\t\treadOnly: 1,\n\t\tpreserveState: true,\n\t\teditorFocus: false,\n\n\t\texec: function( editor ) {\n\t\t\tthis.toggleState();\n\t\t\tthis.refresh( editor );\n\t\t},\n\n\t\trefresh: function( editor ) {\n\t\t\tif ( editor.document ) {\n\t\t\t\t// Show blocks turns inactive after editor loses focus when in inline.\n\t\t\t\tvar showBlocks = ( this.state == CKEDITOR.TRISTATE_ON && ( editor.elementMode != CKEDITOR.ELEMENT_MODE_INLINE || editor.focusManager.hasFocus ) );\n\n\t\t\t\tvar funcName = showBlocks ? 'attachClass' : 'removeClass';\n\t\t\t\teditor.editable()[ funcName ]( 'cke_show_blocks' );\n\t\t\t}\n\t\t}\n\t};\n\n\tCKEDITOR.plugins.add( 'showblocks', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'showblocks,showblocks-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tonLoad: function() {\n\t\t\tvar tags = [ 'p', 'div', 'pre', 'address', 'blockquote', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6' ],\n\t\t\t\tcssStd, cssImg, cssLtr, cssRtl,\n\t\t\t\tpath = CKEDITOR.getUrl( this.path ),\n\t\t\t\t// #10884 don't apply showblocks styles to non-editable elements and chosen ones.\n\t\t\t\t// IE8 does not support :not() pseudoclass, so we need to reset showblocks rather\n\t\t\t\t// than 'prevent' its application. We do that by additional rules.\n\t\t\t\tsupportsNotPseudoclass = !( CKEDITOR.env.ie && CKEDITOR.env.version < 9 ),\n\t\t\t\tnotDisabled = supportsNotPseudoclass ? ':not([contenteditable=false]):not(.cke_show_blocks_off)' : '',\n\t\t\t\ttag, trailing;\n\n\t\t\tcssStd = cssImg = cssLtr = cssRtl = '';\n\n\t\t\twhile ( ( tag = tags.pop() ) ) {\n\t\t\t\ttrailing = tags.length ? ',' : '';\n\n\t\t\t\tcssStd += '.cke_show_blocks ' + tag + notDisabled + trailing;\n\t\t\t\tcssLtr += '.cke_show_blocks.cke_contents_ltr ' + tag + notDisabled + trailing;\n\t\t\t\tcssRtl += '.cke_show_blocks.cke_contents_rtl ' + tag + notDisabled + trailing;\n\t\t\t\tcssImg += '.cke_show_blocks ' + tag + notDisabled + '{' +\n\t\t\t\t\t'background-image:url(' + CKEDITOR.getUrl( path + 'images/block_' + tag + '.png' ) + ')' +\n\t\t\t\t'}';\n\t\t\t}\n\n\t\t\t// .cke_show_blocks p { ... }\n\t\t\tcssStd += '{' +\n\t\t\t\t'background-repeat:no-repeat;' +\n\t\t\t\t'border:1px dotted gray;' +\n\t\t\t\t'padding-top:8px' +\n\t\t\t'}';\n\n\t\t\t// .cke_show_blocks.cke_contents_ltr p { ... }\n\t\t\tcssLtr += '{' +\n\t\t\t\t'background-position:top left;' +\n\t\t\t\t'padding-left:8px' +\n\t\t\t'}';\n\n\t\t\t// .cke_show_blocks.cke_contents_rtl p { ... }\n\t\t\tcssRtl += '{' +\n\t\t\t\t'background-position:top right;' +\n\t\t\t\t'padding-right:8px' +\n\t\t\t'}';\n\n\t\t\tCKEDITOR.addCss( cssStd.concat( cssImg, cssLtr, cssRtl ) );\n\n\t\t\t// [IE8] Reset showblocks styles for non-editables and chosen elements, because\n\t\t\t// it could not be done using :not() pseudoclass (#10884).\n\t\t\tif ( !supportsNotPseudoclass ) {\n\t\t\t\tCKEDITOR.addCss(\n\t\t\t\t\t'.cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{' +\n\t\t\t\t\t\t'border:none;' +\n\t\t\t\t\t\t'padding-top:0;' +\n\t\t\t\t\t\t'background-image:none' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{' +\n\t\t\t\t\t\t'padding-right:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{' +\n\t\t\t\t\t\t'padding-left:0' +\n\t\t\t\t\t'}'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.blockless )\n\t\t\t\treturn;\n\n\t\t\tvar command = editor.addCommand( 'showblocks', commandDefinition );\n\t\t\tcommand.canUndo = false;\n\n\t\t\tif ( editor.config.startupOutlineBlocks )\n\t\t\t\tcommand.setState( CKEDITOR.TRISTATE_ON );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'ShowBlocks', {\n\t\t\t\tlabel: editor.lang.showblocks.toolbar,\n\t\t\t\tcommand: 'showblocks',\n\t\t\t\ttoolbar: 'tools,20'\n\t\t\t} );\n\n\t\t\t// Refresh the command on setData.\n\t\t\teditor.on( 'mode', function() {\n\t\t\t\tif ( command.state != CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\tcommand.refresh( editor );\n\t\t\t} );\n\n\t\t\t// Refresh the command on focus/blur in inline.\n\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ) {\n\t\t\t\teditor.on( 'focus', onFocusBlur );\n\t\t\t\teditor.on( 'blur', onFocusBlur );\n\t\t\t}\n\n\t\t\t// Refresh the command on setData.\n\t\t\teditor.on( 'contentDom', function() {\n\t\t\t\tif ( command.state != CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\tcommand.refresh( editor );\n\t\t\t} );\n\n\t\t\tfunction onFocusBlur() {\n\t\t\t\tcommand.refresh( editor );\n\t\t\t}\n\t\t}\n\t} );\n} )();\n\n/**\n * Whether to automaticaly enable the show block\" command when the editor loads.\n *\n *\t\tconfig.startupOutlineBlocks = true;\n *\n * @cfg {Boolean} [startupOutlineBlocks=false]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/showblocks/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"show border\" plugin. The command display visible outline\n * border line around all table elements if table doesn't have a none-zero 'border' attribute specified.\n */\n\n( function() {\n\tvar commandDefinition = {\n\t\tpreserveState: true,\n\t\teditorFocus: false,\n\t\treadOnly: 1,\n\n\t\texec: function( editor ) {\n\t\t\tthis.toggleState();\n\t\t\tthis.refresh( editor );\n\t\t},\n\n\t\trefresh: function( editor ) {\n\t\t\tif ( editor.document ) {\n\t\t\t\tvar funcName = ( this.state == CKEDITOR.TRISTATE_ON ) ? 'attachClass' : 'removeClass';\n\t\t\t\teditor.editable()[ funcName ]( 'cke_show_borders' );\n\t\t\t}\n\t\t}\n\t};\n\n\tvar showBorderClassName = 'cke_show_border';\n\n\tCKEDITOR.plugins.add( 'showborders', {\n\t\tmodes: { 'wysiwyg': 1 },\n\n\t\tonLoad: function() {\n\t\t\tvar cssStyleText,\n\t\t\t\tcssTemplate =\n\t\t\t// TODO: For IE6, we don't have child selector support,\n\t\t\t// where nested table cells could be incorrect.\n\t\t\t( CKEDITOR.env.ie6Compat ? [\n\t\t\t\t'.%1 table.%2,',\n\t\t\t\t'.%1 table.%2 td, .%1 table.%2 th',\n\t\t\t\t'{',\n\t\t\t\t'border : #d3d3d3 1px dotted',\n\t\t\t\t'}'\n\t\t\t] : [\n\t\t\t\t'.%1 table.%2,',\n\t\t\t\t'.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,',\n\t\t\t\t'.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,',\n\t\t\t\t'.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,',\n\t\t\t\t'.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th',\n\t\t\t\t'{',\n\t\t\t\t'border : #d3d3d3 1px dotted',\n\t\t\t\t'}'\n\t\t\t] ).join( '' );\n\n\t\t\tcssStyleText = cssTemplate.replace( /%2/g, showBorderClassName ).replace( /%1/g, 'cke_show_borders ' );\n\n\t\t\tCKEDITOR.addCss( cssStyleText );\n\t\t},\n\n\t\tinit: function( editor ) {\n\n\t\t\tvar command = editor.addCommand( 'showborders', commandDefinition );\n\t\t\tcommand.canUndo = false;\n\n\t\t\tif ( editor.config.startupShowBorders !== false )\n\t\t\t\tcommand.setState( CKEDITOR.TRISTATE_ON );\n\n\t\t\t// Refresh the command on setData.\n\t\t\teditor.on( 'mode', function() {\n\t\t\t\tif ( command.state != CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\tcommand.refresh( editor );\n\t\t\t}, null, null, 100 );\n\n\t\t\t// Refresh the command on wysiwyg frame reloads.\n\t\t\teditor.on( 'contentDom', function() {\n\t\t\t\tif ( command.state != CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\tcommand.refresh( editor );\n\t\t\t} );\n\n\t\t\teditor.on( 'removeFormatCleanup', function( evt ) {\n\t\t\t\tvar element = evt.data;\n\t\t\t\tif ( editor.getCommand( 'showborders' ).state == CKEDITOR.TRISTATE_ON && element.is( 'table' ) && ( !element.hasAttribute( 'border' ) || parseInt( element.getAttribute( 'border' ), 10 ) <= 0 ) )\n\t\t\t\t\telement.addClass( showBorderClassName );\n\t\t\t} );\n\t\t},\n\n\t\tafterInit: function( editor ) {\n\t\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\t\tdataFilter = dataProcessor && dataProcessor.dataFilter,\n\t\t\t\thtmlFilter = dataProcessor && dataProcessor.htmlFilter;\n\n\t\t\tif ( dataFilter ) {\n\t\t\t\tdataFilter.addRules( {\n\t\t\t\t\telements: {\n\t\t\t\t\t\t'table': function( element ) {\n\t\t\t\t\t\t\tvar attributes = element.attributes,\n\t\t\t\t\t\t\t\tcssClass = attributes[ 'class' ],\n\t\t\t\t\t\t\t\tborder = parseInt( attributes.border, 10 );\n\n\t\t\t\t\t\t\tif ( ( !border || border <= 0 ) && ( !cssClass || cssClass.indexOf( showBorderClassName ) == -1 ) )\n\t\t\t\t\t\t\t\tattributes[ 'class' ] = ( cssClass || '' ) + ' ' + showBorderClassName;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( htmlFilter ) {\n\t\t\t\thtmlFilter.addRules( {\n\t\t\t\t\telements: {\n\t\t\t\t\t\t'table': function( table ) {\n\t\t\t\t\t\t\tvar attributes = table.attributes,\n\t\t\t\t\t\t\t\tcssClass = attributes[ 'class' ];\n\n\t\t\t\t\t\t\tcssClass && ( attributes[ 'class' ] = cssClass.replace( showBorderClassName, '' ).replace( /\\s{2}/, ' ' ).replace( /^\\s+|\\s+$/, '' ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n\n\t// Table dialog must be aware of it.\n\tCKEDITOR.on( 'dialogDefinition', function( ev ) {\n\t\tvar dialogName = ev.data.name;\n\n\t\tif ( dialogName == 'table' || dialogName == 'tableProperties' ) {\n\t\t\tvar dialogDefinition = ev.data.definition,\n\t\t\t\tinfoTab = dialogDefinition.getContents( 'info' ),\n\t\t\t\tborderField = infoTab.get( 'txtBorder' ),\n\t\t\t\toriginalCommit = borderField.commit;\n\n\t\t\tborderField.commit = CKEDITOR.tools.override( originalCommit, function( org ) {\n\t\t\t\treturn function( data, selectedTable ) {\n\t\t\t\t\torg.apply( this, arguments );\n\t\t\t\t\tvar value = parseInt( this.getValue(), 10 );\n\t\t\t\t\tselectedTable[ ( !value || value <= 0 ) ? 'addClass' : 'removeClass' ]( showBorderClassName );\n\t\t\t\t};\n\t\t\t} );\n\n\t\t\tvar advTab = dialogDefinition.getContents( 'advanced' ),\n\t\t\t\tclassField = advTab && advTab.get( 'advCSSClasses' );\n\n\t\t\tif ( classField ) {\n\t\t\t\tclassField.setup = CKEDITOR.tools.override( classField.setup, function( originalSetup ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\toriginalSetup.apply( this, arguments );\n\t\t\t\t\t\tthis.setValue( this.getValue().replace( /cke_show_border/, '' ) );\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\tclassField.commit = CKEDITOR.tools.override( classField.commit, function( originalCommit ) {\n\t\t\t\t\treturn function( data, element ) {\n\t\t\t\t\t\toriginalCommit.apply( this, arguments );\n\n\t\t\t\t\t\tif ( !parseInt( element.getAttribute( 'border' ), 10 ) )\n\t\t\t\t\t\t\telement.addClass( 'cke_show_border' );\n\t\t\t\t\t};\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n\n} )();\n\n/**\n * Whether to automatically enable the \"show borders\" command when the editor loads.\n *\n *\t\tconfig.startupShowBorders = false;\n *\n * @cfg {Boolean} [startupShowBorders=true]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/showborders/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'smiley', {\n\trequires: 'dialog',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'smiley', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\teditor.config.smiley_path = editor.config.smiley_path || ( this.path + 'images/' );\n\t\teditor.addCommand( 'smiley', new CKEDITOR.dialogCommand( 'smiley', {\n\t\t\tallowedContent: 'img[alt,height,!src,title,width]',\n\t\t\trequiredContent: 'img'\n\t\t} ) );\n\t\teditor.ui.addButton && editor.ui.addButton( 'Smiley', {\n\t\t\tlabel: editor.lang.smiley.toolbar,\n\t\t\tcommand: 'smiley',\n\t\t\ttoolbar: 'insert,50'\n\t\t} );\n\t\tCKEDITOR.dialog.add( 'smiley', this.path + 'dialogs/smiley.js' );\n\t}\n} );\n\n/**\n * The base path used to build the URL for the smiley images. It must end with a slash.\n *\n *\t\tconfig.smiley_path = 'http://www.example.com/images/smileys/';\n *\n *\t\tconfig.smiley_path = '/images/smileys/';\n *\n * @cfg {String} [smiley_path=CKEDITOR.basePath + 'plugins/smiley/images/']\n * @member CKEDITOR.config\n */\n\n/**\n * The file names for the smileys to be displayed. These files must be\n * contained inside the URL path defined with the {@link #smiley_path} setting.\n *\n *\t\t// This is actually the default value.\n *\t\tconfig.smiley_images = [\n *\t\t\t'regular_smile.png','sad_smile.png','wink_smile.png','teeth_smile.png','confused_smile.png','tongue_smile.png',\n *\t\t\t'embarrassed_smile.png','omg_smile.png','whatchutalkingabout_smile.png','angry_smile.png','angel_smile.png','shades_smile.png',\n *\t\t\t'devil_smile.png','cry_smile.png','lightbulb.png','thumbs_down.png','thumbs_up.png','heart.png',\n *\t\t\t'broken_heart.png','kiss.png','envelope.png'\n *\t\t];\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.smiley_images = [\n\t'regular_smile.png', 'sad_smile.png', 'wink_smile.png', 'teeth_smile.png', 'confused_smile.png', 'tongue_smile.png',\n\t'embarrassed_smile.png', 'omg_smile.png', 'whatchutalkingabout_smile.png', 'angry_smile.png', 'angel_smile.png', 'shades_smile.png',\n\t'devil_smile.png', 'cry_smile.png', 'lightbulb.png', 'thumbs_down.png', 'thumbs_up.png', 'heart.png',\n\t'broken_heart.png', 'kiss.png', 'envelope.png'\n];\n\n/**\n * The description to be used for each of the smileys defined in the\n * {@link CKEDITOR.config#smiley_images} setting. Each entry in this array list\n * must match its relative pair in the {@link CKEDITOR.config#smiley_images}\n * setting.\n *\n *\t\t// Default settings.\n *\t\tconfig.smiley_descriptions = [\n *\t\t\t'smiley', 'sad', 'wink', 'laugh', 'frown', 'cheeky', 'blush', 'surprise',\n *\t\t\t'indecision', 'angry', 'angel', 'cool', 'devil', 'crying', 'enlightened', 'no',\n *\t\t\t'yes', 'heart', 'broken heart', 'kiss', 'mail'\n *\t\t];\n *\n *\t\t// Use textual emoticons as description.\n *\t\tconfig.smiley_descriptions = [\n *\t\t\t':)', ':(', ';)', ':D', ':/', ':P', ':*)', ':-o',\n *\t\t\t':|', '>:(', 'o:)', '8-)', '>:-)', ';(', '', '', '',\n *\t\t\t'', '', ':-*', ''\n *\t\t];\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.smiley_descriptions = [\n\t'smiley', 'sad', 'wink', 'laugh', 'frown', 'cheeky', 'blush', 'surprise',\n\t'indecision', 'angry', 'angel', 'cool', 'devil', 'crying', 'enlightened', 'no',\n\t'yes', 'heart', 'broken heart', 'kiss', 'mail'\n];\n\n/**\n * The number of columns to be generated by the smilies matrix.\n *\n *\t\tconfig.smiley_columns = 6;\n *\n * @since 3.3.2\n * @cfg {Number} [smiley_columns=8]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/smiley/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The Source Editing Area plugin. It registers the \"source\" editing\n *\t\tmode, which displays raw  HTML data being edited in the editor.\n */\nrequire('./icons/source.png');\n\n( function() {\n\tCKEDITOR.plugins.add( 'sourcearea', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'source,source-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\t// Source mode in inline editors is only available through the \"sourcedialog\" plugin.\n\t\t\tif ( editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\t\treturn;\n\n\t\t\tvar sourcearea = CKEDITOR.plugins.sourcearea;\n\n\t\t\teditor.addMode( 'source', function( callback ) {\n\t\t\t\tvar contentsSpace = editor.ui.space( 'contents' ),\n\t\t\t\t\ttextarea = contentsSpace.getDocument().createElement( 'textarea' );\n\n\t\t\t\ttextarea.setStyles(\n\t\t\t\t\tCKEDITOR.tools.extend( {\n\t\t\t\t\t\t// IE7 has overflow the <textarea> from wrapping table cell.\n\t\t\t\t\t\twidth: CKEDITOR.env.ie7Compat ? '99%' : '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tresize: 'none',\n\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t'text-align': 'left'\n\t\t\t\t\t},\n\t\t\t\t\tCKEDITOR.tools.cssVendorPrefix( 'tab-size', editor.config.sourceAreaTabSize || 4 ) ) );\n\n\t\t\t\t// Make sure that source code is always displayed LTR,\n\t\t\t\t// regardless of editor language (#10105).\n\t\t\t\ttextarea.setAttribute( 'dir', 'ltr' );\n\n\t\t\t\ttextarea.addClass( 'cke_source' ).addClass( 'cke_reset' ).addClass( 'cke_enable_context_menu' );\n\n\t\t\t\teditor.ui.space( 'contents' ).append( textarea );\n\n\t\t\t\tvar editable = editor.editable( new sourceEditable( editor, textarea ) );\n\n\t\t\t\t// Fill the textarea with the current editor data.\n\t\t\t\teditable.setData( editor.getData( 1 ) );\n\n\t\t\t\t// Having to make <textarea> fixed sized to conquer the following bugs:\n\t\t\t\t// 1. The textarea height/width='100%' doesn't constraint to the 'td' in IE6/7.\n\t\t\t\t// 2. Unexpected vertical-scrolling behavior happens whenever focus is moving out of editor\n\t\t\t\t// if text content within it has overflowed. (#4762)\n\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\teditable.attachListener( editor, 'resize', onResize, editable );\n\t\t\t\t\teditable.attachListener( CKEDITOR.document.getWindow(), 'resize', onResize, editable );\n\t\t\t\t\tCKEDITOR.tools.setTimeout( onResize, 0, editable );\n\t\t\t\t}\n\n\t\t\t\teditor.fire( 'ariaWidget', this );\n\n\t\t\t\tcallback();\n\t\t\t} );\n\n\t\t\teditor.addCommand( 'source', sourcearea.commands.source );\n\n\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\teditor.ui.addButton( 'Source', {\n\t\t\t\t\tlabel: editor.lang.sourcearea.toolbar,\n\t\t\t\t\tcommand: 'source',\n\t\t\t\t\ttoolbar: 'mode,10'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditor.on( 'mode', function() {\n\t\t\t\teditor.getCommand( 'source' ).setState( editor.mode == 'source' ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF );\n\t\t\t} );\n\n\t\t\tvar needsFocusHack = CKEDITOR.env.ie && CKEDITOR.env.version == 9;\n\n\t\t\tfunction onResize() {\n\t\t\t\t// We have to do something with focus on IE9, because if sourcearea had focus\n\t\t\t\t// before being resized, the caret ends somewhere in the editor UI (#11839).\n\t\t\t\tvar wasActive = needsFocusHack && this.equals( CKEDITOR.document.getActive() );\n\n\t\t\t\t// Holder rectange size is stretched by textarea,\n\t\t\t\t// so hide it just for a moment.\n\t\t\t\tthis.hide();\n\t\t\t\tthis.setStyle( 'height', this.getParent().$.clientHeight + 'px' );\n\t\t\t\tthis.setStyle( 'width', this.getParent().$.clientWidth + 'px' );\n\t\t\t\t// When we have proper holder size, show textarea again.\n\t\t\t\tthis.show();\n\n\t\t\t\tif ( wasActive )\n\t\t\t\t\tthis.focus();\n\t\t\t}\n\t\t}\n\t} );\n\n\tvar sourceEditable = CKEDITOR.tools.createClass( {\n\t\tbase: CKEDITOR.editable,\n\t\tproto: {\n\t\t\tsetData: function( data ) {\n\t\t\t\tthis.setValue( data );\n\t\t\t\tthis.status = 'ready';\n\t\t\t\tthis.editor.fire( 'dataReady' );\n\t\t\t},\n\n\t\t\tgetData: function() {\n\t\t\t\treturn this.getValue();\n\t\t\t},\n\n\t\t\t// Insertions are not supported in source editable.\n\t\t\tinsertHtml: function() {},\n\t\t\tinsertElement: function() {},\n\t\t\tinsertText: function() {},\n\n\t\t\t// Read-only support for textarea.\n\t\t\tsetReadOnly: function( isReadOnly ) {\n\t\t\t\tthis[ ( isReadOnly ? 'set' : 'remove' ) + 'Attribute' ]( 'readOnly', 'readonly' );\n\t\t\t},\n\n\t\t\tdetach: function() {\n\t\t\t\tsourceEditable.baseProto.detach.call( this );\n\t\t\t\tthis.clearCustomData();\n\t\t\t\tthis.remove();\n\t\t\t}\n\t\t}\n\t} );\n} )();\n\nCKEDITOR.plugins.sourcearea = {\n\tcommands: {\n\t\tsource: {\n\t\t\tmodes: { wysiwyg: 1, source: 1 },\n\t\t\teditorFocus: false,\n\t\t\treadOnly: 1,\n\t\t\texec: function( editor ) {\n\t\t\t\tif ( editor.mode == 'wysiwyg' )\n\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\teditor.getCommand( 'source' ).setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\teditor.setMode( editor.mode == 'source' ? 'wysiwyg' : 'source' );\n\t\t\t},\n\n\t\t\tcanUndo: false\n\t\t}\n\t}\n};\n\n/**\n * Controls the `tab-size` CSS property of the source editing area. Use it to set the width\n * of the tab character in the source view. Enter an integer to denote the number of spaces\n * that the tab will contain.\n *\n * **Note:** Works only with {@link #dataIndentationChars}\n * set to `'\\t'`. Please consider that not all browsers support the `tab-size` CSS\n * property yet.\n *\n *\t\t// Set tab-size to 10 characters.\n *\t\tconfig.sourceAreaTabSize = 10;\n *\n * @cfg {Number} [sourceAreaTabSize=4]\n * @member CKEDITOR.config\n * @see CKEDITOR.config#dataIndentationChars\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/sourcearea/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Special Character plugin\n */\n\nCKEDITOR.plugins.add( 'specialchar', {\n\t// List of available localizations.\n\t// jscs:disable\n\tavailableLangs: { af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,'de-ch':1,el:1,en:1,'en-gb':1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,'fr-ca':1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,'pt-br':1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,'zh-cn':1 },\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable\n\trequires: 'dialog',\n\ticons: 'specialchar', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\tvar pluginName = 'specialchar',\n\t\t\tplugin = this;\n\n\t\t// Register the dialog.\n\t\tCKEDITOR.dialog.add( pluginName, this.path + 'dialogs/specialchar.js' );\n\n\t\teditor.addCommand( pluginName, {\n\t\t\texec: function() {\n\t\t\t\tvar langCode = editor.langCode;\n\t\t\t\tlangCode =\n\t\t\t\t\tplugin.availableLangs[ langCode ] ? langCode :\n\t\t\t\t\tplugin.availableLangs[ langCode.replace( /-.*/, '' ) ] ? langCode.replace( /-.*/, '' ) :\n\t\t\t\t\t'en';\n\n\t\t\t\tCKEDITOR.scriptLoader.load( CKEDITOR.getUrl( plugin.path + 'dialogs/lang/' + langCode + '.js' ), function() {\n\t\t\t\t\tCKEDITOR.tools.extend( editor.lang.specialchar, plugin.langEntries[ langCode ] );\n\t\t\t\t\teditor.openDialog( pluginName );\n\t\t\t\t} );\n\t\t\t},\n\t\t\tmodes: { wysiwyg: 1 },\n\t\t\tcanUndo: false\n\t\t} );\n\n\t\t// Register the toolbar button.\n\t\teditor.ui.addButton && editor.ui.addButton( 'SpecialChar', {\n\t\t\tlabel: editor.lang.specialchar.toolbar,\n\t\t\tcommand: pluginName,\n\t\t\ttoolbar: 'insert,50'\n\t\t} );\n\t}\n} );\n\n/**\n * The list of special characters visible in the \"Special Character\" dialog window.\n *\n *\t\tconfig.specialChars = [ '&quot;', '&rsquo;', [ '&custom;', 'Custom label' ] ];\n *\t\tconfig.specialChars = config.specialChars.concat( [ '&quot;', [ '&rsquo;', 'Custom label' ] ] );\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.specialChars = [\n\t'!', '&quot;', '#', '$', '%', '&amp;', \"'\", '(', ')', '*', '+', '-', '.', '/',\n\t'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';',\n\t'&lt;', '=', '&gt;', '?', '@',\n\t'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n\t'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n\t'[', ']', '^', '_', '`',\n\t'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p',\n\t'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',\n\t'{', '|', '}', '~',\n\t'&euro;', '&lsquo;', '&rsquo;', '&ldquo;', '&rdquo;', '&ndash;', '&mdash;', '&iexcl;', '&cent;', '&pound;',\n\t'&curren;', '&yen;', '&brvbar;', '&sect;', '&uml;', '&copy;', '&ordf;', '&laquo;', '&not;', '&reg;', '&macr;',\n\t'&deg;', '&sup2;', '&sup3;', '&acute;', '&micro;', '&para;', '&middot;', '&cedil;', '&sup1;', '&ordm;', '&raquo;',\n\t'&frac14;', '&frac12;', '&frac34;', '&iquest;', '&Agrave;', '&Aacute;', '&Acirc;', '&Atilde;', '&Auml;', '&Aring;',\n\t'&AElig;', '&Ccedil;', '&Egrave;', '&Eacute;', '&Ecirc;', '&Euml;', '&Igrave;', '&Iacute;', '&Icirc;', '&Iuml;',\n\t'&ETH;', '&Ntilde;', '&Ograve;', '&Oacute;', '&Ocirc;', '&Otilde;', '&Ouml;', '&times;', '&Oslash;', '&Ugrave;',\n\t'&Uacute;', '&Ucirc;', '&Uuml;', '&Yacute;', '&THORN;', '&szlig;', '&agrave;', '&aacute;', '&acirc;', '&atilde;',\n\t'&auml;', '&aring;', '&aelig;', '&ccedil;', '&egrave;', '&eacute;', '&ecirc;', '&euml;', '&igrave;', '&iacute;',\n\t'&icirc;', '&iuml;', '&eth;', '&ntilde;', '&ograve;', '&oacute;', '&ocirc;', '&otilde;', '&ouml;', '&divide;',\n\t'&oslash;', '&ugrave;', '&uacute;', '&ucirc;', '&uuml;', '&yacute;', '&thorn;', '&yuml;', '&OElig;', '&oelig;',\n\t'&#372;', '&#374', '&#373', '&#375;', '&sbquo;', '&#8219;', '&bdquo;', '&hellip;', '&trade;', '&#9658;', '&bull;',\n\t'&rarr;', '&rArr;', '&hArr;', '&diams;', '&asymp;'\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/specialchar/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t'use strict';\n\n\tCKEDITOR.plugins.add( 'stylescombo', {\n\t\trequires: 'richcombo',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\n\t\tinit: function( editor ) {\n\t\t\tvar config = editor.config,\n\t\t\t\tlang = editor.lang.stylescombo,\n\t\t\t\tstyles = {},\n\t\t\t\tstylesList = [],\n\t\t\t\tcombo,\n\t\t\t\tallowedContent = [];\n\n\t\t\teditor.on( 'stylesSet', function( evt ) {\n\t\t\t\tvar stylesDefinitions = evt.data.styles;\n\n\t\t\t\tif ( !stylesDefinitions )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar style, styleName, styleType;\n\n\t\t\t\t// Put all styles into an Array.\n\t\t\t\tfor ( var i = 0, count = stylesDefinitions.length; i < count; i++ ) {\n\t\t\t\t\tvar styleDefinition = stylesDefinitions[ i ];\n\n\t\t\t\t\tif ( editor.blockless && ( styleDefinition.element in CKEDITOR.dtd.$block ) )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tstyleName = styleDefinition.name;\n\t\t\t\t\tstyle = new CKEDITOR.style( styleDefinition );\n\n\t\t\t\t\tif ( !editor.filter.customConfig || editor.filter.check( style ) ) {\n\t\t\t\t\t\tstyle._name = styleName;\n\t\t\t\t\t\tstyle._.enterMode = config.enterMode;\n\t\t\t\t\t\t// Get the type (which will be used to assign style to one of 3 groups) from assignedTo if it's defined.\n\t\t\t\t\t\tstyle._.type = styleType = style.assignedTo || style.type;\n\n\t\t\t\t\t\t// Weight is used to sort styles (#9029).\n\t\t\t\t\t\tstyle._.weight = i + ( styleType == CKEDITOR.STYLE_OBJECT ? 1 : styleType == CKEDITOR.STYLE_BLOCK ? 2 : 3 ) * 1000;\n\n\t\t\t\t\t\tstyles[ styleName ] = style;\n\t\t\t\t\t\tstylesList.push( style );\n\t\t\t\t\t\tallowedContent.push( style );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Sorts the Array, so the styles get grouped by type in proper order (#9029).\n\t\t\t\tstylesList.sort( function( styleA, styleB ) {\n\t\t\t\t\treturn styleA._.weight - styleB._.weight;\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\teditor.ui.addRichCombo( 'Styles', {\n\t\t\t\tlabel: lang.label,\n\t\t\t\ttitle: lang.panelTitle,\n\t\t\t\ttoolbar: 'styles,10',\n\t\t\t\tallowedContent: allowedContent,\n\n\t\t\t\tpanel: {\n\t\t\t\t\tcss: [ CKEDITOR.skin.getPath( 'editor' ) ].concat( config.contentsCss ),\n\t\t\t\t\tmultiSelect: true,\n\t\t\t\t\tattributes: { 'aria-label': lang.panelTitle }\n\t\t\t\t},\n\n\t\t\t\tinit: function() {\n\t\t\t\t\tvar style, styleName, lastType, type, i, count;\n\n\t\t\t\t\t// Loop over the Array, adding all items to the\n\t\t\t\t\t// combo.\n\t\t\t\t\tfor ( i = 0, count = stylesList.length; i < count; i++ ) {\n\t\t\t\t\t\tstyle = stylesList[ i ];\n\t\t\t\t\t\tstyleName = style._name;\n\t\t\t\t\t\ttype = style._.type;\n\n\t\t\t\t\t\tif ( type != lastType ) {\n\t\t\t\t\t\t\tthis.startGroup( lang[ 'panelTitle' + String( type ) ] );\n\t\t\t\t\t\t\tlastType = type;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.add( styleName, style.type == CKEDITOR.STYLE_OBJECT ? styleName : style.buildPreview(), styleName );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.commit();\n\t\t\t\t},\n\n\t\t\t\tonClick: function( value ) {\n\t\t\t\t\teditor.focus();\n\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\t\tvar style = styles[ value ],\n\t\t\t\t\t\telementPath = editor.elementPath();\n\n\t\t\t\t\teditor[ style.checkActive( elementPath, editor ) ? 'removeStyle' : 'applyStyle' ]( style );\n\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t},\n\n\t\t\t\tonRender: function() {\n\t\t\t\t\teditor.on( 'selectionChange', function( ev ) {\n\t\t\t\t\t\tvar currentValue = this.getValue(),\n\t\t\t\t\t\t\telementPath = ev.data.path,\n\t\t\t\t\t\t\telements = elementPath.elements;\n\n\t\t\t\t\t\t// For each element into the elements path.\n\t\t\t\t\t\tfor ( var i = 0, count = elements.length, element; i < count; i++ ) {\n\t\t\t\t\t\t\telement = elements[ i ];\n\n\t\t\t\t\t\t\t// Check if the element is removable by any of\n\t\t\t\t\t\t\t// the styles.\n\t\t\t\t\t\t\tfor ( var value in styles ) {\n\t\t\t\t\t\t\t\tif ( styles[ value ].checkElementRemovable( element, true, editor ) ) {\n\t\t\t\t\t\t\t\t\tif ( value != currentValue )\n\t\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If no styles match, just empty it.\n\t\t\t\t\t\tthis.setValue( '' );\n\t\t\t\t\t}, this );\n\t\t\t\t},\n\n\t\t\t\tonOpen: function() {\n\t\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\t\telement = selection.getSelectedElement(),\n\t\t\t\t\t\telementPath = editor.elementPath( element ),\n\t\t\t\t\t\tcounter = [ 0, 0, 0, 0 ];\n\n\t\t\t\t\tthis.showAll();\n\t\t\t\t\tthis.unmarkAll();\n\t\t\t\t\tfor ( var name in styles ) {\n\t\t\t\t\t\tvar style = styles[ name ],\n\t\t\t\t\t\t\ttype = style._.type;\n\n\t\t\t\t\t\tif ( style.checkApplicable( elementPath, editor, editor.activeFilter ) )\n\t\t\t\t\t\t\tcounter[ type ]++;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.hideItem( name );\n\n\t\t\t\t\t\tif ( style.checkActive( elementPath, editor ) )\n\t\t\t\t\t\t\tthis.mark( name );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !counter[ CKEDITOR.STYLE_BLOCK ] )\n\t\t\t\t\t\tthis.hideGroup( lang[ 'panelTitle' + String( CKEDITOR.STYLE_BLOCK ) ] );\n\n\t\t\t\t\tif ( !counter[ CKEDITOR.STYLE_INLINE ] )\n\t\t\t\t\t\tthis.hideGroup( lang[ 'panelTitle' + String( CKEDITOR.STYLE_INLINE ) ] );\n\n\t\t\t\t\tif ( !counter[ CKEDITOR.STYLE_OBJECT ] )\n\t\t\t\t\t\tthis.hideGroup( lang[ 'panelTitle' + String( CKEDITOR.STYLE_OBJECT ) ] );\n\t\t\t\t},\n\n\t\t\t\trefresh: function() {\n\t\t\t\t\tvar elementPath = editor.elementPath();\n\n\t\t\t\t\tif ( !elementPath )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tfor ( var name in styles ) {\n\t\t\t\t\t\tvar style = styles[ name ];\n\n\t\t\t\t\t\tif ( style.checkApplicable( elementPath, editor, editor.activeFilter ) )\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t},\n\n\t\t\t\t// Force a reload of the data\n\t\t\t\treset: function() {\n\t\t\t\t\tif ( combo ) {\n\t\t\t\t\t\tdelete combo._.panel;\n\t\t\t\t\t\tdelete combo._.list;\n\t\t\t\t\t\tcombo._.committed = 0;\n\t\t\t\t\t\tcombo._.items = {};\n\t\t\t\t\t\tcombo._.state = CKEDITOR.TRISTATE_OFF;\n\t\t\t\t\t}\n\t\t\t\t\tstyles = {};\n\t\t\t\t\tstylesList = [];\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/stylescombo/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar meta = {\n\t\teditorFocus: false,\n\t\tmodes: { wysiwyg: 1, source: 1 }\n\t};\n\n\tvar blurCommand = {\n\t\texec: function( editor ) {\n\t\t\teditor.container.focusNext( true, editor.tabIndex );\n\t\t}\n\t};\n\n\tvar blurBackCommand = {\n\t\texec: function( editor ) {\n\t\t\teditor.container.focusPrevious( true, editor.tabIndex );\n\t\t}\n\t};\n\n\tfunction selectNextCellCommand( backward ) {\n\t\treturn {\n\t\t\teditorFocus: false,\n\t\t\tcanUndo: false,\n\t\t\tmodes: { wysiwyg: 1 },\n\t\t\texec: function( editor ) {\n\t\t\t\tif ( editor.editable().hasFocus ) {\n\t\t\t\t\tvar sel = editor.getSelection(),\n\t\t\t\t\t\tpath = new CKEDITOR.dom.elementPath( sel.getCommonAncestor(), sel.root ),\n\t\t\t\t\t\tcell;\n\n\t\t\t\t\tif ( ( cell = path.contains( { td: 1, th: 1 }, 1 ) ) ) {\n\t\t\t\t\t\tvar resultRange = editor.createRange(),\n\t\t\t\t\t\t\tnext = CKEDITOR.tools.tryThese( function() {\n\t\t\t\t\t\t\t\tvar row = cell.getParent(),\n\t\t\t\t\t\t\t\t\tnext = row.$.cells[ cell.$.cellIndex + ( backward ? -1 : 1 ) ];\n\n\t\t\t\t\t\t\t\t// Invalid any empty value.\n\t\t\t\t\t\t\t\tnext.parentNode.parentNode;\n\t\t\t\t\t\t\t\treturn next;\n\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\tvar row = cell.getParent(),\n\t\t\t\t\t\t\t\t\ttable = row.getAscendant( 'table' ),\n\t\t\t\t\t\t\t\t\tnextRow = table.$.rows[ row.$.rowIndex + ( backward ? -1 : 1 ) ];\n\n\t\t\t\t\t\t\t\treturn nextRow.cells[ backward ? nextRow.cells.length - 1 : 0 ];\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Clone one more row at the end of table and select the first newly established cell.\n\t\t\t\t\t\tif ( !( next || backward ) ) {\n\t\t\t\t\t\t\tvar table = cell.getAscendant( 'table' ).$,\n\t\t\t\t\t\t\t\tcells = cell.getParent().$.cells;\n\n\t\t\t\t\t\t\tvar newRow = new CKEDITOR.dom.element( table.insertRow( -1 ), editor.document );\n\n\t\t\t\t\t\t\tfor ( var i = 0, count = cells.length; i < count; i++ ) {\n\t\t\t\t\t\t\t\tvar newCell = newRow.append( new CKEDITOR.dom.element( cells[ i ], editor.document ).clone( false, false ) );\n\t\t\t\t\t\t\t\tnewCell.appendBogus();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresultRange.moveToElementEditStart( newRow );\n\t\t\t\t\t\t} else if ( next ) {\n\t\t\t\t\t\t\tnext = new CKEDITOR.dom.element( next );\n\t\t\t\t\t\t\tresultRange.moveToElementEditStart( next );\n\t\t\t\t\t\t\t// Avoid selecting empty block makes the cursor blind.\n\t\t\t\t\t\t\tif ( !( resultRange.checkStartOfBlock() && resultRange.checkEndOfBlock() ) )\n\t\t\t\t\t\t\t\tresultRange.selectNodeContents( next );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresultRange.select( true );\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\t}\n\n\tCKEDITOR.plugins.add( 'tab', {\n\t\tinit: function( editor ) {\n\t\t\tvar tabTools = editor.config.enableTabKeyTools !== false,\n\t\t\t\ttabSpaces = editor.config.tabSpaces || 0,\n\t\t\t\ttabText = '';\n\n\t\t\twhile ( tabSpaces-- )\n\t\t\t\ttabText += '\\xa0';\n\n\t\t\tif ( tabText ) {\n\t\t\t\teditor.on( 'key', function( ev ) {\n\t\t\t\t\t// TAB.\n\t\t\t\t\tif ( ev.data.keyCode == 9 ) {\n\t\t\t\t\t\teditor.insertText( tabText );\n\t\t\t\t\t\tev.cancel();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( tabTools ) {\n\t\t\t\teditor.on( 'key', function( ev ) {\n\t\t\t\t\tif ( ev.data.keyCode == 9 && editor.execCommand( 'selectNextCell' ) || // TAB\n\t\t\t\t\tev.data.keyCode == ( CKEDITOR.SHIFT + 9 ) && editor.execCommand( 'selectPreviousCell' ) ) // SHIFT+TAB\n\t\t\t\t\tev.cancel();\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditor.addCommand( 'blur', CKEDITOR.tools.extend( blurCommand, meta ) );\n\t\t\teditor.addCommand( 'blurBack', CKEDITOR.tools.extend( blurBackCommand, meta ) );\n\t\t\teditor.addCommand( 'selectNextCell', selectNextCellCommand() );\n\t\t\teditor.addCommand( 'selectPreviousCell', selectNextCellCommand( true ) );\n\t\t}\n\t} );\n} )();\n\n/**\n * Moves the UI focus to the element following this element in the tabindex order.\n *\n *\t\tvar element = CKEDITOR.document.getById( 'example' );\n *\t\telement.focusNext();\n *\n * @param {Boolean} [ignoreChildren=false]\n * @param {Number} [indexToUse]\n * @member CKEDITOR.dom.element\n */\nCKEDITOR.dom.element.prototype.focusNext = function( ignoreChildren, indexToUse ) {\n\tvar curTabIndex = ( indexToUse === undefined ? this.getTabIndex() : indexToUse ),\n\t\tpassedCurrent, enteredCurrent, elected, electedTabIndex, element, elementTabIndex;\n\n\tif ( curTabIndex <= 0 ) {\n\t\t// If this element has tabindex <= 0 then we must simply look for any\n\t\t// element following it containing tabindex=0.\n\n\t\telement = this.getNextSourceNode( ignoreChildren, CKEDITOR.NODE_ELEMENT );\n\n\t\twhile ( element ) {\n\t\t\tif ( element.isVisible() && element.getTabIndex() === 0 ) {\n\t\t\t\telected = element;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\telement = element.getNextSourceNode( false, CKEDITOR.NODE_ELEMENT );\n\t\t}\n\t} else {\n\t\t// If this element has tabindex > 0 then we must look for:\n\t\t//\t\t1. An element following this element with the same tabindex.\n\t\t//\t\t2. The first element in source other with the lowest tabindex\n\t\t//\t\t   that is higher than this element tabindex.\n\t\t//\t\t3. The first element with tabindex=0.\n\n\t\telement = this.getDocument().getBody().getFirst();\n\n\t\twhile ( ( element = element.getNextSourceNode( false, CKEDITOR.NODE_ELEMENT ) ) ) {\n\t\t\tif ( !passedCurrent ) {\n\t\t\t\tif ( !enteredCurrent && element.equals( this ) ) {\n\t\t\t\t\tenteredCurrent = true;\n\n\t\t\t\t\t// Ignore this element, if required.\n\t\t\t\t\tif ( ignoreChildren ) {\n\t\t\t\t\t\tif ( !( element = element.getNextSourceNode( true, CKEDITOR.NODE_ELEMENT ) ) )\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tpassedCurrent = 1;\n\t\t\t\t\t}\n\t\t\t\t} else if ( enteredCurrent && !this.contains( element ) ) {\n\t\t\t\t\tpassedCurrent = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !element.isVisible() || ( elementTabIndex = element.getTabIndex() ) < 0 )\n\t\t\t\tcontinue;\n\n\t\t\tif ( passedCurrent && elementTabIndex == curTabIndex ) {\n\t\t\t\telected = element;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif ( elementTabIndex > curTabIndex && ( !elected || !electedTabIndex || elementTabIndex < electedTabIndex ) ) {\n\t\t\t\telected = element;\n\t\t\t\telectedTabIndex = elementTabIndex;\n\t\t\t} else if ( !elected && elementTabIndex === 0 ) {\n\t\t\t\telected = element;\n\t\t\t\telectedTabIndex = elementTabIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( elected )\n\t\telected.focus();\n};\n\n/**\n * Moves the UI focus to the element before this element in the tabindex order.\n *\n *\t\tvar element = CKEDITOR.document.getById( 'example' );\n *\t\telement.focusPrevious();\n *\n * @param {Boolean} [ignoreChildren=false]\n * @param {Number} [indexToUse]\n * @member CKEDITOR.dom.element\n */\nCKEDITOR.dom.element.prototype.focusPrevious = function( ignoreChildren, indexToUse ) {\n\tvar curTabIndex = ( indexToUse === undefined ? this.getTabIndex() : indexToUse ),\n\t\tpassedCurrent, enteredCurrent, elected,\n\t\telectedTabIndex = 0,\n\t\telementTabIndex;\n\n\tvar element = this.getDocument().getBody().getLast();\n\n\twhile ( ( element = element.getPreviousSourceNode( false, CKEDITOR.NODE_ELEMENT ) ) ) {\n\t\tif ( !passedCurrent ) {\n\t\t\tif ( !enteredCurrent && element.equals( this ) ) {\n\t\t\t\tenteredCurrent = true;\n\n\t\t\t\t// Ignore this element, if required.\n\t\t\t\tif ( ignoreChildren ) {\n\t\t\t\t\tif ( !( element = element.getPreviousSourceNode( true, CKEDITOR.NODE_ELEMENT ) ) )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tpassedCurrent = 1;\n\t\t\t\t}\n\t\t\t} else if ( enteredCurrent && !this.contains( element ) ) {\n\t\t\t\tpassedCurrent = 1;\n\t\t\t}\n\t\t}\n\n\t\tif ( !element.isVisible() || ( elementTabIndex = element.getTabIndex() ) < 0 )\n\t\t\tcontinue;\n\n\t\tif ( curTabIndex <= 0 ) {\n\t\t\t// If this element has tabindex <= 0 then we must look for:\n\t\t\t//\t\t1. An element before this one containing tabindex=0.\n\t\t\t//\t\t2. The last element with the highest tabindex.\n\n\t\t\tif ( passedCurrent && elementTabIndex === 0 ) {\n\t\t\t\telected = element;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif ( elementTabIndex > electedTabIndex ) {\n\t\t\t\telected = element;\n\t\t\t\telectedTabIndex = elementTabIndex;\n\t\t\t}\n\t\t} else {\n\t\t\t// If this element has tabindex > 0 we must look for:\n\t\t\t//\t\t1. An element preceeding this one, with the same tabindex.\n\t\t\t//\t\t2. The last element in source other with the highest tabindex\n\t\t\t//\t\t   that is lower than this element tabindex.\n\n\t\t\tif ( passedCurrent && elementTabIndex == curTabIndex ) {\n\t\t\t\telected = element;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif ( elementTabIndex < curTabIndex && ( !elected || elementTabIndex > electedTabIndex ) ) {\n\t\t\t\telected = element;\n\t\t\t\telectedTabIndex = elementTabIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( elected )\n\t\telected.focus();\n};\n\n/**\n * Intructs the editor to add a number of spaces (`&nbsp;`) to the text when\n * hitting the <kbd>Tab</kbd> key. If set to zero, the <kbd>Tab</kbd> key will be used to move the\n * cursor focus to the next element in the page, out of the editor focus.\n *\n *\t\tconfig.tabSpaces = 4;\n *\n * @cfg {Number} [tabSpaces=0]\n * @member CKEDITOR.config\n */\n\n/**\n * Allow context-sensitive <kbd>Tab</kbd> key behaviors, including the following scenarios:\n *\n * When selection is anchored inside **table cells**:\n *\n * * If <kbd>Tab</kbd> is pressed, select the content of the \"next\" cell. If in the last\n *     cell in the table, add a new row to it and focus its first cell.\n * * If <kbd>Shift+Tab</kbd> is pressed, select the content of the \"previous\" cell.\n *     Do nothing when it is in the first cell.\n *\n * Example:\n *\n *\t\tconfig.enableTabKeyTools = false;\n *\n * @cfg {Boolean} [enableTabKeyTools=true]\n * @member CKEDITOR.config\n */\n\n// If the <kbd>Tab</kbd> key is not supposed to be enabled for navigation, the following\n// settings could be used alternatively:\n// config.keystrokes.push(\n//\t[ CKEDITOR.ALT + 38 /*Arrow Up*/, 'selectPreviousCell' ],\n//\t[ CKEDITOR.ALT + 40 /*Arrow Down*/, 'selectNextCell' ]\n// );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/tab/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'table', {\n\trequires: 'dialog',\n\t// jscs:disable maximumLineLength\n\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t// jscs:enable maximumLineLength\n\ticons: 'table', // %REMOVE_LINE_CORE%\n\thidpi: true, // %REMOVE_LINE_CORE%\n\tinit: function( editor ) {\n\t\tif ( editor.blockless )\n\t\t\treturn;\n\n\t\tvar lang = editor.lang.table;\n\n\t\teditor.addCommand( 'table', new CKEDITOR.dialogCommand( 'table', {\n\t\t\tcontext: 'table',\n\t\t\tallowedContent: 'table{width,height}[align,border,cellpadding,cellspacing,summary];' +\n\t\t\t\t'caption tbody thead tfoot;' +\n\t\t\t\t'th td tr[scope];' +\n\t\t\t\t( editor.plugins.dialogadvtab ? 'table' + editor.plugins.dialogadvtab.allowedContent() : '' ),\n\t\t\trequiredContent: 'table',\n\t\t\tcontentTransformations: [\n\t\t\t\t[ 'table{width}: sizeToStyle', 'table[width]: sizeToAttribute' ]\n\t\t\t]\n\t\t} ) );\n\n\t\tfunction createDef( def ) {\n\t\t\treturn CKEDITOR.tools.extend( def || {}, {\n\t\t\t\tcontextSensitive: 1,\n\t\t\t\trefresh: function( editor, path ) {\n\t\t\t\t\tthis.setState( path.contains( 'table', 1 ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\teditor.addCommand( 'tableProperties', new CKEDITOR.dialogCommand( 'tableProperties', createDef() ) );\n\t\teditor.addCommand( 'tableDelete', createDef( {\n\t\t\texec: function( editor ) {\n\t\t\t\tvar path = editor.elementPath(),\n\t\t\t\t\ttable = path.contains( 'table', 1 );\n\n\t\t\t\tif ( !table )\n\t\t\t\t\treturn;\n\n\t\t\t\t// If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)\n\t\t\t\tvar parent = table.getParent(),\n\t\t\t\t\teditable = editor.editable();\n\n\t\t\t\tif ( parent.getChildCount() == 1 && !parent.is( 'td', 'th' ) && !parent.equals( editable ) )\n\t\t\t\t\ttable = parent;\n\n\t\t\t\tvar range = editor.createRange();\n\t\t\t\trange.moveToPosition( table, CKEDITOR.POSITION_BEFORE_START );\n\t\t\t\ttable.remove();\n\t\t\t\trange.select();\n\t\t\t}\n\t\t} ) );\n\n\t\teditor.ui.addButton && editor.ui.addButton( 'Table', {\n\t\t\tlabel: lang.toolbar,\n\t\t\tcommand: 'table',\n\t\t\ttoolbar: 'insert,30'\n\t\t} );\n\n\t\tCKEDITOR.dialog.add( 'table', this.path + 'dialogs/table.js' );\n\t\tCKEDITOR.dialog.add( 'tableProperties', this.path + 'dialogs/table.js' );\n\n\t\t// If the \"menu\" plugin is loaded, register the menu items.\n\t\tif ( editor.addMenuItems ) {\n\t\t\teditor.addMenuItems( {\n\t\t\t\ttable: {\n\t\t\t\t\tlabel: lang.menu,\n\t\t\t\t\tcommand: 'tableProperties',\n\t\t\t\t\tgroup: 'table',\n\t\t\t\t\torder: 5\n\t\t\t\t},\n\n\t\t\t\ttabledelete: {\n\t\t\t\t\tlabel: lang.deleteTable,\n\t\t\t\t\tcommand: 'tableDelete',\n\t\t\t\t\tgroup: 'table',\n\t\t\t\t\torder: 1\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\tvar element = evt.data.element;\n\n\t\t\tif ( element.is( 'table' ) )\n\t\t\t\tevt.data.dialog = 'tableProperties';\n\t\t} );\n\n\t\t// If the \"contextmenu\" plugin is loaded, register the listeners.\n\t\tif ( editor.contextMenu ) {\n\t\t\teditor.contextMenu.addListener( function() {\n\t\t\t\t// menu item state is resolved on commands.\n\t\t\t\treturn {\n\t\t\t\t\ttabledelete: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\ttable: CKEDITOR.TRISTATE_OFF\n\t\t\t\t};\n\t\t\t} );\n\t\t}\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/table/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar cellNodeRegex = /^(?:td|th)$/;\n\n\tfunction getSelectedCells( selection ) {\n\t\tvar ranges = selection.getRanges();\n\t\tvar retval = [];\n\t\tvar database = {};\n\n\t\tfunction moveOutOfCellGuard( node ) {\n\t\t\t// Apply to the first cell only.\n\t\t\tif ( retval.length > 0 )\n\t\t\t\treturn;\n\n\t\t\t// If we are exiting from the first </td>, then the td should definitely be\n\t\t\t// included.\n\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT && cellNodeRegex.test( node.getName() ) && !node.getCustomData( 'selected_cell' ) ) {\n\t\t\t\tCKEDITOR.dom.element.setMarker( database, node, 'selected_cell', true );\n\t\t\t\tretval.push( node );\n\t\t\t}\n\t\t}\n\n\t\tfor ( var i = 0; i < ranges.length; i++ ) {\n\t\t\tvar range = ranges[ i ];\n\n\t\t\tif ( range.collapsed ) {\n\t\t\t\t// Walker does not handle collapsed ranges yet - fall back to old API.\n\t\t\t\tvar startNode = range.getCommonAncestor();\n\t\t\t\tvar nearestCell = startNode.getAscendant( 'td', true ) || startNode.getAscendant( 'th', true );\n\t\t\t\tif ( nearestCell )\n\t\t\t\t\tretval.push( nearestCell );\n\t\t\t} else {\n\t\t\t\tvar walker = new CKEDITOR.dom.walker( range );\n\t\t\t\tvar node;\n\t\t\t\twalker.guard = moveOutOfCellGuard;\n\n\t\t\t\twhile ( ( node = walker.next() ) ) {\n\t\t\t\t\t// If may be possible for us to have a range like this:\n\t\t\t\t\t// <td>^1</td><td>^2</td>\n\t\t\t\t\t// The 2nd td shouldn't be included.\n\t\t\t\t\t//\n\t\t\t\t\t// So we have to take care to include a td we've entered only when we've\n\t\t\t\t\t// walked into its children.\n\n\t\t\t\t\tif ( node.type != CKEDITOR.NODE_ELEMENT || !node.is( CKEDITOR.dtd.table ) ) {\n\t\t\t\t\t\tvar parent = node.getAscendant( 'td', true ) || node.getAscendant( 'th', true );\n\t\t\t\t\t\tif ( parent && !parent.getCustomData( 'selected_cell' ) ) {\n\t\t\t\t\t\t\tCKEDITOR.dom.element.setMarker( database, parent, 'selected_cell', true );\n\t\t\t\t\t\t\tretval.push( parent );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\treturn retval;\n\t}\n\n\tfunction getFocusElementAfterDelCells( cellsToDelete ) {\n\t\tvar i = 0,\n\t\t\tlast = cellsToDelete.length - 1,\n\t\t\tdatabase = {},\n\t\t\tcell, focusedCell, tr;\n\n\t\twhile ( ( cell = cellsToDelete[ i++ ] ) )\n\t\t\tCKEDITOR.dom.element.setMarker( database, cell, 'delete_cell', true );\n\n\t\t// 1.first we check left or right side focusable cell row by row;\n\t\ti = 0;\n\t\twhile ( ( cell = cellsToDelete[ i++ ] ) ) {\n\t\t\tif ( ( focusedCell = cell.getPrevious() ) && !focusedCell.getCustomData( 'delete_cell' ) || ( focusedCell = cell.getNext() ) && !focusedCell.getCustomData( 'delete_cell' ) ) {\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\t\t\t\treturn focusedCell;\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\t// 2. then we check the toppest row (outside the selection area square) focusable cell\n\t\ttr = cellsToDelete[ 0 ].getParent();\n\t\tif ( ( tr = tr.getPrevious() ) )\n\t\t\treturn tr.getLast();\n\n\t\t// 3. last we check the lowerest  row focusable cell\n\t\ttr = cellsToDelete[ last ].getParent();\n\t\tif ( ( tr = tr.getNext() ) )\n\t\t\treturn tr.getChild( 0 );\n\n\t\treturn null;\n\t}\n\n\tfunction insertRow( selection, insertBefore ) {\n\t\tvar cells = getSelectedCells( selection ),\n\t\t\tfirstCell = cells[ 0 ],\n\t\t\ttable = firstCell.getAscendant( 'table' ),\n\t\t\tdoc = firstCell.getDocument(),\n\t\t\tstartRow = cells[ 0 ].getParent(),\n\t\t\tstartRowIndex = startRow.$.rowIndex,\n\t\t\tlastCell = cells[ cells.length - 1 ],\n\t\t\tendRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1,\n\t\t\tendRow = new CKEDITOR.dom.element( table.$.rows[ endRowIndex ] ),\n\t\t\trowIndex = insertBefore ? startRowIndex : endRowIndex,\n\t\t\trow = insertBefore ? startRow : endRow;\n\n\t\tvar map = CKEDITOR.tools.buildTableMap( table ),\n\t\t\tcloneRow = map[ rowIndex ],\n\t\t\tnextRow = insertBefore ? map[ rowIndex - 1 ] : map[ rowIndex + 1 ],\n\t\t\twidth = map[ 0 ].length;\n\n\t\tvar newRow = doc.createElement( 'tr' );\n\t\tfor ( var i = 0; cloneRow[ i ] && i < width; i++ ) {\n\t\t\tvar cell;\n\t\t\t// Check whether there's a spanning row here, do not break it.\n\t\t\tif ( cloneRow[ i ].rowSpan > 1 && nextRow && cloneRow[ i ] == nextRow[ i ] ) {\n\t\t\t\tcell = cloneRow[ i ];\n\t\t\t\tcell.rowSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element( cloneRow[ i ] ).clone();\n\t\t\t\tcell.removeAttribute( 'rowSpan' );\n\t\t\t\tcell.appendBogus();\n\t\t\t\tnewRow.append( cell );\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.colSpan - 1;\n\t\t}\n\n\t\tinsertBefore ? newRow.insertBefore( row ) : newRow.insertAfter( row );\n\t}\n\n\tfunction deleteRows( selectionOrRow ) {\n\t\tif ( selectionOrRow instanceof CKEDITOR.dom.selection ) {\n\t\t\tvar cells = getSelectedCells( selectionOrRow ),\n\t\t\t\tfirstCell = cells[ 0 ],\n\t\t\t\ttable = firstCell.getAscendant( 'table' ),\n\t\t\t\tmap = CKEDITOR.tools.buildTableMap( table ),\n\t\t\t\tstartRow = cells[ 0 ].getParent(),\n\t\t\t\tstartRowIndex = startRow.$.rowIndex,\n\t\t\t\tlastCell = cells[ cells.length - 1 ],\n\t\t\t\tendRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1,\n\t\t\t\trowsToDelete = [];\n\n\t\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\t\tfor ( var i = startRowIndex; i <= endRowIndex; i++ ) {\n\t\t\t\tvar mapRow = map[ i ],\n\t\t\t\t\trow = new CKEDITOR.dom.element( table.$.rows[ i ] );\n\n\t\t\t\tfor ( var j = 0; j < mapRow.length; j++ ) {\n\t\t\t\t\tvar cell = new CKEDITOR.dom.element( mapRow[ j ] ),\n\t\t\t\t\t\tcellRowIndex = cell.getParent().$.rowIndex;\n\n\t\t\t\t\tif ( cell.$.rowSpan == 1 )\n\t\t\t\t\t\tcell.remove();\n\t\t\t\t\t// Row spanned cell.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Span row of the cell, reduce spanning.\n\t\t\t\t\t\tcell.$.rowSpan -= 1;\n\t\t\t\t\t\t// Root row of the cell, root cell to next row.\n\t\t\t\t\t\tif ( cellRowIndex == i ) {\n\t\t\t\t\t\t\tvar nextMapRow = map[ i + 1 ];\n\t\t\t\t\t\t\tnextMapRow[ j - 1 ] ? cell.insertAfter( new CKEDITOR.dom.element( nextMapRow[ j - 1 ] ) ) : new CKEDITOR.dom.element( table.$.rows[ i + 1 ] ).append( cell, 1 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tj += cell.$.colSpan - 1;\n\t\t\t\t}\n\n\t\t\t\trowsToDelete.push( row );\n\t\t\t}\n\n\t\t\tvar rows = table.$.rows;\n\n\t\t\t// Where to put the cursor after rows been deleted?\n\t\t\t// 1. Into next sibling row if any;\n\t\t\t// 2. Into previous sibling row if any;\n\t\t\t// 3. Into table's parent element if it's the very last row.\n\t\t\tvar cursorPosition = new CKEDITOR.dom.element( rows[ endRowIndex + 1 ] || ( startRowIndex > 0 ? rows[ startRowIndex - 1 ] : null ) || table.$.parentNode );\n\n\t\t\tfor ( i = rowsToDelete.length; i >= 0; i-- )\n\t\t\t\tdeleteRows( rowsToDelete[ i ] );\n\n\t\t\treturn cursorPosition;\n\t\t} else if ( selectionOrRow instanceof CKEDITOR.dom.element ) {\n\t\t\ttable = selectionOrRow.getAscendant( 'table' );\n\n\t\t\tif ( table.$.rows.length == 1 )\n\t\t\t\ttable.remove();\n\t\t\telse\n\t\t\t\tselectionOrRow.remove();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getCellColIndex( cell, isStart ) {\n\t\tvar row = cell.getParent(),\n\t\t\trowCells = row.$.cells;\n\n\t\tvar colIndex = 0;\n\t\tfor ( var i = 0; i < rowCells.length; i++ ) {\n\t\t\tvar mapCell = rowCells[ i ];\n\t\t\tcolIndex += isStart ? 1 : mapCell.colSpan;\n\t\t\tif ( mapCell == cell.$ )\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn colIndex - 1;\n\t}\n\n\tfunction getColumnsIndices( cells, isStart ) {\n\t\tvar retval = isStart ? Infinity : 0;\n\t\tfor ( var i = 0; i < cells.length; i++ ) {\n\t\t\tvar colIndex = getCellColIndex( cells[ i ], isStart );\n\t\t\tif ( isStart ? colIndex < retval : colIndex > retval )\n\t\t\t\tretval = colIndex;\n\t\t}\n\t\treturn retval;\n\t}\n\n\tfunction insertColumn( selection, insertBefore ) {\n\t\tvar cells = getSelectedCells( selection ),\n\t\t\tfirstCell = cells[ 0 ],\n\t\t\ttable = firstCell.getAscendant( 'table' ),\n\t\t\tstartCol = getColumnsIndices( cells, 1 ),\n\t\t\tlastCol = getColumnsIndices( cells ),\n\t\t\tcolIndex = insertBefore ? startCol : lastCol;\n\n\t\tvar map = CKEDITOR.tools.buildTableMap( table ),\n\t\t\tcloneCol = [],\n\t\t\tnextCol = [],\n\t\t\theight = map.length;\n\n\t\tfor ( var i = 0; i < height; i++ ) {\n\t\t\tcloneCol.push( map[ i ][ colIndex ] );\n\t\t\tvar nextCell = insertBefore ? map[ i ][ colIndex - 1 ] : map[ i ][ colIndex + 1 ];\n\t\t\tnextCol.push( nextCell );\n\t\t}\n\n\t\tfor ( i = 0; i < height; i++ ) {\n\t\t\tvar cell;\n\n\t\t\tif ( !cloneCol[ i ] )\n\t\t\t\tcontinue;\n\n\t\t\t// Check whether there's a spanning column here, do not break it.\n\t\t\tif ( cloneCol[ i ].colSpan > 1 && nextCol[ i ] == cloneCol[ i ] ) {\n\t\t\t\tcell = cloneCol[ i ];\n\t\t\t\tcell.colSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element( cloneCol[ i ] ).clone();\n\t\t\t\tcell.removeAttribute( 'colSpan' );\n\t\t\t\tcell.appendBogus();\n\t\t\t\tcell[ insertBefore ? 'insertBefore' : 'insertAfter' ].call( cell, new CKEDITOR.dom.element( cloneCol[ i ] ) );\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.rowSpan - 1;\n\t\t}\n\t}\n\n\tfunction deleteColumns( selectionOrCell ) {\n\t\tvar cells = getSelectedCells( selectionOrCell ),\n\t\t\tfirstCell = cells[ 0 ],\n\t\t\tlastCell = cells[ cells.length - 1 ],\n\t\t\ttable = firstCell.getAscendant( 'table' ),\n\t\t\tmap = CKEDITOR.tools.buildTableMap( table ),\n\t\t\tstartColIndex, endColIndex,\n\t\t\trowsToDelete = [];\n\n\t\t// Figure out selected cells' column indices.\n\t\tfor ( var i = 0, rows = map.length; i < rows; i++ ) {\n\t\t\tfor ( var j = 0, cols = map[ i ].length; j < cols; j++ ) {\n\t\t\t\tif ( map[ i ][ j ] == firstCell.$ )\n\t\t\t\t\tstartColIndex = j;\n\t\t\t\tif ( map[ i ][ j ] == lastCell.$ )\n\t\t\t\t\tendColIndex = j;\n\t\t\t}\n\t\t}\n\n\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\tfor ( i = startColIndex; i <= endColIndex; i++ ) {\n\t\t\tfor ( j = 0; j < map.length; j++ ) {\n\t\t\t\tvar mapRow = map[ j ],\n\t\t\t\t\trow = new CKEDITOR.dom.element( table.$.rows[ j ] ),\n\t\t\t\t\tcell = new CKEDITOR.dom.element( mapRow[ i ] );\n\n\t\t\t\tif ( cell.$ ) {\n\t\t\t\t\tif ( cell.$.colSpan == 1 )\n\t\t\t\t\t\tcell.remove();\n\t\t\t\t\t// Reduce the col spans.\n\t\t\t\t\telse\n\t\t\t\t\t\tcell.$.colSpan -= 1;\n\n\t\t\t\t\tj += cell.$.rowSpan - 1;\n\n\t\t\t\t\tif ( !row.$.cells.length )\n\t\t\t\t\t\trowsToDelete.push( row );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar firstRowCells = table.$.rows[ 0 ] && table.$.rows[ 0 ].cells;\n\n\t\t// Where to put the cursor after columns been deleted?\n\t\t// 1. Into next cell of the first row if any;\n\t\t// 2. Into previous cell of the first row if any;\n\t\t// 3. Into table's parent element;\n\t\tvar cursorPosition = new CKEDITOR.dom.element( firstRowCells[ startColIndex ] || ( startColIndex ? firstRowCells[ startColIndex - 1 ] : table.$.parentNode ) );\n\n\t\t// Delete table rows only if all columns are gone (do not remove empty row).\n\t\tif ( rowsToDelete.length == rows )\n\t\t\ttable.remove();\n\n\t\treturn cursorPosition;\n\t}\n\n\tfunction insertCell( selection, insertBefore ) {\n\t\tvar startElement = selection.getStartElement();\n\t\tvar cell = startElement.getAscendant( 'td', 1 ) || startElement.getAscendant( 'th', 1 );\n\n\t\tif ( !cell )\n\t\t\treturn;\n\n\t\t// Create the new cell element to be added.\n\t\tvar newCell = cell.clone();\n\t\tnewCell.appendBogus();\n\n\t\tif ( insertBefore )\n\t\t\tnewCell.insertBefore( cell );\n\t\telse\n\t\t\tnewCell.insertAfter( cell );\n\t}\n\n\tfunction deleteCells( selectionOrCell ) {\n\t\tif ( selectionOrCell instanceof CKEDITOR.dom.selection ) {\n\t\t\tvar cellsToDelete = getSelectedCells( selectionOrCell );\n\t\t\tvar table = cellsToDelete[ 0 ] && cellsToDelete[ 0 ].getAscendant( 'table' );\n\t\t\tvar cellToFocus = getFocusElementAfterDelCells( cellsToDelete );\n\n\t\t\tfor ( var i = cellsToDelete.length - 1; i >= 0; i-- )\n\t\t\t\tdeleteCells( cellsToDelete[ i ] );\n\n\t\t\tif ( cellToFocus )\n\t\t\t\tplaceCursorInCell( cellToFocus, true );\n\t\t\telse if ( table )\n\t\t\t\ttable.remove();\n\t\t} else if ( selectionOrCell instanceof CKEDITOR.dom.element ) {\n\t\t\tvar tr = selectionOrCell.getParent();\n\t\t\tif ( tr.getChildCount() == 1 )\n\t\t\t\ttr.remove();\n\t\t\telse\n\t\t\t\tselectionOrCell.remove();\n\t\t}\n\t}\n\n\t// Remove filler at end and empty spaces around the cell content.\n\tfunction trimCell( cell ) {\n\t\tvar bogus = cell.getBogus();\n\t\tbogus && bogus.remove();\n\t\tcell.trim();\n\t}\n\n\tfunction placeCursorInCell( cell, placeAtEnd ) {\n\t\tvar docInner = cell.getDocument(),\n\t\t\tdocOuter = CKEDITOR.document;\n\n\t\t// Fixing \"Unspecified error\" thrown in IE10 by resetting\n\t\t// selection the dirty and shameful way (#10308).\n\t\t// We can not apply this hack to IE8 because\n\t\t// it causes error (#11058).\n\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version == 10 ) {\n\t\t\tdocOuter.focus();\n\t\t\tdocInner.focus();\n\t\t}\n\n\t\tvar range = new CKEDITOR.dom.range( docInner );\n\t\tif ( !range[ 'moveToElementEdit' + ( placeAtEnd ? 'End' : 'Start' ) ]( cell ) ) {\n\t\t\trange.selectNodeContents( cell );\n\t\t\trange.collapse( placeAtEnd ? false : true );\n\t\t}\n\t\trange.select( true );\n\t}\n\n\tfunction cellInRow( tableMap, rowIndex, cell ) {\n\t\tvar oRow = tableMap[ rowIndex ];\n\t\tif ( typeof cell == 'undefined' )\n\t\t\treturn oRow;\n\n\t\tfor ( var c = 0; oRow && c < oRow.length; c++ ) {\n\t\t\tif ( cell.is && oRow[ c ] == cell.$ )\n\t\t\t\treturn c;\n\t\t\telse if ( c == cell )\n\t\t\t\treturn new CKEDITOR.dom.element( oRow[ c ] );\n\t\t}\n\t\treturn cell.is ? -1 : null;\n\t}\n\n\tfunction cellInCol( tableMap, colIndex ) {\n\t\tvar oCol = [];\n\t\tfor ( var r = 0; r < tableMap.length; r++ ) {\n\t\t\tvar row = tableMap[ r ];\n\t\t\toCol.push( row[ colIndex ] );\n\n\t\t\t// Avoid adding duplicate cells.\n\t\t\tif ( row[ colIndex ].rowSpan > 1 )\n\t\t\t\tr += row[ colIndex ].rowSpan - 1;\n\t\t}\n\t\treturn oCol;\n\t}\n\n\tfunction mergeCells( selection, mergeDirection, isDetect ) {\n\t\tvar cells = getSelectedCells( selection );\n\n\t\t// Invalid merge request if:\n\t\t// 1. In batch mode despite that less than two selected.\n\t\t// 2. In solo mode while not exactly only one selected.\n\t\t// 3. Cells distributed in different table groups (e.g. from both thead and tbody).\n\t\tvar commonAncestor;\n\t\tif ( ( mergeDirection ? cells.length != 1 : cells.length < 2 ) || ( commonAncestor = selection.getCommonAncestor() ) && commonAncestor.type == CKEDITOR.NODE_ELEMENT && commonAncestor.is( 'table' ) )\n\t\t\treturn false;\n\n\t\tvar cell,\n\t\t\tfirstCell = cells[ 0 ],\n\t\t\ttable = firstCell.getAscendant( 'table' ),\n\t\t\tmap = CKEDITOR.tools.buildTableMap( table ),\n\t\t\tmapHeight = map.length,\n\t\t\tmapWidth = map[ 0 ].length,\n\t\t\tstartRow = firstCell.getParent().$.rowIndex,\n\t\t\tstartColumn = cellInRow( map, startRow, firstCell );\n\n\t\tif ( mergeDirection ) {\n\t\t\tvar targetCell;\n\t\t\ttry {\n\t\t\t\tvar rowspan = parseInt( firstCell.getAttribute( 'rowspan' ), 10 ) || 1;\n\t\t\t\tvar colspan = parseInt( firstCell.getAttribute( 'colspan' ), 10 ) || 1;\n\n\t\t\t\ttargetCell = map[ mergeDirection == 'up' ? ( startRow - rowspan ) : mergeDirection == 'down' ? ( startRow + rowspan ) : startRow ][\n\t\t\t\t\tmergeDirection == 'left' ?\n\t\t\t\t\t\t( startColumn - colspan ) :\n\t\t\t\t\tmergeDirection == 'right' ? ( startColumn + colspan ) : startColumn ];\n\n\t\t\t} catch ( er ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 1. No cell could be merged.\n\t\t\t// 2. Same cell actually.\n\t\t\tif ( !targetCell || firstCell.$ == targetCell )\n\t\t\t\treturn false;\n\n\t\t\t// Sort in map order regardless of the DOM sequence.\n\t\t\tcells[ ( mergeDirection == 'up' || mergeDirection == 'left' ) ? 'unshift' : 'push' ]( new CKEDITOR.dom.element( targetCell ) );\n\t\t}\n\n\t\t// Start from here are merging way ignorance (merge up/right, batch merge).\n\t\tvar doc = firstCell.getDocument(),\n\t\t\tlastRowIndex = startRow,\n\t\t\ttotalRowSpan = 0,\n\t\t\ttotalColSpan = 0,\n\t\t\t// Use a documentFragment as buffer when appending cell contents.\n\t\t\tfrag = !isDetect && new CKEDITOR.dom.documentFragment( doc ),\n\t\t\tdimension = 0;\n\n\t\tfor ( var i = 0; i < cells.length; i++ ) {\n\t\t\tcell = cells[ i ];\n\n\t\t\tvar tr = cell.getParent(),\n\t\t\t\tcellFirstChild = cell.getFirst(),\n\t\t\t\tcolSpan = cell.$.colSpan,\n\t\t\t\trowSpan = cell.$.rowSpan,\n\t\t\t\trowIndex = tr.$.rowIndex,\n\t\t\t\tcolIndex = cellInRow( map, rowIndex, cell );\n\n\t\t\t// Accumulated the actual places taken by all selected cells.\n\t\t\tdimension += colSpan * rowSpan;\n\t\t\t// Accumulated the maximum virtual spans from column and row.\n\t\t\ttotalColSpan = Math.max( totalColSpan, colIndex - startColumn + colSpan );\n\t\t\ttotalRowSpan = Math.max( totalRowSpan, rowIndex - startRow + rowSpan );\n\n\t\t\tif ( !isDetect ) {\n\t\t\t\t// Trim all cell fillers and check to remove empty cells.\n\t\t\t\tif ( trimCell( cell ), cell.getChildren().count() ) {\n\t\t\t\t\t// Merge vertically cells as two separated paragraphs.\n\t\t\t\t\tif ( rowIndex != lastRowIndex && cellFirstChild && !( cellFirstChild.isBlockBoundary && cellFirstChild.isBlockBoundary( { br: 1 } ) ) ) {\n\t\t\t\t\t\tvar last = frag.getLast( CKEDITOR.dom.walker.whitespaces( true ) );\n\t\t\t\t\t\tif ( last && !( last.is && last.is( 'br' ) ) )\n\t\t\t\t\t\t\tfrag.append( 'br' );\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.moveChildren( frag );\n\t\t\t\t}\n\t\t\t\ti ? cell.remove() : cell.setHtml( '' );\n\t\t\t}\n\t\t\tlastRowIndex = rowIndex;\n\t\t}\n\n\t\tif ( !isDetect ) {\n\t\t\tfrag.moveChildren( firstCell );\n\n\t\t\tfirstCell.appendBogus();\n\n\t\t\tif ( totalColSpan >= mapWidth )\n\t\t\t\tfirstCell.removeAttribute( 'rowSpan' );\n\t\t\telse\n\t\t\t\tfirstCell.$.rowSpan = totalRowSpan;\n\n\t\t\tif ( totalRowSpan >= mapHeight )\n\t\t\t\tfirstCell.removeAttribute( 'colSpan' );\n\t\t\telse\n\t\t\t\tfirstCell.$.colSpan = totalColSpan;\n\n\t\t\t// Swip empty <tr> left at the end of table due to the merging.\n\t\t\tvar trs = new CKEDITOR.dom.nodeList( table.$.rows ),\n\t\t\t\tcount = trs.count();\n\n\t\t\tfor ( i = count - 1; i >= 0; i-- ) {\n\t\t\t\tvar tailTr = trs.getItem( i );\n\t\t\t\tif ( !tailTr.$.cells.length ) {\n\t\t\t\t\ttailTr.remove();\n\t\t\t\t\tcount++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn firstCell;\n\t\t}\n\t\t// Be able to merge cells only if actual dimension of selected\n\t\t// cells equals to the caculated rectangle.\n\t\telse {\n\t\t\treturn ( totalRowSpan * totalColSpan ) == dimension;\n\t\t}\n\t}\n\n\tfunction horizontalSplitCell( selection, isDetect ) {\n\t\tvar cells = getSelectedCells( selection );\n\t\tif ( cells.length > 1 )\n\t\t\treturn false;\n\t\telse if ( isDetect )\n\t\t\treturn true;\n\n\t\tvar cell = cells[ 0 ],\n\t\t\ttr = cell.getParent(),\n\t\t\ttable = tr.getAscendant( 'table' ),\n\t\t\tmap = CKEDITOR.tools.buildTableMap( table ),\n\t\t\trowIndex = tr.$.rowIndex,\n\t\t\tcolIndex = cellInRow( map, rowIndex, cell ),\n\t\t\trowSpan = cell.$.rowSpan,\n\t\t\tnewCell, newRowSpan, newCellRowSpan, newRowIndex;\n\n\t\tif ( rowSpan > 1 ) {\n\t\t\tnewRowSpan = Math.ceil( rowSpan / 2 );\n\t\t\tnewCellRowSpan = Math.floor( rowSpan / 2 );\n\t\t\tnewRowIndex = rowIndex + newRowSpan;\n\t\t\tvar newCellTr = new CKEDITOR.dom.element( table.$.rows[ newRowIndex ] ),\n\t\t\t\tnewCellRow = cellInRow( map, newRowIndex ),\n\t\t\t\tcandidateCell;\n\n\t\t\tnewCell = cell.clone();\n\n\t\t\t// Figure out where to insert the new cell by checking the vitual row.\n\t\t\tfor ( var c = 0; c < newCellRow.length; c++ ) {\n\t\t\t\tcandidateCell = newCellRow[ c ];\n\t\t\t\t// Catch first cell actually following the column.\n\t\t\t\tif ( candidateCell.parentNode == newCellTr.$ && c > colIndex ) {\n\t\t\t\t\tnewCell.insertBefore( new CKEDITOR.dom.element( candidateCell ) );\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcandidateCell = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The destination row is empty, append at will.\n\t\t\tif ( !candidateCell )\n\t\t\t\tnewCellTr.append( newCell );\n\t\t} else {\n\t\t\tnewCellRowSpan = newRowSpan = 1;\n\n\t\t\tnewCellTr = tr.clone();\n\t\t\tnewCellTr.insertAfter( tr );\n\t\t\tnewCellTr.append( newCell = cell.clone() );\n\n\t\t\tvar cellsInSameRow = cellInRow( map, rowIndex );\n\t\t\tfor ( var i = 0; i < cellsInSameRow.length; i++ )\n\t\t\t\tcellsInSameRow[ i ].rowSpan++;\n\t\t}\n\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.rowSpan = newRowSpan;\n\t\tnewCell.$.rowSpan = newCellRowSpan;\n\t\tif ( newRowSpan == 1 )\n\t\t\tcell.removeAttribute( 'rowSpan' );\n\t\tif ( newCellRowSpan == 1 )\n\t\t\tnewCell.removeAttribute( 'rowSpan' );\n\n\t\treturn newCell;\n\t}\n\n\tfunction verticalSplitCell( selection, isDetect ) {\n\t\tvar cells = getSelectedCells( selection );\n\t\tif ( cells.length > 1 )\n\t\t\treturn false;\n\t\telse if ( isDetect )\n\t\t\treturn true;\n\n\t\tvar cell = cells[ 0 ],\n\t\t\ttr = cell.getParent(),\n\t\t\ttable = tr.getAscendant( 'table' ),\n\t\t\tmap = CKEDITOR.tools.buildTableMap( table ),\n\t\t\trowIndex = tr.$.rowIndex,\n\t\t\tcolIndex = cellInRow( map, rowIndex, cell ),\n\t\t\tcolSpan = cell.$.colSpan,\n\t\t\tnewCell, newColSpan, newCellColSpan;\n\n\t\tif ( colSpan > 1 ) {\n\t\t\tnewColSpan = Math.ceil( colSpan / 2 );\n\t\t\tnewCellColSpan = Math.floor( colSpan / 2 );\n\t\t} else {\n\t\t\tnewCellColSpan = newColSpan = 1;\n\t\t\tvar cellsInSameCol = cellInCol( map, colIndex );\n\t\t\tfor ( var i = 0; i < cellsInSameCol.length; i++ )\n\t\t\t\tcellsInSameCol[ i ].colSpan++;\n\t\t}\n\t\tnewCell = cell.clone();\n\t\tnewCell.insertAfter( cell );\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.colSpan = newColSpan;\n\t\tnewCell.$.colSpan = newCellColSpan;\n\t\tif ( newColSpan == 1 )\n\t\t\tcell.removeAttribute( 'colSpan' );\n\t\tif ( newCellColSpan == 1 )\n\t\t\tnewCell.removeAttribute( 'colSpan' );\n\n\t\treturn newCell;\n\t}\n\n\tCKEDITOR.plugins.tabletools = {\n\t\trequires: 'table,dialog,contextmenu',\n\t\tinit: function( editor ) {\n\t\t\tvar lang = editor.lang.table;\n\n\t\t\tfunction createDef( def ) {\n\t\t\t\treturn CKEDITOR.tools.extend( def || {}, {\n\t\t\t\t\tcontextSensitive: 1,\n\t\t\t\t\trefresh: function( editor, path ) {\n\t\t\t\t\t\tthis.setState( path.contains( { td: 1, th: 1 }, 1 ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\tfunction addCmd( name, def ) {\n\t\t\t\tvar cmd = editor.addCommand( name, def );\n\t\t\t\teditor.addFeature( cmd );\n\t\t\t}\n\n\t\t\taddCmd( 'cellProperties', new CKEDITOR.dialogCommand( 'cellProperties', createDef( {\n\t\t\t\tallowedContent: 'td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]',\n\t\t\t\trequiredContent: 'table'\n\t\t\t} ) ) );\n\t\t\tCKEDITOR.dialog.add( 'cellProperties', this.path + 'dialogs/tableCell.js' );\n\n\t\t\taddCmd( 'rowDelete', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tplaceCursorInCell( deleteRows( selection ) );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'rowInsertBefore', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tinsertRow( selection, true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'rowInsertAfter', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tinsertRow( selection );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'columnDelete', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tvar element = deleteColumns( selection );\n\t\t\t\t\telement && placeCursorInCell( element, true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'columnInsertBefore', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tinsertColumn( selection, true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'columnInsertAfter', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tinsertColumn( selection );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellDelete', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tdeleteCells( selection );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellMerge', createDef( {\n\t\t\t\tallowedContent: 'td[colspan,rowspan]',\n\t\t\t\trequiredContent: 'td[colspan,rowspan]',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tplaceCursorInCell( mergeCells( editor.getSelection() ), true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellMergeRight', createDef( {\n\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tplaceCursorInCell( mergeCells( editor.getSelection(), 'right' ), true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellMergeDown', createDef( {\n\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tplaceCursorInCell( mergeCells( editor.getSelection(), 'down' ), true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellVerticalSplit', createDef( {\n\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tplaceCursorInCell( verticalSplitCell( editor.getSelection() ) );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellHorizontalSplit', createDef( {\n\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tplaceCursorInCell( horizontalSplitCell( editor.getSelection() ) );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellInsertBefore', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tinsertCell( selection, true );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\taddCmd( 'cellInsertAfter', createDef( {\n\t\t\t\trequiredContent: 'table',\n\t\t\t\texec: function( editor ) {\n\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\tinsertCell( selection );\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\t// If the \"menu\" plugin is loaded, register the menu items.\n\t\t\tif ( editor.addMenuItems ) {\n\t\t\t\teditor.addMenuItems( {\n\t\t\t\t\ttablecell: {\n\t\t\t\t\t\tlabel: lang.cell.menu,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\torder: 1,\n\t\t\t\t\t\tgetItems: function() {\n\t\t\t\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\t\t\t\tcells = getSelectedCells( selection );\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttablecell_insertBefore: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablecell_insertAfter: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablecell_delete: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablecell_merge: mergeCells( selection, null, true ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\t\t\t\t\ttablecell_merge_right: mergeCells( selection, 'right', true ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\t\t\t\t\ttablecell_merge_down: mergeCells( selection, 'down', true ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\t\t\t\t\ttablecell_split_vertical: verticalSplitCell( selection, true ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\t\t\t\t\ttablecell_split_horizontal: horizontalSplitCell( selection, true ) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\t\t\t\t\ttablecell_properties: cells.length > 0 ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_insertBefore: {\n\t\t\t\t\t\tlabel: lang.cell.insertBefore,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellInsertBefore',\n\t\t\t\t\t\torder: 5\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_insertAfter: {\n\t\t\t\t\t\tlabel: lang.cell.insertAfter,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellInsertAfter',\n\t\t\t\t\t\torder: 10\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_delete: {\n\t\t\t\t\t\tlabel: lang.cell.deleteCell,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellDelete',\n\t\t\t\t\t\torder: 15\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_merge: {\n\t\t\t\t\t\tlabel: lang.cell.merge,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellMerge',\n\t\t\t\t\t\torder: 16\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_merge_right: {\n\t\t\t\t\t\tlabel: lang.cell.mergeRight,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellMergeRight',\n\t\t\t\t\t\torder: 17\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_merge_down: {\n\t\t\t\t\t\tlabel: lang.cell.mergeDown,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellMergeDown',\n\t\t\t\t\t\torder: 18\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_split_horizontal: {\n\t\t\t\t\t\tlabel: lang.cell.splitHorizontal,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellHorizontalSplit',\n\t\t\t\t\t\torder: 19\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_split_vertical: {\n\t\t\t\t\t\tlabel: lang.cell.splitVertical,\n\t\t\t\t\t\tgroup: 'tablecell',\n\t\t\t\t\t\tcommand: 'cellVerticalSplit',\n\t\t\t\t\t\torder: 20\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecell_properties: {\n\t\t\t\t\t\tlabel: lang.cell.title,\n\t\t\t\t\t\tgroup: 'tablecellproperties',\n\t\t\t\t\t\tcommand: 'cellProperties',\n\t\t\t\t\t\torder: 21\n\t\t\t\t\t},\n\n\t\t\t\t\ttablerow: {\n\t\t\t\t\t\tlabel: lang.row.menu,\n\t\t\t\t\t\tgroup: 'tablerow',\n\t\t\t\t\t\torder: 1,\n\t\t\t\t\t\tgetItems: function() {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttablerow_insertBefore: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablerow_insertAfter: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablerow_delete: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\ttablerow_insertBefore: {\n\t\t\t\t\t\tlabel: lang.row.insertBefore,\n\t\t\t\t\t\tgroup: 'tablerow',\n\t\t\t\t\t\tcommand: 'rowInsertBefore',\n\t\t\t\t\t\torder: 5\n\t\t\t\t\t},\n\n\t\t\t\t\ttablerow_insertAfter: {\n\t\t\t\t\t\tlabel: lang.row.insertAfter,\n\t\t\t\t\t\tgroup: 'tablerow',\n\t\t\t\t\t\tcommand: 'rowInsertAfter',\n\t\t\t\t\t\torder: 10\n\t\t\t\t\t},\n\n\t\t\t\t\ttablerow_delete: {\n\t\t\t\t\t\tlabel: lang.row.deleteRow,\n\t\t\t\t\t\tgroup: 'tablerow',\n\t\t\t\t\t\tcommand: 'rowDelete',\n\t\t\t\t\t\torder: 15\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecolumn: {\n\t\t\t\t\t\tlabel: lang.column.menu,\n\t\t\t\t\t\tgroup: 'tablecolumn',\n\t\t\t\t\t\torder: 1,\n\t\t\t\t\t\tgetItems: function() {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttablecolumn_insertBefore: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablecolumn_insertAfter: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\t\ttablecolumn_delete: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecolumn_insertBefore: {\n\t\t\t\t\t\tlabel: lang.column.insertBefore,\n\t\t\t\t\t\tgroup: 'tablecolumn',\n\t\t\t\t\t\tcommand: 'columnInsertBefore',\n\t\t\t\t\t\torder: 5\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecolumn_insertAfter: {\n\t\t\t\t\t\tlabel: lang.column.insertAfter,\n\t\t\t\t\t\tgroup: 'tablecolumn',\n\t\t\t\t\t\tcommand: 'columnInsertAfter',\n\t\t\t\t\t\torder: 10\n\t\t\t\t\t},\n\n\t\t\t\t\ttablecolumn_delete: {\n\t\t\t\t\t\tlabel: lang.column.deleteColumn,\n\t\t\t\t\t\tgroup: 'tablecolumn',\n\t\t\t\t\t\tcommand: 'columnDelete',\n\t\t\t\t\t\torder: 15\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// If the \"contextmenu\" plugin is laoded, register the listeners.\n\t\t\tif ( editor.contextMenu ) {\n\t\t\t\teditor.contextMenu.addListener( function( element, selection, path ) {\n\t\t\t\t\tvar cell = path.contains( { 'td': 1, 'th': 1 }, 1 );\n\t\t\t\t\tif ( cell && !cell.isReadOnly() ) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttablecell: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\ttablerow: CKEDITOR.TRISTATE_OFF,\n\t\t\t\t\t\t\ttablecolumn: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\n\t\tgetSelectedCells: getSelectedCells\n\n\t};\n\tCKEDITOR.plugins.add( 'tabletools', CKEDITOR.plugins.tabletools );\n} )();\n\n/**\n * Create a two-dimension array that reflects the actual layout of table cells,\n * with cell spans, with mappings to the original td elements.\n *\n * @param {CKEDITOR.dom.element} table\n * @member CKEDITOR.tools\n */\nCKEDITOR.tools.buildTableMap = function( table ) {\n\tvar aRows = table.$.rows;\n\n\t// Row and Column counters.\n\tvar r = -1;\n\n\tvar aMap = [];\n\n\tfor ( var i = 0; i < aRows.length; i++ ) {\n\t\tr++;\n\t\t!aMap[ r ] && ( aMap[ r ] = [] );\n\n\t\tvar c = -1;\n\n\t\tfor ( var j = 0; j < aRows[ i ].cells.length; j++ ) {\n\t\t\tvar oCell = aRows[ i ].cells[ j ];\n\n\t\t\tc++;\n\t\t\twhile ( aMap[ r ][ c ] )\n\t\t\t\tc++;\n\n\t\t\tvar iColSpan = isNaN( oCell.colSpan ) ? 1 : oCell.colSpan;\n\t\t\tvar iRowSpan = isNaN( oCell.rowSpan ) ? 1 : oCell.rowSpan;\n\n\t\t\tfor ( var rs = 0; rs < iRowSpan; rs++ ) {\n\t\t\t\tif ( !aMap[ r + rs ] )\n\t\t\t\t\taMap[ r + rs ] = [];\n\n\t\t\t\tfor ( var cs = 0; cs < iColSpan; cs++ ) {\n\t\t\t\t\taMap[ r + rs ][ c + cs ] = aRows[ i ].cells[ j ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc += iColSpan - 1;\n\t\t}\n\t}\n\treturn aMap;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/tabletools/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'templates', {\n\t\trequires: 'dialog',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'templates,templates-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tCKEDITOR.dialog.add( 'templates', CKEDITOR.getUrl( this.path + 'dialogs/templates.js' ) );\n\n\t\t\teditor.addCommand( 'templates', new CKEDITOR.dialogCommand( 'templates' ) );\n\n\t\t\teditor.ui.addButton && editor.ui.addButton( 'Templates', {\n\t\t\t\tlabel: editor.lang.templates.button,\n\t\t\t\tcommand: 'templates',\n\t\t\t\ttoolbar: 'doctools,10'\n\t\t\t} );\n\t\t}\n\t} );\n\n\tvar templates = {},\n\t\tloadedTemplatesFiles = {};\n\n\tCKEDITOR.addTemplates = function( name, definition ) {\n\t\ttemplates[ name ] = definition;\n\t};\n\n\tCKEDITOR.getTemplates = function( name ) {\n\t\treturn templates[ name ];\n\t};\n\n\tCKEDITOR.loadTemplates = function( templateFiles, callback ) {\n\t\t// Holds the templates files to be loaded.\n\t\tvar toLoad = [];\n\n\t\t// Look for pending template files to get loaded.\n\t\tfor ( var i = 0, count = templateFiles.length; i < count; i++ ) {\n\t\t\tif ( !loadedTemplatesFiles[ templateFiles[ i ] ] ) {\n\t\t\t\ttoLoad.push( templateFiles[ i ] );\n\t\t\t\tloadedTemplatesFiles[ templateFiles[ i ] ] = 1;\n\t\t\t}\n\t\t}\n\n\t\tif ( toLoad.length )\n\t\t\tCKEDITOR.scriptLoader.load( toLoad, callback );\n\t\telse\n\t\t\tsetTimeout( callback, 0 );\n\t};\n} )();\n\n\n\n/**\n * The templates definition set to use. It accepts a list of names separated by\n * comma. It must match definitions loaded with the {@link #templates_files} setting.\n *\n *\t\tconfig.templates = 'my_templates';\n *\n * @cfg {String} [templates='default']\n * @member CKEDITOR.config\n */\n\n/**\n * The list of templates definition files to load.\n *\n *\t\tconfig.templates_files = [\n *\t\t\t'/editor_templates/site_default.js',\n *\t\t\t'http://www.example.com/user_templates.js\n *\t\t];\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.templates_files = [\n\tCKEDITOR.getUrl( 'plugins/templates/templates/default.js' )\n];\n\n/**\n * Whether the \"Replace actual contents\" checkbox is checked by default in the\n * Templates dialog.\n *\n *\t\tconfig.templates_replaceContent = false;\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.templates_replaceContent = true;\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/templates/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The \"toolbar\" plugin. Renders the default toolbar interface in\n * the editor.\n */\n\n( function() {\n\tvar toolbox = function() {\n\t\t\tthis.toolbars = [];\n\t\t\tthis.focusCommandExecuted = false;\n\t\t};\n\n\ttoolbox.prototype.focus = function() {\n\t\tfor ( var t = 0, toolbar; toolbar = this.toolbars[ t++ ]; ) {\n\t\t\tfor ( var i = 0, item; item = toolbar.items[ i++ ]; ) {\n\t\t\t\tif ( item.focus ) {\n\t\t\t\t\titem.focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar commands = {\n\t\ttoolbarFocus: {\n\t\t\tmodes: { wysiwyg: 1, source: 1 },\n\t\t\treadOnly: 1,\n\n\t\t\texec: function( editor ) {\n\t\t\t\tif ( editor.toolbox ) {\n\t\t\t\t\teditor.toolbox.focusCommandExecuted = true;\n\n\t\t\t\t\t// Make the first button focus accessible for IE. (#3417)\n\t\t\t\t\t// Adobe AIR instead need while of delay.\n\t\t\t\t\tif ( CKEDITOR.env.ie || CKEDITOR.env.air ) {\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\teditor.toolbox.focus();\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.toolbox.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tCKEDITOR.plugins.add( 'toolbar', {\n\t\trequires: 'button',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\n\t\tinit: function( editor ) {\n\t\t\tvar endFlag;\n\n\t\t\tvar itemKeystroke = function( item, keystroke ) {\n\t\t\t\t\tvar next, toolbar;\n\t\t\t\t\tvar rtl = editor.lang.dir == 'rtl',\n\t\t\t\t\t\ttoolbarGroupCycling = editor.config.toolbarGroupCycling,\n\t\t\t\t\t\t// Picking right/left key codes.\n\t\t\t\t\t\trightKeyCode = rtl ? 37 : 39,\n\t\t\t\t\t\tleftKeyCode = rtl ? 39 : 37;\n\n\t\t\t\t\ttoolbarGroupCycling = toolbarGroupCycling === undefined || toolbarGroupCycling;\n\n\t\t\t\t\tswitch ( keystroke ) {\n\t\t\t\t\t\tcase 9: // TAB\n\t\t\t\t\t\tcase CKEDITOR.SHIFT + 9: // SHIFT + TAB\n\t\t\t\t\t\t\t// Cycle through the toolbars, starting from the one\n\t\t\t\t\t\t\t// closest to the current item.\n\t\t\t\t\t\t\twhile ( !toolbar || !toolbar.items.length ) {\n\t\t\t\t\t\t\t\tif ( keystroke == 9 ) {\n\t\t\t\t\t\t\t\t\ttoolbar = ( ( toolbar ? toolbar.next : item.toolbar.next ) || editor.toolbox.toolbars[ 0 ] );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttoolbar = ( ( toolbar ? toolbar.previous : item.toolbar.previous ) || editor.toolbox.toolbars[ editor.toolbox.toolbars.length - 1 ] );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Look for the first item that accepts focus.\n\t\t\t\t\t\t\t\tif ( toolbar.items.length ) {\n\t\t\t\t\t\t\t\t\titem = toolbar.items[ endFlag ? ( toolbar.items.length - 1 ) : 0 ];\n\t\t\t\t\t\t\t\t\twhile ( item && !item.focus ) {\n\t\t\t\t\t\t\t\t\t\titem = endFlag ? item.previous : item.next;\n\n\t\t\t\t\t\t\t\t\t\tif ( !item )\n\t\t\t\t\t\t\t\t\t\t\ttoolbar = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( item )\n\t\t\t\t\t\t\t\titem.focus();\n\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\tcase rightKeyCode:\n\t\t\t\t\t\t\tnext = item;\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t// Look for the next item in the toolbar.\n\t\t\t\t\t\t\t\tnext = next.next;\n\n\t\t\t\t\t\t\t\t// If it's the last item, cycle to the first one.\n\t\t\t\t\t\t\t\tif ( !next && toolbarGroupCycling ) next = item.toolbar.items[ 0 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( next && !next.focus );\n\n\t\t\t\t\t\t\t// If available, just focus it, otherwise focus the\n\t\t\t\t\t\t\t// first one.\n\t\t\t\t\t\t\tif ( next )\n\t\t\t\t\t\t\t\tnext.focus();\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t// Send a TAB.\n\t\t\t\t\t\t\t\titemKeystroke( item, 9 );\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tcase 40: // DOWN-ARROW\n\t\t\t\t\t\t\tif ( item.button && item.button.hasArrow ) {\n\t\t\t\t\t\t\t\t// Note: code is duplicated in plugins\\richcombo\\plugin.js in keyDownFn().\n\t\t\t\t\t\t\t\teditor.once( 'panelShow', function( evt ) {\n\t\t\t\t\t\t\t\t\tevt.data._.panel._.currentBlock.onKeyDown( 40 );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\titem.execute();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Send left arrow key.\n\t\t\t\t\t\t\t\titemKeystroke( item, keystroke == 40 ? rightKeyCode : leftKeyCode );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\tcase leftKeyCode:\n\t\t\t\t\t\tcase 38: // UP-ARROW\n\t\t\t\t\t\t\tnext = item;\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t// Look for the previous item in the toolbar.\n\t\t\t\t\t\t\t\tnext = next.previous;\n\n\t\t\t\t\t\t\t\t// If it's the first item, cycle to the last one.\n\t\t\t\t\t\t\t\tif ( !next && toolbarGroupCycling ) next = item.toolbar.items[ item.toolbar.items.length - 1 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile ( next && !next.focus );\n\n\t\t\t\t\t\t\t// If available, just focus it, otherwise focus the\n\t\t\t\t\t\t\t// last one.\n\t\t\t\t\t\t\tif ( next )\n\t\t\t\t\t\t\t\tnext.focus();\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tendFlag = 1;\n\t\t\t\t\t\t\t\t// Send a SHIFT + TAB.\n\t\t\t\t\t\t\t\titemKeystroke( item, CKEDITOR.SHIFT + 9 );\n\t\t\t\t\t\t\t\tendFlag = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\tcase 27: // ESC\n\t\t\t\t\t\t\teditor.focus();\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\tcase 13: // ENTER\n\t\t\t\t\t\tcase 32: // SPACE\n\t\t\t\t\t\t\titem.execute();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\n\t\t\teditor.on( 'uiSpace', function( event ) {\n\t\t\t\tif ( event.data.space != editor.config.toolbarLocation )\n\t\t\t\t\treturn;\n\n\t\t\t\t// Create toolbar only once.\n\t\t\t\tevent.removeListener();\n\n\t\t\t\teditor.toolbox = new toolbox();\n\n\t\t\t\tvar labelId = CKEDITOR.tools.getNextId();\n\n\t\t\t\tvar output = [\n\t\t\t\t\t'<span id=\"', labelId, '\" class=\"cke_voice_label\">', editor.lang.toolbar.toolbars, '</span>',\n\t\t\t\t\t'<span id=\"' + editor.ui.spaceId( 'toolbox' ) + '\" class=\"cke_toolbox\" role=\"group\" aria-labelledby=\"', labelId, '\" onmousedown=\"return false;\">'\n\t\t\t\t];\n\n\t\t\t\tvar expanded = editor.config.toolbarStartupExpanded !== false,\n\t\t\t\t\tgroupStarted, pendingSeparator;\n\n\t\t\t\t// If the toolbar collapser will be available, we'll have\n\t\t\t\t// an additional container for all toolbars.\n\t\t\t\tif ( editor.config.toolbarCanCollapse && editor.elementMode != CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\t\t\toutput.push( '<span class=\"cke_toolbox_main\"' + ( expanded ? '>' : ' style=\"display:none\">' ) );\n\n\t\t\t\tvar toolbars = editor.toolbox.toolbars,\n\t\t\t\t\ttoolbar = getToolbarConfig( editor );\n\n\t\t\t\tfor ( var r = 0; r < toolbar.length; r++ ) {\n\t\t\t\t\tvar toolbarId,\n\t\t\t\t\t\ttoolbarObj = 0,\n\t\t\t\t\t\ttoolbarName,\n\t\t\t\t\t\trow = toolbar[ r ],\n\t\t\t\t\t\titems;\n\n\t\t\t\t\t// It's better to check if the row object is really\n\t\t\t\t\t// available because it's a common mistake to leave\n\t\t\t\t\t// an extra comma in the toolbar definition\n\t\t\t\t\t// settings, which leads on the editor not loading\n\t\t\t\t\t// at all in IE. (#3983)\n\t\t\t\t\tif ( !row )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tif ( groupStarted ) {\n\t\t\t\t\t\toutput.push( '</span>' );\n\t\t\t\t\t\tgroupStarted = 0;\n\t\t\t\t\t\tpendingSeparator = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( row === '/' ) {\n\t\t\t\t\t\toutput.push( '<span class=\"cke_toolbar_break\"></span>' );\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\titems = row.items || row;\n\n\t\t\t\t\t// Create all items defined for this toolbar.\n\t\t\t\t\tfor ( var i = 0; i < items.length; i++ ) {\n\t\t\t\t\t\tvar item = items[ i ],\n\t\t\t\t\t\t\tcanGroup;\n\n\t\t\t\t\t\tif ( item ) {\n\t\t\t\t\t\t\tif ( item.type == CKEDITOR.UI_SEPARATOR ) {\n\t\t\t\t\t\t\t\t// Do not add the separator immediately. Just save\n\t\t\t\t\t\t\t\t// it be included if we already have something in\n\t\t\t\t\t\t\t\t// the toolbar and if a new item is to be added (later).\n\t\t\t\t\t\t\t\tpendingSeparator = groupStarted && item;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcanGroup = item.canGroup !== false;\n\n\t\t\t\t\t\t\t// Initialize the toolbar first, if needed.\n\t\t\t\t\t\t\tif ( !toolbarObj ) {\n\t\t\t\t\t\t\t\t// Create the basic toolbar object.\n\t\t\t\t\t\t\t\ttoolbarId = CKEDITOR.tools.getNextId();\n\t\t\t\t\t\t\t\ttoolbarObj = { id: toolbarId, items: [] };\n\t\t\t\t\t\t\t\ttoolbarName = row.name && ( editor.lang.toolbar.toolbarGroups[ row.name ] || row.name );\n\n\t\t\t\t\t\t\t\t// Output the toolbar opener.\n\t\t\t\t\t\t\t\toutput.push( '<span id=\"', toolbarId, '\" class=\"cke_toolbar\"', ( toolbarName ? ' aria-labelledby=\"' + toolbarId + '_label\"' : '' ), ' role=\"toolbar\">' );\n\n\t\t\t\t\t\t\t\t// If a toolbar name is available, send the voice label.\n\t\t\t\t\t\t\t\ttoolbarName && output.push( '<span id=\"', toolbarId, '_label\" class=\"cke_voice_label\">', toolbarName, '</span>' );\n\n\t\t\t\t\t\t\t\toutput.push( '<span class=\"cke_toolbar_start\"></span>' );\n\n\t\t\t\t\t\t\t\t// Add the toolbar to the \"editor.toolbox.toolbars\"\n\t\t\t\t\t\t\t\t// array.\n\t\t\t\t\t\t\t\tvar index = toolbars.push( toolbarObj ) - 1;\n\n\t\t\t\t\t\t\t\t// Create the next/previous reference.\n\t\t\t\t\t\t\t\tif ( index > 0 ) {\n\t\t\t\t\t\t\t\t\ttoolbarObj.previous = toolbars[ index - 1 ];\n\t\t\t\t\t\t\t\t\ttoolbarObj.previous.next = toolbarObj;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( canGroup ) {\n\t\t\t\t\t\t\t\tif ( !groupStarted ) {\n\t\t\t\t\t\t\t\t\toutput.push( '<span class=\"cke_toolgroup\" role=\"presentation\">' );\n\t\t\t\t\t\t\t\t\tgroupStarted = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( groupStarted ) {\n\t\t\t\t\t\t\t\toutput.push( '</span>' );\n\t\t\t\t\t\t\t\tgroupStarted = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfunction addItem( item ) { // jshint ignore:line\n\t\t\t\t\t\t\t\tvar itemObj = item.render( editor, output );\n\t\t\t\t\t\t\t\tindex = toolbarObj.items.push( itemObj ) - 1;\n\n\t\t\t\t\t\t\t\tif ( index > 0 ) {\n\t\t\t\t\t\t\t\t\titemObj.previous = toolbarObj.items[ index - 1 ];\n\t\t\t\t\t\t\t\t\titemObj.previous.next = itemObj;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\titemObj.toolbar = toolbarObj;\n\t\t\t\t\t\t\t\titemObj.onkey = itemKeystroke;\n\n\t\t\t\t\t\t\t\t// Fix for #3052:\n\t\t\t\t\t\t\t\t// Prevent JAWS from focusing the toolbar after document load.\n\t\t\t\t\t\t\t\titemObj.onfocus = function() {\n\t\t\t\t\t\t\t\t\tif ( !editor.toolbox.focusCommandExecuted )\n\t\t\t\t\t\t\t\t\t\teditor.focus();\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( pendingSeparator ) {\n\t\t\t\t\t\t\t\taddItem( pendingSeparator );\n\t\t\t\t\t\t\t\tpendingSeparator = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\taddItem( item );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( groupStarted ) {\n\t\t\t\t\t\toutput.push( '</span>' );\n\t\t\t\t\t\tgroupStarted = 0;\n\t\t\t\t\t\tpendingSeparator = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( toolbarObj )\n\t\t\t\t\t\toutput.push( '<span class=\"cke_toolbar_end\"></span></span>' );\n\t\t\t\t}\n\n\t\t\t\tif ( editor.config.toolbarCanCollapse )\n\t\t\t\t\toutput.push( '</span>' );\n\n\t\t\t\t// Not toolbar collapser for inline mode.\n\t\t\t\tif ( editor.config.toolbarCanCollapse && editor.elementMode != CKEDITOR.ELEMENT_MODE_INLINE ) {\n\t\t\t\t\tvar collapserFn = CKEDITOR.tools.addFunction( function() {\n\t\t\t\t\t\teditor.execCommand( 'toolbarCollapse' );\n\t\t\t\t\t} );\n\n\t\t\t\t\teditor.on( 'destroy', function() {\n\t\t\t\t\t\tCKEDITOR.tools.removeFunction( collapserFn );\n\t\t\t\t\t} );\n\n\t\t\t\t\teditor.addCommand( 'toolbarCollapse', {\n\t\t\t\t\t\treadOnly: 1,\n\t\t\t\t\t\texec: function( editor ) {\n\t\t\t\t\t\t\tvar collapser = editor.ui.space( 'toolbar_collapser' ),\n\t\t\t\t\t\t\t\ttoolbox = collapser.getPrevious(),\n\t\t\t\t\t\t\t\tcontents = editor.ui.space( 'contents' ),\n\t\t\t\t\t\t\t\ttoolboxContainer = toolbox.getParent(),\n\t\t\t\t\t\t\t\tcontentHeight = parseInt( contents.$.style.height, 10 ),\n\t\t\t\t\t\t\t\tpreviousHeight = toolboxContainer.$.offsetHeight,\n\t\t\t\t\t\t\t\tminClass = 'cke_toolbox_collapser_min',\n\t\t\t\t\t\t\t\tcollapsed = collapser.hasClass( minClass );\n\n\t\t\t\t\t\t\tif ( !collapsed ) {\n\t\t\t\t\t\t\t\ttoolbox.hide();\n\t\t\t\t\t\t\t\tcollapser.addClass( minClass );\n\t\t\t\t\t\t\t\tcollapser.setAttribute( 'title', editor.lang.toolbar.toolbarExpand );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttoolbox.show();\n\t\t\t\t\t\t\t\tcollapser.removeClass( minClass );\n\t\t\t\t\t\t\t\tcollapser.setAttribute( 'title', editor.lang.toolbar.toolbarCollapse );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Update collapser symbol.\n\t\t\t\t\t\t\tcollapser.getFirst().setText( collapsed ? '\\u25B2' : // BLACK UP-POINTING TRIANGLE\n\t\t\t\t\t\t\t'\\u25C0' ); // BLACK LEFT-POINTING TRIANGLE\n\n\t\t\t\t\t\t\tvar dy = toolboxContainer.$.offsetHeight - previousHeight;\n\t\t\t\t\t\t\tcontents.setStyle( 'height', ( contentHeight - dy ) + 'px' );\n\n\t\t\t\t\t\t\teditor.fire( 'resize', {\n\t\t\t\t\t\t\t\touterHeight: editor.container.$.offsetHeight,\n\t\t\t\t\t\t\t\tcontentsHeight: contents.$.offsetHeight,\n\t\t\t\t\t\t\t\touterWidth: editor.container.$.offsetWidth\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tmodes: { wysiwyg: 1, source: 1 }\n\t\t\t\t\t} );\n\n\t\t\t\t\teditor.setKeystroke( CKEDITOR.ALT + ( CKEDITOR.env.ie || CKEDITOR.env.webkit ? 189 : 109 ) /*-*/, 'toolbarCollapse' );\n\n\t\t\t\t\toutput.push( '<a title=\"' + ( expanded ? editor.lang.toolbar.toolbarCollapse : editor.lang.toolbar.toolbarExpand ) +\n\t\t\t\t\t\t'\" id=\"' + editor.ui.spaceId( 'toolbar_collapser' ) +\n\t\t\t\t\t\t'\" tabIndex=\"-1\" class=\"cke_toolbox_collapser' );\n\n\t\t\t\t\tif ( !expanded )\n\t\t\t\t\t\toutput.push( ' cke_toolbox_collapser_min' );\n\n\t\t\t\t\toutput.push( '\" onclick=\"CKEDITOR.tools.callFunction(' + collapserFn + ')\">', '<span class=\"cke_arrow\">&#9650;</span>', // BLACK UP-POINTING TRIANGLE\n\t\t\t\t\t\t'</a>' );\n\t\t\t\t}\n\n\t\t\t\toutput.push( '</span>' );\n\t\t\t\tevent.data.html += output.join( '' );\n\t\t\t} );\n\n\t\t\teditor.on( 'destroy', function() {\n\t\t\t\tif ( this.toolbox ) {\n\t\t\t\t\tvar toolbars,\n\t\t\t\t\t\tindex = 0,\n\t\t\t\t\t\ti, items, instance;\n\t\t\t\t\ttoolbars = this.toolbox.toolbars;\n\t\t\t\t\tfor ( ; index < toolbars.length; index++ ) {\n\t\t\t\t\t\titems = toolbars[ index ].items;\n\t\t\t\t\t\tfor ( i = 0; i < items.length; i++ ) {\n\t\t\t\t\t\t\tinstance = items[ i ];\n\t\t\t\t\t\t\tif ( instance.clickFn )\n\t\t\t\t\t\t\t\tCKEDITOR.tools.removeFunction( instance.clickFn );\n\t\t\t\t\t\t\tif ( instance.keyDownFn )\n\t\t\t\t\t\t\t\tCKEDITOR.tools.removeFunction( instance.keyDownFn );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Manage editor focus  when navigating the toolbar.\n\t\t\teditor.on( 'uiReady', function() {\n\t\t\t\tvar toolbox = editor.ui.space( 'toolbox' );\n\t\t\t\ttoolbox && editor.focusManager.add( toolbox, 1 );\n\t\t\t} );\n\n\t\t\teditor.addCommand( 'toolbarFocus', commands.toolbarFocus );\n\t\t\teditor.setKeystroke( CKEDITOR.ALT + 121 /*F10*/, 'toolbarFocus' );\n\n\t\t\teditor.ui.add( '-', CKEDITOR.UI_SEPARATOR, {} );\n\t\t\teditor.ui.addHandler( CKEDITOR.UI_SEPARATOR, {\n\t\t\t\tcreate: function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\trender: function( editor, output ) {\n\t\t\t\t\t\t\toutput.push( '<span class=\"cke_toolbar_separator\" role=\"separator\"></span>' );\n\t\t\t\t\t\t\treturn {};\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n\n\tfunction getToolbarConfig( editor ) {\n\t\tvar removeButtons = editor.config.removeButtons;\n\n\t\tremoveButtons = removeButtons && removeButtons.split( ',' );\n\n\t\tfunction buildToolbarConfig() {\n\n\t\t\t// Object containing all toolbar groups used by ui items.\n\t\t\tvar lookup = getItemDefinedGroups();\n\n\t\t\t// Take the base for the new toolbar, which is basically a toolbar\n\t\t\t// definition without items.\n\t\t\tvar toolbar = CKEDITOR.tools.clone( editor.config.toolbarGroups ) || getPrivateToolbarGroups( editor );\n\n\t\t\t// Fill the toolbar groups with the available ui items.\n\t\t\tfor ( var i = 0; i < toolbar.length; i++ ) {\n\t\t\t\tvar toolbarGroup = toolbar[ i ];\n\n\t\t\t\t// Skip toolbar break.\n\t\t\t\tif ( toolbarGroup == '/' )\n\t\t\t\t\tcontinue;\n\t\t\t\t// Handle simply group name item.\n\t\t\t\telse if ( typeof toolbarGroup == 'string' )\n\t\t\t\t\ttoolbarGroup = toolbar[ i ] = { name: toolbarGroup };\n\n\t\t\t\tvar items, subGroups = toolbarGroup.groups;\n\n\t\t\t\t// Look for items that match sub groups.\n\t\t\t\tif ( subGroups ) {\n\t\t\t\t\tfor ( var j = 0, sub; j < subGroups.length; j++ ) {\n\t\t\t\t\t\tsub = subGroups[ j ];\n\n\t\t\t\t\t\t// If any ui item is registered for this subgroup.\n\t\t\t\t\t\titems = lookup[ sub ];\n\t\t\t\t\t\titems && fillGroup( toolbarGroup, items );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Add the main group items as well.\n\t\t\t\titems = lookup[ toolbarGroup.name ];\n\t\t\t\titems && fillGroup( toolbarGroup, items );\n\t\t\t}\n\n\t\t\treturn toolbar;\n\t\t}\n\n\t\t// Returns an object containing all toolbar groups used by ui items.\n\t\tfunction getItemDefinedGroups() {\n\t\t\tvar groups = {},\n\t\t\t\titemName, item, itemToolbar, group, order;\n\n\t\t\tfor ( itemName in editor.ui.items ) {\n\t\t\t\titem = editor.ui.items[ itemName ];\n\t\t\t\titemToolbar = item.toolbar || 'others';\n\t\t\t\tif ( itemToolbar ) {\n\t\t\t\t\t// Break the toolbar property into its parts: \"group_name[,order]\".\n\t\t\t\t\titemToolbar = itemToolbar.split( ',' );\n\t\t\t\t\tgroup = itemToolbar[ 0 ];\n\t\t\t\t\torder = parseInt( itemToolbar[ 1 ] || -1, 10 );\n\n\t\t\t\t\t// Initialize the group, if necessary.\n\t\t\t\t\tgroups[ group ] || ( groups[ group ] = [] );\n\n\t\t\t\t\t// Push the data used to build the toolbar later.\n\t\t\t\t\tgroups[ group ].push( { name: itemName, order: order } );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Put the items in the right order.\n\t\t\tfor ( group in groups ) {\n\t\t\t\tgroups[ group ] = groups[ group ].sort( function( a, b ) {\n\t\t\t\t\treturn a.order == b.order ? 0 :\n\t\t\t\t\t\tb.order < 0 ? -1 :\n\t\t\t\t\t\ta.order < 0 ? 1 :\n\t\t\t\t\t\ta.order < b.order ? -1 :\n\t\t\t\t\t\t1;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn groups;\n\t\t}\n\n\t\tfunction fillGroup( toolbarGroup, uiItems ) {\n\t\t\tif ( uiItems.length ) {\n\t\t\t\tif ( toolbarGroup.items )\n\t\t\t\t\ttoolbarGroup.items.push( editor.ui.create( '-' ) );\n\t\t\t\telse\n\t\t\t\t\ttoolbarGroup.items = [];\n\n\t\t\t\tvar item, name;\n\t\t\t\twhile ( ( item = uiItems.shift() ) ) {\n\t\t\t\t\tname = typeof item == 'string' ? item : item.name;\n\n\t\t\t\t\t// Ignore items that are configured to be removed.\n\t\t\t\t\tif ( !removeButtons || CKEDITOR.tools.indexOf( removeButtons, name ) == -1 ) {\n\t\t\t\t\t\titem = editor.ui.create( name );\n\n\t\t\t\t\t\tif ( !item )\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\tif ( !editor.addFeature( item ) )\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\ttoolbarGroup.items.push( item );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction populateToolbarConfig( config ) {\n\t\t\tvar toolbar = [],\n\t\t\t\ti, group, newGroup;\n\n\t\t\tfor ( i = 0; i < config.length; ++i ) {\n\t\t\t\tgroup = config[ i ];\n\t\t\t\tnewGroup = {};\n\n\t\t\t\tif ( group == '/' )\n\t\t\t\t\ttoolbar.push( group );\n\t\t\t\telse if ( CKEDITOR.tools.isArray( group ) ) {\n\t\t\t\t\tfillGroup( newGroup, CKEDITOR.tools.clone( group ) );\n\t\t\t\t\ttoolbar.push( newGroup );\n\t\t\t\t}\n\t\t\t\telse if ( group.items ) {\n\t\t\t\t\tfillGroup( newGroup, CKEDITOR.tools.clone( group.items ) );\n\t\t\t\t\tnewGroup.name = group.name;\n\t\t\t\t\ttoolbar.push( newGroup );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn toolbar;\n\t\t}\n\n\t\tvar toolbar = editor.config.toolbar;\n\n\t\t// If it is a string, return the relative \"toolbar_name\" config.\n\t\tif ( typeof toolbar == 'string' )\n\t\t\ttoolbar = editor.config[ 'toolbar_' + toolbar ];\n\n\t\treturn ( editor.toolbar = toolbar ? populateToolbarConfig( toolbar ) : buildToolbarConfig() );\n\t}\n\n\t/**\n\t * Adds a toolbar group. See {@link CKEDITOR.config#toolbarGroups} for more details.\n\t *\n\t * **Note:** This method will not modify toolbar groups set explicitly by\n\t * {@link CKEDITOR.config#toolbarGroups}. It will only extend the default setting.\n\t *\n\t * @param {String} name Toolbar group name.\n\t * @param {Number/String} previous The name of the toolbar group after which this one\n\t * should be added or `0` if this group should be the first one.\n\t * @param {String} [subgroupOf] The name of the parent group.\n\t * @member CKEDITOR.ui\n\t */\n\tCKEDITOR.ui.prototype.addToolbarGroup = function( name, previous, subgroupOf ) {\n\t\t// The toolbarGroups from the privates is the one we gonna use for automatic toolbar creation.\n\t\tvar toolbarGroups = getPrivateToolbarGroups( this.editor ),\n\t\t\tatStart = previous === 0,\n\t\t\tnewGroup = { name: name };\n\n\t\tif ( subgroupOf ) {\n\t\t\t// Transform the subgroupOf name in the real subgroup object.\n\t\t\tsubgroupOf = CKEDITOR.tools.search( toolbarGroups, function( group ) {\n\t\t\t\treturn group.name == subgroupOf;\n\t\t\t} );\n\n\t\t\tif ( subgroupOf ) {\n\t\t\t\t!subgroupOf.groups && ( subgroupOf.groups = [] ) ;\n\n\t\t\t\tif ( previous ) {\n\t\t\t\t\t// Search the \"previous\" item and add the new one after it.\n\t\t\t\t\tprevious = CKEDITOR.tools.indexOf( subgroupOf.groups, previous );\n\t\t\t\t\tif ( previous >= 0 ) {\n\t\t\t\t\t\tsubgroupOf.groups.splice( previous + 1, 0, name );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If no previous found.\n\n\t\t\t\tif ( atStart )\n\t\t\t\t\tsubgroupOf.groups.splice( 0, 0, name );\n\t\t\t\telse\n\t\t\t\t\tsubgroupOf.groups.push(  name );\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\t// Ignore \"previous\" if subgroupOf has not been found.\n\t\t\t\tprevious = null;\n\t\t\t}\n\t\t}\n\n\t\tif ( previous ) {\n\t\t\t// Transform the \"previous\" name into its index.\n\t\t\tprevious = CKEDITOR.tools.indexOf( toolbarGroups, function( group ) {\n\t\t\t\treturn group.name == previous;\n\t\t\t} );\n\t\t}\n\n\t\tif ( atStart )\n\t\t\ttoolbarGroups.splice( 0, 0, name );\n\t\telse if ( typeof previous == 'number' )\n\t\t\ttoolbarGroups.splice( previous + 1, 0, newGroup );\n\t\telse\n\t\t\ttoolbarGroups.push( name );\n\t};\n\n\tfunction getPrivateToolbarGroups( editor ) {\n\t\treturn editor._.toolbarGroups || ( editor._.toolbarGroups = [\n\t\t\t{ name: 'document',    groups: [ 'mode', 'document', 'doctools' ] },\n\t\t\t{ name: 'clipboard',   groups: [ 'clipboard', 'undo' ] },\n\t\t\t{ name: 'editing',     groups: [ 'find', 'selection', 'spellchecker' ] },\n\t\t\t{ name: 'forms' },\n\t\t\t'/',\n\t\t\t{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },\n\t\t\t{ name: 'paragraph',   groups: [ 'list', 'indent', 'blocks', 'align', 'bidi' ] },\n\t\t\t{ name: 'links' },\n\t\t\t{ name: 'insert' },\n\t\t\t'/',\n\t\t\t{ name: 'styles' },\n\t\t\t{ name: 'colors' },\n\t\t\t{ name: 'tools' },\n\t\t\t{ name: 'others' },\n\t\t\t{ name: 'about' }\n\t\t] );\n\t}\n} )();\n\n/**\n * Separator UI element.\n *\n * @readonly\n * @property {String} [='separator']\n * @member CKEDITOR\n */\nCKEDITOR.UI_SEPARATOR = 'separator';\n\n/**\n * The part of the user interface where the toolbar will be rendered. For the default\n * editor implementation, the recommended options are `'top'` and `'bottom'`.\n *\n * Please note that this option is only applicable to [classic](#!/guide/dev_framed)\n * (`iframe`-based) editor. In case of [inline](#!/guide/dev_inline) editor the toolbar\n * position is set dynamically depending on the position of the editable element on the screen.\n *\n * Read more in the [documentation](#!/guide/dev_toolbarlocation)\n * and see the [SDK sample](http://sdk.ckeditor.com/samples/toolbarlocation.html).\n *\n *\t\tconfig.toolbarLocation = 'bottom';\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.toolbarLocation = 'top';\n\n/**\n * The toolbox (alias toolbar) definition. It is a toolbar name or an array of\n * toolbars (strips), each one being also an array, containing a list of UI items.\n *\n * If set to `null`, the toolbar will be generated automatically using all available buttons\n * and {@link #toolbarGroups} as a toolbar groups layout.\n *\n * In CKEditor 4.5+ you can generate your toolbar customization code by using the [visual\n * toolbar configurator](http://docs.ckeditor.com/#!/guide/dev_toolbar).\n *\n *\t\t// Defines a toolbar with only one strip containing the \"Source\" button, a\n *\t\t// separator, and the \"Bold\" and \"Italic\" buttons.\n *\t\tconfig.toolbar = [\n *\t\t\t[ 'Source', '-', 'Bold', 'Italic' ]\n *\t\t];\n *\n *\t\t// Similar to the example above, defines a \"Basic\" toolbar with only one strip containing three buttons.\n *\t\t// Note that this setting is composed by \"toolbar_\" added to the toolbar name, which in this case is called \"Basic\".\n *\t\t// This second part of the setting name can be anything. You must use this name in the CKEDITOR.config.toolbar setting\n *\t\t// in order to instruct the editor which `toolbar_(name)` setting should be used.\n *\t\tconfig.toolbar_Basic = [\n *\t\t\t[ 'Source', '-', 'Bold', 'Italic' ]\n *\t\t];\n *\t\t// Load toolbar_Name where Name = Basic.\n *\t\tconfig.toolbar = 'Basic';\n *\n * @cfg {Array/String} [toolbar=null]\n * @member CKEDITOR.config\n */\n\n/**\n * The toolbar groups definition.\n *\n * If the toolbar layout is not explicitly defined by the {@link #toolbar} setting, then\n * this setting is used to group all defined buttons (see {@link CKEDITOR.ui#addButton}).\n * Buttons are associated with toolbar groups by the `toolbar` property in their definition objects.\n *\n * New groups may be dynamically added during the editor and plugin initialization by\n * {@link CKEDITOR.ui#addToolbarGroup}. This is only possible if the default setting was used.\n *\n *\t\t// Default setting.\n *\t\tconfig.toolbarGroups = [\n *\t\t\t{ name: 'document',\t   groups: [ 'mode', 'document', 'doctools' ] },\n *\t\t\t{ name: 'clipboard',   groups: [ 'clipboard', 'undo' ] },\n *\t\t\t{ name: 'editing',     groups: [ 'find', 'selection', 'spellchecker' ] },\n *\t\t\t{ name: 'forms' },\n *\t\t\t'/',\n *\t\t\t{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },\n *\t\t\t{ name: 'paragraph',   groups: [ 'list', 'indent', 'blocks', 'align', 'bidi' ] },\n *\t\t\t{ name: 'links' },\n *\t\t\t{ name: 'insert' },\n *\t\t\t'/',\n *\t\t\t{ name: 'styles' },\n *\t\t\t{ name: 'colors' },\n *\t\t\t{ name: 'tools' },\n *\t\t\t{ name: 'others' },\n *\t\t\t{ name: 'about' }\n *\t\t];\n *\n * @cfg {Array} [toolbarGroups=see example]\n * @member CKEDITOR.config\n */\n\n/**\n * Whether the toolbar can be collapsed by the user. If disabled, the Collapse Toolbar\n * button will not be displayed.\n *\n *\t\tconfig.toolbarCanCollapse = true;\n *\n * @cfg {Boolean} [toolbarCanCollapse=false]\n * @member CKEDITOR.config\n */\n\n/**\n * Whether the toolbar must start expanded when the editor is loaded.\n *\n * Setting this option to `false` will affect the toolbar only when\n * {@link #toolbarCanCollapse} is set to `true`:\n *\n *\t\tconfig.toolbarCanCollapse = true;\n *\t\tconfig.toolbarStartupExpanded = false;\n *\n * @cfg {Boolean} [toolbarStartupExpanded=true]\n * @member CKEDITOR.config\n */\n\n/**\n * When enabled, causes the *Arrow* keys navigation to cycle within the current\n * toolbar group. Otherwise the *Arrow* keys will move through all items available in\n * the toolbar. The *Tab* key will still be used to quickly jump among the\n * toolbar groups.\n *\n *\t\tconfig.toolbarGroupCycling = false;\n *\n * @since 3.6\n * @cfg {Boolean} [toolbarGroupCycling=true]\n * @member CKEDITOR.config\n */\n\n/**\n * List of toolbar button names that must not be rendered. This will also work\n * for non-button toolbar items, like the Font drop-down list.\n *\n *\t\tconfig.removeButtons = 'Underline,JustifyCenter';\n *\n * This configuration option should not be overused. The recommended way is to use the\n * {@link CKEDITOR.config#removePlugins} setting to remove features from the editor\n * or even better, [create a custom editor build](http://ckeditor.com/builder) with\n * just the features that you will use.\n * In some cases though, a single plugin may define a set of toolbar buttons and\n * `removeButtons` may be useful when just a few of them are to be removed.\n *\n * @cfg {String} [removeButtons]\n * @member CKEDITOR.config\n */\n\n/**\n * The toolbar definition used by the editor. It is created from the\n * {@link CKEDITOR.config#toolbar} option if it is set or automatically\n * based on {@link CKEDITOR.config#toolbarGroups}.\n *\n * @readonly\n * @property {Object} toolbar\n * @member CKEDITOR.editor\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/toolbar/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Undo/Redo system for saving a shapshot for document modification\n *\t\tand other recordable changes.\n */\n\n'use strict';\n\n( function() {\n\tvar keystrokes = [\n\t\t\tCKEDITOR.CTRL + 90 /*Z*/,\n\t\t\tCKEDITOR.CTRL + 89 /*Y*/,\n\t\t\tCKEDITOR.CTRL + CKEDITOR.SHIFT + 90 /*Z*/\n\t\t],\n\t\tbackspaceOrDelete = { 8: 1, 46: 1 };\n\n\tCKEDITOR.plugins.add( 'undo', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'redo,redo-rtl,undo,undo-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\t\tinit: function( editor ) {\n\t\t\tvar undoManager = editor.undoManager = new UndoManager( editor ),\n\t\t\t\teditingHandler = undoManager.editingHandler = new NativeEditingHandler( undoManager );\n\n\t\t\tvar undoCommand = editor.addCommand( 'undo', {\n\t\t\t\texec: function() {\n\t\t\t\t\tif ( undoManager.undo() ) {\n\t\t\t\t\t\teditor.selectionChange();\n\t\t\t\t\t\tthis.fire( 'afterUndo' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstartDisabled: true,\n\t\t\t\tcanUndo: false\n\t\t\t} );\n\n\t\t\tvar redoCommand = editor.addCommand( 'redo', {\n\t\t\t\texec: function() {\n\t\t\t\t\tif ( undoManager.redo() ) {\n\t\t\t\t\t\teditor.selectionChange();\n\t\t\t\t\t\tthis.fire( 'afterRedo' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstartDisabled: true,\n\t\t\t\tcanUndo: false\n\t\t\t} );\n\n\t\t\teditor.setKeystroke( [\n\t\t\t\t[ keystrokes[ 0 ], 'undo' ],\n\t\t\t\t[ keystrokes[ 1 ], 'redo' ],\n\t\t\t\t[ keystrokes[ 2 ], 'redo' ]\n\t\t\t] );\n\n\t\t\tundoManager.onChange = function() {\n\t\t\t\tundoCommand.setState( undoManager.undoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\tredoCommand.setState( undoManager.redoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\t\t\t};\n\n\t\t\tfunction recordCommand( event ) {\n\t\t\t\t// If the command hasn't been marked to not support undo.\n\t\t\t\tif ( undoManager.enabled && event.data.command.canUndo !== false )\n\t\t\t\t\tundoManager.save();\n\t\t\t}\n\n\t\t\t// We'll save snapshots before and after executing a command.\n\t\t\teditor.on( 'beforeCommandExec', recordCommand );\n\t\t\teditor.on( 'afterCommandExec', recordCommand );\n\n\t\t\t// Save snapshots before doing custom changes.\n\t\t\teditor.on( 'saveSnapshot', function( evt ) {\n\t\t\t\tundoManager.save( evt.data && evt.data.contentOnly );\n\t\t\t} );\n\n\t\t\t// Event manager listeners should be attached on contentDom.\n\t\t\teditor.on( 'contentDom', editingHandler.attachListeners, editingHandler );\n\n\t\t\teditor.on( 'instanceReady', function() {\n\t\t\t\t// Saves initial snapshot.\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t} );\n\n\t\t\t// Always save an undo snapshot - the previous mode might have\n\t\t\t// changed editor contents.\n\t\t\teditor.on( 'beforeModeUnload', function() {\n\t\t\t\teditor.mode == 'wysiwyg' && undoManager.save( true );\n\t\t\t} );\n\n\t\t\tfunction toggleUndoManager() {\n\t\t\t\tundoManager.enabled = editor.readOnly ? false : editor.mode == 'wysiwyg';\n\t\t\t\tundoManager.onChange();\n\t\t\t}\n\n\t\t\t// Make the undo manager available only in wysiwyg mode.\n\t\t\teditor.on( 'mode', toggleUndoManager );\n\n\t\t\t// Disable undo manager when in read-only mode.\n\t\t\teditor.on( 'readOnly', toggleUndoManager );\n\n\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\teditor.ui.addButton( 'Undo', {\n\t\t\t\t\tlabel: editor.lang.undo.undo,\n\t\t\t\t\tcommand: 'undo',\n\t\t\t\t\ttoolbar: 'undo,10'\n\t\t\t\t} );\n\n\t\t\t\teditor.ui.addButton( 'Redo', {\n\t\t\t\t\tlabel: editor.lang.undo.redo,\n\t\t\t\t\tcommand: 'redo',\n\t\t\t\t\ttoolbar: 'undo,20'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Resets the undo stack.\n\t\t\t *\n\t\t\t * @member CKEDITOR.editor\n\t\t\t */\n\t\t\teditor.resetUndo = function() {\n\t\t\t\t// Reset the undo stack.\n\t\t\t\tundoManager.reset();\n\n\t\t\t\t// Create the first image.\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Amends the top of the undo stack (last undo image) with the current DOM changes.\n\t\t\t *\n\t\t\t *\t\tfunction() {\n\t\t\t *\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t *\t\t\teditor.document.body.append(...);\n\t\t\t *\t\t\t// Makes new changes following the last undo snapshot a part of it.\n\t\t\t *\t\t\teditor.fire( 'updateSnapshot' );\n\t\t\t *\t\t\t..\n\t\t\t *\t\t}\n\t\t\t *\n\t\t\t * @event updateSnapshot\n\t\t\t * @member CKEDITOR.editor\n\t\t\t * @param {CKEDITOR.editor} editor This editor instance.\n\t\t\t */\n\t\t\teditor.on( 'updateSnapshot', function() {\n\t\t\t\tif ( undoManager.currentImage )\n\t\t\t\t\tundoManager.update();\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Locks the undo manager to prevent any save/update operations.\n\t\t\t *\n\t\t\t * It is convenient to lock the undo manager before performing DOM operations\n\t\t\t * that should not be recored (e.g. auto paragraphing).\n\t\t\t *\n\t\t\t * See {@link CKEDITOR.plugins.undo.UndoManager#lock} for more details.\n\t\t\t *\n\t\t\t * **Note:** In order to unlock the undo manager, {@link #unlockSnapshot} has to be fired\n\t\t\t * the same number of times that `lockSnapshot` has been fired.\n\t\t\t *\n\t\t\t * @since 4.0\n\t\t\t * @event lockSnapshot\n\t\t\t * @member CKEDITOR.editor\n\t\t\t * @param {CKEDITOR.editor} editor This editor instance.\n\t\t\t * @param data\n\t\t\t * @param {Boolean} [data.dontUpdate] When set to `true`, the last snapshot will not be updated\n\t\t\t * with the current content and selection. Read more in the {@link CKEDITOR.plugins.undo.UndoManager#lock} method.\n\t\t\t * @param {Boolean} [data.forceUpdate] When set to `true`, the last snapshot will always be updated\n\t\t\t * with the current content and selection. Read more in the {@link CKEDITOR.plugins.undo.UndoManager#lock} method.\n\t\t\t */\n\t\t\teditor.on( 'lockSnapshot', function( evt ) {\n\t\t\t\tvar data = evt.data;\n\t\t\t\tundoManager.lock( data && data.dontUpdate, data && data.forceUpdate );\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Unlocks the undo manager and updates the latest snapshot.\n\t\t\t *\n\t\t\t * @since 4.0\n\t\t\t * @event unlockSnapshot\n\t\t\t * @member CKEDITOR.editor\n\t\t\t * @param {CKEDITOR.editor} editor This editor instance.\n\t\t\t */\n\t\t\teditor.on( 'unlockSnapshot', undoManager.unlock, undoManager );\n\t\t}\n\t} );\n\n\tCKEDITOR.plugins.undo = {};\n\n\t/**\n\t * Main logic for the Redo/Undo feature.\n\t *\n\t * @private\n\t * @class CKEDITOR.plugins.undo.UndoManager\n\t * @constructor Creates an UndoManager class instance.\n\t * @param {CKEDITOR.editor} editor\n\t */\n\tvar UndoManager = CKEDITOR.plugins.undo.UndoManager = function( editor ) {\n\t\t/**\n\t\t * An array storing the number of key presses, count in a row. Use {@link #keyGroups} members as index.\n\t\t *\n\t\t * **Note:** The keystroke count will be reset after reaching the limit of characters per snapshot.\n\t\t *\n\t\t * @since 4.4.4\n\t\t */\n\t\tthis.strokesRecorded = [ 0, 0 ];\n\n\t\t/**\n\t\t * When the `locked` property is not `null`, the undo manager is locked, so\n\t\t * operations like `save` or `update` are forbidden.\n\t\t *\n\t\t * The manager can be locked and unlocked by the {@link #lock} and {@link #unlock}\n\t\t * methods, respectively.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Object} [locked=null]\n\t\t */\n\t\tthis.locked = null;\n\n\t\t/**\n\t\t * Contains the previously processed key group, based on {@link #keyGroups}.\n\t\t * `-1` means an unknown group.\n\t\t *\n\t\t * @since 4.4.4\n\t\t * @readonly\n\t\t * @property {Number} [previousKeyGroup=-1]\n\t\t */\n\t\tthis.previousKeyGroup = -1;\n\n\t\t/**\n\t\t * The maximum number of snapshots in the stack. Configurable via {@link CKEDITOR.config#undoStackSize}.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [limit]\n\t\t */\n\t\tthis.limit = editor.config.undoStackSize || 20;\n\n\t\t/**\n\t\t * The maximum number of characters typed/deleted in one undo step.\n\t\t *\n\t\t * @since 4.4.5\n\t\t * @readonly\n\t\t */\n\t\tthis.strokesLimit = 25;\n\n\t\tthis.editor = editor;\n\n\t\t// Reset the undo stack.\n\t\tthis.reset();\n\t};\n\n\tUndoManager.prototype = {\n\t\t/**\n\t\t * Handles keystroke support for the undo manager. It is called on `keyup` event for\n\t\t * keystrokes that can change the editor content.\n\t\t *\n\t\t * @param {Number} keyCode The key code.\n\t\t * @param {Boolean} [strokesPerSnapshotExceeded] When set to `true`, the method will\n\t\t * behave as if the strokes limit was exceeded regardless of the {@link #strokesRecorded} value.\n\t\t */\n\t\ttype: function( keyCode, strokesPerSnapshotExceeded ) {\n\t\t\tvar keyGroup = UndoManager.getKeyGroup( keyCode ),\n\t\t\t\t// Count of keystrokes in current a row.\n\t\t\t\t// Note if strokesPerSnapshotExceeded will be exceeded, it'll be restarted.\n\t\t\t\tstrokesRecorded = this.strokesRecorded[ keyGroup ] + 1;\n\n\t\t\tstrokesPerSnapshotExceeded =\n\t\t\t\t( strokesPerSnapshotExceeded || strokesRecorded >= this.strokesLimit );\n\n\t\t\tif ( !this.typing )\n\t\t\t\tonTypingStart( this );\n\n\t\t\tif ( strokesPerSnapshotExceeded ) {\n\t\t\t\t// Reset the count of strokes, so it'll be later assigned to this.strokesRecorded.\n\t\t\t\tstrokesRecorded = 0;\n\n\t\t\t\tthis.editor.fire( 'saveSnapshot' );\n\t\t\t} else {\n\t\t\t\t// Fire change event.\n\t\t\t\tthis.editor.fire( 'change' );\n\t\t\t}\n\n\t\t\t// Store recorded strokes count.\n\t\t\tthis.strokesRecorded[ keyGroup ] = strokesRecorded;\n\t\t\t// This prop will tell in next itaration what kind of group was processed previously.\n\t\t\tthis.previousKeyGroup = keyGroup;\n\t\t},\n\n\t\t/**\n\t\t * Whether the new `keyCode` belongs to a different group than the previous one ({@link #previousKeyGroup}).\n\t\t *\n\t\t * @since 4.4.5\n\t\t * @param {Number} keyCode\n\t\t * @returns {Boolean}\n\t\t */\n\t\tkeyGroupChanged: function( keyCode ) {\n\t\t\treturn UndoManager.getKeyGroup( keyCode ) != this.previousKeyGroup;\n\t\t},\n\n\t\t/**\n\t\t * Resets the undo stack.\n\t\t */\n\t\treset: function() {\n\t\t\t// Stack for all the undo and redo snapshots, they're always created/removed\n\t\t\t// in consistency.\n\t\t\tthis.snapshots = [];\n\n\t\t\t// Current snapshot history index.\n\t\t\tthis.index = -1;\n\n\t\t\tthis.currentImage = null;\n\n\t\t\tthis.hasUndo = false;\n\t\t\tthis.hasRedo = false;\n\t\t\tthis.locked = null;\n\n\t\t\tthis.resetType();\n\t\t},\n\n\t\t/**\n\t\t * Resets all typing variables.\n\t\t *\n\t\t * @see #type\n\t\t */\n\t\tresetType: function() {\n\t\t\tthis.strokesRecorded = [ 0, 0 ];\n\t\t\tthis.typing = false;\n\t\t\tthis.previousKeyGroup = -1;\n\t\t},\n\n\t\t/**\n\t\t * Refreshes the state of the {@link CKEDITOR.plugins.undo.UndoManager undo manager}\n\t\t * as well as the state of the `undo` and `redo` commands.\n\t\t */\n\t\trefreshState: function() {\n\t\t\t// These lines can be handled within onChange() too.\n\t\t\tthis.hasUndo = !!this.getNextImage( true );\n\t\t\tthis.hasRedo = !!this.getNextImage( false );\n\t\t\t// Reset typing\n\t\t\tthis.resetType();\n\t\t\tthis.onChange();\n\t\t},\n\n\t\t/**\n\t\t * Saves a snapshot of the document image for later retrieval.\n\t\t *\n\t\t * @param {Boolean} onContentOnly If set to `true`, the snapshot will be saved only if the content has changed.\n\t\t * @param {CKEDITOR.plugins.undo.Image} image An optional image to save. If skipped, current editor will be used.\n\t\t * @param {Boolean} [autoFireChange=true] If set to `false`, will not trigger the {@link CKEDITOR.editor#change} event to editor.\n\t\t */\n\t\tsave: function( onContentOnly, image, autoFireChange ) {\n\t\t\tvar editor = this.editor;\n\t\t\t// Do not change snapshots stack when locked, editor is not ready,\n\t\t\t// editable is not ready or when editor is in mode difference than 'wysiwyg'.\n\t\t\tif ( this.locked || editor.status != 'ready' || editor.mode != 'wysiwyg' )\n\t\t\t\treturn false;\n\n\t\t\tvar editable = editor.editable();\n\t\t\tif ( !editable || editable.status != 'ready' )\n\t\t\t\treturn false;\n\n\t\t\tvar snapshots = this.snapshots;\n\n\t\t\t// Get a content image.\n\t\t\tif ( !image )\n\t\t\t\timage = new Image( editor );\n\n\t\t\t// Do nothing if it was not possible to retrieve an image.\n\t\t\tif ( image.contents === false )\n\t\t\t\treturn false;\n\n\t\t\t// Check if this is a duplicate. In such case, do nothing.\n\t\t\tif ( this.currentImage ) {\n\t\t\t\tif ( image.equalsContent( this.currentImage ) ) {\n\t\t\t\t\tif ( onContentOnly )\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tif ( image.equalsSelection( this.currentImage ) )\n\t\t\t\t\t\treturn false;\n\t\t\t\t} else if ( autoFireChange !== false ) {\n\t\t\t\t\teditor.fire( 'change' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Drop future snapshots.\n\t\t\tsnapshots.splice( this.index + 1, snapshots.length - this.index - 1 );\n\n\t\t\t// If we have reached the limit, remove the oldest one.\n\t\t\tif ( snapshots.length == this.limit )\n\t\t\t\tsnapshots.shift();\n\n\t\t\t// Add the new image, updating the current index.\n\t\t\tthis.index = snapshots.push( image ) - 1;\n\n\t\t\tthis.currentImage = image;\n\n\t\t\tif ( autoFireChange !== false )\n\t\t\t\tthis.refreshState();\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Sets editor content/selection to the one stored in `image`.\n\t\t *\n\t\t * @param {CKEDITOR.plugins.undo.Image} image\n\t\t */\n\t\trestoreImage: function( image ) {\n\t\t\t// Bring editor focused to restore selection.\n\t\t\tvar editor = this.editor,\n\t\t\t\tsel;\n\n\t\t\tif ( image.bookmarks ) {\n\t\t\t\teditor.focus();\n\t\t\t\t// Retrieve the selection beforehand. (#8324)\n\t\t\t\tsel = editor.getSelection();\n\t\t\t}\n\n\t\t\t// Start transaction - do not allow any mutations to the\n\t\t\t// snapshots stack done when selecting bookmarks (much probably\n\t\t\t// by selectionChange listener).\n\t\t\tthis.locked = { level: 999 };\n\n\t\t\tthis.editor.loadSnapshot( image.contents );\n\n\t\t\tif ( image.bookmarks )\n\t\t\t\tsel.selectBookmarks( image.bookmarks );\n\t\t\telse if ( CKEDITOR.env.ie ) {\n\t\t\t\t// IE BUG: If I don't set the selection to *somewhere* after setting\n\t\t\t\t// document contents, then IE would create an empty paragraph at the bottom\n\t\t\t\t// the next time the document is modified.\n\t\t\t\tvar $range = this.editor.document.getBody().$.createTextRange();\n\t\t\t\t$range.collapse( true );\n\t\t\t\t$range.select();\n\t\t\t}\n\n\t\t\tthis.locked = null;\n\n\t\t\tthis.index = image.index;\n\t\t\tthis.currentImage = this.snapshots[ this.index ];\n\n\t\t\t// Update current image with the actual editor\n\t\t\t// content, since actualy content may differ from\n\t\t\t// the original snapshot due to dom change. (#4622)\n\t\t\tthis.update();\n\t\t\tthis.refreshState();\n\n\t\t\teditor.fire( 'change' );\n\t\t},\n\n\t\t/**\n\t\t * Gets the closest available image.\n\t\t *\n\t\t * @param {Boolean} isUndo If `true`, it will return the previous image.\n\t\t * @returns {CKEDITOR.plugins.undo.Image} Next image or `null`.\n\t\t */\n\t\tgetNextImage: function( isUndo ) {\n\t\t\tvar snapshots = this.snapshots,\n\t\t\t\tcurrentImage = this.currentImage,\n\t\t\t\timage, i;\n\n\t\t\tif ( currentImage ) {\n\t\t\t\tif ( isUndo ) {\n\t\t\t\t\tfor ( i = this.index - 1; i >= 0; i-- ) {\n\t\t\t\t\t\timage = snapshots[ i ];\n\t\t\t\t\t\tif ( !currentImage.equalsContent( image ) ) {\n\t\t\t\t\t\t\timage.index = i;\n\t\t\t\t\t\t\treturn image;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor ( i = this.index + 1; i < snapshots.length; i++ ) {\n\t\t\t\t\t\timage = snapshots[ i ];\n\t\t\t\t\t\tif ( !currentImage.equalsContent( image ) ) {\n\t\t\t\t\t\t\timage.index = i;\n\t\t\t\t\t\t\treturn image;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Checks the current redo state.\n\t\t *\n\t\t * @returns {Boolean} Whether the document has a previous state to retrieve.\n\t\t */\n\t\tredoable: function() {\n\t\t\treturn this.enabled && this.hasRedo;\n\t\t},\n\n\t\t/**\n\t\t * Checks the current undo state.\n\t\t *\n\t\t * @returns {Boolean} Whether the document has a future state to restore.\n\t\t */\n\t\tundoable: function() {\n\t\t\treturn this.enabled && this.hasUndo;\n\t\t},\n\n\t\t/**\n\t\t * Performs an undo operation on current index.\n\t\t */\n\t\tundo: function() {\n\t\t\tif ( this.undoable() ) {\n\t\t\t\tthis.save( true );\n\n\t\t\t\tvar image = this.getNextImage( true );\n\t\t\t\tif ( image )\n\t\t\t\t\treturn this.restoreImage( image ), true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Performs a redo operation on current index.\n\t\t */\n\t\tredo: function() {\n\t\t\tif ( this.redoable() ) {\n\t\t\t\t// Try to save. If no changes have been made, the redo stack\n\t\t\t\t// will not change, so it will still be redoable.\n\t\t\t\tthis.save( true );\n\n\t\t\t\t// If instead we had changes, we can't redo anymore.\n\t\t\t\tif ( this.redoable() ) {\n\t\t\t\t\tvar image = this.getNextImage( false );\n\t\t\t\t\tif ( image )\n\t\t\t\t\t\treturn this.restoreImage( image ), true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Updates the last snapshot of the undo stack with the current editor content.\n\t\t *\n\t\t * @param {CKEDITOR.plugins.undo.Image} [newImage] The image which will replace the current one.\n\t\t * If it is not set, it defaults to the image taken from the editor.\n\t\t */\n\t\tupdate: function( newImage ) {\n\t\t\t// Do not change snapshots stack is locked.\n\t\t\tif ( this.locked )\n\t\t\t\treturn;\n\n\t\t\tif ( !newImage )\n\t\t\t\tnewImage = new Image( this.editor );\n\n\t\t\tvar i = this.index,\n\t\t\t\tsnapshots = this.snapshots;\n\n\t\t\t// Find all previous snapshots made for the same content (which differ\n\t\t\t// only by selection) and replace all of them with the current image.\n\t\t\twhile ( i > 0 && this.currentImage.equalsContent( snapshots[ i - 1 ] ) )\n\t\t\t\ti -= 1;\n\n\t\t\tsnapshots.splice( i, this.index - i + 1, newImage );\n\t\t\tthis.index = i;\n\t\t\tthis.currentImage = newImage;\n\t\t},\n\n\t\t/**\n\t\t * Amends the last snapshot and changes its selection (only in case when content\n\t\t * is equal between these two).\n\t\t *\n\t\t * @since 4.4.4\n\t\t * @param {CKEDITOR.plugins.undo.Image} newSnapshot New snapshot with new selection.\n\t\t * @returns {Boolean} Returns `true` if selection was amended.\n\t\t */\n\t\tupdateSelection: function( newSnapshot ) {\n\t\t\tif ( !this.snapshots.length )\n\t\t\t\treturn false;\n\n\t\t\tvar snapshots = this.snapshots,\n\t\t\t\tlastImage = snapshots[ snapshots.length - 1 ];\n\n\t\t\tif ( lastImage.equalsContent( newSnapshot ) ) {\n\t\t\t\tif ( !lastImage.equalsSelection( newSnapshot ) ) {\n\t\t\t\t\tsnapshots[ snapshots.length - 1 ] = newSnapshot;\n\t\t\t\t\tthis.currentImage = newSnapshot;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Locks the snapshot stack to prevent any save/update operations and when necessary,\n\t\t * updates the tip of the snapshot stack with the DOM changes introduced during the\n\t\t * locked period, after the {@link #unlock} method is called.\n\t\t *\n\t\t * It is mainly used to ensure any DOM operations that should not be recorded\n\t\t * (e.g. auto paragraphing) are not added to the stack.\n\t\t *\n\t\t * **Note:** For every `lock` call you must call {@link #unlock} once to unlock the undo manager.\n\t\t *\n\t\t * @since 4.0\n\t\t * @param {Boolean} [dontUpdate] When set to `true`, the last snapshot will not be updated\n\t\t * with current content and selection. By default, if undo manager was up to date when the lock started,\n\t\t * the last snapshot will be updated to the current state when unlocking. This means that all changes\n\t\t * done during the lock will be merged into the previous snapshot or the next one. Use this option to gain\n\t\t * more control over this behavior. For example, it is possible to group changes done during the lock into\n\t\t * a separate snapshot.\n\t\t * @param {Boolean} [forceUpdate] When set to `true`, the last snapshot will always be updated with the\n\t\t * current content and selection regardless of the current state of the undo manager.\n\t\t * When not set, the last snapshot will be updated only if the undo manager was up to date when locking.\n\t\t * Additionally, this option makes it possible to lock the snapshot when the editor is not in the `wysiwyg` mode,\n\t\t * because when it is passed, the snapshots will not need to be compared.\n\t\t */\n\t\tlock: function( dontUpdate, forceUpdate ) {\n\t\t\tif ( !this.locked ) {\n\t\t\t\tif ( dontUpdate )\n\t\t\t\t\tthis.locked = { level: 1 };\n\t\t\t\telse {\n\t\t\t\t\tvar update = null;\n\n\t\t\t\t\tif ( forceUpdate )\n\t\t\t\t\t\tupdate = true;\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Make a contents image. Don't include bookmarks, because:\n\t\t\t\t\t\t// * we don't compare them,\n\t\t\t\t\t\t// * there's a chance that DOM has been changed since\n\t\t\t\t\t\t// locked (e.g. fake) selection was made, so createBookmark2 could fail.\n\t\t\t\t\t\t// http://dev.ckeditor.com/ticket/11027#comment:3\n\t\t\t\t\t\tvar imageBefore = new Image( this.editor, true );\n\n\t\t\t\t\t\t// If current editor content matches the tip of snapshot stack,\n\t\t\t\t\t\t// the stack tip must be updated by unlock, to include any changes made\n\t\t\t\t\t\t// during this period.\n\t\t\t\t\t\tif ( this.currentImage && this.currentImage.equalsContent( imageBefore ) )\n\t\t\t\t\t\t\tupdate = imageBefore;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.locked = { update: update, level: 1 };\n\t\t\t\t}\n\n\t\t\t// Increase the level of lock.\n\t\t\t} else {\n\t\t\t\tthis.locked.level++;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Unlocks the snapshot stack and checks to amend the last snapshot.\n\t\t *\n\t\t * See {@link #lock} for more details.\n\t\t *\n\t\t * @since 4.0\n\t\t */\n\t\tunlock: function() {\n\t\t\tif ( this.locked ) {\n\t\t\t\t// Decrease level of lock and check if equals 0, what means that undoM is completely unlocked.\n\t\t\t\tif ( !--this.locked.level ) {\n\t\t\t\t\tvar update = this.locked.update;\n\n\t\t\t\t\tthis.locked = null;\n\n\t\t\t\t\t// forceUpdate was passed to lock().\n\t\t\t\t\tif ( update === true )\n\t\t\t\t\t\tthis.update();\n\t\t\t\t\t// update is instance of Image.\n\t\t\t\t\telse if ( update ) {\n\t\t\t\t\t\tvar newImage = new Image( this.editor, true );\n\n\t\t\t\t\t\tif ( !update.equalsContent( newImage ) )\n\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Codes for navigation keys like *Arrows*, *Page Up/Down*, etc.\n\t * Used by the {@link #isNavigationKey} method.\n\t *\n\t * @since 4.4.5\n\t * @readonly\n\t * @static\n\t */\n\tUndoManager.navigationKeyCodes = {\n\t\t37: 1, 38: 1, 39: 1, 40: 1, // Arrows.\n\t\t36: 1, 35: 1, // Home, End.\n\t\t33: 1, 34: 1 // PgUp, PgDn.\n\t};\n\n\t/**\n\t * Key groups identifier mapping. Used for accessing members in\n\t * {@link #strokesRecorded}.\n\t *\n\t * * `FUNCTIONAL` &ndash; identifier for the *Backspace* / *Delete* key.\n\t * * `PRINTABLE` &ndash; identifier for printable keys.\n\t *\n\t * Example usage:\n\t *\n\t *\t\tundoManager.strokesRecorded[ undoManager.keyGroups.FUNCTIONAL ];\n\t *\n\t * @since 4.4.5\n\t * @readonly\n\t * @static\n\t */\n\tUndoManager.keyGroups = {\n\t\tPRINTABLE: 0,\n\t\tFUNCTIONAL: 1\n\t};\n\n\t/**\n\t * Checks whether a key is one of navigation keys (*Arrows*, *Page Up/Down*, etc.).\n\t * See also the {@link #navigationKeyCodes} property.\n\t *\n\t * @since 4.4.5\n\t * @static\n\t * @param {Number} keyCode\n\t * @returns {Boolean}\n\t */\n\tUndoManager.isNavigationKey = function( keyCode ) {\n\t\treturn !!UndoManager.navigationKeyCodes[ keyCode ];\n\t};\n\n\t/**\n\t * Returns the group to which the passed `keyCode` belongs.\n\t *\n\t * @since 4.4.5\n\t * @static\n\t * @param {Number} keyCode\n\t * @returns {Number}\n\t */\n\tUndoManager.getKeyGroup = function( keyCode ) {\n\t\tvar keyGroups = UndoManager.keyGroups;\n\n\t\treturn backspaceOrDelete[ keyCode ] ? keyGroups.FUNCTIONAL : keyGroups.PRINTABLE;\n\t};\n\n\t/**\n\t * @since 4.4.5\n\t * @static\n\t * @param {Number} keyGroup\n\t * @returns {Number}\n\t */\n\tUndoManager.getOppositeKeyGroup = function( keyGroup ) {\n\t\tvar keyGroups = UndoManager.keyGroups;\n\t\treturn ( keyGroup == keyGroups.FUNCTIONAL ? keyGroups.PRINTABLE : keyGroups.FUNCTIONAL );\n\t};\n\n\t/**\n\t * Whether we need to use a workaround for functional (*Backspace*, *Delete*) keys not firing\n\t * the `keypress` event in Internet Explorer in this environment and for the specified `keyCode`.\n\t *\n\t * @since 4.4.5\n\t * @static\n\t * @param {Number} keyCode\n\t * @returns {Boolean}\n\t */\n\tUndoManager.ieFunctionalKeysBug = function( keyCode ) {\n\t\treturn CKEDITOR.env.ie && UndoManager.getKeyGroup( keyCode ) == UndoManager.keyGroups.FUNCTIONAL;\n\t};\n\n\t// Helper method called when undoManager.typing val was changed to true.\n\tfunction onTypingStart( undoManager ) {\n\t\t// It's safe to now indicate typing state.\n\t\tundoManager.typing = true;\n\n\t\t// Manually mark snapshot as available.\n\t\tundoManager.hasUndo = true;\n\t\tundoManager.hasRedo = false;\n\n\t\tundoManager.onChange();\n\t}\n\n\t/**\n\t * Contains a snapshot of the editor content and selection at a given point in time.\n\t *\n\t * @private\n\t * @class CKEDITOR.plugins.undo.Image\n\t * @constructor Creates an Image class instance.\n\t * @param {CKEDITOR.editor} editor The editor instance on which the image is created.\n\t * @param {Boolean} [contentsOnly] If set to `true`, the image will only contain content without the selection.\n\t */\n\tvar Image = CKEDITOR.plugins.undo.Image = function( editor, contentsOnly ) {\n\t\t\tthis.editor = editor;\n\n\t\t\teditor.fire( 'beforeUndoImage' );\n\n\t\t\tvar contents = editor.getSnapshot();\n\n\t\t\t// In IE, we need to remove the expando attributes.\n\t\t\tif ( CKEDITOR.env.ie && contents )\n\t\t\t\tcontents = contents.replace( /\\s+data-cke-expando=\".*?\"/g, '' );\n\n\t\t\tthis.contents = contents;\n\n\t\t\tif ( !contentsOnly ) {\n\t\t\t\tvar selection = contents && editor.getSelection();\n\t\t\t\tthis.bookmarks = selection && selection.createBookmarks2( true );\n\t\t\t}\n\n\t\t\teditor.fire( 'afterUndoImage' );\n\t\t};\n\n\t// Attributes that browser may changing them when setting via innerHTML.\n\tvar protectedAttrs = /\\b(?:href|src|name)=\"[^\"]*?\"/gi;\n\n\tImage.prototype = {\n\t\t/**\n\t\t * @param {CKEDITOR.plugins.undo.Image} otherImage Image to compare to.\n\t\t * @returns {Boolean} Returns `true` if content in `otherImage` is the same.\n\t\t */\n\t\tequalsContent: function( otherImage ) {\n\t\t\tvar thisContents = this.contents,\n\t\t\t\totherContents = otherImage.contents;\n\n\t\t\t// For IE7 and IE QM: Comparing only the protected attribute values but not the original ones.(#4522)\n\t\t\tif ( CKEDITOR.env.ie && ( CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks ) ) {\n\t\t\t\tthisContents = thisContents.replace( protectedAttrs, '' );\n\t\t\t\totherContents = otherContents.replace( protectedAttrs, '' );\n\t\t\t}\n\n\t\t\tif ( thisContents != otherContents )\n\t\t\t\treturn false;\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * @param {CKEDITOR.plugins.undo.Image} otherImage Image to compare to.\n\t\t * @returns {Boolean} Returns `true` if selection in `otherImage` is the same.\n\t\t */\n\t\tequalsSelection: function( otherImage ) {\n\t\t\tvar bookmarksA = this.bookmarks,\n\t\t\t\tbookmarksB = otherImage.bookmarks;\n\n\t\t\tif ( bookmarksA || bookmarksB ) {\n\t\t\t\tif ( !bookmarksA || !bookmarksB || bookmarksA.length != bookmarksB.length )\n\t\t\t\t\treturn false;\n\n\t\t\t\tfor ( var i = 0; i < bookmarksA.length; i++ ) {\n\t\t\t\t\tvar bookmarkA = bookmarksA[ i ],\n\t\t\t\t\t\tbookmarkB = bookmarksB[ i ];\n\n\t\t\t\t\tif ( bookmarkA.startOffset != bookmarkB.startOffset || bookmarkA.endOffset != bookmarkB.endOffset ||\n\t\t\t\t\t\t!CKEDITOR.tools.arrayCompare( bookmarkA.start, bookmarkB.start ) ||\n\t\t\t\t\t\t!CKEDITOR.tools.arrayCompare( bookmarkA.end, bookmarkB.end ) ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n\t\t * Editor content.\n\t\t *\n\t\t * @readonly\n\t\t * @property {String} contents\n\t\t */\n\n\t\t/**\n\t\t * Bookmarks representing the selection in an image.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Object[]} bookmarks Array of bookmark2 objects, see {@link CKEDITOR.dom.range#createBookmark2} for definition.\n\t\t */\n\t};\n\n\t/**\n\t * A class encapsulating all native event listeners which have to be used in\n\t * order to handle undo manager integration for native editing actions (excluding drag and drop and paste support\n\t * handled by the Clipboard plugin).\n\t *\n\t * @since 4.4.4\n\t * @private\n\t * @class CKEDITOR.plugins.undo.NativeEditingHandler\n\t * @member CKEDITOR.plugins.undo Undo manager owning the handler.\n\t * @constructor\n\t * @param {CKEDITOR.plugins.undo.UndoManager} undoManager\n\t */\n\tvar NativeEditingHandler = CKEDITOR.plugins.undo.NativeEditingHandler = function( undoManager ) {\n\t\t// We'll use keyboard + input events to determine if snapshot should be created.\n\t\t// Since `input` event is fired before `keyup`. We can tell in `keyup` event if input occured.\n\t\t// That will tell us if any printable data was inserted.\n\t\t// On `input` event we'll increase input fired counter for proper key code.\n\t\t// Eventually it might be canceled by paste/drop using `ignoreInputEvent` flag.\n\t\t// Order of events can be found in http://www.w3.org/TR/DOM-Level-3-Events/\n\n\t\t/**\n\t\t * An undo manager instance owning the editing handler.\n\t\t *\n\t\t * @property {CKEDITOR.plugins.undo.UndoManager} undoManager\n\t\t */\n\t\tthis.undoManager = undoManager;\n\n\t\t/**\n\t\t * See {@link #ignoreInputEventListener}.\n\t\t *\n\t\t * @since 4.4.5\n\t\t * @private\n\t\t */\n\t\tthis.ignoreInputEvent = false;\n\n\t\t/**\n\t\t * A stack of pressed keys.\n\t\t *\n\t\t * @since 4.4.5\n\t\t * @property {CKEDITOR.plugins.undo.KeyEventsStack} keyEventsStack\n\t\t */\n\t\tthis.keyEventsStack = new KeyEventsStack();\n\n\t\t/**\n\t\t * An image of the editor during the `keydown` event (therefore without DOM modification).\n\t\t *\n\t\t * @property {CKEDITOR.plugins.undo.Image} lastKeydownImage\n\t\t */\n\t\tthis.lastKeydownImage = null;\n\t};\n\n\tNativeEditingHandler.prototype = {\n\t\t/**\n\t\t * The `keydown` event listener.\n\t\t *\n\t\t * @param {CKEDITOR.dom.event} evt\n\t\t */\n\t\tonKeydown: function( evt ) {\n\t\t\tvar keyCode = evt.data.getKey();\n\n\t\t\t// The composition is in progress - ignore the key. (#12597)\n\t\t\tif ( keyCode === 229 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Block undo/redo keystrokes when at the bottom/top of the undo stack (#11126 and #11677).\n\t\t\tif ( CKEDITOR.tools.indexOf( keystrokes, evt.data.getKeystroke() ) > -1 ) {\n\t\t\t\tevt.data.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Cleaning tab functional keys.\n\t\t\tthis.keyEventsStack.cleanUp( evt );\n\n\t\t\tvar undoManager = this.undoManager;\n\n\t\t\t// Gets last record for provided keyCode. If not found will create one.\n\t\t\tvar last = this.keyEventsStack.getLast( keyCode );\n\t\t\tif ( !last ) {\n\t\t\t\tthis.keyEventsStack.push( keyCode );\n\t\t\t}\n\n\t\t\t// We need to store an image which will be used in case of key group\n\t\t\t// change.\n\t\t\tthis.lastKeydownImage = new Image( undoManager.editor );\n\n\t\t\tif ( UndoManager.isNavigationKey( keyCode ) || this.undoManager.keyGroupChanged( keyCode ) ) {\n\t\t\t\tif ( undoManager.strokesRecorded[ 0 ] || undoManager.strokesRecorded[ 1 ] ) {\n\t\t\t\t\t// We already have image, so we'd like to reuse it.\n\n\t\t\t\t\t// #12300\n\t\t\t\t\tundoManager.save( false, this.lastKeydownImage, false );\n\t\t\t\t\tundoManager.resetType();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The `input` event listener.\n\t\t */\n\t\tonInput: function() {\n\t\t\t// Input event is ignored if paste/drop event were fired before.\n\t\t\tif ( this.ignoreInputEvent ) {\n\t\t\t\t// Reset flag - ignore only once.\n\t\t\t\tthis.ignoreInputEvent = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar lastInput = this.keyEventsStack.getLast();\n\t\t\t// Nothing in key events stack, but input event called. Interesting...\n\t\t\t// That's because on Android order of events is buggy and also keyCode is set to 0.\n\t\t\tif ( !lastInput ) {\n\t\t\t\tlastInput = this.keyEventsStack.push( 0 );\n\t\t\t}\n\n\t\t\t// Increment inputs counter for provided key code.\n\t\t\tthis.keyEventsStack.increment( lastInput.keyCode );\n\n\t\t\t// Exceeded limit.\n\t\t\tif ( this.keyEventsStack.getTotalInputs() >= this.undoManager.strokesLimit ) {\n\t\t\t\tthis.undoManager.type( lastInput.keyCode, true );\n\t\t\t\tthis.keyEventsStack.resetInputs();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The `keyup` event listener.\n\t\t *\n\t\t * @param {CKEDITOR.dom.event} evt\n\t\t */\n\t\tonKeyup: function( evt ) {\n\t\t\tvar undoManager = this.undoManager,\n\t\t\t\tkeyCode = evt.data.getKey(),\n\t\t\t\ttotalInputs = this.keyEventsStack.getTotalInputs();\n\n\t\t\t// Remove record from stack for provided key code.\n\t\t\tthis.keyEventsStack.remove( keyCode );\n\n\t\t\t// Second part of the workaround for IEs functional keys bug. We need to check whether something has really\n\t\t\t// changed because we blindly mocked the keypress event.\n\t\t\t// Also we need to be aware that lastKeydownImage might not be available (#12327).\n\t\t\tif ( UndoManager.ieFunctionalKeysBug( keyCode ) && this.lastKeydownImage &&\n\t\t\t\tthis.lastKeydownImage.equalsContent( new Image( undoManager.editor, true ) ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( totalInputs > 0 ) {\n\t\t\t\tundoManager.type( keyCode );\n\t\t\t} else if ( UndoManager.isNavigationKey( keyCode ) ) {\n\t\t\t\t// Note content snapshot has been checked in keydown.\n\t\t\t\tthis.onNavigationKey( true );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Method called for navigation change. At first it will check if current content does not differ\n\t\t * from the last saved snapshot.\n\t\t *\n\t\t * * If the content is different, the method creates a standard, extra snapshot.\n\t\t * * If the content is not different, the method will compare the selection, and will\n\t\t * amend the last snapshot selection if it changed.\n\t\t *\n\t\t * @param {Boolean} skipContentCompare If set to `true`, it will not compare content, and only do a selection check.\n\t\t */\n\t\tonNavigationKey: function( skipContentCompare ) {\n\t\t\tvar undoManager = this.undoManager;\n\n\t\t\t// We attempt to save content snapshot, if content didn't change, we'll\n\t\t\t// only amend selection.\n\t\t\tif ( skipContentCompare || !undoManager.save( true, null, false ) )\n\t\t\t\tundoManager.updateSelection( new Image( undoManager.editor ) );\n\n\t\t\tundoManager.resetType();\n\t\t},\n\n\t\t/**\n\t\t * Makes the next `input` event to be ignored.\n\t\t */\n\t\tignoreInputEventListener: function() {\n\t\t\tthis.ignoreInputEvent = true;\n\t\t},\n\n\t\t/**\n\t\t * Attaches editable listeners required to provide the undo functionality.\n\t\t */\n\t\tattachListeners: function() {\n\t\t\tvar editor = this.undoManager.editor,\n\t\t\t\teditable = editor.editable(),\n\t\t\t\tthat = this;\n\n\t\t\t// We'll create a snapshot here (before DOM modification), because we'll\n\t\t\t// need unmodified content when we got keygroup toggled in keyup.\n\t\t\teditable.attachListener( editable, 'keydown', function( evt ) {\n\t\t\t\tthat.onKeydown( evt );\n\n\t\t\t\t// On IE keypress isn't fired for functional (backspace/delete) keys.\n\t\t\t\t// Let's pretend that something's changed.\n\t\t\t\tif ( UndoManager.ieFunctionalKeysBug( evt.data.getKey() ) ) {\n\t\t\t\t\tthat.onInput();\n\t\t\t\t}\n\t\t\t}, null, null, 999 );\n\n\t\t\t// Only IE can't use input event, because it's not fired in contenteditable.\n\t\t\teditable.attachListener( editable, ( CKEDITOR.env.ie ? 'keypress' : 'input' ), that.onInput, that, null, 999 );\n\n\t\t\t// Keyup executes main snapshot logic.\n\t\t\teditable.attachListener( editable, 'keyup', that.onKeyup, that, null, 999 );\n\n\t\t\t// On paste and drop we need to ignore input event.\n\t\t\t// It would result with calling undoManager.type() on any following key.\n\t\t\teditable.attachListener( editable, 'paste', that.ignoreInputEventListener, that, null, 999 );\n\t\t\teditable.attachListener( editable, 'drop', that.ignoreInputEventListener, that, null, 999 );\n\n\t\t\t// Click should create a snapshot if needed, but shouldn't cause change event.\n\t\t\t// Don't pass onNavigationKey directly as a listener because it accepts one argument which\n\t\t\t// will conflict with evt passed to listener.\n\t\t\t// #12324 comment:4\n\t\t\teditable.attachListener( editable.isInline() ? editable : editor.document.getDocumentElement(), 'click', function() {\n\t\t\t\tthat.onNavigationKey();\n\t\t\t}, null, null, 999 );\n\n\t\t\t// When pressing `Tab` key while editable is focused, `keyup` event is not fired.\n\t\t\t// Which means that record for `tab` key stays in key events stack.\n\t\t\t// We assume that when editor is blurred `tab` key is already up.\n\t\t\teditable.attachListener( this.undoManager.editor, 'blur', function() {\n\t\t\t\tthat.keyEventsStack.remove( 9 /*Tab*/ );\n\t\t\t}, null, null, 999 );\n\t\t}\n\t};\n\n\t/**\n\t * This class represents a stack of pressed keys and stores information\n\t * about how many `input` events each key press has caused.\n\t *\n\t * @since 4.4.5\n\t * @private\n\t * @class CKEDITOR.plugins.undo.KeyEventsStack\n\t * @constructor\n\t */\n\tvar KeyEventsStack = CKEDITOR.plugins.undo.KeyEventsStack = function() {\n\t\t/**\n\t\t * @readonly\n\t\t */\n\t\tthis.stack = [];\n\t};\n\n\tKeyEventsStack.prototype = {\n\t\t/**\n\t\t * Pushes a literal object with two keys: `keyCode` and `inputs` (whose initial value is set to `0`) to stack.\n\t\t * It is intended to be called on the `keydown` event.\n\t\t *\n\t\t * @param {Number} keyCode\n\t\t */\n\t\tpush: function( keyCode ) {\n\t\t\tvar length = this.stack.push( { keyCode: keyCode, inputs: 0 } );\n\t\t\treturn this.stack[ length - 1 ];\n\t\t},\n\n\t\t/**\n\t\t * Returns the index of the last registered `keyCode` in the stack.\n\t\t * If no `keyCode` is provided, then the function will return the index of the last item.\n\t\t * If an item is not found, it will return `-1`.\n\t\t *\n\t\t * @param {Number} [keyCode]\n\t\t * @returns {Number}\n\t\t */\n\t\tgetLastIndex: function( keyCode ) {\n\t\t\tif ( typeof keyCode != 'number' ) {\n\t\t\t\treturn this.stack.length - 1; // Last index or -1.\n\t\t\t} else {\n\t\t\t\tvar i = this.stack.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( this.stack[ i ].keyCode == keyCode ) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the last key recorded in the stack. If `keyCode` is provided, then it will return\n\t\t * the  last record for this `keyCode`.\n\t\t *\n\t\t * @param {Number} [keyCode]\n\t\t * @returns {Object} Last matching record or `null`.\n\t\t */\n\t\tgetLast: function( keyCode ) {\n\t\t\tvar index = this.getLastIndex( keyCode );\n\t\t\tif ( index != -1 ) {\n\t\t\t\treturn this.stack[ index ];\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Increments registered input events for stack record for a given `keyCode`.\n\t\t *\n\t\t * @param {Number} keyCode\n\t\t */\n\t\tincrement: function( keyCode ) {\n\t\t\tvar found = this.getLast( keyCode );\n\t\t\tif ( !found ) { // %REMOVE_LINE%\n\t\t\t\tthrow new Error( 'Trying to increment, but could not found by keyCode: ' + keyCode + '.' ); // %REMOVE_LINE%\n\t\t\t} // %REMOVE_LINE%\n\n\t\t\tfound.inputs++;\n\t\t},\n\n\t\t/**\n\t\t * Removes the last record from the stack for the provided `keyCode`.\n\t\t *\n\t\t * @param {Number} keyCode\n\t\t */\n\t\tremove: function( keyCode ) {\n\t\t\tvar index = this.getLastIndex( keyCode );\n\n\t\t\tif ( index != -1 ) {\n\t\t\t\tthis.stack.splice( index, 1 );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Resets the `inputs` value to `0` for a given `keyCode` or in entire stack if a\n\t\t * `keyCode` is not specified.\n\t\t *\n\t\t * @param {Number} [keyCode]\n\t\t */\n\t\tresetInputs: function( keyCode ) {\n\t\t\tif ( typeof keyCode == 'number' ) {\n\t\t\t\tvar last = this.getLast( keyCode );\n\n\t\t\t\tif ( !last ) { // %REMOVE_LINE%\n\t\t\t\t\tthrow new Error( 'Trying to reset inputs count, but could not found by keyCode: ' + keyCode + '.' ); // %REMOVE_LINE%\n\t\t\t\t} // %REMOVE_LINE%\n\n\t\t\t\tlast.inputs = 0;\n\t\t\t} else {\n\t\t\t\tvar i = this.stack.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tthis.stack[ i ].inputs = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Sums up inputs number for each key code and returns it.\n\t\t *\n\t\t * @returns {Number}\n\t\t */\n\t\tgetTotalInputs: function() {\n\t\t\tvar i = this.stack.length,\n\t\t\t\ttotal = 0;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\ttotal += this.stack[ i ].inputs;\n\t\t\t}\n\t\t\treturn total;\n\t\t},\n\n\t\t/**\n\t\t * Cleans the stack based on a provided `keydown` event object. The rationale behind this method\n\t\t * is that some keystrokes cause the `keydown` event to be fired in the editor, but not the `keyup` event.\n\t\t * For instance, *Alt+Tab* will fire `keydown`, but since the editor is blurred by it, then there is\n\t\t * no `keyup`, so the keystroke is not removed from the stack.\n\t\t *\n\t\t * @param {CKEDITOR.dom.event} event\n\t\t */\n\t\tcleanUp: function( event ) {\n\t\t\tvar nativeEvent = event.data.$;\n\n\t\t\tif ( !( nativeEvent.ctrlKey || nativeEvent.metaKey ) ) {\n\t\t\t\tthis.remove( 17 );\n\t\t\t}\n\t\t\tif ( !nativeEvent.shiftKey ) {\n\t\t\t\tthis.remove( 16 );\n\t\t\t}\n\t\t\tif ( !nativeEvent.altKey ) {\n\t\t\t\tthis.remove( 18 );\n\t\t\t}\n\t\t}\n\t};\n} )();\n\n/**\n * The number of undo steps to be saved. The higher value is set, the more\n * memory is used for it.\n *\n *\t\tconfig.undoStackSize = 50;\n *\n * @cfg {Number} [undoStackSize=20]\n * @member CKEDITOR.config\n */\n\n/**\n * Fired when the editor is about to save an undo snapshot. This event can be\n * fired by plugins and customizations to make the editor save undo snapshots.\n *\n * @event saveSnapshot\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n/**\n * Fired before an undo image is to be created. An *undo image* represents the\n * editor state at some point. It is saved into the undo store, so the editor is\n * able to recover the editor state on undo and redo operations.\n *\n * @since 3.5.3\n * @event beforeUndoImage\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @see CKEDITOR.editor#afterUndoImage\n */\n\n/**\n * Fired after an undo image is created. An *undo image* represents the\n * editor state at some point. It is saved into the undo store, so the editor is\n * able to recover the editor state on undo and redo operations.\n *\n * @since 3.5.3\n * @event afterUndoImage\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @see CKEDITOR.editor#beforeUndoImage\n */\n\n/**\n * Fired when the content of the editor is changed.\n *\n * Due to performance reasons, it is not verified if the content really changed.\n * The editor instead watches several editing actions that usually result in\n * changes. This event may thus in some cases be fired when no changes happen\n * or may even get fired twice.\n *\n * If it is important not to get the `change` event fired too often, you should compare the\n * previous and the current editor content inside the event listener. It is\n * not recommended to do that on every `change` event.\n *\n * Please note that the `change` event is only fired in the {@link #property-mode wysiwyg mode}.\n * In order to implement similar functionality in the source mode, you can listen for example to the {@link #key}\n * event or the native [`input`](https://developer.mozilla.org/en-US/docs/Web/Reference/Events/input)\n * event (not supported by Internet Explorer 8).\n *\n *\t\teditor.on( 'mode', function() {\n *\t\t\tif ( this.mode == 'source' ) {\n *\t\t\t\tvar editable = editor.editable();\n *\t\t\t\teditable.attachListener( editable, 'input', function() {\n *\t\t\t\t\t// Handle changes made in the source mode.\n *\t\t\t\t} );\n *\t\t\t}\n *\t\t} );\n *\n * @since 4.2\n * @event change\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/undo/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The WYSIWYG Area plugin. It registers the \"wysiwyg\" editing\n *\t\tmode, which handles the main editing area space.\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'wysiwygarea', {\n\t\tinit: function( editor ) {\n\t\t\tif ( editor.config.fullPage ) {\n\t\t\t\teditor.addFeature( {\n\t\t\t\t\tallowedContent: 'html head title; style [media,type]; body (*)[id]; meta link [*]',\n\t\t\t\t\trequiredContent: 'body'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditor.addMode( 'wysiwyg', function( callback ) {\n\t\t\t\tvar src = 'document.open();' +\n\t\t\t\t\t// In IE, the document domain must be set any time we call document.open().\n\t\t\t\t\t( CKEDITOR.env.ie ? '(' + CKEDITOR.tools.fixDomain + ')();' : '' ) +\n\t\t\t\t\t'document.close();';\n\n\t\t\t\t// With IE, the custom domain has to be taken care at first,\n\t\t\t\t// for other browers, the 'src' attribute should be left empty to\n\t\t\t\t// trigger iframe's 'load' event.\n\t\t\t\t// Microsoft Edge throws \"Permission Denied\" if treated like an IE (#13441).\n\t\t\t\tif ( CKEDITOR.env.air ) {\n\t\t\t\t\tsrc = 'javascript:void(0)'; // jshint ignore:line\n\t\t\t\t} else if ( CKEDITOR.env.ie && !CKEDITOR.env.edge ) {\n\t\t\t\t\tsrc = 'javascript:void(function(){' + encodeURIComponent( src ) + '}())'; // jshint ignore:line\n\t\t\t\t} else {\n\t\t\t\t\tsrc = '';\n\t\t\t\t}\n\n\t\t\t\tvar iframe = CKEDITOR.dom.element.createFromHtml( '<iframe src=\"' + src + '\" frameBorder=\"0\"></iframe>' );\n\t\t\t\tiframe.setStyles( { width: '100%', height: '100%' } );\n\t\t\t\tiframe.addClass( 'cke_wysiwyg_frame' ).addClass( 'cke_reset' );\n\n\t\t\t\tvar contentSpace = editor.ui.space( 'contents' );\n\t\t\t\tcontentSpace.append( iframe );\n\n\n\t\t\t\t// Asynchronous iframe loading is only required in IE>8 and Gecko (other reasons probably).\n\t\t\t\t// Do not use it on WebKit as it'll break the browser-back navigation.\n\t\t\t\tvar useOnloadEvent = ( CKEDITOR.env.ie && !CKEDITOR.env.edge ) || CKEDITOR.env.gecko;\n\t\t\t\tif ( useOnloadEvent )\n\t\t\t\t\tiframe.on( 'load', onLoad );\n\n\t\t\t\tvar frameLabel = editor.title,\n\t\t\t\t\thelpLabel = editor.fire( 'ariaEditorHelpLabel', {} ).label;\n\n\t\t\t\tif ( frameLabel ) {\n\t\t\t\t\tif ( CKEDITOR.env.ie && helpLabel )\n\t\t\t\t\t\tframeLabel += ', ' + helpLabel;\n\n\t\t\t\t\tiframe.setAttribute( 'title', frameLabel );\n\t\t\t\t}\n\n\t\t\t\tif ( helpLabel ) {\n\t\t\t\t\tvar labelId = CKEDITOR.tools.getNextId(),\n\t\t\t\t\t\tdesc = CKEDITOR.dom.element.createFromHtml( '<span id=\"' + labelId + '\" class=\"cke_voice_label\">' + helpLabel + '</span>' );\n\n\t\t\t\t\tcontentSpace.append( desc, 1 );\n\t\t\t\t\tiframe.setAttribute( 'aria-describedby', labelId );\n\t\t\t\t}\n\n\t\t\t\t// Remove the ARIA description.\n\t\t\t\teditor.on( 'beforeModeUnload', function( evt ) {\n\t\t\t\t\tevt.removeListener();\n\t\t\t\t\tif ( desc )\n\t\t\t\t\t\tdesc.remove();\n\t\t\t\t} );\n\n\t\t\t\tiframe.setAttributes( {\n\t\t\t\t\ttabIndex: editor.tabIndex,\n\t\t\t\t\tallowTransparency: 'true'\n\t\t\t\t} );\n\n\t\t\t\t// Execute onLoad manually for all non IE||Gecko browsers.\n\t\t\t\t!useOnloadEvent && onLoad();\n\n\t\t\t\teditor.fire( 'ariaWidget', iframe );\n\n\t\t\t\tfunction onLoad( evt ) {\n\t\t\t\t\tevt && evt.removeListener();\n\t\t\t\t\teditor.editable( new framedWysiwyg( editor, iframe.$.contentWindow.document.body ) );\n\t\t\t\t\teditor.setData( editor.getData( 1 ), callback );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n\n\t/**\n\t * Adds the path to a stylesheet file to the exisiting {@link CKEDITOR.config#contentsCss} value.\n\t *\n\t * **Note:** This method is available only with the `wysiwygarea` plugin and only affects\n\t * classic editors based on it (so it does not affect inline editors).\n\t *\n\t *\t\teditor.addContentsCss( 'assets/contents.css' );\n\t *\n\t * @since 4.4\n\t * @param {String} cssPath The path to the stylesheet file which should be added.\n\t * @member CKEDITOR.editor\n\t */\n\tCKEDITOR.editor.prototype.addContentsCss = function( cssPath ) {\n\t\tvar cfg = this.config,\n\t\t\tcurContentsCss = cfg.contentsCss;\n\n\t\t// Convert current value into array.\n\t\tif ( !CKEDITOR.tools.isArray( curContentsCss ) )\n\t\t\tcfg.contentsCss = curContentsCss ? [ curContentsCss ] : [];\t\n\t\tcfg.contentsCss.push( cssPath );\n\t};\n\n\tfunction onDomReady( win ) {\n\t\tvar editor = this.editor,\n\t\t\tdoc = win.document,\n\t\t\tbody = doc.body;\n\n\t\t// Remove helper scripts from the DOM.\n\t\tvar script = doc.getElementById( 'cke_actscrpt' );\n\t\tscript && script.parentNode.removeChild( script );\n\t\tscript = doc.getElementById( 'cke_shimscrpt' );\n\t\tscript && script.parentNode.removeChild( script );\n\t\tscript = doc.getElementById( 'cke_basetagscrpt' );\n\t\tscript && script.parentNode.removeChild( script );\n\n\t\tbody.contentEditable = true;\n\n\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t// Don't display the focus border.\n\t\t\tbody.hideFocus = true;\n\n\t\t\t// Disable and re-enable the body to avoid IE from\n\t\t\t// taking the editing focus at startup. (#141 / #523)\n\t\t\tbody.disabled = true;\n\t\t\tbody.removeAttribute( 'disabled' );\n\t\t}\n\n\t\tdelete this._.isLoadingData;\n\n\t\t// Play the magic to alter element reference to the reloaded one.\n\t\tthis.$ = body;\n\n\t\tdoc = new CKEDITOR.dom.document( doc );\n\n\t\tthis.setup();\n\t\tthis.fixInitialSelection();\n\n\t\tvar editable = this;\n\n\t\t// Without it IE8 has problem with removing selection in nested editable. (#13785)\n\t\tif ( CKEDITOR.env.ie && !CKEDITOR.env.edge ) {\n\t\t\tdoc.getDocumentElement().addClass( doc.$.compatMode );\n\t\t}\n\n\t\t// Prevent IE/Edge from leaving a new paragraph/div after deleting all contents in body. (#6966, #13142)\n\t\tif ( CKEDITOR.env.ie && !CKEDITOR.env.edge && editor.enterMode != CKEDITOR.ENTER_P ) {\n\t\t\tremoveSuperfluousElement( 'p' );\n\t\t} else if ( CKEDITOR.env.edge && editor.enterMode != CKEDITOR.ENTER_DIV ) {\n\t\t\tremoveSuperfluousElement( 'div' );\n\t\t}\n\n\t\t// Fix problem with cursor not appearing in Webkit and IE11+ when clicking below the body (#10945, #10906).\n\t\t// Fix for older IEs (8-10 and QM) is placed inside selection.js.\n\t\tif ( CKEDITOR.env.webkit || ( CKEDITOR.env.ie && CKEDITOR.env.version > 10 ) ) {\n\t\t\tdoc.getDocumentElement().on( 'mousedown', function( evt ) {\n\t\t\t\tif ( evt.data.getTarget().is( 'html' ) ) {\n\t\t\t\t\t// IE needs this timeout. Webkit does not, but it does not cause problems too.\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\teditor.editable().focus();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Config props: disableObjectResizing and disableNativeTableHandles handler.\n\t\tobjectResizeDisabler( editor );\n\n\t\t// Enable dragging of position:absolute elements in IE.\n\t\ttry {\n\t\t\teditor.document.$.execCommand( '2D-position', false, true );\n\t\t} catch ( e ) {}\n\n\t\tif ( CKEDITOR.env.gecko || CKEDITOR.env.ie && editor.document.$.compatMode == 'CSS1Compat' ) {\n\t\t\tthis.attachListener( this, 'keydown', function( evt ) {\n\t\t\t\tvar keyCode = evt.data.getKeystroke();\n\n\t\t\t\t// PageUp OR PageDown\n\t\t\t\tif ( keyCode == 33 || keyCode == 34 ) {\n\t\t\t\t\t// PageUp/PageDown scrolling is broken in document\n\t\t\t\t\t// with standard doctype, manually fix it. (#4736)\n\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\teditor.getSelection().scrollIntoView();\n\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t}\n\t\t\t\t\t// Page up/down cause editor selection to leak\n\t\t\t\t\t// outside of editable thus we try to intercept\n\t\t\t\t\t// the behavior, while it affects only happen\n\t\t\t\t\t// when editor contents are not overflowed. (#7955)\n\t\t\t\t\telse if ( editor.window.$.innerHeight > this.$.offsetHeight ) {\n\t\t\t\t\t\tvar range = editor.createRange();\n\t\t\t\t\t\trange[ keyCode == 33 ? 'moveToElementEditStart' : 'moveToElementEditEnd' ]( this );\n\t\t\t\t\t\trange.select();\n\t\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t// [IE] Iframe will still keep the selection when blurred, if\n\t\t\t// focus is moved onto a non-editing host, e.g. link or button, but\n\t\t\t// it becomes a problem for the object type selection, since the resizer\n\t\t\t// handler attached on it will mark other part of the UI, especially\n\t\t\t// for the dialog. (#8157)\n\t\t\t// [IE<8 & Opera] Even worse For old IEs, the cursor will not vanish even if\n\t\t\t// the selection has been moved to another text input in some cases. (#4716)\n\t\t\t//\n\t\t\t// Now the range restore is disabled, so we simply force IE to clean\n\t\t\t// up the selection before blur.\n\t\t\tthis.attachListener( doc, 'blur', function() {\n\t\t\t\t// Error proof when the editor is not visible. (#6375)\n\t\t\t\ttry {\n\t\t\t\t\tdoc.$.selection.empty();\n\t\t\t\t} catch ( er ) {}\n\t\t\t} );\n\t\t}\n\n\t\tif ( CKEDITOR.env.iOS ) {\n\t\t\t// [iOS] If touch is bound to any parent of the iframe blur happens on any touch\n\t\t\t// event and body becomes the focused element (#10714).\n\t\t\tthis.attachListener( doc, 'touchend', function() {\n\t\t\t\twin.focus();\n\t\t\t} );\n\t\t}\n\n\t\tvar title = editor.document.getElementsByTag( 'title' ).getItem( 0 );\n\t\t// document.title is malfunctioning on Chrome, so get value from the element (#12402).\n\t\ttitle.data( 'cke-title', title.getText() );\n\n\t\t// [IE] JAWS will not recognize the aria label we used on the iframe\n\t\t// unless the frame window title string is used as the voice label,\n\t\t// backup the original one and restore it on output.\n\t\tif ( CKEDITOR.env.ie )\n\t\t\teditor.document.$.title = this._.docTitle;\n\n\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t// Editable is ready after first setData.\n\t\t\tif ( this.status == 'unloaded' )\n\t\t\t\tthis.status = 'ready';\n\n\t\t\teditor.fire( 'contentDom' );\n\n\t\t\tif ( this._.isPendingFocus ) {\n\t\t\t\teditor.focus();\n\t\t\t\tthis._.isPendingFocus = false;\n\t\t\t}\n\n\t\t\tsetTimeout( function() {\n\t\t\t\teditor.fire( 'dataReady' );\n\t\t\t}, 0 );\n\t\t}, 0, this );\n\n\t\tfunction removeSuperfluousElement( tagName ) {\n\t\t\tvar lockRetain = false;\n\n\t\t\t// Superfluous elements appear after keydown\n\t\t\t// and before keyup, so the procedure is as follows:\n\t\t\t// 1. On first keydown mark all elements with\n\t\t\t// a specified tag name as non-superfluous.\n\t\t\teditable.attachListener( editable, 'keydown', function() {\n\t\t\t\tvar body = doc.getBody(),\n\t\t\t\t\tretained = body.getElementsByTag( tagName );\n\n\t\t\t\tif ( !lockRetain ) {\n\t\t\t\t\tfor ( var i = 0; i < retained.count(); i++ ) {\n\t\t\t\t\t\tretained.getItem( i ).setCustomData( 'retain', true );\n\t\t\t\t\t}\n\t\t\t\t\tlockRetain = true;\n\t\t\t\t}\n\t\t\t}, null, null, 1 );\n\n\t\t\t// 2. On keyup remove all elements that were not marked\n\t\t\t// as non-superfluous (which means they must have had appeared in the meantime).\n\t\t\teditable.attachListener( editable, 'keyup', function() {\n\t\t\t\tvar elements = doc.getElementsByTag( tagName );\n\t\t\t\tif ( lockRetain ) {\n\t\t\t\t\tif ( elements.count() == 1 && !elements.getItem( 0 ).getCustomData( 'retain' ) ) {\n\t\t\t\t\t\telements.getItem( 0 ).remove( 1 );\n\t\t\t\t\t}\n\t\t\t\t\tlockRetain = false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tvar framedWysiwyg = CKEDITOR.tools.createClass( {\n\t\t$: function() {\n\t\t\tthis.base.apply( this, arguments );\n\n\t\t\tthis._.frameLoadedHandler = CKEDITOR.tools.addFunction( function( win ) {\n\t\t\t\t// Avoid opening design mode in a frame window thread,\n\t\t\t\t// which will cause host page scrolling.(#4397)\n\t\t\t\tCKEDITOR.tools.setTimeout( onDomReady, 0, this, win );\n\t\t\t}, this );\n\n\t\t\tthis._.docTitle = this.getWindow().getFrame().getAttribute( 'title' );\n\t\t},\n\n\t\tbase: CKEDITOR.editable,\n\n\t\tproto: {\n\t\t\tsetData: function( data, isSnapshot ) {\n\t\t\t\tvar editor = this.editor;\n\n\t\t\t\tif ( isSnapshot ) {\n\t\t\t\t\tthis.setHtml( data );\n\t\t\t\t\tthis.fixInitialSelection();\n\n\t\t\t\t\t// Fire dataReady for the consistency with inline editors\n\t\t\t\t\t// and because it makes sense. (#10370)\n\t\t\t\t\teditor.fire( 'dataReady' );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis._.isLoadingData = true;\n\t\t\t\t\teditor._.dataStore = { id: 1 };\n\n\t\t\t\t\tvar config = editor.config,\n\t\t\t\t\t\tfullPage = config.fullPage,\n\t\t\t\t\t\tdocType = config.docType;\n\n\t\t\t\t\t// Build the additional stuff to be included into <head>.\n\t\t\t\t\tvar headExtra = CKEDITOR.tools.buildStyleHtml( iframeCssFixes() ).replace( /<style>/, '<style data-cke-temp=\"1\">' );\n\n\t\t\t\t\tif ( !fullPage )\n\t\t\t\t\t\theadExtra += CKEDITOR.tools.buildStyleHtml( editor.config.contentsCss );\n\n\t\t\t\t\tvar baseTag = config.baseHref ? '<base href=\"' + config.baseHref + '\" data-cke-temp=\"1\" />' : '';\n\n\t\t\t\t\tif ( fullPage ) {\n\t\t\t\t\t\t// Search and sweep out the doctype declaration.\n\t\t\t\t\t\tdata = data.replace( /<!DOCTYPE[^>]*>/i, function( match ) {\n\t\t\t\t\t\t\teditor.docType = docType = match;\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t} ).replace( /<\\?xml\\s[^\\?]*\\?>/i, function( match ) {\n\t\t\t\t\t\t\teditor.xmlDeclaration = match;\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Get the HTML version of the data.\n\t\t\t\t\tdata = editor.dataProcessor.toHtml( data );\n\n\t\t\t\t\tif ( fullPage ) {\n\t\t\t\t\t\t// Check if the <body> tag is available.\n\t\t\t\t\t\tif ( !( /<body[\\s|>]/ ).test( data ) )\n\t\t\t\t\t\t\tdata = '<body>' + data;\n\n\t\t\t\t\t\t// Check if the <html> tag is available.\n\t\t\t\t\t\tif ( !( /<html[\\s|>]/ ).test( data ) )\n\t\t\t\t\t\t\tdata = '<html>' + data + '</html>';\n\n\t\t\t\t\t\t// Check if the <head> tag is available.\n\t\t\t\t\t\tif ( !( /<head[\\s|>]/ ).test( data ) )\n\t\t\t\t\t\t\tdata = data.replace( /<html[^>]*>/, '$&<head><title></title></head>' );\n\t\t\t\t\t\telse if ( !( /<title[\\s|>]/ ).test( data ) )\n\t\t\t\t\t\t\tdata = data.replace( /<head[^>]*>/, '$&<title></title>' );\n\n\t\t\t\t\t\t// The base must be the first tag in the HEAD, e.g. to get relative\n\t\t\t\t\t\t// links on styles.\n\t\t\t\t\t\tbaseTag && ( data = data.replace( /<head[^>]*?>/, '$&' + baseTag ) );\n\t\t\t\t\t\t// Inject the extra stuff into <head>.\n\t\t\t\t\t\t// Attention: do not change it before testing it well. (V2)\n\t\t\t\t\t\t// This is tricky... if the head ends with <meta ... content type>,\n\t\t\t\t\t\t// Firefox will break. But, it works if we place our extra stuff as\n\t\t\t\t\t\t// the last elements in the HEAD.\n\t\t\t\t\t\tdata = data.replace( /<\\/head\\s*>/, headExtra + '$&' );\n\t\t\t\t\t\t// Add the DOCTYPE back to it.\n\t\t\t\t\t\tdata = docType + data;\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// headExtra = headExtra.slice(0,headExtra.indexOf('<link'));\n\t\t\t\t\t\tdata = config.docType +\n\t\t\t\t\t\t\t'<html dir=\"' + config.contentsLangDirection + '\"' +\n\t\t\t\t\t\t\t\t' lang=\"' + ( config.contentsLanguage || editor.langCode ) + '\">' +\n\t\t\t\t\t\t\t'<head>' +\n\t\t\t\t\t\t\t\t'<title>' + this._.docTitle + '</title>' +\n\t\t\t\t\t\t\t\tbaseTag +\n\t\t\t\t\t\t\t\theadExtra +\n\t\t\t\t\t\t\t'</head>' +\n\t\t\t\t\t\t\t'<body' + ( config.bodyId ? ' id=\"' + config.bodyId + '\"' : '' ) +\n\t\t\t\t\t\t\t\t( config.bodyClass ? ' class=\"' + config.bodyClass + '\"' : '' ) +\n\t\t\t\t\t\t\t'>' +\n\t\t\t\t\t\t\t\tdata +\n\t\t\t\t\t\t\t'</body>' +\n\t\t\t\t\t\t\t'</html>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\t\t\t\t// Hack to make Fx put cursor at the start of doc on fresh focus.\n\t\t\t\t\t\tdata = data.replace( /<body/, '<body contenteditable=\"true\" ' );\n\n\t\t\t\t\t\t// Another hack which is used by onDomReady to remove a leading\n\t\t\t\t\t\t// <br> which is inserted by Firefox 3.6 when document.write is called.\n\t\t\t\t\t\t// This additional <br> is present because of contenteditable=\"true\"\n\t\t\t\t\t\tif ( CKEDITOR.env.version < 20000 )\n\t\t\t\t\t\t\tdata = data.replace( /<body[^>]*>/, '$&<!-- cke-content-start -->'  );\n\t\t\t\t\t}\n\n\t\t\t\t\t// The script that launches the bootstrap logic on 'domReady', so the document\n\t\t\t\t\t// is fully editable even before the editing iframe is fully loaded (#4455).\n\t\t\t\t\tvar bootstrapCode =\n\t\t\t\t\t\t'<script id=\"cke_actscrpt\" type=\"text/javascript\"' + ( CKEDITOR.env.ie ? ' defer=\"defer\" ' : '' ) + '>' +\n\t\t\t\t\t\t\t'var wasLoaded=0;' +\t// It must be always set to 0 as it remains as a window property.\n\t\t\t\t\t\t\t'function onload(){' +\n\t\t\t\t\t\t\t\t'if(!wasLoaded)' +\t// FF3.6 calls onload twice when editor.setData. Stop that.\n\t\t\t\t\t\t\t\t\t'window.parent.CKEDITOR.tools.callFunction(' + this._.frameLoadedHandler + ',window);' +\n\t\t\t\t\t\t\t\t'wasLoaded=1;' +\n\t\t\t\t\t\t\t'}' +\n\t\t\t\t\t\t\t( CKEDITOR.env.ie ? 'onload();' : 'document.addEventListener(\"DOMContentLoaded\", onload, false );' ) +\n\t\t\t\t\t\t'</script>';\n\n\t\t\t\t\t// For IE<9 add support for HTML5's elements.\n\t\t\t\t\t// Note: this code must not be deferred.\n\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 ) {\n\t\t\t\t\t\tbootstrapCode +=\n\t\t\t\t\t\t\t'<script id=\"cke_shimscrpt\">' +\n\t\t\t\t\t\t\t\t'window.parent.CKEDITOR.tools.enableHtml5Elements(document)' +\n\t\t\t\t\t\t\t'</script>';\n\t\t\t\t\t}\n\n\t\t\t\t\t// IE<10 needs this hack to properly enable <base href=\"...\">.\n\t\t\t\t\t// See: http://stackoverflow.com/a/13373180/1485219 (#11910).\n\t\t\t\t\tif ( baseTag && CKEDITOR.env.ie && CKEDITOR.env.version < 10 ) {\n\t\t\t\t\t\tbootstrapCode +=\n\t\t\t\t\t\t\t'<script id=\"cke_basetagscrpt\">' +\n\t\t\t\t\t\t\t\t'var baseTag = document.querySelector( \"base\" );' +\n\t\t\t\t\t\t\t\t'baseTag.href = baseTag.href;' +\n\t\t\t\t\t\t\t'</script>';\n\t\t\t\t\t}\n\n\t\t\t\t\tdata = data.replace( /(?=\\s*<\\/(:?head)>)/, bootstrapCode );\n\n\t\t\t\t\t// Current DOM will be deconstructed by document.write, cleanup required.\n\t\t\t\t\tthis.clearCustomData();\n\t\t\t\t\tthis.clearListeners();\n\n\t\t\t\t\teditor.fire( 'contentDomUnload' );\n\n\t\t\t\t\tvar doc = this.getDocument();\n\n\t\t\t\t\t// Work around Firefox bug - error prune when called from XUL (#320),\n\t\t\t\t\t// defer it thanks to the async nature of this method.\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdoc.write( data );\n\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tdoc.write( data );\n\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetData: function( isSnapshot ) {\n\t\t\t\tif ( isSnapshot )\n\t\t\t\t\treturn this.getHtml();\n\t\t\t\telse {\n\t\t\t\t\tvar editor = this.editor,\n\t\t\t\t\t\tconfig = editor.config,\n\t\t\t\t\t\tfullPage = config.fullPage,\n\t\t\t\t\t\tdocType = fullPage && editor.docType,\n\t\t\t\t\t\txmlDeclaration = fullPage && editor.xmlDeclaration,\n\t\t\t\t\t\tdoc = this.getDocument();\n\n\t\t\t\t\tvar data = fullPage ? doc.getDocumentElement().getOuterHtml() : doc.getBody().getHtml();\n\n\t\t\t\t\t// BR at the end of document is bogus node for Mozilla. (#5293).\n\t\t\t\t\t// Prevent BRs from disappearing from the end of the content\n\t\t\t\t\t// while enterMode is ENTER_BR (#10146).\n\t\t\t\t\tif ( CKEDITOR.env.gecko && config.enterMode != CKEDITOR.ENTER_BR )\n\t\t\t\t\t\tdata = data.replace( /<br>(?=\\s*(:?$|<\\/body>))/, '' );\n\n\t\t\t\t\tdata = editor.dataProcessor.toDataFormat( data );\n\n\t\t\t\t\tif ( xmlDeclaration )\n\t\t\t\t\t\tdata = xmlDeclaration + '\\n' + data;\n\t\t\t\t\tif ( docType )\n\t\t\t\t\t\tdata = docType + '\\n' + data;\n\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfocus: function() {\n\t\t\t\tif ( this._.isLoadingData )\n\t\t\t\t\tthis._.isPendingFocus = true;\n\t\t\t\telse\n\t\t\t\t\tframedWysiwyg.baseProto.focus.call( this );\n\t\t\t},\n\n\t\t\tdetach: function() {\n\t\t\t\tvar editor = this.editor,\n\t\t\t\t\tdoc = editor.document,\n\t\t\t\t\tiframe,\n\t\t\t\t\tonResize;\n\n\t\t\t\t// Trying to access window's frameElement property on Edge throws an exception\n\t\t\t\t// when frame was already removed from DOM. (#13850, #13790)\n\t\t\t\ttry {\n\t\t\t\t\tiframe =  editor.window.getFrame();\n\t\t\t\t} catch ( e ) {}\n\n\t\t\t\tframedWysiwyg.baseProto.detach.call( this );\n\n\t\t\t\t// Memory leak proof.\n\t\t\t\tthis.clearCustomData();\n\t\t\t\tdoc.getDocumentElement().clearCustomData();\n\t\t\t\tCKEDITOR.tools.removeFunction( this._.frameLoadedHandler );\n\n\t\t\t\t// On IE, iframe is returned even after remove() method is called on it.\n\t\t\t\t// Checking if parent is present fixes this issue. (#13850)\n\t\t\t\tif ( iframe && iframe.getParent() ) {\n\t\t\t\t\tiframe.clearCustomData();\n\t\t\t\t\tonResize = iframe.removeCustomData( 'onResize' );\n\t\t\t\t\tonResize && onResize.removeListener();\n\n\t\t\t\t\t// IE BUG: When destroying editor DOM with the selection remains inside\n\t\t\t\t\t// editing area would break IE7/8's selection system, we have to put the editing\n\t\t\t\t\t// iframe offline first. (#3812 and #5441)\n\t\t\t\t\tiframe.remove();\n\t\t\t\t} else {\n\t\t\t\t\tCKEDITOR.warn( 'editor-destroy-iframe' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n\n\tfunction objectResizeDisabler( editor ) {\n\t\tif ( CKEDITOR.env.gecko ) {\n\t\t\t// FF allows to change resizing preferences by calling execCommand.\n\t\t\ttry {\n\t\t\t\tvar doc = editor.document.$;\n\t\t\t\tdoc.execCommand( 'enableObjectResizing', false, !editor.config.disableObjectResizing );\n\t\t\t\tdoc.execCommand( 'enableInlineTableEditing', false, !editor.config.disableNativeTableHandles );\n\t\t\t} catch ( e ) {}\n\t\t} else if ( CKEDITOR.env.ie && CKEDITOR.env.version < 11 && editor.config.disableObjectResizing ) {\n\t\t\t// It's possible to prevent resizing up to IE10.\n\t\t\tblockResizeStart( editor );\n\t\t}\n\n\t\t// Disables resizing by preventing default action on resizestart event.\n\t\tfunction blockResizeStart() {\n\t\t\tvar lastListeningElement;\n\n\t\t\t// We'll attach only one listener at a time, instead of adding it to every img, input, hr etc.\n\t\t\t// Listener will be attached upon selectionChange, we'll also check if there was any element that\n\t\t\t// got listener before (lastListeningElement) - if so we need to remove previous listener.\n\t\t\teditor.editable().attachListener( editor, 'selectionChange', function() {\n\t\t\t\tvar selectedElement = editor.getSelection().getSelectedElement();\n\n\t\t\t\tif ( selectedElement ) {\n\t\t\t\t\tif ( lastListeningElement ) {\n\t\t\t\t\t\tlastListeningElement.detachEvent( 'onresizestart', resizeStartListener );\n\t\t\t\t\t\tlastListeningElement = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// IE requires using attachEvent, because it does not work using W3C compilant addEventListener,\n\t\t\t\t\t// tested with IE10.\n\t\t\t\t\tselectedElement.$.attachEvent( 'onresizestart', resizeStartListener );\n\t\t\t\t\tlastListeningElement = selectedElement.$;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction resizeStartListener( evt ) {\n\t\t\tevt.returnValue = false;\n\t\t}\n\t}\n\n\tfunction iframeCssFixes() {\n\t\tvar css = [];\n\n\t\t// IE>=8 stricts mode doesn't have 'contentEditable' in effect\n\t\t// on element unless it has layout. (#5562)\n\t\tif ( CKEDITOR.document.$.documentMode >= 8 ) {\n\t\t\tcss.push( 'html.CSS1Compat [contenteditable=false]{min-height:0 !important}' );\n\n\t\t\tvar selectors = [];\n\n\t\t\tfor ( var tag in CKEDITOR.dtd.$removeEmpty )\n\t\t\t\tselectors.push( 'html.CSS1Compat ' + tag + '[contenteditable=false]' );\n\n\t\t\tcss.push( selectors.join( ',' ) + '{display:inline-block}' );\n\t\t}\n\t\t// Set the HTML style to 100% to have the text cursor in affect (#6341)\n\t\telse if ( CKEDITOR.env.gecko ) {\n\t\t\tcss.push( 'html{height:100% !important}' );\n\t\t\tcss.push( 'img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}' );\n\t\t}\n\n\t\t// #6341: The text cursor must be set on the editor area.\n\t\t// #6632: Avoid having \"text\" shape of cursor in IE7 scrollbars.\n\t\tcss.push( 'html{cursor:text;*cursor:auto}' );\n\n\t\t// Use correct cursor for these elements\n\t\tcss.push( 'img,input,textarea{cursor:default}' );\n\n\t\treturn css.join( '\\n' );\n\t}\n} )();\n\n/**\n * Disables the ability to resize objects (images and tables) in the editing area.\n *\n *\t\tconfig.disableObjectResizing = true;\n *\n * **Note:** Because of incomplete implementation of editing features in browsers\n * this option does not work for inline editors (see ticket [#10197](http://dev.ckeditor.com/ticket/10197)),\n * does not work in Internet Explorer 11+ (see [#9317](http://dev.ckeditor.com/ticket/9317#comment:16) and\n * [IE11+ issue](https://connect.microsoft.com/IE/feedback/details/742593/please-respect-execcommand-enableobjectresizing-in-contenteditable-elements)).\n * In Internet Explorer 8-10 this option only blocks resizing, but it is unable to hide the resize handles.\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.disableObjectResizing = false;\n\n/**\n * Disables the \"table tools\" offered natively by the browser (currently\n * Firefox only) to perform quick table editing operations, like adding or\n * deleting rows and columns.\n *\n *\t\tconfig.disableNativeTableHandles = false;\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.disableNativeTableHandles = true;\n\n/**\n * Disables the built-in spell checker if the browser provides one.\n *\n * **Note:** Although word suggestions provided natively by the browsers will\n * not appear in CKEditor's default context menu,\n * users can always reach the native context menu by holding the\n * *Ctrl* key when right-clicking if {@link #browserContextMenuOnCtrl}\n * is enabled or you are simply not using the\n * [context menu](http://ckeditor.com/addon/contextmenu) plugin.\n *\n *\t\tconfig.disableNativeSpellChecker = false;\n *\n * @cfg\n * @member CKEDITOR.config\n */\nCKEDITOR.config.disableNativeSpellChecker = true;\n\n/**\n * Language code of  the writing language which is used to author the editor\n * content. This option accepts one single entry value in the format defined in the\n * [Tags for Identifying Languages (BCP47)](http://www.ietf.org/rfc/bcp/bcp47.txt)\n * IETF document and is used in the `lang` attribute.\n *\n *\t\tconfig.contentsLanguage = 'fr';\n *\n * @cfg {String} [contentsLanguage=same value with editor's UI language]\n * @member CKEDITOR.config\n */\n\n/**\n * The base href URL used to resolve relative and absolute URLs in the\n * editor content.\n *\n *\t\tconfig.baseHref = 'http://www.example.com/path/';\n *\n * @cfg {String} [baseHref='']\n * @member CKEDITOR.config\n */\n\n/**\n * Whether to automatically create wrapping blocks around inline content inside the document body.\n * This helps to ensure the integrity of the block *Enter* mode.\n *\n * **Note:** This option is deprecated. Changing the default value might introduce unpredictable usability issues and is\n * highly unrecommended.\n *\n *\t\tconfig.autoParagraph = false;\n *\n * @deprecated\n * @since 3.6\n * @cfg {Boolean} [autoParagraph=true]\n * @member CKEDITOR.config\n */\n\n/**\n * Fired when some elements are added to the document.\n *\n * @event ariaWidget\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {CKEDITOR.dom.element} data The element being added.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/wysiwygarea/plugin.js\n **/","// jscs:disable disallowMixedSpacesAndTabs\n/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Defines the \"virtual\" dialog, dialog content and dialog button\n * definition classes.\n */\n\n/**\n * The definition of a dialog window.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create dialogs.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\tCKEDITOR.dialog.add( 'testOnly', function( editor ) {\n *\t\t\treturn {\n *\t\t\t\ttitle:\t\t\t'Test Dialog',\n *\t\t\t\tresizable:\t\tCKEDITOR.DIALOG_RESIZE_BOTH,\n *\t\t\t\tminWidth:\t\t500,\n *\t\t\t\tminHeight:\t\t400,\n *\t\t\t\tcontents: [\n *\t\t\t\t\t{\n *\t\t\t\t\t\tid:\t\t\t'tab1',\n *\t\t\t\t\t\tlabel:\t\t'First Tab',\n *\t\t\t\t\t\ttitle:\t\t'First Tab Title',\n *\t\t\t\t\t\taccessKey:\t'Q',\n *\t\t\t\t\t\telements: [\n *\t\t\t\t\t\t\t{\n *\t\t\t\t\t\t\t\ttype:\t\t\t'text',\n *\t\t\t\t\t\t\t\tlabel:\t\t\t'Test Text 1',\n *\t\t\t\t\t\t\t\tid:\t\t\t\t'testText1',\n *\t\t\t\t\t\t\t\t'default':\t\t'hello world!'\n *\t\t\t\t\t\t\t}\n *\t\t\t\t\t\t]\n *\t\t\t\t\t}\n *\t\t\t\t]\n *\t\t\t};\n *\t\t} );\n *\n * @class CKEDITOR.dialog.definition\n */\n\n/**\n * The dialog title, displayed in the dialog's header. Required.\n *\n * @property {String} title\n */\n\n/**\n * How the dialog can be resized, must be one of the four contents defined below.\n *\n * * {@link CKEDITOR#DIALOG_RESIZE_NONE}\n * * {@link CKEDITOR#DIALOG_RESIZE_WIDTH}\n * * {@link CKEDITOR#DIALOG_RESIZE_HEIGHT}\n * * {@link CKEDITOR#DIALOG_RESIZE_BOTH}\n *\n * @property {Number} [resizable=CKEDITOR.DIALOG_RESIZE_NONE]\n */\n\n/**\n * The minimum width of the dialog, in pixels.\n *\n * @property {Number} [minWidth=600]\n */\n\n/**\n * The minimum height of the dialog, in pixels.\n *\n * @property {Number} [minHeight=400]\n */\n\n\n/**\n * The initial width of the dialog, in pixels.\n *\n * @since 3.5.3\n * @property {Number} [width=CKEDITOR.dialog.definition#minWidth]\n */\n\n/**\n * The initial height of the dialog, in pixels.\n *\n * @since 3.5.3\n * @property {Number} [height=CKEDITOR.dialog.definition.minHeight]\n */\n\n/**\n * The buttons in the dialog, defined as an array of\n * {@link CKEDITOR.dialog.definition.button} objects.\n *\n * @property {Array} [buttons=[ CKEDITOR.dialog.okButton, CKEDITOR.dialog.cancelButton ]]\n */\n\n/**\n * The contents in the dialog, defined as an array of\n * {@link CKEDITOR.dialog.definition.content} objects. Required.\n *\n * @property {Array} contents\n */\n\n/**\n * The function to execute when OK is pressed.\n *\n * @property {Function} onOk\n */\n\n/**\n * The function to execute when Cancel is pressed.\n *\n * @property {Function} onCancel\n */\n\n/**\n * The function to execute when the dialog is displayed for the first time.\n *\n * @property {Function} onLoad\n */\n\n/**\n * The function to execute when the dialog is loaded (executed every time the dialog is opened).\n *\n * @property {Function} onShow\n */\n\n/**\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create dialog content pages.\n *\n * @class CKEDITOR.dialog.definition.content.\n */\n\n/**\n * The id of the content page.\n *\n * @property {String} id\n */\n\n/**\n * The tab label of the content page.\n *\n * @property {String} label\n */\n\n/**\n * The popup message of the tab label.\n *\n * @property {String} title\n */\n\n/**\n * The CTRL hotkey for switching to the tab.\n *\n *\t\tcontentDefinition.accessKey = 'Q'; // Switch to this page when CTRL-Q is pressed.\n *\n * @property {String} accessKey\n */\n\n/**\n * The UI elements contained in this content page, defined as an array of\n * {@link CKEDITOR.dialog.definition.uiElement} objects.\n *\n * @property {Array} elements\n */\n\n/**\n * The definition of user interface element (textarea, radio etc).\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create dialog UI elements.\n *\n * @class CKEDITOR.dialog.definition.uiElement\n * @see CKEDITOR.ui.dialog.uiElement\n */\n\n/**\n * The id of the UI element.\n *\n * @property {String} id\n */\n\n/**\n * The type of the UI element. Required.\n *\n * @property {String} type\n */\n\n/**\n * The popup label of the UI element.\n *\n * @property {String} title\n */\n\n/**\n * The content that needs to be allowed to enable this UI element.\n * All formats accepted by {@link CKEDITOR.filter#check} may be used.\n *\n * When all UI elements in a tab are disabled, this tab will be disabled automatically.\n *\n * @property {String/Object/CKEDITOR.style} requiredContent\n */\n\n/**\n * CSS class names to append to the UI element.\n *\n * @property {String} className\n */\n\n/**\n * Inline CSS classes to append to the UI element.\n *\n * @property {String} style\n */\n\n/**\n * Horizontal alignment (in container) of the UI element.\n *\n * @property {String} align\n */\n\n/**\n * Function to execute the first time the UI element is displayed.\n *\n * @property {Function} onLoad\n */\n\n/**\n * Function to execute whenever the UI element's parent dialog is displayed.\n *\n * @property {Function} onShow\n */\n\n/**\n * Function to execute whenever the UI element's parent dialog is closed.\n *\n * @property {Function} onHide\n */\n\n/**\n * Function to execute whenever the UI element's parent\n * dialog's {@link CKEDITOR.dialog#setupContent} method is executed.\n * It usually takes care of the respective UI element as a standalone element.\n *\n * @property {Function} setup\n */\n\n/**\n * Function to execute whenever the UI element's parent\n * dialog's {@link CKEDITOR.dialog#commitContent} method is executed.\n * It usually takes care of the respective UI element as a standalone element.\n *\n * @property {Function} commit\n */\n\n// ----- hbox -----------------------------------------------------------------\n\n/**\n * Horizontal layout box for dialog UI elements, auto-expends to available width of container.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create horizontal layouts.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.hbox} object and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'hbox',\n *\t\t\twidths: [ '25%', '25%', '50%' ],\n *\t\t\tchildren: [\n *\t\t\t\t{\n *\t\t\t\t\ttype: 'text',\n *\t\t\t\t\tid: 'id1',\n *\t\t\t\t\twidth: '40px',\n *\t\t\t\t},\n *\t\t\t\t{\n *\t\t\t\t\ttype: 'text',\n *\t\t\t\t\tid: 'id2',\n *\t\t\t\t\twidth: '40px',\n *\t\t\t\t},\n *\t\t\t\t{\n *\t\t\t\t\ttype: 'text',\n *\t\t\t\t\tid: 'id3'\n *\t\t\t\t}\n *\t\t\t]\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.hbox\n * @extends CKEDITOR.dialog.definition.uiElement\n */\n\n/**\n * Array of {@link CKEDITOR.ui.dialog.uiElement} objects inside this container.\n *\n * @property {Array} children\n */\n\n/**\n * (Optional) The widths of child cells.\n *\n * @property {Array} widths\n */\n\n/**\n * (Optional) The height of the layout.\n *\n * @property {Number} height\n */\n\n/**\n * The CSS styles to apply to this element.\n *\n * @property {String} styles\n */\n\n/**\n * (Optional) The padding width inside child cells. Example: 0, 1.\n *\n * @property {Number} padding\n */\n\n/**\n * (Optional) The alignment of the whole layout. Example: center, top.\n *\n * @property {String} align\n */\n\n// ----- vbox -----------------------------------------------------------------\n\n/**\n * Vertical layout box for dialog UI elements.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create vertical layouts.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.vbox} object and can\n * be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'vbox',\n *\t\t\talign: 'right',\n *\t\t\twidth: '200px',\n *\t\t\tchildren: [\n *\t\t\t\t{\n *\t\t\t\t\ttype: 'text',\n *\t\t\t\t\tid: 'age',\n *\t\t\t\t\tlabel: 'Age'\n *\t\t\t\t},\n *\t\t\t\t{\n *\t\t\t\t\ttype: 'text',\n *\t\t\t\t\tid: 'sex',\n *\t\t\t\t\tlabel: 'Sex'\n *\t\t\t\t},\n *\t\t\t\t{\n *\t\t\t\t\ttype: 'text',\n *\t\t\t\t\tid: 'nationality',\n *\t\t\t\t\tlabel: 'Nationality'\n *\t\t\t\t}\n *\t\t\t]\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.vbox\n * @extends CKEDITOR.dialog.definition.uiElement\n */\n\n/**\n * Array of {@link CKEDITOR.ui.dialog.uiElement} objects inside this container.\n *\n * @property {Array} children\n */\n\n/**\n * (Optional) The width of the layout.\n *\n * @property {Array} width\n */\n\n/**\n * (Optional) The heights of individual cells.\n *\n * @property {Number} heights\n */\n\n/**\n * The CSS styles to apply to this element.\n *\n * @property {String} styles\n */\n\n/**\n * (Optional) The padding width inside child cells. Example: 0, 1.\n *\n * @property {Number} padding\n */\n\n/**\n * (Optional) The alignment of the whole layout. Example: center, top.\n *\n * @property {String} align\n */\n\n/**\n * (Optional) Whether the layout should expand vertically to fill its container.\n *\n * @property {Boolean} expand\n */\n\n// ----- labeled element ------------------------------------------------------\n\n/**\n * The definition of labeled user interface element (textarea, textInput etc).\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create dialog UI elements.\n *\n * @class CKEDITOR.dialog.definition.labeledElement\n * @extends CKEDITOR.dialog.definition.uiElement\n * @see CKEDITOR.ui.dialog.labeledElement\n */\n\n/**\n * The label of the UI element.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tlabel: 'My Label'\n *\t\t}\n *\n * @property {String} label\n */\n\n/**\n * (Optional) Specify the layout of the label. Set to `'horizontal'` for horizontal layout.\n * The default layout is vertical.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tlabel: 'My Label',\n *\t\t\tlabelLayout: 'horizontal'\n *\t\t}\n *\n * @property {String} labelLayout\n */\n\n/**\n * (Optional) Applies only to horizontal layouts: a two elements array of lengths to specify the widths of the\n * label and the content element. See also {@link CKEDITOR.dialog.definition.labeledElement#labelLayout}.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tlabel: 'My Label',\n *\t\t\tlabelLayout: 'horizontal',\n *\t\t\twidths: [100, 200]\n *\t\t}\n *\n * @property {Array} widths\n */\n\n/**\n * Specify the inline style of the uiElement label.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tlabel: 'My Label',\n *\t\t\tlabelStyle: 'color: red'\n *\t\t}\n *\n * @property {String} labelStyle\n */\n\n\n/**\n * Specify the inline style of the input element.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tlabel: 'My Label',\n *\t\t\tinputStyle: 'text-align: center'\n *\t\t}\n *\n * @since 3.6.1\n * @property {String} inputStyle\n */\n\n/**\n * Specify the inline style of the input element container.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tlabel: 'My Label',\n *\t\t\tcontrolStyle: 'width: 3em'\n *\t\t}\n *\n * @since 3.6.1\n * @property {String} controlStyle\n */\n\n// ----- button ---------------------------------------------------------------\n\n/**\n * The definition of a button.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create buttons.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.button} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'button',\n *\t\t\tid: 'buttonId',\n *\t\t\tlabel: 'Click me',\n *\t\t\ttitle: 'My title',\n *\t\t\tonClick: function() {\n *\t\t\t\t// this = CKEDITOR.ui.dialog.button\n *\t\t\t\talert( 'Clicked: ' + this.id );\n *\t\t\t}\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.button\n * @extends CKEDITOR.dialog.definition.uiElement\n */\n\n/**\n * Whether the button is disabled.\n *\n * @property {Boolean} disabled\n */\n\n/**\n * The label of the UI element.\n *\n * @property {String} label\n */\n\n// ----- checkbox ------\n/**\n * The definition of a checkbox element.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create groups of checkbox buttons.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.checkbox} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'checkbox',\n *\t\t\tid: 'agree',\n *\t\t\tlabel: 'I agree',\n *\t\t\t'default': 'checked',\n *\t\t\tonClick: function() {\n *\t\t\t\t// this = CKEDITOR.ui.dialog.checkbox\n *\t\t\t\talert( 'Checked: ' + this.getValue() );\n *\t\t\t}\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.checkbox\n * @extends CKEDITOR.dialog.definition.uiElement\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * The label of the UI element.\n *\n * @property {String} label\n */\n\n/**\n * The default state.\n *\n * @property {String} [default='' (unchecked)]\n */\n\n// ----- file -----------------------------------------------------------------\n\n/**\n * The definition of a file upload input.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create file upload elements.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.file} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'file',\n *\t\t\tid: 'upload',\n *\t\t\tlabel: 'Select file from your computer',\n *\t\t\tsize: 38\n *\t\t},\n *\t\t{\n *\t\t\ttype: 'fileButton',\n *\t\t\tid: 'fileId',\n *\t\t\tlabel: 'Upload file',\n *\t\t\t'for': [ 'tab1', 'upload' ],\n *\t\t\tfilebrowser: {\n *\t\t\t\tonSelect: function( fileUrl, data ) {\n *\t\t\t\t\talert( 'Successfully uploaded: ' + fileUrl );\n *\t\t\t\t}\n *\t\t\t}\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.file\n * @extends CKEDITOR.dialog.definition.labeledElement\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * (Optional) The action attribute of the form element associated with this file upload input.\n * If empty, CKEditor will use path to server connector for currently opened folder.\n *\n * @property {String} action\n */\n\n/**\n * The size of the UI element.\n *\n * @property {Number} size\n */\n\n// ----- fileButton -----------------------------------------------------------\n\n/**\n * The definition of a button for submitting the file in a file upload input.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create a button for submitting the file in a file upload input.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.fileButton} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n * @class CKEDITOR.dialog.definition.fileButton\n * @extends CKEDITOR.dialog.definition.uiElement\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * The label of the UI element.\n *\n * @property {String} label\n */\n\n/**\n * The instruction for CKEditor how to deal with file upload.\n * By default, the file and fileButton elements will not work \"as expected\" if this attribute is not set.\n *\n *\t\t// Update field with id 'txtUrl' in the 'tab1' tab when file is uploaded.\n *\t\tfilebrowser: 'tab1:txtUrl'\n *\n *\t\t// Call custom onSelect function when file is successfully uploaded.\n *\t\tfilebrowser: {\n *\t\t\tonSelect: function( fileUrl, data ) {\n *\t\t\t\talert( 'Successfully uploaded: ' + fileUrl );\n *\t\t\t}\n *\t\t}\n *\n * @property {String} filebrowser/Object\n */\n\n/**\n * An array that contains pageId and elementId of the file upload input element for which this button is created.\n *\n *\t\t[ pageId, elementId ]\n *\n * @property {String} for\n */\n\n// ----- html -----------------------------------------------------------------\n\n/**\n * The definition of a raw HTML element.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create elements made from raw HTML code.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.html} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n * To access HTML elements use {@link CKEDITOR.dom.document#getById}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example 1:\n *\t\t{\n *\t\t\ttype: 'html',\n *\t\t\thtml: '<h3>This is some sample HTML content.</h3>'\n *\t\t}\n *\n *\t\t// Example 2:\n *\t\t// Complete sample with document.getById() call when the \"Ok\" button is clicked.\n *\t\tvar dialogDefinition = {\n *\t\t\ttitle: 'Sample dialog',\n *\t\t\tminWidth: 300,\n *\t\t\tminHeight: 200,\n *\t\t\tonOk: function() {\n *\t\t\t\t// \"this\" is now a CKEDITOR.dialog object.\n *\t\t\t\tvar document = this.getElement().getDocument();\n *\t\t\t\t// document = CKEDITOR.dom.document\n *\t\t\t\tvar element = <b>document.getById( 'myDiv' );</b>\n *\t\t\t\tif ( element )\n *\t\t\t\t\talert( element.getHtml() );\n *\t\t\t},\n *\t\t\tcontents: [\n *\t\t\t\t{\n *\t\t\t\t\tid: 'tab1',\n *\t\t\t\t\tlabel: '',\n *\t\t\t\t\ttitle: '',\n *\t\t\t\t\telements: [\n *\t\t\t\t\t\t{\n *\t\t\t\t\t\t\ttype: 'html',\n *\t\t\t\t\t\t\thtml: '<div id=\"myDiv\">Sample <b>text</b>.</div><div id=\"otherId\">Another div.</div>'\n *\t\t\t\t\t\t}\n *\t\t\t\t\t]\n *\t\t\t\t}\n *\t\t\t],\n *\t\t\tbuttons: [ CKEDITOR.dialog.cancelButton, CKEDITOR.dialog.okButton ]\n *\t\t};\n *\n * @class CKEDITOR.dialog.definition.html\n * @extends CKEDITOR.dialog.definition.uiElement\n */\n\n/**\n * (Required) HTML code of this element.\n *\n * @property {String} html\n */\n\n// ----- radio ----------------------------------------------------------------\n\n/**\n * The definition of a radio group.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create groups of radio buttons.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.radio} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'radio',\n *\t\t\tid: 'country',\n *\t\t\tlabel: 'Which country is bigger',\n *\t\t\titems: [ [ 'France', 'FR' ], [ 'Germany', 'DE' ] ],\n *\t\t\tstyle: 'color: green',\n *\t\t\t'default': 'DE',\n *\t\t\tonClick: function() {\n *\t\t\t\t// this = CKEDITOR.ui.dialog.radio\n *\t\t\t\talert( 'Current value: ' + this.getValue() );\n *\t\t\t}\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.radio\n * @extends CKEDITOR.dialog.definition.labeledElement\n */\n\n/**\n * The default value.\n *\n * @property {String} default\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * An array of options. Each option is a 1- or 2-item array of format `[ 'Description', 'Value' ]`.\n * If `'Value'` is missing, then the value would be assumed to be the same as the description.\n *\n * @property {Array} items\n */\n\n// ----- selectElement --------------------------------------------------------\n\n/**\n * The definition of a select element.\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create select elements.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.select} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t// Example:\n *\t\t{\n *\t\t\ttype: 'select',\n *\t\t\tid: 'sport',\n *\t\t\tlabel: 'Select your favourite sport',\n *\t\t\titems: [ [ 'Basketball' ], [ 'Baseball' ], [ 'Hockey' ], [ 'Football' ] ],\n *\t\t\t'default': 'Football',\n *\t\t\tonChange: function( api ) {\n *\t\t\t\t// this = CKEDITOR.ui.dialog.select\n *\t\t\t\talert( 'Current value: ' + this.getValue() );\n *\t\t\t}\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.select\n * @extends CKEDITOR.dialog.definition.labeledElement\n */\n\n/**\n * The default value.\n *\n * @property {String} default\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * An array of options. Each option is a 1- or 2-item array of format `[ 'Description', 'Value' ]`.\n * If `'Value'` is missing, then the value would be assumed to be the same as the description.\n *\n * @property {Array} items\n */\n\n/**\n * (Optional) Set this to true if you'd like to have a multiple-choice select box.\n *\n * @property {Boolean} [multiple=false]\n */\n\n/**\n * (Optional) The number of items to display in the select box.\n *\n * @property {Number} size\n */\n\n// ----- textInput ------------------------------------------------------------\n\n/**\n * The definition of a text field (single line).\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create text fields.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.textInput} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n *\t\t// There is no constructor for this class, the user just has to define an\n *\t\t// object with the appropriate properties.\n *\n *\t\t{\n *\t\t\ttype: 'text',\n *\t\t\tid: 'name',\n *\t\t\tlabel: 'Your name',\n *\t\t\t'default': '',\n *\t\t\tvalidate: function() {\n *\t\t\t\tif ( !this.getValue() ) {\n *\t\t\t\t\tapi.openMsgDialog( '', 'Name cannot be empty.' );\n *\t\t\t\t\treturn false;\n *\t\t\t\t}\n *\t\t\t}\n *\t\t}\n *\n * @class CKEDITOR.dialog.definition.textInput\n * @extends CKEDITOR.dialog.definition.labeledElement\n */\n\n/**\n * The default value.\n *\n * @property {String} default\n */\n\n/**\n * (Optional) The maximum length.\n *\n * @property {Number} maxLength\n */\n\n/**\n * (Optional) The size of the input field.\n *\n * @property {Number} size\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * @property bidi\n * @inheritdoc CKEDITOR.dialog.definition.textarea#bidi\n */\n\n// ----- textarea -------------------------------------------------------------\n\n/**\n * The definition of a text field (multiple lines).\n *\n * This class is not really part of the API. It just illustrates the properties\n * that developers can use to define and create textarea.\n *\n * Once the dialog is opened, the created element becomes a {@link CKEDITOR.ui.dialog.textarea} object\n * and can be accessed with {@link CKEDITOR.dialog#getContentElement}.\n *\n * For a complete example of dialog definition, please check {@link CKEDITOR.dialog#add}.\n *\n* \t\t// There is no constructor for this class, the user just has to define an\n* \t\t// object with the appropriate properties.\n*\n* \t\t// Example:\n* \t\t{\n* \t\t\ttype: 'textarea',\n* \t\t\tid: 'message',\n* \t\t\tlabel: 'Your comment',\n* \t\t\t'default': '',\n* \t\t\tvalidate: function() {\n* \t\t\t\tif ( this.getValue().length < 5 ) {\n* \t\t\t\t\tapi.openMsgDialog( 'The comment is too short.' );\n* \t\t\t\t\treturn false;\n* \t\t\t\t}\n* \t\t\t}\n* \t\t}\n *\n * @class CKEDITOR.dialog.definition.textarea\n * @extends CKEDITOR.dialog.definition.labeledElement\n */\n\n/**\n * The number of rows.\n *\n * @property {Number} rows\n */\n\n/**\n * The number of columns.\n *\n * @property {Number} cols\n */\n\n/**\n * (Optional) The validation function.\n *\n * @property {Function} validate\n */\n\n/**\n * The default value.\n *\n * @property {String} default\n */\n\n/**\n * Whether the text direction of this input should be togglable using the following keystrokes:\n *\n * * *Shift+Alt+End* &ndash; switch to Right-To-Left,\n * * *Shift+Alt+Home* &ndash; switch to Left-To-Right.\n *\n * By default the input will be loaded without any text direction set, which means that\n * the direction will be inherited from the editor's text direction.\n *\n * If the direction was set, a marker will be prepended to every non-empty value of this input:\n *\n * * [`\\u202A`](http://unicode.org/cldr/utility/character.jsp?a=202A) &ndash; for Right-To-Left,\n * * [`\\u202B`](http://unicode.org/cldr/utility/character.jsp?a=202B) &ndash; for Left-To-Right.\n *\n * This marker allows for restoring the same text direction upon the next dialog opening.\n *\n * @since 4.5\n * @property {Boolean} bidi\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/dialog/dialogDefinition.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The floating dialog plugin.\n */\n\n/**\n * No resize for this dialog.\n *\n * @readonly\n * @property {Number} [=0]\n * @member CKEDITOR\n */\nCKEDITOR.DIALOG_RESIZE_NONE = 0;\n\n/**\n * Only allow horizontal resizing for this dialog, disable vertical resizing.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.DIALOG_RESIZE_WIDTH = 1;\n\n/**\n * Only allow vertical resizing for this dialog, disable horizontal resizing.\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.DIALOG_RESIZE_HEIGHT = 2;\n\n/**\n * Allow the dialog to be resized in both directions.\n *\n * @readonly\n * @property {Number} [=3]\n * @member CKEDITOR\n */\nCKEDITOR.DIALOG_RESIZE_BOTH = 3;\n\n/**\n * Dialog state when idle.\n *\n * @readonly\n * @property {Number} [=1]\n * @member CKEDITOR\n */\nCKEDITOR.DIALOG_STATE_IDLE = 1;\n\n/**\n * Dialog state when busy.\n *\n * @readonly\n * @property {Number} [=2]\n * @member CKEDITOR\n */\nCKEDITOR.DIALOG_STATE_BUSY = 2;\n\n( function() {\n\tvar cssLength = CKEDITOR.tools.cssLength;\n\n\tfunction isTabVisible( tabId ) {\n\t\treturn !!this._.tabs[ tabId ][ 0 ].$.offsetHeight;\n\t}\n\n\tfunction getPreviousVisibleTab() {\n\t\tvar tabId = this._.currentTabId,\n\t\t\tlength = this._.tabIdList.length,\n\t\t\ttabIndex = CKEDITOR.tools.indexOf( this._.tabIdList, tabId ) + length;\n\n\t\tfor ( var i = tabIndex - 1; i > tabIndex - length; i-- ) {\n\t\t\tif ( isTabVisible.call( this, this._.tabIdList[ i % length ] ) )\n\t\t\t\treturn this._.tabIdList[ i % length ];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getNextVisibleTab() {\n\t\tvar tabId = this._.currentTabId,\n\t\t\tlength = this._.tabIdList.length,\n\t\t\ttabIndex = CKEDITOR.tools.indexOf( this._.tabIdList, tabId );\n\n\t\tfor ( var i = tabIndex + 1; i < tabIndex + length; i++ ) {\n\t\t\tif ( isTabVisible.call( this, this._.tabIdList[ i % length ] ) )\n\t\t\t\treturn this._.tabIdList[ i % length ];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction clearOrRecoverTextInputValue( container, isRecover ) {\n\t\tvar inputs = container.$.getElementsByTagName( 'input' );\n\t\tfor ( var i = 0, length = inputs.length; i < length; i++ ) {\n\t\t\tvar item = new CKEDITOR.dom.element( inputs[ i ] );\n\n\t\t\tif ( item.getAttribute( 'type' ).toLowerCase() == 'text' ) {\n\t\t\t\tif ( isRecover ) {\n\t\t\t\t\titem.setAttribute( 'value', item.getCustomData( 'fake_value' ) || '' );\n\t\t\t\t\titem.removeCustomData( 'fake_value' );\n\t\t\t\t} else {\n\t\t\t\t\titem.setCustomData( 'fake_value', item.getAttribute( 'value' ) );\n\t\t\t\t\titem.setAttribute( 'value', '' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Handle dialog element validation state UI changes.\n\tfunction handleFieldValidated( isValid, msg ) {\n\t\tvar input = this.getInputElement();\n\t\tif ( input )\n\t\t\tisValid ? input.removeAttribute( 'aria-invalid' ) : input.setAttribute( 'aria-invalid', true );\n\n\t\tif ( !isValid ) {\n\t\t\tif ( this.select )\n\t\t\t\tthis.select();\n\t\t\telse\n\t\t\t\tthis.focus();\n\t\t}\n\n\t\tmsg && alert( msg ); // jshint ignore:line\n\n\t\tthis.fire( 'validated', { valid: isValid, msg: msg } );\n\t}\n\n\tfunction resetField() {\n\t\tvar input = this.getInputElement();\n\t\tinput && input.removeAttribute( 'aria-invalid' );\n\t}\n\n\tvar templateSource = '<div class=\"cke_reset_all {editorId} {editorDialogClass} {hidpi}' +\n\t\t'\" dir=\"{langDir}\"' +\n\t\t' lang=\"{langCode}\"' +\n\t\t' role=\"dialog\"' +\n\t\t' aria-labelledby=\"cke_dialog_title_{id}\"' +\n\t\t'>' +\n\t\t'<table class=\"cke_dialog ' + CKEDITOR.env.cssClass + ' cke_{langDir}\"' +\n\t\t\t' style=\"position:absolute\" role=\"presentation\">' +\n\t\t\t'<tr><td role=\"presentation\">' +\n\t\t\t'<div class=\"cke_dialog_body\" role=\"presentation\">' +\n\t\t\t\t'<div id=\"cke_dialog_title_{id}\" class=\"cke_dialog_title\" role=\"presentation\"></div>' +\n\t\t\t\t'<a id=\"cke_dialog_close_button_{id}\" class=\"cke_dialog_close_button\" href=\"javascript:void(0)\" title=\"{closeTitle}\" role=\"button\"><span class=\"cke_label\">X</span></a>' +\n\t\t\t\t'<div id=\"cke_dialog_tabs_{id}\" class=\"cke_dialog_tabs\" role=\"tablist\"></div>' +\n\t\t\t\t'<table class=\"cke_dialog_contents\" role=\"presentation\">' +\n\t\t\t\t'<tr>' +\n\t\t\t\t\t'<td id=\"cke_dialog_contents_{id}\" class=\"cke_dialog_contents_body\" role=\"presentation\"></td>' +\n\t\t\t\t'</tr>' +\n\t\t\t\t'<tr>' +\n\t\t\t\t\t'<td id=\"cke_dialog_footer_{id}\" class=\"cke_dialog_footer\" role=\"presentation\"></td>' +\n\t\t\t\t'</tr>' +\n\t\t\t\t'</table>' +\n\t\t\t'</div>' +\n\t\t\t'</td></tr>' +\n\t\t'</table>' +\n\t\t'</div>';\n\n\tfunction buildDialog( editor ) {\n\t\tvar element = CKEDITOR.dom.element.createFromHtml( CKEDITOR.addTemplate( 'dialog', templateSource ).output( {\n\t\t\tid: CKEDITOR.tools.getNextNumber(),\n\t\t\teditorId: editor.id,\n\t\t\tlangDir: editor.lang.dir,\n\t\t\tlangCode: editor.langCode,\n\t\t\teditorDialogClass: 'cke_editor_' + editor.name.replace( /\\./g, '\\\\.' ) + '_dialog',\n\t\t\tcloseTitle: editor.lang.common.close,\n\t\t\thidpi: CKEDITOR.env.hidpi ? 'cke_hidpi' : ''\n\t\t} ) );\n\n\t\t// TODO: Change this to getById(), so it'll support custom templates.\n\t\tvar body = element.getChild( [ 0, 0, 0, 0, 0 ] ),\n\t\t\ttitle = body.getChild( 0 ),\n\t\t\tclose = body.getChild( 1 );\n\n\t\t// Don't allow dragging on dialog (#13184).\n\t\teditor.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement( body );\n\n\t\t// IFrame shim for dialog that masks activeX in IE. (#7619)\n\t\tif ( CKEDITOR.env.ie && !CKEDITOR.env.quirks && !CKEDITOR.env.edge ) {\n\t\t\tvar src = 'javascript:void(function(){' + encodeURIComponent( 'document.open();(' + CKEDITOR.tools.fixDomain + ')();document.close();' ) + '}())', // jshint ignore:line\n\t\t\t\tiframe = CKEDITOR.dom.element.createFromHtml( '<iframe' +\n\t\t\t\t\t' frameBorder=\"0\"' +\n\t\t\t\t\t' class=\"cke_iframe_shim\"' +\n\t\t\t\t\t' src=\"' + src + '\"' +\n\t\t\t\t\t' tabIndex=\"-1\"' +\n\t\t\t\t\t'></iframe>' );\n\t\t\tiframe.appendTo( body.getParent() );\n\t\t}\n\n\t\t// Make the Title and Close Button unselectable.\n\t\ttitle.unselectable();\n\t\tclose.unselectable();\n\n\t\treturn {\n\t\t\telement: element,\n\t\t\tparts: {\n\t\t\t\tdialog: element.getChild( 0 ),\n\t\t\t\ttitle: title,\n\t\t\t\tclose: close,\n\t\t\t\ttabs: body.getChild( 2 ),\n\t\t\t\tcontents: body.getChild( [ 3, 0, 0, 0 ] ),\n\t\t\t\tfooter: body.getChild( [ 3, 0, 1, 0 ] )\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * This is the base class for runtime dialog objects. An instance of this\n\t * class represents a single named dialog for a single editor instance.\n\t *\n\t *\t\tvar dialogObj = new CKEDITOR.dialog( editor, 'smiley' );\n\t *\n\t * @class\n\t * @constructor Creates a dialog class instance.\n\t * @param {Object} editor The editor which created the dialog.\n\t * @param {String} dialogName The dialog's registered name.\n\t */\n\tCKEDITOR.dialog = function( editor, dialogName ) {\n\t\t// Load the dialog definition.\n\t\tvar definition = CKEDITOR.dialog._.dialogDefinitions[ dialogName ],\n\t\t\tdefaultDefinition = CKEDITOR.tools.clone( defaultDialogDefinition ),\n\t\t\tbuttonsOrder = editor.config.dialog_buttonsOrder || 'OS',\n\t\t\tdir = editor.lang.dir,\n\t\t\ttabsToRemove = {},\n\t\t\ti, processed, stopPropagation;\n\n\t\tif ( ( buttonsOrder == 'OS' && CKEDITOR.env.mac ) || // The buttons in MacOS Apps are in reverse order (#4750)\n\t\t( buttonsOrder == 'rtl' && dir == 'ltr' ) || ( buttonsOrder == 'ltr' && dir == 'rtl' ) )\n\t\t\tdefaultDefinition.buttons.reverse();\n\n\n\t\t// Completes the definition with the default values.\n\t\tdefinition = CKEDITOR.tools.extend( definition( editor ), defaultDefinition );\n\n\t\t// Clone a functionally independent copy for this dialog.\n\t\tdefinition = CKEDITOR.tools.clone( definition );\n\n\t\t// Create a complex definition object, extending it with the API\n\t\t// functions.\n\t\tdefinition = new definitionObject( this, definition );\n\n\t\tvar themeBuilt = buildDialog( editor );\n\n\t\t// Initialize some basic parameters.\n\t\tthis._ = {\n\t\t\teditor: editor,\n\t\t\telement: themeBuilt.element,\n\t\t\tname: dialogName,\n\t\t\tcontentSize: { width: 0, height: 0 },\n\t\t\tsize: { width: 0, height: 0 },\n\t\t\tcontents: {},\n\t\t\tbuttons: {},\n\t\t\taccessKeyMap: {},\n\n\t\t\t// Initialize the tab and page map.\n\t\t\ttabs: {},\n\t\t\ttabIdList: [],\n\t\t\tcurrentTabId: null,\n\t\t\tcurrentTabIndex: null,\n\t\t\tpageCount: 0,\n\t\t\tlastTab: null,\n\t\t\ttabBarMode: false,\n\n\t\t\t// Initialize the tab order array for input widgets.\n\t\t\tfocusList: [],\n\t\t\tcurrentFocusIndex: 0,\n\t\t\thasFocus: false\n\t\t};\n\n\t\tthis.parts = themeBuilt.parts;\n\n\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\teditor.fire( 'ariaWidget', this.parts.contents );\n\t\t}, 0, this );\n\n\t\t// Set the startup styles for the dialog, avoiding it enlarging the\n\t\t// page size on the dialog creation.\n\t\tvar startStyles = {\n\t\t\tposition: CKEDITOR.env.ie6Compat ? 'absolute' : 'fixed',\n\t\t\ttop: 0,\n\t\t\tvisibility: 'hidden'\n\t\t};\n\n\t\tstartStyles[ dir == 'rtl' ? 'right' : 'left' ] = 0;\n\t\tthis.parts.dialog.setStyles( startStyles );\n\n\n\t\t// Call the CKEDITOR.event constructor to initialize this instance.\n\t\tCKEDITOR.event.call( this );\n\n\t\t// Fire the \"dialogDefinition\" event, making it possible to customize\n\t\t// the dialog definition.\n\t\tthis.definition = definition = CKEDITOR.fire( 'dialogDefinition', {\n\t\t\tname: dialogName,\n\t\t\tdefinition: definition\n\t\t}, editor ).definition;\n\n\t\t// Cache tabs that should be removed.\n\t\tif ( !( 'removeDialogTabs' in editor._ ) && editor.config.removeDialogTabs ) {\n\t\t\tvar removeContents = editor.config.removeDialogTabs.split( ';' );\n\n\t\t\tfor ( i = 0; i < removeContents.length; i++ ) {\n\t\t\t\tvar parts = removeContents[ i ].split( ':' );\n\t\t\t\tif ( parts.length == 2 ) {\n\t\t\t\t\tvar removeDialogName = parts[ 0 ];\n\t\t\t\t\tif ( !tabsToRemove[ removeDialogName ] )\n\t\t\t\t\t\ttabsToRemove[ removeDialogName ] = [];\n\t\t\t\t\ttabsToRemove[ removeDialogName ].push( parts[ 1 ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\teditor._.removeDialogTabs = tabsToRemove;\n\t\t}\n\n\t\t// Remove tabs of this dialog.\n\t\tif ( editor._.removeDialogTabs && ( tabsToRemove = editor._.removeDialogTabs[ dialogName ] ) ) {\n\t\t\tfor ( i = 0; i < tabsToRemove.length; i++ )\n\t\t\t\tdefinition.removeContents( tabsToRemove[ i ] );\n\t\t}\n\n\t\t// Initialize load, show, hide, ok and cancel events.\n\t\tif ( definition.onLoad )\n\t\t\tthis.on( 'load', definition.onLoad );\n\n\t\tif ( definition.onShow )\n\t\t\tthis.on( 'show', definition.onShow );\n\n\t\tif ( definition.onHide )\n\t\t\tthis.on( 'hide', definition.onHide );\n\n\t\tif ( definition.onOk ) {\n\t\t\tthis.on( 'ok', function( evt ) {\n\t\t\t\t// Dialog confirm might probably introduce content changes (#5415).\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t}, 0 );\n\t\t\t\tif ( definition.onOk.call( this, evt ) === false )\n\t\t\t\t\tevt.data.hide = false;\n\t\t\t} );\n\t\t}\n\n\t\t// Set default dialog state.\n\t\tthis.state = CKEDITOR.DIALOG_STATE_IDLE;\n\n\t\tif ( definition.onCancel ) {\n\t\t\tthis.on( 'cancel', function( evt ) {\n\t\t\t\tif ( definition.onCancel.call( this, evt ) === false )\n\t\t\t\t\tevt.data.hide = false;\n\t\t\t} );\n\t\t}\n\n\t\tvar me = this;\n\n\t\t// Iterates over all items inside all content in the dialog, calling a\n\t\t// function for each of them.\n\t\tvar iterContents = function( func ) {\n\t\t\t\tvar contents = me._.contents,\n\t\t\t\t\tstop = false;\n\n\t\t\t\tfor ( var i in contents ) {\n\t\t\t\t\tfor ( var j in contents[ i ] ) {\n\t\t\t\t\t\tstop = func.call( this, contents[ i ][ j ] );\n\t\t\t\t\t\tif ( stop )\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis.on( 'ok', function( evt ) {\n\t\t\titerContents( function( item ) {\n\t\t\t\tif ( item.validate ) {\n\t\t\t\t\tvar retval = item.validate( this ),\n\t\t\t\t\t\tinvalid = ( typeof retval == 'string' ) || retval === false;\n\n\t\t\t\t\tif ( invalid ) {\n\t\t\t\t\t\tevt.data.hide = false;\n\t\t\t\t\t\tevt.stop();\n\t\t\t\t\t}\n\n\t\t\t\t\thandleFieldValidated.call( item, !invalid, typeof retval == 'string' ? retval : undefined );\n\t\t\t\t\treturn invalid;\n\t\t\t\t}\n\t\t\t} );\n\t\t}, this, null, 0 );\n\n\t\tthis.on( 'cancel', function( evt ) {\n\t\t\titerContents( function( item ) {\n\t\t\t\tif ( item.isChanged() ) {\n\t\t\t\t\tif ( !editor.config.dialog_noConfirmCancel && !confirm( editor.lang.common.confirmCancel ) ) // jshint ignore:line\n\t\t\t\t\t\tevt.data.hide = false;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} );\n\t\t}, this, null, 0 );\n\n\t\tthis.parts.close.on( 'click', function( evt ) {\n\t\t\tif ( this.fire( 'cancel', { hide: true } ).hide !== false )\n\t\t\t\tthis.hide();\n\t\t\tevt.data.preventDefault();\n\t\t}, this );\n\n\t\t// Sort focus list according to tab order definitions.\n\t\tfunction setupFocus() {\n\t\t\tvar focusList = me._.focusList;\n\t\t\tfocusList.sort( function( a, b ) {\n\t\t\t\t// Mimics browser tab order logics;\n\t\t\t\tif ( a.tabIndex != b.tabIndex )\n\t\t\t\t\treturn b.tabIndex - a.tabIndex;\n\t\t\t\t//  Sort is not stable in some browsers,\n\t\t\t\t// fall-back the comparator to 'focusIndex';\n\t\t\t\telse\n\t\t\t\t\treturn a.focusIndex - b.focusIndex;\n\t\t\t} );\n\n\t\t\tvar size = focusList.length;\n\t\t\tfor ( var i = 0; i < size; i++ )\n\t\t\t\tfocusList[ i ].focusIndex = i;\n\t\t}\n\n\t\t// Expects 1 or -1 as an offset, meaning direction of the offset change.\n\t\tfunction changeFocus( offset ) {\n\t\t\tvar focusList = me._.focusList;\n\t\t\toffset = offset || 0;\n\n\t\t\tif ( focusList.length < 1 )\n\t\t\t\treturn;\n\n\t\t\tvar startIndex = me._.currentFocusIndex;\n\n\t\t\tif ( me._.tabBarMode && offset < 0 ) {\n\t\t\t\t// If we are in tab mode, we need to mimic that we started tabbing back from the first\n\t\t\t\t// focusList (so it will go to the last one).\n\t\t\t\tstartIndex = 0;\n\t\t\t}\n\n\t\t\t// Trigger the 'blur' event of  any input element before anything,\n\t\t\t// since certain UI updates may depend on it.\n\t\t\ttry {\n\t\t\t\tfocusList[ startIndex ].getInputElement().$.blur();\n\t\t\t} catch ( e ) {}\n\n\t\t\tvar currentIndex = startIndex,\n\t\t\t\thasTabs = me._.pageCount > 1;\n\n\t\t\tdo {\n\t\t\t\tcurrentIndex = currentIndex + offset;\n\n\t\t\t\tif ( hasTabs && !me._.tabBarMode && ( currentIndex == focusList.length || currentIndex == -1 ) ) {\n\t\t\t\t\t// If the dialog was not in tab mode, then focus the first tab (#13027).\n\t\t\t\t\tme._.tabBarMode = true;\n\t\t\t\t\tme._.tabs[ me._.currentTabId ][ 0 ].focus();\n\t\t\t\t\tme._.currentFocusIndex = -1;\n\n\t\t\t\t\t// Early return, in order to avoid accessing focusList[ -1 ].\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcurrentIndex = ( currentIndex + focusList.length ) % focusList.length;\n\n\t\t\t\tif ( currentIndex == startIndex ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} while ( offset && !focusList[ currentIndex ].isFocusable() );\n\n\t\t\tfocusList[ currentIndex ].focus();\n\n\t\t\t// Select whole field content.\n\t\t\tif ( focusList[ currentIndex ].type == 'text' )\n\t\t\t\tfocusList[ currentIndex ].select();\n\t\t}\n\n\t\tthis.changeFocus = changeFocus;\n\n\n\t\tfunction keydownHandler( evt ) {\n\t\t\t// If I'm not the top dialog, ignore.\n\t\t\tif ( me != CKEDITOR.dialog._.currentTop )\n\t\t\t\treturn;\n\n\t\t\tvar keystroke = evt.data.getKeystroke(),\n\t\t\t\trtl = editor.lang.dir == 'rtl',\n\t\t\t\tarrowKeys = [ 37, 38, 39, 40 ],\n\t\t\t\tbutton;\n\n\t\t\tprocessed = stopPropagation = 0;\n\n\t\t\tif ( keystroke == 9 || keystroke == CKEDITOR.SHIFT + 9 ) {\n\t\t\t\tvar shiftPressed = ( keystroke == CKEDITOR.SHIFT + 9 );\n\t\t\t\tchangeFocus( shiftPressed ? -1 : 1 );\n\t\t\t\tprocessed = 1;\n\t\t\t} else if ( keystroke == CKEDITOR.ALT + 121 && !me._.tabBarMode && me.getPageCount() > 1 ) {\n\t\t\t\t// Alt-F10 puts focus into the current tab item in the tab bar.\n\t\t\t\tme._.tabBarMode = true;\n\t\t\t\tme._.tabs[ me._.currentTabId ][ 0 ].focus();\n\t\t\t\tme._.currentFocusIndex = -1;\n\t\t\t\tprocessed = 1;\n\t\t\t} else if ( CKEDITOR.tools.indexOf( arrowKeys, keystroke ) != -1 && me._.tabBarMode ) {\n\t\t\t\t// Array with key codes that activate previous tab.\n\t\t\t\tvar prevKeyCodes = [\n\t\t\t\t\t\t// Depending on the lang dir: right or left key\n\t\t\t\t\t\trtl ? 39 : 37,\n\t\t\t\t\t\t// Top/bot arrow: actually for both cases it's the same.\n\t\t\t\t\t\t38\n\t\t\t\t\t],\n\t\t\t\t\tnextId = CKEDITOR.tools.indexOf( prevKeyCodes, keystroke ) != -1 ? getPreviousVisibleTab.call( me ) : getNextVisibleTab.call( me );\n\n\t\t\t\tme.selectPage( nextId );\n\t\t\t\tme._.tabs[ nextId ][ 0 ].focus();\n\t\t\t\tprocessed = 1;\n\t\t\t} else if ( ( keystroke == 13 || keystroke == 32 ) && me._.tabBarMode ) {\n\t\t\t\tthis.selectPage( this._.currentTabId );\n\t\t\t\tthis._.tabBarMode = false;\n\t\t\t\tthis._.currentFocusIndex = -1;\n\t\t\t\tchangeFocus( 1 );\n\t\t\t\tprocessed = 1;\n\t\t\t}\n\t\t\t// If user presses enter key in a text box, it implies clicking OK for the dialog.\n\t\t\telse if ( keystroke == 13 /*ENTER*/ ) {\n\t\t\t\t// Don't do that for a target that handles ENTER.\n\t\t\t\tvar target = evt.data.getTarget();\n\t\t\t\tif ( !target.is( 'a', 'button', 'select', 'textarea' ) && ( !target.is( 'input' ) || target.$.type != 'button' ) ) {\n\t\t\t\t\tbutton = this.getButton( 'ok' );\n\t\t\t\t\tbutton && CKEDITOR.tools.setTimeout( button.click, 0, button );\n\t\t\t\t\tprocessed = 1;\n\t\t\t\t}\n\t\t\t\tstopPropagation = 1; // Always block the propagation (#4269)\n\t\t\t} else if ( keystroke == 27 /*ESC*/ ) {\n\t\t\t\tbutton = this.getButton( 'cancel' );\n\n\t\t\t\t// If there's a Cancel button, click it, else just fire the cancel event and hide the dialog.\n\t\t\t\tif ( button )\n\t\t\t\t\tCKEDITOR.tools.setTimeout( button.click, 0, button );\n\t\t\t\telse {\n\t\t\t\t\tif ( this.fire( 'cancel', { hide: true } ).hide !== false )\n\t\t\t\t\t\tthis.hide();\n\t\t\t\t}\n\t\t\t\tstopPropagation = 1; // Always block the propagation (#4269)\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tkeypressHandler( evt );\n\t\t}\n\n\t\tfunction keypressHandler( evt ) {\n\t\t\tif ( processed )\n\t\t\t\tevt.data.preventDefault( 1 );\n\t\t\telse if ( stopPropagation )\n\t\t\t\tevt.data.stopPropagation();\n\t\t}\n\n\t\tvar dialogElement = this._.element;\n\n\t\teditor.focusManager.add( dialogElement, 1 );\n\n\t\t// Add the dialog keyboard handlers.\n\t\tthis.on( 'show', function() {\n\t\t\tdialogElement.on( 'keydown', keydownHandler, this );\n\n\t\t\t// Some browsers instead, don't cancel key events in the keydown, but in the\n\t\t\t// keypress. So we must do a longer trip in those cases. (#4531,#8985)\n\t\t\tif ( CKEDITOR.env.gecko )\n\t\t\t\tdialogElement.on( 'keypress', keypressHandler, this );\n\n\t\t} );\n\t\tthis.on( 'hide', function() {\n\t\t\tdialogElement.removeListener( 'keydown', keydownHandler );\n\t\t\tif ( CKEDITOR.env.gecko )\n\t\t\t\tdialogElement.removeListener( 'keypress', keypressHandler );\n\n\t\t\t// Reset fields state when closing dialog.\n\t\t\titerContents( function( item ) {\n\t\t\t\tresetField.apply( item );\n\t\t\t} );\n\t\t} );\n\t\tthis.on( 'iframeAdded', function( evt ) {\n\t\t\tvar doc = new CKEDITOR.dom.document( evt.data.iframe.$.contentWindow.document );\n\t\t\tdoc.on( 'keydown', keydownHandler, this, null, 0 );\n\t\t} );\n\n\t\t// Auto-focus logic in dialog.\n\t\tthis.on( 'show', function() {\n\t\t\t// Setup tabIndex on showing the dialog instead of on loading\n\t\t\t// to allow dynamic tab order happen in dialog definition.\n\t\t\tsetupFocus();\n\n\t\t\tvar hasTabs = me._.pageCount > 1;\n\n\t\t\tif ( editor.config.dialog_startupFocusTab && hasTabs ) {\n\t\t\t\tme._.tabBarMode = true;\n\t\t\t\tme._.tabs[ me._.currentTabId ][ 0 ].focus();\n\t\t\t\tme._.currentFocusIndex = -1;\n\t\t\t} else if ( !this._.hasFocus ) {\n\t\t\t\t// http://dev.ckeditor.com/ticket/13114#comment:4.\n\t\t\t\tthis._.currentFocusIndex = hasTabs ? -1 : this._.focusList.length - 1;\n\n\t\t\t\t// Decide where to put the initial focus.\n\t\t\t\tif ( definition.onFocus ) {\n\t\t\t\t\tvar initialFocus = definition.onFocus.call( this );\n\t\t\t\t\t// Focus the field that the user specified.\n\t\t\t\t\tinitialFocus && initialFocus.focus();\n\t\t\t\t}\n\t\t\t\t// Focus the first field in layout order.\n\t\t\t\telse {\n\t\t\t\t\tchangeFocus( 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t}, this, null, 0xffffffff );\n\n\t\t// IE6 BUG: Text fields and text areas are only half-rendered the first time the dialog appears in IE6 (#2661).\n\t\t// This is still needed after [2708] and [2709] because text fields in hidden TR tags are still broken.\n\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\tthis.on( 'load', function() {\n\t\t\t\tvar outer = this.getElement(),\n\t\t\t\t\tinner = outer.getFirst();\n\t\t\t\tinner.remove();\n\t\t\t\tinner.appendTo( outer );\n\t\t\t}, this );\n\t\t}\n\n\t\tinitDragAndDrop( this );\n\t\tinitResizeHandles( this );\n\n\t\t// Insert the title.\n\t\t( new CKEDITOR.dom.text( definition.title, CKEDITOR.document ) ).appendTo( this.parts.title );\n\n\t\t// Insert the tabs and contents.\n\t\tfor ( i = 0; i < definition.contents.length; i++ ) {\n\t\t\tvar page = definition.contents[ i ];\n\t\t\tpage && this.addPage( page );\n\t\t}\n\n\t\tthis.parts.tabs.on( 'click', function( evt ) {\n\t\t\tvar target = evt.data.getTarget();\n\t\t\t// If we aren't inside a tab, bail out.\n\t\t\tif ( target.hasClass( 'cke_dialog_tab' ) ) {\n\t\t\t\t// Get the ID of the tab, without the 'cke_' prefix and the unique number suffix.\n\t\t\t\tvar id = target.$.id;\n\t\t\t\tthis.selectPage( id.substring( 4, id.lastIndexOf( '_' ) ) );\n\n\t\t\t\tif ( this._.tabBarMode ) {\n\t\t\t\t\tthis._.tabBarMode = false;\n\t\t\t\t\tthis._.currentFocusIndex = -1;\n\t\t\t\t\tchangeFocus( 1 );\n\t\t\t\t}\n\t\t\t\tevt.data.preventDefault();\n\t\t\t}\n\t\t}, this );\n\n\t\t// Insert buttons.\n\t\tvar buttonsHtml = [],\n\t\t\tbuttons = CKEDITOR.dialog._.uiElementBuilders.hbox.build( this, {\n\t\t\t\ttype: 'hbox',\n\t\t\t\tclassName: 'cke_dialog_footer_buttons',\n\t\t\t\twidths: [],\n\t\t\t\tchildren: definition.buttons\n\t\t\t}, buttonsHtml ).getChild();\n\t\tthis.parts.footer.setHtml( buttonsHtml.join( '' ) );\n\n\t\tfor ( i = 0; i < buttons.length; i++ )\n\t\t\tthis._.buttons[ buttons[ i ].id ] = buttons[ i ];\n\n\t\t/**\n\t\t * Current state of the dialog. Use the {@link #setState} method to update it.\n\t\t * See the {@link #event-state} event to know more.\n\t\t *\n\t\t * @readonly\n\t\t * @property {Number} [state=CKEDITOR.DIALOG_STATE_IDLE]\n\t\t */\n\t};\n\n\t// Focusable interface. Use it via dialog.addFocusable.\n\tfunction Focusable( dialog, element, index ) {\n\t\tthis.element = element;\n\t\tthis.focusIndex = index;\n\t\t// TODO: support tabIndex for focusables.\n\t\tthis.tabIndex = 0;\n\t\tthis.isFocusable = function() {\n\t\t\treturn !element.getAttribute( 'disabled' ) && element.isVisible();\n\t\t};\n\t\tthis.focus = function() {\n\t\t\tdialog._.currentFocusIndex = this.focusIndex;\n\t\t\tthis.element.focus();\n\t\t};\n\t\t// Bind events\n\t\telement.on( 'keydown', function( e ) {\n\t\t\tif ( e.data.getKeystroke() in { 32: 1, 13: 1 } )\n\t\t\t\tthis.fire( 'click' );\n\t\t} );\n\t\telement.on( 'focus', function() {\n\t\t\tthis.fire( 'mouseover' );\n\t\t} );\n\t\telement.on( 'blur', function() {\n\t\t\tthis.fire( 'mouseout' );\n\t\t} );\n\t}\n\n\t// Re-layout the dialog on window resize.\n\tfunction resizeWithWindow( dialog ) {\n\t\tvar win = CKEDITOR.document.getWindow();\n\t\tfunction resizeHandler() {\n\t\t\tdialog.layout();\n\t\t}\n\t\twin.on( 'resize', resizeHandler );\n\t\tdialog.on( 'hide', function() {\n\t\t\twin.removeListener( 'resize', resizeHandler );\n\t\t} );\n\t}\n\n\tCKEDITOR.dialog.prototype = {\n\t\tdestroy: function() {\n\t\t\tthis.hide();\n\t\t\tthis._.element.remove();\n\t\t},\n\n\t\t/**\n\t\t * Resizes the dialog.\n\t\t *\n\t\t *\t\tdialogObj.resize( 800, 640 );\n\t\t *\n\t\t * @method\n\t\t * @param {Number} width The width of the dialog in pixels.\n\t\t * @param {Number} height The height of the dialog in pixels.\n\t\t */\n\t\tresize: ( function() {\n\t\t\treturn function( width, height ) {\n\t\t\t\tif ( this._.contentSize && this._.contentSize.width == width && this._.contentSize.height == height )\n\t\t\t\t\treturn;\n\n\t\t\t\tCKEDITOR.dialog.fire( 'resize', {\n\t\t\t\t\tdialog: this,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t}, this._.editor );\n\n\t\t\t\tthis.fire( 'resize', {\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t}, this._.editor );\n\n\t\t\t\tvar contents = this.parts.contents;\n\t\t\t\tcontents.setStyles( {\n\t\t\t\t\twidth: width + 'px',\n\t\t\t\t\theight: height + 'px'\n\t\t\t\t} );\n\n\t\t\t\t// Update dialog position when dimension get changed in RTL.\n\t\t\t\tif ( this._.editor.lang.dir == 'rtl' && this._.position )\n\t\t\t\t\tthis._.position.x = CKEDITOR.document.getWindow().getViewPaneSize().width - this._.contentSize.width - parseInt( this._.element.getFirst().getStyle( 'right' ), 10 );\n\n\t\t\t\tthis._.contentSize = { width: width, height: height };\n\t\t\t};\n\t\t} )(),\n\n\t\t/**\n\t\t * Gets the current size of the dialog in pixels.\n\t\t *\n\t\t * var width = dialogObj.getSize().width;\n\t\t *\n\t\t * @returns {Object}\n\t\t * @returns {Number} return.width\n\t\t * @returns {Number} return.height\n\t\t */\n\t\tgetSize: function() {\n\t\t\tvar element = this._.element.getFirst();\n\t\t\treturn { width: element.$.offsetWidth || 0, height: element.$.offsetHeight || 0 };\n\t\t},\n\n\t\t/**\n\t\t * Moves the dialog to an `(x, y)` coordinate relative to the window.\n\t\t *\n\t\t * dialogObj.move( 10, 40 );\n\t\t *\n\t\t * @method\n\t\t * @param {Number} x The target x-coordinate.\n\t\t * @param {Number} y The target y-coordinate.\n\t\t * @param {Boolean} save Flag indicate whether the dialog position should be remembered on next open up.\n\t\t */\n\t\tmove: function( x, y, save ) {\n\n\t\t\t// The dialog may be fixed positioned or absolute positioned. Ask the\n\t\t\t// browser what is the current situation first.\n\t\t\tvar element = this._.element.getFirst(), rtl = this._.editor.lang.dir == 'rtl';\n\t\t\tvar isFixed = element.getComputedStyle( 'position' ) == 'fixed';\n\n\t\t\t// (#8888) In some cases of a very small viewport, dialog is incorrectly\n\t\t\t// positioned in IE7. It also happens that it remains sticky and user cannot\n\t\t\t// scroll down/up to reveal dialog's content below/above the viewport; this is\n\t\t\t// cumbersome.\n\t\t\t// The only way to fix this is to move mouse out of the browser and\n\t\t\t// go back to see that dialog position is automagically fixed. No events,\n\t\t\t// no style change - pure magic. This is a IE7 rendering issue, which can be\n\t\t\t// fixed with dummy style redraw on each move.\n\t\t\tif ( CKEDITOR.env.ie )\n\t\t\t\telement.setStyle( 'zoom', '100%' );\n\n\t\t\tif ( isFixed && this._.position && this._.position.x == x && this._.position.y == y )\n\t\t\t\treturn;\n\n\t\t\t// Save the current position.\n\t\t\tthis._.position = { x: x, y: y };\n\n\t\t\t// If not fixed positioned, add scroll position to the coordinates.\n\t\t\tif ( !isFixed ) {\n\t\t\t\tvar scrollPosition = CKEDITOR.document.getWindow().getScrollPosition();\n\t\t\t\tx += scrollPosition.x;\n\t\t\t\ty += scrollPosition.y;\n\t\t\t}\n\n\t\t\t// Translate coordinate for RTL.\n\t\t\tif ( rtl ) {\n\t\t\t\tvar dialogSize = this.getSize(), viewPaneSize = CKEDITOR.document.getWindow().getViewPaneSize();\n\t\t\t\tx = viewPaneSize.width - dialogSize.width - x;\n\t\t\t}\n\n\t\t\tvar styles = { 'top': ( y > 0 ? y : 0 ) + 'px' };\n\t\t\tstyles[ rtl ? 'right' : 'left' ] = ( x > 0 ? x : 0 ) + 'px';\n\n\t\t\telement.setStyles( styles );\n\n\t\t\tsave && ( this._.moved = 1 );\n\t\t},\n\n\t\t/**\n\t\t * Gets the dialog's position in the window.\n\t\t *\n\t\t *\t\tvar dialogX = dialogObj.getPosition().x;\n\t\t *\n\t\t * @returns {Object}\n\t\t * @returns {Number} return.x\n\t\t * @returns {Number} return.y\n\t\t */\n\t\tgetPosition: function() {\n\t\t\treturn CKEDITOR.tools.extend( {}, this._.position );\n\t\t},\n\n\t\t/**\n\t\t * Shows the dialog box.\n\t\t *\n\t\t *\t\tdialogObj.show();\n\t\t */\n\t\tshow: function() {\n\t\t\t// Insert the dialog's element to the root document.\n\t\t\tvar element = this._.element;\n\t\t\tvar definition = this.definition;\n\t\t\tif ( !( element.getParent() && element.getParent().equals( CKEDITOR.document.getBody() ) ) )\n\t\t\t\telement.appendTo( CKEDITOR.document.getBody() );\n\t\t\telse\n\t\t\t\telement.setStyle( 'display', 'block' );\n\n\t\t\t// First, set the dialog to an appropriate size.\n\t\t\tthis.resize(\n\t\t\t\tthis._.contentSize && this._.contentSize.width || definition.width || definition.minWidth,\n\t\t\t\tthis._.contentSize && this._.contentSize.height || definition.height || definition.minHeight\n\t\t\t);\n\n\t\t\t// Reset all inputs back to their default value.\n\t\t\tthis.reset();\n\n\t\t\t// Select the first tab by default.\n\t\t\tthis.selectPage( this.definition.contents[ 0 ].id );\n\n\t\t\t// Set z-index.\n\t\t\tif ( CKEDITOR.dialog._.currentZIndex === null )\n\t\t\t\tCKEDITOR.dialog._.currentZIndex = this._.editor.config.baseFloatZIndex;\n\t\t\tthis._.element.getFirst().setStyle( 'z-index', CKEDITOR.dialog._.currentZIndex += 10 );\n\n\t\t\t// Maintain the dialog ordering and dialog cover.\n\t\t\tif ( CKEDITOR.dialog._.currentTop === null ) {\n\t\t\t\tCKEDITOR.dialog._.currentTop = this;\n\t\t\t\tthis._.parentDialog = null;\n\t\t\t\tshowCover( this._.editor );\n\n\t\t\t} else {\n\t\t\t\tthis._.parentDialog = CKEDITOR.dialog._.currentTop;\n\t\t\t\tvar parentElement = this._.parentDialog.getElement().getFirst();\n\t\t\t\tparentElement.$.style.zIndex -= Math.floor( this._.editor.config.baseFloatZIndex / 2 );\n\t\t\t\tCKEDITOR.dialog._.currentTop = this;\n\t\t\t}\n\n\t\t\telement.on( 'keydown', accessKeyDownHandler );\n\t\t\telement.on( 'keyup', accessKeyUpHandler );\n\n\t\t\t// Reset the hasFocus state.\n\t\t\tthis._.hasFocus = false;\n\n\t\t\tfor ( var i in definition.contents ) {\n\t\t\t\tif ( !definition.contents[ i ] )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tvar content = definition.contents[ i ],\n\t\t\t\t\ttab = this._.tabs[ content.id ],\n\t\t\t\t\trequiredContent = content.requiredContent,\n\t\t\t\t\tenableElements = 0;\n\n\t\t\t\tif ( !tab )\n\t\t\t\t\tcontinue;\n\n\t\t\t\tfor ( var j in this._.contents[ content.id ] ) {\n\t\t\t\t\tvar elem = this._.contents[ content.id ][ j ];\n\n\t\t\t\t\tif ( elem.type == 'hbox' || elem.type == 'vbox' || !elem.getInputElement() )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tif ( elem.requiredContent && !this._.editor.activeFilter.check( elem.requiredContent ) )\n\t\t\t\t\t\telem.disable();\n\t\t\t\t\telse {\n\t\t\t\t\t\telem.enable();\n\t\t\t\t\t\tenableElements++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( !enableElements || ( requiredContent && !this._.editor.activeFilter.check( requiredContent ) ) )\n\t\t\t\t\ttab[ 0 ].addClass( 'cke_dialog_tab_disabled' );\n\t\t\t\telse\n\t\t\t\t\ttab[ 0 ].removeClass( 'cke_dialog_tab_disabled' );\n\t\t\t}\n\n\t\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t\tthis.layout();\n\t\t\t\tresizeWithWindow( this );\n\n\t\t\t\tthis.parts.dialog.setStyle( 'visibility', '' );\n\n\t\t\t\t// Execute onLoad for the first show.\n\t\t\t\tthis.fireOnce( 'load', {} );\n\t\t\t\tCKEDITOR.ui.fire( 'ready', this );\n\n\t\t\t\tthis.fire( 'show', {} );\n\t\t\t\tthis._.editor.fire( 'dialogShow', this );\n\n\t\t\t\tif ( !this._.parentDialog )\n\t\t\t\t\tthis._.editor.focusManager.lock();\n\n\t\t\t\t// Save the initial values of the dialog.\n\t\t\t\tthis.foreach( function( contentObj ) {\n\t\t\t\t\tcontentObj.setInitValue && contentObj.setInitValue();\n\t\t\t\t} );\n\n\t\t\t}, 100, this );\n\t\t},\n\n\t\t/**\n\t\t * Rearrange the dialog to its previous position or the middle of the window.\n\t\t *\n\t\t * @since 3.5\n\t\t */\n\t\tlayout: function() {\n\t\t\tvar el = this.parts.dialog;\n\t\t\tvar dialogSize = this.getSize();\n\t\t\tvar win = CKEDITOR.document.getWindow(),\n\t\t\t\t\tviewSize = win.getViewPaneSize();\n\n\t\t\tvar posX = ( viewSize.width - dialogSize.width ) / 2,\n\t\t\t\tposY = ( viewSize.height - dialogSize.height ) / 2;\n\n\t\t\t// Switch to absolute position when viewport is smaller than dialog size.\n\t\t\tif ( !CKEDITOR.env.ie6Compat ) {\n\t\t\t\tif ( dialogSize.height + ( posY > 0 ? posY : 0 ) > viewSize.height || dialogSize.width + ( posX > 0 ? posX : 0 ) > viewSize.width ) {\n\t\t\t\t\tel.setStyle( 'position', 'absolute' );\n\t\t\t\t} else {\n\t\t\t\t\tel.setStyle( 'position', 'fixed' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.move( this._.moved ? this._.position.x : posX, this._.moved ? this._.position.y : posY );\n\t\t},\n\n\t\t/**\n\t\t * Executes a function for each UI element.\n\t\t *\n\t\t * @param {Function} fn Function to execute for each UI element.\n\t\t * @returns {CKEDITOR.dialog} The current dialog object.\n\t\t */\n\t\tforeach: function( fn ) {\n\t\t\tfor ( var i in this._.contents ) {\n\t\t\t\tfor ( var j in this._.contents[ i ] ) {\n\t\t\t\t\tfn.call( this, this._.contents[i][j] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Resets all input values in the dialog.\n\t\t *\n\t\t *\t\tdialogObj.reset();\n\t\t *\n\t\t * @method\n\t\t * @chainable\n\t\t */\n\t\treset: ( function() {\n\t\t\tvar fn = function( widget ) {\n\t\t\t\t\tif ( widget.reset )\n\t\t\t\t\t\twidget.reset( 1 );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tthis.foreach( fn );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t} )(),\n\n\n\t\t/**\n\t\t * Calls the {@link CKEDITOR.dialog.definition.uiElement#setup} method of each\n\t\t * of the UI elements, with the arguments passed through it.\n\t\t * It is usually being called when the dialog is opened, to put the initial value inside the field.\n\t\t *\n\t\t *\t\tdialogObj.setupContent();\n\t\t *\n\t\t *\t\tvar timestamp = ( new Date() ).valueOf();\n\t\t *\t\tdialogObj.setupContent( timestamp );\n\t\t */\n\t\tsetupContent: function() {\n\t\t\tvar args = arguments;\n\t\t\tthis.foreach( function( widget ) {\n\t\t\t\tif ( widget.setup )\n\t\t\t\t\twidget.setup.apply( widget, args );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Calls the {@link CKEDITOR.dialog.definition.uiElement#commit} method of each\n\t\t * of the UI elements, with the arguments passed through it.\n\t\t * It is usually being called when the user confirms the dialog, to process the values.\n\t\t *\n\t\t *\t\tdialogObj.commitContent();\n\t\t *\n\t\t *\t\tvar timestamp = ( new Date() ).valueOf();\n\t\t *\t\tdialogObj.commitContent( timestamp );\n\t\t */\n\t\tcommitContent: function() {\n\t\t\tvar args = arguments;\n\t\t\tthis.foreach( function( widget ) {\n\t\t\t\t// Make sure IE triggers \"change\" event on last focused input before closing the dialog. (#7915)\n\t\t\t\tif ( CKEDITOR.env.ie && this._.currentFocusIndex == widget.focusIndex )\n\t\t\t\t\twidget.getInputElement().$.blur();\n\n\t\t\t\tif ( widget.commit )\n\t\t\t\t\twidget.commit.apply( widget, args );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Hides the dialog box.\n\t\t *\n\t\t *\t\tdialogObj.hide();\n\t\t */\n\t\thide: function() {\n\t\t\tif ( !this.parts.dialog.isVisible() )\n\t\t\t\treturn;\n\n\t\t\tthis.fire( 'hide', {} );\n\t\t\tthis._.editor.fire( 'dialogHide', this );\n\t\t\t// Reset the tab page.\n\t\t\tthis.selectPage( this._.tabIdList[ 0 ] );\n\t\t\tvar element = this._.element;\n\t\t\telement.setStyle( 'display', 'none' );\n\t\t\tthis.parts.dialog.setStyle( 'visibility', 'hidden' );\n\t\t\t// Unregister all access keys associated with this dialog.\n\t\t\tunregisterAccessKey( this );\n\n\t\t\t// Close any child(top) dialogs first.\n\t\t\twhile ( CKEDITOR.dialog._.currentTop != this )\n\t\t\t\tCKEDITOR.dialog._.currentTop.hide();\n\n\t\t\t// Maintain dialog ordering and remove cover if needed.\n\t\t\tif ( !this._.parentDialog )\n\t\t\t\thideCover( this._.editor );\n\t\t\telse {\n\t\t\t\tvar parentElement = this._.parentDialog.getElement().getFirst();\n\t\t\t\tparentElement.setStyle( 'z-index', parseInt( parentElement.$.style.zIndex, 10 ) + Math.floor( this._.editor.config.baseFloatZIndex / 2 ) );\n\t\t\t}\n\t\t\tCKEDITOR.dialog._.currentTop = this._.parentDialog;\n\n\t\t\t// Deduct or clear the z-index.\n\t\t\tif ( !this._.parentDialog ) {\n\t\t\t\tCKEDITOR.dialog._.currentZIndex = null;\n\n\t\t\t\t// Remove access key handlers.\n\t\t\t\telement.removeListener( 'keydown', accessKeyDownHandler );\n\t\t\t\telement.removeListener( 'keyup', accessKeyUpHandler );\n\n\t\t\t\tvar editor = this._.editor;\n\t\t\t\teditor.focus();\n\n\t\t\t\t// Give a while before unlock, waiting for focus to return to the editable. (#172)\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\teditor.focusManager.unlock();\n\n\t\t\t\t\t// Fixed iOS focus issue (#12381).\n\t\t\t\t\t// Keep in mind that editor.focus() does not work in this case.\n\t\t\t\t\tif ( CKEDITOR.env.iOS ) {\n\t\t\t\t\t\teditor.window.focus();\n\t\t\t\t\t}\n\t\t\t\t}, 0 );\n\n\t\t\t} else {\n\t\t\t\tCKEDITOR.dialog._.currentZIndex -= 10;\n\t\t\t}\n\n\t\t\tdelete this._.parentDialog;\n\t\t\t// Reset the initial values of the dialog.\n\t\t\tthis.foreach( function( contentObj ) {\n\t\t\t\tcontentObj.resetInitValue && contentObj.resetInitValue();\n\t\t\t} );\n\n\t\t\t// Reset dialog state back to IDLE, if busy (#13213).\n\t\t\tthis.setState( CKEDITOR.DIALOG_STATE_IDLE );\n\t\t},\n\n\t\t/**\n\t\t * Adds a tabbed page into the dialog.\n\t\t *\n\t\t * @param {Object} contents Content definition.\n\t\t */\n\t\taddPage: function( contents ) {\n\t\t\tif ( contents.requiredContent && !this._.editor.filter.check( contents.requiredContent ) )\n\t\t\t\treturn;\n\n\t\t\tvar pageHtml = [],\n\t\t\t\ttitleHtml = contents.label ? ' title=\"' + CKEDITOR.tools.htmlEncode( contents.label ) + '\"' : '',\n\t\t\t\tvbox = CKEDITOR.dialog._.uiElementBuilders.vbox.build( this, {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tclassName: 'cke_dialog_page_contents',\n\t\t\t\t\tchildren: contents.elements,\n\t\t\t\t\texpand: !!contents.expand,\n\t\t\t\t\tpadding: contents.padding,\n\t\t\t\t\tstyle: contents.style || 'width: 100%;'\n\t\t\t\t}, pageHtml );\n\n\t\t\tvar contentMap = this._.contents[ contents.id ] = {},\n\t\t\t\tcursor,\n\t\t\t\tchildren = vbox.getChild(),\n\t\t\t\tenabledFields = 0;\n\n\t\t\twhile ( ( cursor = children.shift() ) ) {\n\t\t\t\t// Count all allowed fields.\n\t\t\t\tif ( !cursor.notAllowed && cursor.type != 'hbox' && cursor.type != 'vbox' )\n\t\t\t\t\tenabledFields++;\n\n\t\t\t\tcontentMap[ cursor.id ] = cursor;\n\t\t\t\tif ( typeof cursor.getChild == 'function' )\n\t\t\t\t\tchildren.push.apply( children, cursor.getChild() );\n\t\t\t}\n\n\t\t\t// If all fields are disabled (because they are not allowed) hide this tab.\n\t\t\tif ( !enabledFields )\n\t\t\t\tcontents.hidden = true;\n\n\t\t\t// Create the HTML for the tab and the content block.\n\t\t\tvar page = CKEDITOR.dom.element.createFromHtml( pageHtml.join( '' ) );\n\t\t\tpage.setAttribute( 'role', 'tabpanel' );\n\n\t\t\tvar env = CKEDITOR.env;\n\t\t\tvar tabId = 'cke_' + contents.id + '_' + CKEDITOR.tools.getNextNumber(),\n\t\t\t\ttab = CKEDITOR.dom.element.createFromHtml( [\n\t\t\t\t\t'<a class=\"cke_dialog_tab\"',\n\t\t\t\t\t( this._.pageCount > 0 ? ' cke_last' : 'cke_first' ),\n\t\t\t\t\ttitleHtml,\n\t\t\t\t\t( !!contents.hidden ? ' style=\"display:none\"' : '' ),\n\t\t\t\t\t' id=\"', tabId, '\"',\n\t\t\t\t\tenv.gecko && !env.hc ? '' : ' href=\"javascript:void(0)\"',\n\t\t\t\t\t' tabIndex=\"-1\"',\n\t\t\t\t\t' hidefocus=\"true\"',\n\t\t\t\t\t' role=\"tab\">',\n\t\t\t\t\tcontents.label,\n\t\t\t\t\t'</a>'\n\t\t\t\t].join( '' ) );\n\n\t\t\tpage.setAttribute( 'aria-labelledby', tabId );\n\n\t\t\t// Take records for the tabs and elements created.\n\t\t\tthis._.tabs[ contents.id ] = [ tab, page ];\n\t\t\tthis._.tabIdList.push( contents.id );\n\t\t\t!contents.hidden && this._.pageCount++;\n\t\t\tthis._.lastTab = tab;\n\t\t\tthis.updateStyle();\n\n\t\t\t// Attach the DOM nodes.\n\n\t\t\tpage.setAttribute( 'name', contents.id );\n\t\t\tpage.appendTo( this.parts.contents );\n\n\t\t\ttab.unselectable();\n\t\t\tthis.parts.tabs.append( tab );\n\n\t\t\t// Add access key handlers if access key is defined.\n\t\t\tif ( contents.accessKey ) {\n\t\t\t\tregisterAccessKey( this, this, 'CTRL+' + contents.accessKey, tabAccessKeyDown, tabAccessKeyUp );\n\t\t\t\tthis._.accessKeyMap[ 'CTRL+' + contents.accessKey ] = contents.id;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Activates a tab page in the dialog by its id.\n\t\t *\n\t\t *\t\tdialogObj.selectPage( 'tab_1' );\n\t\t *\n\t\t * @param {String} id The id of the dialog tab to be activated.\n\t\t */\n\t\tselectPage: function( id ) {\n\t\t\tif ( this._.currentTabId == id )\n\t\t\t\treturn;\n\n\t\t\tif ( this._.tabs[ id ][ 0 ].hasClass( 'cke_dialog_tab_disabled' ) )\n\t\t\t\treturn;\n\n\t\t\t// If event was canceled - do nothing.\n\t\t\tif ( this.fire( 'selectPage', { page: id, currentPage: this._.currentTabId } ) === false )\n\t\t\t\treturn;\n\n\t\t\t// Hide the non-selected tabs and pages.\n\t\t\tfor ( var i in this._.tabs ) {\n\t\t\t\tvar tab = this._.tabs[ i ][ 0 ],\n\t\t\t\t\tpage = this._.tabs[ i ][ 1 ];\n\t\t\t\tif ( i != id ) {\n\t\t\t\t\ttab.removeClass( 'cke_dialog_tab_selected' );\n\t\t\t\t\tpage.hide();\n\t\t\t\t}\n\t\t\t\tpage.setAttribute( 'aria-hidden', i != id );\n\t\t\t}\n\n\t\t\tvar selected = this._.tabs[ id ];\n\t\t\tselected[ 0 ].addClass( 'cke_dialog_tab_selected' );\n\n\t\t\t// [IE] an invisible input[type='text'] will enlarge it's width\n\t\t\t// if it's value is long when it shows, so we clear it's value\n\t\t\t// before it shows and then recover it (#5649)\n\t\t\tif ( CKEDITOR.env.ie6Compat || CKEDITOR.env.ie7Compat ) {\n\t\t\t\tclearOrRecoverTextInputValue( selected[ 1 ] );\n\t\t\t\tselected[ 1 ].show();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tclearOrRecoverTextInputValue( selected[ 1 ], 1 );\n\t\t\t\t}, 0 );\n\t\t\t} else {\n\t\t\t\tselected[ 1 ].show();\n\t\t\t}\n\n\t\t\tthis._.currentTabId = id;\n\t\t\tthis._.currentTabIndex = CKEDITOR.tools.indexOf( this._.tabIdList, id );\n\t\t},\n\n\t\t/**\n\t\t * Dialog state-specific style updates.\n\t\t */\n\t\tupdateStyle: function() {\n\t\t\t// If only a single page shown, a different style is used in the central pane.\n\t\t\tthis.parts.dialog[ ( this._.pageCount === 1 ? 'add' : 'remove' ) + 'Class' ]( 'cke_single_page' );\n\t\t},\n\n\t\t/**\n\t\t * Hides a page's tab away from the dialog.\n\t\t *\n\t\t *\t\tdialog.hidePage( 'tab_3' );\n\t\t *\n\t\t * @param {String} id The page's Id.\n\t\t */\n\t\thidePage: function( id ) {\n\t\t\tvar tab = this._.tabs[ id ] && this._.tabs[ id ][ 0 ];\n\t\t\tif ( !tab || this._.pageCount == 1 || !tab.isVisible() )\n\t\t\t\treturn;\n\t\t\t// Switch to other tab first when we're hiding the active tab.\n\t\t\telse if ( id == this._.currentTabId )\n\t\t\t\tthis.selectPage( getPreviousVisibleTab.call( this ) );\n\n\t\t\ttab.hide();\n\t\t\tthis._.pageCount--;\n\t\t\tthis.updateStyle();\n\t\t},\n\n\t\t/**\n\t\t * Unhides a page's tab.\n\t\t *\n\t\t *\t\tdialog.showPage( 'tab_2' );\n\t\t *\n\t\t * @param {String} id The page's Id.\n\t\t */\n\t\tshowPage: function( id ) {\n\t\t\tvar tab = this._.tabs[ id ] && this._.tabs[ id ][ 0 ];\n\t\t\tif ( !tab )\n\t\t\t\treturn;\n\t\t\ttab.show();\n\t\t\tthis._.pageCount++;\n\t\t\tthis.updateStyle();\n\t\t},\n\n\t\t/**\n\t\t * Gets the root DOM element of the dialog.\n\t\t *\n\t\t *\t\tvar dialogElement = dialogObj.getElement().getFirst();\n\t\t *\t\tdialogElement.setStyle( 'padding', '5px' );\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} The `<span>` element containing this dialog.\n\t\t */\n\t\tgetElement: function() {\n\t\t\treturn this._.element;\n\t\t},\n\n\t\t/**\n\t\t * Gets the name of the dialog.\n\t\t *\n\t\t *\t\tvar dialogName = dialogObj.getName();\n\t\t *\n\t\t * @returns {String} The name of this dialog.\n\t\t */\n\t\tgetName: function() {\n\t\t\treturn this._.name;\n\t\t},\n\n\t\t/**\n\t\t * Gets a dialog UI element object from a dialog page.\n\t\t *\n\t\t *\t\tdialogObj.getContentElement( 'tabId', 'elementId' ).setValue( 'Example' );\n\t\t *\n\t\t * @param {String} pageId id of dialog page.\n\t\t * @param {String} elementId id of UI element.\n\t\t * @returns {CKEDITOR.ui.dialog.uiElement} The dialog UI element.\n\t\t */\n\t\tgetContentElement: function( pageId, elementId ) {\n\t\t\tvar page = this._.contents[ pageId ];\n\t\t\treturn page && page[ elementId ];\n\t\t},\n\n\t\t/**\n\t\t * Gets the value of a dialog UI element.\n\t\t *\n\t\t *\t\talert( dialogObj.getValueOf( 'tabId', 'elementId' ) );\n\t\t *\n\t\t * @param {String} pageId id of dialog page.\n\t\t * @param {String} elementId id of UI element.\n\t\t * @returns {Object} The value of the UI element.\n\t\t */\n\t\tgetValueOf: function( pageId, elementId ) {\n\t\t\treturn this.getContentElement( pageId, elementId ).getValue();\n\t\t},\n\n\t\t/**\n\t\t * Sets the value of a dialog UI element.\n\t\t *\n\t\t *\t\tdialogObj.setValueOf( 'tabId', 'elementId', 'Example' );\n\t\t *\n\t\t * @param {String} pageId id of the dialog page.\n\t\t * @param {String} elementId id of the UI element.\n\t\t * @param {Object} value The new value of the UI element.\n\t\t */\n\t\tsetValueOf: function( pageId, elementId, value ) {\n\t\t\treturn this.getContentElement( pageId, elementId ).setValue( value );\n\t\t},\n\n\t\t/**\n\t\t * Gets the UI element of a button in the dialog's button row.\n\t\t *\n\t\t *\t\t@returns {CKEDITOR.ui.dialog.button} The button object.\n\t\t *\n\t\t * @param {String} id The id of the button.\n\t\t */\n\t\tgetButton: function( id ) {\n\t\t\treturn this._.buttons[ id ];\n\t\t},\n\n\t\t/**\n\t\t * Simulates a click to a dialog button in the dialog's button row.\n\t\t *\n\t\t * @returns The return value of the dialog's `click` event.\n\t\t *\n\t\t * @param {String} id The id of the button.\n\t\t */\n\t\tclick: function( id ) {\n\t\t\treturn this._.buttons[ id ].click();\n\t\t},\n\n\t\t/**\n\t\t * Disables a dialog button.\n\t\t *\n\t\t * @param {String} id The id of the button.\n\t\t */\n\t\tdisableButton: function( id ) {\n\t\t\treturn this._.buttons[ id ].disable();\n\t\t},\n\n\t\t/**\n\t\t * Enables a dialog button.\n\t\t *\n\t\t * @param {String} id The id of the button.\n\t\t */\n\t\tenableButton: function( id ) {\n\t\t\treturn this._.buttons[ id ].enable();\n\t\t},\n\n\t\t/**\n\t\t * Gets the number of pages in the dialog.\n\t\t *\n\t\t * @returns {Number} Page count.\n\t\t */\n\t\tgetPageCount: function() {\n\t\t\treturn this._.pageCount;\n\t\t},\n\n\t\t/**\n\t\t * Gets the editor instance which opened this dialog.\n\t\t *\n\t\t * @returns {CKEDITOR.editor} Parent editor instances.\n\t\t */\n\t\tgetParentEditor: function() {\n\t\t\treturn this._.editor;\n\t\t},\n\n\t\t/**\n\t\t * Gets the element that was selected when opening the dialog, if any.\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} The element that was selected, or `null`.\n\t\t */\n\t\tgetSelectedElement: function() {\n\t\t\treturn this.getParentEditor().getSelection().getSelectedElement();\n\t\t},\n\n\t\t/**\n\t\t * Adds element to dialog's focusable list.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} element\n\t\t * @param {Number} [index]\n\t\t */\n\t\taddFocusable: function( element, index ) {\n\t\t\tif ( typeof index == 'undefined' ) {\n\t\t\t\tindex = this._.focusList.length;\n\t\t\t\tthis._.focusList.push( new Focusable( this, element, index ) );\n\t\t\t} else {\n\t\t\t\tthis._.focusList.splice( index, 0, new Focusable( this, element, index ) );\n\t\t\t\tfor ( var i = index + 1; i < this._.focusList.length; i++ )\n\t\t\t\t\tthis._.focusList[ i ].focusIndex++;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Sets the dialog {@link #property-state}.\n\t\t *\n\t\t * @since 4.5\n\t\t * @param {Number} state Either {@link CKEDITOR#DIALOG_STATE_IDLE} or {@link CKEDITOR#DIALOG_STATE_BUSY}.\n\t\t */\n\t\tsetState: function( state ) {\n\t\t\tvar oldState = this.state;\n\n\t\t\tif ( oldState == state ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.state = state;\n\n\t\t\tif ( state == CKEDITOR.DIALOG_STATE_BUSY ) {\n\t\t\t\t// Insert the spinner on demand.\n\t\t\t\tif ( !this.parts.spinner ) {\n\t\t\t\t\tvar dir = this.getParentEditor().lang.dir,\n\t\t\t\t\t\tspinnerDef = {\n\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t'class': 'cke_dialog_spinner'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\t\t'float': dir == 'rtl' ? 'right' : 'left'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tspinnerDef.styles[ 'margin-' + ( dir == 'rtl' ? 'left' : 'right' ) ] = '8px';\n\n\t\t\t\t\tthis.parts.spinner = CKEDITOR.document.createElement( 'div', spinnerDef );\n\n\t\t\t\t\tthis.parts.spinner.setHtml( '&#8987;' );\n\t\t\t\t\tthis.parts.spinner.appendTo( this.parts.title, 1 );\n\t\t\t\t}\n\n\t\t\t\t// Finally, show the spinner.\n\t\t\t\tthis.parts.spinner.show();\n\n\t\t\t\tthis.getButton( 'ok' ).disable();\n\t\t\t} else if ( state == CKEDITOR.DIALOG_STATE_IDLE ) {\n\t\t\t\t// Hide the spinner. But don't do anything if there is no spinner yet.\n\t\t\t\tthis.parts.spinner && this.parts.spinner.hide();\n\n\t\t\t\tthis.getButton( 'ok' ).enable();\n\t\t\t}\n\n\t\t\tthis.fire( 'state', state );\n\t\t}\n\t};\n\n\tCKEDITOR.tools.extend( CKEDITOR.dialog, {\n\t\t/**\n\t\t * Registers a dialog.\n\t\t *\n\t\t *\t\t// Full sample plugin, which does not only register a dialog window but also adds an item to the context menu.\n\t\t *\t\t// To open the dialog window, choose \"Open dialog\" in the context menu.\n\t\t *\t\tCKEDITOR.plugins.add( 'myplugin', {\n\t\t *\t\t\tinit: function( editor ) {\n\t\t *\t\t\t\teditor.addCommand( 'mydialog',new CKEDITOR.dialogCommand( 'mydialog' ) );\n\t\t *\n\t\t *\t\t\t\tif ( editor.contextMenu ) {\n\t\t *\t\t\t\t\teditor.addMenuGroup( 'mygroup', 10 );\n\t\t *\t\t\t\t\teditor.addMenuItem( 'My Dialog', {\n\t\t *\t\t\t\t\t\tlabel: 'Open dialog',\n\t\t *\t\t\t\t\t\tcommand: 'mydialog',\n\t\t *\t\t\t\t\t\tgroup: 'mygroup'\n\t\t *\t\t\t\t\t} );\n\t\t *\t\t\t\t\teditor.contextMenu.addListener( function( element ) {\n\t\t *\t\t\t\t\t\treturn { 'My Dialog': CKEDITOR.TRISTATE_OFF };\n\t\t *\t\t\t\t\t} );\n\t\t *\t\t\t\t}\n\t\t *\n\t\t *\t\t\t\tCKEDITOR.dialog.add( 'mydialog', function( api ) {\n\t\t *\t\t\t\t\t// CKEDITOR.dialog.definition\n\t\t *\t\t\t\t\tvar dialogDefinition = {\n\t\t *\t\t\t\t\t\ttitle: 'Sample dialog',\n\t\t *\t\t\t\t\t\tminWidth: 390,\n\t\t *\t\t\t\t\t\tminHeight: 130,\n\t\t *\t\t\t\t\t\tcontents: [\n\t\t *\t\t\t\t\t\t\t{\n\t\t *\t\t\t\t\t\t\t\tid: 'tab1',\n\t\t *\t\t\t\t\t\t\t\tlabel: 'Label',\n\t\t *\t\t\t\t\t\t\t\ttitle: 'Title',\n\t\t *\t\t\t\t\t\t\t\texpand: true,\n\t\t *\t\t\t\t\t\t\t\tpadding: 0,\n\t\t *\t\t\t\t\t\t\t\telements: [\n\t\t *\t\t\t\t\t\t\t\t\t{\n\t\t *\t\t\t\t\t\t\t\t\t\ttype: 'html',\n\t\t *\t\t\t\t\t\t\t\t\t\thtml: '<p>This is some sample HTML content.</p>'\n\t\t *\t\t\t\t\t\t\t\t\t},\n\t\t *\t\t\t\t\t\t\t\t\t{\n\t\t *\t\t\t\t\t\t\t\t\t\ttype: 'textarea',\n\t\t *\t\t\t\t\t\t\t\t\t\tid: 'textareaId',\n\t\t *\t\t\t\t\t\t\t\t\t\trows: 4,\n\t\t *\t\t\t\t\t\t\t\t\t\tcols: 40\n\t\t *\t\t\t\t\t\t\t\t\t}\n\t\t *\t\t\t\t\t\t\t\t]\n\t\t *\t\t\t\t\t\t\t}\n\t\t *\t\t\t\t\t\t],\n\t\t *\t\t\t\t\t\tbuttons: [ CKEDITOR.dialog.okButton, CKEDITOR.dialog.cancelButton ],\n\t\t *\t\t\t\t\t\tonOk: function() {\n\t\t *\t\t\t\t\t\t\t// \"this\" is now a CKEDITOR.dialog object.\n\t\t *\t\t\t\t\t\t\t// Accessing dialog elements:\n\t\t *\t\t\t\t\t\t\tvar textareaObj = this.getContentElement( 'tab1', 'textareaId' );\n\t\t *\t\t\t\t\t\t\talert( \"You have entered: \" + textareaObj.getValue() );\n\t\t *\t\t\t\t\t\t}\n\t\t *\t\t\t\t\t};\n\t\t *\n\t\t *\t\t\t\t\treturn dialogDefinition;\n\t\t *\t\t\t\t} );\n\t\t *\t\t\t}\n\t\t *\t\t} );\n\t\t *\n\t\t *\t\tCKEDITOR.replace( 'editor1', { extraPlugins: 'myplugin' } );\n\t\t *\n\t\t * @static\n\t\t * @param {String} name The dialog's name.\n\t\t * @param {Function/String} dialogDefinition\n\t\t * A function returning the dialog's definition, or the URL to the `.js` file holding the function.\n\t\t * The function should accept an argument `editor` which is the current editor instance, and\n\t\t * return an object conforming to {@link CKEDITOR.dialog.definition}.\n\t\t * @see CKEDITOR.dialog.definition\n\t\t */\n\t\tadd: function( name, dialogDefinition ) {\n\t\t\t// Avoid path registration from multiple instances override definition.\n\t\t\tif ( !this._.dialogDefinitions[ name ] || typeof dialogDefinition == 'function' )\n\t\t\t\tthis._.dialogDefinitions[ name ] = dialogDefinition;\n\t\t},\n\n\t\t/**\n\t\t * @static\n\t\t * @todo\n\t\t */\n\t\texists: function( name ) {\n\t\t\treturn !!this._.dialogDefinitions[ name ];\n\t\t},\n\n\t\t/**\n\t\t * @static\n\t\t * @todo\n\t\t */\n\t\tgetCurrent: function() {\n\t\t\treturn CKEDITOR.dialog._.currentTop;\n\t\t},\n\n\t\t/**\n\t\t * Check whether tab wasn't removed by {@link CKEDITOR.config#removeDialogTabs}.\n\t\t *\n\t\t * @since 4.1\n\t\t * @static\n\t\t * @param {CKEDITOR.editor} editor\n\t\t * @param {String} dialogName\n\t\t * @param {String} tabName\n\t\t * @returns {Boolean}\n\t\t */\n\t\tisTabEnabled: function( editor, dialogName, tabName ) {\n\t\t\tvar cfg = editor.config.removeDialogTabs;\n\n\t\t\treturn !( cfg && cfg.match( new RegExp( '(?:^|;)' + dialogName + ':' + tabName + '(?:$|;)', 'i' ) ) );\n\t\t},\n\n\t\t/**\n\t\t * The default OK button for dialogs. Fires the `ok` event and closes the dialog if the event succeeds.\n\t\t *\n\t\t * @static\n\t\t * @method\n\t\t */\n\t\tokButton: ( function() {\n\t\t\tvar retval = function( editor, override ) {\n\t\t\t\t\toverride = override || {};\n\t\t\t\t\treturn CKEDITOR.tools.extend( {\n\t\t\t\t\t\tid: 'ok',\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tlabel: editor.lang.common.ok,\n\t\t\t\t\t\t'class': 'cke_dialog_ui_button_ok',\n\t\t\t\t\t\tonClick: function( evt ) {\n\t\t\t\t\t\t\tvar dialog = evt.data.dialog;\n\t\t\t\t\t\t\tif ( dialog.fire( 'ok', { hide: true } ).hide !== false )\n\t\t\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, override, true );\n\t\t\t\t};\n\t\t\tretval.type = 'button';\n\t\t\tretval.override = function( override ) {\n\t\t\t\treturn CKEDITOR.tools.extend( function( editor ) {\n\t\t\t\t\treturn retval( editor, override );\n\t\t\t\t}, { type: 'button' }, true );\n\t\t\t};\n\t\t\treturn retval;\n\t\t} )(),\n\n\t\t/**\n\t\t * The default cancel button for dialogs. Fires the `cancel` event and\n\t\t * closes the dialog if no UI element value changed.\n\t\t *\n\t\t * @static\n\t\t * @method\n\t\t */\n\t\tcancelButton: ( function() {\n\t\t\tvar retval = function( editor, override ) {\n\t\t\t\t\toverride = override || {};\n\t\t\t\t\treturn CKEDITOR.tools.extend( {\n\t\t\t\t\t\tid: 'cancel',\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tlabel: editor.lang.common.cancel,\n\t\t\t\t\t\t'class': 'cke_dialog_ui_button_cancel',\n\t\t\t\t\t\tonClick: function( evt ) {\n\t\t\t\t\t\t\tvar dialog = evt.data.dialog;\n\t\t\t\t\t\t\tif ( dialog.fire( 'cancel', { hide: true } ).hide !== false )\n\t\t\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, override, true );\n\t\t\t\t};\n\t\t\tretval.type = 'button';\n\t\t\tretval.override = function( override ) {\n\t\t\t\treturn CKEDITOR.tools.extend( function( editor ) {\n\t\t\t\t\treturn retval( editor, override );\n\t\t\t\t}, { type: 'button' }, true );\n\t\t\t};\n\t\t\treturn retval;\n\t\t} )(),\n\n\t\t/**\n\t\t * Registers a dialog UI element.\n\t\t *\n\t\t * @static\n\t\t * @param {String} typeName The name of the UI element.\n\t\t * @param {Function} builder The function to build the UI element.\n\t\t */\n\t\taddUIElement: function( typeName, builder ) {\n\t\t\tthis._.uiElementBuilders[ typeName ] = builder;\n\t\t}\n\t} );\n\n\tCKEDITOR.dialog._ = {\n\t\tuiElementBuilders: {},\n\n\t\tdialogDefinitions: {},\n\n\t\tcurrentTop: null,\n\n\t\tcurrentZIndex: null\n\t};\n\n\t// \"Inherit\" (copy actually) from CKEDITOR.event.\n\tCKEDITOR.event.implementOn( CKEDITOR.dialog );\n\tCKEDITOR.event.implementOn( CKEDITOR.dialog.prototype );\n\n\tvar defaultDialogDefinition = {\n\t\tresizable: CKEDITOR.DIALOG_RESIZE_BOTH,\n\t\tminWidth: 600,\n\t\tminHeight: 400,\n\t\tbuttons: [ CKEDITOR.dialog.okButton, CKEDITOR.dialog.cancelButton ]\n\t};\n\n\t// Tool function used to return an item from an array based on its id\n\t// property.\n\tvar getById = function( array, id, recurse ) {\n\t\t\tfor ( var i = 0, item;\n\t\t\t( item = array[ i ] ); i++ ) {\n\t\t\t\tif ( item.id == id )\n\t\t\t\t\treturn item;\n\t\t\t\tif ( recurse && item[ recurse ] ) {\n\t\t\t\t\tvar retval = getById( item[ recurse ], id, recurse );\n\t\t\t\t\tif ( retval )\n\t\t\t\t\t\treturn retval;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t// Tool function used to add an item into an array.\n\tvar addById = function( array, newItem, nextSiblingId, recurse, nullIfNotFound ) {\n\t\t\tif ( nextSiblingId ) {\n\t\t\t\tfor ( var i = 0, item;\n\t\t\t\t( item = array[ i ] ); i++ ) {\n\t\t\t\t\tif ( item.id == nextSiblingId ) {\n\t\t\t\t\t\tarray.splice( i, 0, newItem );\n\t\t\t\t\t\treturn newItem;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( recurse && item[ recurse ] ) {\n\t\t\t\t\t\tvar retval = addById( item[ recurse ], newItem, nextSiblingId, recurse, true );\n\t\t\t\t\t\tif ( retval )\n\t\t\t\t\t\t\treturn retval;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( nullIfNotFound )\n\t\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tarray.push( newItem );\n\t\t\treturn newItem;\n\t\t};\n\n\t// Tool function used to remove an item from an array based on its id.\n\tvar removeById = function( array, id, recurse ) {\n\t\t\tfor ( var i = 0, item;\n\t\t\t( item = array[ i ] ); i++ ) {\n\t\t\t\tif ( item.id == id )\n\t\t\t\t\treturn array.splice( i, 1 );\n\t\t\t\tif ( recurse && item[ recurse ] ) {\n\t\t\t\t\tvar retval = removeById( item[ recurse ], id, recurse );\n\t\t\t\t\tif ( retval )\n\t\t\t\t\t\treturn retval;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t/**\n\t * This class is not really part of the API. It is the `definition` property value\n\t * passed to `dialogDefinition` event handlers.\n\t *\n\t *\t\tCKEDITOR.on( 'dialogDefinition', function( evt ) {\n\t *\t\t\tvar definition = evt.data.definition;\n\t *\t\t\tvar content = definition.getContents( 'page1' );\n\t * \t\t\t// ...\n\t *\t\t} );\n\t *\n\t * @private\n\t * @class CKEDITOR.dialog.definitionObject\n\t * @extends CKEDITOR.dialog.definition\n\t * @constructor Creates a definitionObject class instance.\n\t */\n\tvar definitionObject = function( dialog, dialogDefinition ) {\n\t\t\t// TODO : Check if needed.\n\t\t\tthis.dialog = dialog;\n\n\t\t\t// Transform the contents entries in contentObjects.\n\t\t\tvar contents = dialogDefinition.contents;\n\t\t\tfor ( var i = 0, content;\n\t\t\t( content = contents[ i ] ); i++ )\n\t\t\t\tcontents[ i ] = content && new contentObject( dialog, content );\n\n\t\t\tCKEDITOR.tools.extend( this, dialogDefinition );\n\t\t};\n\n\tdefinitionObject.prototype = {\n\t\t/**\n\t\t * Gets a content definition.\n\t\t *\n\t\t * @param {String} id The id of the content definition.\n\t\t * @returns {CKEDITOR.dialog.definition.content} The content definition matching id.\n\t\t */\n\t\tgetContents: function( id ) {\n\t\t\treturn getById( this.contents, id );\n\t\t},\n\n\t\t/**\n\t\t * Gets a button definition.\n\t\t *\n\t\t * @param {String} id The id of the button definition.\n\t\t * @returns {CKEDITOR.dialog.definition.button} The button definition matching id.\n\t\t */\n\t\tgetButton: function( id ) {\n\t\t\treturn getById( this.buttons, id );\n\t\t},\n\n\t\t/**\n\t\t * Adds a content definition object under this dialog definition.\n\t\t *\n\t\t * @param {CKEDITOR.dialog.definition.content} contentDefinition The\n\t\t * content definition.\n\t\t * @param {String} [nextSiblingId] The id of an existing content\n\t\t * definition which the new content definition will be inserted\n\t\t * before. Omit if the new content definition is to be inserted as\n\t\t * the last item.\n\t\t * @returns {CKEDITOR.dialog.definition.content} The inserted content definition.\n\t\t */\n\t\taddContents: function( contentDefinition, nextSiblingId ) {\n\t\t\treturn addById( this.contents, contentDefinition, nextSiblingId );\n\t\t},\n\n\t\t/**\n\t\t * Adds a button definition object under this dialog definition.\n\t\t *\n\t\t * @param {CKEDITOR.dialog.definition.button} buttonDefinition The\n\t\t * button definition.\n\t\t * @param {String} [nextSiblingId] The id of an existing button\n\t\t * definition which the new button definition will be inserted\n\t\t * before. Omit if the new button definition is to be inserted as\n\t\t * the last item.\n\t\t * @returns {CKEDITOR.dialog.definition.button} The inserted button definition.\n\t\t */\n\t\taddButton: function( buttonDefinition, nextSiblingId ) {\n\t\t\treturn addById( this.buttons, buttonDefinition, nextSiblingId );\n\t\t},\n\n\t\t/**\n\t\t * Removes a content definition from this dialog definition.\n\t\t *\n\t\t * @param {String} id The id of the content definition to be removed.\n\t\t * @returns {CKEDITOR.dialog.definition.content} The removed content definition.\n\t\t */\n\t\tremoveContents: function( id ) {\n\t\t\tremoveById( this.contents, id );\n\t\t},\n\n\t\t/**\n\t\t * Removes a button definition from the dialog definition.\n\t\t *\n\t\t * @param {String} id The id of the button definition to be removed.\n\t\t * @returns {CKEDITOR.dialog.definition.button} The removed button definition.\n\t\t */\n\t\tremoveButton: function( id ) {\n\t\t\tremoveById( this.buttons, id );\n\t\t}\n\t};\n\n\t/**\n\t * This class is not really part of the API. It is the template of the\n\t * objects representing content pages inside the\n\t * CKEDITOR.dialog.definitionObject.\n\t *\n\t *\t\tCKEDITOR.on( 'dialogDefinition', function( evt ) {\n\t *\t\t\tvar definition = evt.data.definition;\n\t *\t\t\tvar content = definition.getContents( 'page1' );\n\t *\t\t\tcontent.remove( 'textInput1' );\n\t *\t\t\t// ...\n\t *\t\t} );\n\t *\n\t * @private\n\t * @class CKEDITOR.dialog.definition.contentObject\n\t * @constructor Creates a contentObject class instance.\n\t */\n\tfunction contentObject( dialog, contentDefinition ) {\n\t\tthis._ = {\n\t\t\tdialog: dialog\n\t\t};\n\n\t\tCKEDITOR.tools.extend( this, contentDefinition );\n\t}\n\n\tcontentObject.prototype = {\n\t\t/**\n\t\t * Gets a UI element definition under the content definition.\n\t\t *\n\t\t * @param {String} id The id of the UI element definition.\n\t\t * @returns {CKEDITOR.dialog.definition.uiElement}\n\t\t */\n\t\tget: function( id ) {\n\t\t\treturn getById( this.elements, id, 'children' );\n\t\t},\n\n\t\t/**\n\t\t * Adds a UI element definition to the content definition.\n\t\t *\n\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition The\n\t\t * UI elemnet definition to be added.\n\t\t * @param {String} nextSiblingId The id of an existing UI element\n\t\t * definition which the new UI element definition will be inserted\n\t\t * before. Omit if the new button definition is to be inserted as\n\t\t * the last item.\n\t\t * @returns {CKEDITOR.dialog.definition.uiElement} The element definition inserted.\n\t\t */\n\t\tadd: function( elementDefinition, nextSiblingId ) {\n\t\t\treturn addById( this.elements, elementDefinition, nextSiblingId, 'children' );\n\t\t},\n\n\t\t/**\n\t\t * Removes a UI element definition from the content definition.\n\t\t *\n\t\t * @param {String} id The id of the UI element definition to be removed.\n\t\t * @returns {CKEDITOR.dialog.definition.uiElement} The element definition removed.\n\t\t */\n\t\tremove: function( id ) {\n\t\t\tremoveById( this.elements, id, 'children' );\n\t\t}\n\t};\n\n\tfunction initDragAndDrop( dialog ) {\n\t\tvar lastCoords = null,\n\t\t\tabstractDialogCoords = null,\n\t\t\teditor = dialog.getParentEditor(),\n\t\t\tmagnetDistance = editor.config.dialog_magnetDistance,\n\t\t\tmargins = CKEDITOR.skin.margins || [ 0, 0, 0, 0 ];\n\n\t\tif ( typeof magnetDistance == 'undefined' )\n\t\t\tmagnetDistance = 20;\n\n\t\tfunction mouseMoveHandler( evt ) {\n\t\t\tvar dialogSize = dialog.getSize(),\n\t\t\t\tviewPaneSize = CKEDITOR.document.getWindow().getViewPaneSize(),\n\t\t\t\tx = evt.data.$.screenX,\n\t\t\t\ty = evt.data.$.screenY,\n\t\t\t\tdx = x - lastCoords.x,\n\t\t\t\tdy = y - lastCoords.y,\n\t\t\t\trealX, realY;\n\n\t\t\tlastCoords = { x: x, y: y };\n\t\t\tabstractDialogCoords.x += dx;\n\t\t\tabstractDialogCoords.y += dy;\n\n\t\t\tif ( abstractDialogCoords.x + margins[ 3 ] < magnetDistance )\n\t\t\t\trealX = -margins[ 3 ];\n\t\t\telse if ( abstractDialogCoords.x - margins[ 1 ] > viewPaneSize.width - dialogSize.width - magnetDistance )\n\t\t\t\trealX = viewPaneSize.width - dialogSize.width + ( editor.lang.dir == 'rtl' ? 0 : margins[ 1 ] );\n\t\t\telse\n\t\t\t\trealX = abstractDialogCoords.x;\n\n\t\t\tif ( abstractDialogCoords.y + margins[ 0 ] < magnetDistance )\n\t\t\t\trealY = -margins[ 0 ];\n\t\t\telse if ( abstractDialogCoords.y - margins[ 2 ] > viewPaneSize.height - dialogSize.height - magnetDistance )\n\t\t\t\trealY = viewPaneSize.height - dialogSize.height + margins[ 2 ];\n\t\t\telse\n\t\t\t\trealY = abstractDialogCoords.y;\n\n\t\t\tdialog.move( realX, realY, 1 );\n\n\t\t\tevt.data.preventDefault();\n\t\t}\n\n\t\tfunction mouseUpHandler() {\n\t\t\tCKEDITOR.document.removeListener( 'mousemove', mouseMoveHandler );\n\t\t\tCKEDITOR.document.removeListener( 'mouseup', mouseUpHandler );\n\n\t\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\t\tvar coverDoc = currentCover.getChild( 0 ).getFrameDocument();\n\t\t\t\tcoverDoc.removeListener( 'mousemove', mouseMoveHandler );\n\t\t\t\tcoverDoc.removeListener( 'mouseup', mouseUpHandler );\n\t\t\t}\n\t\t}\n\n\t\tdialog.parts.title.on( 'mousedown', function( evt ) {\n\t\t\tlastCoords = { x: evt.data.$.screenX, y: evt.data.$.screenY };\n\n\t\t\tCKEDITOR.document.on( 'mousemove', mouseMoveHandler );\n\t\t\tCKEDITOR.document.on( 'mouseup', mouseUpHandler );\n\t\t\tabstractDialogCoords = dialog.getPosition();\n\n\t\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\t\tvar coverDoc = currentCover.getChild( 0 ).getFrameDocument();\n\t\t\t\tcoverDoc.on( 'mousemove', mouseMoveHandler );\n\t\t\t\tcoverDoc.on( 'mouseup', mouseUpHandler );\n\t\t\t}\n\n\t\t\tevt.data.preventDefault();\n\t\t}, dialog );\n\t}\n\n\tfunction initResizeHandles( dialog ) {\n\t\tvar def = dialog.definition,\n\t\t\tresizable = def.resizable;\n\n\t\tif ( resizable == CKEDITOR.DIALOG_RESIZE_NONE )\n\t\t\treturn;\n\n\t\tvar editor = dialog.getParentEditor();\n\t\tvar wrapperWidth, wrapperHeight, viewSize, origin, startSize, dialogCover;\n\n\t\tvar mouseDownFn = CKEDITOR.tools.addFunction( function( $event ) {\n\t\t\tstartSize = dialog.getSize();\n\n\t\t\tvar content = dialog.parts.contents,\n\t\t\t\tiframeDialog = content.$.getElementsByTagName( 'iframe' ).length;\n\n\t\t\t// Shim to help capturing \"mousemove\" over iframe.\n\t\t\tif ( iframeDialog ) {\n\t\t\t\tdialogCover = CKEDITOR.dom.element.createFromHtml( '<div class=\"cke_dialog_resize_cover\" style=\"height: 100%; position: absolute; width: 100%;\"></div>' );\n\t\t\t\tcontent.append( dialogCover );\n\t\t\t}\n\n\t\t\t// Calculate the offset between content and chrome size.\n\t\t\twrapperHeight = startSize.height - dialog.parts.contents.getSize( 'height', !( CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.quirks ) );\n\t\t\twrapperWidth = startSize.width - dialog.parts.contents.getSize( 'width', 1 );\n\n\t\t\torigin = { x: $event.screenX, y: $event.screenY };\n\n\t\t\tviewSize = CKEDITOR.document.getWindow().getViewPaneSize();\n\n\t\t\tCKEDITOR.document.on( 'mousemove', mouseMoveHandler );\n\t\t\tCKEDITOR.document.on( 'mouseup', mouseUpHandler );\n\n\t\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\t\tvar coverDoc = currentCover.getChild( 0 ).getFrameDocument();\n\t\t\t\tcoverDoc.on( 'mousemove', mouseMoveHandler );\n\t\t\t\tcoverDoc.on( 'mouseup', mouseUpHandler );\n\t\t\t}\n\n\t\t\t$event.preventDefault && $event.preventDefault();\n\t\t} );\n\n\t\t// Prepend the grip to the dialog.\n\t\tdialog.on( 'load', function() {\n\t\t\tvar direction = '';\n\t\t\tif ( resizable == CKEDITOR.DIALOG_RESIZE_WIDTH )\n\t\t\t\tdirection = ' cke_resizer_horizontal';\n\t\t\telse if ( resizable == CKEDITOR.DIALOG_RESIZE_HEIGHT )\n\t\t\t\tdirection = ' cke_resizer_vertical';\n\t\t\tvar resizer = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<div' +\n\t\t\t\t' class=\"cke_resizer' + direction + ' cke_resizer_' + editor.lang.dir + '\"' +\n\t\t\t\t' title=\"' + CKEDITOR.tools.htmlEncode( editor.lang.common.resize ) + '\"' +\n\t\t\t\t' onmousedown=\"CKEDITOR.tools.callFunction(' + mouseDownFn + ', event )\">' +\n\t\t\t\t// BLACK LOWER RIGHT TRIANGLE (ltr)\n\t\t\t\t// BLACK LOWER LEFT TRIANGLE (rtl)\n\t\t\t\t( editor.lang.dir == 'ltr' ? '\\u25E2' : '\\u25E3' ) +\n\t\t\t\t'</div>' );\n\t\t\tdialog.parts.footer.append( resizer, 1 );\n\t\t} );\n\t\teditor.on( 'destroy', function() {\n\t\t\tCKEDITOR.tools.removeFunction( mouseDownFn );\n\t\t} );\n\n\t\tfunction mouseMoveHandler( evt ) {\n\t\t\tvar rtl = editor.lang.dir == 'rtl',\n\t\t\t\tdx = ( evt.data.$.screenX - origin.x ) * ( rtl ? -1 : 1 ),\n\t\t\t\tdy = evt.data.$.screenY - origin.y,\n\t\t\t\twidth = startSize.width,\n\t\t\t\theight = startSize.height,\n\t\t\t\tinternalWidth = width + dx * ( dialog._.moved ? 1 : 2 ),\n\t\t\t\tinternalHeight = height + dy * ( dialog._.moved ? 1 : 2 ),\n\t\t\t\telement = dialog._.element.getFirst(),\n\t\t\t\tright = rtl && element.getComputedStyle( 'right' ),\n\t\t\t\tposition = dialog.getPosition();\n\n\t\t\tif ( position.y + internalHeight > viewSize.height )\n\t\t\t\tinternalHeight = viewSize.height - position.y;\n\n\t\t\tif ( ( rtl ? right : position.x ) + internalWidth > viewSize.width )\n\t\t\t\tinternalWidth = viewSize.width - ( rtl ? right : position.x );\n\n\t\t\t// Make sure the dialog will not be resized to the wrong side when it's in the leftmost position for RTL.\n\t\t\tif ( ( resizable == CKEDITOR.DIALOG_RESIZE_WIDTH || resizable == CKEDITOR.DIALOG_RESIZE_BOTH ) )\n\t\t\t\twidth = Math.max( def.minWidth || 0, internalWidth - wrapperWidth );\n\n\t\t\tif ( resizable == CKEDITOR.DIALOG_RESIZE_HEIGHT || resizable == CKEDITOR.DIALOG_RESIZE_BOTH )\n\t\t\t\theight = Math.max( def.minHeight || 0, internalHeight - wrapperHeight );\n\n\t\t\tdialog.resize( width, height );\n\n\t\t\tif ( !dialog._.moved )\n\t\t\t\tdialog.layout();\n\n\t\t\tevt.data.preventDefault();\n\t\t}\n\n\t\tfunction mouseUpHandler() {\n\t\t\tCKEDITOR.document.removeListener( 'mouseup', mouseUpHandler );\n\t\t\tCKEDITOR.document.removeListener( 'mousemove', mouseMoveHandler );\n\n\t\t\tif ( dialogCover ) {\n\t\t\t\tdialogCover.remove();\n\t\t\t\tdialogCover = null;\n\t\t\t}\n\n\t\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\t\tvar coverDoc = currentCover.getChild( 0 ).getFrameDocument();\n\t\t\t\tcoverDoc.removeListener( 'mouseup', mouseUpHandler );\n\t\t\t\tcoverDoc.removeListener( 'mousemove', mouseMoveHandler );\n\t\t\t}\n\t\t}\n\t}\n\n\tvar resizeCover;\n\t// Caching resuable covers and allowing only one cover\n\t// on screen.\n\tvar covers = {},\n\t\tcurrentCover;\n\n\tfunction cancelEvent( ev ) {\n\t\tev.data.preventDefault( 1 );\n\t}\n\n\tfunction showCover( editor ) {\n\t\tvar win = CKEDITOR.document.getWindow();\n\t\tvar config = editor.config,\n\t\t\tbackgroundColorStyle = config.dialog_backgroundCoverColor || 'white',\n\t\t\tbackgroundCoverOpacity = config.dialog_backgroundCoverOpacity,\n\t\t\tbaseFloatZIndex = config.baseFloatZIndex,\n\t\t\tcoverKey = CKEDITOR.tools.genKey( backgroundColorStyle, backgroundCoverOpacity, baseFloatZIndex ),\n\t\t\tcoverElement = covers[ coverKey ];\n\n\t\tif ( !coverElement ) {\n\t\t\tvar html = [\n\t\t\t\t'<div tabIndex=\"-1\" style=\"position: ', ( CKEDITOR.env.ie6Compat ? 'absolute' : 'fixed' ),\n\t\t\t\t'; z-index: ', baseFloatZIndex,\n\t\t\t\t'; top: 0px; left: 0px; ',\n\t\t\t\t( !CKEDITOR.env.ie6Compat ? 'background-color: ' + backgroundColorStyle : '' ),\n\t\t\t\t'\" class=\"cke_dialog_background_cover\">'\n\t\t\t];\n\n\t\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\t\t// Support for custom document.domain in IE.\n\t\t\t\tvar iframeHtml = '<html><body style=\\\\\\'background-color:' + backgroundColorStyle + ';\\\\\\'></body></html>';\n\n\t\t\t\thtml.push( '<iframe' +\n\t\t\t\t\t' hidefocus=\"true\"' +\n\t\t\t\t\t' frameborder=\"0\"' +\n\t\t\t\t\t' id=\"cke_dialog_background_iframe\"' +\n\t\t\t\t\t' src=\"javascript:' );\n\n\t\t\t\thtml.push( 'void((function(){' + encodeURIComponent(\n\t\t\t\t\t'document.open();' +\n\t\t\t\t\t// Support for custom document.domain in IE.\n\t\t\t\t\t'(' + CKEDITOR.tools.fixDomain + ')();' +\n\t\t\t\t\t'document.write( \\'' + iframeHtml + '\\' );' +\n\t\t\t\t\t'document.close();'\n\t\t\t\t) + '})())' );\n\n\t\t\t\thtml.push( '\"' +\n\t\t\t\t\t' style=\"' +\n\t\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t\t'left:0;' +\n\t\t\t\t\t\t'top:0;' +\n\t\t\t\t\t\t'width:100%;' +\n\t\t\t\t\t\t'height: 100%;' +\n\t\t\t\t\t\t'filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)\">' +\n\t\t\t\t\t'</iframe>' );\n\t\t\t}\n\n\t\t\thtml.push( '</div>' );\n\n\t\t\tcoverElement = CKEDITOR.dom.element.createFromHtml( html.join( '' ) );\n\t\t\tcoverElement.setOpacity( backgroundCoverOpacity !== undefined ? backgroundCoverOpacity : 0.5 );\n\n\t\t\tcoverElement.on( 'keydown', cancelEvent );\n\t\t\tcoverElement.on( 'keypress', cancelEvent );\n\t\t\tcoverElement.on( 'keyup', cancelEvent );\n\n\t\t\tcoverElement.appendTo( CKEDITOR.document.getBody() );\n\t\t\tcovers[ coverKey ] = coverElement;\n\t\t} else {\n\t\t\tcoverElement.show();\n\t\t}\n\n\t\t// Makes the dialog cover a focus holder as well.\n\t\teditor.focusManager.add( coverElement );\n\n\t\tcurrentCover = coverElement;\n\t\tvar resizeFunc = function() {\n\t\t\t\tvar size = win.getViewPaneSize();\n\t\t\t\tcoverElement.setStyles( {\n\t\t\t\t\twidth: size.width + 'px',\n\t\t\t\t\theight: size.height + 'px'\n\t\t\t\t} );\n\t\t\t};\n\n\t\tvar scrollFunc = function() {\n\t\t\t\tvar pos = win.getScrollPosition(),\n\t\t\t\t\tcursor = CKEDITOR.dialog._.currentTop;\n\t\t\t\tcoverElement.setStyles( {\n\t\t\t\t\tleft: pos.x + 'px',\n\t\t\t\t\ttop: pos.y + 'px'\n\t\t\t\t} );\n\n\t\t\t\tif ( cursor ) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tvar dialogPos = cursor.getPosition();\n\t\t\t\t\t\tcursor.move( dialogPos.x, dialogPos.y );\n\t\t\t\t\t} while ( ( cursor = cursor._.parentDialog ) );\n\t\t\t\t}\n\t\t\t};\n\n\t\tresizeCover = resizeFunc;\n\t\twin.on( 'resize', resizeFunc );\n\t\tresizeFunc();\n\t\t// Using Safari/Mac, focus must be kept where it is (#7027)\n\t\tif ( !( CKEDITOR.env.mac && CKEDITOR.env.webkit ) )\n\t\t\tcoverElement.focus();\n\n\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\t// IE BUG: win.$.onscroll assignment doesn't work.. it must be window.onscroll.\n\t\t\t// So we need to invent a really funny way to make it work.\n\t\t\tvar myScrollHandler = function() {\n\t\t\t\t\tscrollFunc();\n\t\t\t\t\targuments.callee.prevScrollHandler.apply( this, arguments );\n\t\t\t\t};\n\t\t\twin.$.setTimeout( function() {\n\t\t\t\tmyScrollHandler.prevScrollHandler = window.onscroll ||\n\t\t\t\tfunction() {};\n\t\t\t\twindow.onscroll = myScrollHandler;\n\t\t\t}, 0 );\n\t\t\tscrollFunc();\n\t\t}\n\t}\n\n\tfunction hideCover( editor ) {\n\t\tif ( !currentCover )\n\t\t\treturn;\n\n\t\teditor.focusManager.remove( currentCover );\n\t\tvar win = CKEDITOR.document.getWindow();\n\t\tcurrentCover.hide();\n\t\twin.removeListener( 'resize', resizeCover );\n\n\t\tif ( CKEDITOR.env.ie6Compat ) {\n\t\t\twin.$.setTimeout( function() {\n\t\t\t\tvar prevScrollHandler = window.onscroll && window.onscroll.prevScrollHandler;\n\t\t\t\twindow.onscroll = prevScrollHandler || null;\n\t\t\t}, 0 );\n\t\t}\n\t\tresizeCover = null;\n\t}\n\n\tfunction removeCovers() {\n\t\tfor ( var coverId in covers )\n\t\t\tcovers[ coverId ].remove();\n\t\tcovers = {};\n\t}\n\n\tvar accessKeyProcessors = {};\n\n\tvar accessKeyDownHandler = function( evt ) {\n\t\t\tvar ctrl = evt.data.$.ctrlKey || evt.data.$.metaKey,\n\t\t\t\talt = evt.data.$.altKey,\n\t\t\t\tshift = evt.data.$.shiftKey,\n\t\t\t\tkey = String.fromCharCode( evt.data.$.keyCode ),\n\t\t\t\tkeyProcessor = accessKeyProcessors[ ( ctrl ? 'CTRL+' : '' ) + ( alt ? 'ALT+' : '' ) + ( shift ? 'SHIFT+' : '' ) + key ];\n\n\t\t\tif ( !keyProcessor || !keyProcessor.length )\n\t\t\t\treturn;\n\n\t\t\tkeyProcessor = keyProcessor[ keyProcessor.length - 1 ];\n\t\t\tkeyProcessor.keydown && keyProcessor.keydown.call( keyProcessor.uiElement, keyProcessor.dialog, keyProcessor.key );\n\t\t\tevt.data.preventDefault();\n\t\t};\n\n\tvar accessKeyUpHandler = function( evt ) {\n\t\t\tvar ctrl = evt.data.$.ctrlKey || evt.data.$.metaKey,\n\t\t\t\talt = evt.data.$.altKey,\n\t\t\t\tshift = evt.data.$.shiftKey,\n\t\t\t\tkey = String.fromCharCode( evt.data.$.keyCode ),\n\t\t\t\tkeyProcessor = accessKeyProcessors[ ( ctrl ? 'CTRL+' : '' ) + ( alt ? 'ALT+' : '' ) + ( shift ? 'SHIFT+' : '' ) + key ];\n\n\t\t\tif ( !keyProcessor || !keyProcessor.length )\n\t\t\t\treturn;\n\n\t\t\tkeyProcessor = keyProcessor[ keyProcessor.length - 1 ];\n\t\t\tif ( keyProcessor.keyup ) {\n\t\t\t\tkeyProcessor.keyup.call( keyProcessor.uiElement, keyProcessor.dialog, keyProcessor.key );\n\t\t\t\tevt.data.preventDefault();\n\t\t\t}\n\t\t};\n\n\tvar registerAccessKey = function( uiElement, dialog, key, downFunc, upFunc ) {\n\t\t\tvar procList = accessKeyProcessors[ key ] || ( accessKeyProcessors[ key ] = [] );\n\t\t\tprocList.push( {\n\t\t\t\tuiElement: uiElement,\n\t\t\t\tdialog: dialog,\n\t\t\t\tkey: key,\n\t\t\t\tkeyup: upFunc || uiElement.accessKeyUp,\n\t\t\t\tkeydown: downFunc || uiElement.accessKeyDown\n\t\t\t} );\n\t\t};\n\n\tvar unregisterAccessKey = function( obj ) {\n\t\t\tfor ( var i in accessKeyProcessors ) {\n\t\t\t\tvar list = accessKeyProcessors[ i ];\n\t\t\t\tfor ( var j = list.length - 1; j >= 0; j-- ) {\n\t\t\t\t\tif ( list[ j ].dialog == obj || list[ j ].uiElement == obj )\n\t\t\t\t\t\tlist.splice( j, 1 );\n\t\t\t\t}\n\t\t\t\tif ( list.length === 0 )\n\t\t\t\t\tdelete accessKeyProcessors[ i ];\n\t\t\t}\n\t\t};\n\n\tvar tabAccessKeyUp = function( dialog, key ) {\n\t\t\tif ( dialog._.accessKeyMap[ key ] )\n\t\t\t\tdialog.selectPage( dialog._.accessKeyMap[ key ] );\n\t\t};\n\n\tvar tabAccessKeyDown = function() {};\n\n\t( function() {\n\t\tCKEDITOR.ui.dialog = {\n\t\t\t/**\n\t\t\t * The base class of all dialog UI elements.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a uiElement class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition Element\n\t\t\t * definition.\n\t\t\t *\n\t\t\t * Accepted fields:\n\t\t\t *\n\t\t\t * * `id` (Required) The id of the UI element. See {@link CKEDITOR.dialog#getContentElement}.\n\t\t\t * * `type` (Required) The type of the UI element. The\n\t\t\t *     value to this field specifies which UI element class will be used to\n\t\t\t *     generate the final widget.\n\t\t\t * * `title` (Optional) The popup tooltip for the UI\n\t\t\t *     element.\n\t\t\t * * `hidden` (Optional) A flag that tells if the element\n\t\t\t *     should be initially visible.\n\t\t\t * * `className` (Optional) Additional CSS class names\n\t\t\t *     to add to the UI element. Separated by space.\n\t\t\t * * `style` (Optional) Additional CSS inline styles\n\t\t\t *     to add to the UI element. A semicolon (;) is required after the last\n\t\t\t *     style declaration.\n\t\t\t * * `accessKey` (Optional) The alphanumeric access key\n\t\t\t *     for this element. Access keys are automatically prefixed by CTRL.\n\t\t\t * * `on*` (Optional) Any UI element definition field that\n\t\t\t *     starts with `on` followed immediately by a capital letter and\n\t\t\t *     probably more letters is an event handler. Event handlers may be further\n\t\t\t *     divided into registered event handlers and DOM event handlers. Please\n\t\t\t *     refer to {@link CKEDITOR.ui.dialog.uiElement#registerEvents} and\n\t\t\t *     {@link CKEDITOR.ui.dialog.uiElement#eventProcessors} for more information.\n\t\t\t *\n\t\t\t * @param {Array} htmlList\n\t\t\t * List of HTML code to be added to the dialog's content area.\n\t\t\t * @param {Function/String} [nodeNameArg='div']\n\t\t\t * A function returning a string, or a simple string for the node name for\n\t\t\t * the root DOM node.\n\t\t\t * @param {Function/Object} [stylesArg={}]\n\t\t\t * A function returning an object, or a simple object for CSS styles applied\n\t\t\t * to the DOM node.\n\t\t\t * @param {Function/Object} [attributesArg={}]\n\t\t\t * A fucntion returning an object, or a simple object for attributes applied\n\t\t\t * to the DOM node.\n\t\t\t * @param {Function/String} [contentsArg='']\n\t\t\t * A function returning a string, or a simple string for the HTML code inside\n\t\t\t * the root DOM node. Default is empty string.\n\t\t\t */\n\t\t\tuiElement: function( dialog, elementDefinition, htmlList, nodeNameArg, stylesArg, attributesArg, contentsArg ) {\n\t\t\t\tif ( arguments.length < 4 )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar nodeName = ( nodeNameArg.call ? nodeNameArg( elementDefinition ) : nodeNameArg ) || 'div',\n\t\t\t\t\thtml = [ '<', nodeName, ' ' ],\n\t\t\t\t\tstyles = ( stylesArg && stylesArg.call ? stylesArg( elementDefinition ) : stylesArg ) || {},\n\t\t\t\t\tattributes = ( attributesArg && attributesArg.call ? attributesArg( elementDefinition ) : attributesArg ) || {},\n\t\t\t\t\tinnerHTML = ( contentsArg && contentsArg.call ? contentsArg.call( this, dialog, elementDefinition ) : contentsArg ) || '',\n\t\t\t\t\tdomId = this.domId = attributes.id || CKEDITOR.tools.getNextId() + '_uiElement',\n\t\t\t\t\ti;\n\n\t\t\t\tif ( elementDefinition.requiredContent && !dialog.getParentEditor().filter.check( elementDefinition.requiredContent ) ) {\n\t\t\t\t\tstyles.display = 'none';\n\t\t\t\t\tthis.notAllowed = true;\n\t\t\t\t}\n\n\t\t\t\t// Set the id, a unique id is required for getElement() to work.\n\t\t\t\tattributes.id = domId;\n\n\t\t\t\t// Set the type and definition CSS class names.\n\t\t\t\tvar classes = {};\n\t\t\t\tif ( elementDefinition.type )\n\t\t\t\t\tclasses[ 'cke_dialog_ui_' + elementDefinition.type ] = 1;\n\t\t\t\tif ( elementDefinition.className )\n\t\t\t\t\tclasses[ elementDefinition.className ] = 1;\n\t\t\t\tif ( elementDefinition.disabled )\n\t\t\t\t\tclasses.cke_disabled = 1;\n\n\t\t\t\tvar attributeClasses = ( attributes[ 'class' ] && attributes[ 'class' ].split ) ? attributes[ 'class' ].split( ' ' ) : [];\n\t\t\t\tfor ( i = 0; i < attributeClasses.length; i++ ) {\n\t\t\t\t\tif ( attributeClasses[ i ] )\n\t\t\t\t\t\tclasses[ attributeClasses[ i ] ] = 1;\n\t\t\t\t}\n\t\t\t\tvar finalClasses = [];\n\t\t\t\tfor ( i in classes )\n\t\t\t\t\tfinalClasses.push( i );\n\t\t\t\tattributes[ 'class' ] = finalClasses.join( ' ' );\n\n\t\t\t\t// Set the popup tooltop.\n\t\t\t\tif ( elementDefinition.title )\n\t\t\t\t\tattributes.title = elementDefinition.title;\n\n\t\t\t\t// Write the inline CSS styles.\n\t\t\t\tvar styleStr = ( elementDefinition.style || '' ).split( ';' );\n\n\t\t\t\t// Element alignment support.\n\t\t\t\tif ( elementDefinition.align ) {\n\t\t\t\t\tvar align = elementDefinition.align;\n\t\t\t\t\tstyles[ 'margin-left' ] = align == 'left' ? 0 : 'auto';\n\t\t\t\t\tstyles[ 'margin-right' ] = align == 'right' ? 0 : 'auto';\n\t\t\t\t}\n\n\t\t\t\tfor ( i in styles )\n\t\t\t\t\tstyleStr.push( i + ':' + styles[ i ] );\n\t\t\t\tif ( elementDefinition.hidden )\n\t\t\t\t\tstyleStr.push( 'display:none' );\n\t\t\t\tfor ( i = styleStr.length - 1; i >= 0; i-- ) {\n\t\t\t\t\tif ( styleStr[ i ] === '' )\n\t\t\t\t\t\tstyleStr.splice( i, 1 );\n\t\t\t\t}\n\t\t\t\tif ( styleStr.length > 0 )\n\t\t\t\t\tattributes.style = ( attributes.style ? ( attributes.style + '; ' ) : '' ) + styleStr.join( '; ' );\n\n\t\t\t\t// Write the attributes.\n\t\t\t\tfor ( i in attributes )\n\t\t\t\t\thtml.push( i + '=\"' + CKEDITOR.tools.htmlEncode( attributes[ i ] ) + '\" ' );\n\n\t\t\t\t// Write the content HTML.\n\t\t\t\thtml.push( '>', innerHTML, '</', nodeName, '>' );\n\n\t\t\t\t// Add contents to the parent HTML array.\n\t\t\t\thtmlList.push( html.join( '' ) );\n\n\t\t\t\t( this._ || ( this._ = {} ) ).dialog = dialog;\n\n\t\t\t\t// Override isChanged if it is defined in element definition.\n\t\t\t\tif ( typeof elementDefinition.isChanged == 'boolean' )\n\t\t\t\t\tthis.isChanged = function() {\n\t\t\t\t\t\treturn elementDefinition.isChanged;\n\t\t\t\t\t};\n\t\t\t\tif ( typeof elementDefinition.isChanged == 'function' )\n\t\t\t\t\tthis.isChanged = elementDefinition.isChanged;\n\n\t\t\t\t// Overload 'get(set)Value' on definition.\n\t\t\t\tif ( typeof elementDefinition.setValue == 'function' ) {\n\t\t\t\t\tthis.setValue = CKEDITOR.tools.override( this.setValue, function( org ) {\n\t\t\t\t\t\treturn function( val ) {\n\t\t\t\t\t\t\torg.call( this, elementDefinition.setValue.call( this, val ) );\n\t\t\t\t\t\t};\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tif ( typeof elementDefinition.getValue == 'function' ) {\n\t\t\t\t\tthis.getValue = CKEDITOR.tools.override( this.getValue, function( org ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\treturn elementDefinition.getValue.call( this, org.call( this ) );\n\t\t\t\t\t\t};\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Add events.\n\t\t\t\tCKEDITOR.event.implementOn( this );\n\n\t\t\t\tthis.registerEvents( elementDefinition );\n\t\t\t\tif ( this.accessKeyUp && this.accessKeyDown && elementDefinition.accessKey )\n\t\t\t\t\tregisterAccessKey( this, dialog, 'CTRL+' + elementDefinition.accessKey );\n\n\t\t\t\tvar me = this;\n\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\tvar input = me.getInputElement();\n\t\t\t\t\tif ( input ) {\n\t\t\t\t\t\tvar focusClass = me.type in { 'checkbox': 1, 'ratio': 1 } && CKEDITOR.env.ie && CKEDITOR.env.version < 8 ? 'cke_dialog_ui_focused' : '';\n\t\t\t\t\t\tinput.on( 'focus', function() {\n\t\t\t\t\t\t\tdialog._.tabBarMode = false;\n\t\t\t\t\t\t\tdialog._.hasFocus = true;\n\t\t\t\t\t\t\tme.fire( 'focus' );\n\t\t\t\t\t\t\tfocusClass && this.addClass( focusClass );\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tinput.on( 'blur', function() {\n\t\t\t\t\t\t\tme.fire( 'blur' );\n\t\t\t\t\t\t\tfocusClass && this.removeClass( focusClass );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\t// Completes this object with everything we have in the\n\t\t\t\t// definition.\n\t\t\t\tCKEDITOR.tools.extend( this, elementDefinition );\n\n\t\t\t\t// Register the object as a tab focus if it can be included.\n\t\t\t\tif ( this.keyboardFocusable ) {\n\t\t\t\t\tthis.tabIndex = elementDefinition.tabIndex || 0;\n\n\t\t\t\t\tthis.focusIndex = dialog._.focusList.push( this ) - 1;\n\t\t\t\t\tthis.on( 'focus', function() {\n\t\t\t\t\t\tdialog._.currentFocusIndex = me.focusIndex;\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Horizontal layout box for dialog UI elements, auto-expends to available width of container.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.hbox\n\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a hbox class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog object.\n\t\t\t * @param {Array} childObjList\n\t\t\t * Array of {@link CKEDITOR.ui.dialog.uiElement} objects inside this container.\n\t\t\t * @param {Array} childHtmlList\n\t\t\t * Array of HTML code that correspond to the HTML output of all the\n\t\t\t * objects in childObjList.\n\t\t\t * @param {Array} htmlList\n\t\t\t * Array of HTML code that this element will output to.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `widths` (Optional) The widths of child cells.\n\t\t\t * * `height` (Optional) The height of the layout.\n\t\t\t * * `padding` (Optional) The padding width inside child cells.\n\t\t\t * * `align` (Optional) The alignment of the whole layout.\n\t\t\t */\n\t\t\thbox: function( dialog, childObjList, childHtmlList, htmlList, elementDefinition ) {\n\t\t\t\tif ( arguments.length < 4 )\n\t\t\t\t\treturn;\n\n\t\t\t\tthis._ || ( this._ = {} );\n\n\t\t\t\tvar children = this._.children = childObjList,\n\t\t\t\t\twidths = elementDefinition && elementDefinition.widths || null,\n\t\t\t\t\theight = elementDefinition && elementDefinition.height || null,\n\t\t\t\t\tstyles = {},\n\t\t\t\t\ti;\n\t\t\t\t/** @ignore */\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tvar html = [ '<tbody><tr class=\"cke_dialog_ui_hbox\">' ];\n\t\t\t\t\t\tfor ( i = 0; i < childHtmlList.length; i++ ) {\n\t\t\t\t\t\t\tvar className = 'cke_dialog_ui_hbox_child',\n\t\t\t\t\t\t\t\tstyles = [];\n\t\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\t\tclassName = 'cke_dialog_ui_hbox_first';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( i == childHtmlList.length - 1 ) {\n\t\t\t\t\t\t\t\tclassName = 'cke_dialog_ui_hbox_last';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\thtml.push( '<td class=\"', className, '\" role=\"presentation\" ' );\n\t\t\t\t\t\t\tif ( widths ) {\n\t\t\t\t\t\t\t\tif ( widths[ i ] ) {\n\t\t\t\t\t\t\t\t\tstyles.push( 'width:' + cssLength( widths[i] ) );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstyles.push( 'width:' + Math.floor( 100 / childHtmlList.length ) + '%' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( height ) {\n\t\t\t\t\t\t\t\tstyles.push( 'height:' + cssLength( height ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( elementDefinition && elementDefinition.padding !== undefined ) {\n\t\t\t\t\t\t\t\tstyles.push( 'padding:' + cssLength( elementDefinition.padding ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// In IE Quirks alignment has to be done on table cells. (#7324)\n\t\t\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.quirks && children[ i ].align ) {\n\t\t\t\t\t\t\t\tstyles.push( 'text-align:' + children[ i ].align );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( styles.length > 0 ) {\n\t\t\t\t\t\t\t\thtml.push( 'style=\"' + styles.join( '; ' ) + '\" ' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml.push( '>', childHtmlList[ i ], '</td>' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml.push( '</tr></tbody>' );\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\n\t\t\t\tvar attribs = { role: 'presentation' };\n\t\t\t\telementDefinition && elementDefinition.align && ( attribs.align = elementDefinition.align );\n\n\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, elementDefinition || { type: 'hbox' }, htmlList, 'table', styles, attribs, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Vertical layout box for dialog UI elements.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.vbox\n\t\t\t * @extends CKEDITOR.ui.dialog.hbox\n\t\t\t * @constructor Creates a vbox class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog object.\n\t\t\t * @param {Array} childObjList\n\t\t\t * Array of {@link CKEDITOR.ui.dialog.uiElement} objects inside this container.\n\t\t\t * @param {Array} childHtmlList\n\t\t\t * Array of HTML code that correspond to the HTML output of all the\n\t\t\t * objects in childObjList.\n\t\t\t * @param {Array} htmlList Array of HTML code that this element will output to.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `width` (Optional) The width of the layout.\n\t\t\t * * `heights` (Optional) The heights of individual cells.\n\t\t\t * * `align` (Optional) The alignment of the layout.\n\t\t\t * * `padding` (Optional) The padding width inside child cells.\n\t\t\t * * `expand` (Optional) Whether the layout should expand\n\t\t\t *     vertically to fill its container.\n\t\t\t */\n\t\t\tvbox: function( dialog, childObjList, childHtmlList, htmlList, elementDefinition ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tthis._ || ( this._ = {} );\n\n\t\t\t\tvar children = this._.children = childObjList,\n\t\t\t\t\twidth = elementDefinition && elementDefinition.width || null,\n\t\t\t\t\theights = elementDefinition && elementDefinition.heights || null;\n\t\t\t\t/** @ignore */\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tvar html = [ '<table role=\"presentation\" cellspacing=\"0\" border=\"0\" ' ];\n\t\t\t\t\t\thtml.push( 'style=\"' );\n\t\t\t\t\t\tif ( elementDefinition && elementDefinition.expand )\n\t\t\t\t\t\t\thtml.push( 'height:100%;' );\n\t\t\t\t\t\thtml.push( 'width:' + cssLength( width || '100%' ), ';' );\n\n\t\t\t\t\t\t// (#10123) Temp fix for dialog broken layout in latest webkit.\n\t\t\t\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\t\t\t\thtml.push( 'float:none;' );\n\n\t\t\t\t\t\thtml.push( '\"' );\n\t\t\t\t\t\thtml.push( 'align=\"', CKEDITOR.tools.htmlEncode(\n\t\t\t\t\t\t( elementDefinition && elementDefinition.align ) || ( dialog.getParentEditor().lang.dir == 'ltr' ? 'left' : 'right' ) ), '\" ' );\n\n\t\t\t\t\t\thtml.push( '><tbody>' );\n\t\t\t\t\t\tfor ( var i = 0; i < childHtmlList.length; i++ ) {\n\t\t\t\t\t\t\tvar styles = [];\n\t\t\t\t\t\t\thtml.push( '<tr><td role=\"presentation\" ' );\n\t\t\t\t\t\t\tif ( width )\n\t\t\t\t\t\t\t\tstyles.push( 'width:' + cssLength( width || '100%' ) );\n\t\t\t\t\t\t\tif ( heights )\n\t\t\t\t\t\t\t\tstyles.push( 'height:' + cssLength( heights[ i ] ) );\n\t\t\t\t\t\t\telse if ( elementDefinition && elementDefinition.expand )\n\t\t\t\t\t\t\t\tstyles.push( 'height:' + Math.floor( 100 / childHtmlList.length ) + '%' );\n\t\t\t\t\t\t\tif ( elementDefinition && elementDefinition.padding !== undefined )\n\t\t\t\t\t\t\t\tstyles.push( 'padding:' + cssLength( elementDefinition.padding ) );\n\t\t\t\t\t\t\t// In IE Quirks alignment has to be done on table cells. (#7324)\n\t\t\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.quirks && children[ i ].align )\n\t\t\t\t\t\t\t\tstyles.push( 'text-align:' + children[ i ].align );\n\t\t\t\t\t\t\tif ( styles.length > 0 )\n\t\t\t\t\t\t\t\thtml.push( 'style=\"', styles.join( '; ' ), '\" ' );\n\t\t\t\t\t\t\thtml.push( ' class=\"cke_dialog_ui_vbox_child\">', childHtmlList[ i ], '</td></tr>' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml.push( '</tbody></table>' );\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, elementDefinition || { type: 'vbox' }, htmlList, 'div', null, { role: 'presentation' }, innerHTML );\n\t\t\t}\n\t\t};\n\t} )();\n\n\t/** @class CKEDITOR.ui.dialog.uiElement */\n\tCKEDITOR.ui.dialog.uiElement.prototype = {\n\t\t/**\n\t\t * Gets the root DOM element of this dialog UI object.\n\t\t *\n\t\t *\t\tuiElement.getElement().hide();\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} Root DOM element of UI object.\n\t\t */\n\t\tgetElement: function() {\n\t\t\treturn CKEDITOR.document.getById( this.domId );\n\t\t},\n\n\t\t/**\n\t\t * Gets the DOM element that the user inputs values.\n\t\t *\n\t\t * This function is used by {@link #setValue}, {@link #getValue} and {@link #focus}. It should\n\t\t * be overrided in child classes where the input element isn't the root\n\t\t * element.\n\t\t *\n\t\t *\t\tvar rawValue = textInput.getInputElement().$.value;\n\t\t *\n\t\t * @returns {CKEDITOR.dom.element} The element where the user input values.\n\t\t */\n\t\tgetInputElement: function() {\n\t\t\treturn this.getElement();\n\t\t},\n\n\t\t/**\n\t\t * Gets the parent dialog object containing this UI element.\n\t\t *\n\t\t *\t\tvar dialog = uiElement.getDialog();\n\t\t *\n\t\t * @returns {CKEDITOR.dialog} Parent dialog object.\n\t\t */\n\t\tgetDialog: function() {\n\t\t\treturn this._.dialog;\n\t\t},\n\n\t\t/**\n\t\t * Sets the value of this dialog UI object.\n\t\t *\n\t\t *\t\tuiElement.setValue( 'Dingo' );\n\t\t *\n\t\t * @chainable\n\t\t * @param {Object} value The new value.\n\t\t * @param {Boolean} noChangeEvent Internal commit, to supress `change` event on this element.\n\t\t */\n\t\tsetValue: function( value, noChangeEvent ) {\n\t\t\tthis.getInputElement().setValue( value );\n\t\t\t!noChangeEvent && this.fire( 'change', { value: value } );\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Gets the current value of this dialog UI object.\n\t\t *\n\t\t *\t\tvar myValue = uiElement.getValue();\n\t\t *\n\t\t * @returns {Object} The current value.\n\t\t */\n\t\tgetValue: function() {\n\t\t\treturn this.getInputElement().getValue();\n\t\t},\n\n\t\t/**\n\t\t * Tells whether the UI object's value has changed.\n\t\t *\n\t\t *\t\tif ( uiElement.isChanged() )\n\t\t *\t\t\tconfirm( 'Value changed! Continue?' );\n\t\t *\n\t\t * @returns {Boolean} `true` if changed, `false` if not changed.\n\t\t */\n\t\tisChanged: function() {\n\t\t\t// Override in input classes.\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Selects the parent tab of this element. Usually called by focus() or overridden focus() methods.\n\t\t *\n\t\t *\t\tfocus : function() {\n\t\t *\t\t\tthis.selectParentTab();\n\t\t *\t\t\t// do something else.\n\t\t *\t\t}\n\t\t *\n\t\t * @chainable\n\t\t */\n\t\tselectParentTab: function() {\n\t\t\tvar element = this.getInputElement(),\n\t\t\t\tcursor = element,\n\t\t\t\ttabId;\n\t\t\twhile ( ( cursor = cursor.getParent() ) && cursor.$.className.search( 'cke_dialog_page_contents' ) == -1 ) {\n\n\t\t\t}\n\n\t\t\t// Some widgets don't have parent tabs (e.g. OK and Cancel buttons).\n\t\t\tif ( !cursor )\n\t\t\t\treturn this;\n\n\t\t\ttabId = cursor.getAttribute( 'name' );\n\t\t\t// Avoid duplicate select.\n\t\t\tif ( this._.dialog._.currentTabId != tabId )\n\t\t\t\tthis._.dialog.selectPage( tabId );\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Puts the focus to the UI object. Switches tabs if the UI object isn't in the active tab page.\n\t\t *\n\t\t *\t\tuiElement.focus();\n\t\t *\n\t\t * @chainable\n\t\t */\n\t\tfocus: function() {\n\t\t\tthis.selectParentTab().getInputElement().focus();\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Registers the `on*` event handlers defined in the element definition.\n\t\t *\n\t\t * The default behavior of this function is:\n\t\t *\n\t\t * 1. If the on* event is defined in the class's eventProcesors list,\n\t\t *     then the registration is delegated to the corresponding function\n\t\t *     in the eventProcessors list.\n\t\t * 2. If the on* event is not defined in the eventProcessors list, then\n\t\t *     register the event handler under the corresponding DOM event of\n\t\t *     the UI element's input DOM element (as defined by the return value\n\t\t *     of {@link #getInputElement}).\n\t\t *\n\t\t * This function is only called at UI element instantiation, but can\n\t\t * be overridded in child classes if they require more flexibility.\n\t\t *\n\t\t * @chainable\n\t\t * @param {CKEDITOR.dialog.definition.uiElement} definition The UI element\n\t\t * definition.\n\t\t */\n\t\tregisterEvents: function( definition ) {\n\t\t\tvar regex = /^on([A-Z]\\w+)/,\n\t\t\t\tmatch;\n\n\t\t\tvar registerDomEvent = function( uiElement, dialog, eventName, func ) {\n\t\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\t\tuiElement.getInputElement().on( eventName, func, uiElement );\n\t\t\t\t\t} );\n\t\t\t\t};\n\n\t\t\tfor ( var i in definition ) {\n\t\t\t\tif ( !( match = i.match( regex ) ) )\n\t\t\t\t\tcontinue;\n\t\t\t\tif ( this.eventProcessors[ i ] )\n\t\t\t\t\tthis.eventProcessors[ i ].call( this, this._.dialog, definition[ i ] );\n\t\t\t\telse\n\t\t\t\t\tregisterDomEvent( this, this._.dialog, match[ 1 ].toLowerCase(), definition[ i ] );\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * The event processor list used by\n\t\t * {@link CKEDITOR.ui.dialog.uiElement#getInputElement} at UI element\n\t\t * instantiation. The default list defines three `on*` events:\n\t\t *\n\t\t * 1. `onLoad` - Called when the element's parent dialog opens for the\n\t\t *     first time.\n\t\t * 2. `onShow` - Called whenever the element's parent dialog opens.\n\t\t * 3. `onHide` - Called whenever the element's parent dialog closes.\n\t\t *\n\t\t *\t\t// This connects the 'click' event in CKEDITOR.ui.dialog.button to onClick\n\t\t *\t\t// handlers in the UI element's definitions.\n\t\t *\t\tCKEDITOR.ui.dialog.button.eventProcessors = CKEDITOR.tools.extend( {},\n\t\t *\t\t\tCKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,\n\t\t *\t\t\t{ onClick : function( dialog, func ) { this.on( 'click', func ); } },\n\t\t *\t\t\ttrue\n\t\t *\t\t);\n\t\t *\n\t\t * @property {Object}\n\t\t */\n\t\teventProcessors: {\n\t\t\tonLoad: function( dialog, func ) {\n\t\t\t\tdialog.on( 'load', func, this );\n\t\t\t},\n\n\t\t\tonShow: function( dialog, func ) {\n\t\t\t\tdialog.on( 'show', func, this );\n\t\t\t},\n\n\t\t\tonHide: function( dialog, func ) {\n\t\t\t\tdialog.on( 'hide', func, this );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The default handler for a UI element's access key down event, which\n\t\t * tries to put focus to the UI element.\n\t\t *\n\t\t * Can be overridded in child classes for more sophisticaed behavior.\n\t\t *\n\t\t * @param {CKEDITOR.dialog} dialog The parent dialog object.\n\t\t * @param {String} key The key combination pressed. Since access keys\n\t\t * are defined to always include the `CTRL` key, its value should always\n\t\t * include a `'CTRL+'` prefix.\n\t\t */\n\t\taccessKeyDown: function() {\n\t\t\tthis.focus();\n\t\t},\n\n\t\t/**\n\t\t * The default handler for a UI element's access key up event, which\n\t\t * does nothing.\n\t\t *\n\t\t * Can be overridded in child classes for more sophisticated behavior.\n\t\t *\n\t\t * @param {CKEDITOR.dialog} dialog The parent dialog object.\n\t\t * @param {String} key The key combination pressed. Since access keys\n\t\t * are defined to always include the `CTRL` key, its value should always\n\t\t * include a `'CTRL+'` prefix.\n\t\t */\n\t\taccessKeyUp: function() {},\n\n\t\t/**\n\t\t * Disables a UI element.\n\t\t */\n\t\tdisable: function() {\n\t\t\tvar element = this.getElement(),\n\t\t\t\tinput = this.getInputElement();\n\t\t\tinput.setAttribute( 'disabled', 'true' );\n\t\t\telement.addClass( 'cke_disabled' );\n\t\t},\n\n\t\t/**\n\t\t * Enables a UI element.\n\t\t */\n\t\tenable: function() {\n\t\t\tvar element = this.getElement(),\n\t\t\t\tinput = this.getInputElement();\n\t\t\tinput.removeAttribute( 'disabled' );\n\t\t\telement.removeClass( 'cke_disabled' );\n\t\t},\n\n\t\t/**\n\t\t * Determines whether an UI element is enabled or not.\n\t\t *\n\t\t * @returns {Boolean} Whether the UI element is enabled.\n\t\t */\n\t\tisEnabled: function() {\n\t\t\treturn !this.getElement().hasClass( 'cke_disabled' );\n\t\t},\n\n\t\t/**\n\t\t * Determines whether an UI element is visible or not.\n\t\t *\n\t\t * @returns {Boolean} Whether the UI element is visible.\n\t\t */\n\t\tisVisible: function() {\n\t\t\treturn this.getInputElement().isVisible();\n\t\t},\n\n\t\t/**\n\t\t * Determines whether an UI element is focus-able or not.\n\t\t * Focus-able is defined as being both visible and enabled.\n\t\t *\n\t\t * @returns {Boolean} Whether the UI element can be focused.\n\t\t */\n\t\tisFocusable: function() {\n\t\t\tif ( !this.isEnabled() || !this.isVisible() )\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t/** @class CKEDITOR.ui.dialog.hbox */\n\tCKEDITOR.ui.dialog.hbox.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.uiElement(), {\n\t\t/**\n\t\t * Gets a child UI element inside this container.\n\t\t *\n\t\t *\t\tvar checkbox = hbox.getChild( [0,1] );\n\t\t *\t\tcheckbox.setValue( true );\n\t\t *\n\t\t * @param {Array/Number} indices An array or a single number to indicate the child's\n\t\t * position in the container's descendant tree. Omit to get all the children in an array.\n\t\t * @returns {Array/CKEDITOR.ui.dialog.uiElement} Array of all UI elements in the container\n\t\t * if no argument given, or the specified UI element if indices is given.\n\t\t */\n\t\tgetChild: function( indices ) {\n\t\t\t// If no arguments, return a clone of the children array.\n\t\t\tif ( arguments.length < 1 )\n\t\t\t\treturn this._.children.concat();\n\n\t\t\t// If indices isn't array, make it one.\n\t\t\tif ( !indices.splice )\n\t\t\t\tindices = [ indices ];\n\n\t\t\t// Retrieve the child element according to tree position.\n\t\t\tif ( indices.length < 2 )\n\t\t\t\treturn this._.children[ indices[ 0 ] ];\n\t\t\telse\n\t\t\t\treturn ( this._.children[ indices[ 0 ] ] && this._.children[ indices[ 0 ] ].getChild ) ? this._.children[ indices[ 0 ] ].getChild( indices.slice( 1, indices.length ) ) : null;\n\t\t}\n\t}, true );\n\n\tCKEDITOR.ui.dialog.vbox.prototype = new CKEDITOR.ui.dialog.hbox();\n\n\t( function() {\n\t\tvar commonBuilder = {\n\t\t\tbuild: function( dialog, elementDefinition, output ) {\n\t\t\t\tvar children = elementDefinition.children,\n\t\t\t\t\tchild,\n\t\t\t\t\tchildHtmlList = [],\n\t\t\t\t\tchildObjList = [];\n\t\t\t\tfor ( var i = 0;\n\t\t\t\t( i < children.length && ( child = children[ i ] ) ); i++ ) {\n\t\t\t\t\tvar childHtml = [];\n\t\t\t\t\tchildHtmlList.push( childHtml );\n\t\t\t\t\tchildObjList.push( CKEDITOR.dialog._.uiElementBuilders[ child.type ].build( dialog, child, childHtml ) );\n\t\t\t\t}\n\t\t\t\treturn new CKEDITOR.ui.dialog[ elementDefinition.type ]( dialog, childObjList, childHtmlList, output, elementDefinition );\n\t\t\t}\n\t\t};\n\n\t\tCKEDITOR.dialog.addUIElement( 'hbox', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'vbox', commonBuilder );\n\t} )();\n\n\t/**\n\t * Generic dialog command. It opens a specific dialog when executed.\n\t *\n\t *\t\t// Register the \"link\" command, which opens the \"link\" dialog.\n\t *\t\teditor.addCommand( 'link', new CKEDITOR.dialogCommand( 'link' ) );\n\t *\n\t * @class\n\t * @constructor Creates a dialogCommand class instance.\n\t * @extends CKEDITOR.commandDefinition\n\t * @param {String} dialogName The name of the dialog to open when executing\n\t * this command.\n\t * @param {Object} [ext] Additional command definition's properties.\n\t */\n\tCKEDITOR.dialogCommand = function( dialogName, ext ) {\n\t\tthis.dialogName = dialogName;\n\t\tCKEDITOR.tools.extend( this, ext, true );\n\t};\n\n\tCKEDITOR.dialogCommand.prototype = {\n\t\texec: function( editor ) {\n\t\t\teditor.openDialog( this.dialogName );\n\t\t},\n\n\t\t// Dialog commands just open a dialog ui, thus require no undo logic,\n\t\t// undo support should dedicate to specific dialog implementation.\n\t\tcanUndo: false,\n\n\t\teditorFocus: 1\n\t};\n\n\t( function() {\n\t\tvar notEmptyRegex = /^([a]|[^a])+$/,\n\t\t\tintegerRegex = /^\\d*$/,\n\t\t\tnumberRegex = /^\\d*(?:\\.\\d+)?$/,\n\t\t\thtmlLengthRegex = /^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,\n\t\t\tcssLengthRegex = /^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,\n\t\t\tinlineStyleRegex = /^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;\n\n\t\tCKEDITOR.VALIDATE_OR = 1;\n\t\tCKEDITOR.VALIDATE_AND = 2;\n\n\t\tCKEDITOR.dialog.validate = {\n\t\t\tfunctions: function() {\n\t\t\t\tvar args = arguments;\n\t\t\t\treturn function() {\n\t\t\t\t\t/**\n\t\t\t\t\t * It's important for validate functions to be able to accept the value\n\t\t\t\t\t * as argument in addition to this.getValue(), so that it is possible to\n\t\t\t\t\t * combine validate functions together to make more sophisticated\n\t\t\t\t\t * validators.\n\t\t\t\t\t */\n\t\t\t\t\tvar value = this && this.getValue ? this.getValue() : args[ 0 ];\n\n\t\t\t\t\tvar msg,\n\t\t\t\t\t\trelation = CKEDITOR.VALIDATE_AND,\n\t\t\t\t\t\tfunctions = [],\n\t\t\t\t\t\ti;\n\n\t\t\t\t\tfor ( i = 0; i < args.length; i++ ) {\n\t\t\t\t\t\tif ( typeof args[ i ] == 'function' )\n\t\t\t\t\t\t\tfunctions.push( args[ i ] );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( i < args.length && typeof args[ i ] == 'string' ) {\n\t\t\t\t\t\tmsg = args[ i ];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( i < args.length && typeof args[ i ] == 'number' )\n\t\t\t\t\t\trelation = args[ i ];\n\n\t\t\t\t\tvar passed = ( relation == CKEDITOR.VALIDATE_AND ? true : false );\n\t\t\t\t\tfor ( i = 0; i < functions.length; i++ ) {\n\t\t\t\t\t\tif ( relation == CKEDITOR.VALIDATE_AND )\n\t\t\t\t\t\t\tpassed = passed && functions[ i ]( value );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tpassed = passed || functions[ i ]( value );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn !passed ? msg : true;\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tregex: function( regex, msg ) {\n\t\t\t\t/*\n\t\t\t\t * Can be greatly shortened by deriving from functions validator if code size\n\t\t\t\t * turns out to be more important than performance.\n\t\t\t\t */\n\t\t\t\treturn function() {\n\t\t\t\t\tvar value = this && this.getValue ? this.getValue() : arguments[ 0 ];\n\t\t\t\t\treturn !regex.test( value ) ? msg : true;\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tnotEmpty: function( msg ) {\n\t\t\t\treturn this.regex( notEmptyRegex, msg );\n\t\t\t},\n\n\t\t\tinteger: function( msg ) {\n\t\t\t\treturn this.regex( integerRegex, msg );\n\t\t\t},\n\n\t\t\t'number': function( msg ) {\n\t\t\t\treturn this.regex( numberRegex, msg );\n\t\t\t},\n\n\t\t\t'cssLength': function( msg ) {\n\t\t\t\treturn this.functions( function( val ) {\n\t\t\t\t\treturn cssLengthRegex.test( CKEDITOR.tools.trim( val ) );\n\t\t\t\t}, msg );\n\t\t\t},\n\n\t\t\t'htmlLength': function( msg ) {\n\t\t\t\treturn this.functions( function( val ) {\n\t\t\t\t\treturn htmlLengthRegex.test( CKEDITOR.tools.trim( val ) );\n\t\t\t\t}, msg );\n\t\t\t},\n\n\t\t\t'inlineStyle': function( msg ) {\n\t\t\t\treturn this.functions( function( val ) {\n\t\t\t\t\treturn inlineStyleRegex.test( CKEDITOR.tools.trim( val ) );\n\t\t\t\t}, msg );\n\t\t\t},\n\n\t\t\tequals: function( value, msg ) {\n\t\t\t\treturn this.functions( function( val ) {\n\t\t\t\t\treturn val == value;\n\t\t\t\t}, msg );\n\t\t\t},\n\n\t\t\tnotEqual: function( value, msg ) {\n\t\t\t\treturn this.functions( function( val ) {\n\t\t\t\t\treturn val != value;\n\t\t\t\t}, msg );\n\t\t\t}\n\t\t};\n\n\t\tCKEDITOR.on( 'instanceDestroyed', function( evt ) {\n\t\t\t// Remove dialog cover on last instance destroy.\n\t\t\tif ( CKEDITOR.tools.isEmpty( CKEDITOR.instances ) ) {\n\t\t\t\tvar currentTopDialog;\n\t\t\t\twhile ( ( currentTopDialog = CKEDITOR.dialog._.currentTop ) )\n\t\t\t\t\tcurrentTopDialog.hide();\n\t\t\t\tremoveCovers();\n\t\t\t}\n\n\t\t\tvar dialogs = evt.editor._.storedDialogs;\n\t\t\tfor ( var name in dialogs )\n\t\t\t\tdialogs[ name ].destroy();\n\n\t\t} );\n\n\t} )();\n\n\t// Extend the CKEDITOR.editor class with dialog specific functions.\n\tCKEDITOR.tools.extend( CKEDITOR.editor.prototype, {\n\t\t/**\n\t\t * Loads and opens a registered dialog.\n\t\t *\n\t\t *\t\tCKEDITOR.instances.editor1.openDialog( 'smiley' );\n\t\t *\n\t\t * @member CKEDITOR.editor\n\t\t * @param {String} dialogName The registered name of the dialog.\n\t\t * @param {Function} callback The function to be invoked after dialog instance created.\n\t\t * @returns {CKEDITOR.dialog} The dialog object corresponding to the dialog displayed.\n\t\t * `null` if the dialog name is not registered.\n\t\t * @see CKEDITOR.dialog#add\n\t\t */\n\t\topenDialog: function( dialogName, callback ) {\n\t\t\tvar dialog = null, dialogDefinitions = CKEDITOR.dialog._.dialogDefinitions[ dialogName ];\n\n\t\t\tif ( CKEDITOR.dialog._.currentTop === null )\n\t\t\t\tshowCover( this );\n\n\t\t\t// If the dialogDefinition is already loaded, open it immediately.\n\t\t\tif ( typeof dialogDefinitions == 'function' ) {\n\t\t\t\tvar storedDialogs = this._.storedDialogs || ( this._.storedDialogs = {} );\n\n\t\t\t\tdialog = storedDialogs[ dialogName ] || ( storedDialogs[ dialogName ] = new CKEDITOR.dialog( this, dialogName ) );\n\n\t\t\t\tcallback && callback.call( dialog, dialog );\n\t\t\t\tdialog.show();\n\n\t\t\t} else if ( dialogDefinitions == 'failed' ) {\n\t\t\t\thideCover( this );\n\t\t\t\tthrow new Error( '[CKEDITOR.dialog.openDialog] Dialog \"' + dialogName + '\" failed when loading definition.' );\n\t\t\t} else if ( typeof dialogDefinitions == 'string' ) {\n\n\t\t\t\tCKEDITOR.scriptLoader.load( CKEDITOR.getUrl( dialogDefinitions ),\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tvar dialogDefinition = CKEDITOR.dialog._.dialogDefinitions[ dialogName ];\n\t\t\t\t\t\t// In case of plugin error, mark it as loading failed.\n\t\t\t\t\t\tif ( typeof dialogDefinition != 'function' )\n\t\t\t\t\t\t\tCKEDITOR.dialog._.dialogDefinitions[ dialogName ] = 'failed';\n\n\t\t\t\t\t\tthis.openDialog( dialogName, callback );\n\t\t\t\t\t}, this, 0, 1 );\n\t\t\t}\n\n\t\t\tCKEDITOR.skin.loadPart( 'dialog' );\n\n\t\t\treturn dialog;\n\t\t}\n\t} );\n} )();\n\nCKEDITOR.plugins.add( 'dialog', {\n\trequires: 'dialogui',\n\tinit: function( editor ) {\n\t\teditor.on( 'doubleclick', function( evt ) {\n\t\t\tif ( evt.data.dialog )\n\t\t\t\teditor.openDialog( evt.data.dialog );\n\t\t}, null, null, 999 );\n\t}\n} );\n\n// Dialog related configurations.\n\n/**\n * The color of the dialog background cover. It should be a valid CSS color string.\n *\n *\t\tconfig.dialog_backgroundCoverColor = 'rgb(255, 254, 253)';\n *\n * @cfg {String} [dialog_backgroundCoverColor='white']\n * @member CKEDITOR.config\n */\n\n/**\n * The opacity of the dialog background cover. It should be a number within the\n * range `[0.0, 1.0]`.\n *\n *\t\tconfig.dialog_backgroundCoverOpacity = 0.7;\n *\n * @cfg {Number} [dialog_backgroundCoverOpacity=0.5]\n * @member CKEDITOR.config\n */\n\n/**\n * If the dialog has more than one tab, put focus into the first tab as soon as dialog is opened.\n *\n *\t\tconfig.dialog_startupFocusTab = true;\n *\n * @cfg {Boolean} [dialog_startupFocusTab=false]\n * @member CKEDITOR.config\n */\n\n/**\n * The distance of magnetic borders used in moving and resizing dialogs,\n * measured in pixels.\n *\n *\t\tconfig.dialog_magnetDistance = 30;\n *\n * @cfg {Number} [dialog_magnetDistance=20]\n * @member CKEDITOR.config\n */\n\n/**\n * The guideline to follow when generating the dialog buttons. There are 3 possible options:\n *\n * * `'OS'` - the buttons will be displayed in the default order of the user's OS;\n * * `'ltr'` - for Left-To-Right order;\n * * `'rtl'` - for Right-To-Left order.\n *\n * Example:\n *\n *\t\tconfig.dialog_buttonsOrder = 'rtl';\n *\n * @since 3.5\n * @cfg {String} [dialog_buttonsOrder='OS']\n * @member CKEDITOR.config\n */\n\n/**\n * The dialog contents to removed. It's a string composed by dialog name and tab name with a colon between them.\n *\n * Separate each pair with semicolon (see example).\n *\n * **Note:** All names are case-sensitive.\n *\n * **Note:** Be cautious when specifying dialog tabs that are mandatory,\n * like `'info'`, dialog functionality might be broken because of this!\n *\n *\t\tconfig.removeDialogTabs = 'flash:advanced;image:Link';\n *\n * @since 3.5\n * @cfg {String} [removeDialogTabs='']\n * @member CKEDITOR.config\n */\n\n/**\n * Tells if user should not be asked to confirm close, if any dialog field was modified.\n * By default it is set to `false` meaning that the confirmation dialog will be shown.\n *\n *\t\tconfig.dialog_noConfirmCancel = true;\n *\n * @since 4.3\n * @cfg {Boolean} [dialog_noConfirmCancel=false]\n * @member CKEDITOR.config\n */\n\n/**\n * Event fired when a dialog definition is about to be used to create a dialog into\n * an editor instance. This event makes it possible to customize the definition\n * before creating it.\n *\n * Note that this event is called only the first time a specific dialog is\n * opened. Successive openings will use the cached dialog, and this event will\n * not get fired.\n *\n * @event dialogDefinition\n * @member CKEDITOR\n * @param {CKEDITOR.dialog.definition} data The dialog defination that\n * is being loaded.\n * @param {CKEDITOR.editor} editor The editor instance that will use the dialog.\n */\n\n/**\n * Event fired when a tab is going to be selected in a dialog.\n *\n * @event selectPage\n * @member CKEDITOR.dialog\n * @param data\n * @param {String} data.page The id of the page that it's gonna be selected.\n * @param {String} data.currentPage The id of the current page.\n */\n\n/**\n * Event fired when the user tries to dismiss a dialog.\n *\n * @event cancel\n * @member CKEDITOR.dialog\n * @param data\n * @param {Boolean} data.hide Whether the event should proceed or not.\n */\n\n/**\n * Event fired when the user tries to confirm a dialog.\n *\n * @event ok\n * @member CKEDITOR.dialog\n * @param data\n * @param {Boolean} data.hide Whether the event should proceed or not.\n */\n\n/**\n * Event fired when a dialog is shown.\n *\n * @event show\n * @member CKEDITOR.dialog\n */\n\n/**\n * Event fired when a dialog is shown.\n *\n * @event dialogShow\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {CKEDITOR.dialog} data The opened dialog instance.\n */\n\n/**\n * Event fired when a dialog is hidden.\n *\n * @event hide\n * @member CKEDITOR.dialog\n */\n\n/**\n * Event fired when a dialog is hidden.\n *\n * @event dialogHide\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {CKEDITOR.dialog} data The hidden dialog instance.\n */\n\n/**\n * Event fired when a dialog is being resized. The event is fired on\n * both the {@link CKEDITOR.dialog} object and the dialog instance\n * since 3.5.3, previously it was only available in the global object.\n *\n * @static\n * @event resize\n * @member CKEDITOR.dialog\n * @param data\n * @param {CKEDITOR.dialog} data.dialog The dialog being resized (if\n * it is fired on the dialog itself, this parameter is not sent).\n * @param {String} data.skin The skin name.\n * @param {Number} data.width The new width.\n * @param {Number} data.height The new height.\n */\n\n/**\n * Event fired when a dialog is being resized. The event is fired on\n * both the {@link CKEDITOR.dialog} object and the dialog instance\n * since 3.5.3, previously it was only available in the global object.\n *\n * @since 3.5\n * @event resize\n * @member CKEDITOR.dialog\n * @param data\n * @param {Number} data.width The new width.\n * @param {Number} data.height The new height.\n */\n\n/**\n * Event fired when the dialog state changes, usually by {@link CKEDITOR.dialog#setState}.\n *\n * @since 4.5\n * @event state\n * @member CKEDITOR.dialog\n * @param data\n * @param {Number} data The new state. Either {@link CKEDITOR#DIALOG_STATE_IDLE} or {@link CKEDITOR#DIALOG_STATE_BUSY}.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/dialog/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'panelbutton', {\n\trequires: 'button',\n\tonLoad: function() {\n\t\tfunction clickFn( editor ) {\n\t\t\tvar _ = this._;\n\n\t\t\tif ( _.state == CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\treturn;\n\n\t\t\tthis.createPanel( editor );\n\n\t\t\tif ( _.on ) {\n\t\t\t\t_.panel.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.panel.showBlock( this._.id, this.document.getById( this._.id ), 4 );\n\t\t}\n\n\t\t/**\n\t\t * @class\n\t\t * @extends CKEDITOR.ui.button\n\t\t * @todo class and methods\n\t\t */\n\t\tCKEDITOR.ui.panelButton = CKEDITOR.tools.createClass( {\n\t\t\tbase: CKEDITOR.ui.button,\n\n\t\t\t/**\n\t\t\t * Creates a panelButton class instance.\n\t\t\t *\n\t\t\t * @constructor\n\t\t\t */\n\t\t\t$: function( definition ) {\n\t\t\t\t// We don't want the panel definition in this object.\n\t\t\t\tvar panelDefinition = definition.panel || {};\n\t\t\t\tdelete definition.panel;\n\n\t\t\t\tthis.base( definition );\n\n\t\t\t\tthis.document = ( panelDefinition.parent && panelDefinition.parent.getDocument() ) || CKEDITOR.document;\n\n\t\t\t\tpanelDefinition.block = {\n\t\t\t\t\tattributes: panelDefinition.attributes\n\t\t\t\t};\n\t\t\t\tpanelDefinition.toolbarRelated = true;\n\n\t\t\t\tthis.hasArrow = true;\n\n\t\t\t\tthis.click = clickFn;\n\n\t\t\t\tthis._ = {\n\t\t\t\t\tpanelDefinition: panelDefinition\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tstatics: {\n\t\t\t\thandler: {\n\t\t\t\t\tcreate: function( definition ) {\n\t\t\t\t\t\treturn new CKEDITOR.ui.panelButton( definition );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tproto: {\n\t\t\t\tcreatePanel: function( editor ) {\n\t\t\t\t\tvar _ = this._;\n\n\t\t\t\t\tif ( _.panel )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar panelDefinition = this._.panelDefinition,\n\t\t\t\t\t\tpanelBlockDefinition = this._.panelDefinition.block,\n\t\t\t\t\t\tpanelParentElement = panelDefinition.parent || CKEDITOR.document.getBody(),\n\t\t\t\t\t\tpanel = this._.panel = new CKEDITOR.ui.floatPanel( editor, panelParentElement, panelDefinition ),\n\t\t\t\t\t\tblock = panel.addBlock( _.id, panelBlockDefinition ),\n\t\t\t\t\t\tme = this;\n\n\t\t\t\t\tpanel.onShow = function() {\n\t\t\t\t\t\tif ( me.className )\n\t\t\t\t\t\t\tthis.element.addClass( me.className + '_panel' );\n\n\t\t\t\t\t\tme.setState( CKEDITOR.TRISTATE_ON );\n\n\t\t\t\t\t\t_.on = 1;\n\n\t\t\t\t\t\tme.editorFocus && editor.focus();\n\n\t\t\t\t\t\tif ( me.onOpen )\n\t\t\t\t\t\t\tme.onOpen();\n\t\t\t\t\t};\n\n\t\t\t\t\tpanel.onHide = function( preventOnClose ) {\n\t\t\t\t\t\tif ( me.className )\n\t\t\t\t\t\t\tthis.element.getFirst().removeClass( me.className + '_panel' );\n\n\t\t\t\t\t\tme.setState( me.modes && me.modes[ editor.mode ] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\n\t\t\t\t\t\t_.on = 0;\n\n\t\t\t\t\t\tif ( !preventOnClose && me.onClose )\n\t\t\t\t\t\t\tme.onClose();\n\t\t\t\t\t};\n\n\t\t\t\t\tpanel.onEscape = function() {\n\t\t\t\t\t\tpanel.hide( 1 );\n\t\t\t\t\t\tme.document.getById( _.id ).focus();\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( this.onBlock )\n\t\t\t\t\t\tthis.onBlock( panel, block );\n\n\t\t\t\t\tblock.onHide = function() {\n\t\t\t\t\t\t_.on = 0;\n\t\t\t\t\t\tme.setState( CKEDITOR.TRISTATE_OFF );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t},\n\tbeforeInit: function( editor ) {\n\t\teditor.ui.addHandler( CKEDITOR.UI_PANELBUTTON, CKEDITOR.ui.panelButton.handler );\n\t}\n} );\n\n/**\n * Button UI element.\n *\n * @readonly\n * @property {String} [='panelbutton']\n * @member CKEDITOR\n */\nCKEDITOR.UI_PANELBUTTON = 'panelbutton';\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/panelbutton/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'floatpanel', {\n\trequires: 'panel'\n} );\n\n( function() {\n\tvar panels = {};\n\n\tfunction getPanel( editor, doc, parentElement, definition, level ) {\n\t\t// Generates the panel key: docId-eleId-skinName-langDir[-uiColor][-CSSs][-level]\n\t\tvar key = CKEDITOR.tools.genKey( doc.getUniqueId(), parentElement.getUniqueId(), editor.lang.dir, editor.uiColor || '', definition.css || '', level || '' ),\n\t\t\tpanel = panels[ key ];\n\n\t\tif ( !panel ) {\n\t\t\tpanel = panels[ key ] = new CKEDITOR.ui.panel( doc, definition );\n\t\t\tpanel.element = parentElement.append( CKEDITOR.dom.element.createFromHtml( panel.render( editor ), doc ) );\n\n\t\t\tpanel.element.setStyles( {\n\t\t\t\tdisplay: 'none',\n\t\t\t\tposition: 'absolute'\n\t\t\t} );\n\t\t}\n\n\t\treturn panel;\n\t}\n\n\t/**\n\t * Represents a floating panel UI element.\n\t *\n\t * It is reused by rich combos, color combos, menus, etc.\n\t * and it renders its content using {@link CKEDITOR.ui.panel}.\n\t *\n\t * @class\n\t * @todo\n\t */\n\tCKEDITOR.ui.floatPanel = CKEDITOR.tools.createClass( {\n\t\t/**\n\t\t * Creates a floatPanel class instance.\n\t\t *\n\t\t * @constructor\n\t\t * @param {CKEDITOR.editor} editor\n\t\t * @param {CKEDITOR.dom.element} parentElement\n\t\t * @param {Object} definition Definition of the panel that will be floating.\n\t\t * @param {Number} level\n\t\t */\n\t\t$: function( editor, parentElement, definition, level ) {\n\t\t\tdefinition.forceIFrame = 1;\n\n\t\t\t// In case of editor with floating toolbar append panels that should float\n\t\t\t// to the main UI element.\n\t\t\tif ( definition.toolbarRelated && editor.elementMode == CKEDITOR.ELEMENT_MODE_INLINE )\n\t\t\t\tparentElement = CKEDITOR.document.getById( 'cke_' + editor.name );\n\n\t\t\tvar doc = parentElement.getDocument(),\n\t\t\t\tpanel = getPanel( editor, doc, parentElement, definition, level || 0 ),\n\t\t\t\telement = panel.element,\n\t\t\t\tiframe = element.getFirst(),\n\t\t\t\tthat = this;\n\n\t\t\t// Disable native browser menu. (#4825)\n\t\t\telement.disableContextMenu();\n\n\t\t\tthis.element = element;\n\n\t\t\tthis._ = {\n\t\t\t\teditor: editor,\n\t\t\t\t// The panel that will be floating.\n\t\t\t\tpanel: panel,\n\t\t\t\tparentElement: parentElement,\n\t\t\t\tdefinition: definition,\n\t\t\t\tdocument: doc,\n\t\t\t\tiframe: iframe,\n\t\t\t\tchildren: [],\n\t\t\t\tdir: editor.lang.dir,\n\t\t\t\tshowBlockParams: null\n\t\t\t};\n\n\t\t\teditor.on( 'mode', hide );\n\t\t\teditor.on( 'resize', hide );\n\n\t\t\t// When resize of the window is triggered floatpanel should be repositioned according to new dimensions.\n\t\t\t// #11724. Fixes issue with undesired panel hiding on Android and iOS.\n\t\t\tdoc.getWindow().on( 'resize', function() {\n\t\t\t\tthis.reposition();\n\t\t\t}, this );\n\n\t\t\t// We need a wrapper because events implementation doesn't allow to attach\n\t\t\t// one listener more than once for the same event on the same object.\n\t\t\t// Remember that floatPanel#hide is shared between all instances.\n\t\t\tfunction hide() {\n\t\t\t\tthat.hide();\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\taddBlock: function( name, block ) {\n\t\t\t\treturn this._.panel.addBlock( name, block );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\taddListBlock: function( name, multiSelect ) {\n\t\t\t\treturn this._.panel.addListBlock( name, multiSelect );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\tgetBlock: function( name ) {\n\t\t\t\treturn this._.panel.getBlock( name );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Shows the panel block.\n\t\t\t *\n\t\t\t * @param {String} name\n\t\t\t * @param {CKEDITOR.dom.element} offsetParent Positioned parent.\n\t\t\t * @param {Number} corner\n\t\t\t *\n\t\t\t * * For LTR (left to right) oriented editor:\n\t\t\t *      * `1` = top-left\n\t\t\t *      * `2` = top-right\n\t\t\t *      * `3` = bottom-right\n\t\t\t *      * `4` = bottom-left\n\t\t\t * * For RTL (right to left):\n\t\t\t *      * `1` = top-right\n\t\t\t *      * `2` = top-left\n\t\t\t *      * `3` = bottom-left\n\t\t\t *      * `4` = bottom-right\n\t\t\t *\n\t\t\t * @param {Number} [offsetX=0]\n\t\t\t * @param {Number} [offsetY=0]\n\t\t\t * @param {Function} [callback] A callback function executed when block positioning is done.\n\t\t\t * @todo what do exactly these params mean (especially corner)?\n\t\t\t */\n\t\t\tshowBlock: function( name, offsetParent, corner, offsetX, offsetY, callback ) {\n\t\t\t\tvar panel = this._.panel,\n\t\t\t\t\tblock = panel.showBlock( name );\n\n\t\t\t\tthis._.showBlockParams = [].slice.call( arguments );\n\t\t\t\tthis.allowBlur( false );\n\n\t\t\t\t// Record from where the focus is when open panel.\n\t\t\t\tvar editable = this._.editor.editable();\n\t\t\t\tthis._.returnFocus = editable.hasFocus ? editable : new CKEDITOR.dom.element( CKEDITOR.document.$.activeElement );\n\t\t\t\tthis._.hideTimeout = 0;\n\n\t\t\t\tvar element = this.element,\n\t\t\t\t\tiframe = this._.iframe,\n\t\t\t\t\t// Edge prefers iframe's window to the iframe, just like the rest of the browsers (#13143).\n\t\t\t\t\tfocused = CKEDITOR.env.ie && !CKEDITOR.env.edge ? iframe : new CKEDITOR.dom.window( iframe.$.contentWindow ),\n\t\t\t\t\tdoc = element.getDocument(),\n\t\t\t\t\tpositionedAncestor = this._.parentElement.getPositionedAncestor(),\n\t\t\t\t\tposition = offsetParent.getDocumentPosition( doc ),\n\t\t\t\t\tpositionedAncestorPosition = positionedAncestor ? positionedAncestor.getDocumentPosition( doc ) : { x: 0, y: 0 },\n\t\t\t\t\trtl = this._.dir == 'rtl',\n\t\t\t\t\tleft = position.x + ( offsetX || 0 ) - positionedAncestorPosition.x,\n\t\t\t\t\ttop = position.y + ( offsetY || 0 ) - positionedAncestorPosition.y;\n\n\t\t\t\t// Floating panels are off by (-1px, 0px) in RTL mode. (#3438)\n\t\t\t\tif ( rtl && ( corner == 1 || corner == 4 ) )\n\t\t\t\t\tleft += offsetParent.$.offsetWidth;\n\t\t\t\telse if ( !rtl && ( corner == 2 || corner == 3 ) )\n\t\t\t\t\tleft += offsetParent.$.offsetWidth - 1;\n\n\t\t\t\tif ( corner == 3 || corner == 4 )\n\t\t\t\t\ttop += offsetParent.$.offsetHeight - 1;\n\n\t\t\t\t// Memorize offsetParent by it's ID.\n\t\t\t\tthis._.panel._.offsetParentId = offsetParent.getId();\n\n\t\t\t\telement.setStyles( {\n\t\t\t\t\ttop: top + 'px',\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tdisplay: ''\n\t\t\t\t} );\n\n\t\t\t\t// Don't use display or visibility style because we need to\n\t\t\t\t// calculate the rendering layout later and focus the element.\n\t\t\t\telement.setOpacity( 0 );\n\n\t\t\t\t// To allow the context menu to decrease back their width\n\t\t\t\telement.getFirst().removeStyle( 'width' );\n\n\t\t\t\t// Report to focus manager.\n\t\t\t\tthis._.editor.focusManager.add( focused );\n\n\t\t\t\t// Configure the IFrame blur event. Do that only once.\n\t\t\t\tif ( !this._.blurSet ) {\n\n\t\t\t\t\t// With addEventListener compatible browsers, we must\n\t\t\t\t\t// useCapture when registering the focus/blur events to\n\t\t\t\t\t// guarantee they will be firing in all situations. (#3068, #3222 )\n\t\t\t\t\tCKEDITOR.event.useCapture = true;\n\n\t\t\t\t\tfocused.on( 'blur', function( ev ) {\n\t\t\t\t\t\t// As we are using capture to register the listener,\n\t\t\t\t\t\t// the blur event may get fired even when focusing\n\t\t\t\t\t\t// inside the window itself, so we must ensure the\n\t\t\t\t\t\t// target is out of it.\n\t\t\t\t\t\tif ( !this.allowBlur() || ev.data.getPhase() != CKEDITOR.EVENT_PHASE_AT_TARGET )\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\tif ( this.visible && !this._.activeChild ) {\n\t\t\t\t\t\t\t// [iOS] Allow hide to be prevented if touch is bound\n\t\t\t\t\t\t\t// to any parent of the iframe blur happens before touch (#10714).\n\t\t\t\t\t\t\tif ( CKEDITOR.env.iOS ) {\n\t\t\t\t\t\t\t\tif ( !this._.hideTimeout )\n\t\t\t\t\t\t\t\t\tthis._.hideTimeout = CKEDITOR.tools.setTimeout( doHide, 0, this );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdoHide.call( this );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction doHide() {\n\t\t\t\t\t\t\t// Panel close is caused by user's navigating away the focus, e.g. click outside the panel.\n\t\t\t\t\t\t\t// DO NOT restore focus in this case.\n\t\t\t\t\t\t\tdelete this._.returnFocus;\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tfocused.on( 'focus', function() {\n\t\t\t\t\t\tthis._.focused = true;\n\t\t\t\t\t\tthis.hideChild();\n\t\t\t\t\t\tthis.allowBlur( true );\n\t\t\t\t\t}, this );\n\n\t\t\t\t\t// [iOS] if touch is bound to any parent of the iframe blur\n\t\t\t\t\t// happens twice before touchstart and before touchend (#10714).\n\t\t\t\t\tif ( CKEDITOR.env.iOS ) {\n\t\t\t\t\t\t// Prevent false hiding on blur.\n\t\t\t\t\t\t// We don't need to return focus here because touchend will fire anyway.\n\t\t\t\t\t\t// If user scrolls and pointer gets out of the panel area touchend will also fire.\n\t\t\t\t\t\tfocused.on( 'touchstart', function() {\n\t\t\t\t\t\t\tclearTimeout( this._.hideTimeout );\n\t\t\t\t\t\t}, this );\n\n\t\t\t\t\t\t// Set focus back to handle blur and hide panel when needed.\n\t\t\t\t\t\tfocused.on( 'touchend', function() {\n\t\t\t\t\t\t\tthis._.hideTimeout = 0;\n\t\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t\t}, this );\n\t\t\t\t\t}\n\n\t\t\t\t\tCKEDITOR.event.useCapture = false;\n\n\t\t\t\t\tthis._.blurSet = 1;\n\t\t\t\t}\n\n\t\t\t\tpanel.onEscape = CKEDITOR.tools.bind( function( keystroke ) {\n\t\t\t\t\tif ( this.onEscape && this.onEscape( keystroke ) === false )\n\t\t\t\t\t\treturn false;\n\t\t\t\t}, this );\n\n\t\t\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t\t\tvar panelLoad = CKEDITOR.tools.bind( function() {\n\t\t\t\t\t\tvar target = element;\n\n\t\t\t\t\t\t// Reset panel width as the new content can be narrower\n\t\t\t\t\t\t// than the old one. (#9355)\n\t\t\t\t\t\ttarget.removeStyle( 'width' );\n\n\t\t\t\t\t\tif ( block.autoSize ) {\n\t\t\t\t\t\t\tvar panelDoc = block.element.getDocument(),\n\t\t\t\t\t\t\t\twidth = ( ( CKEDITOR.env.webkit || CKEDITOR.env.edge ) ? block.element : panelDoc.getBody() ).$.scrollWidth;\n\n\t\t\t\t\t\t\t// Account for extra height needed due to IE quirks box model bug:\n\t\t\t\t\t\t\t// http://en.wikipedia.org/wiki/Internet_Explorer_box_model_bug\n\t\t\t\t\t\t\t// (#3426)\n\t\t\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.quirks && width > 0 )\n\t\t\t\t\t\t\t\twidth += ( target.$.offsetWidth || 0 ) - ( target.$.clientWidth || 0 ) + 3;\n\n\t\t\t\t\t\t\t// Add some extra pixels to improve the appearance.\n\t\t\t\t\t\t\twidth += 10;\n\n\t\t\t\t\t\t\ttarget.setStyle( 'width', width + 'px' );\n\n\t\t\t\t\t\t\tvar height = block.element.$.scrollHeight;\n\n\t\t\t\t\t\t\t// Account for extra height needed due to IE quirks box model bug:\n\t\t\t\t\t\t\t// http://en.wikipedia.org/wiki/Internet_Explorer_box_model_bug\n\t\t\t\t\t\t\t// (#3426)\n\t\t\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.quirks && height > 0 )\n\t\t\t\t\t\t\t\theight += ( target.$.offsetHeight || 0 ) - ( target.$.clientHeight || 0 ) + 3;\n\n\t\t\t\t\t\t\ttarget.setStyle( 'height', height + 'px' );\n\n\t\t\t\t\t\t\t// Fix IE < 8 visibility.\n\t\t\t\t\t\t\tpanel._.currentBlock.element.setStyle( 'display', 'none' ).removeStyle( 'display' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget.removeStyle( 'height' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Flip panel layout horizontally in RTL with known width.\n\t\t\t\t\t\tif ( rtl )\n\t\t\t\t\t\t\tleft -= element.$.offsetWidth;\n\n\t\t\t\t\t\t// Pop the style now for measurement.\n\t\t\t\t\t\telement.setStyle( 'left', left + 'px' );\n\n\t\t\t\t\t\t/* panel layout smartly fit the viewport size. */\n\t\t\t\t\t\tvar panelElement = panel.element,\n\t\t\t\t\t\t\tpanelWindow = panelElement.getWindow(),\n\t\t\t\t\t\t\trect = element.$.getBoundingClientRect(),\n\t\t\t\t\t\t\tviewportSize = panelWindow.getViewPaneSize();\n\n\t\t\t\t\t\t// Compensation for browsers that dont support \"width\" and \"height\".\n\t\t\t\t\t\tvar rectWidth = rect.width || rect.right - rect.left,\n\t\t\t\t\t\t\trectHeight = rect.height || rect.bottom - rect.top;\n\n\t\t\t\t\t\t// Check if default horizontal layout is impossible.\n\t\t\t\t\t\tvar spaceAfter = rtl ? rect.right : viewportSize.width - rect.left,\n\t\t\t\t\t\t\tspaceBefore = rtl ? viewportSize.width - rect.right : rect.left;\n\n\t\t\t\t\t\tif ( rtl ) {\n\t\t\t\t\t\t\tif ( spaceAfter < rectWidth ) {\n\t\t\t\t\t\t\t\t// Flip to show on right.\n\t\t\t\t\t\t\t\tif ( spaceBefore > rectWidth )\n\t\t\t\t\t\t\t\t\tleft += rectWidth;\n\t\t\t\t\t\t\t\t// Align to window left.\n\t\t\t\t\t\t\t\telse if ( viewportSize.width > rectWidth )\n\t\t\t\t\t\t\t\t\tleft = left - rect.left;\n\t\t\t\t\t\t\t\t// Align to window right, never cutting the panel at right.\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tleft = left - rect.right + viewportSize.width;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if ( spaceAfter < rectWidth ) {\n\t\t\t\t\t\t\t// Flip to show on left.\n\t\t\t\t\t\t\tif ( spaceBefore > rectWidth )\n\t\t\t\t\t\t\t\tleft -= rectWidth;\n\t\t\t\t\t\t\t// Align to window right.\n\t\t\t\t\t\t\telse if ( viewportSize.width > rectWidth )\n\t\t\t\t\t\t\t\tleft = left - rect.right + viewportSize.width;\n\t\t\t\t\t\t\t// Align to window left, never cutting the panel at left.\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tleft = left - rect.left;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Check if the default vertical layout is possible.\n\t\t\t\t\t\tvar spaceBelow = viewportSize.height - rect.top,\n\t\t\t\t\t\t\tspaceAbove = rect.top;\n\n\t\t\t\t\t\tif ( spaceBelow < rectHeight ) {\n\t\t\t\t\t\t\t// Flip to show above.\n\t\t\t\t\t\t\tif ( spaceAbove > rectHeight )\n\t\t\t\t\t\t\t\ttop -= rectHeight;\n\t\t\t\t\t\t\t// Align to window bottom.\n\t\t\t\t\t\t\telse if ( viewportSize.height > rectHeight )\n\t\t\t\t\t\t\t\ttop = top - rect.bottom + viewportSize.height;\n\t\t\t\t\t\t\t// Align to top, never cutting the panel at top.\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\ttop = top - rect.top;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If IE is in RTL, we have troubles with absolute\n\t\t\t\t\t\t// position and horizontal scrolls. Here we have a\n\t\t\t\t\t\t// series of hacks to workaround it. (#6146)\n\t\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\t\tvar offsetParent = new CKEDITOR.dom.element( element.$.offsetParent ),\n\t\t\t\t\t\t\t\tscrollParent = offsetParent;\n\n\t\t\t\t\t\t\t// Quirks returns <body>, but standards returns <html>.\n\t\t\t\t\t\t\tif ( scrollParent.getName() == 'html' )\n\t\t\t\t\t\t\t\tscrollParent = scrollParent.getDocument().getBody();\n\n\t\t\t\t\t\t\tif ( scrollParent.getComputedStyle( 'direction' ) == 'rtl' ) {\n\t\t\t\t\t\t\t\t// For IE8, there is not much logic on this, but it works.\n\t\t\t\t\t\t\t\tif ( CKEDITOR.env.ie8Compat )\n\t\t\t\t\t\t\t\t\tleft -= element.getDocument().getDocumentElement().$.scrollLeft * 2;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tleft -= ( offsetParent.$.scrollWidth - offsetParent.$.clientWidth );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Trigger the onHide event of the previously active panel to prevent\n\t\t\t\t\t\t// incorrect styles from being applied (#6170)\n\t\t\t\t\t\tvar innerElement = element.getFirst(),\n\t\t\t\t\t\t\tactivePanel;\n\t\t\t\t\t\tif ( ( activePanel = innerElement.getCustomData( 'activePanel' ) ) )\n\t\t\t\t\t\t\tactivePanel.onHide && activePanel.onHide.call( this, 1 );\n\t\t\t\t\t\tinnerElement.setCustomData( 'activePanel', this );\n\n\t\t\t\t\t\telement.setStyles( {\n\t\t\t\t\t\t\ttop: top + 'px',\n\t\t\t\t\t\t\tleft: left + 'px'\n\t\t\t\t\t\t} );\n\t\t\t\t\t\telement.setOpacity( 1 );\n\n\t\t\t\t\t\tcallback && callback();\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tpanel.isLoaded ? panelLoad() : panel.onLoad = panelLoad;\n\n\t\t\t\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t\t\t\tvar scrollTop = CKEDITOR.env.webkit && CKEDITOR.document.getWindow().getScrollPosition().y;\n\n\t\t\t\t\t\t// Focus the panel frame first, so blur gets fired.\n\t\t\t\t\t\tthis.focus();\n\n\t\t\t\t\t\t// Focus the block now.\n\t\t\t\t\t\tblock.element.focus();\n\n\t\t\t\t\t\t// #10623, #10951 - restore the viewport's scroll position after focusing list element.\n\t\t\t\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\t\t\t\tCKEDITOR.document.getBody().$.scrollTop = scrollTop;\n\n\t\t\t\t\t\t// We need this get fired manually because of unfired focus() function.\n\t\t\t\t\t\tthis.allowBlur( true );\n\t\t\t\t\t\tthis._.editor.fire( 'panelShow', this );\n\t\t\t\t\t}, 0, this );\n\t\t\t\t}, CKEDITOR.env.air ? 200 : 0, this );\n\t\t\t\tthis.visible = 1;\n\n\t\t\t\tif ( this.onShow )\n\t\t\t\t\tthis.onShow.call( this );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Repositions the panel with the same parameters that were used in the last {@link #showBlock} call.\n\t\t\t *\n\t\t\t * @since 4.5.4\n\t\t\t */\n\t\t\treposition: function() {\n\t\t\t\tvar blockParams = this._.showBlockParams;\n\n\t\t\t\tif ( this.visible && this._.showBlockParams ) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tthis.showBlock.apply( this, blockParams );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Restores the last focused element or simply focuses the panel window.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\t// Webkit requires to blur any previous focused page element, in\n\t\t\t\t// order to properly fire the \"focus\" event.\n\t\t\t\tif ( CKEDITOR.env.webkit ) {\n\t\t\t\t\tvar active = CKEDITOR.document.getActive();\n\t\t\t\t\tactive && !active.equals( this._.iframe ) && active.$.blur();\n\t\t\t\t}\n\n\t\t\t\t// Restore last focused element or simply focus panel window.\n\t\t\t\tvar focus = this._.lastFocused || this._.iframe.getFrameDocument().getWindow();\n\t\t\t\tfocus.focus();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\tblur: function() {\n\t\t\t\tvar doc = this._.iframe.getFrameDocument(),\n\t\t\t\t\tactive = doc.getActive();\n\n\t\t\t\tactive && active.is( 'a' ) && ( this._.lastFocused = active );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Hides the panel.\n\t\t\t *\n\t\t\t * @todo\n\t\t\t */\n\t\t\thide: function( returnFocus ) {\n\t\t\t\tif ( this.visible && ( !this.onHide || this.onHide.call( this ) !== true ) ) {\n\t\t\t\t\tthis.hideChild();\n\t\t\t\t\t// Blur previously focused element. (#6671)\n\t\t\t\t\tCKEDITOR.env.gecko && this._.iframe.getFrameDocument().$.activeElement.blur();\n\t\t\t\t\tthis.element.setStyle( 'display', 'none' );\n\t\t\t\t\tthis.visible = 0;\n\t\t\t\t\tthis.element.getFirst().removeCustomData( 'activePanel' );\n\n\t\t\t\t\t// Return focus properly. (#6247)\n\t\t\t\t\tvar focusReturn = returnFocus && this._.returnFocus;\n\t\t\t\t\tif ( focusReturn ) {\n\t\t\t\t\t\t// Webkit requires focus moved out panel iframe first.\n\t\t\t\t\t\tif ( CKEDITOR.env.webkit && focusReturn.type )\n\t\t\t\t\t\t\tfocusReturn.getWindow().$.focus();\n\n\t\t\t\t\t\tfocusReturn.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete this._.lastFocused;\n\t\t\t\t\tthis._.showBlockParams = null;\n\n\t\t\t\t\tthis._.editor.fire( 'panelHide', this );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\tallowBlur: function( allow ) {\n\t\t\t\t// Prevent editor from hiding the panel. (#3222)\n\t\t\t\tvar panel = this._.panel;\n\t\t\t\tif ( allow !== undefined )\n\t\t\t\t\tpanel.allowBlur = allow;\n\n\t\t\t\treturn panel.allowBlur;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Shows the specified panel as a child of one block of this one.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.ui.floatPanel} panel\n\t\t\t * @param {String} blockName\n\t\t\t * @param {CKEDITOR.dom.element} offsetParent Positioned parent.\n\t\t\t * @param {Number} corner\n\t\t\t *\n\t\t\t * * For LTR (left to right) oriented editor:\n\t\t\t *      * `1` = top-left\n\t\t\t *      * `2` = top-right\n\t\t\t *      * `3` = bottom-right\n\t\t\t *      * `4` = bottom-left\n\t\t\t * * For RTL (right to left):\n\t\t\t *      * `1` = top-right\n\t\t\t *      * `2` = top-left\n\t\t\t *      * `3` = bottom-left\n\t\t\t *      * `4` = bottom-right\n\t\t\t *\n\t\t\t * @param {Number} [offsetX=0]\n\t\t\t * @param {Number} [offsetY=0]\n\t\t\t * @todo\n\t\t\t */\n\t\t\tshowAsChild: function( panel, blockName, offsetParent, corner, offsetX, offsetY ) {\n\t\t\t\t// Skip reshowing of child which is already visible.\n\t\t\t\tif ( this._.activeChild == panel && panel._.panel._.offsetParentId == offsetParent.getId() )\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.hideChild();\n\n\t\t\t\tpanel.onHide = CKEDITOR.tools.bind( function() {\n\t\t\t\t\t// Use a timeout, so we give time for this menu to get\n\t\t\t\t\t// potentially focused.\n\t\t\t\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t\t\t\tif ( !this._.focused )\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t}, 0, this );\n\t\t\t\t}, this );\n\n\t\t\t\tthis._.activeChild = panel;\n\t\t\t\tthis._.focused = false;\n\n\t\t\t\tpanel.showBlock( blockName, offsetParent, corner, offsetX, offsetY );\n\t\t\t\tthis.blur();\n\n\t\t\t\t/* #3767 IE: Second level menu may not have borders */\n\t\t\t\tif ( CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat ) {\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tpanel.element.getChild( 0 ).$.style.cssText += '';\n\t\t\t\t\t}, 100 );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @todo\n\t\t\t */\n\t\t\thideChild: function( restoreFocus ) {\n\t\t\t\tvar activeChild = this._.activeChild;\n\n\t\t\t\tif ( activeChild ) {\n\t\t\t\t\tdelete activeChild.onHide;\n\t\t\t\t\tdelete this._.activeChild;\n\t\t\t\t\tactiveChild.hide();\n\n\t\t\t\t\t// At this point focus should be moved back to parent panel.\n\t\t\t\t\trestoreFocus && this.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n\n\tCKEDITOR.on( 'instanceDestroyed', function() {\n\t\tvar isLastInstance = CKEDITOR.tools.isEmpty( CKEDITOR.instances );\n\n\t\tfor ( var i in panels ) {\n\t\t\tvar panel = panels[ i ];\n\t\t\t// Safe to destroy it since there're no more instances.(#4241)\n\t\t\tif ( isLastInstance )\n\t\t\t\tpanel.destroy();\n\t\t\t// Panel might be used by other instances, just hide them.(#4552)\n\t\t\telse\n\t\t\t\tpanel.element.hide();\n\t\t}\n\t\t// Remove the registration.\n\t\tisLastInstance && ( panels = {} );\n\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/floatpanel/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'menu', {\n\trequires: 'floatpanel',\n\n\tbeforeInit: function( editor ) {\n\t\tvar groups = editor.config.menu_groups.split( ',' ),\n\t\t\tgroupsOrder = editor._.menuGroups = {},\n\t\t\tmenuItems = editor._.menuItems = {};\n\n\t\tfor ( var i = 0; i < groups.length; i++ )\n\t\t\tgroupsOrder[ groups[ i ] ] = i + 1;\n\n\t\t/**\n\t\t * Registers an item group to the editor context menu in order to make it\n\t\t * possible to associate it with menu items later.\n\t\t *\n\t\t * @param {String} name Specify a group name.\n\t\t * @param {Number} [order=100] Define the display sequence of this group\n\t\t * inside the menu. A smaller value gets displayed first.\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\teditor.addMenuGroup = function( name, order ) {\n\t\t\tgroupsOrder[ name ] = order || 100;\n\t\t};\n\n\t\t/**\n\t\t * Adds an item from the specified definition to the editor context menu.\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The menu item name.\n\t\t * @param {Object} definition The menu item definition.\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\teditor.addMenuItem = function( name, definition ) {\n\t\t\tif ( groupsOrder[ definition.group ] )\n\t\t\t\tmenuItems[ name ] = new CKEDITOR.menuItem( this, name, definition );\n\t\t};\n\n\t\t/**\n\t\t * Adds one or more items from the specified definition array to the editor context menu.\n\t\t *\n\t\t * @method\n\t\t * @param {Array} definitions List of definitions for each menu item as if {@link #addMenuItem} is called.\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\teditor.addMenuItems = function( definitions ) {\n\t\t\tfor ( var itemName in definitions ) {\n\t\t\t\tthis.addMenuItem( itemName, definitions[ itemName ] );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Retrieves a particular menu item definition from the editor context menu.\n\t\t *\n\t\t * @method\n\t\t * @param {String} name The name of the desired menu item.\n\t\t * @returns {Object}\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\teditor.getMenuItem = function( name ) {\n\t\t\treturn menuItems[ name ];\n\t\t};\n\n\t\t/**\n\t\t * Removes a particular menu item added before from the editor context menu.\n\t\t *\n\t\t * @since 3.6.1\n\t\t * @method\n\t\t * @param {String} name The name of the desired menu item.\n\t\t * @member CKEDITOR.editor\n\t\t */\n\t\teditor.removeMenuItem = function( name ) {\n\t\t\tdelete menuItems[ name ];\n\t\t};\n\t}\n} );\n\n( function() {\n\tvar menuItemSource = '<span class=\"cke_menuitem\">' +\n\t\t'<a id=\"{id}\"' +\n\t\t' class=\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href=\"{href}\"' +\n\t\t' title=\"{title}\"' +\n\t\t' tabindex=\"-1\"' +\n\t\t'_cke_focus=1' +\n\t\t' hidefocus=\"true\"' +\n\t\t' role=\"{role}\"' +\n\t\t' aria-haspopup=\"{hasPopup}\"' +\n\t\t' aria-disabled=\"{disabled}\"' +\n\t\t' {ariaChecked}';\n\n\t// Some browsers don't cancel key events in the keydown but in the\n\t// keypress.\n\t// TODO: Check if really needed.\n\tif ( CKEDITOR.env.gecko && CKEDITOR.env.mac )\n\t\tmenuItemSource += ' onkeypress=\"return false;\"';\n\n\t// With Firefox, we need to force the button to redraw, otherwise it\n\t// will remain in the focus state.\n\tif ( CKEDITOR.env.gecko )\n\t\tmenuItemSource += ' onblur=\"this.style.cssText = this.style.cssText;\"';\n\n\t// #188\n\tmenuItemSource += ' onmouseover=\"CKEDITOR.tools.callFunction({hoverFn},{index});\"' +\n\t\t\t' onmouseout=\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" ' +\n\t\t\t( CKEDITOR.env.ie ? 'onclick=\"return false;\" onmouseup' : 'onclick' ) +\n\t\t\t\t'=\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"' +\n\t\t\t'>';\n\n\tmenuItemSource +=\n\t\t\t\t'<span class=\"cke_menubutton_inner\">' +\n\t\t\t\t\t'<span class=\"cke_menubutton_icon\">' +\n\t\t\t\t\t\t'<span class=\"cke_button_icon cke_button__{iconName}_icon\" style=\"{iconStyle}\"></span>' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t\t'<span class=\"cke_menubutton_label\">' +\n\t\t\t\t\t\t'{label}' +\n\t\t\t\t\t'</span>' +\n\t\t\t\t\t'{arrowHtml}' +\n\t\t\t\t'</span>' +\n\t\t\t'</a></span>';\n\n\tvar menuArrowSource = '<span class=\"cke_menuarrow\">' +\n\t\t\t\t'<span>{label}</span>' +\n\t\t\t'</span>';\n\n\tvar menuItemTpl = CKEDITOR.addTemplate( 'menuItem', menuItemSource ),\n\t\tmenuArrowTpl = CKEDITOR.addTemplate( 'menuArrow', menuArrowSource );\n\n\t/**\n\t * @class\n\t * @todo\n\t */\n\tCKEDITOR.menu = CKEDITOR.tools.createClass( {\n\t\t/**\n\t\t * @constructor\n\t\t */\n\t\t$: function( editor, definition ) {\n\t\t\tdefinition = this._.definition = definition || {};\n\t\t\tthis.id = CKEDITOR.tools.getNextId();\n\n\t\t\tthis.editor = editor;\n\t\t\tthis.items = [];\n\t\t\tthis._.listeners = [];\n\n\t\t\tthis._.level = definition.level || 1;\n\n\t\t\tvar panelDefinition = CKEDITOR.tools.extend( {}, definition.panel, {\n\t\t\t\tcss: [ CKEDITOR.skin.getPath( 'editor' ) ],\n\t\t\t\tlevel: this._.level - 1,\n\t\t\t\tblock: {}\n\t\t\t} );\n\n\t\t\tvar attrs = panelDefinition.block.attributes = ( panelDefinition.attributes || {} );\n\t\t\t// Provide default role of 'menu'.\n\t\t\t!attrs.role && ( attrs.role = 'menu' );\n\t\t\tthis._.panelDefinition = panelDefinition;\n\t\t},\n\n\t\t_: {\n\t\t\tonShow: function() {\n\t\t\t\tvar selection = this.editor.getSelection(),\n\t\t\t\t\tstart = selection && selection.getStartElement(),\n\t\t\t\t\tpath = this.editor.elementPath(),\n\t\t\t\t\tlisteners = this._.listeners;\n\n\t\t\t\tthis.removeAll();\n\t\t\t\t// Call all listeners, filling the list of items to be displayed.\n\t\t\t\tfor ( var i = 0; i < listeners.length; i++ ) {\n\t\t\t\t\tvar listenerItems = listeners[ i ]( start, selection, path );\n\n\t\t\t\t\tif ( listenerItems ) {\n\t\t\t\t\t\tfor ( var itemName in listenerItems ) {\n\t\t\t\t\t\t\tvar item = this.editor.getMenuItem( itemName );\n\n\t\t\t\t\t\t\tif ( item && ( !item.command || this.editor.getCommand( item.command ).state ) ) {\n\t\t\t\t\t\t\t\titem.state = listenerItems[ itemName ];\n\t\t\t\t\t\t\t\tthis.add( item );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function( item ) {\n\t\t\t\tthis.hide();\n\n\t\t\t\tif ( item.onClick )\n\t\t\t\t\titem.onClick();\n\t\t\t\telse if ( item.command )\n\t\t\t\t\tthis.editor.execCommand( item.command );\n\t\t\t},\n\n\t\t\tonEscape: function( keystroke ) {\n\t\t\t\tvar parent = this.parent;\n\t\t\t\t// 1. If it's sub-menu, close it, with focus restored on this.\n\t\t\t\t// 2. In case of a top-menu, close it, with focus returned to page.\n\t\t\t\tif ( parent )\n\t\t\t\t\tparent._.panel.hideChild( 1 );\n\t\t\t\telse if ( keystroke == 27 )\n\t\t\t\t\tthis.hide( 1 );\n\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tonHide: function() {\n\t\t\t\tthis.onHide && this.onHide();\n\t\t\t},\n\n\t\t\tshowSubMenu: function( index ) {\n\t\t\t\tvar menu = this._.subMenu,\n\t\t\t\t\titem = this.items[ index ],\n\t\t\t\t\tsubItemDefs = item.getItems && item.getItems();\n\n\t\t\t\t// If this item has no subitems, we just hide the submenu, if\n\t\t\t\t// available, and return back.\n\t\t\t\tif ( !subItemDefs ) {\n\t\t\t\t\t// Hide sub menu with focus returned.\n\t\t\t\t\tthis._.panel.hideChild( 1 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Create the submenu, if not available, or clean the existing\n\t\t\t\t// one.\n\t\t\t\tif ( menu )\n\t\t\t\t\tmenu.removeAll();\n\t\t\t\telse {\n\t\t\t\t\tmenu = this._.subMenu = new CKEDITOR.menu( this.editor, CKEDITOR.tools.extend( {}, this._.definition, { level: this._.level + 1 }, true ) );\n\t\t\t\t\tmenu.parent = this;\n\t\t\t\t\tmenu._.onClick = CKEDITOR.tools.bind( this._.onClick, this );\n\t\t\t\t}\n\n\t\t\t\t// Add all submenu items to the menu.\n\t\t\t\tfor ( var subItemName in subItemDefs ) {\n\t\t\t\t\tvar subItem = this.editor.getMenuItem( subItemName );\n\t\t\t\t\tif ( subItem ) {\n\t\t\t\t\t\tsubItem.state = subItemDefs[ subItemName ];\n\t\t\t\t\t\tmenu.add( subItem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get the element representing the current item.\n\t\t\t\tvar element = this._.panel.getBlock( this.id ).element.getDocument().getById( this.id + String( index ) );\n\n\t\t\t\t// Show the submenu.\n\t\t\t\t// This timeout is needed to give time for the sub-menu get\n\t\t\t\t// focus when JAWS is running. (#9844)\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tmenu.show( element, 2 );\n\t\t\t\t}, 0 );\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\t\t\t/**\n\t\t\t * Adds an item.\n\t\t\t *\n\t\t\t * @param item\n\t\t\t */\n\t\t\tadd: function( item ) {\n\t\t\t\t// Later we may sort the items, but Array#sort is not stable in\n\t\t\t\t// some browsers, here we're forcing the original sequence with\n\t\t\t\t// 'order' attribute if it hasn't been assigned. (#3868)\n\t\t\t\tif ( !item.order )\n\t\t\t\t\titem.order = this.items.length;\n\n\t\t\t\tthis.items.push( item );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Removes all items.\n\t\t\t */\n\t\t\tremoveAll: function() {\n\t\t\t\tthis.items = [];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Shows the menu in given location.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.dom.element} offsetParent\n\t\t\t * @param {Number} [corner]\n\t\t\t * @param {Number} [offsetX]\n\t\t\t * @param {Number} [offsetY]\n\t\t\t */\n\t\t\tshow: function( offsetParent, corner, offsetX, offsetY ) {\n\t\t\t\t// Not for sub menu.\n\t\t\t\tif ( !this.parent ) {\n\t\t\t\t\tthis._.onShow();\n\t\t\t\t\t// Don't menu with zero items.\n\t\t\t\t\tif ( !this.items.length )\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcorner = corner || ( this.editor.lang.dir == 'rtl' ? 2 : 1 );\n\n\t\t\t\tvar items = this.items,\n\t\t\t\t\teditor = this.editor,\n\t\t\t\t\tpanel = this._.panel,\n\t\t\t\t\telement = this._.element;\n\n\t\t\t\t// Create the floating panel for this menu.\n\t\t\t\tif ( !panel ) {\n\t\t\t\t\tpanel = this._.panel = new CKEDITOR.ui.floatPanel( this.editor, CKEDITOR.document.getBody(), this._.panelDefinition, this._.level );\n\n\t\t\t\t\tpanel.onEscape = CKEDITOR.tools.bind( function( keystroke ) {\n\t\t\t\t\t\tif ( this._.onEscape( keystroke ) === false )\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tpanel.onShow = function() {\n\t\t\t\t\t\t// Menu need CSS resets, compensate class name.\n\t\t\t\t\t\tvar holder = panel._.panel.getHolderElement();\n\t\t\t\t\t\tholder.getParent().addClass( 'cke' ).addClass( 'cke_reset_all' );\n\t\t\t\t\t};\n\n\t\t\t\t\tpanel.onHide = CKEDITOR.tools.bind( function() {\n\t\t\t\t\t\tthis._.onHide && this._.onHide();\n\t\t\t\t\t}, this );\n\n\t\t\t\t\t// Create an autosize block inside the panel.\n\t\t\t\t\tvar block = panel.addBlock( this.id, this._.panelDefinition.block );\n\t\t\t\t\tblock.autoSize = true;\n\n\t\t\t\t\tvar keys = block.keys;\n\t\t\t\t\tkeys[ 40 ] = 'next'; // ARROW-DOWN\n\t\t\t\t\tkeys[ 9 ] = 'next'; // TAB\n\t\t\t\t\tkeys[ 38 ] = 'prev'; // ARROW-UP\n\t\t\t\t\tkeys[ CKEDITOR.SHIFT + 9 ] = 'prev'; // SHIFT + TAB\n\t\t\t\t\tkeys[ ( editor.lang.dir == 'rtl' ? 37 : 39 ) ] = CKEDITOR.env.ie ? 'mouseup' : 'click'; // ARROW-RIGHT/ARROW-LEFT(rtl)\n\t\t\t\t\tkeys[ 32 ] = CKEDITOR.env.ie ? 'mouseup' : 'click'; // SPACE\n\t\t\t\t\tCKEDITOR.env.ie && ( keys[ 13 ] = 'mouseup' ); // Manage ENTER, since onclick is blocked in IE (#8041).\n\n\t\t\t\t\telement = this._.element = block.element;\n\n\t\t\t\t\tvar elementDoc = element.getDocument();\n\t\t\t\t\telementDoc.getBody().setStyle( 'overflow', 'hidden' );\n\t\t\t\t\telementDoc.getElementsByTag( 'html' ).getItem( 0 ).setStyle( 'overflow', 'hidden' );\n\n\t\t\t\t\tthis._.itemOverFn = CKEDITOR.tools.addFunction( function( index ) {\n\t\t\t\t\t\tclearTimeout( this._.showSubTimeout );\n\t\t\t\t\t\tthis._.showSubTimeout = CKEDITOR.tools.setTimeout( this._.showSubMenu, editor.config.menu_subMenuDelay || 400, this, [ index ] );\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tthis._.itemOutFn = CKEDITOR.tools.addFunction( function() {\n\t\t\t\t\t\tclearTimeout( this._.showSubTimeout );\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tthis._.itemClickFn = CKEDITOR.tools.addFunction( function( index ) {\n\t\t\t\t\t\tvar item = this.items[ index ];\n\n\t\t\t\t\t\tif ( item.state == CKEDITOR.TRISTATE_DISABLED ) {\n\t\t\t\t\t\t\tthis.hide( 1 );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( item.getItems )\n\t\t\t\t\t\t\tthis._.showSubMenu( index );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis._.onClick( item );\n\t\t\t\t\t}, this );\n\t\t\t\t}\n\n\t\t\t\t// Put the items in the right order.\n\t\t\t\tsortItems( items );\n\n\t\t\t\t// Apply the editor mixed direction status to menu.\n\t\t\t\tvar path = editor.elementPath(),\n\t\t\t\t\tmixedDirCls = ( path && path.direction() != editor.lang.dir ) ? ' cke_mixed_dir_content' : '';\n\n\t\t\t\t// Build the HTML that composes the menu and its items.\n\t\t\t\tvar output = [ '<div class=\"cke_menu' + mixedDirCls + '\" role=\"presentation\">' ];\n\n\t\t\t\tvar length = items.length,\n\t\t\t\t\tlastGroup = length && items[ 0 ].group;\n\n\t\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\t\tvar item = items[ i ];\n\t\t\t\t\tif ( lastGroup != item.group ) {\n\t\t\t\t\t\toutput.push( '<div class=\"cke_menuseparator\" role=\"separator\"></div>' );\n\t\t\t\t\t\tlastGroup = item.group;\n\t\t\t\t\t}\n\n\t\t\t\t\titem.render( this, i, output );\n\t\t\t\t}\n\n\t\t\t\toutput.push( '</div>' );\n\n\t\t\t\t// Inject the HTML inside the panel.\n\t\t\t\telement.setHtml( output.join( '' ) );\n\n\t\t\t\tCKEDITOR.ui.fire( 'ready', this );\n\n\t\t\t\t// Show the panel.\n\t\t\t\tif ( this.parent )\n\t\t\t\t\tthis.parent._.panel.showAsChild( panel, this.id, offsetParent, corner, offsetX, offsetY );\n\t\t\t\telse\n\t\t\t\t\tpanel.showBlock( this.id, offsetParent, corner, offsetX, offsetY );\n\n\t\t\t\teditor.fire( 'menuShow', [ panel ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Adds a callback executed on opening the menu. Items\n\t\t\t * returned by that callback are added to the menu.\n\t\t\t *\n\t\t\t * @param {Function} listenerFn\n\t\t\t * @param {CKEDITOR.dom.element} listenerFn.startElement The selection start anchor element.\n\t\t\t * @param {CKEDITOR.dom.selection} listenerFn.selection The current selection.\n\t\t\t * @param {CKEDITOR.dom.elementPath} listenerFn.path The current elements path.\n\t\t\t * @param listenerFn.return Object (`commandName` => `state`) of items that should be added to the menu.\n\t\t\t */\n\t\t\taddListener: function( listenerFn ) {\n\t\t\t\tthis._.listeners.push( listenerFn );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Hides the menu.\n\t\t\t *\n\t\t\t * @param {Boolean} [returnFocus]\n\t\t\t */\n\t\t\thide: function( returnFocus ) {\n\t\t\t\tthis._.onHide && this._.onHide();\n\t\t\t\tthis._.panel && this._.panel.hide( returnFocus );\n\t\t\t}\n\t\t}\n\t} );\n\n\tfunction sortItems( items ) {\n\t\titems.sort( function( itemA, itemB ) {\n\t\t\tif ( itemA.group < itemB.group )\n\t\t\t\treturn -1;\n\t\t\telse if ( itemA.group > itemB.group )\n\t\t\t\treturn 1;\n\n\t\t\treturn itemA.order < itemB.order ? -1 : itemA.order > itemB.order ? 1 : 0;\n\t\t} );\n\t}\n\n\t/**\n\t * @class\n\t * @todo\n\t */\n\tCKEDITOR.menuItem = CKEDITOR.tools.createClass( {\n\t\t$: function( editor, name, definition ) {\n\t\t\tCKEDITOR.tools.extend( this, definition,\n\t\t\t// Defaults\n\t\t\t{\n\t\t\t\torder: 0,\n\t\t\t\tclassName: 'cke_menubutton__' + name\n\t\t\t} );\n\n\t\t\t// Transform the group name into its order number.\n\t\t\tthis.group = editor._.menuGroups[ this.group ];\n\n\t\t\tthis.editor = editor;\n\t\t\tthis.name = name;\n\t\t},\n\n\t\tproto: {\n\t\t\trender: function( menu, index, output ) {\n\t\t\t\tvar id = menu.id + String( index ),\n\t\t\t\t\tstate = ( typeof this.state == 'undefined' ) ? CKEDITOR.TRISTATE_OFF : this.state,\n\t\t\t\t\tariaChecked = '';\n\n\t\t\t\tvar stateName = state == CKEDITOR.TRISTATE_ON ? 'on' : state == CKEDITOR.TRISTATE_DISABLED ? 'disabled' : 'off';\n\n\t\t\t\tif ( this.role in { menuitemcheckbox: 1, menuitemradio: 1 } )\n\t\t\t\t\tariaChecked = ' aria-checked=\"' + ( state == CKEDITOR.TRISTATE_ON ? 'true' : 'false' ) + '\"';\n\n\t\t\t\tvar hasSubMenu = this.getItems;\n\t\t\t\t// ltr: BLACK LEFT-POINTING POINTER\n\t\t\t\t// rtl: BLACK RIGHT-POINTING POINTER\n\t\t\t\tvar arrowLabel = '&#' + ( this.editor.lang.dir == 'rtl' ? '9668' : '9658' ) + ';';\n\n\t\t\t\tvar iconName = this.name;\n\t\t\t\tif ( this.icon && !( /\\./ ).test( this.icon ) )\n\t\t\t\t\ticonName = this.icon;\n\n\t\t\t\tvar params = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tname: this.name,\n\t\t\t\t\ticonName: iconName,\n\t\t\t\t\tlabel: this.label,\n\t\t\t\t\tcls: this.className || '',\n\t\t\t\t\tstate: stateName,\n\t\t\t\t\thasPopup: hasSubMenu ? 'true' : 'false',\n\t\t\t\t\tdisabled: state == CKEDITOR.TRISTATE_DISABLED,\n\t\t\t\t\ttitle: this.label,\n\t\t\t\t\thref: 'javascript:void(\\'' + ( this.label || '' ).replace( \"'\" + '' ) + '\\')', // jshint ignore:line\n\t\t\t\t\thoverFn: menu._.itemOverFn,\n\t\t\t\t\tmoveOutFn: menu._.itemOutFn,\n\t\t\t\t\tclickFn: menu._.itemClickFn,\n\t\t\t\t\tindex: index,\n\t\t\t\t\ticonStyle: CKEDITOR.skin.getIconStyle( iconName, ( this.editor.lang.dir == 'rtl' ), iconName == this.icon ? null : this.icon, this.iconOffset ),\n\t\t\t\t\tarrowHtml: hasSubMenu ? menuArrowTpl.output( { label: arrowLabel } ) : '',\n\t\t\t\t\trole: this.role ? this.role : 'menuitem',\n\t\t\t\t\tariaChecked: ariaChecked\n\t\t\t\t};\n\n\t\t\t\tmenuItemTpl.output( params, output );\n\t\t\t}\n\t\t}\n\t} );\n\n} )();\n\n\n/**\n * The amount of time, in milliseconds, the editor waits before displaying submenu\n * options when moving the mouse over options that contain submenus, like the\n * \"Cell Properties\" entry for tables.\n *\n *\t\t// Remove the submenu delay.\n *\t\tconfig.menu_subMenuDelay = 0;\n *\n * @cfg {Number} [menu_subMenuDelay=400]\n * @member CKEDITOR.config\n */\n\n/**\n * Fired when a menu is shown.\n *\n * @event menuShow\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n * @param {CKEDITOR.ui.panel[]} data\n */\n\n/**\n * A comma separated list of items group names to be displayed in the context\n * menu. The order of items will reflect the order specified in this list if\n * no priority was defined in the groups.\n *\n *\t\tconfig.menu_groups = 'clipboard,table,anchor,link,image';\n *\n * @cfg {String} [menu_groups=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.menu_groups = 'clipboard,' +\n\t'form,' +\n\t'tablecell,tablecellproperties,tablerow,tablecolumn,table,' +\n\t'anchor,link,image,flash,' +\n\t'checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/menu/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'popup' );\n\nCKEDITOR.tools.extend( CKEDITOR.editor.prototype, {\n\t/**\n\t * Opens Browser in a popup. The `width` and `height` parameters accept\n\t * numbers (pixels) or percent (of screen size) values.\n\t *\n\t * @member CKEDITOR.editor\n\t * @param {String} url The url of the external file browser.\n\t * @param {Number/String} [width='80%'] Popup window width.\n\t * @param {Number/String} [height='70%'] Popup window height.\n\t * @param {String} [options='location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes']\n\t * Popup window features.\n\t */\n\tpopup: function( url, width, height, options ) {\n\t\twidth = width || '80%';\n\t\theight = height || '70%';\n\n\t\tif ( typeof width == 'string' && width.length > 1 && width.substr( width.length - 1, 1 ) == '%' )\n\t\t\twidth = parseInt( window.screen.width * parseInt( width, 10 ) / 100, 10 );\n\n\t\tif ( typeof height == 'string' && height.length > 1 && height.substr( height.length - 1, 1 ) == '%' )\n\t\t\theight = parseInt( window.screen.height * parseInt( height, 10 ) / 100, 10 );\n\n\t\tif ( width < 640 )\n\t\t\twidth = 640;\n\n\t\tif ( height < 420 )\n\t\t\theight = 420;\n\n\t\tvar top = parseInt( ( window.screen.height - height ) / 2, 10 ),\n\t\t\tleft = parseInt( ( window.screen.width - width ) / 2, 10 );\n\n\t\toptions = ( options || 'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes' ) + ',width=' + width +\n\t\t\t',height=' + height +\n\t\t\t',top=' + top +\n\t\t\t',left=' + left;\n\n\t\tvar popupWindow = window.open( '', null, options, true );\n\n\t\t// Blocked by a popup blocker.\n\t\tif ( !popupWindow )\n\t\t\treturn false;\n\n\t\ttry {\n\t\t\t// Chrome is problematic with moveTo/resizeTo, but it's not really needed here (#8855).\n\t\t\tvar ua = navigator.userAgent.toLowerCase();\n\t\t\tif ( ua.indexOf( ' chrome/' ) == -1 ) {\n\t\t\t\tpopupWindow.moveTo( left, top );\n\t\t\t\tpopupWindow.resizeTo( width, height );\n\t\t\t}\n\t\t\tpopupWindow.focus();\n\t\t\tpopupWindow.location.href = url;\n\t\t} catch ( e ) {\n\t\t\tpopupWindow = window.open( url, null, options, true );\n\t\t}\n\n\t\treturn true;\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/popup/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar cssStyle = CKEDITOR.htmlParser.cssStyle,\n\t\tcssLength = CKEDITOR.tools.cssLength;\n\n\tvar cssLengthRegex = /^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i;\n\n\t// Replacing the former CSS length value with the later one, with\n\t// adjustment to the length  unit.\n\tfunction replaceCssLength( length1, length2 ) {\n\t\tvar parts1 = cssLengthRegex.exec( length1 ),\n\t\t\tparts2 = cssLengthRegex.exec( length2 );\n\n\t\t// Omit pixel length unit when necessary,\n\t\t// e.g. replaceCssLength( 10, '20px' ) -> 20\n\t\tif ( parts1 ) {\n\t\t\tif ( !parts1[ 2 ] && parts2[ 2 ] == 'px' )\n\t\t\t\treturn parts2[ 1 ];\n\t\t\tif ( parts1[ 2 ] == 'px' && !parts2[ 2 ] )\n\t\t\t\treturn parts2[ 1 ] + 'px';\n\t\t}\n\n\t\treturn length2;\n\t}\n\n\tvar htmlFilterRules = {\n\t\telements: {\n\t\t\t$: function( element ) {\n\t\t\t\tvar attributes = element.attributes,\n\t\t\t\t\trealHtml = attributes && attributes[ 'data-cke-realelement' ],\n\t\t\t\t\trealFragment = realHtml && new CKEDITOR.htmlParser.fragment.fromHtml( decodeURIComponent( realHtml ) ),\n\t\t\t\t\trealElement = realFragment && realFragment.children[ 0 ];\n\n\t\t\t\t// Width/height in the fake object are subjected to clone into the real element.\n\t\t\t\tif ( realElement && element.attributes[ 'data-cke-resizable' ] ) {\n\t\t\t\t\tvar styles = new cssStyle( element ).rules,\n\t\t\t\t\t\trealAttrs = realElement.attributes,\n\t\t\t\t\t\twidth = styles.width,\n\t\t\t\t\t\theight = styles.height;\n\n\t\t\t\t\twidth && ( realAttrs.width = replaceCssLength( realAttrs.width, width ) );\n\t\t\t\t\theight && ( realAttrs.height = replaceCssLength( realAttrs.height, height ) );\n\t\t\t\t}\n\n\t\t\t\treturn realElement;\n\t\t\t}\n\t\t}\n\t};\n\n\tCKEDITOR.plugins.add( 'fakeobjects', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\n\t\tinit: function( editor ) {\n\t\t\t// Allow image with all styles and classes plus src, alt and title attributes.\n\t\t\t// We need them when fakeobject is pasted.\n\t\t\teditor.filter.allow( 'img[!data-cke-realelement,src,alt,title](*){*}', 'fakeobjects' );\n\t\t},\n\n\t\tafterInit: function( editor ) {\n\t\t\tvar dataProcessor = editor.dataProcessor,\n\t\t\t\thtmlFilter = dataProcessor && dataProcessor.htmlFilter;\n\n\t\t\tif ( htmlFilter ) {\n\t\t\t\thtmlFilter.addRules( htmlFilterRules, {\n\t\t\t\t\tapplyToAll: true\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n\n\t/**\n\t * @member CKEDITOR.editor\n\t * @todo\n\t */\n\tCKEDITOR.editor.prototype.createFakeElement = function( realElement, className, realElementType, isResizable ) {\n\t\tvar lang = this.lang.fakeobjects,\n\t\t\tlabel = lang[ realElementType ] || lang.unknown;\n\n\t\tvar attributes = {\n\t\t\t'class': className,\n\t\t\t'data-cke-realelement': encodeURIComponent( realElement.getOuterHtml() ),\n\t\t\t'data-cke-real-node-type': realElement.type,\n\t\t\talt: label,\n\t\t\ttitle: label,\n\t\t\talign: realElement.getAttribute( 'align' ) || ''\n\t\t};\n\n\t\t// Do not set \"src\" on high-contrast so the alt text is displayed. (#8945)\n\t\tif ( !CKEDITOR.env.hc )\n\t\t\tattributes.src = CKEDITOR.tools.transparentImageData;\n\n\t\tif ( realElementType )\n\t\t\tattributes[ 'data-cke-real-element-type' ] = realElementType;\n\n\t\tif ( isResizable ) {\n\t\t\tattributes[ 'data-cke-resizable' ] = isResizable;\n\n\t\t\tvar fakeStyle = new cssStyle();\n\n\t\t\tvar width = realElement.getAttribute( 'width' ),\n\t\t\t\theight = realElement.getAttribute( 'height' );\n\n\t\t\twidth && ( fakeStyle.rules.width = cssLength( width ) );\n\t\t\theight && ( fakeStyle.rules.height = cssLength( height ) );\n\t\t\tfakeStyle.populate( attributes );\n\t\t}\n\n\t\treturn this.document.createElement( 'img', { attributes: attributes } );\n\t};\n\n\t/**\n\t * @member CKEDITOR.editor\n\t * @todo\n\t */\n\tCKEDITOR.editor.prototype.createFakeParserElement = function( realElement, className, realElementType, isResizable ) {\n\t\tvar lang = this.lang.fakeobjects,\n\t\t\tlabel = lang[ realElementType ] || lang.unknown,\n\t\t\thtml;\n\n\t\tvar writer = new CKEDITOR.htmlParser.basicWriter();\n\t\trealElement.writeHtml( writer );\n\t\thtml = writer.getHtml();\n\n\t\tvar attributes = {\n\t\t\t'class': className,\n\t\t\t'data-cke-realelement': encodeURIComponent( html ),\n\t\t\t'data-cke-real-node-type': realElement.type,\n\t\t\talt: label,\n\t\t\ttitle: label,\n\t\t\talign: realElement.attributes.align || ''\n\t\t};\n\n\t\t// Do not set \"src\" on high-contrast so the alt text is displayed. (#8945)\n\t\tif ( !CKEDITOR.env.hc )\n\t\t\tattributes.src = CKEDITOR.tools.transparentImageData;\n\n\t\tif ( realElementType )\n\t\t\tattributes[ 'data-cke-real-element-type' ] = realElementType;\n\n\t\tif ( isResizable ) {\n\t\t\tattributes[ 'data-cke-resizable' ] = isResizable;\n\t\t\tvar realAttrs = realElement.attributes,\n\t\t\t\tfakeStyle = new cssStyle();\n\n\t\t\tvar width = realAttrs.width,\n\t\t\t\theight = realAttrs.height;\n\n\t\t\twidth !== undefined && ( fakeStyle.rules.width = cssLength( width ) );\n\t\t\theight !== undefined && ( fakeStyle.rules.height = cssLength( height ) );\n\t\t\tfakeStyle.populate( attributes );\n\t\t}\n\n\t\treturn new CKEDITOR.htmlParser.element( 'img', attributes );\n\t};\n\n\t/**\n\t * @member CKEDITOR.editor\n\t * @todo\n\t */\n\tCKEDITOR.editor.prototype.restoreRealElement = function( fakeElement ) {\n\t\tif ( fakeElement.data( 'cke-real-node-type' ) != CKEDITOR.NODE_ELEMENT )\n\t\t\treturn null;\n\n\t\tvar element = CKEDITOR.dom.element.createFromHtml( decodeURIComponent( fakeElement.data( 'cke-realelement' ) ), this.document );\n\n\t\tif ( fakeElement.data( 'cke-resizable' ) ) {\n\t\t\tvar width = fakeElement.getStyle( 'width' ),\n\t\t\t\theight = fakeElement.getStyle( 'height' );\n\n\t\t\twidth && element.setAttribute( 'width', replaceCssLength( element.getAttribute( 'width' ), width ) );\n\t\t\theight && element.setAttribute( 'height', replaceCssLength( element.getAttribute( 'height' ), height ) );\n\t\t}\n\n\t\treturn element;\n\t};\n\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/fakeobjects/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'richcombo', {\n\trequires: 'floatpanel,listblock,button',\n\n\tbeforeInit: function( editor ) {\n\t\teditor.ui.addHandler( CKEDITOR.UI_RICHCOMBO, CKEDITOR.ui.richCombo.handler );\n\t}\n} );\n\n( function() {\n\tvar template = '<span id=\"{id}\"' +\n\t\t' class=\"cke_combo cke_combo__{name} {cls}\"' +\n\t\t' role=\"presentation\">' +\n\t\t\t'<span id=\"{id}_label\" class=\"cke_combo_label\">{label}</span>' +\n\t\t\t'<a class=\"cke_combo_button\" title=\"{title}\" tabindex=\"-1\"' +\n\t\t\t( CKEDITOR.env.gecko && !CKEDITOR.env.hc ? '' : ' href=\"javascript:void(\\'{titleJs}\\')\"' ) +\n\t\t\t' hidefocus=\"true\"' +\n\t\t\t' role=\"button\"' +\n\t\t\t' aria-labelledby=\"{id}_label\"' +\n\t\t\t' aria-haspopup=\"true\"';\n\n\t// Some browsers don't cancel key events in the keydown but in the\n\t// keypress.\n\t// TODO: Check if really needed.\n\tif ( CKEDITOR.env.gecko && CKEDITOR.env.mac )\n\t\ttemplate += ' onkeypress=\"return false;\"';\n\n\t// With Firefox, we need to force the button to redraw, otherwise it\n\t// will remain in the focus state.\n\tif ( CKEDITOR.env.gecko )\n\t\ttemplate += ' onblur=\"this.style.cssText = this.style.cssText;\"';\n\n\ttemplate +=\n\t\t' onkeydown=\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\"' +\n\t\t' onfocus=\"return CKEDITOR.tools.callFunction({focusFn},event);\" ' +\n\t\t\t( CKEDITOR.env.ie ? 'onclick=\"return false;\" onmouseup' : 'onclick' ) + // #188\n\t\t\t\t'=\"CKEDITOR.tools.callFunction({clickFn},this);return false;\">' +\n\t\t\t'<span id=\"{id}_text\" class=\"cke_combo_text cke_combo_inlinelabel\">{label}</span>' +\n\t\t\t'<span class=\"cke_combo_open\">' +\n\t\t\t\t'<span class=\"cke_combo_arrow\">' +\n\t\t\t\t// BLACK DOWN-POINTING TRIANGLE\n\t( CKEDITOR.env.hc ? '&#9660;' : CKEDITOR.env.air ? '&nbsp;' : '' ) +\n\t\t\t\t'</span>' +\n\t\t\t'</span>' +\n\t\t'</a>' +\n\t\t'</span>';\n\n\tvar rcomboTpl = CKEDITOR.addTemplate( 'combo', template );\n\n\t/**\n\t * Button UI element.\n\t *\n\t * @readonly\n\t * @property {String} [='richcombo']\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.UI_RICHCOMBO = 'richcombo';\n\n\t/**\n\t * @class\n\t * @todo\n\t */\n\tCKEDITOR.ui.richCombo = CKEDITOR.tools.createClass( {\n\t\t$: function( definition ) {\n\t\t\t// Copy all definition properties to this object.\n\t\t\tCKEDITOR.tools.extend( this, definition,\n\t\t\t// Set defaults.\n\t\t\t{\n\t\t\t\t// The combo won't participate in toolbar grouping.\n\t\t\t\tcanGroup: false,\n\t\t\t\ttitle: definition.label,\n\t\t\t\tmodes: { wysiwyg: 1 },\n\t\t\t\teditorFocus: 1\n\t\t\t} );\n\n\t\t\t// We don't want the panel definition in this object.\n\t\t\tvar panelDefinition = this.panel || {};\n\t\t\tdelete this.panel;\n\n\t\t\tthis.id = CKEDITOR.tools.getNextNumber();\n\n\t\t\tthis.document = ( panelDefinition.parent && panelDefinition.parent.getDocument() ) || CKEDITOR.document;\n\n\t\t\tpanelDefinition.className = 'cke_combopanel';\n\t\t\tpanelDefinition.block = {\n\t\t\t\tmultiSelect: panelDefinition.multiSelect,\n\t\t\t\tattributes: panelDefinition.attributes\n\t\t\t};\n\t\t\tpanelDefinition.toolbarRelated = true;\n\n\t\t\tthis._ = {\n\t\t\t\tpanelDefinition: panelDefinition,\n\t\t\t\titems: {}\n\t\t\t};\n\t\t},\n\n\t\tproto: {\n\t\t\trenderHtml: function( editor ) {\n\t\t\t\tvar output = [];\n\t\t\t\tthis.render( editor, output );\n\t\t\t\treturn output.join( '' );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Renders the combo.\n\t\t\t *\n\t\t\t * @param {CKEDITOR.editor} editor The editor instance which this button is\n\t\t\t * to be used by.\n\t\t\t * @param {Array} output The output array to which append the HTML relative\n\t\t\t * to this button.\n\t\t\t */\n\t\t\trender: function( editor, output ) {\n\t\t\t\tvar env = CKEDITOR.env;\n\n\t\t\t\tvar id = 'cke_' + this.id;\n\t\t\t\tvar clickFn = CKEDITOR.tools.addFunction( function( el ) {\n\t\t\t\t\t// Restore locked selection in Opera.\n\t\t\t\t\tif ( selLocked ) {\n\t\t\t\t\t\teditor.unlockSelection( 1 );\n\t\t\t\t\t\tselLocked = 0;\n\t\t\t\t\t}\n\t\t\t\t\tinstance.execute( el );\n\t\t\t\t}, this );\n\n\t\t\t\tvar combo = this;\n\t\t\t\tvar instance = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tcombo: this,\n\t\t\t\t\tfocus: function() {\n\t\t\t\t\t\tvar element = CKEDITOR.document.getById( id ).getChild( 1 );\n\t\t\t\t\t\telement.focus();\n\t\t\t\t\t},\n\t\t\t\t\texecute: function( el ) {\n\t\t\t\t\t\tvar _ = combo._;\n\n\t\t\t\t\t\tif ( _.state == CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\tcombo.createPanel( editor );\n\n\t\t\t\t\t\tif ( _.on ) {\n\t\t\t\t\t\t\t_.panel.hide();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcombo.commit();\n\t\t\t\t\t\tvar value = combo.getValue();\n\t\t\t\t\t\tif ( value )\n\t\t\t\t\t\t\t_.list.mark( value );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t_.list.unmarkAll();\n\n\t\t\t\t\t\t_.panel.showBlock( combo.id, new CKEDITOR.dom.element( el ), 4 );\n\t\t\t\t\t},\n\t\t\t\t\tclickFn: clickFn\n\t\t\t\t};\n\n\t\t\t\tfunction updateState() {\n\t\t\t\t\t// Don't change state while richcombo is active (#11793).\n\t\t\t\t\tif ( this.getState() == CKEDITOR.TRISTATE_ON )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar state = this.modes[ editor.mode ] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;\n\n\t\t\t\t\tif ( editor.readOnly && !this.readOnly )\n\t\t\t\t\t\tstate = CKEDITOR.TRISTATE_DISABLED;\n\n\t\t\t\t\tthis.setState( state );\n\t\t\t\t\tthis.setValue( '' );\n\n\t\t\t\t\t// Let plugin to disable button.\n\t\t\t\t\tif ( state != CKEDITOR.TRISTATE_DISABLED && this.refresh )\n\t\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\n\t\t\t\t// Update status when activeFilter, mode, selection or readOnly changes.\n\t\t\t\teditor.on( 'activeFilterChange', updateState, this );\n\t\t\t\teditor.on( 'mode', updateState, this );\n\t\t\t\teditor.on( 'selectionChange', updateState, this );\n\t\t\t\t// If this combo is sensitive to readOnly state, update it accordingly.\n\t\t\t\t!this.readOnly && editor.on( 'readOnly', updateState, this );\n\n\t\t\t\tvar keyDownFn = CKEDITOR.tools.addFunction( function( ev, element ) {\n\t\t\t\t\tev = new CKEDITOR.dom.event( ev );\n\n\t\t\t\t\tvar keystroke = ev.getKeystroke();\n\n\t\t\t\t\t// ARROW-DOWN\n\t\t\t\t\t// This call is duplicated in plugins/toolbar/plugin.js in itemKeystroke().\n\t\t\t\t\t// Move focus to the first element after drop down was opened by the arrow down key.\n\t\t\t\t\tif ( keystroke == 40 ) {\n\t\t\t\t\t\teditor.once( 'panelShow', function( evt ) {\n\t\t\t\t\t\t\tevt.data._.panel._.currentBlock.onKeyDown( 40 );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch ( keystroke ) {\n\t\t\t\t\t\tcase 13: // ENTER\n\t\t\t\t\t\tcase 32: // SPACE\n\t\t\t\t\t\tcase 40: // ARROW-DOWN\n\t\t\t\t\t\t\t// Show panel\n\t\t\t\t\t\t\tCKEDITOR.tools.callFunction( clickFn, element );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// Delegate the default behavior to toolbar button key handling.\n\t\t\t\t\t\t\tinstance.onkey( instance, keystroke );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Avoid subsequent focus grab on editor document.\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t} );\n\n\t\t\t\tvar focusFn = CKEDITOR.tools.addFunction( function() {\n\t\t\t\t\tinstance.onfocus && instance.onfocus();\n\t\t\t\t} );\n\n\t\t\t\tvar selLocked = 0;\n\n\t\t\t\t// For clean up\n\t\t\t\tinstance.keyDownFn = keyDownFn;\n\n\t\t\t\tvar params = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tname: this.name || this.command,\n\t\t\t\t\tlabel: this.label,\n\t\t\t\t\ttitle: this.title,\n\t\t\t\t\tcls: this.className || '',\n\t\t\t\t\ttitleJs: env.gecko && !env.hc ? '' : ( this.title || '' ).replace( \"'\", '' ),\n\t\t\t\t\tkeydownFn: keyDownFn,\n\t\t\t\t\tfocusFn: focusFn,\n\t\t\t\t\tclickFn: clickFn\n\t\t\t\t};\n\n\t\t\t\trcomboTpl.output( params, output );\n\n\t\t\t\tif ( this.onRender )\n\t\t\t\t\tthis.onRender();\n\n\t\t\t\treturn instance;\n\t\t\t},\n\n\t\t\tcreatePanel: function( editor ) {\n\t\t\t\tif ( this._.panel )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar panelDefinition = this._.panelDefinition,\n\t\t\t\t\tpanelBlockDefinition = this._.panelDefinition.block,\n\t\t\t\t\tpanelParentElement = panelDefinition.parent || CKEDITOR.document.getBody(),\n\t\t\t\t\tnamedPanelCls = 'cke_combopanel__' + this.name,\n\t\t\t\t\tpanel = new CKEDITOR.ui.floatPanel( editor, panelParentElement, panelDefinition ),\n\t\t\t\t\tlist = panel.addListBlock( this.id, panelBlockDefinition ),\n\t\t\t\t\tme = this;\n\n\t\t\t\tpanel.onShow = function() {\n\t\t\t\t\tthis.element.addClass( namedPanelCls );\n\n\t\t\t\t\tme.setState( CKEDITOR.TRISTATE_ON );\n\n\t\t\t\t\tme._.on = 1;\n\n\t\t\t\t\tme.editorFocus && !editor.focusManager.hasFocus && editor.focus();\n\n\t\t\t\t\tif ( me.onOpen )\n\t\t\t\t\t\tme.onOpen();\n\n\t\t\t\t\t// The \"panelShow\" event is fired assinchronously, after the\n\t\t\t\t\t// onShow method call.\n\t\t\t\t\teditor.once( 'panelShow', function() {\n\t\t\t\t\t\tlist.focus( !list.multiSelect && me.getValue() );\n\t\t\t\t\t} );\n\t\t\t\t};\n\n\t\t\t\tpanel.onHide = function( preventOnClose ) {\n\t\t\t\t\tthis.element.removeClass( namedPanelCls );\n\n\t\t\t\t\tme.setState( me.modes && me.modes[ editor.mode ] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\n\t\t\t\t\tme._.on = 0;\n\n\t\t\t\t\tif ( !preventOnClose && me.onClose )\n\t\t\t\t\t\tme.onClose();\n\t\t\t\t};\n\n\t\t\t\tpanel.onEscape = function() {\n\t\t\t\t\t// Hide drop-down with focus returned.\n\t\t\t\t\tpanel.hide( 1 );\n\t\t\t\t};\n\n\t\t\t\tlist.onClick = function( value, marked ) {\n\n\t\t\t\t\tif ( me.onClick )\n\t\t\t\t\t\tme.onClick.call( me, value, marked );\n\n\t\t\t\t\tpanel.hide();\n\t\t\t\t};\n\n\t\t\t\tthis._.panel = panel;\n\t\t\t\tthis._.list = list;\n\n\t\t\t\tpanel.getBlock( this.id ).onHide = function() {\n\t\t\t\t\tme._.on = 0;\n\t\t\t\t\tme.setState( CKEDITOR.TRISTATE_OFF );\n\t\t\t\t};\n\n\t\t\t\tif ( this.init )\n\t\t\t\t\tthis.init();\n\t\t\t},\n\n\t\t\tsetValue: function( value, text ) {\n\t\t\t\tthis._.value = value;\n\n\t\t\t\tvar textElement = this.document.getById( 'cke_' + this.id + '_text' );\n\t\t\t\tif ( textElement ) {\n\t\t\t\t\tif ( !( value || text ) ) {\n\t\t\t\t\t\ttext = this.label;\n\t\t\t\t\t\ttextElement.addClass( 'cke_combo_inlinelabel' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttextElement.removeClass( 'cke_combo_inlinelabel' );\n\t\t\t\t\t}\n\n\t\t\t\t\ttextElement.setText( typeof text != 'undefined' ? text : value );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetValue: function() {\n\t\t\t\treturn this._.value || '';\n\t\t\t},\n\n\t\t\tunmarkAll: function() {\n\t\t\t\tthis._.list.unmarkAll();\n\t\t\t},\n\n\t\t\tmark: function( value ) {\n\t\t\t\tthis._.list.mark( value );\n\t\t\t},\n\n\t\t\thideItem: function( value ) {\n\t\t\t\tthis._.list.hideItem( value );\n\t\t\t},\n\n\t\t\thideGroup: function( groupTitle ) {\n\t\t\t\tthis._.list.hideGroup( groupTitle );\n\t\t\t},\n\n\t\t\tshowAll: function() {\n\t\t\t\tthis._.list.showAll();\n\t\t\t},\n\n\t\t\tadd: function( value, html, text ) {\n\t\t\t\tthis._.items[ value ] = text || value;\n\t\t\t\tthis._.list.add( value, html, text );\n\t\t\t},\n\n\t\t\tstartGroup: function( title ) {\n\t\t\t\tthis._.list.startGroup( title );\n\t\t\t},\n\n\t\t\tcommit: function() {\n\t\t\t\tif ( !this._.committed ) {\n\t\t\t\t\tthis._.list.commit();\n\t\t\t\t\tthis._.committed = 1;\n\t\t\t\t\tCKEDITOR.ui.fire( 'ready', this );\n\t\t\t\t}\n\t\t\t\tthis._.committed = 1;\n\t\t\t},\n\n\t\t\tsetState: function( state ) {\n\t\t\t\tif ( this._.state == state )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar el = this.document.getById( 'cke_' + this.id );\n\t\t\t\tel.setState( state, 'cke_combo' );\n\n\t\t\t\tstate == CKEDITOR.TRISTATE_DISABLED ?\n\t\t\t\t\tel.setAttribute( 'aria-disabled', true ) :\n\t\t\t\t\tel.removeAttribute( 'aria-disabled' );\n\n\t\t\t\tthis._.state = state;\n\t\t\t},\n\n\t\t\tgetState: function() {\n\t\t\t\treturn this._.state;\n\t\t\t},\n\n\t\t\tenable: function() {\n\t\t\t\tif ( this._.state == CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\tthis.setState( this._.lastState );\n\t\t\t},\n\n\t\t\tdisable: function() {\n\t\t\t\tif ( this._.state != CKEDITOR.TRISTATE_DISABLED ) {\n\t\t\t\t\tthis._.lastState = this._.state;\n\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Represents richCombo handler object.\n\t\t *\n\t\t * @class CKEDITOR.ui.richCombo.handler\n\t\t * @singleton\n\t\t * @extends CKEDITOR.ui.handlerDefinition\n\t\t */\n\t\tstatics: {\n\t\t\thandler: {\n\t\t\t\t/**\n\t\t\t\t * Transforms a richCombo definition in a {@link CKEDITOR.ui.richCombo} instance.\n\t\t\t\t *\n\t\t\t\t * @param {Object} definition\n\t\t\t\t * @returns {CKEDITOR.ui.richCombo}\n\t\t\t\t */\n\t\t\t\tcreate: function( definition ) {\n\t\t\t\t\treturn new CKEDITOR.ui.richCombo( definition );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n\n\t/**\n\t * @param {String} name\n\t * @param {Object} definition\n\t * @member CKEDITOR.ui\n\t * @todo\n\t */\n\tCKEDITOR.ui.prototype.addRichCombo = function( name, definition ) {\n\t\tthis.add( name, CKEDITOR.UI_RICHCOMBO, definition );\n\t};\n\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/richcombo/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Increase and Decrease Indent commands.\n */\n\n( function() {\n\t'use strict';\n\n\tvar TRISTATE_DISABLED = CKEDITOR.TRISTATE_DISABLED,\n\t\tTRISTATE_OFF = CKEDITOR.TRISTATE_OFF;\n\n\tCKEDITOR.plugins.add( 'indent', {\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\ticons: 'indent,indent-rtl,outdent,outdent-rtl', // %REMOVE_LINE_CORE%\n\t\thidpi: true, // %REMOVE_LINE_CORE%\n\n\t\tinit: function( editor ) {\n\t\t\tvar genericDefinition = CKEDITOR.plugins.indent.genericDefinition;\n\n\t\t\t// Register generic commands.\n\t\t\tsetupGenericListeners( editor, editor.addCommand( 'indent', new genericDefinition( true ) ) );\n\t\t\tsetupGenericListeners( editor, editor.addCommand( 'outdent', new genericDefinition() ) );\n\n\t\t\t// Create and register toolbar button if possible.\n\t\t\tif ( editor.ui.addButton ) {\n\t\t\t\teditor.ui.addButton( 'Indent', {\n\t\t\t\t\tlabel: editor.lang.indent.indent,\n\t\t\t\t\tcommand: 'indent',\n\t\t\t\t\tdirectional: true,\n\t\t\t\t\ttoolbar: 'indent,20'\n\t\t\t\t} );\n\n\t\t\t\teditor.ui.addButton( 'Outdent', {\n\t\t\t\t\tlabel: editor.lang.indent.outdent,\n\t\t\t\t\tcommand: 'outdent',\n\t\t\t\t\tdirectional: true,\n\t\t\t\t\ttoolbar: 'indent,10'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Register dirChanged listener.\n\t\t\teditor.on( 'dirChanged', function( evt ) {\n\t\t\t\tvar range = editor.createRange(),\n\t\t\t\t\tdataNode = evt.data.node;\n\n\t\t\t\trange.setStartBefore( dataNode );\n\t\t\t\trange.setEndAfter( dataNode );\n\n\t\t\t\tvar walker = new CKEDITOR.dom.walker( range ),\n\t\t\t\t\tnode;\n\n\t\t\t\twhile ( ( node = walker.next() ) ) {\n\t\t\t\t\tif ( node.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t// A child with the defined dir is to be ignored.\n\t\t\t\t\t\tif ( !node.equals( dataNode ) && node.getDirection() ) {\n\t\t\t\t\t\t\trange.setStartAfter( node );\n\t\t\t\t\t\t\twalker = new CKEDITOR.dom.walker( range );\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Switch alignment classes.\n\t\t\t\t\t\tvar classes = editor.config.indentClasses;\n\t\t\t\t\t\tif ( classes ) {\n\t\t\t\t\t\t\tvar suffix = ( evt.data.dir == 'ltr' ) ? [ '_rtl', '' ] : [ '', '_rtl' ];\n\t\t\t\t\t\t\tfor ( var i = 0; i < classes.length; i++ ) {\n\t\t\t\t\t\t\t\tif ( node.hasClass( classes[ i ] + suffix[ 0 ] ) ) {\n\t\t\t\t\t\t\t\t\tnode.removeClass( classes[ i ] + suffix[ 0 ] );\n\t\t\t\t\t\t\t\t\tnode.addClass( classes[ i ] + suffix[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Switch the margins.\n\t\t\t\t\t\tvar marginLeft = node.getStyle( 'margin-right' ),\n\t\t\t\t\t\t\tmarginRight = node.getStyle( 'margin-left' );\n\n\t\t\t\t\t\tmarginLeft ? node.setStyle( 'margin-left', marginLeft ) : node.removeStyle( 'margin-left' );\n\t\t\t\t\t\tmarginRight ? node.setStyle( 'margin-right', marginRight ) : node.removeStyle( 'margin-right' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n\n\t/**\n\t * Global command class definitions and global helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.indent = {\n\t\t/**\n\t\t * A base class for a generic command definition, responsible mainly for creating\n\t\t * Increase Indent and Decrease Indent toolbar buttons as well as for refreshing\n\t\t * UI states.\n\t\t *\n\t\t * Commands of this class do not perform any indentation by themselves. They\n\t\t * delegate this job to content-specific indentation commands (i.e. indentlist).\n\t\t *\n\t\t * @class CKEDITOR.plugins.indent.genericDefinition\n\t\t * @extends CKEDITOR.commandDefinition\n\t\t * @param {CKEDITOR.editor} editor The editor instance this command will be\n\t\t * applied to.\n\t\t * @param {String} name The name of the command.\n\t\t * @param {Boolean} [isIndent] Defines the command as indenting or outdenting.\n\t\t */\n\t\tgenericDefinition: function( isIndent ) {\n\t\t\t/**\n\t\t\t * Determines whether the command belongs to the indentation family.\n\t\t\t * Otherwise it is assumed to be an outdenting command.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {Boolean} [=false]\n\t\t\t */\n\t\t\tthis.isIndent = !!isIndent;\n\n\t\t\t// Mimic naive startDisabled behavior for outdent.\n\t\t\tthis.startDisabled = !this.isIndent;\n\t\t},\n\n\t\t/**\n\t\t * A base class for specific indentation command definitions responsible for\n\t\t * handling a pre-defined set of elements i.e. indentlist for lists or\n\t\t * indentblock for text block elements.\n\t\t *\n\t\t * Commands of this class perform indentation operations and modify the DOM structure.\n\t\t * They listen for events fired by {@link CKEDITOR.plugins.indent.genericDefinition}\n\t\t * and execute defined actions.\n\t\t *\n\t\t * **NOTE**: This is not an {@link CKEDITOR.command editor command}.\n\t\t * Context-specific commands are internal, for indentation system only.\n\t\t *\n\t\t * @class CKEDITOR.plugins.indent.specificDefinition\n\t\t * @param {CKEDITOR.editor} editor The editor instance this command will be\n\t\t * applied to.\n\t\t * @param {String} name The name of the command.\n\t\t * @param {Boolean} [isIndent] Defines the command as indenting or outdenting.\n\t\t */\n\t\tspecificDefinition: function( editor, name, isIndent ) {\n\t\t\tthis.name = name;\n\t\t\tthis.editor = editor;\n\n\t\t\t/**\n\t\t\t * An object of jobs handled by the command. Each job consists\n\t\t\t * of two functions: `refresh` and `exec` as well as the execution priority.\n\t\t\t *\n\t\t\t *\t* The `refresh` function determines whether a job is doable for\n\t\t\t *\t  a particular context. These functions are executed in the\n\t\t\t *\t  order of priorities, one by one, for all plugins that registered\n\t\t\t *\t  jobs. As jobs are related to generic commands, refreshing\n\t\t\t *\t  occurs when the global command is firing the `refresh` event.\n\t\t\t *\n\t\t\t *\t  **Note**: This function must return either {@link CKEDITOR#TRISTATE_DISABLED}\n\t\t\t *\t  or {@link CKEDITOR#TRISTATE_OFF}.\n\t\t\t *\n\t\t\t *\t* The `exec` function modifies the DOM if possible. Just like\n\t\t\t *\t  `refresh`, `exec` functions are executed in the order of priorities\n\t\t\t *\t  while the generic command is executed. This function is not executed\n\t\t\t *\t  if `refresh` for this job returned {@link CKEDITOR#TRISTATE_DISABLED}.\n\t\t\t *\n\t\t\t *\t  **Note**: This function must return a Boolean value, indicating whether it\n\t\t\t *\t  was successful. If a job was successful, then no other jobs are being executed.\n\t\t\t *\n\t\t\t * Sample definition:\n\t\t\t *\n\t\t\t *\t\tcommand.jobs = {\n\t\t\t *\t\t\t// Priority = 20.\n\t\t\t *\t\t\t'20': {\n\t\t\t *\t\t\t\trefresh( editor, path ) {\n\t\t\t *\t\t\t\t\tif ( condition )\n\t\t\t *\t\t\t\t\t\treturn CKEDITOR.TRISTATE_OFF;\n\t\t\t *\t\t\t\t\telse\n\t\t\t *\t\t\t\t\t\treturn CKEDITOR.TRISTATE_DISABLED;\n\t\t\t *\t\t\t\t},\n\t\t\t *\t\t\t\texec( editor ) {\n\t\t\t *\t\t\t\t\t// DOM modified! This was OK.\n\t\t\t *\t\t\t\t\treturn true;\n\t\t\t *\t\t\t\t}\n\t\t\t *\t\t\t},\n\t\t\t *\t\t\t// Priority = 60. This job is done later.\n\t\t\t *\t\t\t'60': {\n\t\t\t *\t\t\t\t// Another job.\n\t\t\t *\t\t\t}\n\t\t\t *\t\t};\n\t\t\t *\n\t\t\t * For additional information, please check comments for\n\t\t\t * the `setupGenericListeners` function.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {Object} [={}]\n\t\t\t */\n\t\t\tthis.jobs = {};\n\n\t\t\t/**\n\t\t\t * Determines whether the editor that the command belongs to has\n\t\t\t * {@link CKEDITOR.config#enterMode config.enterMode} set to {@link CKEDITOR#ENTER_BR}.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @see CKEDITOR.config#enterMode\n\t\t\t * @property {Boolean} [=false]\n\t\t\t */\n\t\t\tthis.enterBr = editor.config.enterMode == CKEDITOR.ENTER_BR;\n\n\t\t\t/**\n\t\t\t * Determines whether the command belongs to the indentation family.\n\t\t\t * Otherwise it is assumed to be an outdenting command.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t * @property {Boolean} [=false]\n\t\t\t */\n\t\t\tthis.isIndent = !!isIndent;\n\n\t\t\t/**\n\t\t\t * The name of the global command related to this one.\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.relatedGlobal = isIndent ? 'indent' : 'outdent';\n\n\t\t\t/**\n\t\t\t * A keystroke associated with this command (*Tab* or *Shift+Tab*).\n\t\t\t *\n\t\t\t * @readonly\n\t\t\t */\n\t\t\tthis.indentKey = isIndent ? 9 : CKEDITOR.SHIFT + 9;\n\n\t\t\t/**\n\t\t\t * Stores created markers for the command so they can eventually be\n\t\t\t * purged after the `exec` function is run.\n\t\t\t */\n\t\t\tthis.database = {};\n\t\t},\n\n\t\t/**\n\t\t * Registers content-specific commands as a part of the indentation system\n\t\t * directed by generic commands. Once a command is registered,\n\t\t * it listens for events of a related generic command.\n\t\t *\n\t\t *\t\tCKEDITOR.plugins.indent.registerCommands( editor, {\n\t\t *\t\t\t'indentlist': new indentListCommand( editor, 'indentlist' ),\n\t\t *\t\t\t'outdentlist': new indentListCommand( editor, 'outdentlist' )\n\t\t *\t\t} );\n\t\t *\n\t\t * Content-specific commands listen for the generic command's `exec` and\n\t\t * try to execute their own jobs, one after another. If some execution is\n\t\t * successful, `evt.data.done` is set so no more jobs (commands) are involved.\n\t\t *\n\t\t * Content-specific commands also listen for the generic command's `refresh`\n\t\t * and fill the `evt.data.states` object with states of jobs. A generic command\n\t\t * uses this data to determine its own state and to update the UI.\n\t\t *\n\t\t * @member CKEDITOR.plugins.indent\n\t\t * @param {CKEDITOR.editor} editor The editor instance this command is\n\t\t * applied to.\n\t\t * @param {Object} commands An object of {@link CKEDITOR.command}.\n\t\t */\n\t\tregisterCommands: function( editor, commands ) {\n\t\t\teditor.on( 'pluginsLoaded', function() {\n\t\t\t\tfor ( var name in commands ) {\n\t\t\t\t\t( function( editor, command ) {\n\t\t\t\t\t\tvar relatedGlobal = editor.getCommand( command.relatedGlobal );\n\n\t\t\t\t\t\tfor ( var priority in command.jobs ) {\n\t\t\t\t\t\t\t// Observe generic exec event and execute command when necessary.\n\t\t\t\t\t\t\t// If the command was successfully handled by the command and\n\t\t\t\t\t\t\t// DOM has been modified, stop event propagation so no other plugin\n\t\t\t\t\t\t\t// will bother. Job is done.\n\t\t\t\t\t\t\trelatedGlobal.on( 'exec', function( evt ) {\n\t\t\t\t\t\t\t\tif ( evt.data.done )\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\t// Make sure that anything this command will do is invisible\n\t\t\t\t\t\t\t\t// for undoManager. What undoManager only can see and\n\t\t\t\t\t\t\t\t// remember is the execution of the global command (relatedGlobal).\n\t\t\t\t\t\t\t\teditor.fire( 'lockSnapshot' );\n\n\t\t\t\t\t\t\t\tif ( command.execJob( editor, priority ) )\n\t\t\t\t\t\t\t\t\tevt.data.done = true;\n\n\t\t\t\t\t\t\t\teditor.fire( 'unlockSnapshot' );\n\n\t\t\t\t\t\t\t\t// Clean up the markers.\n\t\t\t\t\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( command.database );\n\t\t\t\t\t\t\t}, this, null, priority );\n\n\t\t\t\t\t\t\t// Observe generic refresh event and force command refresh.\n\t\t\t\t\t\t\t// Once refreshed, save command state in event data\n\t\t\t\t\t\t\t// so generic command plugin can update its own state and UI.\n\t\t\t\t\t\t\trelatedGlobal.on( 'refresh', function( evt ) {\n\t\t\t\t\t\t\t\tif ( !evt.data.states )\n\t\t\t\t\t\t\t\t\tevt.data.states = {};\n\n\t\t\t\t\t\t\t\tevt.data.states[ command.name + '@' + priority ] =\n\t\t\t\t\t\t\t\t\tcommand.refreshJob( editor, priority, evt.data.path );\n\t\t\t\t\t\t\t}, this, null, priority );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Since specific indent commands have no UI elements,\n\t\t\t\t\t\t// they need to be manually registered as a editor feature.\n\t\t\t\t\t\teditor.addFeature( command );\n\t\t\t\t\t} )( this, commands[ name ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t};\n\n\tCKEDITOR.plugins.indent.genericDefinition.prototype = {\n\t\tcontext: 'p',\n\n\t\texec: function() {}\n\t};\n\n\tCKEDITOR.plugins.indent.specificDefinition.prototype = {\n\t\t/**\n\t\t * Executes the content-specific procedure if the context is correct.\n\t\t * It calls the `exec` function of a job of the given `priority`\n\t\t * that modifies the DOM.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance this command\n\t\t * will be applied to.\n\t\t * @param {Number} priority The priority of the job to be executed.\n\t\t * @returns {Boolean} Indicates whether the job was successful.\n\t\t */\n\t\texecJob: function( editor, priority ) {\n\t\t\tvar job = this.jobs[ priority ];\n\n\t\t\tif ( job.state != TRISTATE_DISABLED )\n\t\t\t\treturn job.exec.call( this, editor );\n\t\t},\n\n\t\t/**\n\t\t * Calls the `refresh` function of a job of the given `priority`.\n\t\t * The function returns the state of the job which can be either\n\t\t * {@link CKEDITOR#TRISTATE_DISABLED} or {@link CKEDITOR#TRISTATE_OFF}.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance this command\n\t\t * will be applied to.\n\t\t * @param {Number} priority The priority of the job to be executed.\n\t\t * @returns {Number} The state of the job.\n\t\t */\n\t\trefreshJob: function( editor, priority, path ) {\n\t\t\tvar job = this.jobs[ priority ];\n\n\t\t\tif ( !editor.activeFilter.checkFeature( this ) )\n\t\t\t\tjob.state = TRISTATE_DISABLED;\n\t\t\telse\n\t\t\t\tjob.state = job.refresh.call( this, editor, path );\n\n\t\t\treturn job.state;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the element path contains the element handled\n\t\t * by this indentation command.\n\t\t *\n\t\t * @param {CKEDITOR.dom.elementPath} node A path to be checked.\n\t\t * @returns {CKEDITOR.dom.element}\n\t\t */\n\t\tgetContext: function( path ) {\n\t\t\treturn path.contains( this.context );\n\t\t}\n\t};\n\n\t/**\n\t * Attaches event listeners for this generic command. Since the indentation\n\t * system is event-oriented, generic commands communicate with\n\t * content-specific commands using the `exec` and `refresh` events.\n\t *\n\t * Listener priorities are crucial. Different indentation phases\n\t * are executed with different priorities.\n\t *\n\t * For the `exec` event:\n\t *\n\t *\t* 0: Selection and bookmarks are saved by the generic command.\n\t *\t* 1-99: Content-specific commands try to indent the code by executing\n\t *\t  their own jobs ({@link CKEDITOR.plugins.indent.specificDefinition#jobs}).\n\t *\t* 100: Bookmarks are re-selected by the generic command.\n\t *\n\t * The visual interpretation looks as follows:\n\t *\n\t *\t\t  +------------------+\n\t *\t\t  | Exec event fired |\n\t *\t\t  +------ + ---------+\n\t *\t\t          |\n\t *\t\t        0 -<----------+ Selection and bookmarks saved.\n\t *\t\t          |\n\t *\t\t          |\n\t *\t\t       25 -<---+ Exec 1st job of plugin#1 (return false, continuing...).\n\t *\t\t          |\n\t *\t\t          |\n\t *\t\t       50 -<---+ Exec 1st job of plugin#2 (return false, continuing...).\n\t *\t\t          |\n\t *\t\t          |\n\t *\t\t       75 -<---+ Exec 2nd job of plugin#1 (only if plugin#2 failed).\n\t *\t\t          |\n\t *\t\t          |\n\t *\t\t      100 -<-----------+ Re-select bookmarks, clean-up.\n\t *\t\t          |\n\t *\t\t+-------- v ----------+\n\t *\t\t| Exec event finished |\n\t *\t\t+---------------------+\n\t *\n\t * For the `refresh` event:\n\t *\n\t *\t* <100: Content-specific commands refresh their job states according\n\t *\t  to the given path. Jobs save their states in the `evt.data.states` object\n\t *\t  passed along with the event. This can be either {@link CKEDITOR#TRISTATE_DISABLED}\n\t *\t  or {@link CKEDITOR#TRISTATE_OFF}.\n\t *\t* 100: Command state is determined according to what states\n\t *\t  have been returned by content-specific jobs (`evt.data.states`).\n\t *\t  UI elements are updated at this stage.\n\t *\n\t *\t  **Note**: If there is at least one job with the {@link CKEDITOR#TRISTATE_OFF} state,\n\t *\t  then the generic command state is also {@link CKEDITOR#TRISTATE_OFF}. Otherwise,\n\t *\t  the command state is {@link CKEDITOR#TRISTATE_DISABLED}.\n\t *\n\t * @param {CKEDITOR.command} command The command to be set up.\n\t * @private\n\t */\n\tfunction setupGenericListeners( editor, command ) {\n\t\tvar selection, bookmarks;\n\n\t\t// Set the command state according to content-specific\n\t\t// command states.\n\t\tcommand.on( 'refresh', function( evt ) {\n\t\t\t// If no state comes with event data, disable command.\n\t\t\tvar states = [ TRISTATE_DISABLED ];\n\n\t\t\tfor ( var s in evt.data.states )\n\t\t\t\tstates.push( evt.data.states[ s ] );\n\n\t\t\tthis.setState( CKEDITOR.tools.search( states, TRISTATE_OFF ) ? TRISTATE_OFF : TRISTATE_DISABLED );\n\t\t}, command, null, 100 );\n\n\t\t// Initialization. Save bookmarks and mark event as not handled\n\t\t// by any plugin (command) yet.\n\t\tcommand.on( 'exec', function( evt ) {\n\t\t\tselection = editor.getSelection();\n\t\t\tbookmarks = selection.createBookmarks( 1 );\n\n\t\t\t// Mark execution as not handled yet.\n\t\t\tif ( !evt.data )\n\t\t\t\tevt.data = {};\n\n\t\t\tevt.data.done = false;\n\t\t}, command, null, 0 );\n\n\t\t// Housekeeping. Make sure selectionChange will be called.\n\t\t// Also re-select previously saved bookmarks.\n\t\tcommand.on( 'exec', function() {\n\t\t\teditor.forceNextSelectionCheck();\n\t\t\tselection.selectBookmarks( bookmarks );\n\t\t}, command, null, 100 );\n\t}\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/indent/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'menubutton', {\n\trequires: 'button,menu',\n\tonLoad: function() {\n\t\tvar clickFn = function( editor ) {\n\t\t\t\tvar _ = this._,\n\t\t\t\t\tmenu = _.menu;\n\n\t\t\t\t// Do nothing if this button is disabled.\n\t\t\t\tif ( _.state === CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\treturn;\n\n\t\t\t\tif ( _.on && menu ) {\n\t\t\t\t\tmenu.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_.previousState = _.state;\n\n\t\t\t\t// Check if we already have a menu for it, otherwise just create it.\n\t\t\t\tif ( !menu ) {\n\t\t\t\t\tmenu = _.menu = new CKEDITOR.menu( editor, {\n\t\t\t\t\t\tpanel: {\n\t\t\t\t\t\t\tclassName: 'cke_menu_panel',\n\t\t\t\t\t\t\tattributes: { 'aria-label': editor.lang.common.options }\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\tmenu.onHide = CKEDITOR.tools.bind( function() {\n\t\t\t\t\t\tvar modes = this.command ? editor.getCommand( this.command ).modes : this.modes;\n\t\t\t\t\t\tthis.setState( !modes || modes[ editor.mode ] ? _.previousState : CKEDITOR.TRISTATE_DISABLED );\n\t\t\t\t\t\t_.on = 0;\n\t\t\t\t\t}, this );\n\n\t\t\t\t\t// Initialize the menu items at this point.\n\t\t\t\t\tif ( this.onMenu )\n\t\t\t\t\t\tmenu.addListener( this.onMenu );\n\t\t\t\t}\n\n\t\t\t\tthis.setState( CKEDITOR.TRISTATE_ON );\n\t\t\t\t_.on = 1;\n\n\t\t\t\t// This timeout is needed to give time for the panel get focus\n\t\t\t\t// when JAWS is running. (#9842)\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tmenu.show( CKEDITOR.document.getById( _.id ), 4 );\n\t\t\t\t}, 0 );\n\t\t\t};\n\n\t\t/**\n\t\t * @class\n\t\t * @extends CKEDITOR.ui.button\n\t\t * @todo\n\t\t */\n\t\tCKEDITOR.ui.menuButton = CKEDITOR.tools.createClass( {\n\t\t\tbase: CKEDITOR.ui.button,\n\n\t\t\t/**\n\t\t\t * Creates a menuButton class instance.\n\t\t\t *\n\t\t\t * @constructor\n\t\t\t * @param Object definition\n\t\t\t * @todo\n\t\t\t */\n\t\t\t$: function( definition ) {\n\t\t\t\t// We don't want the panel definition in this object.\n\t\t\t\tdelete definition.panel;\n\n\t\t\t\tthis.base( definition );\n\n\t\t\t\tthis.hasArrow = true;\n\n\t\t\t\tthis.click = clickFn;\n\t\t\t},\n\n\t\t\tstatics: {\n\t\t\t\thandler: {\n\t\t\t\t\tcreate: function( definition ) {\n\t\t\t\t\t\treturn new CKEDITOR.ui.menuButton( definition );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\tbeforeInit: function( editor ) {\n\t\teditor.ui.addHandler( CKEDITOR.UI_MENUBUTTON, CKEDITOR.ui.menuButton.handler );\n\t}\n} );\n\n/**\n * Button UI element.\n *\n * @readonly\n * @property {String} [='menubutton']\n * @member CKEDITOR\n */\nCKEDITOR.UI_MENUBUTTON = 'menubutton';\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/menubutton/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar template = '<a id=\"{id}\"' +\n\t\t' class=\"cke_button cke_button__{name} cke_button_{state} {cls}\"' +\n\t\t( CKEDITOR.env.gecko && !CKEDITOR.env.hc ? '' : ' href=\"javascript:void(\\'{titleJs}\\')\"' ) +\n\t\t' title=\"{title}\"' +\n\t\t' tabindex=\"-1\"' +\n\t\t' hidefocus=\"true\"' +\n\t\t' role=\"button\"' +\n\t\t' aria-labelledby=\"{id}_label\"' +\n\t\t' aria-haspopup=\"{hasArrow}\"' +\n\t\t' aria-disabled=\"{ariaDisabled}\"';\n\n\t// Some browsers don't cancel key events in the keydown but in the\n\t// keypress.\n\t// TODO: Check if really needed.\n\tif ( CKEDITOR.env.gecko && CKEDITOR.env.mac )\n\t\ttemplate += ' onkeypress=\"return false;\"';\n\n\t// With Firefox, we need to force the button to redraw, otherwise it\n\t// will remain in the focus state.\n\tif ( CKEDITOR.env.gecko )\n\t\ttemplate += ' onblur=\"this.style.cssText = this.style.cssText;\"';\n\n\ttemplate += ' onkeydown=\"return CKEDITOR.tools.callFunction({keydownFn},event);\"' +\n\t\t' onfocus=\"return CKEDITOR.tools.callFunction({focusFn},event);\" ' +\n\t\t( CKEDITOR.env.ie ? 'onclick=\"return false;\" onmouseup' : 'onclick' ) + // #188\n\t\t\t'=\"CKEDITOR.tools.callFunction({clickFn},this);return false;\">' +\n\t\t'<span class=\"cke_button_icon cke_button__{iconName}_icon\" style=\"{style}\"';\n\n\n\ttemplate += '>&nbsp;</span>' +\n\t\t'<span id=\"{id}_label\" class=\"cke_button_label cke_button__{name}_label\" aria-hidden=\"false\">{label}</span>' +\n\t\t'{arrowHtml}' +\n\t\t'</a>';\n\n\tvar templateArrow = '<span class=\"cke_button_arrow\">' +\n\t\t// BLACK DOWN-POINTING TRIANGLE\n\t( CKEDITOR.env.hc ? '&#9660;' : '' ) +\n\t\t'</span>';\n\n\tvar btnArrowTpl = CKEDITOR.addTemplate( 'buttonArrow', templateArrow ),\n\t\tbtnTpl = CKEDITOR.addTemplate( 'button', template );\n\n\tCKEDITOR.plugins.add( 'button', {\n\t\tlang: 'af,ar,bg,ca,cs,da,de,de-ch,el,en,en-gb,eo,es,eu,fa,fi,fr,gl,he,hu,id,it,ja,km,ko,ku,lt,nb,nl,pl,pt,pt-br,ro,ru,sk,sl,sq,sv,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\tbeforeInit: function( editor ) {\n\t\t\teditor.ui.addHandler( CKEDITOR.UI_BUTTON, CKEDITOR.ui.button.handler );\n\t\t}\n\t} );\n\n\t/**\n\t * Button UI element.\n\t *\n\t * @readonly\n\t * @property {String} [='button']\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.UI_BUTTON = 'button';\n\n\t/**\n\t * Represents a button UI element. This class should not be called directly. To\n\t * create new buttons use {@link CKEDITOR.ui#addButton} instead.\n\t *\n\t * @class\n\t * @constructor Creates a button class instance.\n\t * @param {Object} definition The button definition.\n\t */\n\tCKEDITOR.ui.button = function( definition ) {\n\t\tCKEDITOR.tools.extend( this, definition,\n\t\t// Set defaults.\n\t\t{\n\t\t\ttitle: definition.label,\n\t\t\tclick: definition.click ||\n\t\t\tfunction( editor ) {\n\t\t\t\teditor.execCommand( definition.command );\n\t\t\t}\n\t\t} );\n\n\t\tthis._ = {};\n\t};\n\n\t/**\n\t * Represents the button handler object.\n\t *\n\t * @class\n\t * @singleton\n\t * @extends CKEDITOR.ui.handlerDefinition\n\t */\n\tCKEDITOR.ui.button.handler = {\n\t\t/**\n\t\t * Transforms a button definition in a {@link CKEDITOR.ui.button} instance.\n\t\t *\n\t\t * @member CKEDITOR.ui.button.handler\n\t\t * @param {Object} definition\n\t\t * @returns {CKEDITOR.ui.button}\n\t\t */\n\t\tcreate: function( definition ) {\n\t\t\treturn new CKEDITOR.ui.button( definition );\n\t\t}\n\t};\n\n\t/** @class CKEDITOR.ui.button */\n\tCKEDITOR.ui.button.prototype = {\n\t\t/**\n\t\t * Renders the button.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance which this button is\n\t\t * to be used by.\n\t\t * @param {Array} output The output array to which the HTML code related to\n\t\t * this button should be appended.\n\t\t */\n\t\trender: function( editor, output ) {\n\t\t\tfunction updateState() {\n\t\t\t\t// \"this\" is a CKEDITOR.ui.button instance.\n\t\t\t\tvar mode = editor.mode;\n\n\t\t\t\tif ( mode ) {\n\t\t\t\t\t// Restore saved button state.\n\t\t\t\t\tvar state = this.modes[ mode ] ? modeStates[ mode ] !== undefined ? modeStates[ mode ] : CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;\n\n\t\t\t\t\tstate = editor.readOnly && !this.readOnly ? CKEDITOR.TRISTATE_DISABLED : state;\n\n\t\t\t\t\tthis.setState( state );\n\n\t\t\t\t\t// Let plugin to disable button.\n\t\t\t\t\tif ( this.refresh )\n\t\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar env = CKEDITOR.env,\n\t\t\t\tid = this._.id = CKEDITOR.tools.getNextId(),\n\t\t\t\tstateName = '',\n\t\t\t\tcommand = this.command,\n\t\t\t\t// Get the command name.\n\t\t\t\tclickFn;\n\n\t\t\tthis._.editor = editor;\n\n\t\t\tvar instance = {\n\t\t\t\tid: id,\n\t\t\t\tbutton: this,\n\t\t\t\teditor: editor,\n\t\t\t\tfocus: function() {\n\t\t\t\t\tvar element = CKEDITOR.document.getById( id );\n\t\t\t\t\telement.focus();\n\t\t\t\t},\n\t\t\t\texecute: function() {\n\t\t\t\t\tthis.button.click( editor );\n\t\t\t\t},\n\t\t\t\tattach: function( editor ) {\n\t\t\t\t\tthis.button.attach( editor );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar keydownFn = CKEDITOR.tools.addFunction( function( ev ) {\n\t\t\t\tif ( instance.onkey ) {\n\t\t\t\t\tev = new CKEDITOR.dom.event( ev );\n\t\t\t\t\treturn ( instance.onkey( instance, ev.getKeystroke() ) !== false );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tvar focusFn = CKEDITOR.tools.addFunction( function( ev ) {\n\t\t\t\tvar retVal;\n\n\t\t\t\tif ( instance.onfocus )\n\t\t\t\t\tretVal = ( instance.onfocus( instance, new CKEDITOR.dom.event( ev ) ) !== false );\n\n\t\t\t\treturn retVal;\n\t\t\t} );\n\n\t\t\tvar selLocked = 0;\n\n\t\t\tinstance.clickFn = clickFn = CKEDITOR.tools.addFunction( function() {\n\n\t\t\t\t// Restore locked selection in Opera.\n\t\t\t\tif ( selLocked ) {\n\t\t\t\t\teditor.unlockSelection( 1 );\n\t\t\t\t\tselLocked = 0;\n\t\t\t\t}\n\t\t\t\tinstance.execute();\n\n\t\t\t\t// Fixed iOS focus issue when your press disabled button (#12381).\n\t\t\t\tif ( env.iOS ) {\n\t\t\t\t\teditor.focus();\n\t\t\t\t}\n\t\t\t} );\n\n\n\t\t\t// Indicate a mode sensitive button.\n\t\t\tif ( this.modes ) {\n\t\t\t\tvar modeStates = {};\n\n\t\t\t\teditor.on( 'beforeModeUnload', function() {\n\t\t\t\t\tif ( editor.mode && this._.state != CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\t\t\tmodeStates[ editor.mode ] = this._.state;\n\t\t\t\t}, this );\n\n\t\t\t\t// Update status when activeFilter, mode or readOnly changes.\n\t\t\t\teditor.on( 'activeFilterChange', updateState, this );\n\t\t\t\teditor.on( 'mode', updateState, this );\n\t\t\t\t// If this button is sensitive to readOnly state, update it accordingly.\n\t\t\t\t!this.readOnly && editor.on( 'readOnly', updateState, this );\n\n\t\t\t} else if ( command ) {\n\t\t\t\t// Get the command instance.\n\t\t\t\tcommand = editor.getCommand( command );\n\n\t\t\t\tif ( command ) {\n\t\t\t\t\tcommand.on( 'state', function() {\n\t\t\t\t\t\tthis.setState( command.state );\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tstateName += ( command.state == CKEDITOR.TRISTATE_ON ? 'on' : command.state == CKEDITOR.TRISTATE_DISABLED ? 'disabled' : 'off' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// For button that has text-direction awareness on selection path.\n\t\t\tif ( this.directional ) {\n\t\t\t\teditor.on( 'contentDirChanged', function( evt ) {\n\t\t\t\t\tvar el = CKEDITOR.document.getById( this._.id ),\n\t\t\t\t\t\ticon = el.getFirst();\n\n\t\t\t\t\tvar pathDir = evt.data;\n\n\t\t\t\t\t// Make a minor direction change to become style-able for the skin icon.\n\t\t\t\t\tif ( pathDir !=  editor.lang.dir )\n\t\t\t\t\t\tel.addClass( 'cke_' + pathDir );\n\t\t\t\t\telse\n\t\t\t\t\t\tel.removeClass( 'cke_ltr' ).removeClass( 'cke_rtl' );\n\n\t\t\t\t\t// Inline style update for the plugin icon.\n\t\t\t\t\ticon.setAttribute( 'style', CKEDITOR.skin.getIconStyle( iconName, pathDir == 'rtl', this.icon, this.iconOffset ) );\n\t\t\t\t}, this );\n\t\t\t}\n\n\t\t\tif ( !command )\n\t\t\t\tstateName += 'off';\n\n\t\t\tvar name = this.name || this.command,\n\t\t\t\ticonName = name;\n\n\t\t\t// Check if we're pointing to an icon defined by another command. (#9555)\n\t\t\tif ( this.icon && !( /\\./ ).test( this.icon ) ) {\n\t\t\t\ticonName = this.icon;\n\t\t\t\tthis.icon = null;\n\t\t\t}\n\n\t\t\tvar params = {\n\t\t\t\tid: id,\n\t\t\t\tname: name,\n\t\t\t\ticonName: iconName,\n\t\t\t\tlabel: this.label,\n\t\t\t\tcls: this.className || '',\n\t\t\t\tstate: stateName,\n\t\t\t\tariaDisabled: stateName == 'disabled' ? 'true' : 'false',\n\t\t\t\ttitle: this.title,\n\t\t\t\ttitleJs: env.gecko && !env.hc ? '' : ( this.title || '' ).replace( \"'\", '' ),\n\t\t\t\thasArrow: this.hasArrow ? 'true' : 'false',\n\t\t\t\tkeydownFn: keydownFn,\n\t\t\t\tfocusFn: focusFn,\n\t\t\t\tclickFn: clickFn,\n\t\t\t\tstyle: CKEDITOR.skin.getIconStyle( iconName, ( editor.lang.dir == 'rtl' ), this.icon, this.iconOffset ),\n\t\t\t\tarrowHtml: this.hasArrow ? btnArrowTpl.output() : ''\n\t\t\t};\n\n\t\t\tbtnTpl.output( params, output );\n\n\t\t\tif ( this.onRender )\n\t\t\t\tthis.onRender();\n\n\t\t\treturn instance;\n\t\t},\n\n\t\t/**\n\t\t * Sets the button state.\n\t\t *\n\t\t * @param {Number} state Indicates the button state. One of {@link CKEDITOR#TRISTATE_ON},\n\t\t * {@link CKEDITOR#TRISTATE_OFF}, or {@link CKEDITOR#TRISTATE_DISABLED}.\n\t\t */\n\t\tsetState: function( state ) {\n\t\t\tif ( this._.state == state )\n\t\t\t\treturn false;\n\n\t\t\tthis._.state = state;\n\n\t\t\tvar element = CKEDITOR.document.getById( this._.id );\n\n\t\t\tif ( element ) {\n\t\t\t\telement.setState( state, 'cke_button' );\n\n\t\t\t\tstate == CKEDITOR.TRISTATE_DISABLED ?\n\t\t\t\t\telement.setAttribute( 'aria-disabled', true ) :\n\t\t\t\t\telement.removeAttribute( 'aria-disabled' );\n\n\t\t\t\tif ( !this.hasArrow ) {\n\t\t\t\t\t// Note: aria-pressed attribute should not be added to menuButton instances. (#11331)\n\t\t\t\t\tstate == CKEDITOR.TRISTATE_ON ?\n\t\t\t\t\t\telement.setAttribute( 'aria-pressed', true ) :\n\t\t\t\t\t\telement.removeAttribute( 'aria-pressed' );\n\t\t\t\t} else {\n\t\t\t\t\tvar newLabel = state == CKEDITOR.TRISTATE_ON ?\n\t\t\t\t\t\tthis._.editor.lang.button.selectedLabel.replace( /%1/g, this.label ) : this.label;\n\t\t\t\t\tCKEDITOR.document.getById( this._.id + '_label' ).setText( newLabel );\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets the button state.\n\t\t *\n\t\t * @returns {Number} The button state. One of {@link CKEDITOR#TRISTATE_ON},\n\t\t * {@link CKEDITOR#TRISTATE_OFF}, or {@link CKEDITOR#TRISTATE_DISABLED}.\n\t\t */\n\t\tgetState: function() {\n\t\t\treturn this._.state;\n\t\t},\n\n\t\t/**\n\t\t * Returns this button's {@link CKEDITOR.feature} instance.\n\t\t *\n\t\t * It may be this button instance if it has at least one of\n\t\t * `allowedContent` and `requiredContent` properties. Otherwise,\n\t\t * if a command is bound to this button by the `command` property, then\n\t\t * that command will be returned.\n\t\t *\n\t\t * This method implements the {@link CKEDITOR.feature#toFeature} interface method.\n\t\t *\n\t\t * @since 4.1\n\t\t * @param {CKEDITOR.editor} Editor instance.\n\t\t * @returns {CKEDITOR.feature} The feature.\n\t\t */\n\t\ttoFeature: function( editor ) {\n\t\t\tif ( this._.feature )\n\t\t\t\treturn this._.feature;\n\n\t\t\tvar feature = this;\n\n\t\t\t// If button isn't a feature, return command if is bound.\n\t\t\tif ( !this.allowedContent && !this.requiredContent && this.command )\n\t\t\t\tfeature = editor.getCommand( this.command ) || feature;\n\n\t\t\treturn this._.feature = feature;\n\t\t}\n\t};\n\n\t/**\n\t * Adds a button definition to the UI elements list.\n\t *\n\t *\t\teditorInstance.ui.addButton( 'MyBold', {\n\t *\t\t\tlabel: 'My Bold',\n\t *\t\t\tcommand: 'bold',\n\t *\t\t\ttoolbar: 'basicstyles,1'\n\t *\t\t} );\n\t *\n\t * @member CKEDITOR.ui\n\t * @param {String} name The button name.\n\t * @param {Object} definition The button definition.\n\t * @param {String} definition.label The textual part of the button (if visible) and its tooltip.\n\t * @param {String} definition.command The command to be executed once the button is activated.\n\t * @param {String} definition.toolbar The {@link CKEDITOR.config#toolbarGroups toolbar group} into which\n\t * the button will be added. An optional index value (separated by a comma) determines the button position within the group.\n\t */\n\tCKEDITOR.ui.prototype.addButton = function( name, definition ) {\n\t\tthis.add( name, CKEDITOR.UI_BUTTON, definition );\n\t};\n\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/button/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview The Dialog User Interface plugin.\n */\n\nCKEDITOR.plugins.add( 'dialogui', {\n\tonLoad: function() {\n\n\t\tvar initPrivateObject = function( elementDefinition ) {\n\t\t\t\tthis._ || ( this._ = {} );\n\t\t\t\tthis._[ 'default' ] = this._.initValue = elementDefinition[ 'default' ] || '';\n\t\t\t\tthis._.required = elementDefinition.required || false;\n\t\t\t\tvar args = [ this._ ];\n\t\t\t\tfor ( var i = 1; i < arguments.length; i++ )\n\t\t\t\t\targs.push( arguments[ i ] );\n\t\t\t\targs.push( true );\n\t\t\t\tCKEDITOR.tools.extend.apply( CKEDITOR.tools, args );\n\t\t\t\treturn this._;\n\t\t\t},\n\t\t\ttextBuilder = {\n\t\t\t\tbuild: function( dialog, elementDefinition, output ) {\n\t\t\t\t\treturn new CKEDITOR.ui.dialog.textInput( dialog, elementDefinition, output );\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommonBuilder = {\n\t\t\t\tbuild: function( dialog, elementDefinition, output ) {\n\t\t\t\t\treturn new CKEDITOR.ui.dialog[ elementDefinition.type ]( dialog, elementDefinition, output );\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontainerBuilder = {\n\t\t\t\tbuild: function( dialog, elementDefinition, output ) {\n\t\t\t\t\tvar children = elementDefinition.children,\n\t\t\t\t\t\tchild,\n\t\t\t\t\t\tchildHtmlList = [],\n\t\t\t\t\t\tchildObjList = [];\n\t\t\t\t\tfor ( var i = 0;\n\t\t\t\t\t( i < children.length && ( child = children[ i ] ) ); i++ ) {\n\t\t\t\t\t\tvar childHtml = [];\n\t\t\t\t\t\tchildHtmlList.push( childHtml );\n\t\t\t\t\t\tchildObjList.push( CKEDITOR.dialog._.uiElementBuilders[ child.type ].build( dialog, child, childHtml ) );\n\t\t\t\t\t}\n\t\t\t\t\treturn new CKEDITOR.ui.dialog[ elementDefinition.type ]( dialog, childObjList, childHtmlList, output, elementDefinition );\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommonPrototype = {\n\t\t\t\tisChanged: function() {\n\t\t\t\t\treturn this.getValue() != this.getInitValue();\n\t\t\t\t},\n\n\t\t\t\treset: function( noChangeEvent ) {\n\t\t\t\t\tthis.setValue( this.getInitValue(), noChangeEvent );\n\t\t\t\t},\n\n\t\t\t\tsetInitValue: function() {\n\t\t\t\t\tthis._.initValue = this.getValue();\n\t\t\t\t},\n\n\t\t\t\tresetInitValue: function() {\n\t\t\t\t\tthis._.initValue = this._[ 'default' ];\n\t\t\t\t},\n\n\t\t\t\tgetInitValue: function() {\n\t\t\t\t\treturn this._.initValue;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommonEventProcessors = CKEDITOR.tools.extend( {}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {\n\t\t\t\tonChange: function( dialog, func ) {\n\t\t\t\t\tif ( !this._.domOnChangeRegistered ) {\n\t\t\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\t\t\tthis.getInputElement().on( 'change', function() {\n\t\t\t\t\t\t\t\t// Make sure 'onchange' doesn't get fired after dialog closed. (#5719)\n\t\t\t\t\t\t\t\tif ( !dialog.parts.dialog.isVisible() )\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tthis.fire( 'change', { value: this.getValue() } );\n\t\t\t\t\t\t\t}, this );\n\t\t\t\t\t\t}, this );\n\t\t\t\t\t\tthis._.domOnChangeRegistered = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.on( 'change', func );\n\t\t\t\t}\n\t\t\t}, true ),\n\t\t\teventRegex = /^on([A-Z]\\w+)/,\n\t\t\tcleanInnerDefinition = function( def ) {\n\t\t\t\t// An inner UI element should not have the parent's type, title or events.\n\t\t\t\tfor ( var i in def ) {\n\t\t\t\t\tif ( eventRegex.test( i ) || i == 'title' || i == 'type' )\n\t\t\t\t\t\tdelete def[ i ];\n\t\t\t\t}\n\t\t\t\treturn def;\n\t\t\t},\n\t\t\t// @context {CKEDITOR.dialog.uiElement} UI element (textarea or textInput)\n\t\t\t// @param {CKEDITOR.dom.event} evt\n\t\t\ttoggleBidiKeyUpHandler = function( evt ) {\n\t\t\t\tvar keystroke = evt.data.getKeystroke();\n\n\t\t\t\t// ALT + SHIFT + Home for LTR direction.\n\t\t\t\tif ( keystroke == CKEDITOR.SHIFT + CKEDITOR.ALT + 36 )\n\t\t\t\t\tthis.setDirectionMarker( 'ltr' );\n\n\t\t\t\t// ALT + SHIFT + End for RTL direction.\n\t\t\t\telse if ( keystroke == CKEDITOR.SHIFT + CKEDITOR.ALT + 35 )\n\t\t\t\t\tthis.setDirectionMarker( 'rtl' );\n\t\t\t};\n\n\t\tCKEDITOR.tools.extend( CKEDITOR.ui.dialog, {\n\t\t\t/**\n\t\t\t * Base class for all dialog window elements with a textual label on the left.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.labeledElement\n\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a labeledElement class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `label` (Required) The label string.\n\t\t\t * * `labelLayout` (Optional) Put 'horizontal' here if the\n\t\t\t *     label element is to be laid out horizontally. Otherwise a vertical\n\t\t\t *     layout will be used.\n\t\t\t * * `widths` (Optional) This applies only to horizontal\n\t\t\t *     layouts &mdash; a two-element array of lengths to specify the widths of the\n\t\t\t *     label and the content element.\n\t\t\t * * `role` (Optional) Value for the `role` attribute.\n\t\t\t * * `includeLabel` (Optional) If set to `true`, the `aria-labelledby` attribute\n\t\t\t *     will be included.\n\t\t\t *\n\t\t\t * @param {Array} htmlList The list of HTML code to output to.\n\t\t\t * @param {Function} contentHtml\n\t\t\t * A function returning the HTML code string to be added inside the content\n\t\t\t * cell.\n\t\t\t */\n\t\t\tlabeledElement: function( dialog, elementDefinition, htmlList, contentHtml ) {\n\t\t\t\tif ( arguments.length < 4 )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar _ = initPrivateObject.call( this, elementDefinition );\n\t\t\t\t_.labelId = CKEDITOR.tools.getNextId() + '_label';\n\t\t\t\tthis._.children = [];\n\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tvar html = [],\n\t\t\t\t\t\t\trequiredClass = elementDefinition.required ? ' cke_required' : '';\n\t\t\t\t\t\tif ( elementDefinition.labelLayout != 'horizontal' ) {\n\t\t\t\t\t\t\thtml.push(\n\t\t\t\t\t\t\t\t'<label class=\"cke_dialog_ui_labeled_label' + requiredClass + '\" ', ' id=\"' + _.labelId + '\"',\n\t\t\t\t\t\t\t\t\t( _.inputId ? ' for=\"' + _.inputId + '\"' : '' ),\n\t\t\t\t\t\t\t\t\t( elementDefinition.labelStyle ? ' style=\"' + elementDefinition.labelStyle + '\"' : '' ) + '>',\n\t\t\t\t\t\t\t\t\telementDefinition.label,\n\t\t\t\t\t\t\t\t'</label>',\n\t\t\t\t\t\t\t\t'<div class=\"cke_dialog_ui_labeled_content\"',\n\t\t\t\t\t\t\t\t\t( elementDefinition.controlStyle ? ' style=\"' + elementDefinition.controlStyle + '\"' : '' ),\n\t\t\t\t\t\t\t\t\t' role=\"presentation\">',\n\t\t\t\t\t\t\t\t\tcontentHtml.call( this, dialog, elementDefinition ),\n\t\t\t\t\t\t\t\t'</div>' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar hboxDefinition = {\n\t\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\t\twidths: elementDefinition.widths,\n\t\t\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\t\thtml: '<label class=\"cke_dialog_ui_labeled_label' + requiredClass + '\"' +\n\t\t\t\t\t\t\t\t\t\t' id=\"' + _.labelId + '\"' +\n\t\t\t\t\t\t\t\t\t\t' for=\"' + _.inputId + '\"' +\n\t\t\t\t\t\t\t\t\t\t( elementDefinition.labelStyle ? ' style=\"' + elementDefinition.labelStyle + '\"' : '' ) + '>' +\n\t\t\t\t\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( elementDefinition.label ) +\n\t\t\t\t\t\t\t\t\t\t'</label>'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\t\thtml: '<span class=\"cke_dialog_ui_labeled_content\"' + ( elementDefinition.controlStyle ? ' style=\"' + elementDefinition.controlStyle + '\"' : '' ) + '>' +\n\t\t\t\t\t\t\t\t\t\tcontentHtml.call( this, dialog, elementDefinition ) +\n\t\t\t\t\t\t\t\t\t\t'</span>'\n\t\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tCKEDITOR.dialog._.uiElementBuilders.hbox.build( dialog, hboxDefinition, html );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\t\t\t\tvar attributes = { role: elementDefinition.role || 'presentation' };\n\n\t\t\t\tif ( elementDefinition.includeLabel )\n\t\t\t\t\tattributes[ 'aria-labelledby' ] = _.labelId;\n\n\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, elementDefinition, htmlList, 'div', null, attributes, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A text input with a label. This UI element class represents both the\n\t\t\t * single-line text inputs and password inputs in dialog boxes.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.textInput\n\t\t\t * @extends CKEDITOR.ui.dialog.labeledElement\n\t\t\t * @constructor Creates a textInput class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `default` (Optional) The default value.\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t * * `maxLength` (Optional) The maximum length of text box contents.\n\t\t\t * * `size` (Optional) The size of the text box. This is\n\t\t\t *     usually overridden by the size defined by the skin, though.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\ttextInput: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tinitPrivateObject.call( this, elementDefinition );\n\t\t\t\tvar domId = this._.inputId = CKEDITOR.tools.getNextId() + '_textInput',\n\t\t\t\t\tattributes = { 'class': 'cke_dialog_ui_input_' + elementDefinition.type, id: domId, type: elementDefinition.type };\n\n\t\t\t\t// Set the validator, if any.\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\t// Set the max length and size.\n\t\t\t\tif ( elementDefinition.maxLength )\n\t\t\t\t\tattributes.maxlength = elementDefinition.maxLength;\n\t\t\t\tif ( elementDefinition.size )\n\t\t\t\t\tattributes.size = elementDefinition.size;\n\n\t\t\t\tif ( elementDefinition.inputStyle )\n\t\t\t\t\tattributes.style = elementDefinition.inputStyle;\n\n\t\t\t\t// If user presses Enter in a text box, it implies clicking OK for the dialog.\n\t\t\t\tvar me = this,\n\t\t\t\t\tkeyPressedOnMe = false;\n\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\tme.getInputElement().on( 'keydown', function( evt ) {\n\t\t\t\t\t\tif ( evt.data.getKeystroke() == 13 )\n\t\t\t\t\t\t\tkeyPressedOnMe = true;\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Lower the priority this 'keyup' since 'ok' will close the dialog.(#3749)\n\t\t\t\t\tme.getInputElement().on( 'keyup', function( evt ) {\n\t\t\t\t\t\tif ( evt.data.getKeystroke() == 13 && keyPressedOnMe ) {\n\t\t\t\t\t\t\tdialog.getButton( 'ok' ) && setTimeout( function() {\n\t\t\t\t\t\t\t\tdialog.getButton( 'ok' ).click();\n\t\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t\t\tkeyPressedOnMe = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( me.bidi )\n\t\t\t\t\t\t\ttoggleBidiKeyUpHandler.call( me, evt );\n\t\t\t\t\t}, null, null, 1000 );\n\t\t\t\t} );\n\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\t// IE BUG: Text input fields in IE at 100% would exceed a <td> or inline\n\t\t\t\t\t\t// container's width, so need to wrap it inside a <div>.\n\t\t\t\t\t\tvar html = [ '<div class=\"cke_dialog_ui_input_', elementDefinition.type, '\" role=\"presentation\"' ];\n\n\t\t\t\t\t\tif ( elementDefinition.width )\n\t\t\t\t\t\t\thtml.push( 'style=\"width:' + elementDefinition.width + '\" ' );\n\n\t\t\t\t\t\thtml.push( '><input ' );\n\n\t\t\t\t\t\tattributes[ 'aria-labelledby' ] = this._.labelId;\n\t\t\t\t\t\tthis._.required && ( attributes[ 'aria-required' ] = this._.required );\n\t\t\t\t\t\tfor ( var i in attributes )\n\t\t\t\t\t\t\thtml.push( i + '=\"' + attributes[ i ] + '\" ' );\n\t\t\t\t\t\thtml.push( ' /></div>' );\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\t\t\t\tCKEDITOR.ui.dialog.labeledElement.call( this, dialog, elementDefinition, htmlList, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A text area with a label at the top or on the left.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.textarea\n\t\t\t * @extends CKEDITOR.ui.dialog.labeledElement\n\t\t\t * @constructor Creates a textarea class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t *\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `rows` (Optional) The number of rows displayed.\n\t\t\t *     Defaults to 5 if not defined.\n\t\t\t * * `cols` (Optional) The number of cols displayed.\n\t\t\t *     Defaults to 20 if not defined. Usually overridden by skins.\n\t\t\t * * `default` (Optional) The default value.\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\ttextarea: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tinitPrivateObject.call( this, elementDefinition );\n\t\t\t\tvar me = this,\n\t\t\t\t\tdomId = this._.inputId = CKEDITOR.tools.getNextId() + '_textarea',\n\t\t\t\t\tattributes = {};\n\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\t// Generates the essential attributes for the textarea tag.\n\t\t\t\tattributes.rows = elementDefinition.rows || 5;\n\t\t\t\tattributes.cols = elementDefinition.cols || 20;\n\n\t\t\t\tattributes[ 'class' ] = 'cke_dialog_ui_input_textarea ' + ( elementDefinition[ 'class' ] || '' );\n\n\t\t\t\tif ( typeof elementDefinition.inputStyle != 'undefined' )\n\t\t\t\t\tattributes.style = elementDefinition.inputStyle;\n\n\t\t\t\tif ( elementDefinition.dir )\n\t\t\t\t\tattributes.dir = elementDefinition.dir;\n\n\t\t\t\tif ( me.bidi ) {\n\t\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\t\tme.getInputElement().on( 'keyup', toggleBidiKeyUpHandler );\n\t\t\t\t\t}, me );\n\t\t\t\t}\n\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tattributes[ 'aria-labelledby' ] = this._.labelId;\n\t\t\t\t\t\tthis._.required && ( attributes[ 'aria-required' ] = this._.required );\n\t\t\t\t\t\tvar html = [ '<div class=\"cke_dialog_ui_input_textarea\" role=\"presentation\"><textarea id=\"', domId, '\" ' ];\n\t\t\t\t\t\tfor ( var i in attributes )\n\t\t\t\t\t\t\thtml.push( i + '=\"' + CKEDITOR.tools.htmlEncode( attributes[ i ] ) + '\" ' );\n\t\t\t\t\t\thtml.push( '>', CKEDITOR.tools.htmlEncode( me._[ 'default' ] ), '</textarea></div>' );\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\t\t\t\tCKEDITOR.ui.dialog.labeledElement.call( this, dialog, elementDefinition, htmlList, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A single checkbox with a label on the right.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.checkbox\n\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a checkbox class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `checked` (Optional) Whether the checkbox is checked\n\t\t\t *     on instantiation. Defaults to `false`.\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t * * `label` (Optional) The checkbox label.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\tcheckbox: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar _ = initPrivateObject.call( this, elementDefinition, { 'default': !!elementDefinition[ 'default' ] } );\n\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tvar myDefinition = CKEDITOR.tools.extend(\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\telementDefinition,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: elementDefinition.id ? elementDefinition.id + '_checkbox' : CKEDITOR.tools.getNextId() + '_checkbox'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\thtml = [];\n\n\t\t\t\t\t\tvar labelId = CKEDITOR.tools.getNextId() + '_label';\n\t\t\t\t\t\tvar attributes = { 'class': 'cke_dialog_ui_checkbox_input', type: 'checkbox', 'aria-labelledby': labelId };\n\t\t\t\t\t\tcleanInnerDefinition( myDefinition );\n\t\t\t\t\t\tif ( elementDefinition[ 'default' ] )\n\t\t\t\t\t\t\tattributes.checked = 'checked';\n\n\t\t\t\t\t\tif ( typeof myDefinition.inputStyle != 'undefined' )\n\t\t\t\t\t\t\tmyDefinition.style = myDefinition.inputStyle;\n\n\t\t\t\t\t\t_.checkbox = new CKEDITOR.ui.dialog.uiElement( dialog, myDefinition, html, 'input', null, attributes );\n\t\t\t\t\t\thtml.push(\n\t\t\t\t\t\t\t' <label id=\"',\n\t\t\t\t\t\t\tlabelId,\n\t\t\t\t\t\t\t'\" for=\"',\n\t\t\t\t\t\t\tattributes.id,\n\t\t\t\t\t\t\t'\"' + ( elementDefinition.labelStyle ? ' style=\"' + elementDefinition.labelStyle + '\"' : '' ) + '>',\n\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( elementDefinition.label ),\n\t\t\t\t\t\t\t'</label>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\n\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, elementDefinition, htmlList, 'span', null, null, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A group of radio buttons.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.radio\n\t\t\t * @extends CKEDITOR.ui.dialog.labeledElement\n\t\t\t * @constructor Creates a radio class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `default` (Required) The default value.\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t * * `items` (Required) An array of options. Each option\n\t\t\t *     is a one- or two-item array of format `[ 'Description', 'Value' ]`. If `'Value'`\n\t\t\t *     is missing, then the value would be assumed to be the same as the description.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\tradio: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tinitPrivateObject.call( this, elementDefinition );\n\n\t\t\t\tif ( !this._[ 'default' ] )\n\t\t\t\t\tthis._[ 'default' ] = this._.initValue = elementDefinition.items[ 0 ][ 1 ];\n\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\tvar children = [],\n\t\t\t\t\tme = this;\n\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\tvar inputHtmlList = [],\n\t\t\t\t\t\thtml = [],\n\t\t\t\t\t\tcommonName = ( elementDefinition.id ? elementDefinition.id : CKEDITOR.tools.getNextId() ) + '_radio';\n\n\t\t\t\t\tfor ( var i = 0; i < elementDefinition.items.length; i++ ) {\n\t\t\t\t\t\tvar item = elementDefinition.items[ i ],\n\t\t\t\t\t\t\ttitle = item[ 2 ] !== undefined ? item[ 2 ] : item[ 0 ],\n\t\t\t\t\t\t\tvalue = item[ 1 ] !== undefined ? item[ 1 ] : item[ 0 ],\n\t\t\t\t\t\t\tinputId = CKEDITOR.tools.getNextId() + '_radio_input',\n\t\t\t\t\t\t\tlabelId = inputId + '_label',\n\n\t\t\t\t\t\t\tinputDefinition = CKEDITOR.tools.extend( {}, elementDefinition, {\n\t\t\t\t\t\t\t\tid: inputId,\n\t\t\t\t\t\t\t\ttitle: null,\n\t\t\t\t\t\t\t\ttype: null\n\t\t\t\t\t\t\t}, true ),\n\n\t\t\t\t\t\t\tlabelDefinition = CKEDITOR.tools.extend( {}, inputDefinition, {\n\t\t\t\t\t\t\t\ttitle: title\n\t\t\t\t\t\t\t}, true ),\n\n\t\t\t\t\t\t\tinputAttributes = {\n\t\t\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\t\t\t'class': 'cke_dialog_ui_radio_input',\n\t\t\t\t\t\t\t\tname: commonName,\n\t\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\t\t'aria-labelledby': labelId\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tinputHtml = [];\n\n\t\t\t\t\t\tif ( me._[ 'default' ] == value )\n\t\t\t\t\t\t\tinputAttributes.checked = 'checked';\n\n\t\t\t\t\t\tcleanInnerDefinition( inputDefinition );\n\t\t\t\t\t\tcleanInnerDefinition( labelDefinition );\n\n\t\t\t\t\t\tif ( typeof inputDefinition.inputStyle != 'undefined' )\n\t\t\t\t\t\t\tinputDefinition.style = inputDefinition.inputStyle;\n\n\t\t\t\t\t\t// Make inputs of radio type focusable (#10866).\n\t\t\t\t\t\tinputDefinition.keyboardFocusable = true;\n\n\t\t\t\t\t\tchildren.push( new CKEDITOR.ui.dialog.uiElement( dialog, inputDefinition, inputHtml, 'input', null, inputAttributes ) );\n\n\t\t\t\t\t\tinputHtml.push( ' ' );\n\n\t\t\t\t\t\tnew CKEDITOR.ui.dialog.uiElement( dialog, labelDefinition, inputHtml, 'label', null, {\n\t\t\t\t\t\t\tid: labelId,\n\t\t\t\t\t\t\t'for': inputAttributes.id\n\t\t\t\t\t\t}, item[ 0 ] );\n\n\t\t\t\t\t\tinputHtmlList.push( inputHtml.join( '' ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tnew CKEDITOR.ui.dialog.hbox( dialog, children, inputHtmlList, html );\n\n\t\t\t\t\treturn html.join( '' );\n\t\t\t\t};\n\n\t\t\t\t// Adding a role=\"radiogroup\" to definition used for wrapper.\n\t\t\t\telementDefinition.role = 'radiogroup';\n\t\t\t\telementDefinition.includeLabel = true;\n\n\t\t\t\tCKEDITOR.ui.dialog.labeledElement.call( this, dialog, elementDefinition, htmlList, innerHTML );\n\t\t\t\tthis._.children = children;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A button with a label inside.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.button\n\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a button class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `label` (Required) The button label.\n\t\t\t * * `disabled` (Optional) Set to `true` if you want the\n\t\t\t *     button to appear in the disabled state.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\tbutton: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( !arguments.length )\n\t\t\t\t\treturn;\n\n\t\t\t\tif ( typeof elementDefinition == 'function' )\n\t\t\t\t\telementDefinition = elementDefinition( dialog.getParentEditor() );\n\n\t\t\t\tinitPrivateObject.call( this, elementDefinition, { disabled: elementDefinition.disabled || false } );\n\n\t\t\t\t// Add OnClick event to this input.\n\t\t\t\tCKEDITOR.event.implementOn( this );\n\n\t\t\t\tvar me = this;\n\n\t\t\t\t// Register an event handler for processing button clicks.\n\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\tvar element = this.getElement();\n\n\t\t\t\t\t( function() {\n\t\t\t\t\t\telement.on( 'click', function( evt ) {\n\t\t\t\t\t\t\tme.click();\n\t\t\t\t\t\t\t// #9958\n\t\t\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\telement.on( 'keydown', function( evt ) {\n\t\t\t\t\t\t\tif ( evt.data.getKeystroke() in { 32: 1 } ) {\n\t\t\t\t\t\t\t\tme.click();\n\t\t\t\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )();\n\n\t\t\t\t\telement.unselectable();\n\t\t\t\t}, this );\n\n\t\t\t\tvar outerDefinition = CKEDITOR.tools.extend( {}, elementDefinition );\n\t\t\t\tdelete outerDefinition.style;\n\n\t\t\t\tvar labelId = CKEDITOR.tools.getNextId() + '_label';\n\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, outerDefinition, htmlList, 'a', null, {\n\t\t\t\t\tstyle: elementDefinition.style,\n\t\t\t\t\thref: 'javascript:void(0)', // jshint ignore:line\n\t\t\t\t\ttitle: elementDefinition.label,\n\t\t\t\t\thidefocus: 'true',\n\t\t\t\t\t'class': elementDefinition[ 'class' ],\n\t\t\t\t\trole: 'button',\n\t\t\t\t\t'aria-labelledby': labelId\n\t\t\t\t}, '<span id=\"' + labelId + '\" class=\"cke_dialog_ui_button\">' +\n\t\t\t\t\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( elementDefinition.label ) +\n\t\t\t\t\t\t\t\t\t\t'</span>' );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A select box.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.select\n\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a button class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `default` (Required) The default value.\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t * * `items` (Required) An array of options. Each option\n\t\t\t *     is a one- or two-item array of format `[ 'Description', 'Value' ]`. If `'Value'`\n\t\t\t *     is missing, then the value would be assumed to be the same as the\n\t\t\t *     description.\n\t\t\t * * `multiple` (Optional) Set this to `true` if you would like\n\t\t\t *     to have a multiple-choice select box.\n\t\t\t * * `size` (Optional) The number of items to display in\n\t\t\t *     the select box.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\tselect: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar _ = initPrivateObject.call( this, elementDefinition );\n\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\t_.inputId = CKEDITOR.tools.getNextId() + '_select';\n\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tvar myDefinition = CKEDITOR.tools.extend(\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\telementDefinition,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: ( elementDefinition.id ? elementDefinition.id + '_select' : CKEDITOR.tools.getNextId() + '_select' )\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\thtml = [],\n\t\t\t\t\t\t\tinnerHTML = [],\n\t\t\t\t\t\t\tattributes = { 'id': _.inputId, 'class': 'cke_dialog_ui_input_select', 'aria-labelledby': this._.labelId };\n\n\t\t\t\t\t\thtml.push( '<div class=\"cke_dialog_ui_input_', elementDefinition.type, '\" role=\"presentation\"' );\n\t\t\t\t\t\tif ( elementDefinition.width )\n\t\t\t\t\t\t\thtml.push( 'style=\"width:' + elementDefinition.width + '\" ' );\n\t\t\t\t\t\thtml.push( '>' );\n\n\t\t\t\t\t\t// Add multiple and size attributes from element definition.\n\t\t\t\t\t\tif ( elementDefinition.size !== undefined )\n\t\t\t\t\t\t\tattributes.size = elementDefinition.size;\n\t\t\t\t\t\tif ( elementDefinition.multiple !== undefined )\n\t\t\t\t\t\t\tattributes.multiple = elementDefinition.multiple;\n\n\t\t\t\t\t\tcleanInnerDefinition( myDefinition );\n\t\t\t\t\t\tfor ( var i = 0, item; i < elementDefinition.items.length && ( item = elementDefinition.items[ i ] ); i++ ) {\n\t\t\t\t\t\t\tinnerHTML.push( '<option value=\"', CKEDITOR.tools.htmlEncode( item[ 1 ] !== undefined ? item[ 1 ] : item[ 0 ] ).replace( /\"/g, '&quot;' ), '\" /> ', CKEDITOR.tools.htmlEncode( item[ 0 ] ) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( typeof myDefinition.inputStyle != 'undefined' )\n\t\t\t\t\t\t\tmyDefinition.style = myDefinition.inputStyle;\n\n\t\t\t\t\t\t_.select = new CKEDITOR.ui.dialog.uiElement( dialog, myDefinition, html, 'select', null, attributes, innerHTML.join( '' ) );\n\n\t\t\t\t\t\thtml.push( '</div>' );\n\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\n\t\t\t\tCKEDITOR.ui.dialog.labeledElement.call( this, dialog, elementDefinition, htmlList, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A file upload input.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.file\n\t\t\t * @extends CKEDITOR.ui.dialog.labeledElement\n\t\t\t * @constructor Creates a file class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\tfile: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tif ( elementDefinition[ 'default' ] === undefined )\n\t\t\t\t\telementDefinition[ 'default' ] = '';\n\n\t\t\t\tvar _ = CKEDITOR.tools.extend( initPrivateObject.call( this, elementDefinition ), { definition: elementDefinition, buttons: [] } );\n\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\t/** @ignore */\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t_.frameId = CKEDITOR.tools.getNextId() + '_fileInput';\n\n\t\t\t\t\tvar html = [\n\t\t\t\t\t\t'<iframe' +\n\t\t\t\t\t\t\t' frameborder=\"0\"' +\n\t\t\t\t\t\t\t' allowtransparency=\"0\"' +\n\t\t\t\t\t\t\t' class=\"cke_dialog_ui_input_file\"' +\n\t\t\t\t\t\t\t' role=\"presentation\"' +\n\t\t\t\t\t\t\t' id=\"', _.frameId, '\"' +\n\t\t\t\t\t\t\t' title=\"', elementDefinition.label, '\"' +\n\t\t\t\t\t\t\t' src=\"javascript:void('\n\t\t\t\t\t];\n\n\t\t\t\t\t// Support for custom document.domain on IE. (#10165)\n\t\t\t\t\thtml.push( CKEDITOR.env.ie ?\n\t\t\t\t\t\t'(function(){' + encodeURIComponent(\n\t\t\t\t\t\t\t'document.open();' +\n\t\t\t\t\t\t\t'(' + CKEDITOR.tools.fixDomain + ')();' +\n\t\t\t\t\t\t\t'document.close();'\n\t\t\t\t\t\t) + '})()'\n\t\t\t\t\t\t:\n\t\t\t\t\t\t'0'\n\t\t\t\t\t);\n\n\t\t\t\t\thtml.push( ')\"></iframe>' );\n\n\t\t\t\t\treturn html.join( '' );\n\t\t\t\t};\n\n\t\t\t\t// IE BUG: Parent container does not resize to contain the iframe automatically.\n\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\tvar iframe = CKEDITOR.document.getById( _.frameId ),\n\t\t\t\t\t\tcontentDiv = iframe.getParent();\n\t\t\t\t\tcontentDiv.addClass( 'cke_dialog_ui_input_file' );\n\t\t\t\t} );\n\n\t\t\t\tCKEDITOR.ui.dialog.labeledElement.call( this, dialog, elementDefinition, htmlList, innerHTML );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * A button for submitting the file in a file upload input.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.fileButton\n\t\t\t * @extends CKEDITOR.ui.dialog.button\n\t\t\t * @constructor Creates a fileButton class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `for` (Required) The file input's page and element ID\n\t\t\t *     to associate with, in a two-item array format: `[ 'page_id', 'element_id' ]`.\n\t\t\t * * `validate` (Optional) The validation function.\n\t\t\t *\n\t\t\t * @param {Array} htmlList List of HTML code to output to.\n\t\t\t */\n\t\t\tfileButton: function( dialog, elementDefinition, htmlList ) {\n\t\t\t\tvar me = this;\n\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\treturn;\n\n\t\t\t\tinitPrivateObject.call( this, elementDefinition );\n\n\t\t\t\tif ( elementDefinition.validate )\n\t\t\t\t\tthis.validate = elementDefinition.validate;\n\n\t\t\t\tvar myDefinition = CKEDITOR.tools.extend( {}, elementDefinition );\n\t\t\t\tvar onClick = myDefinition.onClick;\n\t\t\t\tmyDefinition.className = ( myDefinition.className ? myDefinition.className + ' ' : '' ) + 'cke_dialog_ui_button';\n\t\t\t\tmyDefinition.onClick = function( evt ) {\n\t\t\t\t\tvar target = elementDefinition[ 'for' ]; // [ pageId, elementId ]\n\t\t\t\t\tif ( !onClick || onClick.call( this, evt ) !== false ) {\n\t\t\t\t\t\tdialog.getContentElement( target[ 0 ], target[ 1 ] ).submit();\n\t\t\t\t\t\tthis.disable();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\tdialog.getContentElement( elementDefinition[ 'for' ][ 0 ], elementDefinition[ 'for' ][ 1 ] )._.buttons.push( me );\n\t\t\t\t} );\n\n\t\t\t\tCKEDITOR.ui.dialog.button.call( this, dialog, myDefinition, htmlList );\n\t\t\t},\n\n\t\t\thtml: ( function() {\n\t\t\t\tvar myHtmlRe = /^\\s*<[\\w:]+\\s+([^>]*)?>/,\n\t\t\t\t\ttheirHtmlRe = /^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,\n\t\t\t\t\temptyTagRe = /\\/$/;\n\t\t\t\t/**\n\t\t\t\t * A dialog window element made from raw HTML code.\n\t\t\t\t *\n\t\t\t\t * @class CKEDITOR.ui.dialog.html\n\t\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t\t * @constructor Creates a html class instance.\n\t\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition Element definition.\n\t\t\t\t * Accepted fields:\n\t\t\t\t *\n\t\t\t\t * * `html` (Required) HTML code of this element.\n\t\t\t\t *\n\t\t\t\t * @param {Array} htmlList List of HTML code to be added to the dialog's content area.\n\t\t\t\t */\n\t\t\t\treturn function( dialog, elementDefinition, htmlList ) {\n\t\t\t\t\tif ( arguments.length < 3 )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar myHtmlList = [],\n\t\t\t\t\t\tmyHtml,\n\t\t\t\t\t\ttheirHtml = elementDefinition.html,\n\t\t\t\t\t\tmyMatch, theirMatch;\n\n\t\t\t\t\t// If the HTML input doesn't contain any tags at the beginning, add a <span> tag around it.\n\t\t\t\t\tif ( theirHtml.charAt( 0 ) != '<' )\n\t\t\t\t\t\ttheirHtml = '<span>' + theirHtml + '</span>';\n\n\t\t\t\t\t// Look for focus function in definition.\n\t\t\t\t\tvar focus = elementDefinition.focus;\n\t\t\t\t\tif ( focus ) {\n\t\t\t\t\t\tvar oldFocus = this.focus;\n\t\t\t\t\t\tthis.focus = function() {\n\t\t\t\t\t\t\t( typeof focus == 'function' ? focus : oldFocus ).call( this );\n\t\t\t\t\t\t\tthis.fire( 'focus' );\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif ( elementDefinition.isFocusable ) {\n\t\t\t\t\t\t\tvar oldIsFocusable = this.isFocusable;\n\t\t\t\t\t\t\tthis.isFocusable = oldIsFocusable;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.keyboardFocusable = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, elementDefinition, myHtmlList, 'span', null, null, '' );\n\n\t\t\t\t\t// Append the attributes created by the uiElement call to the real HTML.\n\t\t\t\t\tmyHtml = myHtmlList.join( '' );\n\t\t\t\t\tmyMatch = myHtml.match( myHtmlRe );\n\t\t\t\t\ttheirMatch = theirHtml.match( theirHtmlRe ) || [ '', '', '' ];\n\n\t\t\t\t\tif ( emptyTagRe.test( theirMatch[ 1 ] ) ) {\n\t\t\t\t\t\ttheirMatch[ 1 ] = theirMatch[ 1 ].slice( 0, -1 );\n\t\t\t\t\t\ttheirMatch[ 2 ] = '/' + theirMatch[ 2 ];\n\t\t\t\t\t}\n\n\t\t\t\t\thtmlList.push( [ theirMatch[ 1 ], ' ', myMatch[ 1 ] || '', theirMatch[ 2 ] ].join( '' ) );\n\t\t\t\t};\n\t\t\t} )(),\n\n\t\t\t/**\n\t\t\t * Form fieldset for grouping dialog UI elements.\n\t\t\t *\n\t\t\t * @class CKEDITOR.ui.dialog.fieldset\n\t\t\t * @extends CKEDITOR.ui.dialog.uiElement\n\t\t\t * @constructor Creates a fieldset class instance.\n\t\t\t * @param {CKEDITOR.dialog} dialog Parent dialog window object.\n\t\t\t * @param {Array} childObjList\n\t\t\t * Array of {@link CKEDITOR.ui.dialog.uiElement} objects inside this container.\n\t\t\t * @param {Array} childHtmlList Array of HTML code that corresponds to the HTML output of all the\n\t\t\t * objects in childObjList.\n\t\t\t * @param {Array} htmlList Array of HTML code that this element will output to.\n\t\t\t * @param {CKEDITOR.dialog.definition.uiElement} elementDefinition\n\t\t\t * The element definition. Accepted fields:\n\t\t\t *\n\t\t\t * * `label` (Optional) The legend of the this fieldset.\n\t\t\t * * `children` (Required) An array of dialog window field definitions which will be grouped inside this fieldset.\n\t\t\t *\n\t\t\t */\n\t\t\tfieldset: function( dialog, childObjList, childHtmlList, htmlList, elementDefinition ) {\n\t\t\t\tvar legendLabel = elementDefinition.label;\n\t\t\t\t/** @ignore */\n\t\t\t\tvar innerHTML = function() {\n\t\t\t\t\t\tvar html = [];\n\t\t\t\t\t\tlegendLabel && html.push( '<legend' +\n\t\t\t\t\t\t\t( elementDefinition.labelStyle ? ' style=\"' + elementDefinition.labelStyle + '\"' : '' ) +\n\t\t\t\t\t\t\t'>' + legendLabel + '</legend>' );\n\t\t\t\t\t\tfor ( var i = 0; i < childHtmlList.length; i++ )\n\t\t\t\t\t\t\thtml.push( childHtmlList[ i ] );\n\t\t\t\t\t\treturn html.join( '' );\n\t\t\t\t\t};\n\n\t\t\t\tthis._ = { children: childObjList };\n\t\t\t\tCKEDITOR.ui.dialog.uiElement.call( this, dialog, elementDefinition, htmlList, 'fieldset', null, null, innerHTML );\n\t\t\t}\n\n\t\t}, true );\n\n\t\tCKEDITOR.ui.dialog.html.prototype = new CKEDITOR.ui.dialog.uiElement();\n\n\t\t/** @class CKEDITOR.ui.dialog.labeledElement */\n\t\tCKEDITOR.ui.dialog.labeledElement.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.uiElement(), {\n\t\t\t/**\n\t\t\t * Sets the label text of the element.\n\t\t\t *\n\t\t\t * @param {String} label The new label text.\n\t\t\t * @returns {CKEDITOR.ui.dialog.labeledElement} The current labeled element.\n\t\t\t */\n\t\t\tsetLabel: function( label ) {\n\t\t\t\tvar node = CKEDITOR.document.getById( this._.labelId );\n\t\t\t\tif ( node.getChildCount() < 1 )\n\t\t\t\t( new CKEDITOR.dom.text( label, CKEDITOR.document ) ).appendTo( node );\n\t\t\t\telse\n\t\t\t\t\tnode.getChild( 0 ).$.nodeValue = label;\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the current label text of the elment.\n\t\t\t *\n\t\t\t * @returns {String} The current label text.\n\t\t\t */\n\t\t\tgetLabel: function() {\n\t\t\t\tvar node = CKEDITOR.document.getById( this._.labelId );\n\t\t\t\tif ( !node || node.getChildCount() < 1 )\n\t\t\t\t\treturn '';\n\t\t\t\telse\n\t\t\t\t\treturn node.getChild( 0 ).getText();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Defines the `onChange` event for UI element definitions.\n\t\t\t * @property {Object}\n\t\t\t */\n\t\t\teventProcessors: commonEventProcessors\n\t\t}, true );\n\n\t\t/** @class CKEDITOR.ui.dialog.button */\n\t\tCKEDITOR.ui.dialog.button.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.uiElement(), {\n\t\t\t/**\n\t\t\t * Simulates a click to the button.\n\t\t\t *\n\t\t\t * @returns {Object} Return value of the `click` event.\n\t\t\t */\n\t\t\tclick: function() {\n\t\t\t\tif ( !this._.disabled )\n\t\t\t\t\treturn this.fire( 'click', { dialog: this._.dialog } );\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Enables the button.\n\t\t\t */\n\t\t\tenable: function() {\n\t\t\t\tthis._.disabled = false;\n\t\t\t\tvar element = this.getElement();\n\t\t\t\telement && element.removeClass( 'cke_disabled' );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Disables the button.\n\t\t\t */\n\t\t\tdisable: function() {\n\t\t\t\tthis._.disabled = true;\n\t\t\t\tthis.getElement().addClass( 'cke_disabled' );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Checks whether a field is visible.\n\t\t\t *\n\t\t\t * @returns {Boolean}\n\t\t\t */\n\t\t\tisVisible: function() {\n\t\t\t\treturn this.getElement().getFirst().isVisible();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Checks whether a field is enabled. Fields can be disabled by using the\n\t\t\t * {@link #disable} method and enabled by using the {@link #enable} method.\n\t\t\t *\n\t\t\t * @returns {Boolean}\n\t\t\t */\n\t\t\tisEnabled: function() {\n\t\t\t\treturn !this._.disabled;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Defines the `onChange` event and `onClick` for button element definitions.\n\t\t\t *\n\t\t\t * @property {Object}\n\t\t\t */\n\t\t\teventProcessors: CKEDITOR.tools.extend( {}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {\n\t\t\t\tonClick: function( dialog, func ) {\n\t\t\t\t\tthis.on( 'click', function() {\n\t\t\t\t\t\tfunc.apply( this, arguments );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}, true ),\n\n\t\t\t/**\n\t\t\t * Handler for the element's access key up event. Simulates a click to\n\t\t\t * the button.\n\t\t\t */\n\t\t\taccessKeyUp: function() {\n\t\t\t\tthis.click();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Handler for the element's access key down event. Simulates a mouse\n\t\t\t * down to the button.\n\t\t\t */\n\t\t\taccessKeyDown: function() {\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tkeyboardFocusable: true\n\t\t}, true );\n\n\t\t/** @class CKEDITOR.ui.dialog.textInput */\n\t\tCKEDITOR.ui.dialog.textInput.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.labeledElement(), {\n\t\t\t/**\n\t\t\t * Gets the text input DOM element under this UI object.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.element} The DOM element of the text input.\n\t\t\t */\n\t\t\tgetInputElement: function() {\n\t\t\t\treturn CKEDITOR.document.getById( this._.inputId );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Puts focus into the text input.\n\t\t\t */\n\t\t\tfocus: function() {\n\t\t\t\tvar me = this.selectParentTab();\n\n\t\t\t\t// GECKO BUG: setTimeout() is needed to workaround invisible selections.\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tvar element = me.getInputElement();\n\t\t\t\t\telement && element.$.focus();\n\t\t\t\t}, 0 );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Selects all the text in the text input.\n\t\t\t */\n\t\t\tselect: function() {\n\t\t\t\tvar me = this.selectParentTab();\n\n\t\t\t\t// GECKO BUG: setTimeout() is needed to workaround invisible selections.\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tvar e = me.getInputElement();\n\t\t\t\t\tif ( e ) {\n\t\t\t\t\t\te.$.focus();\n\t\t\t\t\t\te.$.select();\n\t\t\t\t\t}\n\t\t\t\t}, 0 );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Handler for the text input's access key up event. Makes a `select()`\n\t\t\t * call to the text input.\n\t\t\t */\n\t\t\taccessKeyUp: function() {\n\t\t\t\tthis.select();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the value of this text input object.\n\t\t\t *\n\t\t\t *\t\tuiElement.setValue( 'Blamo' );\n\t\t\t *\n\t\t\t * @param {Object} value The new value.\n\t\t\t * @returns {CKEDITOR.ui.dialog.textInput} The current UI element.\n\t\t\t */\n\t\t\tsetValue: function( value ) {\n\t\t\t\tif ( this.bidi ) {\n\t\t\t\t\tvar marker = value && value.charAt( 0 ),\n\t\t\t\t\t\tdir = ( marker == '\\u202A' ? 'ltr' : marker == '\\u202B' ? 'rtl' : null );\n\n\t\t\t\t\tif ( dir ) {\n\t\t\t\t\t\tvalue = value.slice( 1 );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the marker or reset it (if dir==null).\n\t\t\t\t\tthis.setDirectionMarker( dir );\n\t\t\t\t}\n\n\t\t\t\tif ( !value ) {\n\t\t\t\t\tvalue = '';\n\t\t\t\t}\n\n\t\t\t\treturn CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply( this, arguments );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Gets the value of this text input object.\n\t\t\t *\n\t\t\t * @returns {String} The value.\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tvar value = CKEDITOR.ui.dialog.uiElement.prototype.getValue.call( this );\n\n\t\t\t\tif ( this.bidi && value ) {\n\t\t\t\t\tvar dir = this.getDirectionMarker();\n\t\t\t\t\tif ( dir ) {\n\t\t\t\t\t\tvalue = ( dir == 'ltr' ? '\\u202A' : '\\u202B' ) + value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the text direction marker and the `dir` attribute of the input element.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @param {String} dir The text direction. Pass `null` to reset.\n\t\t\t */\n\t\t\tsetDirectionMarker: function( dir ) {\n\t\t\t\tvar inputElement = this.getInputElement();\n\n\t\t\t\tif ( dir ) {\n\t\t\t\t\tinputElement.setAttributes( {\n\t\t\t\t\t\tdir: dir,\n\t\t\t\t\t\t'data-cke-dir-marker': dir\n\t\t\t\t\t} );\n\t\t\t\t// Don't remove the dir attribute if this field hasn't got the marker,\n\t\t\t\t// because the dir attribute could be set independently.\n\t\t\t\t} else if ( this.getDirectionMarker() ) {\n\t\t\t\t\tinputElement.removeAttributes( [ 'dir', 'data-cke-dir-marker' ] );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Gets the value of the text direction marker.\n\t\t\t *\n\t\t\t * @since 4.5\n\t\t\t * @returns {String} `'ltr'`, `'rtl'` or `null` if the marker is not set.\n\t\t\t */\n\t\t\tgetDirectionMarker: function() {\n\t\t\t\treturn this.getInputElement().data( 'cke-dir-marker' );\n\t\t\t},\n\n\t\t\tkeyboardFocusable: true\n\t\t}, commonPrototype, true );\n\n\t\tCKEDITOR.ui.dialog.textarea.prototype = new CKEDITOR.ui.dialog.textInput();\n\n\t\t/** @class CKEDITOR.ui.dialog.select */\n\t\tCKEDITOR.ui.dialog.select.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.labeledElement(), {\n\t\t\t/**\n\t\t\t * Gets the DOM element of the select box.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.element} The `<select>` element of this UI element.\n\t\t\t */\n\t\t\tgetInputElement: function() {\n\t\t\t\treturn this._.select.getElement();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Adds an option to the select box.\n\t\t\t *\n\t\t\t * @param {String} label Option label.\n\t\t\t * @param {String} value (Optional) Option value, if not defined it will be\n\t\t\t * assumed to be the same as the label.\n\t\t\t * @param {Number} index (Optional) Position of the option to be inserted\n\t\t\t * to. If not defined, the new option will be inserted to the end of list.\n\t\t\t * @returns {CKEDITOR.ui.dialog.select} The current select UI element.\n\t\t\t */\n\t\t\tadd: function( label, value, index ) {\n\t\t\t\tvar option = new CKEDITOR.dom.element( 'option', this.getDialog().getParentEditor().document ),\n\t\t\t\t\tselectElement = this.getInputElement().$;\n\t\t\t\toption.$.text = label;\n\t\t\t\toption.$.value = ( value === undefined || value === null ) ? label : value;\n\t\t\t\tif ( index === undefined || index === null ) {\n\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\tselectElement.add( option.$ );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectElement.add( option.$, null );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tselectElement.add( option.$, index );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Removes an option from the selection list.\n\t\t\t *\n\t\t\t * @param {Number} index Index of the option to be removed.\n\t\t\t * @returns {CKEDITOR.ui.dialog.select} The current select UI element.\n\t\t\t */\n\t\t\tremove: function( index ) {\n\t\t\t\tvar selectElement = this.getInputElement().$;\n\t\t\t\tselectElement.remove( index );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Clears all options out of the selection list.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.ui.dialog.select} The current select UI element.\n\t\t\t */\n\t\t\tclear: function() {\n\t\t\t\tvar selectElement = this.getInputElement().$;\n\t\t\t\twhile ( selectElement.length > 0 )\n\t\t\t\t\tselectElement.remove( 0 );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tkeyboardFocusable: true\n\t\t}, commonPrototype, true );\n\n\t\t/** @class CKEDITOR.ui.dialog.checkbox */\n\t\tCKEDITOR.ui.dialog.checkbox.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.uiElement(), {\n\t\t\t/**\n\t\t\t * Gets the checkbox DOM element.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.element} The DOM element of the checkbox.\n\t\t\t */\n\t\t\tgetInputElement: function() {\n\t\t\t\treturn this._.checkbox.getElement();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the state of the checkbox.\n\t\t\t *\n\t\t\t * @param {Boolean} checked `true` to tick the checkbox, `false` to untick it.\n\t\t\t * @param {Boolean} noChangeEvent Internal commit, to supress `change` event on this element.\n\t\t\t */\n\t\t\tsetValue: function( checked, noChangeEvent ) {\n\t\t\t\tthis.getInputElement().$.checked = checked;\n\t\t\t\t!noChangeEvent && this.fire( 'change', { value: checked } );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Gets the state of the checkbox.\n\t\t\t *\n\t\t\t * @returns {Boolean} `true` means that the checkbox is ticked, `false` means it is not ticked.\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\treturn this.getInputElement().$.checked;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Handler for the access key up event. Toggles the checkbox.\n\t\t\t */\n\t\t\taccessKeyUp: function() {\n\t\t\t\tthis.setValue( !this.getValue() );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Defines the `onChange` event for UI element definitions.\n\t\t\t *\n\t\t\t * @property {Object}\n\t\t\t */\n\t\t\teventProcessors: {\n\t\t\t\tonChange: function( dialog, func ) {\n\t\t\t\t\tif ( !CKEDITOR.env.ie || ( CKEDITOR.env.version > 8 ) )\n\t\t\t\t\t\treturn commonEventProcessors.onChange.apply( this, arguments );\n\t\t\t\t\telse {\n\t\t\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\t\t\tvar element = this._.checkbox.getElement();\n\t\t\t\t\t\t\telement.on( 'propertychange', function( evt ) {\n\t\t\t\t\t\t\t\tevt = evt.data.$;\n\t\t\t\t\t\t\t\tif ( evt.propertyName == 'checked' )\n\t\t\t\t\t\t\t\t\tthis.fire( 'change', { value: element.$.checked } );\n\t\t\t\t\t\t\t}, this );\n\t\t\t\t\t\t}, this );\n\t\t\t\t\t\tthis.on( 'change', func );\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeyboardFocusable: true\n\t\t}, commonPrototype, true );\n\n\t\t/** @class CKEDITOR.ui.dialog.radio */\n\t\tCKEDITOR.ui.dialog.radio.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.uiElement(), {\n\t\t\t/**\n\t\t\t * Selects one of the radio buttons in this button group.\n\t\t\t *\n\t\t\t * @param {String} value The value of the button to be chcked.\n\t\t\t * @param {Boolean} noChangeEvent Internal commit, to supress the `change` event on this element.\n\t\t\t */\n\t\t\tsetValue: function( value, noChangeEvent ) {\n\t\t\t\tvar children = this._.children,\n\t\t\t\t\titem;\n\t\t\t\tfor ( var i = 0;\n\t\t\t\t( i < children.length ) && ( item = children[ i ] ); i++ )\n\t\t\t\t\titem.getElement().$.checked = ( item.getValue() == value );\n\t\t\t\t!noChangeEvent && this.fire( 'change', { value: value } );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Gets the value of the currently selected radio button.\n\t\t\t *\n\t\t\t * @returns {String} The currently selected button's value.\n\t\t\t */\n\t\t\tgetValue: function() {\n\t\t\t\tvar children = this._.children;\n\t\t\t\tfor ( var i = 0; i < children.length; i++ ) {\n\t\t\t\t\tif ( children[ i ].getElement().$.checked )\n\t\t\t\t\t\treturn children[ i ].getValue();\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Handler for the access key up event. Focuses the currently\n\t\t\t * selected radio button, or the first radio button if none is selected.\n\t\t\t */\n\t\t\taccessKeyUp: function() {\n\t\t\t\tvar children = this._.children,\n\t\t\t\t\ti;\n\t\t\t\tfor ( i = 0; i < children.length; i++ ) {\n\t\t\t\t\tif ( children[ i ].getElement().$.checked ) {\n\t\t\t\t\t\tchildren[ i ].getElement().focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchildren[ 0 ].getElement().focus();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Defines the `onChange` event for UI element definitions.\n\t\t\t *\n\t\t\t * @property {Object}\n\t\t\t */\n\t\t\teventProcessors: {\n\t\t\t\tonChange: function( dialog, func ) {\n\t\t\t\t\tif ( !CKEDITOR.env.ie || ( CKEDITOR.env.version > 8 ) )\n\t\t\t\t\t\treturn commonEventProcessors.onChange.apply( this, arguments );\n\t\t\t\t\telse {\n\t\t\t\t\t\tdialog.on( 'load', function() {\n\t\t\t\t\t\t\tvar children = this._.children,\n\t\t\t\t\t\t\t\tme = this;\n\t\t\t\t\t\t\tfor ( var i = 0; i < children.length; i++ ) {\n\t\t\t\t\t\t\t\tvar element = children[ i ].getElement();\n\t\t\t\t\t\t\t\telement.on( 'propertychange', function( evt ) {\n\t\t\t\t\t\t\t\t\tevt = evt.data.$;\n\t\t\t\t\t\t\t\t\tif ( evt.propertyName == 'checked' && this.$.checked )\n\t\t\t\t\t\t\t\t\t\tme.fire( 'change', { value: this.getAttribute( 'value' ) } );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this );\n\t\t\t\t\t\tthis.on( 'change', func );\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}, commonPrototype, true );\n\n\t\t/** @class CKEDITOR.ui.dialog.file */\n\t\tCKEDITOR.ui.dialog.file.prototype = CKEDITOR.tools.extend( new CKEDITOR.ui.dialog.labeledElement(), commonPrototype, {\n\t\t\t/**\n\t\t\t * Gets the `<input>` element of this file input.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.dom.element} The file input element.\n\t\t\t */\n\t\t\tgetInputElement: function() {\n\t\t\t\tvar frameDocument = CKEDITOR.document.getById( this._.frameId ).getFrameDocument();\n\t\t\t\treturn frameDocument.$.forms.length > 0 ? new CKEDITOR.dom.element( frameDocument.$.forms[ 0 ].elements[ 0 ] ) : this.getElement();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Uploads the file in the file input.\n\t\t\t *\n\t\t\t * @returns {CKEDITOR.ui.dialog.file} This object.\n\t\t\t */\n\t\t\tsubmit: function() {\n\t\t\t\tthis.getInputElement().getParent().$.submit();\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Gets the action assigned to the form.\n\t\t\t *\n\t\t\t * @returns {String} The value of the action.\n\t\t\t */\n\t\t\tgetAction: function() {\n\t\t\t\treturn this.getInputElement().getParent().$.action;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The events must be applied to the inner input element, and\n\t\t\t * this must be done when the iframe and form have been loaded.\n\t\t\t */\n\t\t\tregisterEvents: function( definition ) {\n\t\t\t\tvar regex = /^on([A-Z]\\w+)/,\n\t\t\t\t\tmatch;\n\n\t\t\t\tvar registerDomEvent = function( uiElement, dialog, eventName, func ) {\n\t\t\t\t\t\tuiElement.on( 'formLoaded', function() {\n\t\t\t\t\t\t\tuiElement.getInputElement().on( eventName, func, uiElement );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\n\t\t\t\tfor ( var i in definition ) {\n\t\t\t\t\tif ( !( match = i.match( regex ) ) )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tif ( this.eventProcessors[ i ] )\n\t\t\t\t\t\tthis.eventProcessors[ i ].call( this, this._.dialog, definition[ i ] );\n\t\t\t\t\telse\n\t\t\t\t\t\tregisterDomEvent( this, this._.dialog, match[ 1 ].toLowerCase(), definition[ i ] );\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Redraws the file input and resets the file path in the file input.\n\t\t\t * The redrawing logic is necessary because non-IE browsers tend to clear\n\t\t\t * the `<iframe>` containing the file input after closing the dialog window.\n\t\t\t */\n\t\t\treset: function() {\n\t\t\t\tvar _ = this._,\n\t\t\t\t\tframeElement = CKEDITOR.document.getById( _.frameId ),\n\t\t\t\t\tframeDocument = frameElement.getFrameDocument(),\n\t\t\t\t\telementDefinition = _.definition,\n\t\t\t\t\tbuttons = _.buttons,\n\t\t\t\t\tcallNumber = this.formLoadedNumber,\n\t\t\t\t\tunloadNumber = this.formUnloadNumber,\n\t\t\t\t\tlangDir = _.dialog._.editor.lang.dir,\n\t\t\t\t\tlangCode = _.dialog._.editor.langCode;\n\n\t\t\t\t// The callback function for the iframe, but we must call tools.addFunction only once\n\t\t\t\t// so we store the function number in this.formLoadedNumber\n\t\t\t\tif ( !callNumber ) {\n\t\t\t\t\tcallNumber = this.formLoadedNumber = CKEDITOR.tools.addFunction( function() {\n\t\t\t\t\t\t// Now we can apply the events to the input type=file\n\t\t\t\t\t\tthis.fire( 'formLoaded' );\n\t\t\t\t\t}, this );\n\n\t\t\t\t\t// Remove listeners attached to the content of the iframe (the file input)\n\t\t\t\t\tunloadNumber = this.formUnloadNumber = CKEDITOR.tools.addFunction( function() {\n\t\t\t\t\t\tthis.getInputElement().clearCustomData();\n\t\t\t\t\t}, this );\n\n\t\t\t\t\tthis.getDialog()._.editor.on( 'destroy', function() {\n\t\t\t\t\t\tCKEDITOR.tools.removeFunction( callNumber );\n\t\t\t\t\t\tCKEDITOR.tools.removeFunction( unloadNumber );\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tfunction generateFormField() {\n\t\t\t\t\tframeDocument.$.open();\n\n\t\t\t\t\tvar size = '';\n\t\t\t\t\tif ( elementDefinition.size )\n\t\t\t\t\t\tsize = elementDefinition.size - ( CKEDITOR.env.ie ? 7 : 0 ); // \"Browse\" button is bigger in IE.\n\n\t\t\t\t\tvar inputId = _.frameId + '_input';\n\n\t\t\t\t\tframeDocument.$.write( [\n\t\t\t\t\t\t'<html dir=\"' + langDir + '\" lang=\"' + langCode + '\"><head><title></title></head><body style=\"margin: 0; overflow: hidden; background: transparent;\">',\n\t\t\t\t\t\t\t'<form enctype=\"multipart/form-data\" method=\"POST\" dir=\"' + langDir + '\" lang=\"' + langCode + '\" action=\"',\n\t\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( elementDefinition.action ),\n\t\t\t\t\t\t\t'\">',\n\t\t\t\t\t\t\t\t// Replicate the field label inside of iframe.\n\t\t\t\t\t\t\t\t'<label id=\"', _.labelId, '\" for=\"', inputId, '\" style=\"display:none\">',\n\t\t\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( elementDefinition.label ),\n\t\t\t\t\t\t\t\t'</label>',\n\t\t\t\t\t\t\t\t// Set width to make sure that input is not clipped by the iframe (#11253).\n\t\t\t\t\t\t\t\t'<input style=\"width:100%\" id=\"', inputId, '\" aria-labelledby=\"', _.labelId, '\" type=\"file\" name=\"',\n\t\t\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( elementDefinition.id || 'cke_upload' ),\n\t\t\t\t\t\t\t\t\t'\" size=\"',\n\t\t\t\t\t\t\t\t\tCKEDITOR.tools.htmlEncode( size > 0 ? size : '' ),\n\t\t\t\t\t\t\t\t'\" />',\n\t\t\t\t\t\t\t'</form>',\n\t\t\t\t\t\t'</body></html>',\n\t\t\t\t\t\t'<script>',\n\t\t\t\t\t\t\t// Support for custom document.domain in IE.\n\t\t\t\t\t\t\tCKEDITOR.env.ie ? '(' + CKEDITOR.tools.fixDomain + ')();' : '',\n\n\t\t\t\t\t\t\t'window.parent.CKEDITOR.tools.callFunction(' + callNumber + ');',\n\t\t\t\t\t\t\t'window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction(' + unloadNumber + ')}',\n\t\t\t\t\t\t'</script>'\n\t\t\t\t\t].join( '' ) );\n\n\t\t\t\t\tframeDocument.$.close();\n\n\t\t\t\t\tfor ( var i = 0; i < buttons.length; i++ )\n\t\t\t\t\t\tbuttons[ i ].enable();\n\t\t\t\t}\n\n\t\t\t\t// #3465: Wait for the browser to finish rendering the dialog first.\n\t\t\t\tif ( CKEDITOR.env.gecko )\n\t\t\t\t\tsetTimeout( generateFormField, 500 );\n\t\t\t\telse\n\t\t\t\t\tgenerateFormField();\n\t\t\t},\n\n\t\t\tgetValue: function() {\n\t\t\t\treturn this.getInputElement().$.value || '';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The default value of input `type=\"file\"` is an empty string, but during the initialization\n\t\t\t * of this UI element, the iframe still is not ready so it cannot be read from that object.\n\t\t\t * Setting it manually prevents later issues with the current value (`''`) being different\n\t\t\t * than the initial value (undefined as it asked for `.value` of a div).\n\t\t\t */\n\t\t\tsetInitValue: function() {\n\t\t\t\tthis._.initValue = '';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Defines the `onChange` event for UI element definitions.\n\t\t\t *\n\t\t\t * @property {Object}\n\t\t\t */\n\t\t\teventProcessors: {\n\t\t\t\tonChange: function( dialog, func ) {\n\t\t\t\t\t// If this method is called several times (I'm not sure about how this can happen but the default\n\t\t\t\t\t// onChange processor includes this protection)\n\t\t\t\t\t// In order to reapply to the new element, the property is deleted at the beggining of the registerEvents method\n\t\t\t\t\tif ( !this._.domOnChangeRegistered ) {\n\t\t\t\t\t\t// By listening for the formLoaded event, this handler will get reapplied when a new\n\t\t\t\t\t\t// form is created\n\t\t\t\t\t\tthis.on( 'formLoaded', function() {\n\t\t\t\t\t\t\tthis.getInputElement().on( 'change', function() {\n\t\t\t\t\t\t\t\tthis.fire( 'change', { value: this.getValue() } );\n\t\t\t\t\t\t\t}, this );\n\t\t\t\t\t\t}, this );\n\t\t\t\t\t\tthis._.domOnChangeRegistered = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.on( 'change', func );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeyboardFocusable: true\n\t\t}, true );\n\n\t\tCKEDITOR.ui.dialog.fileButton.prototype = new CKEDITOR.ui.dialog.button();\n\n\t\tCKEDITOR.ui.dialog.fieldset.prototype = CKEDITOR.tools.clone( CKEDITOR.ui.dialog.hbox.prototype );\n\n\t\tCKEDITOR.dialog.addUIElement( 'text', textBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'password', textBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'textarea', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'checkbox', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'radio', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'button', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'select', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'file', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'fileButton', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'html', commonBuilder );\n\t\tCKEDITOR.dialog.addUIElement( 'fieldset', containerBuilder );\n\t}\n} );\n\n/**\n * Fired when the value of the uiElement is changed.\n *\n * @event change\n * @member CKEDITOR.ui.dialog.uiElement\n */\n\n/**\n * Fired when the inner frame created by the element is ready.\n * Each time the button is used or the dialog window is loaded, a new\n * form might be created.\n *\n * @event formLoaded\n * @member CKEDITOR.ui.dialog.fileButton\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/dialogui/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tCKEDITOR.plugins.add( 'panel', {\n\t\tbeforeInit: function( editor ) {\n\t\t\teditor.ui.addHandler( CKEDITOR.UI_PANEL, CKEDITOR.ui.panel.handler );\n\t\t}\n\t} );\n\n\t/**\n\t * Panel UI element.\n\t *\n\t * @readonly\n\t * @property {String} [='panel']\n\t * @member CKEDITOR\n\t */\n\tCKEDITOR.UI_PANEL = 'panel';\n\n\t/**\n\t * @class\n\t * @constructor Creates a panel class instance.\n\t * @param {CKEDITOR.dom.document} document\n\t * @param {Object} definition\n\t */\n\tCKEDITOR.ui.panel = function( document, definition ) {\n\t\t// Copy all definition properties to this object.\n\t\tif ( definition )\n\t\t\tCKEDITOR.tools.extend( this, definition );\n\n\t\t// Set defaults.\n\t\tCKEDITOR.tools.extend( this, {\n\t\t\tclassName: '',\n\t\t\tcss: []\n\t\t} );\n\n\t\tthis.id = CKEDITOR.tools.getNextId();\n\t\tthis.document = document;\n\t\tthis.isFramed = this.forceIFrame || this.css.length;\n\n\t\tthis._ = {\n\t\t\tblocks: {}\n\t\t};\n\t};\n\n\t/**\n\t * Represents panel handler object.\n\t *\n\t * @class\n\t * @singleton\n\t * @extends CKEDITOR.ui.handlerDefinition\n\t */\n\tCKEDITOR.ui.panel.handler = {\n\t\t/**\n\t\t * Transforms a panel definition in a {@link CKEDITOR.ui.panel} instance.\n\t\t *\n\t\t * @param {Object} definition\n\t\t * @returns {CKEDITOR.ui.panel}\n\t\t */\n\t\tcreate: function( definition ) {\n\t\t\treturn new CKEDITOR.ui.panel( definition );\n\t\t}\n\t};\n\n\tvar panelTpl = CKEDITOR.addTemplate( 'panel', '<div lang=\"{langCode}\" id=\"{id}\" dir={dir}' +\n\t\t' class=\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\"' +\n\t\t' style=\"z-index:{z-index}\" role=\"presentation\">' +\n\t\t'{frame}' +\n\t\t'</div>' );\n\n\tvar frameTpl = CKEDITOR.addTemplate( 'panel-frame', '<iframe id=\"{id}\" class=\"cke_panel_frame\" role=\"presentation\" frameborder=\"0\" src=\"{src}\"></iframe>' );\n\n\tvar frameDocTpl = CKEDITOR.addTemplate( 'panel-frame-inner', '<!DOCTYPE html>' +\n\t\t'<html class=\"cke_panel_container {env}\" dir=\"{dir}\" lang=\"{langCode}\">' +\n\t\t\t'<head>{css}</head>' +\n\t\t\t'<body class=\"cke_{dir}\"' +\n\t\t\t\t' style=\"margin:0;padding:0\" onload=\"{onload}\"></body>' +\n\t\t'<\\/html>' );\n\n\t/** @class CKEDITOR.ui.panel */\n\tCKEDITOR.ui.panel.prototype = {\n\t\t/**\n\t\t * Renders the combo.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance which this button is\n\t\t * to be used by.\n\t\t * @param {Array} [output] The output array to which append the HTML relative\n\t\t * to this button.\n\t\t */\n\t\trender: function( editor, output ) {\n\t\t\tthis.getHolderElement = function() {\n\t\t\t\tvar holder = this._.holder;\n\n\t\t\t\tif ( !holder ) {\n\t\t\t\t\tif ( this.isFramed ) {\n\t\t\t\t\t\tvar iframe = this.document.getById( this.id + '_frame' ),\n\t\t\t\t\t\t\tparentDiv = iframe.getParent(),\n\t\t\t\t\t\t\tdoc = iframe.getFrameDocument();\n\n\t\t\t\t\t\t// Make it scrollable on iOS. (#8308)\n\t\t\t\t\t\tCKEDITOR.env.iOS && parentDiv.setStyles( {\n\t\t\t\t\t\t\t'overflow': 'scroll',\n\t\t\t\t\t\t\t'-webkit-overflow-scrolling': 'touch'\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tvar onLoad = CKEDITOR.tools.addFunction( CKEDITOR.tools.bind( function() {\n\t\t\t\t\t\t\tthis.isLoaded = true;\n\t\t\t\t\t\t\tif ( this.onLoad )\n\t\t\t\t\t\t\t\tthis.onLoad();\n\t\t\t\t\t\t}, this ) );\n\n\t\t\t\t\t\tdoc.write( frameDocTpl.output( CKEDITOR.tools.extend( {\n\t\t\t\t\t\t\tcss: CKEDITOR.tools.buildStyleHtml( this.css ),\n\t\t\t\t\t\t\tonload: 'window.parent.CKEDITOR.tools.callFunction(' + onLoad + ');'\n\t\t\t\t\t\t}, data ) ) );\n\n\t\t\t\t\t\tvar win = doc.getWindow();\n\n\t\t\t\t\t\t// Register the CKEDITOR global.\n\t\t\t\t\t\twin.$.CKEDITOR = CKEDITOR;\n\n\t\t\t\t\t\t// Arrow keys for scrolling is only preventable with 'keypress' event in Opera (#4534).\n\t\t\t\t\t\tdoc.on( 'keydown', function( evt ) {\n\t\t\t\t\t\t\tvar keystroke = evt.data.getKeystroke(),\n\t\t\t\t\t\t\t\tdir = this.document.getById( this.id ).getAttribute( 'dir' );\n\n\t\t\t\t\t\t\t// Delegate key processing to block.\n\t\t\t\t\t\t\tif ( this._.onKeyDown && this._.onKeyDown( keystroke ) === false ) {\n\t\t\t\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// ESC/ARROW-LEFT(ltr) OR ARROW-RIGHT(rtl)\n\t\t\t\t\t\t\tif ( keystroke == 27 || keystroke == ( dir == 'rtl' ? 39 : 37 ) ) {\n\t\t\t\t\t\t\t\tif ( this.onEscape && this.onEscape( keystroke ) === false )\n\t\t\t\t\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this );\n\n\t\t\t\t\t\tholder = doc.getBody();\n\t\t\t\t\t\tholder.unselectable();\n\t\t\t\t\t\tCKEDITOR.env.air && CKEDITOR.tools.callFunction( onLoad );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tholder = this.document.getById( this.id );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._.holder = holder;\n\t\t\t\t}\n\n\t\t\t\treturn holder;\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\teditorId: editor.id,\n\t\t\t\tid: this.id,\n\t\t\t\tlangCode: editor.langCode,\n\t\t\t\tdir: editor.lang.dir,\n\t\t\t\tcls: this.className,\n\t\t\t\tframe: '',\n\t\t\t\tenv: CKEDITOR.env.cssClass,\n\t\t\t\t'z-index': editor.config.baseFloatZIndex + 1\n\t\t\t};\n\n\t\t\tif ( this.isFramed ) {\n\t\t\t\t// With IE, the custom domain has to be taken care at first,\n\t\t\t\t// for other browers, the 'src' attribute should be left empty to\n\t\t\t\t// trigger iframe's 'load' event.\n\t\t\t\tvar src =\n\t\t\t\t\tCKEDITOR.env.air ? 'javascript:void(0)' : // jshint ignore:line\n\t\t\t\t\tCKEDITOR.env.ie ? 'javascript:void(function(){' + encodeURIComponent( // jshint ignore:line\n\t\t\t\t\t\t'document.open();' +\n\t\t\t\t\t\t// In IE, the document domain must be set any time we call document.open().\n\t\t\t\t\t\t'(' + CKEDITOR.tools.fixDomain + ')();' +\n\t\t\t\t\t\t'document.close();'\n\t\t\t\t\t) + '}())' :\n\t\t\t\t\t'';\n\n\t\t\t\tdata.frame = frameTpl.output( {\n\t\t\t\t\tid: this.id + '_frame',\n\t\t\t\t\tsrc: src\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tvar html = panelTpl.output( data );\n\n\t\t\tif ( output )\n\t\t\t\toutput.push( html );\n\n\t\t\treturn html;\n\t\t},\n\n\t\t/**\n\t\t * @todo\n\t\t */\n\t\taddBlock: function( name, block ) {\n\t\t\tblock = this._.blocks[ name ] = block instanceof CKEDITOR.ui.panel.block ? block : new CKEDITOR.ui.panel.block( this.getHolderElement(), block );\n\n\t\t\tif ( !this._.currentBlock )\n\t\t\t\tthis.showBlock( name );\n\n\t\t\treturn block;\n\t\t},\n\n\t\t/**\n\t\t * @todo\n\t\t */\n\t\tgetBlock: function( name ) {\n\t\t\treturn this._.blocks[ name ];\n\t\t},\n\n\t\t/**\n\t\t * @todo\n\t\t */\n\t\tshowBlock: function( name ) {\n\t\t\tvar blocks = this._.blocks,\n\t\t\t\tblock = blocks[ name ],\n\t\t\t\tcurrent = this._.currentBlock;\n\n\t\t\t// ARIA role works better in IE on the body element, while on the iframe\n\t\t\t// for FF. (#8864)\n\t\t\tvar holder = !this.forceIFrame || CKEDITOR.env.ie ? this._.holder : this.document.getById( this.id + '_frame' );\n\n\t\t\tif ( current )\n\t\t\t\tcurrent.hide();\n\n\t\t\tthis._.currentBlock = block;\n\n\t\t\tCKEDITOR.fire( 'ariaWidget', holder );\n\n\t\t\t// Reset the focus index, so it will always go into the first one.\n\t\t\tblock._.focusIndex = -1;\n\n\t\t\tthis._.onKeyDown = block.onKeyDown && CKEDITOR.tools.bind( block.onKeyDown, block );\n\n\t\t\tblock.show();\n\n\t\t\treturn block;\n\t\t},\n\n\t\t/**\n\t\t * @todo\n\t\t */\n\t\tdestroy: function() {\n\t\t\tthis.element && this.element.remove();\n\t\t}\n\t};\n\n\t/**\n\t * @class\n\t *\n\t * @todo class and all methods\n\t */\n\tCKEDITOR.ui.panel.block = CKEDITOR.tools.createClass( {\n\t\t/**\n\t\t * Creates a block class instances.\n\t\t *\n\t\t * @constructor\n\t\t * @todo\n\t\t */\n\t\t$: function( blockHolder, blockDefinition ) {\n\t\t\tthis.element = blockHolder.append( blockHolder.getDocument().createElement( 'div', {\n\t\t\t\tattributes: {\n\t\t\t\t\t'tabindex': -1,\n\t\t\t\t\t'class': 'cke_panel_block'\n\t\t\t\t},\n\t\t\t\tstyles: {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t}\n\t\t\t} ) );\n\n\t\t\t// Copy all definition properties to this object.\n\t\t\tif ( blockDefinition )\n\t\t\t\tCKEDITOR.tools.extend( this, blockDefinition );\n\n\t\t\t// Set the a11y attributes of this element ...\n\t\t\tthis.element.setAttributes( {\n\t\t\t\t'role': this.attributes.role || 'presentation',\n\t\t\t\t'aria-label': this.attributes[ 'aria-label' ],\n\t\t\t\t'title': this.attributes.title || this.attributes[ 'aria-label' ]\n\t\t\t} );\n\n\t\t\tthis.keys = {};\n\n\t\t\tthis._.focusIndex = -1;\n\n\t\t\t// Disable context menu for panels.\n\t\t\tthis.element.disableContextMenu();\n\t\t},\n\n\t\t_: {\n\n\t\t\t/**\n\t\t\t * Mark the item specified by the index as current activated.\n\t\t\t */\n\t\t\tmarkItem: function( index ) {\n\t\t\t\tif ( index == -1 )\n\t\t\t\t\treturn;\n\t\t\t\tvar links = this.element.getElementsByTag( 'a' );\n\t\t\t\tvar item = links.getItem( this._.focusIndex = index );\n\n\t\t\t\t// Safari need focus on the iframe window first(#3389), but we need\n\t\t\t\t// lock the blur to avoid hiding the panel.\n\t\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\t\titem.getDocument().getWindow().focus();\n\t\t\t\titem.focus();\n\n\t\t\t\tthis.onMark && this.onMark( item );\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\t\t\tshow: function() {\n\t\t\t\tthis.element.setStyle( 'display', '' );\n\t\t\t},\n\n\t\t\thide: function() {\n\t\t\t\tif ( !this.onHide || this.onHide.call( this ) !== true )\n\t\t\t\t\tthis.element.setStyle( 'display', 'none' );\n\t\t\t},\n\n\t\t\tonKeyDown: function( keystroke, noCycle ) {\n\t\t\t\tvar keyAction = this.keys[ keystroke ];\n\t\t\t\tswitch ( keyAction ) {\n\t\t\t\t\t// Move forward.\n\t\t\t\t\tcase 'next':\n\t\t\t\t\t\tvar index = this._.focusIndex,\n\t\t\t\t\t\t\tlinks = this.element.getElementsByTag( 'a' ),\n\t\t\t\t\t\t\tlink;\n\n\t\t\t\t\t\twhile ( ( link = links.getItem( ++index ) ) ) {\n\t\t\t\t\t\t\t// Move the focus only if the element is marked with\n\t\t\t\t\t\t\t// the _cke_focus and it it's visible (check if it has\n\t\t\t\t\t\t\t// width).\n\t\t\t\t\t\t\tif ( link.getAttribute( '_cke_focus' ) && link.$.offsetWidth ) {\n\t\t\t\t\t\t\t\tthis._.focusIndex = index;\n\t\t\t\t\t\t\t\tlink.focus();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If no link was found, cycle and restart from the top. (#11125)\n\t\t\t\t\t\tif ( !link && !noCycle ) {\n\t\t\t\t\t\t\tthis._.focusIndex = -1;\n\t\t\t\t\t\t\treturn this.onKeyDown( keystroke, 1 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\t// Move backward.\n\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\tindex = this._.focusIndex;\n\t\t\t\t\t\tlinks = this.element.getElementsByTag( 'a' );\n\n\t\t\t\t\t\twhile ( index > 0 && ( link = links.getItem( --index ) ) ) {\n\t\t\t\t\t\t\t// Move the focus only if the element is marked with\n\t\t\t\t\t\t\t// the _cke_focus and it it's visible (check if it has\n\t\t\t\t\t\t\t// width).\n\t\t\t\t\t\t\tif ( link.getAttribute( '_cke_focus' ) && link.$.offsetWidth ) {\n\t\t\t\t\t\t\t\tthis._.focusIndex = index;\n\t\t\t\t\t\t\t\tlink.focus();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Make sure link is null when the loop ends and nothing was\n\t\t\t\t\t\t\t// found (#11125).\n\t\t\t\t\t\t\tlink = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If no link was found, cycle and restart from the bottom. (#11125)\n\t\t\t\t\t\tif ( !link && !noCycle ) {\n\t\t\t\t\t\t\tthis._.focusIndex = links.count();\n\t\t\t\t\t\t\treturn this.onKeyDown( keystroke, 1 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\tcase 'click':\n\t\t\t\t\tcase 'mouseup':\n\t\t\t\t\t\tindex = this._.focusIndex;\n\t\t\t\t\t\tlink = index >= 0 && this.element.getElementsByTag( 'a' ).getItem( index );\n\n\t\t\t\t\t\tif ( link )\n\t\t\t\t\t\t\tlink.$[ keyAction ] ? link.$[ keyAction ]() : link.$[ 'on' + keyAction ]();\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} );\n\n} )();\n\n/**\n * Fired when a panel is added to the document.\n *\n * @event ariaWidget\n * @member CKEDITOR\n * @param {Object} data The element wrapping the panel.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/panel/plugin.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'listblock', {\n\trequires: 'panel',\n\n\tonLoad: function() {\n\t\tvar list = CKEDITOR.addTemplate( 'panel-list', '<ul role=\"presentation\" class=\"cke_panel_list\">{items}</ul>' ),\n\t\t\tlistItem = CKEDITOR.addTemplate( 'panel-list-item', '<li id=\"{id}\" class=\"cke_panel_listItem\" role=presentation>' +\n\t\t\t\t'<a id=\"{id}_option\" _cke_focus=1 hidefocus=true' +\n\t\t\t\t\t' title=\"{title}\"' +\n\t\t\t\t\t' href=\"javascript:void(\\'{val}\\')\" ' +\n\t\t\t\t\t' {onclick}=\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\"' + // #188\n\t\t\t\t\t\t' role=\"option\">' +\n\t\t\t\t\t'{text}' +\n\t\t\t\t'</a>' +\n\t\t\t\t'</li>' ),\n\t\t\tlistGroup = CKEDITOR.addTemplate( 'panel-list-group', '<h1 id=\"{id}\" class=\"cke_panel_grouptitle\" role=\"presentation\" >{label}</h1>' ),\n\t\t\treSingleQuote = /\\'/g,\n\t\t\tescapeSingleQuotes = function( str ) {\n\t\t\t\treturn str.replace( reSingleQuote, '\\\\\\'' );\n\t\t\t};\n\n\t\tCKEDITOR.ui.panel.prototype.addListBlock = function( name, definition ) {\n\t\t\treturn this.addBlock( name, new CKEDITOR.ui.listBlock( this.getHolderElement(), definition ) );\n\t\t};\n\n\t\tCKEDITOR.ui.listBlock = CKEDITOR.tools.createClass( {\n\t\t\tbase: CKEDITOR.ui.panel.block,\n\n\t\t\t$: function( blockHolder, blockDefinition ) {\n\t\t\t\tblockDefinition = blockDefinition || {};\n\n\t\t\t\tvar attribs = blockDefinition.attributes || ( blockDefinition.attributes = {} );\n\t\t\t\t( this.multiSelect = !!blockDefinition.multiSelect ) && ( attribs[ 'aria-multiselectable' ] = true );\n\t\t\t\t// Provide default role of 'listbox'.\n\t\t\t\t!attribs.role && ( attribs.role = 'listbox' );\n\n\t\t\t\t// Call the base contructor.\n\t\t\t\tthis.base.apply( this, arguments );\n\n\t\t\t\t// Set the proper a11y attributes.\n\t\t\t\tthis.element.setAttribute( 'role', attribs.role );\n\n\t\t\t\tvar keys = this.keys;\n\t\t\t\tkeys[ 40 ] = 'next'; // ARROW-DOWN\n\t\t\t\tkeys[ 9 ] = 'next'; // TAB\n\t\t\t\tkeys[ 38 ] = 'prev'; // ARROW-UP\n\t\t\t\tkeys[ CKEDITOR.SHIFT + 9 ] = 'prev'; // SHIFT + TAB\n\t\t\t\tkeys[ 32 ] = CKEDITOR.env.ie ? 'mouseup' : 'click'; // SPACE\n\t\t\t\tCKEDITOR.env.ie && ( keys[ 13 ] = 'mouseup' ); // Manage ENTER, since onclick is blocked in IE (#8041).\n\n\t\t\t\tthis._.pendingHtml = [];\n\t\t\t\tthis._.pendingList = [];\n\t\t\t\tthis._.items = {};\n\t\t\t\tthis._.groups = {};\n\t\t\t},\n\n\t\t\t_: {\n\t\t\t\tclose: function() {\n\t\t\t\t\tif ( this._.started ) {\n\t\t\t\t\t\tvar output = list.output( { items: this._.pendingList.join( '' ) } );\n\t\t\t\t\t\tthis._.pendingList = [];\n\t\t\t\t\t\tthis._.pendingHtml.push( output );\n\t\t\t\t\t\tdelete this._.started;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tgetClick: function() {\n\t\t\t\t\tif ( !this._.click ) {\n\t\t\t\t\t\tthis._.click = CKEDITOR.tools.addFunction( function( value ) {\n\t\t\t\t\t\t\tvar marked = this.toggle( value );\n\t\t\t\t\t\t\tif ( this.onClick )\n\t\t\t\t\t\t\t\tthis.onClick( value, marked );\n\t\t\t\t\t\t}, this );\n\t\t\t\t\t}\n\t\t\t\t\treturn this._.click;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tproto: {\n\t\t\t\tadd: function( value, html, title ) {\n\t\t\t\t\tvar id = CKEDITOR.tools.getNextId();\n\n\t\t\t\t\tif ( !this._.started ) {\n\t\t\t\t\t\tthis._.started = 1;\n\t\t\t\t\t\tthis._.size = this._.size || 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._.items[ value ] = id;\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\tval: escapeSingleQuotes( CKEDITOR.tools.htmlEncodeAttr( value ) ),\n\t\t\t\t\t\tonclick: CKEDITOR.env.ie ? 'onclick=\"return false;\" onmouseup' : 'onclick',\n\t\t\t\t\t\tclickFn: this._.getClick(),\n\t\t\t\t\t\ttitle: CKEDITOR.tools.htmlEncodeAttr( title || value ),\n\t\t\t\t\t\ttext: html || value\n\t\t\t\t\t};\n\n\t\t\t\t\tthis._.pendingList.push( listItem.output( data ) );\n\t\t\t\t},\n\n\t\t\t\tstartGroup: function( title ) {\n\t\t\t\t\tthis._.close();\n\n\t\t\t\t\tvar id = CKEDITOR.tools.getNextId();\n\n\t\t\t\t\tthis._.groups[ title ] = id;\n\n\t\t\t\t\tthis._.pendingHtml.push( listGroup.output( { id: id, label: title } ) );\n\t\t\t\t},\n\n\t\t\t\tcommit: function() {\n\t\t\t\t\tthis._.close();\n\t\t\t\t\tthis.element.appendHtml( this._.pendingHtml.join( '' ) );\n\t\t\t\t\tdelete this._.size;\n\n\t\t\t\t\tthis._.pendingHtml = [];\n\t\t\t\t},\n\n\t\t\t\ttoggle: function( value ) {\n\t\t\t\t\tvar isMarked = this.isMarked( value );\n\n\t\t\t\t\tif ( isMarked )\n\t\t\t\t\t\tthis.unmark( value );\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.mark( value );\n\n\t\t\t\t\treturn !isMarked;\n\t\t\t\t},\n\n\t\t\t\thideGroup: function( groupTitle ) {\n\t\t\t\t\tvar group = this.element.getDocument().getById( this._.groups[ groupTitle ] ),\n\t\t\t\t\t\tlist = group && group.getNext();\n\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tgroup.setStyle( 'display', 'none' );\n\n\t\t\t\t\t\tif ( list && list.getName() == 'ul' )\n\t\t\t\t\t\t\tlist.setStyle( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\thideItem: function( value ) {\n\t\t\t\t\tthis.element.getDocument().getById( this._.items[ value ] ).setStyle( 'display', 'none' );\n\t\t\t\t},\n\n\t\t\t\tshowAll: function() {\n\t\t\t\t\tvar items = this._.items,\n\t\t\t\t\t\tgroups = this._.groups,\n\t\t\t\t\t\tdoc = this.element.getDocument();\n\n\t\t\t\t\tfor ( var value in items ) {\n\t\t\t\t\t\tdoc.getById( items[ value ] ).setStyle( 'display', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var title in groups ) {\n\t\t\t\t\t\tvar group = doc.getById( groups[ title ] ),\n\t\t\t\t\t\t\tlist = group.getNext();\n\n\t\t\t\t\t\tgroup.setStyle( 'display', '' );\n\n\t\t\t\t\t\tif ( list && list.getName() == 'ul' )\n\t\t\t\t\t\t\tlist.setStyle( 'display', '' );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tmark: function( value ) {\n\t\t\t\t\tif ( !this.multiSelect )\n\t\t\t\t\t\tthis.unmarkAll();\n\n\t\t\t\t\tvar itemId = this._.items[ value ],\n\t\t\t\t\t\titem = this.element.getDocument().getById( itemId );\n\t\t\t\t\titem.addClass( 'cke_selected' );\n\n\t\t\t\t\tthis.element.getDocument().getById( itemId + '_option' ).setAttribute( 'aria-selected', true );\n\t\t\t\t\tthis.onMark && this.onMark( item );\n\t\t\t\t},\n\n\t\t\t\tunmark: function( value ) {\n\t\t\t\t\tvar doc = this.element.getDocument(),\n\t\t\t\t\t\titemId = this._.items[ value ],\n\t\t\t\t\t\titem = doc.getById( itemId );\n\n\t\t\t\t\titem.removeClass( 'cke_selected' );\n\t\t\t\t\tdoc.getById( itemId + '_option' ).removeAttribute( 'aria-selected' );\n\n\t\t\t\t\tthis.onUnmark && this.onUnmark( item );\n\t\t\t\t},\n\n\t\t\t\tunmarkAll: function() {\n\t\t\t\t\tvar items = this._.items,\n\t\t\t\t\t\tdoc = this.element.getDocument();\n\n\t\t\t\t\tfor ( var value in items ) {\n\t\t\t\t\t\tvar itemId = items[ value ];\n\n\t\t\t\t\t\tdoc.getById( itemId ).removeClass( 'cke_selected' );\n\t\t\t\t\t\tdoc.getById( itemId + '_option' ).removeAttribute( 'aria-selected' );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.onUnmark && this.onUnmark();\n\t\t\t\t},\n\n\t\t\t\tisMarked: function( value ) {\n\t\t\t\t\treturn this.element.getDocument().getById( this._.items[ value ] ).hasClass( 'cke_selected' );\n\t\t\t\t},\n\n\t\t\t\tfocus: function( value ) {\n\t\t\t\t\tthis._.focusIndex = -1;\n\n\t\t\t\t\tvar links = this.element.getElementsByTag( 'a' ),\n\t\t\t\t\t\tlink,\n\t\t\t\t\t\tselected,\n\t\t\t\t\t\ti = -1;\n\n\t\t\t\t\tif ( value ) {\n\t\t\t\t\t\tselected = this.element.getDocument().getById( this._.items[ value ] ).getFirst();\n\n\t\t\t\t\t\twhile ( ( link = links.getItem( ++i ) ) ) {\n\t\t\t\t\t\t\tif ( link.equals( selected ) ) {\n\t\t\t\t\t\t\t\tthis._.focusIndex = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.element.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tselected && setTimeout( function() {\n\t\t\t\t\t\tselected.focus();\n\t\t\t\t\t}, 0 );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/listblock/plugin.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'about', 'zh-cn', {\n\tcopy: '版权所有 &copy; $1。<br />保留所有权利。',\n\tdlgTitle: '关于 CKEditor',\n\thelp: '访问 $1 以获取帮助。',\n\tmoreInfo: '相关授权许可信息请访问我们的网站：',\n\ttitle: '关于 CKEditor',\n\tuserGuide: 'CKEditor 用户向导'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/about/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'basicstyles', 'zh-cn', {\n\tbold: '加粗',\n\titalic: '倾斜',\n\tstrike: '删除线',\n\tsubscript: '下标',\n\tsuperscript: '上标',\n\tunderline: '下划线'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/basicstyles/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'bidi', 'zh-cn', {\n\tltr: '文字方向为从左至右',\n\trtl: '文字方向为从右至左'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/bidi/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'blockquote', 'zh-cn', {\n\ttoolbar: '块引用'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/blockquote/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'colorbutton', 'zh-cn', {\n\tauto: '自动',\n\tbgColorTitle: '背景颜色',\n\tcolors: {\n\t\t'000': '黑',\n\t\t'800000': '褐红',\n\t\t'8B4513': '深褐',\n\t\t'2F4F4F': '墨绿',\n\t\t'008080': '绿松石',\n\t\t'000080': '海军蓝',\n\t\t'4B0082': '靛蓝',\n\t\t'696969': '暗灰',\n\t\tB22222: '砖红',\n\t\tA52A2A: '褐',\n\t\tDAA520: '金黄',\n\t\t'006400': '深绿',\n\t\t'40E0D0': '蓝绿',\n\t\t'0000CD': '中蓝',\n\t\t'800080': '紫',\n\t\t'808080': '灰',\n\t\tF00: '红',\n\t\tFF8C00: '深橙',\n\t\tFFD700: '金',\n\t\t'008000': '绿',\n\t\t'0FF': '青',\n\t\t'00F': '蓝',\n\t\tEE82EE: '紫罗兰',\n\t\tA9A9A9: '深灰',\n\t\tFFA07A: '亮橙',\n\t\tFFA500: '橙',\n\t\tFFFF00: '黄',\n\t\t'00FF00': '水绿',\n\t\tAFEEEE: '粉蓝',\n\t\tADD8E6: '亮蓝',\n\t\tDDA0DD: '梅红',\n\t\tD3D3D3: '淡灰',\n\t\tFFF0F5: '淡紫红',\n\t\tFAEBD7: '古董白',\n\t\tFFFFE0: '淡黄',\n\t\tF0FFF0: '蜜白',\n\t\tF0FFFF: '天蓝',\n\t\tF0F8FF: '淡蓝',\n\t\tE6E6FA: '淡紫',\n\t\tFFF: '白'\n\t},\n\tmore: '其它颜色...',\n\tpanelTitle: '颜色',\n\ttextColorTitle: '文本颜色'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/colorbutton/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'clipboard', 'zh-cn', {\n\tcopy: '复制',\n\tcopyError: '您的浏览器安全设置不允许编辑器自动执行复制操作，请使用键盘快捷键(Ctrl/Cmd+C)来完成。',\n\tcut: '剪切',\n\tcutError: '您的浏览器安全设置不允许编辑器自动执行剪切操作，请使用键盘快捷键(Ctrl/Cmd+X)来完成。',\n\tpaste: '粘贴',\n\tpasteArea: '粘贴区域',\n\tpasteMsg: '请使用键盘快捷键(<STRONG>Ctrl/Cmd+V</STRONG>)把内容粘贴到下面的方框里，再按 <STRONG>确定</STRONG>',\n\tsecurityMsg: '因为您的浏览器的安全设置原因，本编辑器不能直接访问您的剪贴板内容，你需要在本窗口重新粘贴一次。',\n\ttitle: '粘贴'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/clipboard/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'contextmenu', 'zh-cn', {\n\toptions: '快捷菜单选项'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/contextmenu/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'colordialog', 'zh-cn', {\n\tclear: '清除',\n\thighlight: '高亮',\n\toptions: '颜色选项',\n\tselected: '选择颜色',\n\ttitle: '选择颜色'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/colordialog/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'elementspath', 'zh-cn', {\n\teleLabel: '元素路径',\n\teleTitle: '%1 元素'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/elementspath/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'div', 'zh-cn', {\n\tIdInputLabel: 'ID',\n\tadvisoryTitleInputLabel: '标题',\n\tcssClassInputLabel: '样式类名称',\n\tedit: '编辑 DIV',\n\tinlineStyleInputLabel: '行内样式',\n\tlangDirLTRLabel: '从左到右 (LTR)',\n\tlangDirLabel: '语言方向',\n\tlangDirRTLLabel: '从右到左 (RTL)',\n\tlanguageCodeInputLabel: '语言代码',\n\tremove: '移除 DIV',\n\tstyleSelectLabel: '样式',\n\ttitle: '创建 DIV 容器',\n\ttoolbar: '创建 DIV 容器'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/div/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'find', 'zh-cn', {\n\tfind: '查找',\n\tfindOptions: '查找选项',\n\tfindWhat: '查找:',\n\tmatchCase: '区分大小写',\n\tmatchCyclic: '循环匹配',\n\tmatchWord: '全字匹配',\n\tnotFoundMsg: '指定的文本没有找到。',\n\treplace: '替换',\n\treplaceAll: '全部替换',\n\treplaceSuccessMsg: '共完成 %1 处替换。',\n\treplaceWith: '替换:',\n\ttitle: '查找和替换'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/find/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'flash', 'zh-cn', {\n\taccess: '允许脚本访问',\n\taccessAlways: '总是',\n\taccessNever: '从不',\n\taccessSameDomain: '同域',\n\talignAbsBottom: '绝对底部',\n\talignAbsMiddle: '绝对居中',\n\talignBaseline: '基线',\n\talignTextTop: '文本上方',\n\tbgcolor: '背景颜色',\n\tchkFull: '启用全屏',\n\tchkLoop: '循环',\n\tchkMenu: '启用 Flash 菜单',\n\tchkPlay: '自动播放',\n\tflashvars: 'Flash 变量',\n\thSpace: '水平间距',\n\tproperties: 'Flash 属性',\n\tpropertiesTab: '属性',\n\tquality: '质量',\n\tqualityAutoHigh: '高(自动)',\n\tqualityAutoLow: '低(自动)',\n\tqualityBest: '最好',\n\tqualityHigh: '高',\n\tqualityLow: '低',\n\tqualityMedium: '中(自动)',\n\tscale: '缩放',\n\tscaleAll: '全部显示',\n\tscaleFit: '严格匹配',\n\tscaleNoBorder: '无边框',\n\ttitle: '标题',\n\tvSpace: '垂直间距',\n\tvalidateHSpace: '水平间距必须为数字格式',\n\tvalidateSrc: '请输入源文件地址',\n\tvalidateVSpace: '垂直间距必须为数字格式',\n\twindowMode: '窗体模式',\n\twindowModeOpaque: '不透明',\n\twindowModeTransparent: '透明',\n\twindowModeWindow: '窗体'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/flash/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'font', 'zh-cn', {\n\tfontSize: {\n\t\tlabel: '大小',\n\t\tvoiceLabel: '文字大小',\n\t\tpanelTitle: '大小'\n\t},\n\tlabel: '字体',\n\tpanelTitle: '字体',\n\tvoiceLabel: '字体'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/font/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'forms', 'zh-cn', {\n\tbutton: {\n\t\ttitle: '按钮属性',\n\t\ttext: '标签(值)',\n\t\ttype: '类型',\n\t\ttypeBtn: '按钮',\n\t\ttypeSbm: '提交',\n\t\ttypeRst: '重设'\n\t},\n\tcheckboxAndRadio: {\n\t\tcheckboxTitle: '复选框属性',\n\t\tradioTitle: '单选按钮属性',\n\t\tvalue: '选定值',\n\t\tselected: '已勾选',\n\t\trequired: '必选'\n\t},\n\tform: {\n\t\ttitle: '表单属性',\n\t\tmenu: '表单属性',\n\t\taction: '动作',\n\t\tmethod: '方法',\n\t\tencoding: '表单编码'\n\t},\n\thidden: {\n\t\ttitle: '隐藏域属性',\n\t\tname: '名称',\n\t\tvalue: '初始值'\n\t},\n\tselect: {\n\t\ttitle: '菜单/列表属性',\n\t\tselectInfo: '选择信息',\n\t\topAvail: '可选项',\n\t\tvalue: '值',\n\t\tsize: '高度',\n\t\tlines: '行',\n\t\tchkMulti: '允许多选',\n\t\trequired: '必选',\n\t\topText: '选项文本',\n\t\topValue: '选项值',\n\t\tbtnAdd: '添加',\n\t\tbtnModify: '修改',\n\t\tbtnUp: '上移',\n\t\tbtnDown: '下移',\n\t\tbtnSetValue: '设为初始选定',\n\t\tbtnDelete: '删除'\n\t},\n\ttextarea: {\n\t\ttitle: '多行文本属性',\n\t\tcols: '字符宽度',\n\t\trows: '行数'\n\t},\n\ttextfield: {\n\t\ttitle: '单行文本属性',\n\t\tname: '名称',\n\t\tvalue: '初始值',\n\t\tcharWidth: '字符宽度',\n\t\tmaxChars: '最多字符数',\n\t\trequired: '必填',\n\t\ttype: '类型',\n\t\ttypeText: '文本',\n\t\ttypePass: '密码',\n\t\ttypeEmail: 'Email',\n\t\ttypeSearch: '搜索',\n\t\ttypeTel: '电话号码',\n\t\ttypeUrl: '地址'\n\t}\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'format', 'zh-cn', {\n\tlabel: '格式',\n\tpanelTitle: '格式',\n\ttag_address: '地址',\n\ttag_div: '段落(DIV)',\n\ttag_h1: '标题 1',\n\ttag_h2: '标题 2',\n\ttag_h3: '标题 3',\n\ttag_h4: '标题 4',\n\ttag_h5: '标题 5',\n\ttag_h6: '标题 6',\n\ttag_p: '普通',\n\ttag_pre: '已编排格式'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/format/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'horizontalrule', 'zh-cn', {\n\ttoolbar: '插入水平线'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/horizontalrule/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'image', 'zh-cn', {\n\talt: '替换文本',\n\tborder: '边框大小',\n\tbtnUpload: '上传到服务器',\n\tbutton2Img: '确定要把当前图像按钮转换为普通图像吗？',\n\thSpace: '水平间距',\n\timg2Button: '确定要把当前图像改变为图像按钮吗？',\n\tinfoTab: '图像信息',\n\tlinkTab: '链接',\n\tlockRatio: '锁定比例',\n\tmenu: '图像属性',\n\tresetSize: '原始尺寸',\n\ttitle: '图像属性',\n\ttitleButton: '图像域属性',\n\tupload: '上传',\n\turlMissing: '缺少图像源文件地址',\n\tvSpace: '垂直间距',\n\tvalidateBorder: '边框大小必须为整数格式',\n\tvalidateHSpace: '水平间距必须为整数格式',\n\tvalidateVSpace: '垂直间距必须为整数格式'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/image/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'iframe', 'zh-cn', {\n\tborder: '显示框架边框',\n\tnoUrl: '请输入框架的 URL',\n\tscrolling: '允许滚动条',\n\ttitle: 'IFrame 属性',\n\ttoolbar: 'IFrame'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/iframe/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'justify', 'zh-cn', {\n\tblock: '两端对齐',\n\tcenter: '居中',\n\tleft: '左对齐',\n\tright: '右对齐'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/justify/lang/zh-cn.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.setLang( 'language', 'zh-cn', {\n\tbutton: '设置语言',\n\tremove: '移除语言'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/language/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'link', 'zh-cn', {\n\tacccessKey: '访问键',\n\tadvanced: '高级',\n\tadvisoryContentType: '内容类型',\n\tadvisoryTitle: '标题',\n\tanchor: {\n\t\ttoolbar: '插入/编辑锚点链接',\n\t\tmenu: '锚点链接属性',\n\t\ttitle: '锚点链接属性',\n\t\tname: '锚点名称',\n\t\terrorName: '请输入锚点名称',\n\t\tremove: '删除锚点'\n\t},\n\tanchorId: '按锚点 ID',\n\tanchorName: '按锚点名称',\n\tcharset: '字符编码',\n\tcssClasses: '样式类名称',\n\temailAddress: '地址',\n\temailBody: '内容',\n\temailSubject: '主题',\n\tid: 'ID',\n\tinfo: '超链接信息',\n\tlangCode: '语言代码',\n\tlangDir: '语言方向',\n\tlangDirLTR: '从左到右 (LTR)',\n\tlangDirRTL: '从右到左 (RTL)',\n\tmenu: '编辑超链接',\n\tname: '名称',\n\tnoAnchors: '(此文档没有可用的锚点)',\n\tnoEmail: '请输入电子邮件地址',\n\tnoUrl: '请输入超链接地址',\n\tother: '<其他>',\n\tpopupDependent: '依附 (NS)',\n\tpopupFeatures: '弹出窗口属性',\n\tpopupFullScreen: '全屏 (IE)',\n\tpopupLeft: '左',\n\tpopupLocationBar: '地址栏',\n\tpopupMenuBar: '菜单栏',\n\tpopupResizable: '可缩放',\n\tpopupScrollBars: '滚动条',\n\tpopupStatusBar: '状态栏',\n\tpopupToolbar: '工具栏',\n\tpopupTop: '右',\n\trel: '关联',\n\tselectAnchor: '选择一个锚点',\n\tstyles: '行内样式',\n\ttabIndex: 'Tab 键次序',\n\ttarget: '目标',\n\ttargetFrame: '<框架>',\n\ttargetFrameName: '目标框架名称',\n\ttargetPopup: '<弹出窗口>',\n\ttargetPopupName: '弹出窗口名称',\n\ttitle: '超链接',\n\ttoAnchor: '页内锚点链接',\n\ttoEmail: '电子邮件',\n\ttoUrl: '地址',\n\ttoolbar: '插入/编辑超链接',\n\ttype: '超链接类型',\n\tunlink: '取消超链接',\n\tupload: '上传'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/link/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'list', 'zh-cn', {\n\tbulletedlist: '项目列表',\n\tnumberedlist: '编号列表'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/list/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'liststyle', 'zh-cn', {\n\tarmenian: '传统的亚美尼亚编号方式',\n\tbulletedTitle: '项目列表属性',\n\tcircle: '空心圆',\n\tdecimal: '数字 (1, 2, 3, 等)',\n\tdecimalLeadingZero: '0开头的数字标记(01, 02, 03, 等)',\n\tdisc: '实心圆',\n\tgeorgian: '传统的乔治亚编号方式(an, ban, gan, 等)',\n\tlowerAlpha: '小写英文字母(a, b, c, d, e, 等)',\n\tlowerGreek: '小写希腊字母(alpha, beta, gamma, 等)',\n\tlowerRoman: '小写罗马数字(i, ii, iii, iv, v, 等)',\n\tnone: '无标记',\n\tnotset: '<没有设置>',\n\tnumberedTitle: '编号列表属性',\n\tsquare: '实心方块',\n\tstart: '开始序号',\n\ttype: '标记类型',\n\tupperAlpha: '大写英文字母(A, B, C, D, E, 等)',\n\tupperRoman: '大写罗马数字(I, II, III, IV, V, 等)',\n\tvalidateStartNumber: '列表开始序号必须为整数格式'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/liststyle/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'maximize', 'zh-cn', {\n\tmaximize: '全屏',\n\tminimize: '最小化'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/maximize/lang/zh-cn.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.setLang( 'magicline', 'zh-cn', {\n\ttitle: '在这插入段落'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/magicline/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'newpage', 'zh-cn', {\n\ttoolbar: '新建'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/newpage/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'pastefromword', 'zh-cn', {\n\tconfirmCleanup: '您要粘贴的内容好像是来自 MS Word，是否要清除 MS Word 格式后再粘贴？',\n\terror: '由于内部错误无法清理要粘贴的数据',\n\ttitle: '从 MS Word 粘贴',\n\ttoolbar: '从 MS Word 粘贴'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/pastefromword/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'pagebreak', 'zh-cn', {\n\talt: '分页符',\n\ttoolbar: '插入打印分页符'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/pagebreak/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'pastetext', 'zh-cn', {\n\tbutton: '粘贴为无格式文本',\n\ttitle: '粘贴为无格式文本'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/pastetext/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'preview', 'zh-cn', {\n\tpreview: '预览'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/preview/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'print', 'zh-cn', {\n\ttoolbar: '打印'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/print/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'removeformat', 'zh-cn', {\n\ttoolbar: '清除格式'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/removeformat/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'save', 'zh-cn', {\n\ttoolbar: '保存'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/save/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'selectall', 'zh-cn', {\n\ttoolbar: '全选'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/selectall/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'showblocks', 'zh-cn', {\n\ttoolbar: '显示区块'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/showblocks/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'smiley', 'zh-cn', {\n\toptions: '表情图标选项',\n\ttitle: '插入表情图标',\n\ttoolbar: '表情符'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/smiley/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'sourcearea', 'zh-cn', {\n\ttoolbar: '源码'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/sourcearea/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'specialchar', 'zh-cn', {\n\toptions: '特殊符号选项',\n\ttitle: '选择特殊符号',\n\ttoolbar: '插入特殊符号'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/specialchar/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'stylescombo', 'zh-cn', {\n\tlabel: '样式',\n\tpanelTitle: '样式',\n\tpanelTitle1: '块级元素样式',\n\tpanelTitle2: '内联元素样式',\n\tpanelTitle3: '对象元素样式'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/stylescombo/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'table', 'zh-cn', {\n\tborder: '边框',\n\tcaption: '标题',\n\tcell: {\n\t\tmenu: '单元格',\n\t\tinsertBefore: '在左侧插入单元格',\n\t\tinsertAfter: '在右侧插入单元格',\n\t\tdeleteCell: '删除单元格',\n\t\tmerge: '合并单元格',\n\t\tmergeRight: '向右合并单元格',\n\t\tmergeDown: '向下合并单元格',\n\t\tsplitHorizontal: '水平拆分单元格',\n\t\tsplitVertical: '垂直拆分单元格',\n\t\ttitle: '单元格属性',\n\t\tcellType: '单元格类型',\n\t\trowSpan: '纵跨行数',\n\t\tcolSpan: '横跨列数',\n\t\twordWrap: '自动换行',\n\t\thAlign: '水平对齐',\n\t\tvAlign: '垂直对齐',\n\t\talignBaseline: '基线',\n\t\tbgColor: '背景颜色',\n\t\tborderColor: '边框颜色',\n\t\tdata: '数据',\n\t\theader: '表头',\n\t\tyes: '是',\n\t\tno: '否',\n\t\tinvalidWidth: '单元格宽度必须为数字格式',\n\t\tinvalidHeight: '单元格高度必须为数字格式',\n\t\tinvalidRowSpan: '行跨度必须为整数格式',\n\t\tinvalidColSpan: '列跨度必须为整数格式',\n\t\tchooseColor: '选择'\n\t},\n\tcellPad: '边距',\n\tcellSpace: '间距',\n\tcolumn: {\n\t\tmenu: '列',\n\t\tinsertBefore: '在左侧插入列',\n\t\tinsertAfter: '在右侧插入列',\n\t\tdeleteColumn: '删除列'\n\t},\n\tcolumns: '列数',\n\tdeleteTable: '删除表格',\n\theaders: '标题单元格',\n\theadersBoth: '第一列和第一行',\n\theadersColumn: '第一列',\n\theadersNone: '无',\n\theadersRow: '第一行',\n\tinvalidBorder: '边框粗细必须为数字格式',\n\tinvalidCellPadding: '单元格填充必须为数字格式',\n\tinvalidCellSpacing: '单元格间距必须为数字格式',\n\tinvalidCols: '指定的行数必须大于零',\n\tinvalidHeight: '表格高度必须为数字格式',\n\tinvalidRows: '指定的列数必须大于零',\n\tinvalidWidth: '表格宽度必须为数字格式',\n\tmenu: '表格属性',\n\trow: {\n\t\tmenu: '行',\n\t\tinsertBefore: '在上方插入行',\n\t\tinsertAfter: '在下方插入行',\n\t\tdeleteRow: '删除行'\n\t},\n\trows: '行数',\n\tsummary: '摘要',\n\ttitle: '表格属性',\n\ttoolbar: '表格',\n\twidthPc: '百分比',\n\twidthPx: '像素',\n\twidthUnit: '宽度单位'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/table/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'templates', 'zh-cn', {\n\tbutton: '模板',\n\temptyListMsg: '(没有模板)',\n\tinsertOption: '替换当前内容',\n\toptions: '模板选项',\n\tselectPromptMsg: '请选择要在编辑器中使用的模板：',\n\ttitle: '内容模板'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/templates/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'toolbar', 'zh-cn', {\n\ttoolbarCollapse: '折叠工具栏',\n\ttoolbarExpand: '展开工具栏',\n\ttoolbarGroups: {\n\t\tdocument: '文档',\n\t\tclipboard: '剪贴板/撤销',\n\t\tediting: '编辑',\n\t\tforms: '表单',\n\t\tbasicstyles: '基本格式',\n\t\tparagraph: '段落',\n\t\tlinks: '链接',\n\t\tinsert: '插入',\n\t\tstyles: '样式',\n\t\tcolors: '颜色',\n\t\ttools: '工具'\n\t},\n\ttoolbars: '工具栏'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/toolbar/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'undo', 'zh-cn', {\n\tredo: '重做',\n\tundo: '撤消'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/undo/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'fakeobjects', 'zh-cn', {\n\tanchor: '锚点',\n\tflash: 'Flash 动画',\n\thiddenfield: '隐藏域',\n\tiframe: 'IFrame',\n\tunknown: '未知对象'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/fakeobjects/lang/zh-cn.js\n **/","/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\nCKEDITOR.plugins.setLang( 'indent', 'zh-cn', {\n\tindent: '增加缩进量',\n\toutdent: '减少缩进量'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/indent/lang/zh-cn.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.setLang( 'button', 'zh-cn', {\n\tselectedLabel: '已选中 %1 项'\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/button/lang/zh-cn.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'about', function( editor ) {\n\tvar lang = editor.lang.about,\n\t\timagePath = CKEDITOR.getUrl( CKEDITOR.plugins.get( 'about' ).path + 'dialogs/' + ( CKEDITOR.env.hidpi ? 'hidpi/' : '' ) + 'logo_ckeditor.png' );\n\n\treturn {\n\t\ttitle: CKEDITOR.env.ie ? lang.dlgTitle : lang.title,\n\t\tminWidth: 390,\n\t\tminHeight: 230,\n\t\tcontents: [ {\n\t\t\tid: 'tab1',\n\t\t\tlabel: '',\n\t\t\ttitle: '',\n\t\t\texpand: true,\n\t\t\tpadding: 0,\n\t\t\telements: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\thtml: '<style type=\"text/css\">' +\n\t\t\t\t\t\t'.cke_about_container' +\n\t\t\t\t\t\t'{' +\n\t\t\t\t\t\t\t'color:#000 !important;' +\n\t\t\t\t\t\t\t'padding:10px 10px 0;' +\n\t\t\t\t\t\t\t'margin-top:5px' +\n\t\t\t\t\t\t'}' +\n\t\t\t\t\t\t'.cke_about_container p' +\n\t\t\t\t\t\t'{' +\n\t\t\t\t\t\t\t'margin: 0 0 10px;' +\n\t\t\t\t\t\t'}' +\n\t\t\t\t\t\t'.cke_about_container .cke_about_logo' +\n\t\t\t\t\t\t'{' +\n\t\t\t\t\t\t\t'height:81px;' +\n\t\t\t\t\t\t\t'background-color:#fff;' +\n\t\t\t\t\t\t\t'background-image:url(' + imagePath + ');' +\n\t\t\t\t\t\t\t( CKEDITOR.env.hidpi ? 'background-size:163px 58px;' : '' ) +\n\t\t\t\t\t\t\t'background-position:center; ' +\n\t\t\t\t\t\t\t'background-repeat:no-repeat;' +\n\t\t\t\t\t\t\t'margin-bottom:10px;' +\n\t\t\t\t\t\t'}' +\n\t\t\t\t\t\t'.cke_about_container a' +\n\t\t\t\t\t\t'{' +\n\t\t\t\t\t\t\t'cursor:pointer !important;' +\n\t\t\t\t\t\t\t'color:#00B2CE !important;' +\n\t\t\t\t\t\t\t'text-decoration:underline !important;' +\n\t\t\t\t\t\t'}' +\n\t\t\t\t\t\t'</style>' +\n\t\t\t\t\t\t'<div class=\"cke_about_container\">' +\n\t\t\t\t\t\t'<div class=\"cke_about_logo\"></div>' +\n\t\t\t\t\t\t'<p>' +\n\t\t\t\t\t\t\t'CKEditor ' + CKEDITOR.version + ' (revision ' + CKEDITOR.revision + ')<br>' +\n\t\t\t\t\t\t\t'<a target=\"_blank\" href=\"http://ckeditor.com/\">http://ckeditor.com</a>' +\n\t\t\t\t\t\t'</p>' +\n\t\t\t\t\t\t'<p>' +\n\t\t\t\t\t\t\tlang.help.replace( '$1', '<a target=\"_blank\" href=\"http://docs.ckeditor.com/user\">' + lang.userGuide + '</a>' ) +\n\t\t\t\t\t\t'</p>' +\n\t\t\t\t\t\t'<p>' +\n\t\t\t\t\t\t\tlang.moreInfo + '<br>' +\n\t\t\t\t\t\t\t'<a target=\"_blank\" href=\"http://ckeditor.com/about/license\">http://ckeditor.com/about/license</a>' +\n\t\t\t\t\t\t'</p>' +\n\t\t\t\t\t\t'<p>' +\n\t\t\t\t\t\t\tlang.copy.replace( '$1', '<a target=\"_blank\" href=\"http://cksource.com/\">CKSource</a> - Frederico Knabben' ) +\n\t\t\t\t\t\t'</p>' +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t}\n\t\t\t]\n\t\t} ],\n\t\tbuttons: [ CKEDITOR.dialog.cancelButton ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/about/dialogs/about.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'paste', function( editor ) {\n\tvar lang = editor.lang.clipboard,\n\t\tclipboard = CKEDITOR.plugins.clipboard,\n\t\tlastDataTransfer;\n\n\tfunction onPasteFrameLoad( win ) {\n\t\tvar doc = new CKEDITOR.dom.document( win.document ),\n\t\t\tbody = doc.getBody(),\n\t\t\tscript = doc.getById( 'cke_actscrpt' );\n\n\t\tscript && script.remove();\n\n\t\tbody.setAttribute( 'contenteditable', true );\n\n\t\t// Forward dataTransfer (#13883).\n\t\tbody.on( clipboard.mainPasteEvent, function( evt ) {\n\t\t\tvar dataTransfer = clipboard.initPasteDataTransfer( evt );\n\n\t\t\tif ( !lastDataTransfer ) {\n\t\t\t\tlastDataTransfer = dataTransfer;\n\t\t\t} else\n\t\t\t// For two paste with the same dataTransfer we can use that dataTransfer (two internal pastes are\n\t\t\t// considered as an internal paste).\n\t\t\tif ( dataTransfer != lastDataTransfer ) {\n\t\t\t\t// If there were two paste with different DataTransfer objects create a new, empty, data transfer\n\t\t\t\t// and use it (one internal and one external paste are considered as external paste).\n\t\t\t\tlastDataTransfer = clipboard.initPasteDataTransfer();\n\t\t\t}\n\t\t} );\n\n\t\t// IE before version 8 will leave cursor blinking inside the document after\n\t\t// editor blurred unless we clean up the selection. (#4716)\n\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 8 ) {\n\t\t\tdoc.getWindow().on( 'blur', function() {\n\t\t\t\tdoc.$.selection.empty();\n\t\t\t} );\n\t\t}\n\n\t\tdoc.on( 'keydown', function( e ) {\n\t\t\tvar domEvent = e.data,\n\t\t\t\tkey = domEvent.getKeystroke(),\n\t\t\t\tprocessed;\n\n\t\t\tswitch ( key ) {\n\t\t\t\tcase 27:\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tprocessed = 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 9:\n\t\t\t\tcase CKEDITOR.SHIFT + 9:\n\t\t\t\t\tthis.changeFocus( 1 );\n\t\t\t\t\tprocessed = 1;\n\t\t\t}\n\n\t\t\tprocessed && domEvent.preventDefault();\n\t\t}, this );\n\n\t\teditor.fire( 'ariaWidget', new CKEDITOR.dom.element( win.frameElement ) );\n\n\t\t// Handle pending focus.\n\t\tif ( doc.getWindow().getFrame().removeCustomData( 'pendingFocus' ) )\n\t\t\tbody.focus();\n\t}\n\n\t// If pasteDialogCommit wasn't canceled by e.g. editor.getClipboardData\n\t// then fire paste event.\n\t// Do not use editor#paste, because it would start from beforePaste event.\n\teditor.on( 'pasteDialogCommit', function( evt ) {\n\t\tif ( evt.data )\n\t\t\teditor.fire( 'paste', {\n\t\t\t\ttype: 'auto',\n\t\t\t\tdataValue: evt.data.dataValue,\n\t\t\t\tmethod: 'paste',\n\t\t\t\tdataTransfer: evt.data.dataTransfer || clipboard.initPasteDataTransfer()\n\t\t\t} );\n\t}, null, null, 1000 );\n\n\treturn {\n\t\ttitle: lang.title,\n\n\t\tminWidth: CKEDITOR.env.ie && CKEDITOR.env.quirks ? 370 : 350,\n\t\tminHeight: CKEDITOR.env.quirks ? 250 : 245,\n\t\tonShow: function() {\n\t\t\t// FIREFOX BUG: Force the browser to render the dialog to make the to-be-\n\t\t\t// inserted iframe editable. (#3366)\n\t\t\tthis.parts.dialog.$.offsetHeight;\n\n\t\t\tthis.setupContent();\n\n\t\t\t// Set dialog title to the custom value (set e.g. in editor.openDialog callback) and reset this value.\n\t\t\t// If custom title not set, use default one.\n\t\t\tthis.parts.title.setHtml( this.customTitle || lang.title );\n\t\t\tthis.customTitle = null;\n\t\t},\n\n\t\tonLoad: function() {\n\t\t\tif ( ( CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat ) && editor.lang.dir == 'rtl' )\n\t\t\t\tthis.parts.contents.setStyle( 'overflow', 'hidden' );\n\t\t},\n\n\t\tonOk: function() {\n\t\t\tthis.commitContent();\n\t\t},\n\n\t\tcontents: [ {\n\t\t\tid: 'general',\n\t\t\tlabel: editor.lang.common.generalTab,\n\t\t\telements: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\tid: 'securityMsg',\n\t\t\t\t\thtml: '<div style=\"white-space:normal;width:340px\">' + lang.securityMsg + '</div>'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\tid: 'pasteMsg',\n\t\t\t\t\thtml: '<div style=\"white-space:normal;width:340px\">' + lang.pasteMsg + '</div>'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\tid: 'editing_area',\n\t\t\t\t\tstyle: 'width:100%;height:100%',\n\t\t\t\t\thtml: '',\n\t\t\t\t\tfocus: function() {\n\t\t\t\t\t\tvar iframe = this.getInputElement(),\n\t\t\t\t\t\t\tdoc = iframe.getFrameDocument(),\n\t\t\t\t\t\t\tbody = doc.getBody();\n\n\t\t\t\t\t\t// Frame content may not loaded at the moment.\n\t\t\t\t\t\tif ( !body || body.isReadOnly() )\n\t\t\t\t\t\t\tiframe.setCustomData( 'pendingFocus', 1 );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tbody.focus();\n\t\t\t\t\t},\n\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\tvar dialog = this.getDialog();\n\t\t\t\t\t\tvar htmlToLoad = '<html dir=\"' + editor.config.contentsLangDirection + '\"' +\n\t\t\t\t\t\t\t' lang=\"' + ( editor.config.contentsLanguage || editor.langCode ) + '\">' +\n\t\t\t\t\t\t\t'<head><style>body{margin:3px;height:95%;word-break:break-all;}</style></head><body>' +\n\t\t\t\t\t\t\t'<script id=\"cke_actscrpt\" type=\"text/javascript\">' +\n\t\t\t\t\t\t\t'window.parent.CKEDITOR.tools.callFunction(' + CKEDITOR.tools.addFunction( onPasteFrameLoad, dialog ) + ',this);' +\n\t\t\t\t\t\t\t'</script></body>' +\n\t\t\t\t\t\t\t'</html>';\n\n\t\t\t\t\t\tvar src =\n\t\t\t\t\t\t\tCKEDITOR.env.air ?\n\t\t\t\t\t\t\t\t'javascript:void(0)' : // jshint ignore:line\n\t\t\t\t\t\t\t( CKEDITOR.env.ie && !CKEDITOR.env.edge ) ?\n\t\t\t\t\t\t\t\t'javascript:void((function(){' + encodeURIComponent( // jshint ignore:line\n\t\t\t\t\t\t\t\t\t'document.open();' +\n\t\t\t\t\t\t\t\t\t'(' + CKEDITOR.tools.fixDomain + ')();' +\n\t\t\t\t\t\t\t\t\t'document.close();'\n\t\t\t\t\t\t\t\t) + '})())\"'\n\t\t\t\t\t\t\t: '';\n\n\t\t\t\t\t\tvar iframe = CKEDITOR.dom.element.createFromHtml( '<iframe' +\n\t\t\t\t\t\t\t' class=\"cke_pasteframe\"' +\n\t\t\t\t\t\t\t' frameborder=\"0\" ' +\n\t\t\t\t\t\t\t' allowTransparency=\"true\"' +\n\t\t\t\t\t\t\t' src=\"' + src + '\"' +\n\t\t\t\t\t\t\t' aria-label=\"' + lang.pasteArea + '\"' +\n\t\t\t\t\t\t\t' aria-describedby=\"' + dialog.getContentElement( 'general', 'pasteMsg' ).domId + '\"' +\n\t\t\t\t\t\t\t'></iframe>' );\n\n\t\t\t\t\t\t// Reset last data transfer.\n\t\t\t\t\t\tlastDataTransfer = null;\n\n\t\t\t\t\t\tiframe.on( 'load', function( e ) {\n\t\t\t\t\t\t\te.removeListener();\n\n\t\t\t\t\t\t\tvar doc = iframe.getFrameDocument();\n\t\t\t\t\t\t\tdoc.write( htmlToLoad );\n\n\t\t\t\t\t\t\teditor.focusManager.add( doc.getBody() );\n\n\t\t\t\t\t\t\tif ( CKEDITOR.env.air )\n\t\t\t\t\t\t\t\tonPasteFrameLoad.call( this, doc.getWindow().$ );\n\t\t\t\t\t\t}, dialog );\n\n\t\t\t\t\t\tiframe.setCustomData( 'dialog', dialog );\n\n\t\t\t\t\t\tvar container = this.getElement();\n\t\t\t\t\t\tcontainer.setHtml( '' );\n\t\t\t\t\t\tcontainer.append( iframe );\n\n\t\t\t\t\t\t// IE need a redirect on focus to make\n\t\t\t\t\t\t// the cursor blinking inside iframe. (#5461)\n\t\t\t\t\t\tif ( CKEDITOR.env.ie && !CKEDITOR.env.edge ) {\n\t\t\t\t\t\t\tvar focusGrabber = CKEDITOR.dom.element.createFromHtml( '<span tabindex=\"-1\" style=\"position:absolute\" role=\"presentation\"></span>' );\n\t\t\t\t\t\t\tfocusGrabber.on( 'focus', function() {\n\t\t\t\t\t\t\t\t// Since fixDomain is called in src attribute,\n\t\t\t\t\t\t\t\t// IE needs some slight delay to correctly move focus.\n\t\t\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\t\t\tiframe.$.contentWindow.focus();\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tcontainer.append( focusGrabber );\n\n\t\t\t\t\t\t\t// Override focus handler on field.\n\t\t\t\t\t\t\tthis.focus = function() {\n\t\t\t\t\t\t\t\tfocusGrabber.focus();\n\t\t\t\t\t\t\t\tthis.fire( 'focus' );\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.getInputElement = function() {\n\t\t\t\t\t\t\treturn iframe;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Force container to scale in IE.\n\t\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\t\tcontainer.setStyle( 'display', 'block' );\n\t\t\t\t\t\t\tcontainer.setStyle( 'height', ( iframe.$.offsetHeight + 2 ) + 'px' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcommit: function() {\n\t\t\t\t\t\tvar editor = this.getDialog().getParentEditor(),\n\t\t\t\t\t\t\tbody = this.getInputElement().getFrameDocument().getBody(),\n\t\t\t\t\t\t\tbogus = body.getBogus(),\n\t\t\t\t\t\t\thtml;\n\t\t\t\t\t\tbogus && bogus.remove();\n\n\t\t\t\t\t\t// Saving the contents so changes until paste is complete will not take place (#7500)\n\t\t\t\t\t\thtml = body.getHtml();\n\n\t\t\t\t\t\t// Opera needs some time to think about what has happened and what it should do now.\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\teditor.fire( 'pasteDialogCommit', {\n\t\t\t\t\t\t\t\tdataValue: html,\n\t\t\t\t\t\t\t\t// Avoid error if there was no paste so lastDataTransfer is null.\n\t\t\t\t\t\t\t\tdataTransfer: lastDataTransfer || clipboard.initPasteDataTransfer()\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t} ]\n\t};\n} );\n\n/**\n * Internal event to pass paste dialog's data to the listeners.\n *\n * @private\n * @event pasteDialogCommit\n * @member CKEDITOR.editor\n * @param {CKEDITOR.editor} editor This editor instance.\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/clipboard/dialogs/paste.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'anchor', function( editor ) {\n\t// Function called in onShow to load selected element.\n\tvar loadElements = function( element ) {\n\t\t\tthis._.selectedElement = element;\n\n\t\t\tvar attributeValue = element.data( 'cke-saved-name' );\n\t\t\tthis.setValueOf( 'info', 'txtName', attributeValue || '' );\n\t\t};\n\n\tfunction createFakeAnchor( editor, attributes ) {\n\t\treturn editor.createFakeElement( editor.document.createElement( 'a', {\n\t\t\tattributes: attributes\n\t\t} ), 'cke_anchor', 'anchor' );\n\t}\n\n\treturn {\n\t\ttitle: editor.lang.link.anchor.title,\n\t\tminWidth: 300,\n\t\tminHeight: 60,\n\t\tonOk: function() {\n\t\t\tvar name = CKEDITOR.tools.trim( this.getValueOf( 'info', 'txtName' ) );\n\t\t\tvar attributes = {\n\t\t\t\tid: name,\n\t\t\t\tname: name,\n\t\t\t\t'data-cke-saved-name': name\n\t\t\t};\n\n\t\t\tif ( this._.selectedElement ) {\n\t\t\t\tif ( this._.selectedElement.data( 'cke-realelement' ) ) {\n\t\t\t\t\tvar newFake = createFakeAnchor( editor, attributes );\n\t\t\t\t\tnewFake.replace( this._.selectedElement );\n\n\t\t\t\t\t// Selecting fake element for IE. (#11377)\n\t\t\t\t\tif ( CKEDITOR.env.ie )\n\t\t\t\t\t\teditor.getSelection().selectElement( newFake );\n\t\t\t\t} else {\n\t\t\t\t\tthis._.selectedElement.setAttributes( attributes );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar sel = editor.getSelection(),\n\t\t\t\t\trange = sel && sel.getRanges()[ 0 ];\n\n\t\t\t\t// Empty anchor\n\t\t\t\tif ( range.collapsed ) {\n\t\t\t\t\tvar anchor = createFakeAnchor( editor, attributes );\n\t\t\t\t\trange.insertNode( anchor );\n\t\t\t\t} else {\n\t\t\t\t\tif ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 )\n\t\t\t\t\t\tattributes[ 'class' ] = 'cke_anchor';\n\n\t\t\t\t\t// Apply style.\n\t\t\t\t\tvar style = new CKEDITOR.style( { element: 'a', attributes: attributes } );\n\t\t\t\t\tstyle.type = CKEDITOR.STYLE_INLINE;\n\t\t\t\t\teditor.applyStyle( style );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonHide: function() {\n\t\t\tdelete this._.selectedElement;\n\t\t},\n\n\t\tonShow: function() {\n\t\t\tvar sel = editor.getSelection(),\n\t\t\t\tfullySelected = sel.getSelectedElement(),\n\t\t\t\tfakeSelected = fullySelected && fullySelected.data( 'cke-realelement' ),\n\t\t\t\tlinkElement = fakeSelected ?\n\t\t\t\t\tCKEDITOR.plugins.link.tryRestoreFakeAnchor( editor, fullySelected ) :\n\t\t\t\t\tCKEDITOR.plugins.link.getSelectedLink( editor );\n\n\t\t\tif ( linkElement ) {\n\t\t\t\tloadElements.call( this, linkElement );\n\t\t\t\t!fakeSelected && sel.selectElement( linkElement );\n\n\t\t\t\tif ( fullySelected )\n\t\t\t\t\tthis._.selectedElement = fullySelected;\n\t\t\t}\n\n\t\t\tthis.getContentElement( 'info', 'txtName' ).focus();\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.link.anchor.title,\n\t\t\taccessKey: 'I',\n\t\t\telements: [ {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'txtName',\n\t\t\t\tlabel: editor.lang.link.anchor.name,\n\t\t\t\trequired: true,\n\t\t\t\tvalidate: function() {\n\t\t\t\t\tif ( !this.getValue() ) {\n\t\t\t\t\t\talert( editor.lang.link.anchor.errorName ); // jshint ignore:line\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/link/dialogs/anchor.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n( function() {\n\tCKEDITOR.dialog.add( 'link', function( editor ) {\n\t\tvar plugin = CKEDITOR.plugins.link;\n\n\t\t// Handles the event when the \"Target\" selection box is changed.\n\t\tvar targetChanged = function() {\n\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\tpopupFeatures = dialog.getContentElement( 'target', 'popupFeatures' ),\n\t\t\t\t\ttargetName = dialog.getContentElement( 'target', 'linkTargetName' ),\n\t\t\t\t\tvalue = this.getValue();\n\n\t\t\t\tif ( !popupFeatures || !targetName )\n\t\t\t\t\treturn;\n\n\t\t\t\tpopupFeatures = popupFeatures.getElement();\n\t\t\t\tpopupFeatures.hide();\n\t\t\t\ttargetName.setValue( '' );\n\n\t\t\t\tswitch ( value ) {\n\t\t\t\t\tcase 'frame':\n\t\t\t\t\t\ttargetName.setLabel( editor.lang.link.targetFrameName );\n\t\t\t\t\t\ttargetName.getElement().show();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'popup':\n\t\t\t\t\t\tpopupFeatures.show();\n\t\t\t\t\t\ttargetName.setLabel( editor.lang.link.targetPopupName );\n\t\t\t\t\t\ttargetName.getElement().show();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttargetName.setValue( value );\n\t\t\t\t\t\ttargetName.getElement().hide();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t// Handles the event when the \"Type\" selection box is changed.\n\t\tvar linkTypeChanged = function() {\n\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\tpartIds = [ 'urlOptions', 'anchorOptions', 'emailOptions' ],\n\t\t\t\t\ttypeValue = this.getValue(),\n\t\t\t\t\tuploadTab = dialog.definition.getContents( 'upload' ),\n\t\t\t\t\tuploadInitiallyHidden = uploadTab && uploadTab.hidden;\n\n\t\t\t\tif ( typeValue == 'url' ) {\n\t\t\t\t\tif ( editor.config.linkShowTargetTab )\n\t\t\t\t\t\tdialog.showPage( 'target' );\n\t\t\t\t\tif ( !uploadInitiallyHidden )\n\t\t\t\t\t\tdialog.showPage( 'upload' );\n\t\t\t\t} else {\n\t\t\t\t\tdialog.hidePage( 'target' );\n\t\t\t\t\tif ( !uploadInitiallyHidden )\n\t\t\t\t\t\tdialog.hidePage( 'upload' );\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0; i < partIds.length; i++ ) {\n\t\t\t\t\tvar element = dialog.getContentElement( 'info', partIds[ i ] );\n\t\t\t\t\tif ( !element )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\telement = element.getElement().getParent().getParent();\n\t\t\t\t\tif ( partIds[ i ] == typeValue + 'Options' )\n\t\t\t\t\t\telement.show();\n\t\t\t\t\telse\n\t\t\t\t\t\telement.hide();\n\t\t\t\t}\n\n\t\t\t\tdialog.layout();\n\t\t\t};\n\n\t\tvar setupParams = function( page, data ) {\n\t\t\t\tif ( data[ page ] )\n\t\t\t\t\tthis.setValue( data[ page ][ this.id ] || '' );\n\t\t\t};\n\n\t\tvar setupPopupParams = function( data ) {\n\t\t\t\treturn setupParams.call( this, 'target', data );\n\t\t\t};\n\n\t\tvar setupAdvParams = function( data ) {\n\t\t\t\treturn setupParams.call( this, 'advanced', data );\n\t\t\t};\n\n\t\tvar commitParams = function( page, data ) {\n\t\t\t\tif ( !data[ page ] )\n\t\t\t\t\tdata[ page ] = {};\n\n\t\t\t\tdata[ page ][ this.id ] = this.getValue() || '';\n\t\t\t};\n\n\t\tvar commitPopupParams = function( data ) {\n\t\t\t\treturn commitParams.call( this, 'target', data );\n\t\t\t};\n\n\t\tvar commitAdvParams = function( data ) {\n\t\t\t\treturn commitParams.call( this, 'advanced', data );\n\t\t\t};\n\n\t\tvar commonLang = editor.lang.common,\n\t\t\tlinkLang = editor.lang.link,\n\t\t\tanchors;\n\n\t\treturn {\n\t\t\ttitle: linkLang.title,\n\t\t\tminWidth: 350,\n\t\t\tminHeight: 230,\n\t\t\tcontents: [ {\n\t\t\t\tid: 'info',\n\t\t\t\tlabel: linkLang.info,\n\t\t\t\ttitle: linkLang.info,\n\t\t\t\telements: [ {\n\t\t\t\t\tid: 'linkType',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tlabel: linkLang.type,\n\t\t\t\t\t'default': 'url',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t[ linkLang.toUrl, 'url' ],\n\t\t\t\t\t\t[ linkLang.toAnchor, 'anchor' ],\n\t\t\t\t\t\t[ linkLang.toEmail, 'email' ]\n\t\t\t\t\t],\n\t\t\t\t\tonChange: linkTypeChanged,\n\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\tthis.setValue( data.type || 'url' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\tdata.type = this.getValue();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tid: 'urlOptions',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '25%', '75%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\tid: 'protocol',\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tlabel: commonLang.protocol,\n\t\t\t\t\t\t\t'default': 'http://',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t// Force 'ltr' for protocol names in BIDI. (#5433)\n\t\t\t\t\t\t\t\t[ 'http://\\u200E', 'http://' ],\n\t\t\t\t\t\t\t\t[ 'https://\\u200E', 'https://' ],\n\t\t\t\t\t\t\t\t[ 'ftp://\\u200E', 'ftp://' ],\n\t\t\t\t\t\t\t\t[ 'news://\\u200E', 'news://' ],\n\t\t\t\t\t\t\t\t[ linkLang.other, '' ]\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\t\tif ( data.url )\n\t\t\t\t\t\t\t\t\tthis.setValue( data.url.protocol || '' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\t\tif ( !data.url )\n\t\t\t\t\t\t\t\t\tdata.url = {};\n\n\t\t\t\t\t\t\t\tdata.url.protocol = this.getValue();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'url',\n\t\t\t\t\t\t\tlabel: commonLang.url,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tonLoad: function() {\n\t\t\t\t\t\t\t\tthis.allowOnChange = true;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonKeyUp: function() {\n\t\t\t\t\t\t\t\tthis.allowOnChange = false;\n\t\t\t\t\t\t\t\tvar protocolCmb = this.getDialog().getContentElement( 'info', 'protocol' ),\n\t\t\t\t\t\t\t\t\turl = this.getValue(),\n\t\t\t\t\t\t\t\t\turlOnChangeProtocol = /^(http|https|ftp|news):\\/\\/(?=.)/i,\n\t\t\t\t\t\t\t\t\turlOnChangeTestOther = /^((javascript:)|[#\\/\\.\\?])/i;\n\n\t\t\t\t\t\t\t\tvar protocol = urlOnChangeProtocol.exec( url );\n\t\t\t\t\t\t\t\tif ( protocol ) {\n\t\t\t\t\t\t\t\t\tthis.setValue( url.substr( protocol[ 0 ].length ) );\n\t\t\t\t\t\t\t\t\tprotocolCmb.setValue( protocol[ 0 ].toLowerCase() );\n\t\t\t\t\t\t\t\t} else if ( urlOnChangeTestOther.test( url ) ) {\n\t\t\t\t\t\t\t\t\tprotocolCmb.setValue( '' );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.allowOnChange = true;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\tif ( this.allowOnChange ) // Dont't call on dialog load.\n\t\t\t\t\t\t\t\tthis.onKeyUp();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvalidate: function() {\n\t\t\t\t\t\t\t\tvar dialog = this.getDialog();\n\n\t\t\t\t\t\t\t\tif ( dialog.getContentElement( 'info', 'linkType' ) && dialog.getValueOf( 'info', 'linkType' ) != 'url' )\n\t\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t\tif ( !editor.config.linkJavaScriptLinksAllowed && ( /javascript\\:/ ).test( this.getValue() ) ) {\n\t\t\t\t\t\t\t\t\talert( commonLang.invalidValue ); // jshint ignore:line\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( this.getDialog().fakeObj ) // Edit Anchor.\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t\tvar func = CKEDITOR.dialog.validate.notEmpty( linkLang.noUrl );\n\t\t\t\t\t\t\t\treturn func.apply( this );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\t\tthis.allowOnChange = false;\n\t\t\t\t\t\t\t\tif ( data.url )\n\t\t\t\t\t\t\t\t\tthis.setValue( data.url.url );\n\t\t\t\t\t\t\t\tthis.allowOnChange = true;\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\t\t// IE will not trigger the onChange event if the mouse has been used\n\t\t\t\t\t\t\t\t// to carry all the operations #4724\n\t\t\t\t\t\t\t\tthis.onChange();\n\n\t\t\t\t\t\t\t\tif ( !data.url )\n\t\t\t\t\t\t\t\t\tdata.url = {};\n\n\t\t\t\t\t\t\t\tdata.url.url = this.getValue();\n\t\t\t\t\t\t\t\tthis.allowOnChange = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ],\n\t\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\t\tif ( !this.getDialog().getContentElement( 'info', 'linkType' ) )\n\t\t\t\t\t\t\t\tthis.getElement().show();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'browse',\n\t\t\t\t\t\thidden: 'true',\n\t\t\t\t\t\tfilebrowser: 'info:url',\n\t\t\t\t\t\tlabel: commonLang.browseServer\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tid: 'anchorOptions',\n\t\t\t\t\twidth: 260,\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'fieldset',\n\t\t\t\t\t\tid: 'selectAnchorText',\n\t\t\t\t\t\tlabel: linkLang.selectAnchor,\n\t\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\t\tanchors = plugin.getEditorAnchors( editor );\n\n\t\t\t\t\t\t\tthis.getElement()[ anchors && anchors.length ? 'show' : 'hide' ]();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tid: 'selectAnchor',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\t\tid: 'anchorName',\n\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\tlabel: linkLang.anchorName,\n\t\t\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t[ '' ]\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\t\t\tthis.add( '' );\n\n\t\t\t\t\t\t\t\t\tif ( anchors ) {\n\t\t\t\t\t\t\t\t\t\tfor ( var i = 0; i < anchors.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( anchors[ i ].name )\n\t\t\t\t\t\t\t\t\t\t\t\tthis.add( anchors[ i ].name );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( data.anchor )\n\t\t\t\t\t\t\t\t\t\tthis.setValue( data.anchor.name );\n\n\t\t\t\t\t\t\t\t\tvar linkType = this.getDialog().getContentElement( 'info', 'linkType' );\n\t\t\t\t\t\t\t\t\tif ( linkType && linkType.getValue() == 'email' )\n\t\t\t\t\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\t\t\tif ( !data.anchor )\n\t\t\t\t\t\t\t\t\t\tdata.anchor = {};\n\n\t\t\t\t\t\t\t\t\tdata.anchor.name = this.getValue();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\t\tid: 'anchorId',\n\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\tlabel: linkLang.anchorId,\n\t\t\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t[ '' ]\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\t\t\tthis.add( '' );\n\n\t\t\t\t\t\t\t\t\tif ( anchors ) {\n\t\t\t\t\t\t\t\t\t\tfor ( var i = 0; i < anchors.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( anchors[ i ].id )\n\t\t\t\t\t\t\t\t\t\t\t\tthis.add( anchors[ i ].id );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( data.anchor )\n\t\t\t\t\t\t\t\t\t\tthis.setValue( data.anchor.id );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\t\t\tif ( !data.anchor )\n\t\t\t\t\t\t\t\t\t\tdata.anchor = {};\n\n\t\t\t\t\t\t\t\t\tdata.anchor.id = this.getValue();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} ],\n\t\t\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\t\t\tthis.getElement()[ anchors && anchors.length ? 'show' : 'hide' ]();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\tid: 'noAnchors',\n\t\t\t\t\t\tstyle: 'text-align: center;',\n\t\t\t\t\t\thtml: '<div role=\"note\" tabIndex=\"-1\">' + CKEDITOR.tools.htmlEncode( linkLang.noAnchors ) + '</div>',\n\t\t\t\t\t\t// Focus the first element defined in above html.\n\t\t\t\t\t\tfocus: true,\n\t\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\t\tthis.getElement()[ anchors && anchors.length ? 'hide' : 'show' ]();\n\t\t\t\t\t\t}\n\t\t\t\t\t} ],\n\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\tif ( !this.getDialog().getContentElement( 'info', 'linkType' ) )\n\t\t\t\t\t\t\tthis.getElement().hide();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tid: 'emailOptions',\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'emailAddress',\n\t\t\t\t\t\tlabel: linkLang.emailAddress,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tvalidate: function() {\n\t\t\t\t\t\t\tvar dialog = this.getDialog();\n\n\t\t\t\t\t\t\tif ( !dialog.getContentElement( 'info', 'linkType' ) || dialog.getValueOf( 'info', 'linkType' ) != 'email' )\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tvar func = CKEDITOR.dialog.validate.notEmpty( linkLang.noEmail );\n\t\t\t\t\t\t\treturn func.apply( this );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\tif ( data.email )\n\t\t\t\t\t\t\t\tthis.setValue( data.email.address );\n\n\t\t\t\t\t\t\tvar linkType = this.getDialog().getContentElement( 'info', 'linkType' );\n\t\t\t\t\t\t\tif ( linkType && linkType.getValue() == 'email' )\n\t\t\t\t\t\t\t\tthis.select();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\tif ( !data.email )\n\t\t\t\t\t\t\t\tdata.email = {};\n\n\t\t\t\t\t\t\tdata.email.address = this.getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'emailSubject',\n\t\t\t\t\t\tlabel: linkLang.emailSubject,\n\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\tif ( data.email )\n\t\t\t\t\t\t\t\tthis.setValue( data.email.subject );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\tif ( !data.email )\n\t\t\t\t\t\t\t\tdata.email = {};\n\n\t\t\t\t\t\t\tdata.email.subject = this.getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'textarea',\n\t\t\t\t\t\tid: 'emailBody',\n\t\t\t\t\t\tlabel: linkLang.emailBody,\n\t\t\t\t\t\trows: 3,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\tif ( data.email )\n\t\t\t\t\t\t\t\tthis.setValue( data.email.body );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\tif ( !data.email )\n\t\t\t\t\t\t\t\tdata.email = {};\n\n\t\t\t\t\t\t\tdata.email.body = this.getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t} ],\n\t\t\t\t\tsetup: function() {\n\t\t\t\t\t\tif ( !this.getDialog().getContentElement( 'info', 'linkType' ) )\n\t\t\t\t\t\t\tthis.getElement().hide();\n\t\t\t\t\t}\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'target',\n\t\t\t\trequiredContent: 'a[target]', // This is not fully correct, because some target option requires JS.\n\t\t\t\tlabel: linkLang.target,\n\t\t\t\ttitle: linkLang.target,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tid: 'linkTargetType',\n\t\t\t\t\t\tlabel: commonLang.target,\n\t\t\t\t\t\t'default': 'notSet',\n\t\t\t\t\t\tstyle: 'width : 100%;',\n\t\t\t\t\t\t'items': [\n\t\t\t\t\t\t\t[ commonLang.notSet, 'notSet' ],\n\t\t\t\t\t\t\t[ linkLang.targetFrame, 'frame' ],\n\t\t\t\t\t\t\t[ linkLang.targetPopup, 'popup' ],\n\t\t\t\t\t\t\t[ commonLang.targetNew, '_blank' ],\n\t\t\t\t\t\t\t[ commonLang.targetTop, '_top' ],\n\t\t\t\t\t\t\t[ commonLang.targetSelf, '_self' ],\n\t\t\t\t\t\t\t[ commonLang.targetParent, '_parent' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonChange: targetChanged,\n\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\tif ( data.target )\n\t\t\t\t\t\t\t\tthis.setValue( data.target.type || 'notSet' );\n\t\t\t\t\t\t\ttargetChanged.call( this );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\tif ( !data.target )\n\t\t\t\t\t\t\t\tdata.target = {};\n\n\t\t\t\t\t\t\tdata.target.type = this.getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'linkTargetName',\n\t\t\t\t\t\tlabel: linkLang.targetFrameName,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tsetup: function( data ) {\n\t\t\t\t\t\t\tif ( data.target )\n\t\t\t\t\t\t\t\tthis.setValue( data.target.name );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\t\tif ( !data.target )\n\t\t\t\t\t\t\t\tdata.target = {};\n\n\t\t\t\t\t\t\tdata.target.name = this.getValue().replace( /([^\\x00-\\x7F]|\\s)/gi, '' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tpadding: 2,\n\t\t\t\t\tid: 'popupFeatures',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'fieldset',\n\t\t\t\t\t\tlabel: linkLang.popupFeatures,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'resizable',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupResizable,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'status',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupStatusBar,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'location',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupLocationBar,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'toolbar',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupToolbar,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'menubar',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupMenuBar,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'fullscreen',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupFullScreen,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'scrollbars',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupScrollBars,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tid: 'dependent',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupDependent,\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\t\t\tlabel: commonLang.width,\n\t\t\t\t\t\t\t\tid: 'width',\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\t\t\tlabel: linkLang.popupLeft,\n\t\t\t\t\t\t\t\tid: 'left',\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\t\t\tlabel: commonLang.height,\n\t\t\t\t\t\t\t\tid: 'height',\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\t\t\tlabel: linkLang.popupTop,\n\t\t\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\t\t\tid: 'top',\n\t\t\t\t\t\t\t\tsetup: setupPopupParams,\n\t\t\t\t\t\t\t\tcommit: commitPopupParams\n\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'upload',\n\t\t\t\tlabel: linkLang.upload,\n\t\t\t\ttitle: linkLang.upload,\n\t\t\t\thidden: true,\n\t\t\t\tfilebrowser: 'uploadButton',\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'file',\n\t\t\t\t\tid: 'upload',\n\t\t\t\t\tlabel: commonLang.upload,\n\t\t\t\t\tstyle: 'height:40px',\n\t\t\t\t\tsize: 29\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'fileButton',\n\t\t\t\t\tid: 'uploadButton',\n\t\t\t\t\tlabel: commonLang.uploadSubmit,\n\t\t\t\t\tfilebrowser: 'info:url',\n\t\t\t\t\t'for': [ 'upload', 'upload' ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'advanced',\n\t\t\t\tlabel: linkLang.advanced,\n\t\t\t\ttitle: linkLang.advanced,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '45%', '35%', '20%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'advId',\n\t\t\t\t\t\t\trequiredContent: 'a[id]',\n\t\t\t\t\t\t\tlabel: linkLang.id,\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tid: 'advLangDir',\n\t\t\t\t\t\t\trequiredContent: 'a[dir]',\n\t\t\t\t\t\t\tlabel: linkLang.langDir,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tstyle: 'width:110px',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t[ commonLang.notSet, '' ],\n\t\t\t\t\t\t\t\t[ linkLang.langDirLTR, 'ltr' ],\n\t\t\t\t\t\t\t\t[ linkLang.langDirRTL, 'rtl' ]\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'advAccessKey',\n\t\t\t\t\t\t\trequiredContent: 'a[accesskey]',\n\t\t\t\t\t\t\twidth: '80px',\n\t\t\t\t\t\t\tlabel: linkLang.acccessKey,\n\t\t\t\t\t\t\tmaxLength: 1,\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '45%', '35%', '20%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.name,\n\t\t\t\t\t\t\tid: 'advName',\n\t\t\t\t\t\t\trequiredContent: 'a[name]',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.langCode,\n\t\t\t\t\t\t\tid: 'advLangCode',\n\t\t\t\t\t\t\trequiredContent: 'a[lang]',\n\t\t\t\t\t\t\twidth: '110px',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.tabIndex,\n\t\t\t\t\t\t\tid: 'advTabIndex',\n\t\t\t\t\t\t\trequiredContent: 'a[tabindex]',\n\t\t\t\t\t\t\twidth: '80px',\n\t\t\t\t\t\t\tmaxLength: 5,\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.advisoryTitle,\n\t\t\t\t\t\t\trequiredContent: 'a[title]',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tid: 'advTitle',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.advisoryContentType,\n\t\t\t\t\t\t\trequiredContent: 'a[type]',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tid: 'advContentType',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.cssClasses,\n\t\t\t\t\t\t\trequiredContent: 'a(cke-xyz)', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tid: 'advCSSClasses',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.charset,\n\t\t\t\t\t\t\trequiredContent: 'a[charset]',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tid: 'advCharset',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.rel,\n\t\t\t\t\t\t\trequiredContent: 'a[rel]',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tid: 'advRel',\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: linkLang.styles,\n\t\t\t\t\t\t\trequiredContent: 'a{cke-xyz}', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tid: 'advStyles',\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.inlineStyle( editor.lang.common.invalidInlineStyle ),\n\t\t\t\t\t\t\tsetup: setupAdvParams,\n\t\t\t\t\t\t\tcommit: commitAdvParams\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t} ],\n\t\t\tonShow: function() {\n\t\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\t\tselection = editor.getSelection(),\n\t\t\t\t\telement = null;\n\n\t\t\t\t// Fill in all the relevant fields if there's already one link selected.\n\t\t\t\tif ( ( element = plugin.getSelectedLink( editor ) ) && element.hasAttribute( 'href' ) ) {\n\t\t\t\t\t// Don't change selection if some element is already selected.\n\t\t\t\t\t// For example - don't destroy fake selection.\n\t\t\t\t\tif ( !selection.getSelectedElement() )\n\t\t\t\t\t\tselection.selectElement( element );\n\t\t\t\t} else {\n\t\t\t\t\telement = null;\n\t\t\t\t}\n\n\t\t\t\tvar data = plugin.parseLinkAttributes( editor, element );\n\n\t\t\t\t// Record down the selected element in the dialog.\n\t\t\t\tthis._.selectedElement = element;\n\n\t\t\t\tthis.setupContent( data );\n\t\t\t},\n\t\t\tonOk: function() {\n\t\t\t\tvar data = {};\n\n\t\t\t\t// Collect data from fields.\n\t\t\t\tthis.commitContent( data );\n\n\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\tattributes = plugin.getLinkAttributes( editor, data );\n\n\t\t\t\tif ( !this._.selectedElement ) {\n\t\t\t\t\tvar range = selection.getRanges()[ 0 ];\n\n\t\t\t\t\t// Use link URL as text with a collapsed cursor.\n\t\t\t\t\tif ( range.collapsed ) {\n\t\t\t\t\t\t// Short mailto link text view (#5736).\n\t\t\t\t\t\tvar text = new CKEDITOR.dom.text( data.type == 'email' ?\n\t\t\t\t\t\t\tdata.email.address : attributes.set[ 'data-cke-saved-href' ], editor.document );\n\t\t\t\t\t\trange.insertNode( text );\n\t\t\t\t\t\trange.selectNodeContents( text );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Apply style.\n\t\t\t\t\tvar style = new CKEDITOR.style( {\n\t\t\t\t\t\telement: 'a',\n\t\t\t\t\t\tattributes: attributes.set\n\t\t\t\t\t} );\n\n\t\t\t\t\tstyle.type = CKEDITOR.STYLE_INLINE; // need to override... dunno why.\n\t\t\t\t\tstyle.applyToRange( range, editor );\n\t\t\t\t\trange.select();\n\t\t\t\t} else {\n\t\t\t\t\t// We're only editing an existing link, so just overwrite the attributes.\n\t\t\t\t\tvar element = this._.selectedElement,\n\t\t\t\t\t\thref = element.data( 'cke-saved-href' ),\n\t\t\t\t\t\ttextView = element.getHtml();\n\n\t\t\t\t\telement.setAttributes( attributes.set );\n\t\t\t\t\telement.removeAttributes( attributes.removed );\n\n\t\t\t\t\t// Update text view when user changes protocol (#4612).\n\t\t\t\t\tif ( href == textView || data.type == 'email' && textView.indexOf( '@' ) != -1 ) {\n\t\t\t\t\t\t// Short mailto link text view (#5736).\n\t\t\t\t\t\telement.setHtml( data.type == 'email' ?\n\t\t\t\t\t\t\tdata.email.address : attributes.set[ 'data-cke-saved-href' ] );\n\n\t\t\t\t\t\t// We changed the content, so need to select it again.\n\t\t\t\t\t\tselection.selectElement( element );\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete this._.selectedElement;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonLoad: function() {\n\t\t\t\tif ( !editor.config.linkShowAdvancedTab )\n\t\t\t\t\tthis.hidePage( 'advanced' ); //Hide Advanded tab.\n\n\t\t\t\tif ( !editor.config.linkShowTargetTab )\n\t\t\t\t\tthis.hidePage( 'target' ); //Hide Target tab.\n\t\t\t},\n\t\t\t// Inital focus on 'url' field if link is of type URL.\n\t\t\tonFocus: function() {\n\t\t\t\tvar linkType = this.getContentElement( 'info', 'linkType' ),\n\t\t\t\t\turlField;\n\n\t\t\t\tif ( linkType && linkType.getValue() == 'url' ) {\n\t\t\t\t\turlField = this.getContentElement( 'info', 'url' );\n\t\t\t\t\turlField.select();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n} )();\n// jscs:disable maximumLineLength\n/**\n * The e-mail address anti-spam protection option. The protection will be\n * applied when creating or modifying e-mail links through the editor interface.\n *\n * Two methods of protection can be chosen:\n *\n * 1. The e-mail parts (name, domain, and any other query string) are\n *     assembled into a function call pattern. Such function must be\n *     provided by the developer in the pages that will use the contents.\n * 2. Only the e-mail address is obfuscated into a special string that\n *     has no meaning for humans or spam bots, but which is properly\n *     rendered and accepted by the browser.\n *\n * Both approaches require JavaScript to be enabled.\n *\n *\t\t// href=\"mailto:tester@ckeditor.com?subject=subject&body=body\"\n *\t\tconfig.emailProtection = '';\n *\n *\t\t// href=\"<a href=\\\"javascript:void(location.href=\\'mailto:\\'+String.fromCharCode(116,101,115,116,101,114,64,99,107,101,100,105,116,111,114,46,99,111,109)+\\'?subject=subject&body=body\\')\\\">e-mail</a>\"\n *\t\tconfig.emailProtection = 'encode';\n *\n *\t\t// href=\"javascript:mt('tester','ckeditor.com','subject','body')\"\n *\t\tconfig.emailProtection = 'mt(NAME,DOMAIN,SUBJECT,BODY)';\n *\n * @since 3.1\n * @cfg {String} [emailProtection='' (empty string = disabled)]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/link/dialogs/link.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n'use strict';\n\n( function() {\n\tCKEDITOR.dialog.add( 'codeSnippet', function( editor ) {\n\t\tvar snippetLangs = editor._.codesnippet.langs,\n\t\t\tlang = editor.lang.codesnippet,\n\t\t\tclientHeight = document.documentElement.clientHeight,\n\t\t\tlangSelectItems = [],\n\t\t\tsnippetLangId;\n\n\t\tlangSelectItems.push( [ editor.lang.common.notSet, '' ] );\n\n\t\tfor ( snippetLangId in snippetLangs )\n\t\t\tlangSelectItems.push( [ snippetLangs[ snippetLangId ], snippetLangId ] );\n\n\t\t// Size adjustments.\n\t\tvar size = CKEDITOR.document.getWindow().getViewPaneSize(),\n\t\t\t// Make it maximum 800px wide, but still fully visible in the viewport.\n\t\t\twidth = Math.min( size.width - 70, 800 ),\n\t\t\t// Make it use 2/3 of the viewport height.\n\t\t\theight = size.height / 1.5;\n\n\t\t// Low resolution settings.\n\t\tif ( clientHeight < 650 ) {\n\t\t\theight = clientHeight - 220;\n\t\t}\n\n\t\treturn {\n\t\t\ttitle: lang.title,\n\t\t\tminHeight: 200,\n\t\t\tresizable: CKEDITOR.DIALOG_RESIZE_NONE,\n\t\t\tcontents: [\n\t\t\t\t{\n\t\t\t\t\tid: 'info',\n\t\t\t\t\telements: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'lang',\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tlabel: lang.language,\n\t\t\t\t\t\t\titems: langSelectItems,\n\t\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\t\tif ( widget.ready && widget.data.lang )\n\t\t\t\t\t\t\t\t\tthis.setValue( widget.data.lang );\n\n\t\t\t\t\t\t\t\t// The only way to have an empty select value in Firefox is\n\t\t\t\t\t\t\t\t// to set a negative selectedIndex.\n\t\t\t\t\t\t\t\tif ( CKEDITOR.env.gecko && ( !widget.data.lang || !widget.ready ) )\n\t\t\t\t\t\t\t\t\tthis.getInputElement().$.selectedIndex = -1;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\t\twidget.setData( 'lang', this.getValue() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'code',\n\t\t\t\t\t\t\ttype: 'textarea',\n\t\t\t\t\t\t\tlabel: lang.codeContents,\n\t\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\t\tthis.setValue( widget.data.code );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\t\twidget.setData( 'code', this.getValue() );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.notEmpty( lang.emptySnippetError ),\n\t\t\t\t\t\t\tinputStyle: 'cursor:auto;' +\n\t\t\t\t\t\t\t\t'width:' + width + 'px;' +\n\t\t\t\t\t\t\t\t'height:' + height + 'px;' +\n\t\t\t\t\t\t\t\t'tab-size:4;' +\n\t\t\t\t\t\t\t\t'text-align:left;',\n\t\t\t\t\t\t\t'class': 'cke_source'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t} );\n}() );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/codesnippet/dialogs/codesnippet.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'colordialog', function( editor ) {\n\t// Define some shorthands.\n\tvar $el = CKEDITOR.dom.element,\n\t\t$doc = CKEDITOR.document,\n\t\tlang = editor.lang.colordialog,\n\t\tcolorCellCls = 'cke_colordialog_colorcell',\n\t\tfocusedColorLightCls = 'cke_colordialog_focused_light',\n\t\tfocusedColorDarkCls = 'cke_colordialog_focused_dark',\n\t\tselectedColorCls = 'cke_colordialog_selected';\n\n\t// Reference the dialog.\n\tvar dialog,\n\t\tselected;\n\n\tvar spacer = {\n\t\ttype: 'html',\n\t\thtml: '&nbsp;'\n\t};\n\n\tfunction clearSelected() {\n\t\t$doc.getById( selHiColorId ).removeStyle( 'background-color' );\n\t\tdialog.getContentElement( 'picker', 'selectedColor' ).setValue( '' );\n\t\tremoveSelected();\n\t}\n\n\tfunction updateSelected( evt ) {\n\t\tvar target = evt.data.getTarget(),\n\t\t\tcolor;\n\n\t\tif ( target.getName() == 'td' && ( color = target.getChild( 0 ).getHtml() ) ) {\n\t\t\tremoveSelected();\n\n\t\t\tselected = target;\n\t\t\tselected.setAttribute( 'aria-selected', true );\n\t\t\tselected.addClass( selectedColorCls );\n\t\t\tdialog.getContentElement( 'picker', 'selectedColor' ).setValue( color );\n\t\t}\n\t}\n\n\tfunction removeSelected() {\n\t\tif ( selected ) {\n\t\t\tselected.removeClass( selectedColorCls );\n\t\t\tselected.removeAttribute( 'aria-selected' ); // Attribute aria-selected should also be removed when selection changes.\n\t\t\tselected = null;\n\t\t}\n\t}\n\n\t// Basing black-white decision off of luma scheme using the Rec. 709 version.\n\tfunction isLightColor( color ) {\n\t\tcolor = color.replace( /^#/, '' );\n\t\tfor ( var i = 0, rgb = []; i <= 2; i++ )\n\t\t\trgb[ i ] = parseInt( color.substr( i * 2, 2 ), 16 );\n\t\tvar luma = ( 0.2126 * rgb[ 0 ] ) + ( 0.7152 * rgb[ 1 ] ) + ( 0.0722 * rgb[ 2 ] );\n\t\treturn luma >= 165;\n\t}\n\n\t// Distinguish focused and hover states.\n\tvar focused, hovered;\n\n\t// Apply highlight style.\n\tfunction updateHighlight( event ) {\n\t\t// Convert to event.\n\t\t!event.name && ( event = new CKEDITOR.event( event ) );\n\n\t\tvar isFocus = !( /mouse/ ).test( event.name ),\n\t\t\ttarget = event.data.getTarget(),\n\t\t\tcolor;\n\n\t\tif ( target.getName() == 'td' && ( color = target.getChild( 0 ).getHtml() ) ) {\n\t\t\tremoveHighlight( event );\n\n\t\t\tisFocus ? focused = target : hovered = target;\n\n\t\t\t// Apply CSS class to show focus.\n\t\t\tif ( isFocus ) {\n\t\t\t\ttarget.addClass( isLightColor( color ) ? focusedColorLightCls : focusedColorDarkCls );\n\t\t\t}\n\t\t\tsetHighlight( color );\n\t\t}\n\t}\n\n\tfunction clearHighlight() {\n\t\tfocused.removeClass( focusedColorLightCls );\n\t\tfocused.removeClass( focusedColorDarkCls );\n\t\tsetHighlight( false );\n\t\tfocused = null;\n\t}\n\n\t// Remove previously focused style.\n\tfunction removeHighlight( event ) {\n\t\tvar isFocus = !( /mouse/ ).test( event.name ),\n\t\t\ttarget = isFocus && focused;\n\n\t\tif ( target ) {\n\t\t\ttarget.removeClass( focusedColorLightCls );\n\t\t\ttarget.removeClass( focusedColorDarkCls );\n\t\t}\n\n\t\tif ( !( focused || hovered ) ) {\n\t\t\tsetHighlight( false );\n\t\t}\n\t}\n\n\tfunction setHighlight( color ) {\n\t\tif ( color ) {\n\t\t\t$doc.getById( hicolorId ).setStyle( 'background-color', color );\n\t\t\t$doc.getById( hicolorTextId ).setHtml( color );\n\n\t\t} else {\n\t\t\t$doc.getById( hicolorId ).removeStyle( 'background-color' );\n\t\t\t$doc.getById( hicolorTextId ).setHtml( '&nbsp;' );\n\t\t}\n\t}\n\n\tfunction onKeyStrokes( evt ) {\n\t\tvar domEvt = evt.data;\n\n\t\tvar element = domEvt.getTarget();\n\t\tvar relative, nodeToMove;\n\t\tvar keystroke = domEvt.getKeystroke(),\n\t\t\trtl = editor.lang.dir == 'rtl';\n\n\t\tswitch ( keystroke ) {\n\t\t\t// UP-ARROW\n\t\t\tcase 38:\n\t\t\t\t// relative is TR\n\t\t\t\tif ( ( relative = element.getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ element.getIndex() ] );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t}\n\t\t\t\tdomEvt.preventDefault();\n\t\t\t\tbreak;\n\t\t\t// DOWN-ARROW\n\t\t\tcase 40:\n\t\t\t\t// relative is TR\n\t\t\t\tif ( ( relative = element.getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ element.getIndex() ] );\n\t\t\t\t\tif ( nodeToMove && nodeToMove.type == 1 )\n\t\t\t\t\t\tnodeToMove.focus();\n\n\t\t\t\t}\n\t\t\t\tdomEvt.preventDefault();\n\t\t\t\tbreak;\n\n\t\t\t// SPACE\n\t\t\t// ENTER\n\t\t\tcase 32:\n\t\t\tcase 13:\n\t\t\t\tupdateSelected( evt );\n\t\t\t\tdomEvt.preventDefault();\n\t\t\t\tbreak;\n\n\t\t\t// RIGHT-ARROW\n\t\t\tcase rtl ? 37 : 39:\n\t\t\t\t// relative is TD\n\t\t\t\tif ( ( nodeToMove = element.getNext() ) ) {\n\t\t\t\t\tif ( nodeToMove.type == 1 ) {\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\t\tdomEvt.preventDefault( true );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// relative is TR\n\t\t\t\telse if ( ( relative = element.getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ 0 ] );\n\t\t\t\t\tif ( nodeToMove && nodeToMove.type == 1 ) {\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\t\tdomEvt.preventDefault( true );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t// LEFT-ARROW\n\t\t\tcase rtl ? 39 : 37:\n\t\t\t\t// relative is TD\n\t\t\t\tif ( ( nodeToMove = element.getPrevious() ) ) {\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tdomEvt.preventDefault( true );\n\t\t\t\t}\n\t\t\t\t// relative is TR\n\t\t\t\telse if ( ( relative = element.getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getLast();\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tdomEvt.preventDefault( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Do not stop not handled events.\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tfunction createColorTable() {\n\t\ttable = CKEDITOR.dom.element.createFromHtml( '<table tabIndex=\"-1\" class=\"cke_colordialog_table\"' +\n\t\t\t' aria-label=\"' + lang.options + '\" role=\"grid\" style=\"border-collapse:separate;\" cellspacing=\"0\">' +\n\t\t\t'<caption class=\"cke_voice_label\">' + lang.options + '</caption>' +\n\t\t\t'<tbody role=\"presentation\"></tbody></table>' );\n\n\t\ttable.on( 'mouseover', updateHighlight );\n\t\ttable.on( 'mouseout', removeHighlight );\n\n\t\t// Create the base colors array.\n\t\tvar aColors = [ '00', '33', '66', '99', 'cc', 'ff' ];\n\n\t\t// This function combines two ranges of three values from the color array into a row.\n\t\tfunction appendColorRow( rangeA, rangeB ) {\n\t\t\tfor ( var i = rangeA; i < rangeA + 3; i++ ) {\n\t\t\t\tvar row = new $el( table.$.insertRow( -1 ) );\n\t\t\t\trow.setAttribute( 'role', 'row' );\n\n\t\t\t\tfor ( var j = rangeB; j < rangeB + 3; j++ ) {\n\t\t\t\t\tfor ( var n = 0; n < 6; n++ ) {\n\t\t\t\t\t\tappendColorCell( row.$, '#' + aColors[ j ] + aColors[ n ] + aColors[ i ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// This function create a single color cell in the color table.\n\t\tfunction appendColorCell( targetRow, color ) {\n\t\t\tvar cell = new $el( targetRow.insertCell( -1 ) );\n\t\t\tcell.setAttribute( 'class', 'ColorCell ' + colorCellCls );\n\t\t\tcell.setAttribute( 'tabIndex', -1 );\n\t\t\tcell.setAttribute( 'role', 'gridcell' );\n\n\t\t\tcell.on( 'keydown', onKeyStrokes );\n\t\t\tcell.on( 'click', updateSelected );\n\t\t\tcell.on( 'focus', updateHighlight );\n\t\t\tcell.on( 'blur', removeHighlight );\n\n\t\t\tcell.setStyle( 'background-color', color );\n\n\t\t\tvar colorLabel = numbering( 'color_table_cell' );\n\t\t\tcell.setAttribute( 'aria-labelledby', colorLabel );\n\t\t\tcell.append( CKEDITOR.dom.element.createFromHtml( '<span id=\"' + colorLabel + '\" class=\"cke_voice_label\">' + color + '</span>', CKEDITOR.document ) );\n\t\t}\n\n\t\tappendColorRow( 0, 0 );\n\t\tappendColorRow( 3, 0 );\n\t\tappendColorRow( 0, 3 );\n\t\tappendColorRow( 3, 3 );\n\n\t\t// Create the last row.\n\t\tvar oRow = new $el( table.$.insertRow( -1 ) );\n\t\toRow.setAttribute( 'role', 'row' );\n\n\t\t// Create the gray scale colors cells.\n\t\tappendColorCell( oRow.$, '#000000' );\n\t\tfor ( var n = 0; n < 16; n++  ) {\n\t\t\tvar c = n.toString( 16 );\n\t\t\tappendColorCell( oRow.$, '#' + c + c + c + c + c + c );\n\t\t}\n\t\tappendColorCell( oRow.$, '#ffffff' );\n\t}\n\n\tvar numbering = function( id ) {\n\t\t\treturn CKEDITOR.tools.getNextId() + '_' + id;\n\t\t},\n\t\thicolorId = numbering( 'hicolor' ),\n\t\thicolorTextId = numbering( 'hicolortext' ),\n\t\tselHiColorId = numbering( 'selhicolor' ),\n\t\ttable;\n\n\tcreateColorTable();\n\n\t// Load CSS.\n\tCKEDITOR.document.appendStyleSheet( CKEDITOR.getUrl( CKEDITOR.plugins.get( 'colordialog' ).path + 'dialogs/colordialog.css' ) );\n\n\treturn {\n\t\ttitle: lang.title,\n\t\tminWidth: 360,\n\t\tminHeight: 220,\n\t\tonLoad: function() {\n\t\t\t// Update reference.\n\t\t\tdialog = this;\n\t\t},\n\t\tonHide: function() {\n\t\t\tclearSelected();\n\t\t\tclearHighlight();\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'picker',\n\t\t\tlabel: lang.title,\n\t\t\taccessKey: 'I',\n\t\t\telements: [ {\n\t\t\t\ttype: 'hbox',\n\t\t\t\tpadding: 0,\n\t\t\t\twidths: [ '70%', '10%', '30%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\thtml: '<div></div>',\n\t\t\t\t\tonLoad: function() {\n\t\t\t\t\t\tCKEDITOR.document.getById( this.domId ).append( table );\n\t\t\t\t\t},\n\t\t\t\t\tfocus: function() {\n\t\t\t\t\t\t// Restore the previously focused cell,\n\t\t\t\t\t\t// otherwise put the initial focus on the first table cell.\n\t\t\t\t\t\t( focused || this.getElement().getElementsByTag( 'td' ).getItem( 0 ) ).focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tspacer,\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\twidths: [ '70%', '5%', '25%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\thtml: '<span>' + lang.highlight + '</span>' +\n\t\t\t\t\t\t\t'<div id=\"' + hicolorId + '\" style=\"border: 1px solid; height: 74px; width: 74px;\"></div>' +\n\t\t\t\t\t\t\t'<div id=\"' + hicolorTextId + '\">&nbsp;</div><span>' + lang.selected + '</span>' +\n\t\t\t\t\t\t\t'<div id=\"' + selHiColorId + '\" style=\"border: 1px solid; height: 20px; width: 74px;\"></div>'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: lang.selected,\n\t\t\t\t\t\tlabelStyle: 'display:none',\n\t\t\t\t\t\tid: 'selectedColor',\n\t\t\t\t\t\tstyle: 'width: 76px;margin-top:4px',\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t// Try to update color preview with new value. If fails, then set it no none.\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t$doc.getById( selHiColorId ).setStyle( 'background-color', this.getValue() );\n\t\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\t\tclearSelected();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tspacer,\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'clear',\n\t\t\t\t\t\tlabel: lang.clear,\n\t\t\t\t\t\tonClick: clearSelected\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/colordialog/dialogs/colordialog.js\n **/","/*\n * Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\n\t// Add to collection with DUP examination.\n\t// @param {Object} collection\n\t// @param {Object} element\n\t// @param {Object} database\n\tfunction addSafely( collection, element, database ) {\n\t\t// 1. IE doesn't support customData on text nodes;\n\t\t// 2. Text nodes never get chance to appear twice;\n\t\tif ( !element.is || !element.getCustomData( 'block_processed' ) ) {\n\t\t\telement.is && CKEDITOR.dom.element.setMarker( database, element, 'block_processed', true );\n\t\t\tcollection.push( element );\n\t\t}\n\t}\n\n\t// Dialog reused by both 'creatediv' and 'editdiv' commands.\n\t// @param {Object} editor\n\t// @param {String} command\tThe command name which indicate what the current command is.\n\tfunction divDialog( editor, command ) {\n\t\t// Definition of elements at which div operation should stopped.\n\t\tvar divLimitDefinition = ( function() {\n\n\t\t\t// Customzie from specialize blockLimit elements\n\t\t\tvar definition = CKEDITOR.tools.extend( {}, CKEDITOR.dtd.$blockLimit );\n\n\t\t\tif ( editor.config.div_wrapTable ) {\n\t\t\t\tdelete definition.td;\n\t\t\t\tdelete definition.th;\n\t\t\t}\n\t\t\treturn definition;\n\t\t} )();\n\n\t\t// DTD of 'div' element\n\t\tvar dtd = CKEDITOR.dtd.div;\n\n\t\t// Get the first div limit element on the element's path.\n\t\t// @param {Object} element\n\t\tfunction getDivContainer( element ) {\n\t\t\tvar container = editor.elementPath( element ).blockLimit;\n\n\t\t\t// Never consider read-only (i.e. contenteditable=false) element as\n\t\t\t// a first div limit (#11083).\n\t\t\tif ( container.isReadOnly() )\n\t\t\t\tcontainer = container.getParent();\n\n\t\t\t// Dont stop at 'td' and 'th' when div should wrap entire table.\n\t\t\tif ( editor.config.div_wrapTable && container.is( [ 'td', 'th' ] ) ) {\n\t\t\t\tvar parentPath = editor.elementPath( container.getParent() );\n\t\t\t\tcontainer = parentPath.blockLimit;\n\t\t\t}\n\n\t\t\treturn container;\n\t\t}\n\n\t\t// Init all fields' setup/commit function.\n\t\t// @memberof divDialog\n\t\tfunction setupFields() {\n\t\t\tthis.foreach( function( field ) {\n\t\t\t\t// Exclude layout container elements\n\t\t\t\tif ( /^(?!vbox|hbox)/.test( field.type ) ) {\n\t\t\t\t\tif ( !field.setup ) {\n\t\t\t\t\t\t// Read the dialog fields values from the specified\n\t\t\t\t\t\t// element attributes.\n\t\t\t\t\t\tfield.setup = function( element ) {\n\t\t\t\t\t\t\tfield.setValue( element.getAttribute( field.id ) || '', 1 );\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif ( !field.commit ) {\n\t\t\t\t\t\t// Set element attributes assigned by the dialog\n\t\t\t\t\t\t// fields.\n\t\t\t\t\t\tfield.commit = function( element ) {\n\t\t\t\t\t\t\tvar fieldValue = this.getValue();\n\t\t\t\t\t\t\t// ignore default element attribute values\n\t\t\t\t\t\t\tif ( field.id == 'dir' && element.getComputedStyle( 'direction' ) == fieldValue ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( fieldValue )\n\t\t\t\t\t\t\t\telement.setAttribute( field.id, fieldValue );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\telement.removeAttribute( field.id );\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Wrapping 'div' element around appropriate blocks among the selected ranges.\n\t\t// @param {Object} editor\n\t\tfunction createDiv( editor ) {\n\t\t\t// new adding containers OR detected pre-existed containers.\n\t\t\tvar containers = [];\n\t\t\t// node markers store.\n\t\t\tvar database = {};\n\t\t\t// All block level elements which contained by the ranges.\n\t\t\tvar containedBlocks = [],\n\t\t\t\tblock;\n\n\t\t\t// Get all ranges from the selection.\n\t\t\tvar selection = editor.getSelection(),\n\t\t\t\tranges = selection.getRanges();\n\t\t\tvar bookmarks = selection.createBookmarks();\n\t\t\tvar i, iterator;\n\n\t\t\t// collect all included elements from dom-iterator\n\t\t\tfor ( i = 0; i < ranges.length; i++ ) {\n\t\t\t\titerator = ranges[ i ].createIterator();\n\t\t\t\twhile ( ( block = iterator.getNextParagraph() ) ) {\n\t\t\t\t\t// include contents of blockLimit elements.\n\t\t\t\t\tif ( block.getName() in divLimitDefinition && !block.isReadOnly() ) {\n\t\t\t\t\t\tvar j,\n\t\t\t\t\t\t\tchildNodes = block.getChildren();\n\t\t\t\t\t\tfor ( j = 0; j < childNodes.count(); j++ )\n\t\t\t\t\t\t\taddSafely( containedBlocks, childNodes.getItem( j ), database );\n\t\t\t\t\t} else {\n\t\t\t\t\t\twhile ( !dtd[ block.getName() ] && !block.equals( ranges[ i ].root ) )\n\t\t\t\t\t\t\tblock = block.getParent();\n\t\t\t\t\t\taddSafely( containedBlocks, block, database );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\n\t\t\tvar blockGroups = groupByDivLimit( containedBlocks );\n\t\t\tvar ancestor, divElement;\n\n\t\t\tfor ( i = 0; i < blockGroups.length; i++ ) {\n\t\t\t\tvar currentNode = blockGroups[ i ][ 0 ];\n\n\t\t\t\t// Calculate the common parent node of all contained elements.\n\t\t\t\tancestor = currentNode.getParent();\n\t\t\t\tfor ( j = 1; j < blockGroups[ i ].length; j++ )\n\t\t\t\t\tancestor = ancestor.getCommonAncestor( blockGroups[ i ][ j ] );\n\n\t\t\t\tdivElement = new CKEDITOR.dom.element( 'div', editor.document );\n\n\t\t\t\t// Normalize the blocks in each group to a common parent.\n\t\t\t\tfor ( j = 0; j < blockGroups[ i ].length; j++ ) {\n\t\t\t\t\tcurrentNode = blockGroups[ i ][ j ];\n\n\t\t\t\t\twhile ( !currentNode.getParent().equals( ancestor ) )\n\t\t\t\t\t\tcurrentNode = currentNode.getParent();\n\n\t\t\t\t\t// This could introduce some duplicated elements in array.\n\t\t\t\t\tblockGroups[ i ][ j ] = currentNode;\n\t\t\t\t}\n\n\t\t\t\t// Wrapped blocks counting\n\t\t\t\tfor ( j = 0; j < blockGroups[ i ].length; j++ ) {\n\t\t\t\t\tcurrentNode = blockGroups[ i ][ j ];\n\n\t\t\t\t\t// Avoid DUP elements introduced by grouping.\n\t\t\t\t\tif ( !( currentNode.getCustomData && currentNode.getCustomData( 'block_processed' ) ) ) {\n\t\t\t\t\t\tcurrentNode.is && CKEDITOR.dom.element.setMarker( database, currentNode, 'block_processed', true );\n\n\t\t\t\t\t\t// Establish new container, wrapping all elements in this group.\n\t\t\t\t\t\tif ( !j )\n\t\t\t\t\t\t\tdivElement.insertBefore( currentNode );\n\n\t\t\t\t\t\tdivElement.append( currentNode );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers( database );\n\t\t\t\tcontainers.push( divElement );\n\t\t\t}\n\n\t\t\tselection.selectBookmarks( bookmarks );\n\t\t\treturn containers;\n\t\t}\n\n\t\t// Divide a set of nodes to different groups by their path's blocklimit element.\n\t\t// Note: the specified nodes should be in source order naturally, which mean they are supposed to producea by following class:\n\t\t//  * CKEDITOR.dom.range.Iterator\n\t\t//  * CKEDITOR.dom.domWalker\n\t\t// @returns {Array[]} the grouped nodes\n\t\tfunction groupByDivLimit( nodes ) {\n\t\t\tvar groups = [],\n\t\t\t\tlastDivLimit = null,\n\t\t\t\tblock;\n\n\t\t\tfor ( var i = 0; i < nodes.length; i++ ) {\n\t\t\t\tblock = nodes[ i ];\n\t\t\t\tvar limit = getDivContainer( block );\n\t\t\t\tif ( !limit.equals( lastDivLimit ) ) {\n\t\t\t\t\tlastDivLimit = limit;\n\t\t\t\t\tgroups.push( [] );\n\t\t\t\t}\n\t\t\t\tgroups[ groups.length - 1 ].push( block );\n\t\t\t}\n\t\t\treturn groups;\n\t\t}\n\n\t\t// Synchronous field values to other impacted fields is required, e.g. div styles\n\t\t// change should also alter inline-style text.\n\t\tfunction commitInternally( targetFields ) {\n\t\t\tvar dialog = this.getDialog(),\n\t\t\t\telement = dialog._element && dialog._element.clone() || new CKEDITOR.dom.element( 'div', editor.document );\n\n\t\t\t// Commit this field and broadcast to target fields.\n\t\t\tthis.commit( element, true );\n\n\t\t\ttargetFields = [].concat( targetFields );\n\t\t\tvar length = targetFields.length,\n\t\t\t\tfield;\n\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\tfield = dialog.getContentElement.apply( dialog, targetFields[ i ].split( ':' ) );\n\t\t\t\tfield && field.setup && field.setup( element, true );\n\t\t\t}\n\t\t}\n\n\n\t\t// Registered 'CKEDITOR.style' instances.\n\t\tvar styles = {};\n\n\t\t// Hold a collection of created block container elements.\n\t\tvar containers = [];\n\n\t\t// @type divDialog\n\t\treturn {\n\t\t\ttitle: editor.lang.div.title,\n\t\t\tminWidth: 400,\n\t\t\tminHeight: 165,\n\t\t\tcontents: [ {\n\t\t\t\tid: 'info',\n\t\t\t\tlabel: editor.lang.common.generalTab,\n\t\t\t\ttitle: editor.lang.common.generalTab,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'elementStyle',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\tlabel: editor.lang.div.styleSelectLabel,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t// Options are loaded dynamically.\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\tcommitInternally.call( this, [ 'info:elementStyle', 'info:class', 'advanced:dir', 'advanced:style' ] );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\t\tfor ( var name in styles )\n\t\t\t\t\t\t\t\tstyles[ name ].checkElementRemovable( element, true, editor ) && this.setValue( name, 1 );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\tvar styleName;\n\t\t\t\t\t\t\tif ( ( styleName = this.getValue() ) ) {\n\t\t\t\t\t\t\t\tvar style = styles[ styleName ];\n\t\t\t\t\t\t\t\tstyle.applyToObject( element, editor );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\telement.removeAttribute( 'style' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'class',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: 'div(cke-xyz)', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\tlabel: editor.lang.common.cssClass,\n\t\t\t\t\t\t'default': ''\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'advanced',\n\t\t\t\tlabel: editor.lang.common.advancedTab,\n\t\t\t\ttitle: editor.lang.common.advancedTab,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 1,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'id',\n\t\t\t\t\t\t\trequiredContent: 'div[id]',\n\t\t\t\t\t\t\tlabel: editor.lang.common.id,\n\t\t\t\t\t\t\t'default': ''\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'lang',\n\t\t\t\t\t\t\trequiredContent: 'div[lang]',\n\t\t\t\t\t\t\tlabel: editor.lang.common.langCode,\n\t\t\t\t\t\t\t'default': ''\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'style',\n\t\t\t\t\t\t\trequiredContent: 'div{cke-xyz}', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\t\tlabel: editor.lang.common.cssStyle,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\t\telement.setAttribute( 'style', this.getValue() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'title',\n\t\t\t\t\t\t\trequiredContent: 'div[title]',\n\t\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\t\tlabel: editor.lang.common.advisoryTitle,\n\t\t\t\t\t\t\t'default': ''\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tid: 'dir',\n\t\t\t\t\t\trequiredContent: 'div[dir]',\n\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\tlabel: editor.lang.common.langDir,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.common.langDirLtr, 'ltr' ],\n\t\t\t\t\t\t\t[ editor.lang.common.langDirRtl, 'rtl' ]\n\t\t\t\t\t\t]\n\t\t\t\t\t} ] }\n\t\t\t\t]\n\t\t\t} ],\n\t\t\tonLoad: function() {\n\t\t\t\tsetupFields.call( this );\n\n\t\t\t\t// Preparing for the 'elementStyle' field.\n\t\t\t\tvar dialog = this,\n\t\t\t\t\tstylesField = this.getContentElement( 'info', 'elementStyle' );\n\n\t\t\t\t// Reuse the 'stylescombo' plugin's styles definition.\n\t\t\t\teditor.getStylesSet( function( stylesDefinitions ) {\n\t\t\t\t\tvar styleName, style;\n\n\t\t\t\t\tif ( stylesDefinitions ) {\n\t\t\t\t\t\t// Digg only those styles that apply to 'div'.\n\t\t\t\t\t\tfor ( var i = 0; i < stylesDefinitions.length; i++ ) {\n\t\t\t\t\t\t\tvar styleDefinition = stylesDefinitions[ i ];\n\t\t\t\t\t\t\tif ( styleDefinition.element && styleDefinition.element == 'div' ) {\n\t\t\t\t\t\t\t\tstyleName = styleDefinition.name;\n\t\t\t\t\t\t\t\tstyles[ styleName ] = style = new CKEDITOR.style( styleDefinition );\n\n\t\t\t\t\t\t\t\tif ( editor.filter.check( style ) ) {\n\t\t\t\t\t\t\t\t\t// Populate the styles field options with style name.\n\t\t\t\t\t\t\t\t\tstylesField.items.push( [ styleName, styleName ] );\n\t\t\t\t\t\t\t\t\tstylesField.add( styleName, styleName );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// We should disable the content element\n\t\t\t\t\t// it if no options are available at all.\n\t\t\t\t\tstylesField[ stylesField.items.length > 1 ? 'enable' : 'disable' ]();\n\n\t\t\t\t\t// Now setup the field value manually if dialog was opened on element. (#9689)\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tdialog._element && stylesField.setup( dialog._element );\n\t\t\t\t\t}, 0 );\n\t\t\t\t} );\n\t\t\t},\n\t\t\tonShow: function() {\n\t\t\t\t// Whether always create new container regardless of existed\n\t\t\t\t// ones.\n\t\t\t\tif ( command == 'editdiv' ) {\n\t\t\t\t\t// Try to discover the containers that already existed in\n\t\t\t\t\t// ranges\n\t\t\t\t\t// update dialog field values\n\t\t\t\t\tthis.setupContent( this._element = CKEDITOR.plugins.div.getSurroundDiv( editor ) );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonOk: function() {\n\t\t\t\tif ( command == 'editdiv' )\n\t\t\t\t\tcontainers = [ this._element ];\n\t\t\t\telse\n\t\t\t\t\tcontainers = createDiv( editor, true );\n\n\t\t\t\t// Update elements attributes\n\t\t\t\tvar size = containers.length;\n\t\t\t\tfor ( var i = 0; i < size; i++ ) {\n\t\t\t\t\tthis.commitContent( containers[ i ] );\n\n\t\t\t\t\t// Remove empty 'style' attribute.\n\t\t\t\t\t!containers[ i ].getAttribute( 'style' ) && containers[ i ].removeAttribute( 'style' );\n\t\t\t\t}\n\n\t\t\t\tthis.hide();\n\t\t\t},\n\t\t\tonHide: function() {\n\t\t\t\t// Remove style only when editing existing DIV. (#6315)\n\t\t\t\tif ( command == 'editdiv' )\n\t\t\t\t\tthis._element.removeCustomData( 'elementStyle' );\n\t\t\t\tdelete this._element;\n\t\t\t}\n\t\t};\n\t}\n\n\tCKEDITOR.dialog.add( 'creatediv', function( editor ) {\n\t\treturn divDialog( editor, 'creatediv' );\n\t} );\n\n\tCKEDITOR.dialog.add( 'editdiv', function( editor ) {\n\t\treturn divDialog( editor, 'editdiv' );\n\t} );\n\n} )();\n\n/**\n * Whether to wrap the entire table instead of individual cells when creating a `<div>` in a table cell.\n *\n *\t\tconfig.div_wrapTable = true;\n *\n * @cfg {Boolean} [div_wrapTable=false]\n * @member CKEDITOR.config\n */\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/div/dialogs/div.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar isReplace;\n\n\tfunction findEvaluator( node ) {\n\t\treturn node.type == CKEDITOR.NODE_TEXT && node.getLength() > 0 && ( !isReplace || !node.isReadOnly() );\n\t}\n\n\t// Elements which break characters been considered as sequence.\n\tfunction nonCharactersBoundary( node ) {\n\t\treturn !( node.type == CKEDITOR.NODE_ELEMENT && node.isBlockBoundary( CKEDITOR.tools.extend( {}, CKEDITOR.dtd.$empty, CKEDITOR.dtd.$nonEditable ) ) );\n\t}\n\n\t// Get the cursor object which represent both current character and it's dom\n\t// position thing.\n\tvar cursorStep = function() {\n\t\treturn {\n\t\t\ttextNode: this.textNode,\n\t\t\toffset: this.offset,\n\t\t\tcharacter: this.textNode ? this.textNode.getText().charAt( this.offset ) : null,\n\t\t\thitMatchBoundary: this._.matchBoundary\n\t\t};\n\t};\n\n\tvar pages = [ 'find', 'replace' ],\n\t\tfieldsMapping = [\n\t\t\t[ 'txtFindFind', 'txtFindReplace' ],\n\t\t\t[ 'txtFindCaseChk', 'txtReplaceCaseChk' ],\n\t\t\t[ 'txtFindWordChk', 'txtReplaceWordChk' ],\n\t\t\t[ 'txtFindCyclic', 'txtReplaceCyclic' ]\n\t\t];\n\n\t// Synchronize corresponding filed values between 'replace' and 'find' pages.\n\t// @param {String} currentPageId\tThe page id which receive values.\n\tfunction syncFieldsBetweenTabs( currentPageId ) {\n\t\tvar sourceIndex, targetIndex, sourceField, targetField;\n\n\t\tsourceIndex = currentPageId === 'find' ? 1 : 0;\n\t\ttargetIndex = 1 - sourceIndex;\n\t\tvar i,\n\t\t\tl = fieldsMapping.length;\n\t\tfor ( i = 0; i < l; i++ ) {\n\t\t\tsourceField = this.getContentElement( pages[ sourceIndex ], fieldsMapping[ i ][ sourceIndex ] );\n\t\t\ttargetField = this.getContentElement( pages[ targetIndex ], fieldsMapping[ i ][ targetIndex ] );\n\n\t\t\ttargetField.setValue( sourceField.getValue() );\n\t\t}\n\t}\n\n\tfunction findDialog( editor, startupPage ) {\n\t\t// Style object for highlights: (#5018)\n\t\t// 1. Defined as full match style to avoid compromising ordinary text color styles.\n\t\t// 2. Must be apply onto inner-most text to avoid conflicting with ordinary text color styles visually.\n\t\tvar highlightConfig = {\n\t\t\tattributes: {\n\t\t\t\t'data-cke-highlight': 1\n\t\t\t},\n\t\t\tfullMatch: 1,\n\t\t\tignoreReadonly: 1,\n\t\t\tchildRule: function() {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t};\n\t\tvar highlightStyle = new CKEDITOR.style( CKEDITOR.tools.extend( highlightConfig, editor.config.find_highlight, true ) );\n\n\t\t// Iterator which walk through the specified range char by char. By\n\t\t// default the walking will not stop at the character boundaries, until\n\t\t// the end of the range is encountered.\n\t\t// @param { CKEDITOR.dom.range } range\n\t\t// @param {Boolean} matchWord Whether the walking will stop at character boundary.\n\t\tfunction characterWalker( range, matchWord ) {\n\t\t\tvar self = this;\n\t\t\tvar walker = new CKEDITOR.dom.walker( range );\n\t\t\twalker.guard = matchWord ? nonCharactersBoundary : function( node ) {\n\t\t\t\t!nonCharactersBoundary( node ) && ( self._.matchBoundary = true );\n\t\t\t};\n\t\t\twalker.evaluator = findEvaluator;\n\t\t\twalker.breakOnFalse = 1;\n\n\t\t\tif ( range.startContainer.type == CKEDITOR.NODE_TEXT ) {\n\t\t\t\tthis.textNode = range.startContainer;\n\t\t\t\tthis.offset = range.startOffset - 1;\n\t\t\t}\n\n\t\t\tthis._ = {\n\t\t\t\tmatchWord: matchWord,\n\t\t\t\twalker: walker,\n\t\t\t\tmatchBoundary: false\n\t\t\t};\n\t\t}\n\n\t\tcharacterWalker.prototype = {\n\t\t\tnext: function() {\n\t\t\t\treturn this.move();\n\t\t\t},\n\n\t\t\tback: function() {\n\t\t\t\treturn this.move( true );\n\t\t\t},\n\n\t\t\tmove: function( rtl ) {\n\t\t\t\tvar currentTextNode = this.textNode;\n\t\t\t\t// Already at the end of document, no more character available.\n\t\t\t\tif ( currentTextNode === null )\n\t\t\t\t\treturn cursorStep.call( this );\n\n\t\t\t\tthis._.matchBoundary = false;\n\n\t\t\t\t// There are more characters in the text node, step forward.\n\t\t\t\tif ( currentTextNode && rtl && this.offset > 0 ) {\n\t\t\t\t\tthis.offset--;\n\t\t\t\t\treturn cursorStep.call( this );\n\t\t\t\t} else if ( currentTextNode && this.offset < currentTextNode.getLength() - 1 ) {\n\t\t\t\t\tthis.offset++;\n\t\t\t\t\treturn cursorStep.call( this );\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTextNode = null;\n\t\t\t\t\t// At the end of the text node, walking foward for the next.\n\t\t\t\t\twhile ( !currentTextNode ) {\n\t\t\t\t\t\tcurrentTextNode = this._.walker[ rtl ? 'previous' : 'next' ].call( this._.walker );\n\n\t\t\t\t\t\t// Stop searching if we're need full word match OR\n\t\t\t\t\t\t// already reach document end.\n\t\t\t\t\t\tif ( this._.matchWord && !currentTextNode || this._.walker._.end )\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t// Found a fresh text node.\n\t\t\t\t\tthis.textNode = currentTextNode;\n\t\t\t\t\tif ( currentTextNode )\n\t\t\t\t\t\tthis.offset = rtl ? currentTextNode.getLength() - 1 : 0;\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.offset = 0;\n\t\t\t\t}\n\n\t\t\t\treturn cursorStep.call( this );\n\t\t\t}\n\n\t\t};\n\n\t\t/**\n\t\t * A range of cursors which represent a trunk of characters which try to\n\t\t * match, it has the same length as the pattern  string.\n\t\t *\n\t\t * **Note:** This class isn't accessible from global scope.\n\t\t *\n\t\t * @private\n\t\t * @class CKEDITOR.plugins.find.characterRange\n\t\t * @constructor Creates a characterRange class instance.\n\t\t */\n\t\tvar characterRange = function( characterWalker, rangeLength ) {\n\t\t\tthis._ = {\n\t\t\t\twalker: characterWalker,\n\t\t\t\tcursors: [],\n\t\t\t\trangeLength: rangeLength,\n\t\t\t\thighlightRange: null,\n\t\t\t\tisMatched: 0\n\t\t\t};\n\t\t};\n\n\t\tcharacterRange.prototype = {\n\t\t\t/**\n\t\t\t * Translate this range to {@link CKEDITOR.dom.range}.\n\t\t\t */\n\t\t\ttoDomRange: function() {\n\t\t\t\tvar range = editor.createRange();\n\t\t\t\tvar cursors = this._.cursors;\n\t\t\t\tif ( cursors.length < 1 ) {\n\t\t\t\t\tvar textNode = this._.walker.textNode;\n\t\t\t\t\tif ( textNode )\n\t\t\t\t\t\trange.setStartAfter( textNode );\n\t\t\t\t\telse\n\t\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\tvar first = cursors[ 0 ],\n\t\t\t\t\t\tlast = cursors[ cursors.length - 1 ];\n\n\t\t\t\t\trange.setStart( first.textNode, first.offset );\n\t\t\t\t\trange.setEnd( last.textNode, last.offset + 1 );\n\t\t\t\t}\n\n\t\t\t\treturn range;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Reflect the latest changes from dom range.\n\t\t\t */\n\t\t\tupdateFromDomRange: function( domRange ) {\n\t\t\t\tvar cursor,\n\t\t\t\t\twalker = new characterWalker( domRange );\n\t\t\t\tthis._.cursors = [];\n\t\t\t\tdo {\n\t\t\t\t\tcursor = walker.next();\n\t\t\t\t\tif ( cursor.character ) this._.cursors.push( cursor );\n\t\t\t\t}\n\t\t\t\twhile ( cursor.character );\n\t\t\t\tthis._.rangeLength = this._.cursors.length;\n\t\t\t},\n\n\t\t\tsetMatched: function() {\n\t\t\t\tthis._.isMatched = true;\n\t\t\t},\n\n\t\t\tclearMatched: function() {\n\t\t\t\tthis._.isMatched = false;\n\t\t\t},\n\n\t\t\tisMatched: function() {\n\t\t\t\treturn this._.isMatched;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Hightlight the current matched chunk of text.\n\t\t\t */\n\t\t\thighlight: function() {\n\t\t\t\t// Do not apply if nothing is found.\n\t\t\t\tif ( this._.cursors.length < 1 )\n\t\t\t\t\treturn;\n\n\t\t\t\t// Remove the previous highlight if there's one.\n\t\t\t\tif ( this._.highlightRange )\n\t\t\t\t\tthis.removeHighlight();\n\n\t\t\t\t// Apply the highlight.\n\t\t\t\tvar range = this.toDomRange(),\n\t\t\t\t\tbookmark = range.createBookmark();\n\t\t\t\thighlightStyle.applyToRange( range, editor );\n\t\t\t\trange.moveToBookmark( bookmark );\n\t\t\t\tthis._.highlightRange = range;\n\n\t\t\t\t// Scroll the editor to the highlighted area.\n\t\t\t\tvar element = range.startContainer;\n\t\t\t\tif ( element.type != CKEDITOR.NODE_ELEMENT )\n\t\t\t\t\telement = element.getParent();\n\t\t\t\telement.scrollIntoView();\n\n\t\t\t\t// Update the character cursors.\n\t\t\t\tthis.updateFromDomRange( range );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Remove highlighted find result.\n\t\t\t */\n\t\t\tremoveHighlight: function() {\n\t\t\t\tif ( !this._.highlightRange )\n\t\t\t\t\treturn;\n\n\t\t\t\tvar bookmark = this._.highlightRange.createBookmark();\n\t\t\t\thighlightStyle.removeFromRange( this._.highlightRange, editor );\n\t\t\t\tthis._.highlightRange.moveToBookmark( bookmark );\n\t\t\t\tthis.updateFromDomRange( this._.highlightRange );\n\t\t\t\tthis._.highlightRange = null;\n\t\t\t},\n\n\t\t\tisReadOnly: function() {\n\t\t\t\tif ( !this._.highlightRange )\n\t\t\t\t\treturn 0;\n\n\t\t\t\treturn this._.highlightRange.startContainer.isReadOnly();\n\t\t\t},\n\n\t\t\tmoveBack: function() {\n\t\t\t\tvar retval = this._.walker.back(),\n\t\t\t\t\tcursors = this._.cursors;\n\n\t\t\t\tif ( retval.hitMatchBoundary )\n\t\t\t\t\tthis._.cursors = cursors = [];\n\n\t\t\t\tcursors.unshift( retval );\n\t\t\t\tif ( cursors.length > this._.rangeLength )\n\t\t\t\t\tcursors.pop();\n\n\t\t\t\treturn retval;\n\t\t\t},\n\n\t\t\tmoveNext: function() {\n\t\t\t\tvar retval = this._.walker.next(),\n\t\t\t\t\tcursors = this._.cursors;\n\n\t\t\t\t// Clear the cursors queue if we've crossed a match boundary.\n\t\t\t\tif ( retval.hitMatchBoundary )\n\t\t\t\t\tthis._.cursors = cursors = [];\n\n\t\t\t\tcursors.push( retval );\n\t\t\t\tif ( cursors.length > this._.rangeLength )\n\t\t\t\t\tcursors.shift();\n\n\t\t\t\treturn retval;\n\t\t\t},\n\n\t\t\tgetEndCharacter: function() {\n\t\t\t\tvar cursors = this._.cursors;\n\t\t\t\tif ( cursors.length < 1 )\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn cursors[ cursors.length - 1 ].character;\n\t\t\t},\n\n\t\t\tgetNextCharacterRange: function( maxLength ) {\n\t\t\t\tvar lastCursor, nextRangeWalker,\n\t\t\t\t\tcursors = this._.cursors;\n\n\t\t\t\tif ( ( lastCursor = cursors[ cursors.length - 1 ] ) && lastCursor.textNode )\n\t\t\t\t\tnextRangeWalker = new characterWalker( getRangeAfterCursor( lastCursor ) );\n\t\t\t\t// In case it's an empty range (no cursors), figure out next range from walker (#4951).\n\t\t\t\telse\n\t\t\t\t\tnextRangeWalker = this._.walker;\n\n\t\t\t\treturn new characterRange( nextRangeWalker, maxLength );\n\t\t\t},\n\n\t\t\tgetCursors: function() {\n\t\t\t\treturn this._.cursors;\n\t\t\t}\n\t\t};\n\n\n\t\t// The remaining document range after the character cursor.\n\t\tfunction getRangeAfterCursor( cursor, inclusive ) {\n\t\t\tvar range = editor.createRange();\n\t\t\trange.setStart( cursor.textNode, ( inclusive ? cursor.offset : cursor.offset + 1 ) );\n\t\t\trange.setEndAt( editor.editable(), CKEDITOR.POSITION_BEFORE_END );\n\t\t\treturn range;\n\t\t}\n\n\t\t// The document range before the character cursor.\n\t\tfunction getRangeBeforeCursor( cursor ) {\n\t\t\tvar range = editor.createRange();\n\t\t\trange.setStartAt( editor.editable(), CKEDITOR.POSITION_AFTER_START );\n\t\t\trange.setEnd( cursor.textNode, cursor.offset );\n\t\t\treturn range;\n\t\t}\n\n\t\tvar KMP_NOMATCH = 0,\n\t\t\tKMP_ADVANCED = 1,\n\t\t\tKMP_MATCHED = 2;\n\n\t\t// Examination the occurrence of a word which implement KMP algorithm.\n\t\tvar kmpMatcher = function( pattern, ignoreCase ) {\n\t\t\tvar overlap = [ -1 ];\n\t\t\tif ( ignoreCase )\n\t\t\t\tpattern = pattern.toLowerCase();\n\t\t\tfor ( var i = 0; i < pattern.length; i++ ) {\n\t\t\t\toverlap.push( overlap[ i ] + 1 );\n\t\t\t\twhile ( overlap[ i + 1 ] > 0 && pattern.charAt( i ) != pattern.charAt( overlap[ i + 1 ] - 1 ) )\n\t\t\t\t\toverlap[ i + 1 ] = overlap[ overlap[ i + 1 ] - 1 ] + 1;\n\t\t\t}\n\n\t\t\tthis._ = {\n\t\t\t\toverlap: overlap,\n\t\t\t\tstate: 0,\n\t\t\t\tignoreCase: !!ignoreCase,\n\t\t\t\tpattern: pattern\n\t\t\t};\n\t\t};\n\n\t\tkmpMatcher.prototype = {\n\t\t\tfeedCharacter: function( c ) {\n\t\t\t\tif ( this._.ignoreCase )\n\t\t\t\t\tc = c.toLowerCase();\n\n\t\t\t\twhile ( true ) {\n\t\t\t\t\tif ( c == this._.pattern.charAt( this._.state ) ) {\n\t\t\t\t\t\tthis._.state++;\n\t\t\t\t\t\tif ( this._.state == this._.pattern.length ) {\n\t\t\t\t\t\t\tthis._.state = 0;\n\t\t\t\t\t\t\treturn KMP_MATCHED;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn KMP_ADVANCED;\n\t\t\t\t\t} else if ( !this._.state ) {\n\t\t\t\t\t\treturn KMP_NOMATCH;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._.state = this._.overlap[this._.state];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\treset: function() {\n\t\t\t\tthis._.state = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar wordSeparatorRegex = /[.,\"'?!;: \\u0085\\u00a0\\u1680\\u280e\\u2028\\u2029\\u202f\\u205f\\u3000]/;\n\n\t\tvar isWordSeparator = function( c ) {\n\t\t\tif ( !c )\n\t\t\t\treturn true;\n\t\t\tvar code = c.charCodeAt( 0 );\n\t\t\treturn ( code >= 9 && code <= 0xd ) || ( code >= 0x2000 && code <= 0x200a ) || wordSeparatorRegex.test( c );\n\t\t};\n\n\t\tvar finder = {\n\t\t\tsearchRange: null,\n\t\t\tmatchRange: null,\n\t\t\tfind: function( pattern, matchCase, matchWord, matchCyclic, highlightMatched, cyclicRerun ) {\n\t\t\t\tif ( !this.matchRange )\n\t\t\t\t\tthis.matchRange = new characterRange( new characterWalker( this.searchRange ), pattern.length );\n\t\t\t\telse {\n\t\t\t\t\tthis.matchRange.removeHighlight();\n\t\t\t\t\tthis.matchRange = this.matchRange.getNextCharacterRange( pattern.length );\n\t\t\t\t}\n\n\t\t\t\tvar matcher = new kmpMatcher( pattern, !matchCase ),\n\t\t\t\t\tmatchState = KMP_NOMATCH,\n\t\t\t\t\tcharacter = '%';\n\n\t\t\t\twhile ( character !== null ) {\n\t\t\t\t\tthis.matchRange.moveNext();\n\t\t\t\t\twhile ( ( character = this.matchRange.getEndCharacter() ) ) {\n\t\t\t\t\t\tmatchState = matcher.feedCharacter( character );\n\t\t\t\t\t\tif ( matchState == KMP_MATCHED )\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tif ( this.matchRange.moveNext().hitMatchBoundary )\n\t\t\t\t\t\t\tmatcher.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( matchState == KMP_MATCHED ) {\n\t\t\t\t\t\tif ( matchWord ) {\n\t\t\t\t\t\t\tvar cursors = this.matchRange.getCursors(),\n\t\t\t\t\t\t\t\ttail = cursors[ cursors.length - 1 ],\n\t\t\t\t\t\t\t\thead = cursors[ 0 ];\n\n\t\t\t\t\t\t\tvar rangeBefore = getRangeBeforeCursor( head ),\n\t\t\t\t\t\t\t\trangeAfter = getRangeAfterCursor( tail );\n\n\t\t\t\t\t\t\t// The word boundary checks requires to trim the text nodes. (#9036)\n\t\t\t\t\t\t\trangeBefore.trim();\n\t\t\t\t\t\t\trangeAfter.trim();\n\n\t\t\t\t\t\t\tvar headWalker = new characterWalker( rangeBefore, true ),\n\t\t\t\t\t\t\t\ttailWalker = new characterWalker( rangeAfter, true );\n\n\t\t\t\t\t\t\tif ( !( isWordSeparator( headWalker.back().character ) && isWordSeparator( tailWalker.next().character ) ) )\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.matchRange.setMatched();\n\t\t\t\t\t\tif ( highlightMatched !== false )\n\t\t\t\t\t\t\tthis.matchRange.highlight();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.matchRange.clearMatched();\n\t\t\t\tthis.matchRange.removeHighlight();\n\t\t\t\t// Clear current session and restart with the default search\n\t\t\t\t// range.\n\t\t\t\t// Re-run the finding once for cyclic.(#3517)\n\t\t\t\tif ( matchCyclic && !cyclicRerun ) {\n\t\t\t\t\tthis.searchRange = getSearchRange( 1 );\n\t\t\t\t\tthis.matchRange = null;\n\t\t\t\t\treturn arguments.callee.apply( this, Array.prototype.slice.call( arguments ).concat( [ true ] ) );\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\t// Record how much replacement occurred toward one replacing.\n\t\t\treplaceCounter: 0,\n\n\t\t\treplace: function( dialog, pattern, newString, matchCase, matchWord, matchCyclic, isReplaceAll ) {\n\t\t\t\tisReplace = 1;\n\n\t\t\t\t// Successiveness of current replace/find.\n\t\t\t\tvar result = 0,\n\t\t\t\t\tmatchOptionsChanged = this.hasMatchOptionsChanged( pattern, matchCase, matchWord );\n\n\t\t\t\t// 1. Perform the replace when there's already a match here and match options hasn't change since previous find.\n\t\t\t\t// 2. Otherwise perform the find but don't replace it immediately.\n\t\t\t\tif ( this.matchRange && this.matchRange.isMatched() && !this.matchRange._.isReplaced && !this.matchRange.isReadOnly() && !matchOptionsChanged ) {\n\t\t\t\t\t// Turn off highlight for a while when saving snapshots.\n\t\t\t\t\tthis.matchRange.removeHighlight();\n\t\t\t\t\tvar domRange = this.matchRange.toDomRange();\n\t\t\t\t\tvar text = editor.document.createText( newString );\n\t\t\t\t\tif ( !isReplaceAll ) {\n\t\t\t\t\t\t// Save undo snaps before and after the replacement.\n\t\t\t\t\t\tvar selection = editor.getSelection();\n\t\t\t\t\t\tselection.selectRanges( [ domRange ] );\n\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t\t}\n\t\t\t\t\tdomRange.deleteContents();\n\t\t\t\t\tdomRange.insertNode( text );\n\t\t\t\t\tif ( !isReplaceAll ) {\n\t\t\t\t\t\tselection.selectRanges( [ domRange ] );\n\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t\t}\n\t\t\t\t\tthis.matchRange.updateFromDomRange( domRange );\n\t\t\t\t\tif ( !isReplaceAll )\n\t\t\t\t\t\tthis.matchRange.highlight();\n\t\t\t\t\tthis.matchRange._.isReplaced = true;\n\t\t\t\t\tthis.replaceCounter++;\n\t\t\t\t\tresult = 1;\n\t\t\t\t} else {\n\t\t\t\t\t// Reset match range so new search starts from primary cursor position (not an end of selection). (#11697)\n\t\t\t\t\tif ( matchOptionsChanged && this.matchRange ) {\n\t\t\t\t\t\tthis.matchRange.clearMatched();\n\t\t\t\t\t\tthis.matchRange.removeHighlight();\n\t\t\t\t\t\tthis.matchRange = null;\n\t\t\t\t\t}\n\t\t\t\t\tresult = this.find( pattern, matchCase, matchWord, matchCyclic, !isReplaceAll );\n\t\t\t\t}\n\n\t\t\t\tisReplace = 0;\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\t// Check if pattern or match options changed since last find. (#11697)\n\t\t\tmatchOptions: null,\n\t\t\thasMatchOptionsChanged: function( pattern, matchCase, matchWord ) {\n\t\t\t\tvar matchOptions = [ pattern, matchCase, matchWord ].join( '.' ),\n\t\t\t\t\tchanged = this.matchOptions && this.matchOptions != matchOptions;\n\n\t\t\t\tthis.matchOptions = matchOptions;\n\t\t\t\treturn changed;\n\t\t\t}\n\t\t};\n\n\t\t// The range in which find/replace happened, receive from user\n\t\t// selection prior.\n\t\tfunction getSearchRange( isDefault ) {\n\t\t\tvar searchRange,\n\t\t\t\tsel = editor.getSelection(),\n\t\t\t\trange = sel.getRanges()[ 0 ],\n\t\t\t\teditable = editor.editable();\n\n\t\t\t// Blink browsers return empty array of ranges when editor is in read-only mode\n\t\t\t// and it hasn't got focus, so instead of selection, we check for range itself. (#12848)\n\t\t\tif ( range && !isDefault ) {\n\t\t\t\tsearchRange = range.clone();\n\t\t\t\tsearchRange.collapse( true );\n\t\t\t} else {\n\t\t\t\tsearchRange = editor.createRange();\n\t\t\t\tsearchRange.setStartAt( editable, CKEDITOR.POSITION_AFTER_START );\n\t\t\t}\n\t\t\tsearchRange.setEndAt( editable, CKEDITOR.POSITION_BEFORE_END );\n\t\t\treturn searchRange;\n\t\t}\n\n\t\tvar lang = editor.lang.find;\n\t\treturn {\n\t\t\ttitle: lang.title,\n\t\t\tresizable: CKEDITOR.DIALOG_RESIZE_NONE,\n\t\t\tminWidth: 350,\n\t\t\tminHeight: 170,\n\t\t\tbuttons: [\n\t\t\t\t// Close button only.\n\t\t\t\tCKEDITOR.dialog.cancelButton( editor, {\n\t\t\t\t\tlabel: editor.lang.common.close\n\t\t\t\t} )\n\t\t\t],\n\t\t\tcontents: [ {\n\t\t\t\tid: 'find',\n\t\t\t\tlabel: lang.find,\n\t\t\t\ttitle: lang.find,\n\t\t\t\taccessKey: '',\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '230px', '90px' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtFindFind',\n\t\t\t\t\t\tlabel: lang.findWhat,\n\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\taccessKey: 'F'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnFind',\n\t\t\t\t\t\talign: 'left',\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\tlabel: lang.find,\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\tvar dialog = this.getDialog();\n\t\t\t\t\t\t\tif ( !finder.find(\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'find', 'txtFindFind' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'find', 'txtFindCaseChk' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'find', 'txtFindWordChk' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'find', 'txtFindCyclic' )\n\t\t\t\t\t\t\t) ) {\n\t\t\t\t\t\t\t\talert( lang.notFoundMsg ); // jshint ignore:line\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'fieldset',\n\t\t\t\t\tlabel: CKEDITOR.tools.htmlEncode( lang.findOptions ),\n\t\t\t\t\tstyle: 'margin-top:29px',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'txtFindCaseChk',\n\t\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\t\tlabel: lang.matchCase\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'txtFindWordChk',\n\t\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\t\tlabel: lang.matchWord\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'txtFindCyclic',\n\t\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\t\t'default': true,\n\t\t\t\t\t\t\tlabel: lang.matchCyclic\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'replace',\n\t\t\t\tlabel: lang.replace,\n\t\t\t\taccessKey: 'M',\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '230px', '90px' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtFindReplace',\n\t\t\t\t\t\tlabel: lang.findWhat,\n\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\taccessKey: 'F'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnFindReplace',\n\t\t\t\t\t\talign: 'left',\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\tlabel: lang.replace,\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\tvar dialog = this.getDialog();\n\t\t\t\t\t\t\tif ( !finder.replace(\n\t\t\t\t\t\t\t\tdialog,\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtFindReplace' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplace' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplaceCaseChk' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplaceWordChk' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplaceCyclic' )\n\t\t\t\t\t\t\t) ) {\n\t\t\t\t\t\t\t\talert( lang.notFoundMsg ); // jshint ignore:line\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '230px', '90px' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtReplace',\n\t\t\t\t\t\tlabel: lang.replaceWith,\n\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\t\taccessKey: 'R'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnReplaceAll',\n\t\t\t\t\t\talign: 'left',\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\tlabel: lang.replaceAll,\n\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\tvar dialog = this.getDialog();\n\n\t\t\t\t\t\t\tfinder.replaceCounter = 0;\n\n\t\t\t\t\t\t\t// Scope to full document.\n\t\t\t\t\t\t\tfinder.searchRange = getSearchRange( 1 );\n\t\t\t\t\t\t\tif ( finder.matchRange ) {\n\t\t\t\t\t\t\t\tfinder.matchRange.removeHighlight();\n\t\t\t\t\t\t\t\tfinder.matchRange = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t\t\t\twhile ( finder.replace(\n\t\t\t\t\t\t\t\tdialog,\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtFindReplace' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplace' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplaceCaseChk' ),\n\t\t\t\t\t\t\t\tdialog.getValueOf( 'replace', 'txtReplaceWordChk' ),\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t) ) {\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( finder.replaceCounter ) {\n\t\t\t\t\t\t\t\talert( lang.replaceSuccessMsg.replace( /%1/, finder.replaceCounter ) ); // jshint ignore:line\n\t\t\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert( lang.notFoundMsg ); // jshint ignore:line\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'fieldset',\n\t\t\t\t\tlabel: CKEDITOR.tools.htmlEncode( lang.findOptions ),\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'txtReplaceCaseChk',\n\t\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\t\tlabel: lang.matchCase\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'txtReplaceWordChk',\n\t\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\t\tlabel: lang.matchWord\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'txtReplaceCyclic',\n\t\t\t\t\t\t\tisChanged: false,\n\t\t\t\t\t\t\t'default': true,\n\t\t\t\t\t\t\tlabel: lang.matchCyclic\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t} ],\n\t\t\tonLoad: function() {\n\t\t\t\tvar dialog = this;\n\n\t\t\t\t// Keep track of the current pattern field in use.\n\t\t\t\tvar patternField, wholeWordChkField;\n\n\t\t\t\t// Ignore initial page select on dialog show\n\t\t\t\tvar isUserSelect = 0;\n\t\t\t\tthis.on( 'hide', function() {\n\t\t\t\t\tisUserSelect = 0;\n\t\t\t\t} );\n\t\t\t\tthis.on( 'show', function() {\n\t\t\t\t\tisUserSelect = 1;\n\t\t\t\t} );\n\n\t\t\t\tthis.selectPage = CKEDITOR.tools.override( this.selectPage, function( originalFunc ) {\n\t\t\t\t\treturn function( pageId ) {\n\t\t\t\t\t\toriginalFunc.call( dialog, pageId );\n\n\t\t\t\t\t\tvar currPage = dialog._.tabs[ pageId ];\n\t\t\t\t\t\tvar patternFieldInput, patternFieldId, wholeWordChkFieldId;\n\t\t\t\t\t\tpatternFieldId = pageId === 'find' ? 'txtFindFind' : 'txtFindReplace';\n\t\t\t\t\t\twholeWordChkFieldId = pageId === 'find' ? 'txtFindWordChk' : 'txtReplaceWordChk';\n\n\t\t\t\t\t\tpatternField = dialog.getContentElement( pageId, patternFieldId );\n\t\t\t\t\t\twholeWordChkField = dialog.getContentElement( pageId, wholeWordChkFieldId );\n\n\t\t\t\t\t\t// Prepare for check pattern text filed 'keyup' event\n\t\t\t\t\t\tif ( !currPage.initialized ) {\n\t\t\t\t\t\t\tpatternFieldInput = CKEDITOR.document.getById( patternField._.inputId );\n\t\t\t\t\t\t\tcurrPage.initialized = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Synchronize fields on tab switch.\n\t\t\t\t\t\tif ( isUserSelect )\n\t\t\t\t\t\t\tsyncFieldsBetweenTabs.call( this, pageId );\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t},\n\t\t\tonShow: function() {\n\t\t\t\t// Establish initial searching start position.\n\t\t\t\tfinder.searchRange = getSearchRange();\n\n\t\t\t\t// Fill in the find field with selected text.\n\t\t\t\tvar selectedText = this.getParentEditor().getSelection().getSelectedText(),\n\t\t\t\t\tpatternFieldId = ( startupPage == 'find' ? 'txtFindFind' : 'txtFindReplace' );\n\n\t\t\t\tvar field = this.getContentElement( startupPage, patternFieldId );\n\t\t\t\tfield.setValue( selectedText );\n\t\t\t\tfield.select();\n\n\t\t\t\tthis.selectPage( startupPage );\n\n\t\t\t\tthis[ ( startupPage == 'find' && this._.editor.readOnly ? 'hide' : 'show' ) + 'Page' ]( 'replace' );\n\t\t\t},\n\t\t\tonHide: function() {\n\t\t\t\tvar range;\n\t\t\t\tif ( finder.matchRange && finder.matchRange.isMatched() ) {\n\t\t\t\t\tfinder.matchRange.removeHighlight();\n\t\t\t\t\teditor.focus();\n\n\t\t\t\t\trange = finder.matchRange.toDomRange();\n\t\t\t\t\tif ( range )\n\t\t\t\t\t\teditor.getSelection().selectRanges( [ range ] );\n\t\t\t\t}\n\n\t\t\t\t// Clear current session before dialog close\n\t\t\t\tdelete finder.matchRange;\n\t\t\t},\n\t\t\tonFocus: function() {\n\t\t\t\tif ( startupPage == 'replace' )\n\t\t\t\t\treturn this.getContentElement( 'replace', 'txtFindReplace' );\n\t\t\t\telse\n\t\t\t\t\treturn this.getContentElement( 'find', 'txtFindFind' );\n\t\t\t}\n\t\t};\n\t}\n\n\tCKEDITOR.dialog.add( 'find', function( editor ) {\n\t\treturn findDialog( editor, 'find' );\n\t} );\n\n\tCKEDITOR.dialog.add( 'replace', function( editor ) {\n\t\treturn findDialog( editor, 'replace' );\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/find/dialogs/find.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t// It is possible to set things in three different places.\n\t// 1. As attributes in the object tag.\n\t// 2. As param tags under the object tag.\n\t// 3. As attributes in the embed tag.\n\t// It is possible for a single attribute to be present in more than one place.\n\t// So let's define a mapping between a sementic attribute and its syntactic\n\t// equivalents.\n\t// Then we'll set and retrieve attribute values according to the mapping,\n\t// instead of having to check and set each syntactic attribute every time.\n\t//\n\t// Reference: http://kb.adobe.com/selfservice/viewContent.do?externalId=tn_12701\n\tvar ATTRTYPE_OBJECT = 1,\n\t\tATTRTYPE_PARAM = 2,\n\t\tATTRTYPE_EMBED = 4;\n\n\tvar attributesMap = {\n\t\tid: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'id'\n\t\t} ],\n\t\tclassid: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'classid'\n\t\t} ],\n\t\tcodebase: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'codebase'\n\t\t} ],\n\t\tpluginspage: [ {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'pluginspage'\n\t\t} ],\n\t\tsrc: [ {\n\t\t\ttype: ATTRTYPE_PARAM, name: 'movie'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'src'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'data'\n\t\t} ],\n\t\tname: [ {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'name'\n\t\t} ],\n\t\talign: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'align'\n\t\t} ],\n\t\t'class': [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'class'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'class'\n\t\t} ],\n\t\twidth: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'width'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'width'\n\t\t} ],\n\t\theight: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'height'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'height'\n\t\t} ],\n\t\thSpace: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'hSpace'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'hSpace'\n\t\t} ],\n\t\tvSpace: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'vSpace'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'vSpace'\n\t\t} ],\n\t\tstyle: [ {\n\t\t\ttype: ATTRTYPE_OBJECT, name: 'style'\n\t\t}, {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'style'\n\t\t} ],\n\t\ttype: [ {\n\t\t\ttype: ATTRTYPE_EMBED, name: 'type'\n\t\t} ]\n\t};\n\n\tvar names = [ 'play', 'loop', 'menu', 'quality', 'scale', 'salign', 'wmode', 'bgcolor', 'base', 'flashvars', 'allowScriptAccess', 'allowFullScreen' ];\n\tfor ( var i = 0; i < names.length; i++ ) {\n\t\tattributesMap[ names[ i ] ] = [ {\n\t\t\ttype: ATTRTYPE_EMBED, name: names[ i ]\n\t\t}, {\n\t\t\ttype: ATTRTYPE_PARAM, name: names[ i ]\n\t\t} ];\n\t}\n\n\t// These attributes are \"true\" by default and not present in editor data (when \"true\").\n\t// Note that, though default value of \"allowFullScreen\" is \"true\", it is not listed here.\n\t// \"allowFullScreen\" is present in editor data regardless of the value (#7634).\n\tnames = [ 'play', 'loop', 'menu' ];\n\tfor ( i = 0; i < names.length; i++ )\n\t\tattributesMap[ names[ i ] ][ 0 ][ 'default' ] = attributesMap[ names[ i ] ][ 1 ][ 'default' ] = true;\n\n\tfunction loadValue( objectNode, embedNode, paramMap ) {\n\t\tvar attributes = attributesMap[ this.id ];\n\t\tif ( !attributes )\n\t\t\treturn;\n\n\t\tvar isCheckbox = ( this instanceof CKEDITOR.ui.dialog.checkbox );\n\t\tfor ( var i = 0; i < attributes.length; i++ ) {\n\t\t\tvar attrDef = attributes[ i ];\n\t\t\tswitch ( attrDef.type ) {\n\t\t\t\tcase ATTRTYPE_OBJECT:\n\t\t\t\t\tif ( !objectNode )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif ( objectNode.getAttribute( attrDef.name ) !== null ) {\n\t\t\t\t\t\tvar value = objectNode.getAttribute( attrDef.name );\n\t\t\t\t\t\tif ( isCheckbox ) {\n\t\t\t\t\t\t\tthis.setValue( value.toLowerCase() == 'true' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if ( isCheckbox ) {\n\t\t\t\t\t\tthis.setValue( !!attrDef['default'] );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ATTRTYPE_PARAM:\n\t\t\t\t\tif ( !objectNode ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif ( attrDef.name in paramMap ) {\n\t\t\t\t\t\tvalue = paramMap[ attrDef.name ];\n\t\t\t\t\t\tif ( isCheckbox )\n\t\t\t\t\t\t\tthis.setValue( value.toLowerCase() == 'true' );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if ( isCheckbox ) {\n\t\t\t\t\t\tthis.setValue( !!attrDef[ 'default' ] );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ATTRTYPE_EMBED:\n\t\t\t\t\tif ( !embedNode )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif ( embedNode.getAttribute( attrDef.name ) ) {\n\t\t\t\t\t\tvalue = embedNode.getAttribute( attrDef.name );\n\t\t\t\t\t\tif ( isCheckbox )\n\t\t\t\t\t\t\tthis.setValue( value.toLowerCase() == 'true' );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if ( isCheckbox ) {\n\t\t\t\t\t\tthis.setValue( !!attrDef[ 'default' ] );\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction commitValue( objectNode, embedNode, paramMap ) {\n\t\tvar attributes = attributesMap[ this.id ];\n\t\tif ( !attributes )\n\t\t\treturn;\n\n\t\tvar isRemove = ( this.getValue() === '' ),\n\t\t\tisCheckbox = ( this instanceof CKEDITOR.ui.dialog.checkbox );\n\n\t\tfor ( var i = 0; i < attributes.length; i++ ) {\n\t\t\tvar attrDef = attributes[ i ];\n\t\t\tswitch ( attrDef.type ) {\n\t\t\t\tcase ATTRTYPE_OBJECT:\n\t\t\t\t\t// Avoid applying the data attribute when not needed (#7733)\n\t\t\t\t\tif ( !objectNode || ( attrDef.name == 'data' && embedNode && !objectNode.hasAttribute( 'data' ) ) )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\tif ( isRemove || isCheckbox && value === attrDef[ 'default' ] )\n\t\t\t\t\t\tobjectNode.removeAttribute( attrDef.name );\n\t\t\t\t\telse\n\t\t\t\t\t\tobjectNode.setAttribute( attrDef.name, value );\n\t\t\t\t\tbreak;\n\t\t\t\tcase ATTRTYPE_PARAM:\n\t\t\t\t\tif ( !objectNode )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tvalue = this.getValue();\n\t\t\t\t\tif ( isRemove || isCheckbox && value === attrDef[ 'default' ] ) {\n\t\t\t\t\t\tif ( attrDef.name in paramMap )\n\t\t\t\t\t\t\tparamMap[ attrDef.name ].remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( attrDef.name in paramMap )\n\t\t\t\t\t\t\tparamMap[ attrDef.name ].setAttribute( 'value', value );\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar param = CKEDITOR.dom.element.createFromHtml( '<cke:param></cke:param>', objectNode.getDocument() );\n\t\t\t\t\t\t\tparam.setAttributes( { name: attrDef.name, value: value } );\n\t\t\t\t\t\t\tif ( objectNode.getChildCount() < 1 )\n\t\t\t\t\t\t\t\tparam.appendTo( objectNode );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tparam.insertBefore( objectNode.getFirst() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ATTRTYPE_EMBED:\n\t\t\t\t\tif ( !embedNode )\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tvalue = this.getValue();\n\t\t\t\t\tif ( isRemove || isCheckbox && value === attrDef[ 'default' ] )\n\t\t\t\t\t\tembedNode.removeAttribute( attrDef.name );\n\t\t\t\t\telse {\n\t\t\t\t\t\tembedNode.setAttribute( attrDef.name, value );\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tCKEDITOR.dialog.add( 'flash', function( editor ) {\n\t\tvar makeObjectTag = !editor.config.flashEmbedTagOnly,\n\t\t\tmakeEmbedTag = editor.config.flashAddEmbedTag || editor.config.flashEmbedTagOnly;\n\n\t\tvar previewPreloader,\n\t\t\tpreviewAreaHtml = '<div>' + CKEDITOR.tools.htmlEncode( editor.lang.common.preview ) + '<br>' +\n\t\t\t'<div id=\"cke_FlashPreviewLoader' + CKEDITOR.tools.getNextNumber() + '\" style=\"display:none\"><div class=\"loading\">&nbsp;</div></div>' +\n\t\t\t'<div id=\"cke_FlashPreviewBox' + CKEDITOR.tools.getNextNumber() + '\" class=\"FlashPreviewBox\"></div></div>';\n\n\t\treturn {\n\t\t\ttitle: editor.lang.flash.title,\n\t\t\tminWidth: 420,\n\t\t\tminHeight: 310,\n\t\t\tonShow: function() {\n\t\t\t\t// Clear previously saved elements.\n\t\t\t\tthis.fakeImage = this.objectNode = this.embedNode = null;\n\t\t\t\tpreviewPreloader = new CKEDITOR.dom.element( 'embed', editor.document );\n\n\t\t\t\t// Try to detect any embed or object tag that has Flash parameters.\n\t\t\t\tvar fakeImage = this.getSelectedElement();\n\t\t\t\tif ( fakeImage && fakeImage.data( 'cke-real-element-type' ) && fakeImage.data( 'cke-real-element-type' ) == 'flash' ) {\n\t\t\t\t\tthis.fakeImage = fakeImage;\n\n\t\t\t\t\tvar realElement = editor.restoreRealElement( fakeImage ),\n\t\t\t\t\t\tobjectNode = null,\n\t\t\t\t\t\tembedNode = null,\n\t\t\t\t\t\tparamMap = {};\n\t\t\t\t\tif ( realElement.getName() == 'cke:object' ) {\n\t\t\t\t\t\tobjectNode = realElement;\n\t\t\t\t\t\tvar embedList = objectNode.getElementsByTag( 'embed', 'cke' );\n\t\t\t\t\t\tif ( embedList.count() > 0 )\n\t\t\t\t\t\t\tembedNode = embedList.getItem( 0 );\n\t\t\t\t\t\tvar paramList = objectNode.getElementsByTag( 'param', 'cke' );\n\t\t\t\t\t\tfor ( var i = 0, length = paramList.count(); i < length; i++ ) {\n\t\t\t\t\t\t\tvar item = paramList.getItem( i ),\n\t\t\t\t\t\t\t\tname = item.getAttribute( 'name' ),\n\t\t\t\t\t\t\t\tvalue = item.getAttribute( 'value' );\n\t\t\t\t\t\t\tparamMap[ name ] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ( realElement.getName() == 'cke:embed' ) {\n\t\t\t\t\t\tembedNode = realElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.objectNode = objectNode;\n\t\t\t\t\tthis.embedNode = embedNode;\n\n\t\t\t\t\tthis.setupContent( objectNode, embedNode, paramMap, fakeImage );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonOk: function() {\n\t\t\t\t// If there's no selected object or embed, create one. Otherwise, reuse the\n\t\t\t\t// selected object and embed nodes.\n\t\t\t\tvar objectNode = null,\n\t\t\t\t\tembedNode = null,\n\t\t\t\t\tparamMap = null;\n\t\t\t\tif ( !this.fakeImage ) {\n\t\t\t\t\tif ( makeObjectTag ) {\n\t\t\t\t\t\tobjectNode = CKEDITOR.dom.element.createFromHtml( '<cke:object></cke:object>', editor.document );\n\t\t\t\t\t\tvar attributes = {\n\t\t\t\t\t\t\tclassid: 'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000',\n\t\t\t\t\t\t\tcodebase: 'http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tobjectNode.setAttributes( attributes );\n\t\t\t\t\t}\n\t\t\t\t\tif ( makeEmbedTag ) {\n\t\t\t\t\t\tembedNode = CKEDITOR.dom.element.createFromHtml( '<cke:embed></cke:embed>', editor.document );\n\t\t\t\t\t\tembedNode.setAttributes( {\n\t\t\t\t\t\t\ttype: 'application/x-shockwave-flash',\n\t\t\t\t\t\t\tpluginspage: 'http://www.macromedia.com/go/getflashplayer'\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tif ( objectNode )\n\t\t\t\t\t\t\tembedNode.appendTo( objectNode );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tobjectNode = this.objectNode;\n\t\t\t\t\tembedNode = this.embedNode;\n\t\t\t\t}\n\n\t\t\t\t// Produce the paramMap if there's an object tag.\n\t\t\t\tif ( objectNode ) {\n\t\t\t\t\tparamMap = {};\n\t\t\t\t\tvar paramList = objectNode.getElementsByTag( 'param', 'cke' );\n\t\t\t\t\tfor ( var i = 0, length = paramList.count(); i < length; i++ )\n\t\t\t\t\t\tparamMap[ paramList.getItem( i ).getAttribute( 'name' ) ] = paramList.getItem( i );\n\t\t\t\t}\n\n\t\t\t\t// A subset of the specified attributes/styles\n\t\t\t\t// should also be applied on the fake element to\n\t\t\t\t// have better visual effect. (#5240)\n\t\t\t\tvar extraStyles = {},\n\t\t\t\t\textraAttributes = {};\n\t\t\t\tthis.commitContent( objectNode, embedNode, paramMap, extraStyles, extraAttributes );\n\n\t\t\t\t// Refresh the fake image.\n\t\t\t\tvar newFakeImage = editor.createFakeElement( objectNode || embedNode, 'cke_flash', 'flash', true );\n\t\t\t\tnewFakeImage.setAttributes( extraAttributes );\n\t\t\t\tnewFakeImage.setStyles( extraStyles );\n\t\t\t\tif ( this.fakeImage ) {\n\t\t\t\t\tnewFakeImage.replace( this.fakeImage );\n\t\t\t\t\teditor.getSelection().selectElement( newFakeImage );\n\t\t\t\t} else {\n\t\t\t\t\teditor.insertElement( newFakeImage );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonHide: function() {\n\t\t\t\tif ( this.preview )\n\t\t\t\t\tthis.preview.setHtml( '' );\n\t\t\t},\n\n\t\t\tcontents: [ {\n\t\t\t\tid: 'info',\n\t\t\t\tlabel: editor.lang.common.generalTab,\n\t\t\t\taccessKey: 'I',\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '280px', '110px' ],\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\tid: 'src',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tlabel: editor.lang.common.url,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.notEmpty( editor.lang.flash.validateSrc ),\n\t\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\t\tcommit: commitValue,\n\t\t\t\t\t\t\tonLoad: function() {\n\t\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\t\tupdatePreview = function( src ) {\n\t\t\t\t\t\t\t\t\t\t// Query the preloader to figure out the url impacted by based href.\n\t\t\t\t\t\t\t\t\t\tpreviewPreloader.setAttribute( 'src', src );\n\t\t\t\t\t\t\t\t\t\tdialog.preview.setHtml( '<embed height=\"100%\" width=\"100%\" src=\"' + CKEDITOR.tools.htmlEncode( previewPreloader.getAttribute( 'src' ) ) +\n\t\t\t\t\t\t\t\t\t\t\t'\" type=\"application/x-shockwave-flash\"></embed>' );\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t// Preview element\n\t\t\t\t\t\t\t\tdialog.preview = dialog.getContentElement( 'info', 'preview' ).getElement().getChild( 3 );\n\n\t\t\t\t\t\t\t\t// Sync on inital value loaded.\n\t\t\t\t\t\t\t\tthis.on( 'change', function( evt ) {\n\n\t\t\t\t\t\t\t\t\tif ( evt.data && evt.data.value )\n\t\t\t\t\t\t\t\t\t\tupdatePreview( evt.data.value );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t// Sync when input value changed.\n\t\t\t\t\t\t\t\tthis.getInputElement().on( 'change', function() {\n\n\t\t\t\t\t\t\t\t\tupdatePreview( this.getValue() );\n\t\t\t\t\t\t\t\t}, this );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\tid: 'browse',\n\t\t\t\t\t\t\tfilebrowser: 'info:src',\n\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t// v-align with the 'src' field.\n\t\t\t\t\t\t\t// TODO: We need something better than a fixed size here.\n\t\t\t\t\t\t\tstyle: 'display:inline-block;margin-top:14px;',\n\t\t\t\t\t\t\tlabel: editor.lang.common.browseServer\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '25%', '25%', '25%', '25%', '25%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'width',\n\t\t\t\t\t\trequiredContent: 'embed[width]',\n\t\t\t\t\t\tstyle: 'width:95px',\n\t\t\t\t\t\tlabel: editor.lang.common.width,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.htmlLength( editor.lang.common.invalidHtmlLength.replace( '%1', editor.lang.common.width ) ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'height',\n\t\t\t\t\t\trequiredContent: 'embed[height]',\n\t\t\t\t\t\tstyle: 'width:95px',\n\t\t\t\t\t\tlabel: editor.lang.common.height,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.htmlLength( editor.lang.common.invalidHtmlLength.replace( '%1', editor.lang.common.height ) ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'hSpace',\n\t\t\t\t\t\trequiredContent: 'embed[hspace]',\n\t\t\t\t\t\tstyle: 'width:95px',\n\t\t\t\t\t\tlabel: editor.lang.flash.hSpace,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.flash.validateHSpace ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'vSpace',\n\t\t\t\t\t\trequiredContent: 'embed[vspace]',\n\t\t\t\t\t\tstyle: 'width:95px',\n\t\t\t\t\t\tlabel: editor.lang.flash.vSpace,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.flash.validateVSpace ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\tid: 'preview',\n\t\t\t\t\t\tstyle: 'width:95%;',\n\t\t\t\t\t\thtml: previewAreaHtml\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'Upload',\n\t\t\t\thidden: true,\n\t\t\t\tfilebrowser: 'uploadButton',\n\t\t\t\tlabel: editor.lang.common.upload,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'file',\n\t\t\t\t\tid: 'upload',\n\t\t\t\t\tlabel: editor.lang.common.upload,\n\t\t\t\t\tsize: 38\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'fileButton',\n\t\t\t\t\tid: 'uploadButton',\n\t\t\t\t\tlabel: editor.lang.common.uploadSubmit,\n\t\t\t\t\tfilebrowser: 'info:src',\n\t\t\t\t\t'for': [ 'Upload', 'upload' ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'properties',\n\t\t\t\tlabel: editor.lang.flash.propertiesTab,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'scale',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'embed[scale]',\n\t\t\t\t\t\tlabel: editor.lang.flash.scale,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tstyle: 'width : 100%;',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.scaleAll, 'showall' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.scaleNoBorder, 'noborder' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.scaleFit, 'exactfit' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'allowScriptAccess',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'embed[allowscriptaccess]',\n\t\t\t\t\t\tlabel: editor.lang.flash.access,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tstyle: 'width : 100%;',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.accessAlways, 'always' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.accessSameDomain, 'samedomain' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.accessNever, 'never' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'wmode',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'embed[wmode]',\n\t\t\t\t\t\tlabel: editor.lang.flash.windowMode,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tstyle: 'width : 100%;',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.windowModeWindow, 'window' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.windowModeOpaque, 'opaque' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.windowModeTransparent, 'transparent' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'quality',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'embed[quality]',\n\t\t\t\t\t\tlabel: editor.lang.flash.quality,\n\t\t\t\t\t\t'default': 'high',\n\t\t\t\t\t\tstyle: 'width : 100%;',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.qualityBest, 'best' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.qualityHigh, 'high' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.qualityAutoHigh, 'autohigh' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.qualityMedium, 'medium' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.qualityAutoLow, 'autolow' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.qualityLow, 'low' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'align',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'object[align]',\n\t\t\t\t\t\tlabel: editor.lang.common.align,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tstyle: 'width : 100%;',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.common.alignLeft, 'left' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.alignAbsBottom, 'absBottom' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.alignAbsMiddle, 'absMiddle' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.alignBaseline, 'baseline' ],\n\t\t\t\t\t\t\t[ editor.lang.common.alignBottom, 'bottom' ],\n\t\t\t\t\t\t\t[ editor.lang.common.alignMiddle, 'middle' ],\n\t\t\t\t\t\t\t[ editor.lang.common.alignRight, 'right' ],\n\t\t\t\t\t\t\t[ editor.lang.flash.alignTextTop, 'textTop' ],\n\t\t\t\t\t\t\t[ editor.lang.common.alignTop, 'top' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: function( objectNode, embedNode, paramMap, extraStyles, extraAttributes ) {\n\t\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\t\tcommitValue.apply( this, arguments );\n\t\t\t\t\t\t\tvalue && ( extraAttributes.align = value );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\thtml: '<div></div>'\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'fieldset',\n\t\t\t\t\tlabel: CKEDITOR.tools.htmlEncode( editor.lang.flash.flashvars ),\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'menu',\n\t\t\t\t\t\t\tlabel: editor.lang.flash.chkMenu,\n\t\t\t\t\t\t\t'default': true,\n\t\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'play',\n\t\t\t\t\t\t\tlabel: editor.lang.flash.chkPlay,\n\t\t\t\t\t\t\t'default': true,\n\t\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'loop',\n\t\t\t\t\t\t\tlabel: editor.lang.flash.chkLoop,\n\t\t\t\t\t\t\t'default': true,\n\t\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tid: 'allowFullScreen',\n\t\t\t\t\t\t\tlabel: editor.lang.flash.chkFull,\n\t\t\t\t\t\t\t'default': true,\n\t\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'advanced',\n\t\t\t\tlabel: editor.lang.common.advancedTab,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'id',\n\t\t\t\t\t\trequiredContent: 'object[id]',\n\t\t\t\t\t\tlabel: editor.lang.common.id,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'bgcolor',\n\t\t\t\t\t\trequiredContent: 'embed[bgcolor]',\n\t\t\t\t\t\tlabel: editor.lang.flash.bgcolor,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'class',\n\t\t\t\t\t\trequiredContent: 'embed(cke-xyz)', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\tlabel: editor.lang.common.cssClass,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tid: 'style',\n\t\t\t\t\trequiredContent: 'embed{cke-xyz}', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.inlineStyle( editor.lang.common.invalidInlineStyle ),\n\t\t\t\t\tlabel: editor.lang.common.cssStyle,\n\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\tcommit: commitValue\n\t\t\t\t} ]\n\t\t\t} ]\n\t\t};\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/flash/dialogs/flash.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'button', function( editor ) {\n\tfunction commitAttributes( element ) {\n\t\tvar val = this.getValue();\n\t\tif ( val ) {\n\t\t\telement.attributes[ this.id ] = val;\n\t\t\tif ( this.id == 'name' )\n\t\t\t\telement.attributes[ 'data-cke-saved-name' ] = val;\n\t\t} else {\n\t\t\tdelete element.attributes[ this.id ];\n\t\t\tif ( this.id == 'name' )\n\t\t\t\tdelete element.attributes[ 'data-cke-saved-name' ];\n\t\t}\n\t}\n\n\treturn {\n\t\ttitle: editor.lang.forms.button.title,\n\t\tminWidth: 350,\n\t\tminHeight: 150,\n\t\tonShow: function() {\n\t\t\tdelete this.button;\n\t\t\tvar element = this.getParentEditor().getSelection().getSelectedElement();\n\t\t\tif ( element && element.is( 'input' ) ) {\n\t\t\t\tvar type = element.getAttribute( 'type' );\n\t\t\t\tif ( type in { button: 1, reset: 1, submit: 1 } ) {\n\t\t\t\t\tthis.button = element;\n\t\t\t\t\tthis.setupContent( element );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\telement = this.button,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tvar fake = element ? CKEDITOR.htmlParser.fragment.fromHtml( element.getOuterHtml() ).children[ 0 ] : new CKEDITOR.htmlParser.element( 'input' );\n\t\t\tthis.commitContent( fake );\n\n\t\t\tvar writer = new CKEDITOR.htmlParser.basicWriter();\n\t\t\tfake.writeHtml( writer );\n\t\t\tvar newElement = CKEDITOR.dom.element.createFromHtml( writer.getHtml(), editor.document );\n\n\t\t\tif ( isInsertMode )\n\t\t\t\teditor.insertElement( newElement );\n\t\t\telse {\n\t\t\t\tnewElement.replace( element );\n\t\t\t\teditor.getSelection().selectElement( newElement );\n\t\t\t}\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.button.title,\n\t\t\ttitle: editor.lang.forms.button.title,\n\t\t\telements: [\n\t\t\t\t{\n\t\t\t\t\tid: 'name',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tbidi: true,\n\t\t\t\t\tlabel: editor.lang.common.name,\n\t\t\t\t\t'default': '',\n\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: commitAttributes\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'value',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.button.text,\n\t\t\t\t\taccessKey: 'V',\n\t\t\t\t\t'default': '',\n\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\tthis.setValue( element.getAttribute( 'value' ) || '' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: commitAttributes\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'type',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tlabel: editor.lang.forms.button.type,\n\t\t\t\t\t'default': 'button',\n\t\t\t\t\taccessKey: 'T',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t[ editor.lang.forms.button.typeBtn, 'button' ],\n\t\t\t\t\t\t[ editor.lang.forms.button.typeSbm, 'submit' ],\n\t\t\t\t\t\t[ editor.lang.forms.button.typeRst, 'reset' ]\n\t\t\t\t\t],\n\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\tthis.setValue( element.getAttribute( 'type' ) || '' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: commitAttributes\n\t\t\t\t}\n\t\t\t]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/button.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'checkbox', function( editor ) {\n\treturn {\n\t\ttitle: editor.lang.forms.checkboxAndRadio.checkboxTitle,\n\t\tminWidth: 350,\n\t\tminHeight: 140,\n\t\tonShow: function() {\n\t\t\tdelete this.checkbox;\n\n\t\t\tvar element = this.getParentEditor().getSelection().getSelectedElement();\n\n\t\t\tif ( element && element.getAttribute( 'type' ) == 'checkbox' ) {\n\t\t\t\tthis.checkbox = element;\n\t\t\t\tthis.setupContent( element );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor,\n\t\t\t\telement = this.checkbox,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tif ( isInsertMode ) {\n\t\t\t\teditor = this.getParentEditor();\n\t\t\t\telement = editor.document.createElement( 'input' );\n\t\t\t\telement.setAttribute( 'type', 'checkbox' );\n\t\t\t\teditor.insertElement( element );\n\t\t\t}\n\t\t\tthis.commitContent( { element: element } );\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.checkboxAndRadio.checkboxTitle,\n\t\t\ttitle: editor.lang.forms.checkboxAndRadio.checkboxTitle,\n\t\t\tstartupFocus: 'txtName',\n\t\t\telements: [ {\n\t\t\t\tid: 'txtName',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.common.name,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'N',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\t// IE failed to update 'name' property on input elements, protect it now.\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.data( 'cke-saved-name', this.getValue() );\n\t\t\t\t\telse {\n\t\t\t\t\t\telement.data( 'cke-saved-name', false );\n\t\t\t\t\t\telement.removeAttribute( 'name' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'txtValue',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.forms.checkboxAndRadio.value,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'V',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tvar value = element.getAttribute( 'value' );\n\t\t\t\t\t// IE Return 'on' as default attr value.\n\t\t\t\t\tthis.setValue( CKEDITOR.env.ie && value == 'on' ? '' : value );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element,\n\t\t\t\t\t\tvalue = this.getValue();\n\n\t\t\t\t\tif ( value && !( CKEDITOR.env.ie && value == 'on' ) )\n\t\t\t\t\t\telement.setAttribute( 'value', value );\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\t\t// Remove attribute 'value' of checkbox (#4721).\n\t\t\t\t\t\t\tvar checkbox = new CKEDITOR.dom.element( 'input', element.getDocument() );\n\t\t\t\t\t\t\telement.copyAttributes( checkbox, { value: 1 } );\n\t\t\t\t\t\t\tcheckbox.replace( element );\n\t\t\t\t\t\t\teditor.getSelection().selectElement( checkbox );\n\t\t\t\t\t\t\tdata.element = checkbox;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.removeAttribute( 'value' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'cmbSelected',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: editor.lang.forms.checkboxAndRadio.selected,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'S',\n\t\t\t\tvalue: 'checked',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'checked' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\tvar isElementChecked = !!element.getAttribute( 'checked' ),\n\t\t\t\t\t\t\tisChecked = !!this.getValue();\n\n\t\t\t\t\t\tif ( isElementChecked != isChecked ) {\n\t\t\t\t\t\t\tvar replace = CKEDITOR.dom.element.createFromHtml( '<input type=\"checkbox\"' + ( isChecked ? ' checked=\"checked\"' : '' ) +\n\t\t\t\t\t\t\t\t'/>', editor.document );\n\n\t\t\t\t\t\t\telement.copyAttributes( replace, { type: 1, checked: 1 } );\n\t\t\t\t\t\t\treplace.replace( element );\n\t\t\t\t\t\t\teditor.getSelection().selectElement( replace );\n\t\t\t\t\t\t\tdata.element = replace;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\tif ( value )\n\t\t\t\t\t\t\telement.setAttribute( 'checked', 'checked' );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\telement.removeAttribute( 'checked' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'required',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: editor.lang.forms.checkboxAndRadio.required,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'Q',\n\t\t\t\tvalue: 'required',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'required' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'required', 'required' );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'required' );\n\t\t\t\t}\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/checkbox.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'form', function( editor ) {\n\tvar autoAttributes = { action: 1, id: 1, method: 1, enctype: 1, target: 1 };\n\n\treturn {\n\t\ttitle: editor.lang.forms.form.title,\n\t\tminWidth: 350,\n\t\tminHeight: 200,\n\t\tonShow: function() {\n\t\t\tdelete this.form;\n\n\t\t\tvar path = this.getParentEditor().elementPath(),\n\t\t\t\tform = path.contains( 'form', 1 );\n\n\t\t\tif ( form ) {\n\t\t\t\tthis.form = form;\n\t\t\t\tthis.setupContent( form );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor,\n\t\t\t\telement = this.form,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tif ( isInsertMode ) {\n\t\t\t\teditor = this.getParentEditor();\n\t\t\t\telement = editor.document.createElement( 'form' );\n\t\t\t\telement.appendBogus();\n\t\t\t}\n\n\t\t\tif ( isInsertMode )\n\t\t\t\teditor.insertElement( element );\n\t\t\tthis.commitContent( element );\n\t\t},\n\t\tonLoad: function() {\n\t\t\tfunction autoSetup( element ) {\n\t\t\t\tthis.setValue( element.getAttribute( this.id ) || '' );\n\t\t\t}\n\n\t\t\tfunction autoCommit( element ) {\n\t\t\t\tif ( this.getValue() )\n\t\t\t\t\telement.setAttribute( this.id, this.getValue() );\n\t\t\t\telse\n\t\t\t\t\telement.removeAttribute( this.id );\n\t\t\t}\n\n\t\t\tthis.foreach( function( contentObj ) {\n\t\t\t\tif ( autoAttributes[ contentObj.id ] ) {\n\t\t\t\t\tcontentObj.setup = autoSetup;\n\t\t\t\t\tcontentObj.commit = autoCommit;\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.form.title,\n\t\t\ttitle: editor.lang.forms.form.title,\n\t\t\telements: [ {\n\t\t\t\tid: 'txtName',\n\t\t\t\tbidi: true,\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.common.name,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'N',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.data( 'cke-saved-name', this.getValue() );\n\t\t\t\t\telse {\n\t\t\t\t\t\telement.data( 'cke-saved-name', false );\n\t\t\t\t\t\telement.removeAttribute( 'name' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'action',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.forms.form.action,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'T'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\tid: 'id',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.common.id,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'I'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'enctype',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tlabel: editor.lang.forms.form.encoding,\n\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\taccessKey: 'E',\n\t\t\t\t\t'default': '',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t[ '' ],\n\t\t\t\t\t\t[ 'text/plain' ],\n\t\t\t\t\t\t[ 'multipart/form-data' ],\n\t\t\t\t\t\t[ 'application/x-www-form-urlencoded' ]\n\t\t\t\t\t]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '45%', '55%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\tid: 'target',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tlabel: editor.lang.common.target,\n\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\taccessKey: 'M',\n\t\t\t\t\t'default': '',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t[ editor.lang.common.targetNew, '_blank' ],\n\t\t\t\t\t\t[ editor.lang.common.targetTop, '_top' ],\n\t\t\t\t\t\t[ editor.lang.common.targetSelf, '_self' ],\n\t\t\t\t\t\t[ editor.lang.common.targetParent, '_parent' ]\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'method',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tlabel: editor.lang.forms.form.method,\n\t\t\t\t\taccessKey: 'M',\n\t\t\t\t\t'default': 'GET',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t[ 'GET', 'get' ],\n\t\t\t\t\t\t[ 'POST', 'post' ]\n\t\t\t\t\t]\n\t\t\t\t} ]\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/form.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'hiddenfield', function( editor ) {\n\treturn {\n\t\ttitle: editor.lang.forms.hidden.title,\n\t\thiddenField: null,\n\t\tminWidth: 350,\n\t\tminHeight: 110,\n\t\tonShow: function() {\n\t\t\tdelete this.hiddenField;\n\n\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\tselection = editor.getSelection(),\n\t\t\t\telement = selection.getSelectedElement();\n\n\t\t\tif ( element && element.data( 'cke-real-element-type' ) && element.data( 'cke-real-element-type' ) == 'hiddenfield' ) {\n\t\t\t\tthis.hiddenField = element;\n\t\t\t\telement = editor.restoreRealElement( this.hiddenField );\n\t\t\t\tthis.setupContent( element );\n\t\t\t\tselection.selectElement( this.hiddenField );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar name = this.getValueOf( 'info', '_cke_saved_name' ),\n\t\t\t\teditor = this.getParentEditor(),\n\t\t\t\telement = CKEDITOR.env.ie && CKEDITOR.document.$.documentMode < 8 ?\n\t\t\t\t\teditor.document.createElement( '<input name=\"' + CKEDITOR.tools.htmlEncode( name ) + '\">' ) :\n\t\t\t\t\teditor.document.createElement( 'input' );\n\n\t\t\telement.setAttribute( 'type', 'hidden' );\n\t\t\tthis.commitContent( element );\n\t\t\tvar fakeElement = editor.createFakeElement( element, 'cke_hidden', 'hiddenfield' );\n\t\t\tif ( !this.hiddenField )\n\t\t\t\teditor.insertElement( fakeElement );\n\t\t\telse {\n\t\t\t\tfakeElement.replace( this.hiddenField );\n\t\t\t\teditor.getSelection().selectElement( fakeElement );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.hidden.title,\n\t\t\ttitle: editor.lang.forms.hidden.title,\n\t\t\telements: [ {\n\t\t\t\tid: '_cke_saved_name',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.forms.hidden.name,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'N',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'name', this.getValue() );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'name' );\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'value',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.forms.hidden.value,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'V',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'value' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'value', this.getValue() );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'value' );\n\t\t\t\t}\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/hiddenfield.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\nCKEDITOR.dialog.add( 'radio', function( editor ) {\n\treturn {\n\t\ttitle: editor.lang.forms.checkboxAndRadio.radioTitle,\n\t\tminWidth: 350,\n\t\tminHeight: 140,\n\t\tonShow: function() {\n\t\t\tdelete this.radioButton;\n\n\t\t\tvar element = this.getParentEditor().getSelection().getSelectedElement();\n\t\t\tif ( element && element.getName() == 'input' && element.getAttribute( 'type' ) == 'radio' ) {\n\t\t\t\tthis.radioButton = element;\n\t\t\t\tthis.setupContent( element );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor,\n\t\t\t\telement = this.radioButton,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tif ( isInsertMode ) {\n\t\t\t\teditor = this.getParentEditor();\n\t\t\t\telement = editor.document.createElement( 'input' );\n\t\t\t\telement.setAttribute( 'type', 'radio' );\n\t\t\t}\n\n\t\t\tif ( isInsertMode )\n\t\t\t\teditor.insertElement( element );\n\t\t\tthis.commitContent( { element: element } );\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.checkboxAndRadio.radioTitle,\n\t\t\ttitle: editor.lang.forms.checkboxAndRadio.radioTitle,\n\t\t\telements: [ {\n\t\t\t\tid: 'name',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.common.name,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'N',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.data( 'cke-saved-name', this.getValue() );\n\t\t\t\t\telse {\n\t\t\t\t\t\telement.data( 'cke-saved-name', false );\n\t\t\t\t\t\telement.removeAttribute( 'name' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'value',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.forms.checkboxAndRadio.value,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'V',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'value' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'value', this.getValue() );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'value' );\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'checked',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: editor.lang.forms.checkboxAndRadio.selected,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'S',\n\t\t\t\tvalue: 'checked',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'checked' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\tif ( !CKEDITOR.env.ie ) {\n\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\telement.setAttribute( 'checked', 'checked' );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\telement.removeAttribute( 'checked' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar isElementChecked = element.getAttribute( 'checked' );\n\t\t\t\t\t\tvar isChecked = !!this.getValue();\n\n\t\t\t\t\t\tif ( isElementChecked != isChecked ) {\n\t\t\t\t\t\t\tvar replace = CKEDITOR.dom.element.createFromHtml( '<input type=\"radio\"' + ( isChecked ? ' checked=\"checked\"' : '' ) +\n\t\t\t\t\t\t\t\t'></input>', editor.document );\n\t\t\t\t\t\t\telement.copyAttributes( replace, { type: 1, checked: 1 } );\n\t\t\t\t\t\t\treplace.replace( element );\n\t\t\t\t\t\t\teditor.getSelection().selectElement( replace );\n\t\t\t\t\t\t\tdata.element = replace;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'required',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: editor.lang.forms.checkboxAndRadio.required,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'Q',\n\t\t\t\tvalue: 'required',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'required' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'required', 'required' );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'required' );\n\t\t\t\t}\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/radio.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\nCKEDITOR.dialog.add( 'select', function( editor ) {\n\t// Add a new option to a SELECT object (combo or list).\n\tfunction addOption( combo, optionText, optionValue, documentObject, index ) {\n\t\tcombo = getSelect( combo );\n\t\tvar oOption;\n\t\tif ( documentObject )\n\t\t\toOption = documentObject.createElement( 'OPTION' );\n\t\telse\n\t\t\toOption = document.createElement( 'OPTION' );\n\n\t\tif ( combo && oOption && oOption.getName() == 'option' ) {\n\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\tif ( !isNaN( parseInt( index, 10 ) ) )\n\t\t\t\t\tcombo.$.options.add( oOption.$, index );\n\t\t\t\telse\n\t\t\t\t\tcombo.$.options.add( oOption.$ );\n\n\t\t\t\toOption.$.innerHTML = optionText.length > 0 ? optionText : '';\n\t\t\t\toOption.$.value = optionValue;\n\t\t\t} else {\n\t\t\t\tif ( index !== null && index < combo.getChildCount() )\n\t\t\t\t\tcombo.getChild( index < 0 ? 0 : index ).insertBeforeMe( oOption );\n\t\t\t\telse\n\t\t\t\t\tcombo.append( oOption );\n\n\t\t\t\toOption.setText( optionText.length > 0 ? optionText : '' );\n\t\t\t\toOption.setValue( optionValue );\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn oOption;\n\t}\n\t// Remove all selected options from a SELECT object.\n\tfunction removeSelectedOptions( combo ) {\n\t\tcombo = getSelect( combo );\n\n\t\t// Save the selected index\n\t\tvar iSelectedIndex = getSelectedIndex( combo );\n\n\t\t// Remove all selected options.\n\t\tfor ( var i = combo.getChildren().count() - 1; i >= 0; i-- ) {\n\t\t\tif ( combo.getChild( i ).$.selected )\n\t\t\t\tcombo.getChild( i ).remove();\n\t\t}\n\n\t\t// Reset the selection based on the original selected index.\n\t\tsetSelectedIndex( combo, iSelectedIndex );\n\t}\n\t//Modify option  from a SELECT object.\n\tfunction modifyOption( combo, index, title, value ) {\n\t\tcombo = getSelect( combo );\n\t\tif ( index < 0 )\n\t\t\treturn false;\n\t\tvar child = combo.getChild( index );\n\t\tchild.setText( title );\n\t\tchild.setValue( value );\n\t\treturn child;\n\t}\n\n\tfunction removeAllOptions( combo ) {\n\t\tcombo = getSelect( combo );\n\t\twhile ( combo.getChild( 0 ) && combo.getChild( 0 ).remove() ) {\n\n\t\t}\n\t}\n\t// Moves the selected option by a number of steps (also negative).\n\tfunction changeOptionPosition( combo, steps, documentObject ) {\n\t\tcombo = getSelect( combo );\n\t\tvar iActualIndex = getSelectedIndex( combo );\n\t\tif ( iActualIndex < 0 )\n\t\t\treturn false;\n\n\t\tvar iFinalIndex = iActualIndex + steps;\n\t\tiFinalIndex = ( iFinalIndex < 0 ) ? 0 : iFinalIndex;\n\t\tiFinalIndex = ( iFinalIndex >= combo.getChildCount() ) ? combo.getChildCount() - 1 : iFinalIndex;\n\n\t\tif ( iActualIndex == iFinalIndex )\n\t\t\treturn false;\n\n\t\tvar oOption = combo.getChild( iActualIndex ),\n\t\t\tsText = oOption.getText(),\n\t\t\tsValue = oOption.getValue();\n\n\t\toOption.remove();\n\n\t\toOption = addOption( combo, sText, sValue, ( !documentObject ) ? null : documentObject, iFinalIndex );\n\t\tsetSelectedIndex( combo, iFinalIndex );\n\t\treturn oOption;\n\t}\n\n\tfunction getSelectedIndex( combo ) {\n\t\tcombo = getSelect( combo );\n\t\treturn combo ? combo.$.selectedIndex : -1;\n\t}\n\n\tfunction setSelectedIndex( combo, index ) {\n\t\tcombo = getSelect( combo );\n\t\tif ( index < 0 )\n\t\t\treturn null;\n\t\tvar count = combo.getChildren().count();\n\t\tcombo.$.selectedIndex = ( index >= count ) ? ( count - 1 ) : index;\n\t\treturn combo;\n\t}\n\n\tfunction getOptions( combo ) {\n\t\tcombo = getSelect( combo );\n\t\treturn combo ? combo.getChildren() : false;\n\t}\n\n\tfunction getSelect( obj ) {\n\t\tif ( obj && obj.domId && obj.getInputElement().$ ) // Dialog element.\n\t\treturn obj.getInputElement();\n\t\telse if ( obj && obj.$ )\n\t\t\treturn obj;\n\t\treturn false;\n\t}\n\n\treturn {\n\t\ttitle: editor.lang.forms.select.title,\n\t\tminWidth: CKEDITOR.env.ie ? 460 : 395,\n\t\tminHeight: CKEDITOR.env.ie ? 320 : 300,\n\t\tonShow: function() {\n\t\t\tdelete this.selectBox;\n\t\t\tthis.setupContent( 'clear' );\n\t\t\tvar element = this.getParentEditor().getSelection().getSelectedElement();\n\t\t\tif ( element && element.getName() == 'select' ) {\n\t\t\t\tthis.selectBox = element;\n\t\t\t\tthis.setupContent( element.getName(), element );\n\n\t\t\t\t// Load Options into dialog.\n\t\t\t\tvar objOptions = getOptions( element );\n\t\t\t\tfor ( var i = 0; i < objOptions.count(); i++ )\n\t\t\t\t\tthis.setupContent( 'option', objOptions.getItem( i ) );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\telement = this.selectBox,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tif ( isInsertMode )\n\t\t\t\telement = editor.document.createElement( 'select' );\n\t\t\tthis.commitContent( element );\n\n\t\t\tif ( isInsertMode ) {\n\t\t\t\teditor.insertElement( element );\n\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\tvar sel = editor.getSelection(),\n\t\t\t\t\t\tbms = sel.createBookmarks();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tsel.selectBookmarks( bms );\n\t\t\t\t\t}, 0 );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.select.selectInfo,\n\t\t\ttitle: editor.lang.forms.select.selectInfo,\n\t\t\taccessKey: '',\n\t\t\telements: [ {\n\t\t\t\tid: 'txtName',\n\t\t\t\ttype: 'text',\n\t\t\t\twidths: [ '25%', '75%' ],\n\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\tlabel: editor.lang.common.name,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'N',\n\t\t\t\tstyle: 'width:350px',\n\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\tif ( name == 'clear' )\n\t\t\t\t\t\tthis.setValue( this[ 'default' ] || '' );\n\t\t\t\t\telse if ( name == 'select' )\n\t\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.data( 'cke-saved-name', this.getValue() );\n\t\t\t\t\telse {\n\t\t\t\t\t\telement.data( 'cke-saved-name', false );\n\t\t\t\t\t\telement.removeAttribute( 'name' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'txtValue',\n\t\t\t\ttype: 'text',\n\t\t\t\twidths: [ '25%', '75%' ],\n\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\tlabel: editor.lang.forms.select.value,\n\t\t\t\tstyle: 'width:350px',\n\t\t\t\t'default': '',\n\t\t\t\tclassName: 'cke_disabled',\n\t\t\t\tonLoad: function() {\n\t\t\t\t\tthis.getInputElement().setAttribute( 'readOnly', true );\n\t\t\t\t},\n\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\tif ( name == 'clear' )\n\t\t\t\t\t\tthis.setValue( '' );\n\t\t\t\t\telse if ( name == 'option' && element.getAttribute( 'selected' ) )\n\t\t\t\t\t\tthis.setValue( element.$.value );\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '175px', '170px' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\tid: 'txtSize',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabelLayout: 'horizontal',\n\t\t\t\t\tlabel: editor.lang.forms.select.size,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'S',\n\t\t\t\t\tstyle: 'width:175px',\n\t\t\t\t\tvalidate: function() {\n\t\t\t\t\t\tvar func = CKEDITOR.dialog.validate.integer( editor.lang.common.validateNumberFailed );\n\t\t\t\t\t\treturn ( ( this.getValue() === '' ) || func.apply( this ) );\n\t\t\t\t\t},\n\t\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\t\tif ( name == 'select' )\n\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'size' ) || '' );\n\t\t\t\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\t\t\t\tthis.getInputElement().setStyle( 'width', '86px' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\telement.setAttribute( 'size', this.getValue() );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\telement.removeAttribute( 'size' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\thtml: '<span>' + CKEDITOR.tools.htmlEncode( editor.lang.forms.select.lines ) + '</span>'\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'html',\n\t\t\t\thtml: '<span>' + CKEDITOR.tools.htmlEncode( editor.lang.forms.select.opAvail ) + '</span>'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '115px', '115px', '100px' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'txtOptName',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.opText,\n\t\t\t\t\t\tstyle: 'width:115px',\n\t\t\t\t\t\tsetup: function( name ) {\n\t\t\t\t\t\t\tif ( name == 'clear' )\n\t\t\t\t\t\t\t\tthis.setValue( '' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tid: 'cmbName',\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tsize: 5,\n\t\t\t\t\t\tstyle: 'width:115px;height:75px',\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' ),\n\t\t\t\t\t\t\t\toptName = dialog.getContentElement( 'info', 'txtOptName' ),\n\t\t\t\t\t\t\t\toptValue = dialog.getContentElement( 'info', 'txtOptValue' ),\n\t\t\t\t\t\t\t\tiIndex = getSelectedIndex( this );\n\n\t\t\t\t\t\t\tsetSelectedIndex( values, iIndex );\n\t\t\t\t\t\t\toptName.setValue( this.getValue() );\n\t\t\t\t\t\t\toptValue.setValue( values.getValue() );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\t\t\tif ( name == 'clear' )\n\t\t\t\t\t\t\t\tremoveAllOptions( this );\n\t\t\t\t\t\t\telse if ( name == 'option' )\n\t\t\t\t\t\t\t\taddOption( this, element.getText(), element.getText(), this.getDialog().getParentEditor().document );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\toptionsNames = getOptions( this ),\n\t\t\t\t\t\t\t\toptionsValues = getOptions( dialog.getContentElement( 'info', 'cmbValue' ) ),\n\t\t\t\t\t\t\t\tselectValue = dialog.getContentElement( 'info', 'txtValue' ).getValue();\n\n\t\t\t\t\t\t\tremoveAllOptions( element );\n\n\t\t\t\t\t\t\tfor ( var i = 0; i < optionsNames.count(); i++ ) {\n\t\t\t\t\t\t\t\tvar oOption = addOption( element, optionsNames.getItem( i ).getValue(), optionsValues.getItem( i ).getValue(), dialog.getParentEditor().document );\n\t\t\t\t\t\t\t\tif ( optionsValues.getItem( i ).getValue() == selectValue ) {\n\t\t\t\t\t\t\t\t\toOption.setAttribute( 'selected', 'selected' );\n\t\t\t\t\t\t\t\t\toOption.selected = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'txtOptValue',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.opValue,\n\t\t\t\t\t\tstyle: 'width:115px',\n\t\t\t\t\t\tsetup: function( name ) {\n\t\t\t\t\t\t\tif ( name == 'clear' )\n\t\t\t\t\t\t\t\tthis.setValue( '' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tid: 'cmbValue',\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\tsize: 5,\n\t\t\t\t\t\tstyle: 'width:115px;height:75px',\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\tnames = dialog.getContentElement( 'info', 'cmbName' ),\n\t\t\t\t\t\t\t\toptName = dialog.getContentElement( 'info', 'txtOptName' ),\n\t\t\t\t\t\t\t\toptValue = dialog.getContentElement( 'info', 'txtOptValue' ),\n\t\t\t\t\t\t\t\tiIndex = getSelectedIndex( this );\n\n\t\t\t\t\t\t\tsetSelectedIndex( names, iIndex );\n\t\t\t\t\t\t\toptName.setValue( names.getValue() );\n\t\t\t\t\t\t\toptValue.setValue( this.getValue() );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\t\t\tif ( name == 'clear' )\n\t\t\t\t\t\t\t\tremoveAllOptions( this );\n\t\t\t\t\t\t\telse if ( name == 'option' ) {\n\t\t\t\t\t\t\t\tvar oValue = element.getValue();\n\t\t\t\t\t\t\t\taddOption( this, oValue, oValue, this.getDialog().getParentEditor().document );\n\t\t\t\t\t\t\t\tif ( element.getAttribute( 'selected' ) == 'selected' )\n\t\t\t\t\t\t\t\t\tthis.getDialog().getContentElement( 'info', 'txtValue' ).setValue( oValue );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 5,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnAdd',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.btnAdd,\n\t\t\t\t\t\ttitle: editor.lang.forms.select.btnAdd,\n\t\t\t\t\t\tstyle: 'width:100%;',\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\t//Add new option.\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\toptName = dialog.getContentElement( 'info', 'txtOptName' ),\n\t\t\t\t\t\t\t\toptValue = dialog.getContentElement( 'info', 'txtOptValue' ),\n\t\t\t\t\t\t\t\tnames = dialog.getContentElement( 'info', 'cmbName' ),\n\t\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' );\n\n\t\t\t\t\t\t\taddOption( names, optName.getValue(), optName.getValue(), dialog.getParentEditor().document );\n\t\t\t\t\t\t\taddOption( values, optValue.getValue(), optValue.getValue(), dialog.getParentEditor().document );\n\n\t\t\t\t\t\t\toptName.setValue( '' );\n\t\t\t\t\t\t\toptValue.setValue( '' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnModify',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.btnModify,\n\t\t\t\t\t\ttitle: editor.lang.forms.select.btnModify,\n\t\t\t\t\t\tstyle: 'width:100%;',\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\t//Modify selected option.\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\toptName = dialog.getContentElement( 'info', 'txtOptName' ),\n\t\t\t\t\t\t\t\toptValue = dialog.getContentElement( 'info', 'txtOptValue' ),\n\t\t\t\t\t\t\t\tnames = dialog.getContentElement( 'info', 'cmbName' ),\n\t\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' ),\n\t\t\t\t\t\t\t\tiIndex = getSelectedIndex( names );\n\n\t\t\t\t\t\t\tif ( iIndex >= 0 ) {\n\t\t\t\t\t\t\t\tmodifyOption( names, iIndex, optName.getValue(), optName.getValue() );\n\t\t\t\t\t\t\t\tmodifyOption( values, iIndex, optValue.getValue(), optValue.getValue() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnUp',\n\t\t\t\t\t\tstyle: 'width:100%;',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.btnUp,\n\t\t\t\t\t\ttitle: editor.lang.forms.select.btnUp,\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\t//Move up.\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\tnames = dialog.getContentElement( 'info', 'cmbName' ),\n\t\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' );\n\n\t\t\t\t\t\t\tchangeOptionPosition( names, -1, dialog.getParentEditor().document );\n\t\t\t\t\t\t\tchangeOptionPosition( values, -1, dialog.getParentEditor().document );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'btnDown',\n\t\t\t\t\t\tstyle: 'width:100%;',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.btnDown,\n\t\t\t\t\t\ttitle: editor.lang.forms.select.btnDown,\n\t\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t\t//Move down.\n\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\tnames = dialog.getContentElement( 'info', 'cmbName' ),\n\t\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' );\n\n\t\t\t\t\t\t\tchangeOptionPosition( names, 1, dialog.getParentEditor().document );\n\t\t\t\t\t\t\tchangeOptionPosition( values, 1, dialog.getParentEditor().document );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '40%', '20%', '40%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tid: 'btnSetValue',\n\t\t\t\t\tlabel: editor.lang.forms.select.btnSetValue,\n\t\t\t\t\ttitle: editor.lang.forms.select.btnSetValue,\n\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t//Set as default value.\n\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' ),\n\t\t\t\t\t\t\ttxtValue = dialog.getContentElement( 'info', 'txtValue' );\n\t\t\t\t\t\ttxtValue.setValue( values.getValue() );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tid: 'btnDelete',\n\t\t\t\t\tlabel: editor.lang.forms.select.btnDelete,\n\t\t\t\t\ttitle: editor.lang.forms.select.btnDelete,\n\t\t\t\t\tonClick: function() {\n\t\t\t\t\t\t// Delete option.\n\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\tnames = dialog.getContentElement( 'info', 'cmbName' ),\n\t\t\t\t\t\t\tvalues = dialog.getContentElement( 'info', 'cmbValue' ),\n\t\t\t\t\t\t\toptName = dialog.getContentElement( 'info', 'txtOptName' ),\n\t\t\t\t\t\t\toptValue = dialog.getContentElement( 'info', 'txtOptValue' );\n\n\t\t\t\t\t\tremoveSelectedOptions( names );\n\t\t\t\t\t\tremoveSelectedOptions( values );\n\n\t\t\t\t\t\toptName.setValue( '' );\n\t\t\t\t\t\toptValue.setValue( '' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'chkMulti',\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.chkMulti,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\taccessKey: 'M',\n\t\t\t\t\t\tvalue: 'checked',\n\t\t\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\t\t\tif ( name == 'select' )\n\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'multiple' ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\telement.setAttribute( 'multiple', this.getValue() );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\telement.removeAttribute( 'multiple' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'required',\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\tlabel: editor.lang.forms.select.required,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\taccessKey: 'Q',\n\t\t\t\t\t\tvalue: 'checked',\n\t\t\t\t\t\tsetup: function( name, element ) {\n\t\t\t\t\t\t\tif ( name == 'select' )\n\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'required' ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\telement.setAttribute( 'required', 'required' );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\telement.removeAttribute( 'required' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/select.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\nCKEDITOR.dialog.add( 'textarea', function( editor ) {\n\treturn {\n\t\ttitle: editor.lang.forms.textarea.title,\n\t\tminWidth: 350,\n\t\tminHeight: 220,\n\t\tonShow: function() {\n\t\t\tdelete this.textarea;\n\n\t\t\tvar element = this.getParentEditor().getSelection().getSelectedElement();\n\t\t\tif ( element && element.getName() == 'textarea' ) {\n\t\t\t\tthis.textarea = element;\n\t\t\t\tthis.setupContent( element );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor,\n\t\t\t\telement = this.textarea,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tif ( isInsertMode ) {\n\t\t\t\teditor = this.getParentEditor();\n\t\t\t\telement = editor.document.createElement( 'textarea' );\n\t\t\t}\n\t\t\tthis.commitContent( element );\n\n\t\t\tif ( isInsertMode )\n\t\t\t\teditor.insertElement( element );\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.textarea.title,\n\t\t\ttitle: editor.lang.forms.textarea.title,\n\t\t\telements: [ {\n\t\t\t\tid: '_cke_saved_name',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: editor.lang.common.name,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'N',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.data( 'cke-saved-name', this.getValue() );\n\t\t\t\t\telse {\n\t\t\t\t\t\telement.data( 'cke-saved-name', false );\n\t\t\t\t\t\telement.removeAttribute( 'name' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\tid: 'cols',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.textarea.cols,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'C',\n\t\t\t\t\tstyle: 'width:50px',\n\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.common.validateNumberFailed ),\n\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\tvar value = element.hasAttribute( 'cols' ) && element.getAttribute( 'cols' );\n\t\t\t\t\t\tthis.setValue( value || '' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\telement.setAttribute( 'cols', this.getValue() );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\telement.removeAttribute( 'cols' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'rows',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.textarea.rows,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'R',\n\t\t\t\t\tstyle: 'width:50px',\n\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.common.validateNumberFailed ),\n\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\tvar value = element.hasAttribute( 'rows' ) && element.getAttribute( 'rows' );\n\t\t\t\t\t\tthis.setValue( value || '' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\telement.setAttribute( 'rows', this.getValue() );\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\telement.removeAttribute( 'rows' );\n\t\t\t\t\t}\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'value',\n\t\t\t\ttype: 'textarea',\n\t\t\t\tlabel: editor.lang.forms.textfield.value,\n\t\t\t\t'default': '',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.$.defaultValue );\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\telement.$.value = element.$.defaultValue = this.getValue();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\t{\n\t\t\t\tid: 'required',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: editor.lang.forms.textfield.required,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'Q',\n\t\t\t\tvalue: 'required',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'required' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( element ) {\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'required', 'required' );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'required' );\n\t\t\t\t}\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/textarea.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\nCKEDITOR.dialog.add( 'textfield', function( editor ) {\n\n\tvar acceptedTypes = { email: 1, password: 1, search: 1, tel: 1, text: 1, url: 1 };\n\n\tfunction autoCommit( data ) {\n\t\tvar element = data.element;\n\t\tvar value = this.getValue();\n\n\t\tvalue ? element.setAttribute( this.id, value ) : element.removeAttribute( this.id );\n\t}\n\n\tfunction autoSetup( element ) {\n\t\tvar value = element.hasAttribute( this.id ) && element.getAttribute( this.id );\n\t\tthis.setValue( value || '' );\n\t}\n\n\treturn {\n\t\ttitle: editor.lang.forms.textfield.title,\n\t\tminWidth: 350,\n\t\tminHeight: 150,\n\t\tonShow: function() {\n\t\t\tdelete this.textField;\n\n\t\t\tvar element = this.getParentEditor().getSelection().getSelectedElement();\n\t\t\tif ( element && element.getName() == 'input' && ( acceptedTypes[ element.getAttribute( 'type' ) ] || !element.getAttribute( 'type' ) ) ) {\n\t\t\t\tthis.textField = element;\n\t\t\t\tthis.setupContent( element );\n\t\t\t}\n\t\t},\n\t\tonOk: function() {\n\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\telement = this.textField,\n\t\t\t\tisInsertMode = !element;\n\n\t\t\tif ( isInsertMode ) {\n\t\t\t\telement = editor.document.createElement( 'input' );\n\t\t\t\telement.setAttribute( 'type', 'text' );\n\t\t\t}\n\n\t\t\tvar data = { element: element };\n\n\t\t\tif ( isInsertMode )\n\t\t\t\teditor.insertElement( data.element );\n\n\t\t\tthis.commitContent( data );\n\n\t\t\t// Element might be replaced by commitment.\n\t\t\tif ( !isInsertMode )\n\t\t\t\teditor.getSelection().selectElement( data.element );\n\t\t},\n\t\tonLoad: function() {\n\t\t\tthis.foreach( function( contentObj ) {\n\t\t\t\tif ( contentObj.getValue ) {\n\t\t\t\t\tif ( !contentObj.setup )\n\t\t\t\t\t\tcontentObj.setup = autoSetup;\n\t\t\t\t\tif ( !contentObj.commit )\n\t\t\t\t\t\tcontentObj.commit = autoCommit;\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.forms.textfield.title,\n\t\t\ttitle: editor.lang.forms.textfield.title,\n\t\t\telements: [ {\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\tid: '_cke_saved_name',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.textfield.name,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'N',\n\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\tthis.setValue( element.data( 'cke-saved-name' ) || element.getAttribute( 'name' ) || '' );\n\t\t\t\t\t},\n\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\telement.data( 'cke-saved-name', this.getValue() );\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\telement.data( 'cke-saved-name', false );\n\t\t\t\t\t\t\telement.removeAttribute( 'name' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'value',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.textfield.value,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'V',\n\t\t\t\t\tcommit: function( data ) {\n\t\t\t\t\t\tif ( CKEDITOR.env.ie && !this.getValue() ) {\n\t\t\t\t\t\t\tvar element = data.element,\n\t\t\t\t\t\t\t\tfresh = new CKEDITOR.dom.element( 'input', editor.document );\n\t\t\t\t\t\t\telement.copyAttributes( fresh, { value: 1 } );\n\t\t\t\t\t\t\tfresh.replace( element );\n\t\t\t\t\t\t\tdata.element = fresh;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tautoCommit.call( this, data );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'hbox',\n\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\tid: 'size',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.textfield.charWidth,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'C',\n\t\t\t\t\tstyle: 'width:50px',\n\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.common.validateNumberFailed )\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'maxLength',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tlabel: editor.lang.forms.textfield.maxChars,\n\t\t\t\t\t'default': '',\n\t\t\t\t\taccessKey: 'M',\n\t\t\t\t\tstyle: 'width:50px',\n\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.common.validateNumberFailed )\n\t\t\t\t} ],\n\t\t\t\tonLoad: function() {\n\t\t\t\t\t// Repaint the style for IE7 (#6068)\n\t\t\t\t\tif ( CKEDITOR.env.ie7Compat )\n\t\t\t\t\t\tthis.getElement().setStyle( 'zoom', '100%' );\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'type',\n\t\t\t\ttype: 'select',\n\t\t\t\tlabel: editor.lang.forms.textfield.type,\n\t\t\t\t'default': 'text',\n\t\t\t\taccessKey: 'M',\n\t\t\t\titems: [\n\t\t\t\t\t[ editor.lang.forms.textfield.typeEmail,\t'email' ],\n\t\t\t\t\t[ editor.lang.forms.textfield.typePass,\t\t'password' ],\n\t\t\t\t\t[ editor.lang.forms.textfield.typeSearch,\t'search' ],\n\t\t\t\t\t[ editor.lang.forms.textfield.typeTel,\t\t'tel' ],\n\t\t\t\t\t[ editor.lang.forms.textfield.typeText,\t\t'text' ],\n\t\t\t\t\t[ editor.lang.forms.textfield.typeUrl,\t\t'url' ]\n\t\t\t\t],\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'type' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\n\t\t\t\t\tif ( CKEDITOR.env.ie ) {\n\t\t\t\t\t\tvar elementType = element.getAttribute( 'type' );\n\t\t\t\t\t\tvar myType = this.getValue();\n\n\t\t\t\t\t\tif ( elementType != myType ) {\n\t\t\t\t\t\t\tvar replace = CKEDITOR.dom.element.createFromHtml( '<input type=\"' + myType + '\"></input>', editor.document );\n\t\t\t\t\t\t\telement.copyAttributes( replace, { type: 1 } );\n\t\t\t\t\t\t\treplace.replace( element );\n\t\t\t\t\t\t\tdata.element = replace;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.setAttribute( 'type', this.getValue() );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'required',\n\t\t\t\ttype: 'checkbox',\n\t\t\t\tlabel: editor.lang.forms.textfield.required,\n\t\t\t\t'default': '',\n\t\t\t\taccessKey: 'Q',\n\t\t\t\tvalue: 'required',\n\t\t\t\tsetup: function( element ) {\n\t\t\t\t\tthis.setValue( element.getAttribute( 'required' ) );\n\t\t\t\t},\n\t\t\t\tcommit: function( data ) {\n\t\t\t\t\tvar element = data.element;\n\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\telement.setAttribute( 'required', 'required' );\n\t\t\t\t\telse\n\t\t\t\t\t\telement.removeAttribute( 'required' );\n\t\t\t\t}\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/forms/dialogs/textfield.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\t// Map 'true' and 'false' values to match W3C's specifications\n\t// http://www.w3.org/TR/REC-html40/present/frames.html#h-16.5\n\tvar checkboxValues = {\n\t\tscrolling: { 'true': 'yes', 'false': 'no' },\n\t\tframeborder: { 'true': '1', 'false': '0' }\n\t};\n\n\tfunction loadValue( iframeNode ) {\n\t\tvar isCheckbox = this instanceof CKEDITOR.ui.dialog.checkbox;\n\t\tif ( iframeNode.hasAttribute( this.id ) ) {\n\t\t\tvar value = iframeNode.getAttribute( this.id );\n\t\t\tif ( isCheckbox )\n\t\t\t\tthis.setValue( checkboxValues[ this.id ][ 'true' ] == value.toLowerCase() );\n\t\t\telse\n\t\t\t\tthis.setValue( value );\n\t\t}\n\t}\n\n\tfunction commitValue( iframeNode ) {\n\t\tvar isRemove = this.getValue() === '',\n\t\t\tisCheckbox = this instanceof CKEDITOR.ui.dialog.checkbox,\n\t\t\tvalue = this.getValue();\n\t\tif ( isRemove )\n\t\t\tiframeNode.removeAttribute( this.att || this.id );\n\t\telse if ( isCheckbox )\n\t\t\tiframeNode.setAttribute( this.id, checkboxValues[ this.id ][ value ] );\n\t\telse\n\t\t\tiframeNode.setAttribute( this.att || this.id, value );\n\t}\n\n\tCKEDITOR.dialog.add( 'iframe', function( editor ) {\n\t\tvar iframeLang = editor.lang.iframe,\n\t\t\tcommonLang = editor.lang.common,\n\t\t\tdialogadvtab = editor.plugins.dialogadvtab;\n\t\treturn {\n\t\t\ttitle: iframeLang.title,\n\t\t\tminWidth: 350,\n\t\t\tminHeight: 260,\n\t\t\tonShow: function() {\n\t\t\t\t// Clear previously saved elements.\n\t\t\t\tthis.fakeImage = this.iframeNode = null;\n\n\t\t\t\tvar fakeImage = this.getSelectedElement();\n\t\t\t\tif ( fakeImage && fakeImage.data( 'cke-real-element-type' ) && fakeImage.data( 'cke-real-element-type' ) == 'iframe' ) {\n\t\t\t\t\tthis.fakeImage = fakeImage;\n\n\t\t\t\t\tvar iframeNode = editor.restoreRealElement( fakeImage );\n\t\t\t\t\tthis.iframeNode = iframeNode;\n\n\t\t\t\t\tthis.setupContent( iframeNode );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonOk: function() {\n\t\t\t\tvar iframeNode;\n\t\t\t\tif ( !this.fakeImage )\n\t\t\t\t\tiframeNode = new CKEDITOR.dom.element( 'iframe' );\n\t\t\t\telse\n\t\t\t\t\tiframeNode = this.iframeNode;\n\n\t\t\t\t// A subset of the specified attributes/styles\n\t\t\t\t// should also be applied on the fake element to\n\t\t\t\t// have better visual effect. (#5240)\n\t\t\t\tvar extraStyles = {},\n\t\t\t\t\textraAttributes = {};\n\t\t\t\tthis.commitContent( iframeNode, extraStyles, extraAttributes );\n\n\t\t\t\t// Refresh the fake image.\n\t\t\t\tvar newFakeImage = editor.createFakeElement( iframeNode, 'cke_iframe', 'iframe', true );\n\t\t\t\tnewFakeImage.setAttributes( extraAttributes );\n\t\t\t\tnewFakeImage.setStyles( extraStyles );\n\t\t\t\tif ( this.fakeImage ) {\n\t\t\t\t\tnewFakeImage.replace( this.fakeImage );\n\t\t\t\t\teditor.getSelection().selectElement( newFakeImage );\n\t\t\t\t} else {\n\t\t\t\t\teditor.insertElement( newFakeImage );\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontents: [ {\n\t\t\t\tid: 'info',\n\t\t\t\tlabel: commonLang.generalTab,\n\t\t\t\taccessKey: 'I',\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'src',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: commonLang.url,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.notEmpty( iframeLang.noUrl ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'width',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: 'iframe[width]',\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\tlabelLayout: 'vertical',\n\t\t\t\t\t\tlabel: commonLang.width,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.htmlLength( commonLang.invalidHtmlLength.replace( '%1', commonLang.width ) ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'height',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: 'iframe[height]',\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\tlabelLayout: 'vertical',\n\t\t\t\t\t\tlabel: commonLang.height,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.htmlLength( commonLang.invalidHtmlLength.replace( '%1', commonLang.height ) ),\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'align',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'iframe[align]',\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ commonLang.notSet, '' ],\n\t\t\t\t\t\t\t[ commonLang.alignLeft, 'left' ],\n\t\t\t\t\t\t\t[ commonLang.alignRight, 'right' ],\n\t\t\t\t\t\t\t[ commonLang.alignTop, 'top' ],\n\t\t\t\t\t\t\t[ commonLang.alignMiddle, 'middle' ],\n\t\t\t\t\t\t\t[ commonLang.alignBottom, 'bottom' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tstyle: 'width:100%',\n\t\t\t\t\t\tlabelLayout: 'vertical',\n\t\t\t\t\t\tlabel: commonLang.align,\n\t\t\t\t\t\tsetup: function( iframeNode, fakeImage ) {\n\t\t\t\t\t\t\tloadValue.apply( this, arguments );\n\t\t\t\t\t\t\tif ( fakeImage ) {\n\t\t\t\t\t\t\t\tvar fakeImageAlign = fakeImage.getAttribute( 'align' );\n\t\t\t\t\t\t\t\tthis.setValue( fakeImageAlign && fakeImageAlign.toLowerCase() || '' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( iframeNode, extraStyles, extraAttributes ) {\n\t\t\t\t\t\t\tcommitValue.apply( this, arguments );\n\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\textraAttributes.align = this.getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'scrolling',\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\trequiredContent: 'iframe[scrolling]',\n\t\t\t\t\t\tlabel: iframeLang.scrolling,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'frameborder',\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\trequiredContent: 'iframe[frameborder]',\n\t\t\t\t\t\tlabel: iframeLang.border,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'name',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: 'iframe[name]',\n\t\t\t\t\t\tlabel: commonLang.name,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'title',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequiredContent: 'iframe[title]',\n\t\t\t\t\t\tlabel: commonLang.advisoryTitle,\n\t\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'longdesc',\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\trequiredContent: 'iframe[longdesc]',\n\t\t\t\t\tlabel: commonLang.longDescr,\n\t\t\t\t\tsetup: loadValue,\n\t\t\t\t\tcommit: commitValue\n\t\t\t\t} ]\n\t\t\t},\n\t\t\tdialogadvtab && dialogadvtab.createAdvancedTab( editor, { id: 1, classes: 1, styles: 1 }, 'iframe' )\n\t\t] };\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/iframe/dialogs/iframe.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar imageDialog = function( editor, dialogType ) {\n\t\t\t// Load image preview.\n\t\t\tvar IMAGE = 1,\n\t\t\t\tLINK = 2,\n\t\t\t\tPREVIEW = 4,\n\t\t\t\tCLEANUP = 8,\n\t\t\t\tregexGetSize = /^\\s*(\\d+)((px)|\\%)?\\s*$/i,\n\t\t\t\tregexGetSizeOrEmpty = /(^\\s*(\\d+)((px)|\\%)?\\s*$)|^$/i,\n\t\t\t\tpxLengthRegex = /^\\d+px$/;\n\n\t\t\tvar onSizeChange = function() {\n\t\t\t\t\tvar value = this.getValue(),\n\t\t\t\t\t\t// This = input element.\n\t\t\t\t\t\tdialog = this.getDialog(),\n\t\t\t\t\t\taMatch = value.match( regexGetSize ); // Check value\n\t\t\t\t\tif ( aMatch ) {\n\t\t\t\t\t\tif ( aMatch[ 2 ] == '%' ) // % is allowed - > unlock ratio.\n\t\t\t\t\t\tswitchLockRatio( dialog, false ); // Unlock.\n\t\t\t\t\t\tvalue = aMatch[ 1 ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only if ratio is locked\n\t\t\t\t\tif ( dialog.lockRatio ) {\n\t\t\t\t\t\tvar oImageOriginal = dialog.originalElement;\n\t\t\t\t\t\tif ( oImageOriginal.getCustomData( 'isReady' ) == 'true' ) {\n\t\t\t\t\t\t\tif ( this.id == 'txtHeight' ) {\n\t\t\t\t\t\t\t\tif ( value && value != '0' )\n\t\t\t\t\t\t\t\t\tvalue = Math.round( oImageOriginal.$.width * ( value / oImageOriginal.$.height ) );\n\t\t\t\t\t\t\t\tif ( !isNaN( value ) )\n\t\t\t\t\t\t\t\t\tdialog.setValueOf( 'info', 'txtWidth', value );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// this.id = txtWidth.\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif ( value && value != '0' )\n\t\t\t\t\t\t\t\t\tvalue = Math.round( oImageOriginal.$.height * ( value / oImageOriginal.$.width ) );\n\t\t\t\t\t\t\t\tif ( !isNaN( value ) )\n\t\t\t\t\t\t\t\t\tdialog.setValueOf( 'info', 'txtHeight', value );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tupdatePreview( dialog );\n\t\t\t\t};\n\n\t\t\tvar updatePreview = function( dialog ) {\n\t\t\t\t\t//Don't load before onShow.\n\t\t\t\t\tif ( !dialog.originalElement || !dialog.preview )\n\t\t\t\t\t\treturn 1;\n\n\t\t\t\t\t// Read attributes and update imagePreview;\n\t\t\t\t\tdialog.commitContent( PREVIEW, dialog.preview );\n\t\t\t\t\treturn 0;\n\t\t\t\t};\n\n\t\t\t// Custom commit dialog logic, where we're intended to give inline style\n\t\t\t// field (txtdlgGenStyle) higher priority to avoid overwriting styles contribute\n\t\t\t// by other fields.\n\t\t\tfunction commitContent() {\n\t\t\t\tvar args = arguments;\n\t\t\t\tvar inlineStyleField = this.getContentElement( 'advanced', 'txtdlgGenStyle' );\n\t\t\t\tinlineStyleField && inlineStyleField.commit.apply( inlineStyleField, args );\n\n\t\t\t\tthis.foreach( function( widget ) {\n\t\t\t\t\tif ( widget.commit && widget.id != 'txtdlgGenStyle' )\n\t\t\t\t\t\twidget.commit.apply( widget, args );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Avoid recursions.\n\t\t\tvar incommit;\n\n\t\t\t// Synchronous field values to other impacted fields is required, e.g. border\n\t\t\t// size change should alter inline-style text as well.\n\t\t\tfunction commitInternally( targetFields ) {\n\t\t\t\tif ( incommit )\n\t\t\t\t\treturn;\n\n\t\t\t\tincommit = 1;\n\n\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\telement = dialog.imageElement;\n\t\t\t\tif ( element ) {\n\t\t\t\t\t// Commit this field and broadcast to target fields.\n\t\t\t\t\tthis.commit( IMAGE, element );\n\n\t\t\t\t\ttargetFields = [].concat( targetFields );\n\t\t\t\t\tvar length = targetFields.length,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tfor ( var i = 0; i < length; i++ ) {\n\t\t\t\t\t\tfield = dialog.getContentElement.apply( dialog, targetFields[ i ].split( ':' ) );\n\t\t\t\t\t\t// May cause recursion.\n\t\t\t\t\t\tfield && field.setup( IMAGE, element );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tincommit = 0;\n\t\t\t}\n\n\t\t\tvar switchLockRatio = function( dialog, value ) {\n\t\t\t\t\tif ( !dialog.getContentElement( 'info', 'ratioLock' ) )\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\tvar oImageOriginal = dialog.originalElement;\n\n\t\t\t\t\t// Dialog may already closed. (#5505)\n\t\t\t\t\tif ( !oImageOriginal )\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t// Check image ratio and original image ratio, but respecting user's preference.\n\t\t\t\t\tif ( value == 'check' ) {\n\t\t\t\t\t\tif ( !dialog.userlockRatio && oImageOriginal.getCustomData( 'isReady' ) == 'true' ) {\n\t\t\t\t\t\t\tvar width = dialog.getValueOf( 'info', 'txtWidth' ),\n\t\t\t\t\t\t\t\theight = dialog.getValueOf( 'info', 'txtHeight' ),\n\t\t\t\t\t\t\t\toriginalRatio = oImageOriginal.$.width * 1000 / oImageOriginal.$.height,\n\t\t\t\t\t\t\t\tthisRatio = width * 1000 / height;\n\t\t\t\t\t\t\tdialog.lockRatio = false; // Default: unlock ratio\n\n\t\t\t\t\t\t\tif ( !width && !height )\n\t\t\t\t\t\t\t\tdialog.lockRatio = true;\n\t\t\t\t\t\t\telse if ( !isNaN( originalRatio ) && !isNaN( thisRatio ) ) {\n\t\t\t\t\t\t\t\tif ( Math.round( originalRatio ) == Math.round( thisRatio ) )\n\t\t\t\t\t\t\t\t\tdialog.lockRatio = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ( value !== undefined )\n\t\t\t\t\t\tdialog.lockRatio = value;\n\t\t\t\t\telse {\n\t\t\t\t\t\tdialog.userlockRatio = 1;\n\t\t\t\t\t\tdialog.lockRatio = !dialog.lockRatio;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar ratioButton = CKEDITOR.document.getById( btnLockSizesId );\n\t\t\t\t\tif ( dialog.lockRatio )\n\t\t\t\t\t\tratioButton.removeClass( 'cke_btn_unlocked' );\n\t\t\t\t\telse\n\t\t\t\t\t\tratioButton.addClass( 'cke_btn_unlocked' );\n\n\t\t\t\t\tratioButton.setAttribute( 'aria-checked', dialog.lockRatio );\n\n\t\t\t\t\t// Ratio button hc presentation - WHITE SQUARE / BLACK SQUARE\n\t\t\t\t\tif ( CKEDITOR.env.hc ) {\n\t\t\t\t\t\tvar icon = ratioButton.getChild( 0 );\n\t\t\t\t\t\ticon.setHtml( dialog.lockRatio ? CKEDITOR.env.ie ? '\\u25A0' : '\\u25A3' : CKEDITOR.env.ie ? '\\u25A1' : '\\u25A2' );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn dialog.lockRatio;\n\t\t\t\t};\n\n\t\t\tvar resetSize = function( dialog, emptyValues ) {\n\t\t\t\t\tvar oImageOriginal = dialog.originalElement,\n\t\t\t\t\t\tready = oImageOriginal.getCustomData( 'isReady' ) == 'true';\n\n\t\t\t\t\tif ( ready ) {\n\t\t\t\t\t\tvar widthField = dialog.getContentElement( 'info', 'txtWidth' ),\n\t\t\t\t\t\t\theightField = dialog.getContentElement( 'info', 'txtHeight' ),\n\t\t\t\t\t\t\twidthValue, heightValue;\n\n\t\t\t\t\t\tif ( emptyValues ) {\n\t\t\t\t\t\t\twidthValue = 0;\n\t\t\t\t\t\t\theightValue = 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidthValue = oImageOriginal.$.width;\n\t\t\t\t\t\t\theightValue = oImageOriginal.$.height;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twidthField && widthField.setValue( widthValue );\n\t\t\t\t\t\theightField && heightField.setValue( heightValue );\n\t\t\t\t\t}\n\t\t\t\t\tupdatePreview( dialog );\n\t\t\t\t};\n\n\t\t\tvar setupDimension = function( type, element ) {\n\t\t\t\t\tif ( type != IMAGE )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tfunction checkDimension( size, defaultValue ) {\n\t\t\t\t\t\tvar aMatch = size.match( regexGetSize );\n\t\t\t\t\t\tif ( aMatch ) {\n\t\t\t\t\t\t\t// % is allowed.\n\t\t\t\t\t\t\tif ( aMatch[ 2 ] == '%' ) {\n\t\t\t\t\t\t\t\taMatch[ 1 ] += '%';\n\t\t\t\t\t\t\t\tswitchLockRatio( dialog, false ); // Unlock ratio\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn aMatch[ 1 ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn defaultValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\tvalue = '',\n\t\t\t\t\t\tdimension = this.id == 'txtWidth' ? 'width' : 'height',\n\t\t\t\t\t\tsize = element.getAttribute( dimension );\n\n\t\t\t\t\tif ( size )\n\t\t\t\t\t\tvalue = checkDimension( size, value );\n\t\t\t\t\tvalue = checkDimension( element.getStyle( dimension ), value );\n\n\t\t\t\t\tthis.setValue( value );\n\t\t\t\t};\n\n\t\t\tvar previewPreloader;\n\n\t\t\tvar onImgLoadEvent = function() {\n\t\t\t\t\t// Image is ready.\n\t\t\t\t\tvar original = this.originalElement,\n\t\t\t\t\t\tloader = CKEDITOR.document.getById( imagePreviewLoaderId );\n\n\t\t\t\t\toriginal.setCustomData( 'isReady', 'true' );\n\t\t\t\t\toriginal.removeListener( 'load', onImgLoadEvent );\n\t\t\t\t\toriginal.removeListener( 'error', onImgLoadErrorEvent );\n\t\t\t\t\toriginal.removeListener( 'abort', onImgLoadErrorEvent );\n\n\t\t\t\t\t// Hide loader.\n\t\t\t\t\tif ( loader )\n\t\t\t\t\t\tloader.setStyle( 'display', 'none' );\n\n\t\t\t\t\t// New image -> new dimensions\n\t\t\t\t\tif ( !this.dontResetSize ) {\n\t\t\t\t\t\tresetSize( this, editor.config.image_prefillDimensions === false );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.firstLoad ) {\n\t\t\t\t\t\tCKEDITOR.tools.setTimeout( function() {\n\t\t\t\t\t\t\tswitchLockRatio( this, 'check' );\n\t\t\t\t\t\t}, 0, this );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.firstLoad = false;\n\t\t\t\t\tthis.dontResetSize = false;\n\n\t\t\t\t\t// Possible fix for #12818.\n\t\t\t\t\tupdatePreview( this );\n\t\t\t\t};\n\n\t\t\tvar onImgLoadErrorEvent = function() {\n\t\t\t\t\t// Error. Image is not loaded.\n\t\t\t\t\tvar original = this.originalElement,\n\t\t\t\t\t\tloader = CKEDITOR.document.getById( imagePreviewLoaderId );\n\n\t\t\t\t\toriginal.removeListener( 'load', onImgLoadEvent );\n\t\t\t\t\toriginal.removeListener( 'error', onImgLoadErrorEvent );\n\t\t\t\t\toriginal.removeListener( 'abort', onImgLoadErrorEvent );\n\n\t\t\t\t\t// Set Error image.\n\t\t\t\t\tvar noimage = CKEDITOR.getUrl( CKEDITOR.plugins.get( 'image' ).path + 'images/noimage.png' );\n\n\t\t\t\t\tif ( this.preview )\n\t\t\t\t\t\tthis.preview.setAttribute( 'src', noimage );\n\n\t\t\t\t\t// Hide loader.\n\t\t\t\t\tif ( loader )\n\t\t\t\t\t\tloader.setStyle( 'display', 'none' );\n\n\t\t\t\t\tswitchLockRatio( this, false ); // Unlock.\n\t\t\t\t};\n\n\t\t\tvar numbering = function( id ) {\n\t\t\t\t\treturn CKEDITOR.tools.getNextId() + '_' + id;\n\t\t\t\t},\n\t\t\t\tbtnLockSizesId = numbering( 'btnLockSizes' ),\n\t\t\t\tbtnResetSizeId = numbering( 'btnResetSize' ),\n\t\t\t\timagePreviewLoaderId = numbering( 'ImagePreviewLoader' ),\n\t\t\t\tpreviewLinkId = numbering( 'previewLink' ),\n\t\t\t\tpreviewImageId = numbering( 'previewImage' );\n\n\t\t\treturn {\n\t\t\t\ttitle: editor.lang.image[ dialogType == 'image' ? 'title' : 'titleButton' ],\n\t\t\t\tminWidth: 420,\n\t\t\t\tminHeight: 360,\n\t\t\t\tonShow: function() {\n\t\t\t\t\tthis.imageElement = false;\n\t\t\t\t\tthis.linkElement = false;\n\n\t\t\t\t\t// Default: create a new element.\n\t\t\t\t\tthis.imageEditMode = false;\n\t\t\t\t\tthis.linkEditMode = false;\n\n\t\t\t\t\tthis.lockRatio = true;\n\t\t\t\t\tthis.userlockRatio = 0;\n\t\t\t\t\tthis.dontResetSize = false;\n\t\t\t\t\tthis.firstLoad = true;\n\t\t\t\t\tthis.addLink = false;\n\n\t\t\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\t\t\tsel = editor.getSelection(),\n\t\t\t\t\t\telement = sel && sel.getSelectedElement(),\n\t\t\t\t\t\tlink = element && editor.elementPath( element ).contains( 'a', 1 ),\n\t\t\t\t\t\tloader = CKEDITOR.document.getById( imagePreviewLoaderId );\n\n\t\t\t\t\t// Hide loader.\n\t\t\t\t\tif ( loader )\n\t\t\t\t\t\tloader.setStyle( 'display', 'none' );\n\n\t\t\t\t\t// Create the preview before setup the dialog contents.\n\t\t\t\t\tpreviewPreloader = new CKEDITOR.dom.element( 'img', editor.document );\n\t\t\t\t\tthis.preview = CKEDITOR.document.getById( previewImageId );\n\n\t\t\t\t\t// Copy of the image\n\t\t\t\t\tthis.originalElement = editor.document.createElement( 'img' );\n\t\t\t\t\tthis.originalElement.setAttribute( 'alt', '' );\n\t\t\t\t\tthis.originalElement.setCustomData( 'isReady', 'false' );\n\n\t\t\t\t\tif ( link ) {\n\t\t\t\t\t\tthis.linkElement = link;\n\t\t\t\t\t\tthis.linkEditMode = true;\n\n\t\t\t\t\t\t// If there is an existing link, by default keep it (true).\n\t\t\t\t\t\t// It will be removed if certain conditions are met and Link tab is enabled. (#13351)\n\t\t\t\t\t\tthis.addLink = true;\n\n\t\t\t\t\t\t// Look for Image element.\n\t\t\t\t\t\tvar linkChildren = link.getChildren();\n\t\t\t\t\t\tif ( linkChildren.count() == 1 ) {\n\t\t\t\t\t\t\tvar childTag = linkChildren.getItem( 0 );\n\n\t\t\t\t\t\t\tif ( childTag.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t\t\tif ( childTag.is( 'img' ) || childTag.is( 'input' ) ) {\n\t\t\t\t\t\t\t\t\tthis.imageElement = linkChildren.getItem( 0 );\n\t\t\t\t\t\t\t\t\tif ( this.imageElement.is( 'img' ) )\n\t\t\t\t\t\t\t\t\t\tthis.imageEditMode = 'img';\n\t\t\t\t\t\t\t\t\telse if ( this.imageElement.is( 'input' ) )\n\t\t\t\t\t\t\t\t\t\tthis.imageEditMode = 'input';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Fill out all fields.\n\t\t\t\t\t\tif ( dialogType == 'image' )\n\t\t\t\t\t\t\tthis.setupContent( LINK, link );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Edit given image element instead the one from selection.\n\t\t\t\t\tif ( this.customImageElement ) {\n\t\t\t\t\t\tthis.imageEditMode = 'img';\n\t\t\t\t\t\tthis.imageElement = this.customImageElement;\n\t\t\t\t\t\tdelete this.customImageElement;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( element && element.getName() == 'img' && !element.data( 'cke-realelement' ) ||\n\t\t\t\t\t\telement && element.getName() == 'input' && element.getAttribute( 'type' ) == 'image' ) {\n\t\t\t\t\t\tthis.imageEditMode = element.getName();\n\t\t\t\t\t\tthis.imageElement = element;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( this.imageEditMode ) {\n\t\t\t\t\t\t// Use the original element as a buffer from  since we don't want\n\t\t\t\t\t\t// temporary changes to be committed, e.g. if the dialog is canceled.\n\t\t\t\t\t\tthis.cleanImageElement = this.imageElement;\n\t\t\t\t\t\tthis.imageElement = this.cleanImageElement.clone( true, true );\n\n\t\t\t\t\t\t// Fill out all fields.\n\t\t\t\t\t\tthis.setupContent( IMAGE, this.imageElement );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Refresh LockRatio button\n\t\t\t\t\tswitchLockRatio( this, true );\n\n\t\t\t\t\t// Dont show preview if no URL given.\n\t\t\t\t\tif ( !CKEDITOR.tools.trim( this.getValueOf( 'info', 'txtUrl' ) ) ) {\n\t\t\t\t\t\tthis.preview.removeAttribute( 'src' );\n\t\t\t\t\t\tthis.preview.setStyle( 'display', 'none' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonOk: function() {\n\t\t\t\t\t// Edit existing Image.\n\t\t\t\t\tif ( this.imageEditMode ) {\n\t\t\t\t\t\tvar imgTagName = this.imageEditMode;\n\n\t\t\t\t\t\t// Image dialog and Input element.\n\t\t\t\t\t\tif ( dialogType == 'image' && imgTagName == 'input' && confirm( editor.lang.image.button2Img ) ) { // jshint ignore:line\n\t\t\t\t\t\t\t// Replace INPUT-> IMG\n\t\t\t\t\t\t\timgTagName = 'img';\n\t\t\t\t\t\t\tthis.imageElement = editor.document.createElement( 'img' );\n\t\t\t\t\t\t\tthis.imageElement.setAttribute( 'alt', '' );\n\t\t\t\t\t\t\teditor.insertElement( this.imageElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ImageButton dialog and Image element.\n\t\t\t\t\t\telse if ( dialogType != 'image' && imgTagName == 'img' && confirm( editor.lang.image.img2Button ) ) { // jshint ignore:line\n\t\t\t\t\t\t\t// Replace IMG -> INPUT\n\t\t\t\t\t\t\timgTagName = 'input';\n\t\t\t\t\t\t\tthis.imageElement = editor.document.createElement( 'input' );\n\t\t\t\t\t\t\tthis.imageElement.setAttributes( {\n\t\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\t\talt: ''\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\teditor.insertElement( this.imageElement );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Restore the original element before all commits.\n\t\t\t\t\t\t\tthis.imageElement = this.cleanImageElement;\n\t\t\t\t\t\t\tdelete this.cleanImageElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Create a new image.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Image dialog -> create IMG element.\n\t\t\t\t\t\tif ( dialogType == 'image' )\n\t\t\t\t\t\t\tthis.imageElement = editor.document.createElement( 'img' );\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.imageElement = editor.document.createElement( 'input' );\n\t\t\t\t\t\t\tthis.imageElement.setAttribute( 'type', 'image' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.imageElement.setAttribute( 'alt', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create a new link.\n\t\t\t\t\tif ( !this.linkEditMode )\n\t\t\t\t\t\tthis.linkElement = editor.document.createElement( 'a' );\n\n\t\t\t\t\t// Set attributes.\n\t\t\t\t\tthis.commitContent( IMAGE, this.imageElement );\n\t\t\t\t\tthis.commitContent( LINK, this.linkElement );\n\n\t\t\t\t\t// Remove empty style attribute.\n\t\t\t\t\tif ( !this.imageElement.getAttribute( 'style' ) )\n\t\t\t\t\t\tthis.imageElement.removeAttribute( 'style' );\n\n\t\t\t\t\t// Insert a new Image.\n\t\t\t\t\tif ( !this.imageEditMode ) {\n\t\t\t\t\t\tif ( this.addLink ) {\n\t\t\t\t\t\t\tif ( !this.linkEditMode ) {\n\t\t\t\t\t\t\t\t// Insert a new link.\n\t\t\t\t\t\t\t\teditor.insertElement( this.linkElement );\n\t\t\t\t\t\t\t\tthis.linkElement.append( this.imageElement, false );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// We already have a link in editor.\n\t\t\t\t\t\t\t\tif ( this.linkElement.equals( editor.getSelection().getSelectedElement() ) ) {\n\t\t\t\t\t\t\t\t\t// If the link is selected outside, replace it's content rather than the link itself. ([<a>foo</a>])\n\t\t\t\t\t\t\t\t\tthis.linkElement.setHtml( '' );\n\t\t\t\t\t\t\t\t\tthis.linkElement.append( this.imageElement, false );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Only inside of the link is selected, so replace it with image. (<a>[foo]</a>, <a>[f]oo</a>)\n\t\t\t\t\t\t\t\t\teditor.insertElement( this.imageElement );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\teditor.insertElement( this.imageElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Image already exists.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Add a new link element.\n\t\t\t\t\t\tif ( !this.linkEditMode && this.addLink ) {\n\t\t\t\t\t\t\teditor.insertElement( this.linkElement );\n\t\t\t\t\t\t\tthis.imageElement.appendTo( this.linkElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Remove Link, Image exists.\n\t\t\t\t\t\telse if ( this.linkEditMode && !this.addLink ) {\n\t\t\t\t\t\t\teditor.getSelection().selectElement( this.linkElement );\n\t\t\t\t\t\t\teditor.insertElement( this.imageElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonLoad: function() {\n\t\t\t\t\tif ( dialogType != 'image' )\n\t\t\t\t\t\tthis.hidePage( 'Link' ); //Hide Link tab.\n\t\t\t\t\tvar doc = this._.element.getDocument();\n\n\t\t\t\t\tif ( this.getContentElement( 'info', 'ratioLock' ) ) {\n\t\t\t\t\t\tthis.addFocusable( doc.getById( btnResetSizeId ), 5 );\n\t\t\t\t\t\tthis.addFocusable( doc.getById( btnLockSizesId ), 5 );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.commitContent = commitContent;\n\t\t\t\t},\n\t\t\t\tonHide: function() {\n\t\t\t\t\tif ( this.preview )\n\t\t\t\t\t\tthis.commitContent( CLEANUP, this.preview );\n\n\t\t\t\t\tif ( this.originalElement ) {\n\t\t\t\t\t\tthis.originalElement.removeListener( 'load', onImgLoadEvent );\n\t\t\t\t\t\tthis.originalElement.removeListener( 'error', onImgLoadErrorEvent );\n\t\t\t\t\t\tthis.originalElement.removeListener( 'abort', onImgLoadErrorEvent );\n\t\t\t\t\t\tthis.originalElement.remove();\n\t\t\t\t\t\tthis.originalElement = false; // Dialog is closed.\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete this.imageElement;\n\t\t\t\t},\n\t\t\t\tcontents: [ {\n\t\t\t\t\tid: 'info',\n\t\t\t\t\tlabel: editor.lang.image.infoTab,\n\t\t\t\t\taccessKey: 'I',\n\t\t\t\t\telements: [ {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\twidths: [ '280px', '110px' ],\n\t\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\tid: 'txtUrl',\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tlabel: editor.lang.common.url,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\tvar dialog = this.getDialog(),\n\t\t\t\t\t\t\t\t\t\tnewUrl = this.getValue();\n\n\t\t\t\t\t\t\t\t\t// Update original image.\n\t\t\t\t\t\t\t\t\t// Prevent from load before onShow.\n\t\t\t\t\t\t\t\t\tif ( newUrl.length > 0 ) {\n\t\t\t\t\t\t\t\t\t\tdialog = this.getDialog();\n\t\t\t\t\t\t\t\t\t\tvar original = dialog.originalElement;\n\n\t\t\t\t\t\t\t\t\t\tif ( dialog.preview ) {\n\t\t\t\t\t\t\t\t\t\t\tdialog.preview.removeStyle( 'display' );\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\toriginal.setCustomData( 'isReady', 'false' );\n\t\t\t\t\t\t\t\t\t\t// Show loader.\n\t\t\t\t\t\t\t\t\t\tvar loader = CKEDITOR.document.getById( imagePreviewLoaderId );\n\t\t\t\t\t\t\t\t\t\tif ( loader )\n\t\t\t\t\t\t\t\t\t\t\tloader.setStyle( 'display', '' );\n\n\t\t\t\t\t\t\t\t\t\toriginal.on( 'load', onImgLoadEvent, dialog );\n\t\t\t\t\t\t\t\t\t\toriginal.on( 'error', onImgLoadErrorEvent, dialog );\n\t\t\t\t\t\t\t\t\t\toriginal.on( 'abort', onImgLoadErrorEvent, dialog );\n\t\t\t\t\t\t\t\t\t\toriginal.setAttribute( 'src', newUrl );\n\n\t\t\t\t\t\t\t\t\t\tif ( dialog.preview ) {\n\t\t\t\t\t\t\t\t\t\t\t// Query the preloader to figure out the url impacted by based href.\n\t\t\t\t\t\t\t\t\t\t\tpreviewPreloader.setAttribute( 'src', newUrl );\n\t\t\t\t\t\t\t\t\t\t\tdialog.preview.setAttribute( 'src', previewPreloader.$.src );\n\t\t\t\t\t\t\t\t\t\t\tupdatePreview( dialog );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// Dont show preview if no URL given.\n\t\t\t\t\t\t\t\t\telse if ( dialog.preview ) {\n\t\t\t\t\t\t\t\t\t\tdialog.preview.removeAttribute( 'src' );\n\t\t\t\t\t\t\t\t\t\tdialog.preview.setStyle( 'display', 'none' );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\tvar url = element.data( 'cke-saved-src' ) || element.getAttribute( 'src' );\n\t\t\t\t\t\t\t\t\t\tvar field = this;\n\n\t\t\t\t\t\t\t\t\t\tthis.getDialog().dontResetSize = true;\n\n\t\t\t\t\t\t\t\t\t\tfield.setValue( url ); // And call this.onChange()\n\t\t\t\t\t\t\t\t\t\t// Manually set the initial value.(#4191)\n\t\t\t\t\t\t\t\t\t\tfield.setInitValue();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\tif ( type == IMAGE && ( this.getValue() || this.isChanged() ) ) {\n\t\t\t\t\t\t\t\t\t\telement.data( 'cke-saved-src', this.getValue() );\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'src', this.getValue() );\n\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'src', '' ); // If removeAttribute doesn't work.\n\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'src' );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.notEmpty( editor.lang.image.urlMissing )\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tid: 'browse',\n\t\t\t\t\t\t\t\t// v-align with the 'txtUrl' field.\n\t\t\t\t\t\t\t\t// TODO: We need something better than a fixed size here.\n\t\t\t\t\t\t\t\tstyle: 'display:inline-block;margin-top:14px;',\n\t\t\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\t\t\tlabel: editor.lang.common.browseServer,\n\t\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t\tfilebrowser: 'info:txtUrl'\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'txtAlt',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: editor.lang.image.alt,\n\t\t\t\t\t\taccessKey: 'T',\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\tupdatePreview( this.getDialog() );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'alt' ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\telement.setAttribute( 'alt', this.getValue() );\n\t\t\t\t\t\t\t} else if ( type == PREVIEW )\n\t\t\t\t\t\t\t\telement.setAttribute( 'alt', this.getValue() );\n\t\t\t\t\t\t\telse if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\telement.removeAttribute( 'alt' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\tid: 'basic',\n\t\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\t\trequiredContent: 'img{width,height}',\n\t\t\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\t\t\t\tpadding: 1,\n\t\t\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\twidth: '45px',\n\t\t\t\t\t\t\t\t\t\tid: 'txtWidth',\n\t\t\t\t\t\t\t\t\t\tlabel: editor.lang.common.width,\n\t\t\t\t\t\t\t\t\t\tonKeyUp: onSizeChange,\n\t\t\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\t\t\tcommitInternally.call( this, 'advanced:txtdlgGenStyle' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tvalidate: function() {\n\t\t\t\t\t\t\t\t\t\t\tvar aMatch = this.getValue().match( regexGetSizeOrEmpty ),\n\t\t\t\t\t\t\t\t\t\t\t\tisValid = !!( aMatch && parseInt( aMatch[ 1 ], 10 ) !== 0 );\n\t\t\t\t\t\t\t\t\t\t\tif ( !isValid )\n\t\t\t\t\t\t\t\t\t\t\t\talert( editor.lang.common.invalidWidth ); // jshint ignore:line\n\t\t\t\t\t\t\t\t\t\t\treturn isValid;\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tsetup: setupDimension,\n\t\t\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( value && editor.activeFilter.check( 'img{width,height}' ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'width', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'width' );\n\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'width' );\n\t\t\t\t\t\t\t\t\t\t\t} else if ( type == PREVIEW ) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar aMatch = value.match( regexGetSize );\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !aMatch ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar oImageOriginal = this.getDialog().originalElement;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( oImageOriginal.getCustomData( 'isReady' ) == 'true' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'width', oImageOriginal.$.width + 'px' );\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'width', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'width' );\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'width' );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tid: 'txtHeight',\n\t\t\t\t\t\t\t\t\t\twidth: '45px',\n\t\t\t\t\t\t\t\t\t\tlabel: editor.lang.common.height,\n\t\t\t\t\t\t\t\t\t\tonKeyUp: onSizeChange,\n\t\t\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\t\t\tcommitInternally.call( this, 'advanced:txtdlgGenStyle' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tvalidate: function() {\n\t\t\t\t\t\t\t\t\t\t\tvar aMatch = this.getValue().match( regexGetSizeOrEmpty ),\n\t\t\t\t\t\t\t\t\t\t\t\tisValid = !!( aMatch && parseInt( aMatch[ 1 ], 10 ) !== 0 );\n\t\t\t\t\t\t\t\t\t\t\tif ( !isValid )\n\t\t\t\t\t\t\t\t\t\t\t\talert( editor.lang.common.invalidHeight ); // jshint ignore:line\n\t\t\t\t\t\t\t\t\t\t\treturn isValid;\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tsetup: setupDimension,\n\t\t\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\t\tif ( value && editor.activeFilter.check( 'img{width,height}' ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'height', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'height' );\n\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'height' );\n\t\t\t\t\t\t\t\t\t\t\t} else if ( type == PREVIEW ) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar aMatch = value.match( regexGetSize );\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !aMatch ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar oImageOriginal = this.getDialog().originalElement;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( oImageOriginal.getCustomData( 'isReady' ) == 'true' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'height', oImageOriginal.$.height + 'px' );\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'height', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'height' );\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'height' );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: 'ratioLock',\n\t\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\t\tstyle: 'margin-top:30px;width:40px;height:40px;',\n\t\t\t\t\t\t\t\t\tonLoad: function() {\n\t\t\t\t\t\t\t\t\t\t// Activate Reset button\n\t\t\t\t\t\t\t\t\t\tvar resetButton = CKEDITOR.document.getById( btnResetSizeId ),\n\t\t\t\t\t\t\t\t\t\t\tratioButton = CKEDITOR.document.getById( btnLockSizesId );\n\t\t\t\t\t\t\t\t\t\tif ( resetButton ) {\n\t\t\t\t\t\t\t\t\t\t\tresetButton.on( 'click', function( evt ) {\n\t\t\t\t\t\t\t\t\t\t\t\tresetSize( this );\n\t\t\t\t\t\t\t\t\t\t\t\tevt.data && evt.data.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t}, this.getDialog() );\n\t\t\t\t\t\t\t\t\t\t\tresetButton.on( 'mouseover', function() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.addClass( 'cke_btn_over' );\n\t\t\t\t\t\t\t\t\t\t\t}, resetButton );\n\t\t\t\t\t\t\t\t\t\t\tresetButton.on( 'mouseout', function() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.removeClass( 'cke_btn_over' );\n\t\t\t\t\t\t\t\t\t\t\t}, resetButton );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// Activate (Un)LockRatio button\n\t\t\t\t\t\t\t\t\t\tif ( ratioButton ) {\n\t\t\t\t\t\t\t\t\t\t\tratioButton.on( 'click', function( evt ) {\n\t\t\t\t\t\t\t\t\t\t\t\tswitchLockRatio( this );\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar oImageOriginal = this.originalElement,\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth = this.getValueOf( 'info', 'txtWidth' );\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( oImageOriginal.getCustomData( 'isReady' ) == 'true' && width ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar height = oImageOriginal.$.height / oImageOriginal.$.width * width;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( !isNaN( height ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setValueOf( 'info', 'txtHeight', Math.round( height ) );\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdatePreview( this );\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tevt.data && evt.data.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t}, this.getDialog() );\n\t\t\t\t\t\t\t\t\t\t\tratioButton.on( 'mouseover', function() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.addClass( 'cke_btn_over' );\n\t\t\t\t\t\t\t\t\t\t\t}, ratioButton );\n\t\t\t\t\t\t\t\t\t\t\tratioButton.on( 'mouseout', function() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.removeClass( 'cke_btn_over' );\n\t\t\t\t\t\t\t\t\t\t\t}, ratioButton );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\thtml: '<div>' +\n\t\t\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" tabindex=\"-1\" title=\"' + editor.lang.image.lockRatio +\n\t\t\t\t\t\t\t\t\t\t'\" class=\"cke_btn_locked\" id=\"' + btnLockSizesId + '\" role=\"checkbox\"><span class=\"cke_icon\"></span><span class=\"cke_label\">' + editor.lang.image.lockRatio + '</span></a>' +\n\t\t\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" tabindex=\"-1\" title=\"' + editor.lang.image.resetSize +\n\t\t\t\t\t\t\t\t\t\t'\" class=\"cke_btn_reset\" id=\"' + btnResetSizeId + '\" role=\"button\"><span class=\"cke_label\">' + editor.lang.image.resetSize + '</span></a>' +\n\t\t\t\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\t\t\tpadding: 1,\n\t\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tid: 'txtBorder',\n\t\t\t\t\t\t\t\t\trequiredContent: 'img{border-width}',\n\t\t\t\t\t\t\t\t\twidth: '60px',\n\t\t\t\t\t\t\t\t\tlabel: editor.lang.image.border,\n\t\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\t\tonKeyUp: function() {\n\t\t\t\t\t\t\t\t\t\tupdatePreview( this.getDialog() );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\t\tcommitInternally.call( this, 'advanced:txtdlgGenStyle' );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.image.validateBorder ),\n\t\t\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\tvar value,\n\t\t\t\t\t\t\t\t\t\t\t\tborderStyle = element.getStyle( 'border-width' );\n\t\t\t\t\t\t\t\t\t\t\tborderStyle = borderStyle && borderStyle.match( /^(\\d+px)(?: \\1 \\1 \\1)?$/ );\n\t\t\t\t\t\t\t\t\t\t\tvalue = borderStyle && parseInt( borderStyle[ 1 ], 10 );\n\t\t\t\t\t\t\t\t\t\t\tisNaN( parseInt( value, 10 ) ) && ( value = element.getAttribute( 'border' ) );\n\t\t\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tvar value = parseInt( this.getValue(), 10 );\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE || type == PREVIEW ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( !isNaN( value ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'border-width', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'border-style', 'solid' );\n\t\t\t\t\t\t\t\t\t\t\t} else if ( !value && this.isChanged() ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'border' );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'border' );\n\t\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'border' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'border-width' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'border-style' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'border-color' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tid: 'txtHSpace',\n\t\t\t\t\t\t\t\t\trequiredContent: 'img{margin-left,margin-right}',\n\t\t\t\t\t\t\t\t\twidth: '60px',\n\t\t\t\t\t\t\t\t\tlabel: editor.lang.image.hSpace,\n\t\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\t\tonKeyUp: function() {\n\t\t\t\t\t\t\t\t\t\tupdatePreview( this.getDialog() );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\t\tcommitInternally.call( this, 'advanced:txtdlgGenStyle' );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.image.validateHSpace ),\n\t\t\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\tvar value, marginLeftPx, marginRightPx,\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeftStyle = element.getStyle( 'margin-left' ),\n\t\t\t\t\t\t\t\t\t\t\t\tmarginRightStyle = element.getStyle( 'margin-right' );\n\n\t\t\t\t\t\t\t\t\t\t\tmarginLeftStyle = marginLeftStyle && marginLeftStyle.match( pxLengthRegex );\n\t\t\t\t\t\t\t\t\t\t\tmarginRightStyle = marginRightStyle && marginRightStyle.match( pxLengthRegex );\n\t\t\t\t\t\t\t\t\t\t\tmarginLeftPx = parseInt( marginLeftStyle, 10 );\n\t\t\t\t\t\t\t\t\t\t\tmarginRightPx = parseInt( marginRightStyle, 10 );\n\n\t\t\t\t\t\t\t\t\t\t\tvalue = ( marginLeftPx == marginRightPx ) && marginLeftPx;\n\t\t\t\t\t\t\t\t\t\t\tisNaN( parseInt( value, 10 ) ) && ( value = element.getAttribute( 'hspace' ) );\n\n\t\t\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tvar value = parseInt( this.getValue(), 10 );\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE || type == PREVIEW ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( !isNaN( value ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'margin-left', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'margin-right', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t} else if ( !value && this.isChanged() ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-left' );\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-right' );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'hspace' );\n\t\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'hspace' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-left' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-right' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\tid: 'txtVSpace',\n\t\t\t\t\t\t\t\t\trequiredContent: 'img{margin-top,margin-bottom}',\n\t\t\t\t\t\t\t\t\twidth: '60px',\n\t\t\t\t\t\t\t\t\tlabel: editor.lang.image.vSpace,\n\t\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\t\tonKeyUp: function() {\n\t\t\t\t\t\t\t\t\t\tupdatePreview( this.getDialog() );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\t\tcommitInternally.call( this, 'advanced:txtdlgGenStyle' );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( editor.lang.image.validateVSpace ),\n\t\t\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\tvar value, marginTopPx, marginBottomPx,\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTopStyle = element.getStyle( 'margin-top' ),\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottomStyle = element.getStyle( 'margin-bottom' );\n\n\t\t\t\t\t\t\t\t\t\t\tmarginTopStyle = marginTopStyle && marginTopStyle.match( pxLengthRegex );\n\t\t\t\t\t\t\t\t\t\t\tmarginBottomStyle = marginBottomStyle && marginBottomStyle.match( pxLengthRegex );\n\t\t\t\t\t\t\t\t\t\t\tmarginTopPx = parseInt( marginTopStyle, 10 );\n\t\t\t\t\t\t\t\t\t\t\tmarginBottomPx = parseInt( marginBottomStyle, 10 );\n\n\t\t\t\t\t\t\t\t\t\t\tvalue = ( marginTopPx == marginBottomPx ) && marginTopPx;\n\t\t\t\t\t\t\t\t\t\t\tisNaN( parseInt( value, 10 ) ) && ( value = element.getAttribute( 'vspace' ) );\n\t\t\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tvar value = parseInt( this.getValue(), 10 );\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE || type == PREVIEW ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( !isNaN( value ) ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'margin-top', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'margin-bottom', CKEDITOR.tools.cssLength( value ) );\n\t\t\t\t\t\t\t\t\t\t\t} else if ( !value && this.isChanged() ) {\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-top' );\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-bottom' );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'vspace' );\n\t\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'vspace' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-top' );\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'margin-bottom' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: 'cmbAlign',\n\t\t\t\t\t\t\t\t\trequiredContent: 'img{float}',\n\t\t\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\t\t\twidths: [ '35%', '65%' ],\n\t\t\t\t\t\t\t\t\tstyle: 'width:90px',\n\t\t\t\t\t\t\t\t\tlabel: editor.lang.common.align,\n\t\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t\t\t\t[ editor.lang.common.alignLeft, 'left' ],\n\t\t\t\t\t\t\t\t\t\t[ editor.lang.common.alignRight, 'right' ]\n\t\t\t\t\t\t\t\t\t\t// Backward compatible with v2 on setup when specified as attribute value,\n\t\t\t\t\t\t\t\t\t\t// while these values are no more available as select options.\n\t\t\t\t\t\t\t\t\t\t//\t[ editor.lang.image.alignAbsBottom , 'absBottom'],\n\t\t\t\t\t\t\t\t\t\t//\t[ editor.lang.image.alignAbsMiddle , 'absMiddle'],\n\t\t\t\t\t\t\t\t\t\t//  [ editor.lang.image.alignBaseline , 'baseline'],\n\t\t\t\t\t\t\t\t\t\t//  [ editor.lang.image.alignTextTop , 'text-top'],\n\t\t\t\t\t\t\t\t\t\t//  [ editor.lang.image.alignBottom , 'bottom'],\n\t\t\t\t\t\t\t\t\t\t//  [ editor.lang.image.alignMiddle , 'middle'],\n\t\t\t\t\t\t\t\t\t\t//  [ editor.lang.image.alignTop , 'top']\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\t\tupdatePreview( this.getDialog() );\n\t\t\t\t\t\t\t\t\t\tcommitInternally.call( this, 'advanced:txtdlgGenStyle' );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\tvar value = element.getStyle( 'float' );\n\t\t\t\t\t\t\t\t\t\t\tswitch ( value ) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Ignore those unrelated values.\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'inherit':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'none':\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = '';\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t!value && ( value = ( element.getAttribute( 'align' ) || '' ).toLowerCase() );\n\t\t\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE || type == PREVIEW ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( value )\n\t\t\t\t\t\t\t\t\t\t\t\telement.setStyle( 'float', value );\n\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'float' );\n\n\t\t\t\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue = ( element.getAttribute( 'align' ) || '' ).toLowerCase();\n\t\t\t\t\t\t\t\t\t\t\t\tswitch ( value ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// we should remove it only if it matches \"left\" or \"right\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t// otherwise leave it intact.\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'left':\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'right':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.removeAttribute( 'align' );\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\t\t\telement.removeStyle( 'float' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\t\theight: '250px',\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\tid: 'htmlPreview',\n\t\t\t\t\t\t\t\tstyle: 'width:95%;',\n\t\t\t\t\t\t\t\thtml: '<div>' + CKEDITOR.tools.htmlEncode( editor.lang.common.preview ) + '<br>' +\n\t\t\t\t\t\t\t\t\t'<div id=\"' + imagePreviewLoaderId + '\" class=\"ImagePreviewLoader\" style=\"display:none\"><div class=\"loading\">&nbsp;</div></div>' +\n\t\t\t\t\t\t\t\t\t'<div class=\"ImagePreviewBox\"><table><tr><td>' +\n\t\t\t\t\t\t\t\t\t\t'<a href=\"javascript:void(0)\" target=\"_blank\" onclick=\"return false;\" id=\"' + previewLinkId + '\">' +\n\t\t\t\t\t\t\t\t\t\t'<img id=\"' + previewImageId + '\" alt=\"\" /></a>' +\n\t\t\t\t\t\t\t\t\t// jscs:disable maximumLineLength\n\t\t\t\t\t\t\t\t\t\t( editor.config.image_previewText || 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. ' +\n\t\t\t\t\t\t\t\t\t\t\t'Maecenas feugiat consequat diam. Maecenas metus. Vivamus diam purus, cursus a, commodo non, facilisis vitae, ' +\n\t\t\t\t\t\t\t\t\t\t\t'nulla. Aenean dictum lacinia tortor. Nunc iaculis, nibh non iaculis aliquam, orci felis euismod neque, sed ornare massa mauris sed velit. Nulla pretium mi et risus. Fusce mi pede, tempor id, cursus ac, ullamcorper nec, enim. Sed tortor. Curabitur molestie. Duis velit augue, condimentum at, ultrices a, luctus ut, orci. Donec pellentesque egestas eros. Integer cursus, augue in cursus faucibus, eros pede bibendum sem, in tempus tellus justo quis ligula. Etiam eget tortor. Vestibulum rutrum, est ut placerat elementum, lectus nisl aliquam velit, tempor aliquam eros nunc nonummy metus. In eros metus, gravida a, gravida sed, lobortis id, turpis. Ut ultrices, ipsum at venenatis fringilla, sem nulla lacinia tellus, eget aliquet turpis mauris non enim. Nam turpis. Suspendisse lacinia. Curabitur ac tortor ut ipsum egestas elementum. Nunc imperdiet gravida mauris.' ) +\n\t\t\t\t\t\t\t\t\t// jscs:enable maximumLineLength\n\t\t\t\t\t\t\t\t\t'</td></tr></table></div></div>'\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'Link',\n\t\t\t\t\trequiredContent: 'a[href]',\n\t\t\t\t\tlabel: editor.lang.image.linkTab,\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\telements: [ {\n\t\t\t\t\t\tid: 'txtUrl',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: editor.lang.common.url,\n\t\t\t\t\t\tstyle: 'width: 100%',\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == LINK ) {\n\t\t\t\t\t\t\t\tvar href = element.data( 'cke-saved-href' );\n\t\t\t\t\t\t\t\tif ( !href )\n\t\t\t\t\t\t\t\t\thref = element.getAttribute( 'href' );\n\t\t\t\t\t\t\t\tthis.setValue( href );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == LINK ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() ) {\n\t\t\t\t\t\t\t\t\tvar url = this.getValue();\n\t\t\t\t\t\t\t\t\telement.data( 'cke-saved-href', url );\n\t\t\t\t\t\t\t\t\telement.setAttribute( 'href', url );\n\n\t\t\t\t\t\t\t\t\tif ( this.getValue() || !editor.config.image_removeLinkByEmptyURL )\n\t\t\t\t\t\t\t\t\t\tthis.getDialog().addLink = true;\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tthis.getDialog().addLink = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\tid: 'browse',\n\t\t\t\t\t\tfilebrowser: {\n\t\t\t\t\t\t\taction: 'Browse',\n\t\t\t\t\t\t\ttarget: 'Link:txtUrl',\n\t\t\t\t\t\t\turl: editor.config.filebrowserImageBrowseLinkUrl\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyle: 'float:right',\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\tlabel: editor.lang.common.browseServer\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'cmbTarget',\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\trequiredContent: 'a[target]',\n\t\t\t\t\t\tlabel: editor.lang.common.target,\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t[ editor.lang.common.targetNew, '_blank' ],\n\t\t\t\t\t\t\t[ editor.lang.common.targetTop, '_top' ],\n\t\t\t\t\t\t\t[ editor.lang.common.targetSelf, '_self' ],\n\t\t\t\t\t\t\t[ editor.lang.common.targetParent, '_parent' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == LINK )\n\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'target' ) || '' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == LINK ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\telement.setAttribute( 'target', this.getValue() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'Upload',\n\t\t\t\t\thidden: true,\n\t\t\t\t\tfilebrowser: 'uploadButton',\n\t\t\t\t\tlabel: editor.lang.image.upload,\n\t\t\t\t\telements: [ {\n\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\tid: 'upload',\n\t\t\t\t\t\tlabel: editor.lang.image.btnUpload,\n\t\t\t\t\t\tstyle: 'height:40px',\n\t\t\t\t\t\tsize: 38\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'fileButton',\n\t\t\t\t\t\tid: 'uploadButton',\n\t\t\t\t\t\tfilebrowser: 'info:txtUrl',\n\t\t\t\t\t\tlabel: editor.lang.image.btnUpload,\n\t\t\t\t\t\t'for': [ 'Upload', 'upload' ]\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 'advanced',\n\t\t\t\t\tlabel: editor.lang.common.advancedTab,\n\t\t\t\t\telements: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '50%', '25%', '25%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'linkId',\n\t\t\t\t\t\t\trequiredContent: 'img[id]',\n\t\t\t\t\t\t\tlabel: editor.lang.common.id,\n\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'id' ) );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'id', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'cmbLangDir',\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\trequiredContent: 'img[dir]',\n\t\t\t\t\t\t\tstyle: 'width : 100px;',\n\t\t\t\t\t\t\tlabel: editor.lang.common.langDir,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t\t[ editor.lang.common.langDirLtr, 'ltr' ],\n\t\t\t\t\t\t\t\t[ editor.lang.common.langDirRtl, 'rtl' ]\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'dir' ) );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'dir', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtLangCode',\n\t\t\t\t\t\t\trequiredContent: 'img[lang]',\n\t\t\t\t\t\t\tlabel: editor.lang.common.langCode,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'lang' ) );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'lang', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtGenLongDescr',\n\t\t\t\t\t\trequiredContent: 'img[longdesc]',\n\t\t\t\t\t\tlabel: editor.lang.common.longDescr,\n\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'longDesc' ) );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\telement.setAttribute( 'longDesc', this.getValue() );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '50%', '50%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtGenClass',\n\t\t\t\t\t\t\trequiredContent: 'img(cke-xyz)', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\t\tlabel: editor.lang.common.cssClass,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'class' ) );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'class', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtGenTitle',\n\t\t\t\t\t\t\trequiredContent: 'img[title]',\n\t\t\t\t\t\t\tlabel: editor.lang.common.advisoryTitle,\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\tupdatePreview( this.getDialog() );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE )\n\t\t\t\t\t\t\t\t\tthis.setValue( element.getAttribute( 'title' ) );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\t\tif ( this.getValue() || this.isChanged() )\n\t\t\t\t\t\t\t\t\t\telement.setAttribute( 'title', this.getValue() );\n\t\t\t\t\t\t\t\t} else if ( type == PREVIEW )\n\t\t\t\t\t\t\t\t\telement.setAttribute( 'title', this.getValue() );\n\t\t\t\t\t\t\t\telse if ( type == CLEANUP ) {\n\t\t\t\t\t\t\t\t\telement.removeAttribute( 'title' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtdlgGenStyle',\n\t\t\t\t\t\trequiredContent: 'img{cke-xyz}', // Random text like 'xyz' will check if all are allowed.\n\t\t\t\t\t\tlabel: editor.lang.common.cssStyle,\n\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.inlineStyle( editor.lang.common.invalidInlineStyle ),\n\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\tsetup: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == IMAGE ) {\n\t\t\t\t\t\t\t\tvar genStyle = element.getAttribute( 'style' );\n\t\t\t\t\t\t\t\tif ( !genStyle && element.$.style.cssText )\n\t\t\t\t\t\t\t\t\tgenStyle = element.$.style.cssText;\n\t\t\t\t\t\t\t\tthis.setValue( genStyle );\n\n\t\t\t\t\t\t\t\tvar height = element.$.style.height,\n\t\t\t\t\t\t\t\t\twidth = element.$.style.width,\n\t\t\t\t\t\t\t\t\taMatchH = ( height ? height : '' ).match( regexGetSize ),\n\t\t\t\t\t\t\t\t\taMatchW = ( width ? width : '' ).match( regexGetSize );\n\n\t\t\t\t\t\t\t\tthis.attributesInStyle = {\n\t\t\t\t\t\t\t\t\theight: !!aMatchH,\n\t\t\t\t\t\t\t\t\twidth: !!aMatchW\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\tcommitInternally.call(\n\t\t\t\t\t\t\t\tthis, [\n\t\t\t\t\t\t\t\t\t'info:cmbFloat',\n\t\t\t\t\t\t\t\t\t'info:cmbAlign',\n\t\t\t\t\t\t\t\t\t'info:txtVSpace',\n\t\t\t\t\t\t\t\t\t'info:txtHSpace',\n\t\t\t\t\t\t\t\t\t'info:txtBorder',\n\t\t\t\t\t\t\t\t\t'info:txtWidth',\n\t\t\t\t\t\t\t\t\t'info:txtHeight'\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tupdatePreview( this );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( type, element ) {\n\t\t\t\t\t\t\tif ( type == IMAGE && ( this.getValue() || this.isChanged() ) )\n\t\t\t\t\t\t\t\telement.setAttribute( 'style', this.getValue() );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t};\n\t\t};\n\n\tCKEDITOR.dialog.add( 'image', function( editor ) {\n\t\treturn imageDialog( editor, 'image' );\n\t} );\n\n\tCKEDITOR.dialog.add( 'imagebutton', function( editor ) {\n\t\treturn imageDialog( editor, 'imagebutton' );\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/image/dialogs/image.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/**\n * @fileOverview Image plugin based on Widgets API\n */\n\n'use strict';\n\nCKEDITOR.dialog.add( 'image2', function( editor ) {\n\n\t// RegExp: 123, 123px, empty string \"\"\n\tvar regexGetSizeOrEmpty = /(^\\s*(\\d+)(px)?\\s*$)|^$/i,\n\n\t\tlockButtonId = CKEDITOR.tools.getNextId(),\n\t\tresetButtonId = CKEDITOR.tools.getNextId(),\n\n\t\tlang = editor.lang.image2,\n\t\tcommonLang = editor.lang.common,\n\n\t\tlockResetStyle = 'margin-top:18px;width:40px;height:20px;',\n\t\tlockResetHtml = new CKEDITOR.template(\n\t\t\t'<div>' +\n\t\t\t\t'<a href=\"javascript:void(0)\" tabindex=\"-1\" title=\"' + lang.lockRatio + '\" class=\"cke_btn_locked\" id=\"{lockButtonId}\" role=\"checkbox\">' +\n\t\t\t\t\t'<span class=\"cke_icon\"></span>' +\n\t\t\t\t\t'<span class=\"cke_label\">' + lang.lockRatio + '</span>' +\n\t\t\t\t'</a>' +\n\n\t\t\t\t'<a href=\"javascript:void(0)\" tabindex=\"-1\" title=\"' + lang.resetSize + '\" class=\"cke_btn_reset\" id=\"{resetButtonId}\" role=\"button\">' +\n\t\t\t\t\t'<span class=\"cke_label\">' + lang.resetSize + '</span>' +\n\t\t\t\t'</a>' +\n\t\t\t'</div>' ).output( {\n\t\t\t\tlockButtonId: lockButtonId,\n\t\t\t\tresetButtonId: resetButtonId\n\t\t\t} ),\n\n\t\thelpers = CKEDITOR.plugins.image2,\n\n\t\t// Editor instance configuration.\n\t\tconfig = editor.config,\n\n\t\t// Content restrictions defined by the widget which\n\t\t// impact on dialog structure and presence of fields.\n\t\tfeatures = editor.widgets.registered.image.features,\n\n\t\t// Functions inherited from image2 plugin.\n\t\tgetNatural = helpers.getNatural,\n\n\t\t// Global variables referring to the dialog's context.\n\t\tdoc, widget, image,\n\n\t\t// Global variable referring to this dialog's image pre-loader.\n\t\tpreLoader,\n\n\t\t// Global variables holding the original size of the image.\n\t\tdomWidth, domHeight,\n\n\t\t// Global variables related to image pre-loading.\n\t\tpreLoadedWidth, preLoadedHeight, srcChanged,\n\n\t\t// Global variables related to size locking.\n\t\tlockRatio, userDefinedLock,\n\n\t\t// Global variables referring to dialog fields and elements.\n\t\tlockButton, resetButton, widthField, heightField,\n\n\t\tnatural;\n\n\t// Validates dimension. Allowed values are:\n\t// \"123px\", \"123\", \"\" (empty string)\n\tfunction validateDimension() {\n\t\tvar match = this.getValue().match( regexGetSizeOrEmpty ),\n\t\t\tisValid = !!( match && parseInt( match[ 1 ], 10 ) !== 0 );\n\n\t\tif ( !isValid )\n\t\t\talert( commonLang[ 'invalid' + CKEDITOR.tools.capitalize( this.id ) ] ); // jshint ignore:line\n\n\t\treturn isValid;\n\t}\n\n\t// Creates a function that pre-loads images. The callback function passes\n\t// [image, width, height] or null if loading failed.\n\t//\n\t// @returns {Function}\n\tfunction createPreLoader() {\n\t\tvar image = doc.createElement( 'img' ),\n\t\t\tlisteners = [];\n\n\t\tfunction addListener( event, callback ) {\n\t\t\tlisteners.push( image.once( event, function( evt ) {\n\t\t\t\tremoveListeners();\n\t\t\t\tcallback( evt );\n\t\t\t} ) );\n\t\t}\n\n\t\tfunction removeListeners() {\n\t\t\tvar l;\n\n\t\t\twhile ( ( l = listeners.pop() ) )\n\t\t\t\tl.removeListener();\n\t\t}\n\n\t\t// @param {String} src.\n\t\t// @param {Function} callback.\n\t\treturn function( src, callback, scope ) {\n\t\t\taddListener( 'load', function() {\n\t\t\t\t// Don't use image.$.(width|height) since it's buggy in IE9-10 (#11159)\n\t\t\t\tvar dimensions = getNatural( image );\n\n\t\t\t\tcallback.call( scope, image, dimensions.width, dimensions.height );\n\t\t\t} );\n\n\t\t\taddListener( 'error', function() {\n\t\t\t\tcallback( null );\n\t\t\t} );\n\n\t\t\taddListener( 'abort', function() {\n\t\t\t\tcallback( null );\n\t\t\t} );\n\n\t\t\timage.setAttribute( 'src',\n\t\t\t\t( config.baseHref || '' ) + src + '?' + Math.random().toString( 16 ).substring( 2 ) );\n\t\t};\n\t}\n\n\t// This function updates width and height fields once the\n\t// \"src\" field is altered. Along with dimensions, also the\n\t// dimensions lock is adjusted.\n\tfunction onChangeSrc() {\n\t\tvar value = this.getValue();\n\n\t\ttoggleDimensions( false );\n\n\t\t// Remember that src is different than default.\n\t\tif ( value !== widget.data.src ) {\n\t\t\t// Update dimensions of the image once it's preloaded.\n\t\t\tpreLoader( value, function( image, width, height ) {\n\t\t\t\t// Re-enable width and height fields.\n\t\t\t\ttoggleDimensions( true );\n\n\t\t\t\t// There was problem loading the image. Unlock ratio.\n\t\t\t\tif ( !image )\n\t\t\t\t\treturn toggleLockRatio( false );\n\n\t\t\t\t// Fill width field with the width of the new image.\n\t\t\t\twidthField.setValue( editor.config.image2_prefillDimensions === false ? 0 : width );\n\n\t\t\t\t// Fill height field with the height of the new image.\n\t\t\t\theightField.setValue( editor.config.image2_prefillDimensions === false ? 0 : height );\n\n\t\t\t\t// Cache the new width.\n\t\t\t\tpreLoadedWidth = width;\n\n\t\t\t\t// Cache the new height.\n\t\t\t\tpreLoadedHeight = height;\n\n\t\t\t\t// Check for new lock value if image exist.\n\t\t\t\ttoggleLockRatio( helpers.checkHasNaturalRatio( image ) );\n\t\t\t} );\n\n\t\t\tsrcChanged = true;\n\t\t}\n\n\t\t// Value is the same as in widget data but is was\n\t\t// modified back in time. Roll back dimensions when restoring\n\t\t// default src.\n\t\telse if ( srcChanged ) {\n\t\t\t// Re-enable width and height fields.\n\t\t\ttoggleDimensions( true );\n\n\t\t\t// Restore width field with cached width.\n\t\t\twidthField.setValue( domWidth );\n\n\t\t\t// Restore height field with cached height.\n\t\t\theightField.setValue( domHeight );\n\n\t\t\t// Src equals default one back again.\n\t\t\tsrcChanged = false;\n\t\t}\n\n\t\t// Value is the same as in widget data and it hadn't\n\t\t// been modified.\n\t\telse {\n\t\t\t// Re-enable width and height fields.\n\t\t\ttoggleDimensions( true );\n\t\t}\n\t}\n\n\tfunction onChangeDimension() {\n\t\t// If ratio is un-locked, then we don't care what's next.\n\t\tif ( !lockRatio )\n\t\t\treturn;\n\n\t\tvar value = this.getValue();\n\n\t\t// No reason to auto-scale or unlock if the field is empty.\n\t\tif ( !value )\n\t\t\treturn;\n\n\t\t// If the value of the field is invalid (e.g. with %), unlock ratio.\n\t\tif ( !value.match( regexGetSizeOrEmpty ) )\n\t\t\ttoggleLockRatio( false );\n\n\t\t// No automatic re-scale when dimension is '0'.\n\t\tif ( value === '0' )\n\t\t\treturn;\n\n\t\tvar isWidth = this.id == 'width',\n\t\t\t// If dialog opened for the new image, domWidth and domHeight\n\t\t\t// will be empty. Use dimensions from pre-loader in such case instead.\n\t\t\twidth = domWidth || preLoadedWidth,\n\t\t\theight = domHeight || preLoadedHeight;\n\n\t\t// If changing width, then auto-scale height.\n\t\tif ( isWidth )\n\t\t\tvalue = Math.round( height * ( value / width ) );\n\n\t\t// If changing height, then auto-scale width.\n\t\telse\n\t\t\tvalue = Math.round( width * ( value / height ) );\n\n\t\t// If the value is a number, apply it to the other field.\n\t\tif ( !isNaN( value ) )\n\t\t\t( isWidth ? heightField : widthField ).setValue( value );\n\t}\n\n\t// Set-up function for lock and reset buttons:\n\t// \t* Adds lock and reset buttons to focusables. Check if button exist first\n\t// \t  because it may be disabled e.g. due to ACF restrictions.\n\t// \t* Register mouseover and mouseout event listeners for UI manipulations.\n\t// \t* Register click event listeners for buttons.\n\tfunction onLoadLockReset() {\n\t\tvar dialog = this.getDialog();\n\n\t\tfunction setupMouseClasses( el ) {\n\t\t\tel.on( 'mouseover', function() {\n\t\t\t\tthis.addClass( 'cke_btn_over' );\n\t\t\t}, el );\n\n\t\t\tel.on( 'mouseout', function() {\n\t\t\t\tthis.removeClass( 'cke_btn_over' );\n\t\t\t}, el );\n\t\t}\n\n\t\t// Create references to lock and reset buttons for this dialog instance.\n\t\tlockButton = doc.getById( lockButtonId );\n\t\tresetButton = doc.getById( resetButtonId );\n\n\t\t// Activate (Un)LockRatio button\n\t\tif ( lockButton ) {\n\t\t\t// Consider that there's an additional focusable field\n\t\t\t// in the dialog when the \"browse\" button is visible.\n\t\t\tdialog.addFocusable( lockButton, 4 + hasFileBrowser );\n\n\t\t\tlockButton.on( 'click', function( evt ) {\n\t\t\t\ttoggleLockRatio();\n\t\t\t\tevt.data && evt.data.preventDefault();\n\t\t\t}, this.getDialog() );\n\n\t\t\tsetupMouseClasses( lockButton );\n\t\t}\n\n\t\t// Activate the reset size button.\n\t\tif ( resetButton ) {\n\t\t\t// Consider that there's an additional focusable field\n\t\t\t// in the dialog when the \"browse\" button is visible.\n\t\t\tdialog.addFocusable( resetButton, 5 + hasFileBrowser );\n\n\t\t\t// Fills width and height fields with the original dimensions of the\n\t\t\t// image (stored in widget#data since widget#init).\n\t\t\tresetButton.on( 'click', function( evt ) {\n\t\t\t\t// If there's a new image loaded, reset button should revert\n\t\t\t\t// cached dimensions of pre-loaded DOM element.\n\t\t\t\tif ( srcChanged ) {\n\t\t\t\t\twidthField.setValue( preLoadedWidth );\n\t\t\t\t\theightField.setValue( preLoadedHeight );\n\t\t\t\t}\n\n\t\t\t\t// If the old image remains, reset button should revert\n\t\t\t\t// dimensions as loaded when the dialog was first shown.\n\t\t\t\telse {\n\t\t\t\t\twidthField.setValue( domWidth );\n\t\t\t\t\theightField.setValue( domHeight );\n\t\t\t\t}\n\n\t\t\t\tevt.data && evt.data.preventDefault();\n\t\t\t}, this );\n\n\t\t\tsetupMouseClasses( resetButton );\n\t\t}\n\t}\n\n\tfunction toggleLockRatio( enable ) {\n\t\t// No locking if there's no radio (i.e. due to ACF).\n\t\tif ( !lockButton )\n\t\t\treturn;\n\n\t\tif ( typeof enable == 'boolean' ) {\n\t\t\t// If user explicitly wants to decide whether\n\t\t\t// to lock or not, don't do anything.\n\t\t\tif ( userDefinedLock )\n\t\t\t\treturn;\n\n\t\t\tlockRatio = enable;\n\t\t}\n\n\t\t// Undefined. User changed lock value.\n\t\telse {\n\t\t\tvar width = widthField.getValue(),\n\t\t\t\theight;\n\n\t\t\tuserDefinedLock = true;\n\t\t\tlockRatio = !lockRatio;\n\n\t\t\t// Automatically adjust height to width to match\n\t\t\t// the original ratio (based on dom- dimensions).\n\t\t\tif ( lockRatio && width ) {\n\t\t\t\theight = domHeight / domWidth * width;\n\n\t\t\t\tif ( !isNaN( height ) )\n\t\t\t\t\theightField.setValue( Math.round( height ) );\n\t\t\t}\n\t\t}\n\n\t\tlockButton[ lockRatio ? 'removeClass' : 'addClass' ]( 'cke_btn_unlocked' );\n\t\tlockButton.setAttribute( 'aria-checked', lockRatio );\n\n\t\t// Ratio button hc presentation - WHITE SQUARE / BLACK SQUARE\n\t\tif ( CKEDITOR.env.hc ) {\n\t\t\tvar icon = lockButton.getChild( 0 );\n\t\t\ticon.setHtml( lockRatio ? CKEDITOR.env.ie ? '\\u25A0' : '\\u25A3' : CKEDITOR.env.ie ? '\\u25A1' : '\\u25A2' );\n\t\t}\n\t}\n\n\tfunction toggleDimensions( enable ) {\n\t\tvar method = enable ? 'enable' : 'disable';\n\n\t\twidthField[ method ]();\n\t\theightField[ method ]();\n\t}\n\n\tvar hasFileBrowser = !!( config.filebrowserImageBrowseUrl || config.filebrowserBrowseUrl ),\n\t\tsrcBoxChildren = [\n\t\t\t{\n\t\t\t\tid: 'src',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: commonLang.url,\n\t\t\t\tonKeyup: onChangeSrc,\n\t\t\t\tonChange: onChangeSrc,\n\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\tthis.setValue( widget.data.src );\n\t\t\t\t},\n\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\twidget.setData( 'src', this.getValue() );\n\t\t\t\t},\n\t\t\t\tvalidate: CKEDITOR.dialog.validate.notEmpty( lang.urlMissing )\n\t\t\t}\n\t\t];\n\n\t// Render the \"Browse\" button on demand to avoid an \"empty\" (hidden child)\n\t// space in dialog layout that distorts the UI.\n\tif ( hasFileBrowser ) {\n\t\tsrcBoxChildren.push( {\n\t\t\ttype: 'button',\n\t\t\tid: 'browse',\n\t\t\t// v-align with the 'txtUrl' field.\n\t\t\t// TODO: We need something better than a fixed size here.\n\t\t\tstyle: 'display:inline-block;margin-top:14px;',\n\t\t\talign: 'center',\n\t\t\tlabel: editor.lang.common.browseServer,\n\t\t\thidden: true,\n\t\t\tfilebrowser: 'info:src'\n\t\t} );\n\t}\n\n\treturn {\n\t\ttitle: lang.title,\n\t\tminWidth: 250,\n\t\tminHeight: 100,\n\t\tonLoad: function() {\n\t\t\t// Create a \"global\" reference to the document for this dialog instance.\n\t\t\tdoc = this._.element.getDocument();\n\n\t\t\t// Create a pre-loader used for determining dimensions of new images.\n\t\t\tpreLoader = createPreLoader();\n\t\t},\n\t\tonShow: function() {\n\t\t\t// Create a \"global\" reference to edited widget.\n\t\t\twidget = this.widget;\n\n\t\t\t// Create a \"global\" reference to widget's image.\n\t\t\timage = widget.parts.image;\n\n\t\t\t// Reset global variables.\n\t\t\tsrcChanged = userDefinedLock = lockRatio = false;\n\n\t\t\t// Natural dimensions of the image.\n\t\t\tnatural = getNatural( image );\n\n\t\t\t// Get the natural width of the image.\n\t\t\tpreLoadedWidth = domWidth = natural.width;\n\n\t\t\t// Get the natural height of the image.\n\t\t\tpreLoadedHeight = domHeight = natural.height;\n\t\t},\n\t\tcontents: [\n\t\t\t{\n\t\t\t\tid: 'info',\n\t\t\t\tlabel: lang.infoTab,\n\t\t\t\telements: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\t\twidths: [ '100%' ],\n\t\t\t\t\t\t\t\tchildren: srcBoxChildren\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'alt',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: lang.alt,\n\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\tthis.setValue( widget.data.alt );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\twidget.setData( 'alt', this.getValue() );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '25%', '25%', '50%' ],\n\t\t\t\t\t\trequiredContent: features.dimension.requiredContent,\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\twidth: '45px',\n\t\t\t\t\t\t\t\tid: 'width',\n\t\t\t\t\t\t\t\tlabel: commonLang.width,\n\t\t\t\t\t\t\t\tvalidate: validateDimension,\n\t\t\t\t\t\t\t\tonKeyUp: onChangeDimension,\n\t\t\t\t\t\t\t\tonLoad: function() {\n\t\t\t\t\t\t\t\t\twidthField = this;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\t\t\tthis.setValue( widget.data.width );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\t\t\twidget.setData( 'width', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tid: 'height',\n\t\t\t\t\t\t\t\twidth: '45px',\n\t\t\t\t\t\t\t\tlabel: commonLang.height,\n\t\t\t\t\t\t\t\tvalidate: validateDimension,\n\t\t\t\t\t\t\t\tonKeyUp: onChangeDimension,\n\t\t\t\t\t\t\t\tonLoad: function() {\n\t\t\t\t\t\t\t\t\theightField = this;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\t\t\tthis.setValue( widget.data.height );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\t\t\twidget.setData( 'height', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'lock',\n\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\tstyle: lockResetStyle,\n\t\t\t\t\t\t\t\tonLoad: onLoadLockReset,\n\t\t\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\t\t\ttoggleLockRatio( widget.data.lock );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\t\t\twidget.setData( 'lock', lockRatio );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thtml: lockResetHtml\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\tid: 'alignment',\n\t\t\t\t\t\trequiredContent: features.align.requiredContent,\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'align',\n\t\t\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t[ commonLang.alignNone, 'none' ],\n\t\t\t\t\t\t\t\t\t[ commonLang.alignLeft, 'left' ],\n\t\t\t\t\t\t\t\t\t[ commonLang.alignCenter, 'center' ],\n\t\t\t\t\t\t\t\t\t[ commonLang.alignRight, 'right' ]\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tlabel: commonLang.align,\n\t\t\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\t\t\tthis.setValue( widget.data.align );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\t\t\twidget.setData( 'align', this.getValue() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'hasCaption',\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\tlabel: lang.captioned,\n\t\t\t\t\t\trequiredContent: features.caption.requiredContent,\n\t\t\t\t\t\tsetup: function( widget ) {\n\t\t\t\t\t\t\tthis.setValue( widget.data.hasCaption );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( widget ) {\n\t\t\t\t\t\t\twidget.setData( 'hasCaption', this.getValue() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'Upload',\n\t\t\t\thidden: true,\n\t\t\t\tfilebrowser: 'uploadButton',\n\t\t\t\tlabel: lang.uploadTab,\n\t\t\t\telements: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\tid: 'upload',\n\t\t\t\t\t\tlabel: lang.btnUpload,\n\t\t\t\t\t\tstyle: 'height:40px'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'fileButton',\n\t\t\t\t\t\tid: 'uploadButton',\n\t\t\t\t\t\tfilebrowser: 'info:src',\n\t\t\t\t\t\tlabel: lang.btnUpload,\n\t\t\t\t\t\t'for': [ 'Upload', 'upload' ]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/image2/dialogs/image2.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tfunction getListElement( editor, listTag ) {\n\t\tvar range;\n\t\ttry {\n\t\t\trange = editor.getSelection().getRanges()[ 0 ];\n\t\t} catch ( e ) {\n\t\t\treturn null;\n\t\t}\n\n\t\trange.shrink( CKEDITOR.SHRINK_TEXT );\n\t\treturn editor.elementPath( range.getCommonAncestor() ).contains( listTag, 1 );\n\t}\n\n\tvar listItem = function( node ) {\n\t\t\treturn node.type == CKEDITOR.NODE_ELEMENT && node.is( 'li' );\n\t\t};\n\n\tvar mapListStyle = {\n\t\t'a': 'lower-alpha',\n\t\t'A': 'upper-alpha',\n\t\t'i': 'lower-roman',\n\t\t'I': 'upper-roman',\n\t\t'1': 'decimal',\n\t\t'disc': 'disc',\n\t\t'circle': 'circle',\n\t\t'square': 'square'\n\t};\n\n\tfunction listStyle( editor, startupPage ) {\n\t\tvar lang = editor.lang.liststyle;\n\t\tif ( startupPage == 'bulletedListStyle' ) {\n\t\t\treturn {\n\t\t\t\ttitle: lang.bulletedTitle,\n\t\t\t\tminWidth: 300,\n\t\t\t\tminHeight: 50,\n\t\t\t\tcontents: [ {\n\t\t\t\t\tid: 'info',\n\t\t\t\t\taccessKey: 'I',\n\t\t\t\t\telements: [ {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tlabel: lang.type,\n\t\t\t\t\t\tid: 'type',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tstyle: 'width:150px',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t[ lang.notset, '' ],\n\t\t\t\t\t\t\t[ lang.circle, 'circle' ],\n\t\t\t\t\t\t\t[ lang.disc, 'disc' ],\n\t\t\t\t\t\t\t[ lang.square, 'square' ]\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\t\tvar value = element.getStyle( 'list-style-type' ) || mapListStyle[ element.getAttribute( 'type' ) ] || element.getAttribute( 'type' ) || '';\n\n\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\t\tif ( value )\n\t\t\t\t\t\t\t\telement.setStyle( 'list-style-type', value );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\telement.removeStyle( 'list-style-type' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t} ],\n\t\t\t\tonShow: function() {\n\t\t\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\t\t\telement = getListElement( editor, 'ul' );\n\n\t\t\t\t\telement && this.setupContent( element );\n\t\t\t\t},\n\t\t\t\tonOk: function() {\n\t\t\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\t\t\telement = getListElement( editor, 'ul' );\n\n\t\t\t\t\telement && this.commitContent( element );\n\t\t\t\t}\n\t\t\t};\n\t\t} else if ( startupPage == 'numberedListStyle' ) {\n\n\t\t\tvar listStyleOptions = [\n\t\t\t\t[ lang.notset, '' ],\n\t\t\t\t[ lang.lowerRoman, 'lower-roman' ],\n\t\t\t\t[ lang.upperRoman, 'upper-roman' ],\n\t\t\t\t[ lang.lowerAlpha, 'lower-alpha' ],\n\t\t\t\t[ lang.upperAlpha, 'upper-alpha' ],\n\t\t\t\t[ lang.decimal, 'decimal' ]\n\t\t\t];\n\n\t\t\tif ( !CKEDITOR.env.ie || CKEDITOR.env.version > 7 ) {\n\t\t\t\tlistStyleOptions.concat( [\n\t\t\t\t\t[ lang.armenian, 'armenian' ],\n\t\t\t\t\t[ lang.decimalLeadingZero, 'decimal-leading-zero' ],\n\t\t\t\t\t[ lang.georgian, 'georgian' ],\n\t\t\t\t\t[ lang.lowerGreek, 'lower-greek' ]\n\t\t\t\t] );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: lang.numberedTitle,\n\t\t\t\tminWidth: 300,\n\t\t\t\tminHeight: 50,\n\t\t\t\tcontents: [ {\n\t\t\t\t\tid: 'info',\n\t\t\t\t\taccessKey: 'I',\n\t\t\t\t\telements: [ {\n\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\twidths: [ '25%', '75%' ],\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\tlabel: lang.start,\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.integer( lang.validateStartNumber ),\n\t\t\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\t\t\t// List item start number dominates.\n\t\t\t\t\t\t\t\tvar value = element.getFirst( listItem ).getAttribute( 'value' ) || element.getAttribute( 'start' ) || 1;\n\t\t\t\t\t\t\t\tvalue && this.setValue( value );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\t\tvar firstItem = element.getFirst( listItem );\n\t\t\t\t\t\t\t\tvar oldStart = firstItem.getAttribute( 'value' ) || element.getAttribute( 'start' ) || 1;\n\n\t\t\t\t\t\t\t\t// Force start number on list root.\n\t\t\t\t\t\t\t\telement.getFirst( listItem ).removeAttribute( 'value' );\n\t\t\t\t\t\t\t\tvar val = parseInt( this.getValue(), 10 );\n\t\t\t\t\t\t\t\tif ( isNaN( val ) )\n\t\t\t\t\t\t\t\t\telement.removeAttribute( 'start' );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\telement.setAttribute( 'start', val );\n\n\t\t\t\t\t\t\t\t// Update consequent list item numbering.\n\t\t\t\t\t\t\t\tvar nextItem = firstItem,\n\t\t\t\t\t\t\t\t\tconseq = oldStart,\n\t\t\t\t\t\t\t\t\tstartNumber = isNaN( val ) ? 1 : val;\n\t\t\t\t\t\t\t\twhile ( ( nextItem = nextItem.getNext( listItem ) ) && conseq++ ) {\n\t\t\t\t\t\t\t\t\tif ( nextItem.getAttribute( 'value' ) == conseq )\n\t\t\t\t\t\t\t\t\t\tnextItem.setAttribute( 'value', startNumber + conseq - oldStart );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tlabel: lang.type,\n\t\t\t\t\t\t\tid: 'type',\n\t\t\t\t\t\t\tstyle: 'width: 100%;',\n\t\t\t\t\t\t\titems: listStyleOptions,\n\t\t\t\t\t\t\tsetup: function( element ) {\n\t\t\t\t\t\t\t\tvar value = element.getStyle( 'list-style-type' ) || mapListStyle[ element.getAttribute( 'type' ) ] || element.getAttribute( 'type' ) || '';\n\n\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( element ) {\n\t\t\t\t\t\t\t\tvar value = this.getValue();\n\t\t\t\t\t\t\t\tif ( value )\n\t\t\t\t\t\t\t\t\telement.setStyle( 'list-style-type', value );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\telement.removeStyle( 'list-style-type' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t} ],\n\t\t\t\tonShow: function() {\n\t\t\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\t\t\telement = getListElement( editor, 'ol' );\n\n\t\t\t\t\telement && this.setupContent( element );\n\t\t\t\t},\n\t\t\t\tonOk: function() {\n\t\t\t\t\tvar editor = this.getParentEditor(),\n\t\t\t\t\t\telement = getListElement( editor, 'ol' );\n\n\t\t\t\t\telement && this.commitContent( element );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tCKEDITOR.dialog.add( 'numberedListStyle', function( editor ) {\n\t\treturn listStyle( editor, 'numberedListStyle' );\n\t} );\n\n\tCKEDITOR.dialog.add( 'bulletedListStyle', function( editor ) {\n\t\treturn listStyle( editor, 'bulletedListStyle' );\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/liststyle/dialogs/liststyle.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'smiley', function( editor ) {\n\tvar config = editor.config,\n\t\tlang = editor.lang.smiley,\n\t\timages = config.smiley_images,\n\t\tcolumns = config.smiley_columns || 8,\n\t\ti;\n\n\t// Simulate \"this\" of a dialog for non-dialog events.\n\t// @type {CKEDITOR.dialog}\n\tvar dialog;\n\tvar onClick = function( evt ) {\n\t\t\tvar target = evt.data.getTarget(),\n\t\t\t\ttargetName = target.getName();\n\n\t\t\tif ( targetName == 'a' )\n\t\t\t\ttarget = target.getChild( 0 );\n\t\t\telse if ( targetName != 'img' )\n\t\t\t\treturn;\n\n\t\t\tvar src = target.getAttribute( 'cke_src' ),\n\t\t\t\ttitle = target.getAttribute( 'title' );\n\n\t\t\tvar img = editor.document.createElement( 'img', {\n\t\t\t\tattributes: {\n\t\t\t\t\tsrc: src,\n\t\t\t\t\t'data-cke-saved-src': src,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\talt: title,\n\t\t\t\t\twidth: target.$.width,\n\t\t\t\t\theight: target.$.height\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\teditor.insertElement( img );\n\n\t\t\tdialog.hide();\n\t\t\tevt.data.preventDefault();\n\t\t};\n\n\tvar onKeydown = CKEDITOR.tools.addFunction( function( ev, element ) {\n\t\tev = new CKEDITOR.dom.event( ev );\n\t\telement = new CKEDITOR.dom.element( element );\n\t\tvar relative, nodeToMove;\n\n\t\tvar keystroke = ev.getKeystroke(),\n\t\t\trtl = editor.lang.dir == 'rtl';\n\t\tswitch ( keystroke ) {\n\t\t\t// UP-ARROW\n\t\t\tcase 38:\n\t\t\t\t// relative is TR\n\t\t\t\tif ( ( relative = element.getParent().getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ element.getParent().getIndex(), 0 ] );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t}\n\t\t\t\tev.preventDefault();\n\t\t\t\tbreak;\n\t\t\t\t// DOWN-ARROW\n\t\t\tcase 40:\n\t\t\t\t// relative is TR\n\t\t\t\tif ( ( relative = element.getParent().getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ element.getParent().getIndex(), 0 ] );\n\t\t\t\t\tif ( nodeToMove )\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t}\n\t\t\t\tev.preventDefault();\n\t\t\t\tbreak;\n\t\t\t\t// ENTER\n\t\t\t\t// SPACE\n\t\t\tcase 32:\n\t\t\t\tonClick( { data: ev } );\n\t\t\t\tev.preventDefault();\n\t\t\t\tbreak;\n\n\t\t\t\t// RIGHT-ARROW\n\t\t\tcase rtl ? 37 : 39:\n\t\t\t\t// relative is TD\n\t\t\t\tif ( ( relative = element.getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( 0 );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t}\n\t\t\t\t// relative is TR\n\t\t\t\telse if ( ( relative = element.getParent().getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ 0, 0 ] );\n\t\t\t\t\tif ( nodeToMove )\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\t// LEFT-ARROW\n\t\t\tcase rtl ? 39 : 37:\n\t\t\t\t// relative is TD\n\t\t\t\tif ( ( relative = element.getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( 0 );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t}\n\t\t\t\t// relative is TR\n\t\t\t\telse if ( ( relative = element.getParent().getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getLast().getChild( 0 );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Do not stop not handled events.\n\t\t\t\treturn;\n\t\t}\n\t} );\n\n\t// Build the HTML for the smiley images table.\n\tvar labelId = CKEDITOR.tools.getNextId() + '_smiley_emtions_label';\n\tvar html = [\n\t\t'<div>' +\n\t\t'<span id=\"' + labelId + '\" class=\"cke_voice_label\">' + lang.options + '</span>',\n\t\t'<table role=\"listbox\" aria-labelledby=\"' + labelId + '\" style=\"width:100%;height:100%;border-collapse:separate;\" cellspacing=\"2\" cellpadding=\"2\"',\n\t\tCKEDITOR.env.ie && CKEDITOR.env.quirks ? ' style=\"position:absolute;\"' : '',\n\t\t'><tbody>'\n\t];\n\n\tvar size = images.length;\n\tvar icons = require('../../../.icons');\n\n\tfor ( i = 0; i < size; i++ ) {\n\t\tif ( i % columns === 0 )\n\t\t\thtml.push( '<tr role=\"presentation\">' );\n\t\tvar smileyLabelId = 'cke_smile_label_' + i + '_' + CKEDITOR.tools.getNextNumber();\n\t\thtml.push(\n\t\t\t'<td class=\"cke_dark_background cke_centered\" style=\"vertical-align: middle;\" role=\"presentation\">' +\n\t\t\t'<a href=\"javascript:void(0)\" role=\"option\"', ' aria-posinset=\"' + ( i + 1 ) + '\"', ' aria-setsize=\"' + size + '\"', ' aria-labelledby=\"' + smileyLabelId + '\"',\n\t\t\t' class=\"cke_smile cke_hand\" tabindex=\"-1\" onkeydown=\"CKEDITOR.tools.callFunction( ', onKeydown, ', event, this );\">',\n\t\t\t'<img class=\"cke_hand\" title=\"', config.smiley_descriptions[ i ], '\"' +\n\t\t\t' cke_src=\"', icons[(\"./plugins/smiley/images/\"+images[i]).replace(/\\./g,'a').replace(/\\//g,'b').replace(/\\\\/g,'c')], '\" alt=\"', config.smiley_descriptions[ i ], '\"',\n\t\t\t' src=\"',icons[(\"./plugins/smiley/images/\"+images[i]).replace(/\\./g,'a').replace(/\\//g,'b').replace(/\\\\/g,'c')], '\"',\n\t\t\t// IE BUG: Below is a workaround to an IE image loading bug to ensure the image sizes are correct.\n\t\t\t( CKEDITOR.env.ie ? ' onload=\"this.setAttribute(\\'width\\', 2); this.removeAttribute(\\'width\\');\" ' : '' ), '>' +\n\t\t\t'<span id=\"' + smileyLabelId + '\" class=\"cke_voice_label\">' + config.smiley_descriptions[ i ] + '</span>' +\n\t\t\t'</a>', '</td>'\n\t\t);\n\n\t\tif ( i % columns == columns - 1 )\n\t\t\thtml.push( '</tr>' );\n\t}\n\n\tif ( i < columns - 1 ) {\n\t\tfor ( ; i < columns - 1; i++ )\n\t\t\thtml.push( '<td></td>' );\n\t\thtml.push( '</tr>' );\n\t}\n\n\thtml.push( '</tbody></table></div>' );\n\n\tvar smileySelector = {\n\t\ttype: 'html',\n\t\tid: 'smileySelector',\n\t\thtml: html.join( '' ),\n\t\tonLoad: function( event ) {\n\t\t\tdialog = event.sender;\n\t\t},\n\t\tfocus: function() {\n\t\t\tvar self = this;\n\t\t\t// IE need a while to move the focus (#6539).\n\t\t\tsetTimeout( function() {\n\t\t\t\tvar firstSmile = self.getElement().getElementsByTag( 'a' ).getItem( 0 );\n\t\t\t\tfirstSmile.focus();\n\t\t\t}, 0 );\n\t\t},\n\t\tonClick: onClick,\n\t\tstyle: 'width: 100%; border-collapse: separate;'\n\t};\n\n\treturn {\n\t\ttitle: editor.lang.smiley.title,\n\t\tminWidth: 270,\n\t\tminHeight: 120,\n\t\tcontents: [ {\n\t\t\tid: 'tab1',\n\t\t\tlabel: '',\n\t\t\ttitle: '',\n\t\t\texpand: true,\n\t\t\tpadding: 0,\n\t\t\telements: [\n\t\t\t\tsmileySelector\n\t\t\t]\n\t\t} ],\n\t\tbuttons: [ CKEDITOR.dialog.cancelButton ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/smiley/dialogs/smiley.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.dialog.add( 'specialchar', function( editor ) {\n\t// Simulate \"this\" of a dialog for non-dialog events.\n\t// @type {CKEDITOR.dialog}\n\tvar dialog,\n\t\tlang = editor.lang.specialchar;\n\n\tvar onChoice = function( evt ) {\n\t\t\tvar target, value;\n\t\t\tif ( evt.data )\n\t\t\t\ttarget = evt.data.getTarget();\n\t\t\telse\n\t\t\t\ttarget = new CKEDITOR.dom.element( evt );\n\n\t\t\tif ( target.getName() == 'a' && ( value = target.getChild( 0 ).getHtml() ) ) {\n\t\t\t\ttarget.removeClass( 'cke_light_background' );\n\t\t\t\tdialog.hide();\n\n\t\t\t\t// We must use \"insertText\" here to keep text styled.\n\t\t\t\tvar span = editor.document.createElement( 'span' );\n\t\t\t\tspan.setHtml( value );\n\t\t\t\teditor.insertText( span.getText() );\n\t\t\t}\n\t\t};\n\n\tvar onClick = CKEDITOR.tools.addFunction( onChoice );\n\n\tvar focusedNode;\n\n\tvar onFocus = function( evt, target ) {\n\t\t\tvar value;\n\t\t\ttarget = target || evt.data.getTarget();\n\n\t\t\tif ( target.getName() == 'span' )\n\t\t\t\ttarget = target.getParent();\n\n\t\t\tif ( target.getName() == 'a' && ( value = target.getChild( 0 ).getHtml() ) ) {\n\t\t\t\t// Trigger blur manually if there is focused node.\n\t\t\t\tif ( focusedNode )\n\t\t\t\t\tonBlur( null, focusedNode );\n\n\t\t\t\tvar htmlPreview = dialog.getContentElement( 'info', 'htmlPreview' ).getElement();\n\n\t\t\t\tdialog.getContentElement( 'info', 'charPreview' ).getElement().setHtml( value );\n\t\t\t\thtmlPreview.setHtml( CKEDITOR.tools.htmlEncode( value ) );\n\t\t\t\ttarget.getParent().addClass( 'cke_light_background' );\n\n\t\t\t\t// Memorize focused node.\n\t\t\t\tfocusedNode = target;\n\t\t\t}\n\t\t};\n\n\tvar onBlur = function( evt, target ) {\n\t\t\ttarget = target || evt.data.getTarget();\n\n\t\t\tif ( target.getName() == 'span' )\n\t\t\t\ttarget = target.getParent();\n\n\t\t\tif ( target.getName() == 'a' ) {\n\t\t\t\tdialog.getContentElement( 'info', 'charPreview' ).getElement().setHtml( '&nbsp;' );\n\t\t\t\tdialog.getContentElement( 'info', 'htmlPreview' ).getElement().setHtml( '&nbsp;' );\n\t\t\t\ttarget.getParent().removeClass( 'cke_light_background' );\n\n\t\t\t\tfocusedNode = undefined;\n\t\t\t}\n\t\t};\n\n\tvar onKeydown = CKEDITOR.tools.addFunction( function( ev ) {\n\t\tev = new CKEDITOR.dom.event( ev );\n\n\t\t// Get an Anchor element.\n\t\tvar element = ev.getTarget();\n\t\tvar relative, nodeToMove;\n\t\tvar keystroke = ev.getKeystroke(),\n\t\t\trtl = editor.lang.dir == 'rtl';\n\n\t\tswitch ( keystroke ) {\n\t\t\t// UP-ARROW\n\t\t\tcase 38:\n\t\t\t\t// relative is TR\n\t\t\t\tif ( ( relative = element.getParent().getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ element.getParent().getIndex(), 0 ] );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\tonFocus( null, nodeToMove );\n\t\t\t\t}\n\t\t\t\tev.preventDefault();\n\t\t\t\tbreak;\n\t\t\t\t// DOWN-ARROW\n\t\t\tcase 40:\n\t\t\t\t// relative is TR\n\t\t\t\tif ( ( relative = element.getParent().getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ element.getParent().getIndex(), 0 ] );\n\t\t\t\t\tif ( nodeToMove && nodeToMove.type == 1 ) {\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\t\tonFocus( null, nodeToMove );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tev.preventDefault();\n\t\t\t\tbreak;\n\t\t\t\t// SPACE\n\t\t\t\t// ENTER is already handled as onClick\n\t\t\tcase 32:\n\t\t\t\tonChoice( { data: ev } );\n\t\t\t\tev.preventDefault();\n\t\t\t\tbreak;\n\n\t\t\t\t// RIGHT-ARROW\n\t\t\tcase rtl ? 37 : 39:\n\t\t\t\t// relative is TD\n\t\t\t\tif ( ( relative = element.getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( 0 );\n\t\t\t\t\tif ( nodeToMove.type == 1 ) {\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\t\tonFocus( null, nodeToMove );\n\t\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// relative is TR\n\t\t\t\telse if ( ( relative = element.getParent().getParent().getNext() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( [ 0, 0 ] );\n\t\t\t\t\tif ( nodeToMove && nodeToMove.type == 1 ) {\n\t\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\t\tonFocus( null, nodeToMove );\n\t\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\t// LEFT-ARROW\n\t\t\tcase rtl ? 39 : 37:\n\t\t\t\t// relative is TD\n\t\t\t\tif ( ( relative = element.getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getChild( 0 );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\tonFocus( null, nodeToMove );\n\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t}\n\t\t\t\t// relative is TR\n\t\t\t\telse if ( ( relative = element.getParent().getParent().getPrevious() ) ) {\n\t\t\t\t\tnodeToMove = relative.getLast().getChild( 0 );\n\t\t\t\t\tnodeToMove.focus();\n\t\t\t\t\tonBlur( null, element );\n\t\t\t\t\tonFocus( null, nodeToMove );\n\t\t\t\t\tev.preventDefault( true );\n\t\t\t\t} else {\n\t\t\t\t\tonBlur( null, element );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Do not stop not handled events.\n\t\t\t\treturn;\n\t\t}\n\t} );\n\n\treturn {\n\t\ttitle: lang.title,\n\t\tminWidth: 430,\n\t\tminHeight: 280,\n\t\tbuttons: [ CKEDITOR.dialog.cancelButton ],\n\t\tcharColumns: 17,\n\t\tonLoad: function() {\n\t\t\tvar columns = this.definition.charColumns,\n\t\t\t\tchars = editor.config.specialChars;\n\n\t\t\tvar charsTableLabel = CKEDITOR.tools.getNextId() + '_specialchar_table_label';\n\t\t\tvar html = [ '<table role=\"listbox\" aria-labelledby=\"' + charsTableLabel + '\"' +\n\t\t\t\t' style=\"width: 320px; height: 100%; border-collapse: separate;\"' +\n\t\t\t\t' align=\"center\" cellspacing=\"2\" cellpadding=\"2\" border=\"0\">' ];\n\n\t\t\tvar i = 0,\n\t\t\t\tsize = chars.length,\n\t\t\t\tcharacter, charDesc;\n\n\t\t\twhile ( i < size ) {\n\t\t\t\thtml.push( '<tr role=\"presentation\">' );\n\n\t\t\t\tfor ( var j = 0; j < columns; j++, i++ ) {\n\t\t\t\t\tif ( ( character = chars[ i ] ) ) {\n\t\t\t\t\t\tcharDesc = '';\n\n\t\t\t\t\t\tif ( character instanceof Array ) {\n\t\t\t\t\t\t\tcharDesc = character[ 1 ];\n\t\t\t\t\t\t\tcharacter = character[ 0 ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar _tmpName = character.replace( '&', '' ).replace( ';', '' ).replace( '#', '' );\n\n\t\t\t\t\t\t\t// Use character in case description unavailable.\n\t\t\t\t\t\t\tcharDesc = lang[ _tmpName ] || character;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar charLabelId = 'cke_specialchar_label_' + i + '_' + CKEDITOR.tools.getNextNumber();\n\n\t\t\t\t\t\thtml.push( '<td class=\"cke_dark_background\" style=\"cursor: default\" role=\"presentation\">' +\n\t\t\t\t\t\t\t'<a href=\"javascript: void(0);\" role=\"option\"' +\n\t\t\t\t\t\t\t' aria-posinset=\"' + ( i + 1 ) + '\"', ' aria-setsize=\"' + size + '\"', ' aria-labelledby=\"' + charLabelId + '\"', ' class=\"cke_specialchar\" title=\"', CKEDITOR.tools.htmlEncode( charDesc ), '\"' +\n\t\t\t\t\t\t\t' onkeydown=\"CKEDITOR.tools.callFunction( ' + onKeydown + ', event, this )\"' +\n\t\t\t\t\t\t\t' onclick=\"CKEDITOR.tools.callFunction(' + onClick + ', this); return false;\"' +\n\t\t\t\t\t\t\t' tabindex=\"-1\">' +\n\t\t\t\t\t\t\t'<span style=\"margin: 0 auto;cursor: inherit\">' +\n\t\t\t\t\t\t\tcharacter +\n\t\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t\t\t'<span class=\"cke_voice_label\" id=\"' + charLabelId + '\">' +\n\t\t\t\t\t\t\tcharDesc +\n\t\t\t\t\t\t\t'</span></a>' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml.push( '<td class=\"cke_dark_background\">&nbsp;' );\n\t\t\t\t\t}\n\n\t\t\t\t\thtml.push( '</td>' );\n\t\t\t\t}\n\t\t\t\thtml.push( '</tr>' );\n\t\t\t}\n\n\t\t\thtml.push( '</tbody></table>', '<span id=\"' + charsTableLabel + '\" class=\"cke_voice_label\">' + lang.options + '</span>' );\n\n\t\t\tthis.getContentElement( 'info', 'charContainer' ).getElement().setHtml( html.join( '' ) );\n\t\t},\n\t\tcontents: [ {\n\t\t\tid: 'info',\n\t\t\tlabel: editor.lang.common.generalTab,\n\t\t\ttitle: editor.lang.common.generalTab,\n\t\t\tpadding: 0,\n\t\t\talign: 'top',\n\t\t\telements: [ {\n\t\t\t\ttype: 'hbox',\n\t\t\t\talign: 'top',\n\t\t\t\twidths: [ '320px', '90px' ],\n\t\t\t\tchildren: [ {\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\tid: 'charContainer',\n\t\t\t\t\thtml: '',\n\t\t\t\t\tonMouseover: onFocus,\n\t\t\t\t\tonMouseout: onBlur,\n\t\t\t\t\tfocus: function() {\n\t\t\t\t\t\tvar firstChar = this.getElement().getElementsByTag( 'a' ).getItem( 0 );\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tfirstChar.focus();\n\t\t\t\t\t\t\tonFocus( null, firstChar );\n\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t},\n\t\t\t\t\tonShow: function() {\n\t\t\t\t\t\tvar firstChar = this.getElement().getChild( [ 0, 0, 0, 0, 0 ] );\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tfirstChar.focus();\n\t\t\t\t\t\t\tonFocus( null, firstChar );\n\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t},\n\t\t\t\t\tonLoad: function( event ) {\n\t\t\t\t\t\tdialog = event.sender;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\talign: 'top',\n\t\t\t\t\twidths: [ '100%' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\talign: 'top',\n\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\thtml: '<div></div>'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\tid: 'charPreview',\n\t\t\t\t\t\t\t\tclassName: 'cke_dark_background',\n\t\t\t\t\t\t\t\tstyle: 'border:1px solid #eeeeee;font-size:28px;height:40px;width:70px;padding-top:9px;font-family:\\'Microsoft Sans Serif\\',Arial,Helvetica,Verdana;text-align:center;',\n\t\t\t\t\t\t\t\thtml: '<div>&nbsp;</div>'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\t\tid: 'htmlPreview',\n\t\t\t\t\t\t\t\tclassName: 'cke_dark_background',\n\t\t\t\t\t\t\t\tstyle: 'border:1px solid #eeeeee;font-size:14px;height:20px;width:70px;padding-top:2px;font-family:\\'Microsoft Sans Serif\\',Arial,Helvetica,Verdana;text-align:center;',\n\t\t\t\t\t\t\t\thtml: '<div>&nbsp;</div>'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t} ]\n\t\t} ]\n\t};\n} );\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/specialchar/dialogs/specialchar.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tvar defaultToPixel = CKEDITOR.tools.cssLength;\n\n\tvar commitValue = function( data ) {\n\t\t\tvar id = this.id;\n\t\t\tif ( !data.info )\n\t\t\t\tdata.info = {};\n\t\t\tdata.info[ id ] = this.getValue();\n\t\t};\n\n\tfunction tableColumns( table ) {\n\t\tvar cols = 0,\n\t\t\tmaxCols = 0;\n\t\tfor ( var i = 0, row, rows = table.$.rows.length; i < rows; i++ ) {\n\t\t\trow = table.$.rows[ i ], cols = 0;\n\t\t\tfor ( var j = 0, cell, cells = row.cells.length; j < cells; j++ ) {\n\t\t\t\tcell = row.cells[ j ];\n\t\t\t\tcols += cell.colSpan;\n\t\t\t}\n\n\t\t\tcols > maxCols && ( maxCols = cols );\n\t\t}\n\n\t\treturn maxCols;\n\t}\n\n\n\t// Whole-positive-integer validator.\n\tfunction validatorNum( msg ) {\n\t\treturn function() {\n\t\t\tvar value = this.getValue(),\n\t\t\t\tpass = !!( CKEDITOR.dialog.validate.integer()( value ) && value > 0 );\n\n\t\t\tif ( !pass ) {\n\t\t\t\talert( msg ); // jshint ignore:line\n\t\t\t\tthis.select();\n\t\t\t}\n\n\t\t\treturn pass;\n\t\t};\n\t}\n\n\tfunction tableDialog( editor, command ) {\n\t\tvar makeElement = function( name ) {\n\t\t\t\treturn new CKEDITOR.dom.element( name, editor.document );\n\t\t\t};\n\n\t\tvar editable = editor.editable();\n\n\t\tvar dialogadvtab = editor.plugins.dialogadvtab;\n\n\t\treturn {\n\t\t\ttitle: editor.lang.table.title,\n\t\t\tminWidth: 310,\n\t\t\tminHeight: CKEDITOR.env.ie ? 310 : 280,\n\n\t\t\tonLoad: function() {\n\t\t\t\tvar dialog = this;\n\n\t\t\t\tvar styles = dialog.getContentElement( 'advanced', 'advStyles' );\n\n\t\t\t\tif ( styles ) {\n\t\t\t\t\tstyles.on( 'change', function() {\n\t\t\t\t\t\t// Synchronize width value.\n\t\t\t\t\t\tvar width = this.getStyle( 'width', '' ),\n\t\t\t\t\t\t\ttxtWidth = dialog.getContentElement( 'info', 'txtWidth' );\n\n\t\t\t\t\t\ttxtWidth && txtWidth.setValue( width, true );\n\n\t\t\t\t\t\t// Synchronize height value.\n\t\t\t\t\t\tvar height = this.getStyle( 'height', '' ),\n\t\t\t\t\t\t\ttxtHeight = dialog.getContentElement( 'info', 'txtHeight' );\n\n\t\t\t\t\t\ttxtHeight && txtHeight.setValue( height, true );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonShow: function() {\n\t\t\t\t// Detect if there's a selected table.\n\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\tranges = selection.getRanges(),\n\t\t\t\t\ttable;\n\n\t\t\t\tvar rowsInput = this.getContentElement( 'info', 'txtRows' ),\n\t\t\t\t\tcolsInput = this.getContentElement( 'info', 'txtCols' ),\n\t\t\t\t\twidthInput = this.getContentElement( 'info', 'txtWidth' ),\n\t\t\t\t\theightInput = this.getContentElement( 'info', 'txtHeight' );\n\n\t\t\t\tif ( command == 'tableProperties' ) {\n\t\t\t\t\tvar selected = selection.getSelectedElement();\n\t\t\t\t\tif ( selected && selected.is( 'table' ) )\n\t\t\t\t\t\ttable = selected;\n\t\t\t\t\telse if ( ranges.length > 0 ) {\n\t\t\t\t\t\t// Webkit could report the following range on cell selection (#4948):\n\t\t\t\t\t\t// <table><tr><td>[&nbsp;</td></tr></table>]\n\t\t\t\t\t\tif ( CKEDITOR.env.webkit )\n\t\t\t\t\t\t\tranges[ 0 ].shrink( CKEDITOR.NODE_ELEMENT );\n\n\t\t\t\t\t\ttable = editor.elementPath( ranges[ 0 ].getCommonAncestor( true ) ).contains( 'table', 1 );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Save a reference to the selected table, and push a new set of default values.\n\t\t\t\t\tthis._.selectedElement = table;\n\t\t\t\t}\n\n\t\t\t\t// Enable or disable the row, cols, width fields.\n\t\t\t\tif ( table ) {\n\t\t\t\t\tthis.setupContent( table );\n\t\t\t\t\trowsInput && rowsInput.disable();\n\t\t\t\t\tcolsInput && colsInput.disable();\n\t\t\t\t} else {\n\t\t\t\t\trowsInput && rowsInput.enable();\n\t\t\t\t\tcolsInput && colsInput.enable();\n\t\t\t\t}\n\n\t\t\t\t// Call the onChange method for the widht and height fields so\n\t\t\t\t// they get reflected into the Advanced tab.\n\t\t\t\twidthInput && widthInput.onChange();\n\t\t\t\theightInput && heightInput.onChange();\n\t\t\t},\n\t\t\tonOk: function() {\n\t\t\t\tvar selection = editor.getSelection(),\n\t\t\t\t\tbms = this._.selectedElement && selection.createBookmarks();\n\n\t\t\t\tvar table = this._.selectedElement || makeElement( 'table' ),\n\t\t\t\t\tdata = {};\n\n\t\t\t\tthis.commitContent( data, table );\n\n\t\t\t\tif ( data.info ) {\n\t\t\t\t\tvar info = data.info;\n\n\t\t\t\t\t// Generate the rows and cols.\n\t\t\t\t\tif ( !this._.selectedElement ) {\n\t\t\t\t\t\tvar tbody = table.append( makeElement( 'tbody' ) ),\n\t\t\t\t\t\t\trows = parseInt( info.txtRows, 10 ) || 0,\n\t\t\t\t\t\t\tcols = parseInt( info.txtCols, 10 ) || 0;\n\n\t\t\t\t\t\tfor ( var i = 0; i < rows; i++ ) {\n\t\t\t\t\t\t\tvar row = tbody.append( makeElement( 'tr' ) );\n\t\t\t\t\t\t\tfor ( var j = 0; j < cols; j++ ) {\n\t\t\t\t\t\t\t\tvar cell = row.append( makeElement( 'td' ) );\n\t\t\t\t\t\t\t\tcell.appendBogus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Modify the table headers. Depends on having rows and cols generated\n\t\t\t\t\t// correctly so it can't be done in commit functions.\n\n\t\t\t\t\t// Should we make a <thead>?\n\t\t\t\t\tvar headers = info.selHeaders;\n\t\t\t\t\tif ( !table.$.tHead && ( headers == 'row' || headers == 'both' ) ) {\n\t\t\t\t\t\tvar thead = table.getElementsByTag( 'thead' ).getItem( 0 );\n\t\t\t\t\t\ttbody = table.getElementsByTag( 'tbody' ).getItem( 0 );\n\t\t\t\t\t\tvar theRow = tbody.getElementsByTag( 'tr' ).getItem( 0 );\n\n\t\t\t\t\t\tif ( !thead ) {\n\t\t\t\t\t\t\tthead = new CKEDITOR.dom.element( 'thead' );\n\t\t\t\t\t\t\tthead.insertBefore( tbody );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Change TD to TH:\n\t\t\t\t\t\tfor ( i = 0; i < theRow.getChildCount(); i++ ) {\n\t\t\t\t\t\t\tvar th = theRow.getChild( i );\n\t\t\t\t\t\t\t// Skip bookmark nodes. (#6155)\n\t\t\t\t\t\t\tif ( th.type == CKEDITOR.NODE_ELEMENT && !th.data( 'cke-bookmark' ) ) {\n\t\t\t\t\t\t\t\tth.renameNode( 'th' );\n\t\t\t\t\t\t\t\tth.setAttribute( 'scope', 'col' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthead.append( theRow.remove() );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( table.$.tHead !== null && !( headers == 'row' || headers == 'both' ) ) {\n\t\t\t\t\t\t// Move the row out of the THead and put it in the TBody:\n\t\t\t\t\t\tthead = new CKEDITOR.dom.element( table.$.tHead );\n\t\t\t\t\t\ttbody = table.getElementsByTag( 'tbody' ).getItem( 0 );\n\n\t\t\t\t\t\tvar previousFirstRow = tbody.getFirst();\n\t\t\t\t\t\twhile ( thead.getChildCount() > 0 ) {\n\t\t\t\t\t\t\ttheRow = thead.getFirst();\n\t\t\t\t\t\t\tfor ( i = 0; i < theRow.getChildCount(); i++ ) {\n\t\t\t\t\t\t\t\tvar newCell = theRow.getChild( i );\n\t\t\t\t\t\t\t\tif ( newCell.type == CKEDITOR.NODE_ELEMENT ) {\n\t\t\t\t\t\t\t\t\tnewCell.renameNode( 'td' );\n\t\t\t\t\t\t\t\t\tnewCell.removeAttribute( 'scope' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttheRow.insertBefore( previousFirstRow );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthead.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Should we make all first cells in a row TH?\n\t\t\t\t\tif ( !this.hasColumnHeaders && ( headers == 'col' || headers == 'both' ) ) {\n\t\t\t\t\t\tfor ( row = 0; row < table.$.rows.length; row++ ) {\n\t\t\t\t\t\t\tnewCell = new CKEDITOR.dom.element( table.$.rows[ row ].cells[ 0 ] );\n\t\t\t\t\t\t\tnewCell.renameNode( 'th' );\n\t\t\t\t\t\t\tnewCell.setAttribute( 'scope', 'row' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Should we make all first TH-cells in a row make TD? If 'yes' we do it the other way round :-)\n\t\t\t\t\tif ( ( this.hasColumnHeaders ) && !( headers == 'col' || headers == 'both' ) ) {\n\t\t\t\t\t\tfor ( i = 0; i < table.$.rows.length; i++ ) {\n\t\t\t\t\t\t\trow = new CKEDITOR.dom.element( table.$.rows[ i ] );\n\t\t\t\t\t\t\tif ( row.getParent().getName() == 'tbody' ) {\n\t\t\t\t\t\t\t\tnewCell = new CKEDITOR.dom.element( row.$.cells[ 0 ] );\n\t\t\t\t\t\t\t\tnewCell.renameNode( 'td' );\n\t\t\t\t\t\t\t\tnewCell.removeAttribute( 'scope' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the width and height.\n\t\t\t\t\tinfo.txtHeight ? table.setStyle( 'height', info.txtHeight ) : table.removeStyle( 'height' );\n\t\t\t\t\tinfo.txtWidth ? table.setStyle( 'width', info.txtWidth ) : table.removeStyle( 'width' );\n\n\t\t\t\t\tif ( !table.getAttribute( 'style' ) )\n\t\t\t\t\t\ttable.removeAttribute( 'style' );\n\t\t\t\t}\n\n\t\t\t\t// Insert the table element if we're creating one.\n\t\t\t\tif ( !this._.selectedElement ) {\n\t\t\t\t\teditor.insertElement( table );\n\t\t\t\t\t// Override the default cursor position after insertElement to place\n\t\t\t\t\t// cursor inside the first cell (#7959), IE needs a while.\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tvar firstCell = new CKEDITOR.dom.element( table.$.rows[ 0 ].cells[ 0 ] );\n\t\t\t\t\t\tvar range = editor.createRange();\n\t\t\t\t\t\trange.moveToPosition( firstCell, CKEDITOR.POSITION_AFTER_START );\n\t\t\t\t\t\trange.select();\n\t\t\t\t\t}, 0 );\n\t\t\t\t}\n\t\t\t\t// Properly restore the selection, (#4822) but don't break\n\t\t\t\t// because of this, e.g. updated table caption.\n\t\t\t\telse {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tselection.selectBookmarks( bms );\n\t\t\t\t\t} catch ( er ) {\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontents: [ {\n\t\t\t\tid: 'info',\n\t\t\t\tlabel: editor.lang.table.title,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\twidths: [ null, null ],\n\t\t\t\t\tstyles: [ 'vertical-align:top' ],\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtRows',\n\t\t\t\t\t\t\t'default': 3,\n\t\t\t\t\t\t\tlabel: editor.lang.table.rows,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tcontrolStyle: 'width:5em',\n\t\t\t\t\t\t\tvalidate: validatorNum( editor.lang.table.invalidRows ),\n\t\t\t\t\t\t\tsetup: function( selectedElement ) {\n\t\t\t\t\t\t\t\tthis.setValue( selectedElement.$.rows.length );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtCols',\n\t\t\t\t\t\t\t'default': 2,\n\t\t\t\t\t\t\tlabel: editor.lang.table.columns,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tcontrolStyle: 'width:5em',\n\t\t\t\t\t\t\tvalidate: validatorNum( editor.lang.table.invalidCols ),\n\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\tthis.setValue( tableColumns( selectedTable ) );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\thtml: '&nbsp;'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tid: 'selHeaders',\n\t\t\t\t\t\t\trequiredContent: 'th',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tlabel: editor.lang.table.headers,\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t[ editor.lang.table.headersNone, '' ],\n\t\t\t\t\t\t\t\t[ editor.lang.table.headersRow, 'row' ],\n\t\t\t\t\t\t\t\t[ editor.lang.table.headersColumn, 'col' ],\n\t\t\t\t\t\t\t\t[ editor.lang.table.headersBoth, 'both' ]\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\t// Fill in the headers field.\n\t\t\t\t\t\t\t\tvar dialog = this.getDialog();\n\t\t\t\t\t\t\t\tdialog.hasColumnHeaders = true;\n\n\t\t\t\t\t\t\t\t// Check if all the first cells in every row are TH\n\t\t\t\t\t\t\t\tfor ( var row = 0; row < selectedTable.$.rows.length; row++ ) {\n\t\t\t\t\t\t\t\t\t// If just one cell isn't a TH then it isn't a header column\n\t\t\t\t\t\t\t\t\tvar headCell = selectedTable.$.rows[ row ].cells[ 0 ];\n\t\t\t\t\t\t\t\t\tif ( headCell && headCell.nodeName.toLowerCase() != 'th' ) {\n\t\t\t\t\t\t\t\t\t\tdialog.hasColumnHeaders = false;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Check if the table contains <thead>.\n\t\t\t\t\t\t\t\tif ( ( selectedTable.$.tHead !== null ) )\n\t\t\t\t\t\t\t\t\tthis.setValue( dialog.hasColumnHeaders ? 'both' : 'row' );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tthis.setValue( dialog.hasColumnHeaders ? 'col' : '' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtBorder',\n\t\t\t\t\t\t\trequiredContent: 'table[border]',\n\t\t\t\t\t\t\t// Avoid setting border which will then disappear.\n\t\t\t\t\t\t\t'default': editor.filter.check( 'table[border]' ) ? 1 : 0,\n\t\t\t\t\t\t\tlabel: editor.lang.table.border,\n\t\t\t\t\t\t\tcontrolStyle: 'width:3em',\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.number( editor.lang.table.invalidBorder ),\n\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\tthis.setValue( selectedTable.getAttribute( 'border' ) || '' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( data, selectedTable ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\t\tselectedTable.setAttribute( 'border', this.getValue() );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tselectedTable.removeAttribute( 'border' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'cmbAlign',\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\trequiredContent: 'table[align]',\n\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\tlabel: editor.lang.common.align,\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t[ editor.lang.common.notSet, '' ],\n\t\t\t\t\t\t\t\t[ editor.lang.common.alignLeft, 'left' ],\n\t\t\t\t\t\t\t\t[ editor.lang.common.alignCenter, 'center' ],\n\t\t\t\t\t\t\t\t[ editor.lang.common.alignRight, 'right' ]\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\tthis.setValue( selectedTable.getAttribute( 'align' ) || '' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( data, selectedTable ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\t\tselectedTable.setAttribute( 'align', this.getValue() );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tselectedTable.removeAttribute( 'align' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\t\tpadding: 0,\n\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\twidths: [ '5em' ],\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tid: 'txtWidth',\n\t\t\t\t\t\t\t\trequiredContent: 'table{width}',\n\t\t\t\t\t\t\t\tcontrolStyle: 'width:5em',\n\t\t\t\t\t\t\t\tlabel: editor.lang.common.width,\n\t\t\t\t\t\t\t\ttitle: editor.lang.common.cssLengthTooltip,\n\t\t\t\t\t\t\t\t// Smarter default table width. (#9600)\n\t\t\t\t\t\t\t\t'default': editor.filter.check( 'table{width}' ) ? ( editable.getSize( 'width' ) < 500 ? '100%' : 500 ) : 0,\n\t\t\t\t\t\t\t\tgetValue: defaultToPixel,\n\t\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.cssLength( editor.lang.common.invalidCssLength.replace( '%1', editor.lang.common.width ) ),\n\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\tvar styles = this.getDialog().getContentElement( 'advanced', 'advStyles' );\n\t\t\t\t\t\t\t\t\tstyles && styles.updateStyle( 'width', this.getValue() );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\t\tvar val = selectedTable.getStyle( 'width' );\n\t\t\t\t\t\t\t\t\tthis.setValue( val );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'hbox',\n\t\t\t\t\t\t\twidths: [ '5em' ],\n\t\t\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\tid: 'txtHeight',\n\t\t\t\t\t\t\t\trequiredContent: 'table{height}',\n\t\t\t\t\t\t\t\tcontrolStyle: 'width:5em',\n\t\t\t\t\t\t\t\tlabel: editor.lang.common.height,\n\t\t\t\t\t\t\t\ttitle: editor.lang.common.cssLengthTooltip,\n\t\t\t\t\t\t\t\t'default': '',\n\t\t\t\t\t\t\t\tgetValue: defaultToPixel,\n\t\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.cssLength( editor.lang.common.invalidCssLength.replace( '%1', editor.lang.common.height ) ),\n\t\t\t\t\t\t\t\tonChange: function() {\n\t\t\t\t\t\t\t\t\tvar styles = this.getDialog().getContentElement( 'advanced', 'advStyles' );\n\t\t\t\t\t\t\t\t\tstyles && styles.updateStyle( 'height', this.getValue() );\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\t\tvar val = selectedTable.getStyle( 'height' );\n\t\t\t\t\t\t\t\t\tval && this.setValue( val );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcommit: commitValue\n\t\t\t\t\t\t\t} ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\t\thtml: '&nbsp;'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtCellSpace',\n\t\t\t\t\t\t\trequiredContent: 'table[cellspacing]',\n\t\t\t\t\t\t\tcontrolStyle: 'width:3em',\n\t\t\t\t\t\t\tlabel: editor.lang.table.cellSpace,\n\t\t\t\t\t\t\t'default': editor.filter.check( 'table[cellspacing]' ) ? 1 : 0,\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.number( editor.lang.table.invalidCellSpacing ),\n\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\tthis.setValue( selectedTable.getAttribute( 'cellSpacing' ) || '' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( data, selectedTable ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\t\tselectedTable.setAttribute( 'cellSpacing', this.getValue() );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tselectedTable.removeAttribute( 'cellSpacing' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tid: 'txtCellPad',\n\t\t\t\t\t\t\trequiredContent: 'table[cellpadding]',\n\t\t\t\t\t\t\tcontrolStyle: 'width:3em',\n\t\t\t\t\t\t\tlabel: editor.lang.table.cellPad,\n\t\t\t\t\t\t\t'default': editor.filter.check( 'table[cellpadding]' ) ? 1 : 0,\n\t\t\t\t\t\t\tvalidate: CKEDITOR.dialog.validate.number( editor.lang.table.invalidCellPadding ),\n\t\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\t\tthis.setValue( selectedTable.getAttribute( 'cellPadding' ) || '' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcommit: function( data, selectedTable ) {\n\t\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\t\tselectedTable.setAttribute( 'cellPadding', this.getValue() );\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tselectedTable.removeAttribute( 'cellPadding' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ]\n\t\t\t\t\t} ]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'html',\n\t\t\t\t\talign: 'right',\n\t\t\t\t\thtml: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtCaption',\n\t\t\t\t\t\trequiredContent: 'caption',\n\t\t\t\t\t\tlabel: editor.lang.table.caption,\n\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\tthis.enable();\n\n\t\t\t\t\t\t\tvar nodeList = selectedTable.getElementsByTag( 'caption' );\n\t\t\t\t\t\t\tif ( nodeList.count() > 0 ) {\n\t\t\t\t\t\t\t\tvar caption = nodeList.getItem( 0 );\n\t\t\t\t\t\t\t\tvar firstElementChild = caption.getFirst( CKEDITOR.dom.walker.nodeType( CKEDITOR.NODE_ELEMENT ) );\n\n\t\t\t\t\t\t\t\tif ( firstElementChild && !firstElementChild.equals( caption.getBogus() ) ) {\n\t\t\t\t\t\t\t\t\tthis.disable();\n\t\t\t\t\t\t\t\t\tthis.setValue( caption.getText() );\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcaption = CKEDITOR.tools.trim( caption.getText() );\n\t\t\t\t\t\t\t\tthis.setValue( caption );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data, table ) {\n\t\t\t\t\t\t\tif ( !this.isEnabled() )\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\tvar caption = this.getValue(),\n\t\t\t\t\t\t\t\tcaptionElement = table.getElementsByTag( 'caption' );\n\t\t\t\t\t\t\tif ( caption ) {\n\t\t\t\t\t\t\t\tif ( captionElement.count() > 0 ) {\n\t\t\t\t\t\t\t\t\tcaptionElement = captionElement.getItem( 0 );\n\t\t\t\t\t\t\t\t\tcaptionElement.setHtml( '' );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcaptionElement = new CKEDITOR.dom.element( 'caption', editor.document );\n\t\t\t\t\t\t\t\t\ttable.append( captionElement, true );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcaptionElement.append( new CKEDITOR.dom.text( caption, editor.document ) );\n\t\t\t\t\t\t\t} else if ( captionElement.count() > 0 ) {\n\t\t\t\t\t\t\t\tfor ( var i = captionElement.count() - 1; i >= 0; i-- )\n\t\t\t\t\t\t\t\t\tcaptionElement.getItem( i ).remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tid: 'txtSummary',\n\t\t\t\t\t\tbidi: true,\n\t\t\t\t\t\trequiredContent: 'table[summary]',\n\t\t\t\t\t\tlabel: editor.lang.table.summary,\n\t\t\t\t\t\tsetup: function( selectedTable ) {\n\t\t\t\t\t\t\tthis.setValue( selectedTable.getAttribute( 'summary' ) || '' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcommit: function( data, selectedTable ) {\n\t\t\t\t\t\t\tif ( this.getValue() )\n\t\t\t\t\t\t\t\tselectedTable.setAttribute( 'summary', this.getValue() );\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tselectedTable.removeAttribute( 'summary' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t},\n\t\t\tdialogadvtab && dialogadvtab.createAdvancedTab( editor, null, 'table' )\n\t\t] };\n\t}\n\n\tCKEDITOR.dialog.add( 'table', function( editor ) {\n\t\treturn tableDialog( editor, 'table' );\n\t} );\n\tCKEDITOR.dialog.add( 'tableProperties', function( editor ) {\n\t\treturn tableDialog( editor, 'tableProperties' );\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/table/dialogs/table.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\n\tCKEDITOR.dialog.add( 'templates', function( editor ) {\n\t\t// Constructs the HTML view of the specified templates data.\n\t\tfunction renderTemplatesList( container, templatesDefinitions ) {\n\t\t\t// clear loading wait text.\n\t\t\tcontainer.setHtml( '' );\n\n\t\t\tfor ( var i = 0, totalDefs = templatesDefinitions.length; i < totalDefs; i++ ) {\n\t\t\t\tvar definition = CKEDITOR.getTemplates( templatesDefinitions[ i ] ),\n\t\t\t\t\timagesPath = definition.imagesPath,\n\t\t\t\t\ttemplates = definition.templates,\n\t\t\t\t\tcount = templates.length;\n\n\t\t\t\tfor ( var j = 0; j < count; j++ ) {\n\t\t\t\t\tvar template = templates[ j ],\n\t\t\t\t\t\titem = createTemplateItem( template, imagesPath );\n\t\t\t\t\titem.setAttribute( 'aria-posinset', j + 1 );\n\t\t\t\t\titem.setAttribute( 'aria-setsize', count );\n\t\t\t\t\tcontainer.append( item );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction createTemplateItem( template, imagesPath ) {\n\t\t\tvar item = CKEDITOR.dom.element.createFromHtml( '<a href=\"javascript:void(0)\" tabIndex=\"-1\" role=\"option\" >' +\n\t\t\t\t'<div class=\"cke_tpl_item\"></div>' +\n\t\t\t\t'</a>' );\n\n\t\t\t// Build the inner HTML of our new item DIV.\n\t\t\tvar html = '<table style=\"width:350px;\" class=\"cke_tpl_preview\" role=\"presentation\"><tr>';\n\n\t\t\tif ( template.image && imagesPath ) {\n\t\t\t\thtml += '<td class=\"cke_tpl_preview_img\"><img src=\"' +\n\t\t\t\t\tCKEDITOR.getUrl( imagesPath + template.image ) + '\"' +\n\t\t\t\t\t( CKEDITOR.env.ie6Compat ? ' onload=\"this.width=this.width\"' : '' ) + ' alt=\"\" title=\"\"></td>';\n\t\t\t}\n\n\t\t\thtml += '<td style=\"white-space:normal;\"><span class=\"cke_tpl_title\">' + template.title + '</span><br/>';\n\n\t\t\tif ( template.description )\n\t\t\t\thtml += '<span>' + template.description + '</span>';\n\n\t\t\thtml += '</td></tr></table>';\n\n\t\t\titem.getFirst().setHtml( html );\n\n\t\t\titem.on( 'click', function() {\n\t\t\t\tinsertTemplate( template.html );\n\t\t\t} );\n\n\t\t\treturn item;\n\t\t}\n\n\t\t// Insert the specified template content into editor.\n\t\t// @param {Number} index\n\t\tfunction insertTemplate( html ) {\n\t\t\tvar dialog = CKEDITOR.dialog.getCurrent(),\n\t\t\t\tisReplace = dialog.getValueOf( 'selectTpl', 'chkInsertOpt' );\n\n\t\t\tif ( isReplace ) {\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t// Everything should happen after the document is loaded (#4073).\n\t\t\t\teditor.setData( html, function() {\n\t\t\t\t\tdialog.hide();\n\n\t\t\t\t\t// Place the cursor at the first editable place.\n\t\t\t\t\tvar range = editor.createRange();\n\t\t\t\t\trange.moveToElementEditStart( editor.editable() );\n\t\t\t\t\trange.select();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t\t\t}, 0 );\n\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\teditor.insertHtml( html );\n\t\t\t\tdialog.hide();\n\t\t\t}\n\t\t}\n\n\t\tfunction keyNavigation( evt ) {\n\t\t\tvar target = evt.data.getTarget(),\n\t\t\t\tonList = listContainer.equals( target );\n\n\t\t\t// Keyboard navigation for template list.\n\t\t\tif ( onList || listContainer.contains( target ) ) {\n\t\t\t\tvar keystroke = evt.data.getKeystroke(),\n\t\t\t\t\titems = listContainer.getElementsByTag( 'a' ),\n\t\t\t\t\tfocusItem;\n\n\t\t\t\tif ( items ) {\n\t\t\t\t\t// Focus not yet onto list items?\n\t\t\t\t\tif ( onList )\n\t\t\t\t\t\tfocusItem = items.getItem( 0 );\n\t\t\t\t\telse {\n\t\t\t\t\t\tswitch ( keystroke ) {\n\t\t\t\t\t\t\tcase 40: // ARROW-DOWN\n\t\t\t\t\t\t\t\tfocusItem = target.getNext();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 38: // ARROW-UP\n\t\t\t\t\t\t\t\tfocusItem = target.getPrevious();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 13: // ENTER\n\t\t\t\t\t\t\tcase 32: // SPACE\n\t\t\t\t\t\t\t\ttarget.fire( 'click' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( focusItem ) {\n\t\t\t\t\t\tfocusItem.focus();\n\t\t\t\t\t\tevt.data.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Load skin at first.\n\t\tvar plugin = CKEDITOR.plugins.get( 'templates' );\n\t\tCKEDITOR.document.appendStyleSheet( CKEDITOR.getUrl( plugin.path + 'dialogs/templates.css' ) );\n\n\n\t\tvar listContainer;\n\n\t\tvar templateListLabelId = 'cke_tpl_list_label_' + CKEDITOR.tools.getNextNumber(),\n\t\t\tlang = editor.lang.templates,\n\t\t\tconfig = editor.config;\n\t\treturn {\n\t\t\ttitle: editor.lang.templates.title,\n\n\t\t\tminWidth: CKEDITOR.env.ie ? 440 : 400,\n\t\t\tminHeight: 340,\n\n\t\t\tcontents: [ {\n\t\t\t\tid: 'selectTpl',\n\t\t\t\tlabel: lang.title,\n\t\t\t\telements: [ {\n\t\t\t\t\ttype: 'vbox',\n\t\t\t\t\tpadding: 5,\n\t\t\t\t\tchildren: [ {\n\t\t\t\t\t\tid: 'selectTplText',\n\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\thtml: '<span>' +\n\t\t\t\t\t\t\tlang.selectPromptMsg +\n\t\t\t\t\t\t\t'</span>'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'templatesList',\n\t\t\t\t\t\ttype: 'html',\n\t\t\t\t\t\tfocus: true,\n\t\t\t\t\t\thtml: '<div class=\"cke_tpl_list\" tabIndex=\"-1\" role=\"listbox\" aria-labelledby=\"' + templateListLabelId + '\">' +\n\t\t\t\t\t\t\t\t'<div class=\"cke_tpl_loading\"><span></span></div>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t'<span class=\"cke_voice_label\" id=\"' + templateListLabelId + '\">' + lang.options + '</span>'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'chkInsertOpt',\n\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\tlabel: lang.insertOption,\n\t\t\t\t\t\t'default': config.templates_replaceContent\n\t\t\t\t\t} ]\n\t\t\t\t} ]\n\t\t\t} ],\n\n\t\t\tbuttons: [ CKEDITOR.dialog.cancelButton ],\n\n\t\t\tonShow: function() {\n\t\t\t\tvar templatesListField = this.getContentElement( 'selectTpl', 'templatesList' );\n\t\t\t\tlistContainer = templatesListField.getElement();\n\n\t\t\t\tCKEDITOR.loadTemplates( config.templates_files, function() {\n\t\t\t\t\tvar templates = ( config.templates || 'default' ).split( ',' );\n\n\t\t\t\t\tif ( templates.length ) {\n\t\t\t\t\t\trenderTemplatesList( listContainer, templates );\n\t\t\t\t\t\ttemplatesListField.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlistContainer.setHtml( '<div class=\"cke_tpl_empty\">' +\n\t\t\t\t\t\t\t'<span>' + lang.emptyListMsg + '</span>' +\n\t\t\t\t\t\t\t'</div>' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tthis._.element.on( 'keydown', keyNavigation );\n\t\t\t},\n\n\t\t\tonHide: function() {\n\t\t\t\tthis._.element.removeListener( 'keydown', keyNavigation );\n\t\t\t}\n\t\t};\n\t} );\n} )();\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/templates/dialogs/templates.js\n **/","/**\n * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n/*\nskin.js\n=========\n\nIn this file we interact with the CKEditor JavaScript API to register the skin\nand enable additional skin related features.\n\nThe level of complexity of this file depends on the features available in the\nskin. There is only one mandatory line of code to be included here, which is\nsetting CKEDITOR.skin.name. All the rest is optional, but recommended to be\nimplemented as they make higher quality skins.\n\nFor this skin, the following tasks are achieved in this file:\n\n\t1. Register the skin.\n\t2. Register browser specific skin files.\n\t3. Define the \"Chameleon\" feature.\n\t4. Register the skin icons, to have them used on the development version of\n\t\tthe skin.\n*/\n\n// 1. Register the skin\n// ----------------------\n// The CKEDITOR.skin.name property must be set to the skin name. This is a\n// lower-cased name, which must match the skin folder name as well as the value\n// used on config.skin to tell the editor to use the skin.\n//\n// This is the only mandatory property to be defined in this file.\nCKEDITOR.skin.name = 'moono';\n\n// 2. Register browser specific skin files\n// -----------------------------------------\n// (http://docs.cksource.com/CKEditor_4.x/Skin_SDK/Browser_Hacks)\n//\n// To help implementing browser specific \"hacks\" to the skin files and have it\n// easy to maintain, it is possible to have dedicated files for such browsers,\n// for both the main skin CSS files: editor.css and dialog.css.\n//\n// The browser files must be named after the main file names, appended by an\n// underscore and the browser name (e.g. editor_ie.css, dialog_ie8.css).\n//\n// The accepted browser names must match the CKEDITOR.env properties. The most\n// common names are: ie, webkit and gecko. Check the documentation for the complete\n// list:\n// http://docs.ckeditor.com/#!/api/CKEDITOR.env\n//\n// Internet explorer is an expection and the browser version is also accepted\n// (ie7, ie8, ie9, ie10), as well as a special name for IE in Quirks mode (iequirks).\n//\n// The available browser specific files must be set separately for editor.css\n// and dialog.css.\nCKEDITOR.skin.ua_editor = 'ie,iequirks,ie7,ie8,gecko';\nCKEDITOR.skin.ua_dialog = 'ie,iequirks,ie7,ie8';\n\n// 3. Define the \"Chameleon\" feature\n// -----------------------------------\n// (http://docs.cksource.com/CKEditor_4.x/Skin_SDK/Chameleon)\n//\n// \"Chameleon\" is a unique feature available in CKEditor. It makes it possible\n// to end users to specify which color to use as the basis for the editor UI.\n// It is enough to set config.uiColor to any color value and voila, the UI is\n// colored.\n//\n// The only detail here is that the skin itself must be compatible with the\n// Chameleon feature. That's because the skin CSS files are the responsible to\n// apply colors in the UI and each skin do that in different way and on\n// different places.\n//\n// Implementing the Chameleon feature requires a bit of JavaScript programming.\n// The CKEDITOR.skin.chameleon function must be defined. It must return the CSS\n// \"template\" to be used to change the color of a specific CKEditor instance\n// available in the page. When a color change is required, this template is\n// appended to the page holding the editor, overriding styles defined in the\n// skin files.\n//\n// The \"$color\" placeholder can be used in the returned string. It'll be\n// replaced with the desired color.\nCKEDITOR.skin.chameleon = ( function() {\n\t// This method can be used to adjust colour brightness of various element.\n\t// Colours are accepted in 7-byte hex format, for example: #00ff00.\n\t// Brightness ratio must be a float number within [-1, 1],\n\t// where -1 is black, 1 is white and 0 is the original colour.\n\tvar colorBrightness = ( function() {\n\t\tfunction channelBrightness( channel, ratio ) {\n\t\t\tvar brighten = ratio < 0 ? (\n\t\t\t\t\t0 | channel * ( 1 + ratio )\n\t\t\t\t) : (\n\t\t\t\t\t0 | channel + ( 255 - channel ) * ratio\n\t\t\t\t);\n\n\t\t\treturn ( '0' + brighten.toString( 16 ) ).slice( -2 );\n\t\t}\n\n\t\treturn function( hexColor, ratio ) {\n\t\t\tvar channels = hexColor.match( /[^#]./g );\n\n\t\t\tfor ( var i = 0 ; i < 3 ; i++ )\n\t\t\t\tchannels[ i ] = channelBrightness( parseInt( channels[ i ], 16 ), ratio );\n\n\t\t\treturn '#' + channels.join( '' );\n\t\t};\n\t} )(),\n\n\t// Use this function just to avoid having to repeat all these rules on\n\t// several places of our template.\n\tverticalGradient = ( function() {\n\t\tvar template = new CKEDITOR.template( 'background:#{to};' +\n\t\t\t'background-image:linear-gradient(to bottom,{from},{to});' +\n\t\t\t'filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr=\\'{from}\\',endColorstr=\\'{to}\\');' );\n\n\t\treturn function( from, to ) {\n\t\t\treturn template.output( { from: from, to: to } );\n\t\t};\n\t} )(),\n\n\t// Style templates for various user interface parts:\n\t// \t* Default editor template.\n\t// \t* Default panel template.\n\ttemplates = {\n\t\teditor: new CKEDITOR.template(\n\t\t\t'{id}.cke_chrome [border-color:{defaultBorder};] ' +\n\t\t\t'{id} .cke_top [ ' +\n\t\t\t\t\t'{defaultGradient}' +\n\t\t\t\t\t'border-bottom-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_bottom [' +\n\t\t\t\t\t'{defaultGradient}' +\n\t\t\t\t\t'border-top-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_resizer [border-right-color:{ckeResizer}] ' +\n\n\t\t\t// Dialogs.\n\t\t\t'{id} .cke_dialog_title [' +\n\t\t\t\t\t'{defaultGradient}' +\n\t\t\t\t\t'border-bottom-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_dialog_footer [' +\n\t\t\t\t\t'{defaultGradient}' +\n\t\t\t\t\t'outline-color:{defaultBorder};' +\n\t\t\t\t\t'border-top-color:{defaultBorder};' +\t// IE7 doesn't use outline.\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_dialog_tab [' +\n\t\t\t\t\t'{lightGradient}' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_dialog_tab:hover [' +\n\t\t\t\t\t'{mediumGradient}' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_dialog_contents [' +\n\t\t\t\t\t'border-top-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [' +\n\t\t\t\t\t'background:{dialogTabSelected};' +\n\t\t\t\t\t'border-bottom-color:{dialogTabSelectedBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_dialog_body [' +\n\t\t\t\t\t'background:{dialogBody};' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\n\t\t\t// Toolbars, buttons.\n\t\t\t'{id} .cke_toolgroup [' +\n\t\t\t\t\t'{lightGradient}' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [' +\n\t\t\t\t\t'{mediumGradient}' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_button_on [' +\n\t\t\t\t\t'{ckeButtonOn}' +\n\t\t\t\t'] ' +\n\t\t\t'{id} .cke_toolbar_separator [' +\n\t\t\t\t\t'background-color: {ckeToolbarSeparator};' +\n\t\t\t\t'] ' +\n\n\t\t\t// Combo buttons.\n\t\t\t'{id} .cke_combo_button [' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t\t'{lightGradient}' +\n\t\t\t\t'] ' +\n\t\t\t'{id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t\t'{mediumGradient}' +\n\t\t\t\t'] ' +\n\n\t\t\t// Elementspath.\n\t\t\t'{id} .cke_path_item [' +\n\t\t\t\t\t'color:{elementsPathColor};' +\n\t\t\t\t'] ' +\n\t\t\t'{id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [' +\n\t\t\t\t\t'background-color:{elementsPathBg};' +\n\t\t\t\t'] ' +\n\n\t\t\t'{id}.cke_panel [' +\n\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t'] '\n\t\t),\n\t\tpanel: new CKEDITOR.template(\n\t\t\t// Panel drop-downs.\n\t\t\t'.cke_panel_grouptitle [' +\n\t\t\t\t\t'{lightGradient}' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\n\t\t\t// Context menus.\n\t\t\t'.cke_menubutton_icon [' +\n\t\t\t\t\t'background-color:{menubuttonIcon};' +\n\t\t\t\t'] ' +\n\t\t\t'.cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [' +\n\t\t\t\t\t'background-color:{menubuttonIconHover};' +\n\t\t\t\t'] ' +\n\t\t\t'.cke_menuseparator [' +\n\t\t\t\t\t'background-color:{menubuttonIcon};' +\n\t\t\t\t'] ' +\n\n\t\t\t// Color boxes.\n\t\t\t'a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t'] ' +\n\t\t\t'a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [' +\n\t\t\t\t\t'background-color:{ckeColorauto};' +\n\t\t\t\t\t'border-color:{defaultBorder};' +\n\t\t\t\t'] '\n\t\t)\n\t};\n\n\treturn function( editor, part ) {\n\t\tvar uiColor = editor.uiColor,\n\t\t\t// The following are CSS styles used in templates.\n\t\t\t// Styles are generated according to current editor.uiColor.\n\t\t\ttemplateStyles = {\n\t\t\t\t// CKEditor instances have a unique ID, which is used as class name into\n\t\t\t\t// the outer container of the editor UI (e.g. \".cke_1\").\n\t\t\t\t//\n\t\t\t\t// The Chameleon feature is available for each CKEditor instance,\n\t\t\t\t// independently. Because of this, we need to prefix all CSS selectors with\n\t\t\t\t// the unique class name of the instance.\n\t\t\t\tid: '.' + editor.id,\n\n\t\t\t\t// These styles are used by various UI elements.\n\t\t\t\tdefaultBorder: colorBrightness( uiColor, -0.1 ),\n\t\t\t\tdefaultGradient: verticalGradient( colorBrightness( uiColor, 0.9 ), uiColor ),\n\t\t\t\tlightGradient: verticalGradient( colorBrightness( uiColor, 1 ), colorBrightness( uiColor, 0.7 ) ),\n\t\t\t\tmediumGradient: verticalGradient( colorBrightness( uiColor, 0.8 ), colorBrightness( uiColor, 0.5 ) ),\n\n\t\t\t\t// These are for specific UI elements.\n\t\t\t\tckeButtonOn: verticalGradient( colorBrightness( uiColor, 0.6 ), colorBrightness( uiColor, 0.7 ) ),\n\t\t\t\tckeResizer: colorBrightness( uiColor, -0.4 ),\n\t\t\t\tckeToolbarSeparator: colorBrightness( uiColor, 0.5 ),\n\t\t\t\tckeColorauto: colorBrightness( uiColor, 0.8 ),\n\t\t\t\tdialogBody: colorBrightness( uiColor, 0.7 ),\n\t\t\t\t// Use gradient instead of simple hex to avoid further filter resetting in IE.\n\t\t\t\tdialogTabSelected: verticalGradient( '#FFFFFF', '#FFFFFF' ),\n\t\t\t\tdialogTabSelectedBorder: '#FFF',\n\t\t\t\telementsPathColor: colorBrightness( uiColor, -0.6 ),\n\t\t\t\telementsPathBg: uiColor,\n\t\t\t\tmenubuttonIcon: colorBrightness( uiColor, 0.5 ),\n\t\t\t\tmenubuttonIconHover: colorBrightness( uiColor, 0.3 )\n\t\t\t};\n\n\t\treturn templates[ part ]\n\t\t\t.output( templateStyles )\n\t\t\t.replace( /\\[/g, '{' )\t\t\t\t// Replace brackets with braces.\n\t\t\t.replace( /\\]/g, '}' );\n\t};\n} )();\n\n// %REMOVE_START%\n\n// 4. Register the skin icons for development purposes only\n// ----------------------------------------------------------\n// (http://docs.cksource.com/CKEditor_4.x/Skin_SDK/Icons)\n//\n// Note: As \"moono\" is the default CKEditor skin, it provides no custom icons,\n// thus this code is commented out.\n//\n// This code is here just to make the skin work fully when using its \"source\"\n// version. Without this, the skin will still work, but its icons will not be\n// used (again, on source version only).\n//\n// This block of code is not necessary on the release version of the skin.\n// Because of this it is very important to include it inside the REMOVE_START\n// and REMOVE_END comment markers, so the skin builder will properly clean\n// things up.\n//\n// If a required icon is not available here, the plugin defined icon will be\n// used instead. This means that a skin is not required to provide all icons.\n// Actually, it is not required to provide icons at all.\n//\n// (function() {\n//\t\t// The available icons. This list must match the file names (without\n//\t\t// extension) available inside the \"icons\" folder.\n//\t\tvar icons = ( 'about,anchor-rtl,anchor,bgcolor,bidiltr,bidirtl,blockquote,' +\n//\t\t\t'bold,bulletedlist-rtl,bulletedlist,button,checkbox,copy-rtl,copy,' +\n//\t\t\t'creatediv,cut-rtl,cut,docprops-rtl,docprops,find-rtl,find,flash,form,' +\n//\t\t\t'hiddenfield,horizontalrule,icons,iframe,image,imagebutton,indent-rtl,' +\n//\t\t\t'indent,italic,justifyblock,justifycenter,justifyleft,justifyright,' +\n//\t\t\t'link,maximize,newpage-rtl,newpage,numberedlist-rtl,numberedlist,' +\n//\t\t\t'outdent-rtl,outdent,pagebreak-rtl,pagebreak,paste-rtl,paste,' +\n//\t\t\t'pastefromword-rtl,pastefromword,pastetext-rtl,pastetext,preview-rtl,' +\n//\t\t\t'preview,print,radio,redo-rtl,redo,removeformat,replace,save,scayt,' +\n//\t\t\t'select-rtl,select,selectall,showblocks-rtl,showblocks,smiley,' +\n//\t\t\t'source-rtl,source,specialchar,spellchecker,strike,subscript,' +\n//\t\t\t'superscript,table,templates-rtl,templates,textarea-rtl,textarea,' +\n//\t\t\t'textcolor,textfield-rtl,textfield,uicolor,underline,undo-rtl,undo,unlink' ).split( ',' );\n//\n//\t\tvar iconsFolder = CKEDITOR.getUrl( CKEDITOR.skin.path() + 'icons/' + ( CKEDITOR.env.hidpi ? 'hidpi/' : '' ) );\n//\n//\t\tfor ( var i = 0; i < icons.length; i++ ) {\n//\t\t\tCKEDITOR.skin.addIcon( icons[ i ], iconsFolder + icons[ i ] + '.png' );\n//\t\t}\n// })();\n\n// %REMOVE_END%\n\n\n\n/** WEBPACK FOOTER **\n ** ./skins/moono/skin.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./editor.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./editor.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./editor.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/editor.css\n ** module id = 307\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./reset.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./mainui.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./panel.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./colorpanel.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./toolbar.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./menu.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./richcombo.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./elementspath.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./presets.css\"), \"\");\nexports.i(require(\"-!./../../node_modules/css-loader/index.js!./notification.css\"), \"\");\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n/*\\neditor.css\\n============\\n\\nThis is he heart of the skin system. This is the file loaded by the editor to\\nstyle all elements inside its main interface.\\n\\nTo make it easier to maintain, instead of including all styles here, we import\\nother files.\\n*/\\n/* \\\"Reset\\\" styles, necessary to avoid the editor UI being broken by external CSS. */\\n/* Styles the main interface structure (holding box). */\\n/* Styles all \\\"panels\\\", which are the floating elements that appear when\\n   opening toolbar combos, menu buttons, context menus, etc. */\\n/* Styles the color panel displayed by the color buttons. */\\n/* Styles to toolbar. */\\n/* Styles menus, which are lists of selectable items (context menu, menu button). */\\n/* Styles toolbar combos. */\\n/* Styles the elements path bar, available at the bottom of the editor UI.*/\\n/* Contains hard-coded presets for \\\"configurable-like\\\" options of the UI\\n   (e.g. display labels on specific buttons) */\\n/* Styles for notifications. */\\n/* Important!\\n   To avoid showing the editor UI while its styles are still not available, the\\n   editor creates it with visibility:hidden. Here, we restore the UI visibility. */\\n.cke_chrome {\\n  visibility: inherit; }\\n\\n/* For accessibility purposes, several \\\"voice labels\\\" are present in the UI.\\n   These are usually <span> elements that show not be visible, but that are\\n   used by screen-readers to announce other elements. Here, we hide these\\n   <spans>, in fact. */\\n.cke_voice_label {\\n  display: none; }\\n\\nlegend.cke_voice_label {\\n  display: none; }\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./skins/moono/editor.css\n ** module id = 308\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/css-loader/lib/css-base.js\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\nreset.css (part of editor.css)\\n================================\\n\\nThis file holds the \\\"reset\\\" requirements of CKEditor, as well as define the\\ndefault interface styles.\\n\\nCKEditor includes two main \\\"reset\\\" class names in the DOM structure created for\\neditors:\\n\\n\\t* .cke_reset: Intended to reset a specific element, but not its children.\\n\\t  Because of this, only styles that will not be inherited can be defined.\\n\\n\\t* .cke_reset_all: Intended to reset not only the element holding it, but\\n\\t   also its child elements.\\n\\nTo understand why \\\"reset\\\" is needed, check the CKEditor Skin SDK:\\nhttp://docs.cksource.com/CKEditor_4.x/Skin_SDK/Reset\\n*/\\n\\n/* Reset for single elements, not their children. */\\n.cke_reset\\n{\\n\\t/* Do not include inheritable rules here. */\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tbackground: transparent;\\n\\ttext-decoration: none;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tvertical-align: baseline;\\n\\tbox-sizing: content-box;\\n\\tposition: static;\\n\\ttransition: none;\\n}\\n\\n/* Reset for elements and their children. */\\n.cke_reset_all, .cke_reset_all *,\\n.cke_reset_all a, .cke_reset_all textarea\\n{\\n\\t/* The following must be identical to .cke_reset. */\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tbackground: transparent;\\n\\ttext-decoration: none;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tvertical-align: baseline;\\n\\tbox-sizing: content-box;\\n\\tposition: static;\\n\\ttransition: none;\\n\\n\\t/* These are rule inherited by all children elements. */\\n\\tborder-collapse: collapse;\\n\\tfont: normal normal normal 12px Arial,Helvetica,Tahoma,Verdana,Sans-Serif;\\n\\tcolor: #000;\\n\\ttext-align: left;\\n\\twhite-space: nowrap;\\n\\tcursor: auto;\\n\\tfloat: none;\\n}\\n\\n.cke_reset_all .cke_rtl *\\n{\\n\\ttext-align: right;\\n}\\n\\n/* Defaults for some elements. */\\n\\n.cke_reset_all iframe\\n{\\n\\tvertical-align: inherit;\\t/** For IE */\\n}\\n\\n.cke_reset_all textarea\\n{\\n\\twhite-space: pre-wrap;\\n}\\n\\n.cke_reset_all textarea,\\n.cke_reset_all input[type=\\\"text\\\"],\\n.cke_reset_all input[type=\\\"password\\\"]\\n{\\n\\tcursor: text;\\n}\\n\\n.cke_reset_all textarea[disabled],\\n.cke_reset_all input[type=\\\"text\\\"][disabled],\\n.cke_reset_all input[type=\\\"password\\\"][disabled]\\n{\\n\\tcursor: default;\\n}\\n\\n.cke_reset_all fieldset\\n{\\n\\tpadding: 10px;\\n\\tborder: 2px groove #E0DFE3;\\n}\\n\\n.cke_reset_all select\\n{\\n\\tbox-sizing: border-box;\\n}\\n\\n.cke_reset_all table\\n{\\n\\ttable-layout: auto;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/reset.css\n ** module id = 310\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\nmainui.css (part of editor.css)\\n=================================\\n\\nThis file styles the basic structure of the CKEditor user interface - the box\\nthat holds everything.\\n\\nCKEditor offers two main editing modes. The main UI blocks that compose these\\nmodes are:\\n\\n\\tFor \\\"Theme UI\\\" mode, the one most generally used:\\n\\n\\t+-- .cke_chrome ----------------------+\\n\\t|+-- .cke_inner ---------------------+|\\n\\t|| +-- .cke_top -------------------+ ||\\n\\t|| |                               | ||\\n\\t|| +-------------------------------+ ||\\n\\t|| +-- .cke_contents --------------+ ||\\n\\t|| |                               | ||\\n\\t|| +-------------------------------+ ||\\n\\t|| +-- .cke_bottom ----------------+ ||\\n\\t|| |                               | ||\\n\\t|| +-------------------------------+ ||\\n\\t|+-----------------------------------+|\\n\\t+-------------------------------------+\\n\\n\\tFor \\\"Inline Editing\\\" mode:\\n\\n\\t+-- .cke_chrome .cke_float------------+\\n\\t|+-- .cke_inner ---------------------+|\\n\\t|| +-- .cke_top -------------------+ ||\\n\\t|| |                               | ||\\n\\t|| +-------------------------------+ ||\\n\\t|+-----------------------------------+|\\n\\t+-------------------------------------+\\n\\nSpecial outer level classes used in this file:\\n\\n\\t.cke_hc: Available when the editor is rendered on \\\"High Contrast\\\".\\n\\n*/\\n\\n/* The outer boundary of the interface. */\\n.cke_chrome\\n{\\n\\t/* This is <span>, so transform it into a block.*/\\n\\tdisplay: block;\\n\\tborder: 1px solid #b6b6b6;\\n\\tpadding: 0;\\n\\n\\tbox-shadow: 0 0 3px rgba(0,0,0,.15);\\n}\\n\\n/* The inner boundary of the interface. */\\n.cke_inner\\n{\\n\\t/* This is <span>, so transform it into a block.*/\\n\\tdisplay: block;\\n\\n\\t-webkit-touch-callout: none;\\n\\n\\tbackground: #fff;\\n\\tpadding: 0;\\n}\\n\\n/* Added to the outer boundary of the UI when in inline editing,\\n   when the UI is floating. */\\n.cke_float\\n{\\n\\t/* Make white the space between the outer and the inner borders. */\\n\\tborder: none;\\n}\\n\\n.cke_float .cke_inner\\n{\\n\\t/* As we don't have blocks following top (toolbar) we suppress the padding\\n\\t   as the toolbar defines its own margin. */\\n\\tpadding-bottom: 0;\\n}\\n\\n/* Make the main spaces enlarge to hold potentially floated content. */\\n.cke_top,\\n.cke_contents,\\n.cke_bottom\\n{\\n\\t/* These are <span>s, so transform them into blocks.*/\\n\\tdisplay: block;\\n\\n\\t/* Ideally this should be \\\"auto\\\", but it shows scrollbars in IE7. */\\n\\toverflow: hidden;\\n}\\n\\n.cke_top\\n{\\n\\t/*border: 1px solid #b2b2b2;*/\\n\\tborder-bottom: 1px solid #b6b6b6;\\n\\tpadding: 6px 8px 2px;\\n\\n\\t/* Allow breaking toolbars when in a narrow editor. (#9947) */\\n\\twhite-space: normal;\\n\\n\\tbox-shadow: 0 1px 0 #fff inset;\\n\\n\\tbackground: #cfd1cf;\\n\\tbackground-image: linear-gradient(to bottom, #f5f5f5, #cfd1cf);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f5f5f5', endColorstr='#cfd1cf');\\n}\\n\\n.cke_float .cke_top\\n{\\n\\tborder: 1px solid #b6b6b6;\\n\\tborder-bottom-color: #999;\\n}\\n\\n.cke_bottom\\n{\\n\\tpadding: 6px 8px 2px;\\n\\tposition: relative;\\n\\n\\tborder-top: 1px solid #bfbfbf;\\n\\n\\tbox-shadow: 0 1px 0 #fff inset;\\n\\n\\tbackground: #cfd1cf;\\n\\tbackground-image: linear-gradient(to bottom, #ebebeb, #cfd1cf);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#ebebeb', endColorstr='#cfd1cf');\\n}\\n\\n/* On iOS we need to manually enable scrolling in the contents block. (#9945) */\\n.cke_browser_ios .cke_contents\\n{\\n    overflow-y: auto;\\n    -webkit-overflow-scrolling: touch;\\n}\\n\\n/* The resizer is the small UI element that is rendered at the bottom right\\n   part of the editor. It makes is possible to resize the editor UI. */\\n.cke_resizer\\n{\\n\\t/* To avoid using images for the resizer, we create a small triangle,\\n\\t   using some CSS magic. */\\n\\twidth: 0;\\n\\theight: 0;\\n\\toverflow: hidden;\\n\\twidth: 0;\\n\\theight: 0;\\n\\toverflow: hidden;\\n\\tborder-width: 10px 10px 0 0;\\n\\tborder-color: transparent #666 transparent transparent;\\n\\tborder-style: dashed solid dashed dashed;\\n\\n\\tfont-size: 0;\\n\\tvertical-align: bottom;\\n\\n\\tmargin-top: 6px;\\n\\n\\t/* \\tA margin in case of no other element in the same container\\n\\t\\tto keep a distance to the bottom edge. */\\n\\tmargin-bottom: 2px;\\n\\n\\tbox-shadow: 0 1px 0 rgba(255,255,255,.3);\\n}\\n\\n.cke_hc .cke_resizer\\n{\\n\\tfont-size: 15px;\\n\\twidth: auto;\\n\\theight: auto;\\n\\tborder-width: 0;\\n}\\n\\n.cke_resizer_ltr\\n{\\n\\tcursor: se-resize;\\n\\n\\tfloat: right;\\n\\tmargin-right: -4px;\\n}\\n\\n/* This class is added in RTL mode. This is a special case for the resizer\\n   (usually the .cke_rtl class is used), because it may not necessarily be in\\n   RTL mode if the main UI is RTL. It depends instead on the context where the\\n   editor is inserted on. */\\n.cke_resizer_rtl\\n{\\n\\tborder-width: 10px 0 0 10px;\\n\\tborder-color: transparent transparent transparent #A5A5A5;\\n\\tborder-style: dashed dashed dashed solid;\\n\\n\\tcursor: sw-resize;\\n\\n\\tfloat: left;\\n\\tmargin-left: -4px;\\n\\tright: auto;\\n}\\n\\n/* The editing area (where users type) can be rendered as an editable <div>\\n   element (e.g. divarea plugin). In that case, this is the class applied to\\n   that element. */\\n.cke_wysiwyg_div\\n{\\n\\tdisplay: block;\\n\\theight: 100%;\\n\\toverflow: auto;\\n\\tpadding: 0 8px;\\n\\toutline-style: none;\\n\\n\\tbox-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/mainui.css\n ** module id = 311\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\npanel.css (part of editor.css)\\n================================\\n\\nPanels are floating elements that can hold different types of contents.\\nThe following are common uses of it:\\n\\n\\t- The element that toolbar combos display when opening them.\\n\\t- The context menu.\\n\\t- The list of items displayed by \\\"menu buttons\\\" (e.g. scayt).\\n\\t- The panel shown when opening \\\"panel buttons\\\" (e.g. color buttons).\\n\\nPanel contents are wrapped into an iframe, so it is possible to have additional\\nCSS loaded inside them (e.g. to have more accurate preview on the styles combo).\\n\\nThe following is a visual representation of the outer elements of a panel:\\n\\n+-- .cke_panel(*) ---------------------+\\n| +-- IFRAME.cke_panel_frame --------+ |\\n| | +-- HTML.cke_panel_container --+ | |\\n| | | +-- .cke_panel_block ------+ | | |\\n| | | |                          | | | |\\n| | | |     (contents here)      | | | |\\n| | | |                          | | | |\\n| | | +--------------------------+ | | |\\n| | +------------------------------+ | |\\n| +----------------------------------+ |\\n+--------------------------------------+\\n\\n(*) All kinds of panel share the above structure. Menu panels adds the\\n    .cke_menu_panel class to the outer element, while toolbar combos add the\\n\\t.cke_combopanel class.\\n\\nThis file also defines styles for panel lists (used by combos). For menu-like\\npanel contents and color panels check menu.css and colorpanel.css.\\n*/\\n\\n/* The box that holds an IFRAME. It's inserted into a host document and positioned\\n   absolutely by the application. It floats above the host document/editor. */\\n.cke_panel\\n{\\n\\t/* Restore the loading hide */\\n\\tvisibility: visible;\\n    width: 120px;\\n   \\theight: 100px;\\n   \\toverflow: hidden;\\n\\n\\tbackground-color: #fff;\\n    border: 1px solid #b6b6b6;\\n    border-bottom-color: #999;\\n\\n   \\tborder-radius: 3px;\\n\\n    box-shadow: 0 0 3px rgba(0,0,0,.15);\\n}\\n\\n/* This class represents panels which are used as context menus. */\\n.cke_menu_panel\\n{\\n\\tpadding: 0;\\n\\tmargin: 0;\\n}\\n\\n/* This class represents panels which are used by rich combos. */\\n.cke_combopanel\\n{\\n    width: 150px;\\n    height: 170px;\\n}\\n\\n/* The IFRAME the panel is wrapped into. */\\n.cke_panel_frame\\n{\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tfont-size: 12px;\\n\\n\\toverflow: auto;\\n\\toverflow-x: hidden;\\n}\\n\\n/* The HTML document which is a direct descendant of the IFRAME */\\n.cke_panel_container\\n{\\n\\toverflow-y: auto;\\n\\toverflow-x: hidden;\\n}\\n\\n/*\\nHere we start the definition of panel lists (e.g. combo panels). The following\\nis its visual representation:\\n\\n+-- .cke_panel_block -----------------+\\n| +-- .cke_panel_grouptitle --------+ |\\n| |                                 | |\\n| +---------------------------------+ |\\n| +-- .cke_panel_list --------------+ |\\n| | +-- .cke_panel_listItem ------+ | |\\n| | | +-- a --------------------+ | | |\\n| | | | +-- span -------------+ | | | |\\n| | | | |                     | | | | |\\n| | | | +---------------------+ | | | |\\n| | | +-------------------------+ | | |\\n| | +-----------------------------+ | |\\n| | +-- .cke_panel_listItem ------+ | |\\n| | | +-- a --------------------+ | | |\\n| | | | +-- span -------------+ | | | |\\n| | | | |                     | | | | |\\n| | | | +---------------------+ | | | |\\n| | | +-------------------------+ | | |\\n| | +-----------------------------+ | |\\n| | ...                             | |\\n| +---------------------------------+ |\\n+-------------------------------------+\\n*/\\n\\n\\n/* The list of panel items. */\\n.cke_panel_list\\n{\\n\\tlist-style-type: none;\\n\\tmargin: 3px;\\n\\tpadding: 0;\\n\\twhite-space: nowrap;\\n}\\n\\n/* The item of .cke_panel_list */\\n.cke_panel_listItem\\n{\\n\\tmargin: 0;\\n    padding-bottom: 1px;\\n}\\n\\n/* The child of .cke_panel_listItem. These elements contain spans which are\\n   to display a real name of the property which is visible for an end-user. */\\n.cke_panel_listItem a\\n{\\n\\tpadding: 3px 4px;\\n\\tdisplay: block;\\n\\tborder: 1px solid #fff;\\n\\tcolor: inherit !important;\\n\\ttext-decoration: none;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\n    border-radius: 2px;\\n}\\n\\n/* IE6 */\\n* html .cke_panel_listItem a\\n{\\n\\twidth : 100%;\\n\\n\\t/* IE is not able to inherit the color, so we must force it to black */\\n\\tcolor: #000;\\n}\\n\\n/* IE7 */\\n*:first-child+html .cke_panel_listItem a\\n{\\n\\t/* IE is not able to inherit the color, so we must force it to black */\\n\\tcolor: #000;\\n}\\n\\n.cke_panel_listItem.cke_selected a\\n{\\n\\tborder: 1px solid #dedede;\\n\\tbackground-color: #f2f2f2;\\n\\n    box-shadow: 0 0 2px rgba(0,0,0,.1) inset;\\n}\\n\\n.cke_panel_listItem a:hover,\\n.cke_panel_listItem a:focus,\\n.cke_panel_listItem a:active\\n{\\n\\tborder-color: #dedede;\\n\\tbackground-color: #f2f2f2;\\n\\n    box-shadow: 0 0 2px rgba(0,0,0,.1) inset;\\n}\\n\\n.cke_hc .cke_panel_listItem a\\n{\\n\\tborder-style: none;\\n}\\n\\n.cke_hc .cke_panel_listItem a:hover,\\n.cke_hc .cke_panel_listItem a:focus,\\n.cke_hc .cke_panel_listItem a:active\\n{\\n\\tborder: 2px solid;\\n\\tpadding: 1px 2px;\\n}\\n\\n/* The title of the entire panel which is visible on top of the list. */\\n.cke_panel_grouptitle\\n{\\n\\tcursor: default;\\n\\tfont-size: 11px;\\n\\tfont-weight: bold;\\n\\twhite-space: nowrap;\\n\\tmargin: 0;\\n\\tpadding: 4px 6px;\\n\\n    color: #474747;\\n    text-shadow: 0 1px 0 rgba(255,255,255,.75);\\n    border-bottom: 1px solid #b6b6b6;\\n\\n    border-radius: 2px 2px 0 0;\\n\\n    box-shadow: 0 1px 0 #fff inset;\\n\\n    background: #cfd1cf;\\n    background-image: linear-gradient(to bottom, #f5f5f5, #cfd1cf);\\n    filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f5f5f5', endColorstr='#cfd1cf');\\n}\\n\\n/* The following styles set defaults of the elements used by the Paragraph\\n   Format panel. */\\n.cke_panel_listItem p,\\n.cke_panel_listItem h1,\\n.cke_panel_listItem h2,\\n.cke_panel_listItem h3,\\n.cke_panel_listItem h4,\\n.cke_panel_listItem h5,\\n.cke_panel_listItem h6,\\n.cke_panel_listItem pre\\n{\\n\\tmargin-top: 0px;\\n\\tmargin-bottom: 0px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/panel.css\n ** module id = 312\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\ncolorpanel.css (part of editor.css)\\n=====================================\\n\\nThe color panel is related to the contents part of the panels that are\\ndisplayed when clicking the color buttons of the toolbar. See panels.css for\\nstyles related to the outer part of panels.\\n\\nThe following is the visual representation of the color panel contents:\\n\\n+-- .cke_panel_block.cke_colorblock --+\\n| +-- a.cke_colorauto --------------+ |\\n| |                                 | |\\n| |         AUTOMATIC COLOR         | |\\n| |                                 | |\\n| +---------------------------------+ |\\n| +-- table ------------------------+ |\\n| |                                 | |\\n| |          COLOR PALETTE          | |\\n| |                                 | |\\n| |---------------------------------| |\\n| |          \\\"More Colors\\\"          | |\\n| +---------------------------------+ |\\n+-------------------------------------+\\n\\nThe AUTOMATIC COLOR section is an <a> containing a table with two cells with\\nthe following contents:\\n\\n+-- TD -----------------+ +-- TD -----------------+\\n| +-- .cke_colorbox --+ | |                       |\\n| |                   | | |      \\\"Automatic\\\"      |\\n| +-------------------+ | |                       |\\n+-----------------------+ +-----------------------+\\n\\nThe COLOR PALETTE section instead is a table with a variable number of cells\\n(by default 8). Each cell represents a color box, with the following structure:\\n\\n+-- A.cke_colorbox ---------+\\n| +-- SPAN.cke_colorbox --+ |\\n| |                       | |\\n| +-----------------------+ |\\n+---------------------------+\\n*/\\n\\n/* The container of the color palette. */\\n.cke_colorblock\\n{\\n\\tpadding: 3px;\\n\\tfont-size: 11px;\\n\\tfont-family: 'Microsoft Sans Serif', Tahoma, Arial, Verdana, Sans-Serif;\\n}\\n\\n.cke_colorblock,\\n.cke_colorblock a\\n{\\n\\ttext-decoration: none;\\n\\tcolor: #000;\\n}\\n\\n/* The box which is to represent a single color on the color palette.\\n   It is a small, square-shaped element which can be selected from the palette. */\\nspan.cke_colorbox\\n{\\n\\twidth: 10px;\\n\\theight: 10px;\\n\\tborder: #808080 1px solid;\\n\\tfloat: left;\\n}\\n\\n.cke_rtl span.cke_colorbox\\n{\\n\\tfloat: right;\\n}\\n\\n/* The wrapper of the span.cke_colorbox. It provides an extra border and padding. */\\na.cke_colorbox\\n{\\n\\tborder: #fff 1px solid;\\n\\tpadding: 2px;\\n\\tfloat: left;\\n\\twidth: 12px;\\n\\theight: 12px;\\n}\\n\\n.cke_rtl a.cke_colorbox\\n{\\n\\tfloat: right;\\n}\\n\\n/* Different states of the a.cke_colorbox wrapper. */\\na:hover.cke_colorbox,\\na:focus.cke_colorbox,\\na:active.cke_colorbox\\n{\\n\\tborder: #b6b6b6 1px solid;\\n\\tbackground-color: #e5e5e5;\\n}\\n\\n/* Buttons which are visible at the top/bottom of the color palette:\\n   - cke_colorauto (TOP) applies the automatic color.\\n   - cke_colormore (BOTTOM) executes the color dialog.\\n*/\\na.cke_colorauto,\\na.cke_colormore\\n{\\n\\tborder: #fff 1px solid;\\n\\tpadding: 2px;\\n\\tdisplay: block;\\n\\tcursor: pointer;\\n}\\n\\n/* Different states of cke_colorauto/cke_colormore buttons. */\\na:hover.cke_colorauto,\\na:hover.cke_colormore,\\na:focus.cke_colorauto,\\na:focus.cke_colormore,\\na:active.cke_colorauto,\\na:active.cke_colormore\\n{\\n\\tborder: #b6b6b6 1px solid;\\n\\tbackground-color: #e5e5e5;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/colorpanel.css\n ** module id = 313\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\ntoolbar.css (part of editor.css)\\n==================================\\n\\nThis files styles the CKEditor toolbar and its buttons. For toolbar combo\\nstyles, check richcombo.css.\\n\\nThe toolbar is rendered as a big container (called toolbox), which contains\\nsmaller \\\"toolbars\\\". Each toolbar represents a group of items that cannot be\\nseparated. The following is the visual representation of the toolbox.\\n\\n+-- .cke_toolbox ----------------------------------------------------------+\\n| +-- .cke_toolbar --+ +-- .cke_toolbar --+ ... +-- .cke_toolbar_break --+ |\\n| |                  | |                  |     |                        | |\\n| +------------------+ +------------------+     +------------------------+ |\\n| +-- .cke_toolbar --+ +-- .cke_toolbar --+ ...                            |\\n| |                  | |                  |                                |\\n| +------------------+ +------------------+                                |\\n+--------------------------------------------------------------------------+\\n\\nThe following instead is the visual representation of a single toolbar:\\n\\n+-- .cke_toolbar ----------------------------------------------------------------+\\n| +-- .cke_toolbar_start --+ +-- .cke_toolgroup (*) --+ +-- .cke_toolbar_end --+ |\\n| |                        | |                        | |                      | |\\n| +------------------------+ +------------------------+ +----------------------+ |\\n+--------------------------------------------------------------------------------+\\n(*) .cke_toolgroup is available only when the toolbar items can be grouped\\n    (buttons). If the items can't be group (combos), this box is not available\\n\\tand the items are rendered straight in that place.\\n\\nThis file also styles toolbar buttons, which are rendered inside the above\\n.cke_toolgroup containers. This is the visual representation of a button:\\n\\n+-- .cke_button -------------------------------------+\\n| +-- .cke_button_icon --+ +-- .cke_button_label --+ |\\n| |                      | |                       | |\\n| +----------------------+ +-----------------------+ |\\n+----------------------------------------------------+\\n\\nSpecial outer level classes used in this file:\\n\\n\\t.cke_hc: Available when the editor is rendered on \\\"High Contrast\\\".\\n\\t.cke_rtl: Available when the editor UI is on RTL.\\n*/\\n\\n/* The box that holds each toolbar. */\\n.cke_toolbar\\n{\\n\\tfloat: left;\\n}\\n\\n.cke_rtl .cke_toolbar\\n{\\n\\tfloat: right;\\n}\\n\\n/* The box that holds buttons. */\\n.cke_toolgroup\\n{\\n\\tfloat: left;\\n\\tmargin: 0 6px 5px 0;\\n\\tborder: 1px solid #a6a6a6;\\n\\tborder-bottom-color: #979797;\\n\\n\\tborder-radius: 3px;\\n\\n\\tbox-shadow: 0 1px 0 rgba(255,255,255,.5), 0 0 2px rgba(255,255,255,.15) inset, 0 1px 0 rgba(255,255,255,.15) inset;\\n\\n\\tbackground: #e4e4e4;\\n\\tbackground-image: linear-gradient(to bottom, #ffffff, #e4e4e4);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#ffffff', endColorstr='#e4e4e4');\\n}\\n\\n.cke_hc .cke_toolgroup\\n{\\n\\tborder: 0;\\n\\tmargin-right: 10px;\\n\\tmargin-bottom: 10px;\\n}\\n\\n.cke_rtl .cke_toolgroup\\n{\\n\\tfloat: right;\\n\\tmargin-left: 6px;\\n\\tmargin-right: 0;\\n}\\n\\n/* A toolbar button . */\\na.cke_button\\n{\\n\\tdisplay: inline-block;\\n\\theight: 18px;\\n\\tpadding: 4px 6px;\\n\\toutline: none;\\n\\tcursor: default;\\n\\tfloat: left;\\n\\tborder: 0;\\n}\\n\\n.cke_ltr .cke_button:last-child,\\n.cke_rtl .cke_button:first-child\\n{\\n\\t/* Don't distort parent's rounded border. */\\n\\tborder-radius: 0 2px 2px 0;\\n}\\n\\n.cke_ltr .cke_button:first-child,\\n.cke_rtl .cke_button:last-child\\n{\\n\\t/* Don't distort parent's rounded border. */\\n\\tborder-radius: 2px 0 0 2px;\\n}\\n\\n.cke_rtl .cke_button\\n{\\n\\tfloat: right;\\n}\\n\\n.cke_hc .cke_button\\n{\\n\\tborder: 1px solid black;\\n\\n\\t/* Compensate the added border */\\n\\tpadding: 3px 5px;\\n\\tmargin: -2px 4px 0 -2px;\\n}\\n\\n/* This class is applied to the button when it is \\\"active\\\" (pushed).\\n   This style indicates that the feature associated with the button is active\\n   i.e. currently writing in bold or when spell checking is enabled. */\\na.cke_button_on\\n{\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,.6) inset, 0 1px 0 rgba(0,0,0,.2);\\n\\n\\tbackground: #b5b5b5;\\n\\tbackground-image: linear-gradient(to bottom, #aaa, #cacaca);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#aaaaaa', endColorstr='#cacaca');\\n}\\n\\n.cke_hc .cke_button_on,\\n.cke_hc a.cke_button_off:hover,\\n.cke_hc a.cke_button_off:focus,\\n.cke_hc a.cke_button_off:active,\\n.cke_hc a.cke_button_disabled:hover,\\n.cke_hc a.cke_button_disabled:focus,\\n.cke_hc a.cke_button_disabled:active\\n{\\n\\tborder-width: 3px;\\n\\n\\t/* Compensate the border change */\\n\\tpadding: 1px 3px;\\n}\\n\\n/* This class is applied to the button when the feature associated with the\\n   button cannot be used (grayed-out).\\n   i.e. paste button remains disabled when there is nothing in the clipboard to\\n   be pasted. */\\n.cke_button_disabled .cke_button_icon\\n{\\n\\topacity: 0.3;\\n}\\n\\n.cke_hc .cke_button_disabled\\n{\\n\\topacity: 0.5;\\n}\\n\\na.cke_button_on:hover,\\na.cke_button_on:focus,\\na.cke_button_on:active\\n{\\n\\tbox-shadow: 0 1px 6px rgba(0,0,0,.7) inset, 0 1px 0 rgba(0,0,0,.2);\\n}\\n\\na.cke_button_off:hover,\\na.cke_button_off:focus,\\na.cke_button_off:active,\\na.cke_button_disabled:hover,\\na.cke_button_disabled:focus,\\na.cke_button_disabled:active\\n{\\n\\tbox-shadow: 0 0 1px rgba(0,0,0,.3) inset;\\n\\n\\tbackground: #ccc;\\n\\tbackground-image: linear-gradient(to bottom, #f2f2f2, #ccc);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f2f2f2', endColorstr='#cccccc');\\n}\\n\\n/* The icon which is a visual representation of the button. */\\n.cke_button_icon\\n{\\n\\tcursor: inherit;\\n\\tbackground-repeat: no-repeat;\\n\\tmargin-top: 1px;\\n\\twidth: 16px;\\n\\theight: 16px;\\n\\tfloat: left;\\n\\tdisplay: inline-block;\\n}\\n\\n.cke_rtl .cke_button_icon\\n{\\n\\tfloat: right;\\n}\\n\\n.cke_hc .cke_button_icon\\n{\\n\\tdisplay: none;\\n}\\n\\n/* The label of the button that stores the name of the feature. By default,\\n   labels are invisible. They can be revealed on demand though. */\\n.cke_button_label\\n{\\n\\tdisplay: none;\\n\\tpadding-left: 3px;\\n\\tmargin-top: 1px;\\n\\tline-height: 17px;\\n\\tvertical-align: middle;\\n\\tfloat: left;\\n\\tcursor: default;\\n\\tcolor: #474747;\\n\\ttext-shadow: 0 1px 0 rgba(255,255,255,.5);\\n}\\n\\n.cke_rtl .cke_button_label\\n{\\n\\tpadding-right: 3px;\\n\\tpadding-left: 0;\\n\\tfloat: right;\\n}\\n\\n.cke_hc .cke_button_label\\n{\\n\\tpadding: 0;\\n\\tdisplay: inline-block;\\n\\tfont-size: 12px;\\n}\\n\\n/* The small arrow available on buttons that can be expanded\\n   (e.g. the color buttons). */\\n.cke_button_arrow\\n{\\n\\t/* Arrow in CSS */\\n\\tdisplay: inline-block;\\n\\tmargin: 8px 0 0 1px;\\n\\twidth: 0;\\n\\theight: 0;\\n\\tcursor: default;\\n\\tvertical-align: top;\\n\\tborder-left: 3px solid transparent;\\n\\tborder-right: 3px solid transparent;\\n\\tborder-top: 3px solid #474747;\\n}\\n\\n.cke_rtl .cke_button_arrow\\n{\\n\\tmargin-right: 5px;\\n\\tmargin-left: 0;\\n}\\n\\n.cke_hc .cke_button_arrow\\n{\\n\\tfont-size: 10px;\\n\\tmargin: 3px -2px 0 3px;\\n\\twidth: auto;\\n\\tborder: 0;\\n}\\n\\n/* The vertical separator which is used within a single toolbar to split\\n   buttons into sub-groups. */\\n.cke_toolbar_separator\\n{\\n\\tfloat: left;\\n\\tbackground-color: #c0c0c0;\\n\\tbackground-color: rgba(0,0,0,.2);\\n\\tmargin: 5px 2px 0;\\n\\theight: 18px;\\n\\twidth: 1px;\\n\\n\\tbox-shadow: 1px 0 1px rgba(255,255,255,.5);\\n}\\n\\n.cke_rtl .cke_toolbar_separator\\n{\\n\\tfloat: right;\\n\\n\\tbox-shadow: -1px 0 1px rgba(255,255,255,.1);\\n}\\n\\n.cke_hc .cke_toolbar_separator\\n{\\n\\twidth: 0;\\n\\tborder-left: 1px solid;\\n\\tmargin: 1px 5px 0 0px;\\n}\\n\\n/* The dummy element that breaks toolbars.\\n   Once it is placed, the very next toolbar is moved to the new row. */\\n.cke_toolbar_break\\n{\\n\\tdisplay: block;\\n\\tclear: left;\\n}\\n\\n.cke_rtl .cke_toolbar_break\\n{\\n\\tclear: right;\\n}\\n\\n/* The button, which when clicked hides (collapses) all the toolbars. */\\na.cke_toolbox_collapser\\n{\\n\\twidth: 12px;\\n\\theight: 11px;\\n\\tfloat: right;\\n\\tmargin: 11px 0 0;\\n\\tfont-size: 0;\\n\\tcursor: default;\\n\\ttext-align: center;\\n\\n\\tborder: 1px solid #a6a6a6;\\n\\tborder-bottom-color: #979797;\\n\\n\\tborder-radius: 3px;\\n\\n\\tbox-shadow: 0 1px 0 rgba(255,255,255,.5), 0 0 2px rgba(255,255,255,.15) inset, 0 1px 0 rgba(255,255,255,.15) inset;\\n\\n\\tbackground: #e4e4e4;\\n\\tbackground-image: linear-gradient(to bottom, #ffffff, #e4e4e4);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#ffffff', endColorstr='#e4e4e4');\\n}\\n\\n.cke_toolbox_collapser:hover\\n{\\n\\tbackground: #ccc;\\n\\tbackground-image: linear-gradient(to bottom, #f2f2f2, #ccc);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f2f2f2', endColorstr='#cccccc');\\n}\\n\\n.cke_toolbox_collapser.cke_toolbox_collapser_min\\n{\\n\\tmargin: 0 2px 4px;\\n}\\n\\n.cke_rtl .cke_toolbox_collapser\\n{\\n\\tfloat: left;\\n}\\n\\n/* The CSS arrow, which belongs to the toolbar collapser. */\\n.cke_toolbox_collapser .cke_arrow\\n{\\n\\tdisplay: inline-block;\\n\\n\\t/* Pure CSS Arrow */\\n\\theight: 0;\\n\\twidth: 0;\\n\\tfont-size: 0;\\n\\tmargin-top: 1px;\\n\\tborder-left: 3px solid transparent;\\n\\tborder-right: 3px solid transparent;\\n\\tborder-bottom: 3px solid #474747;\\n\\tborder-top: 3px solid transparent;\\n}\\n\\n.cke_toolbox_collapser.cke_toolbox_collapser_min .cke_arrow\\n{\\n\\tmargin-top: 4px;\\n\\tborder-bottom-color: transparent;\\n\\tborder-top-color: #474747;\\n}\\n\\n.cke_hc .cke_toolbox_collapser .cke_arrow\\n{\\n\\tfont-size: 8px;\\n\\twidth: auto;\\n\\tborder: 0;\\n\\tmargin-top: 0;\\n\\tmargin-right: 2px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/toolbar.css\n ** module id = 314\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\nmenu.css (part of editor.css)\\n===============================\\n\\nThis file styles menus used in the editor UI. These menus are the list of\\noptions available inside some \\\"floating panels\\\", like menu buttons of the\\ntoolbar or the context menu.\\n\\nNote that the menu itself doesn't include the floating element that holds it.\\nThat element is styles in the panel.css file.\\n\\nThe following is a visual representation of the main elements of a menu:\\n\\n+-- .cke_menu -----------------+\\n| +-- .cke_menuitem  --------+ |\\n| | +-- .cke_menubutton ---+ | |\\n| | |                      | | |\\n| | +----------------------+ | |\\n| +--------------------------+ |\\n| +-- .cke_menuseparator ----+ |\\n| ...                          |\\n+------------------------------+\\n\\nThis is the .cke_menubutton structure:\\n(Note that the menu button icon shares with toolbar button the common class .cke_button_icon to achieve the same outlook.)\\n\\n+-- .cke_menubutton -------------------------------------------------------------------------+\\n| +-- .cke_menubutton_inner ---------------------------------------------------------------+ |\\n| | +-- .cke_menubutton_icon ---+ +-- .cke_menubutton_label --+ +-- .cke_cke_menuarrow --+ | |\\n| | | +-- .cke_button_icon ---+ | |                           | |                        | | |\\n| | | |                       | | |                           | |                        | | |\\n| | | +-----------------------+ | |                           | |                        | | |\\n| | +---------------------------+ +---------------------------+ +------------------------+ | |\\n| +----------------------------------------------------------------------------------------+ |\\n+--------------------------------------------------------------------------------------------+\\n\\nSpecial outer level classes used in this file:\\n\\n\\t.cke_hc: Available when the editor is rendered on \\\"High Contrast\\\".\\n\\t.cke_rtl: Available when the editor UI is on RTL.\\n*/\\n\\n/* .cke_menuitem is the element that holds the entire structure of each of the\\n   menu items. */\\n\\n.cke_menubutton\\n{\\n\\t/* The \\\"button\\\" inside a menu item is a <a> element.\\n\\t   Transforms it into a block. */\\n\\tdisplay: block;\\n}\\n\\n.cke_menuitem span\\n{\\n\\t/* Avoid the text selection cursor inside menu items. */\\n\\tcursor: default;\\n}\\n\\n.cke_menubutton:hover,\\n.cke_menubutton:focus,\\n.cke_menubutton:active\\n{\\n\\tbackground-color: #D3D3D3;\\n\\tdisplay: block;\\n}\\n\\n.cke_hc .cke_menubutton\\n{\\n\\tpadding: 2px;\\n}\\n\\n.cke_hc .cke_menubutton:hover,\\n.cke_hc .cke_menubutton:focus,\\n.cke_hc .cke_menubutton:active\\n{\\n\\tborder: 2px solid;\\n\\tpadding: 0;\\n}\\n\\n.cke_menubutton_inner {\\n\\tdisplay: table-row;\\n}\\n\\n.cke_menubutton_icon,\\n.cke_menubutton_label,\\n.cke_menuarrow {\\n\\tdisplay: table-cell;\\n}\\n\\n/* The menu item icon. */\\n.cke_menubutton_icon\\n{\\n\\tbackground-color: #D7D8D7;\\n\\topacity: 0.70; /* Safari, Opera and Mozilla */\\n\\tfilter: alpha(opacity=70); /* IE */\\n\\tpadding: 4px;\\n}\\n\\n.cke_hc .cke_menubutton_icon\\n{\\n\\theight: 16px;\\n\\twidth: 0;\\n\\tpadding: 4px 0;\\n}\\n\\n.cke_menubutton:hover .cke_menubutton_icon,\\n.cke_menubutton:focus .cke_menubutton_icon,\\n.cke_menubutton:active .cke_menubutton_icon\\n{\\n\\tbackground-color: #D0D2D0;\\n}\\n\\n.cke_menubutton_disabled:hover .cke_menubutton_icon,\\n.cke_menubutton_disabled:focus .cke_menubutton_icon,\\n.cke_menubutton_disabled:active .cke_menubutton_icon\\n{\\n\\t/* The icon will get opacity as well when hovered. */\\n\\topacity: 0.3;\\n\\tfilter: alpha(opacity=30);\\n}\\n\\n/* The textual part of each menu item. */\\n.cke_menubutton_label\\n{\\n\\tpadding: 0 5px;\\n\\tbackground-color: transparent;\\n\\twidth: 100%;\\n\\tvertical-align: middle;\\n}\\n\\n.cke_menubutton_disabled .cke_menubutton_label\\n{\\n\\t/* Greyed label text indicates a disabled menu item. */\\n\\topacity: 0.3;\\n\\tfilter: alpha(opacity=30);\\n}\\n\\n.cke_menubutton_on\\n{\\n\\tborder: 1px solid #dedede;\\n\\tbackground-color: #f2f2f2;\\n\\n\\tbox-shadow: 0 0 2px rgba(0,0,0,.1) inset;\\n}\\n\\n.cke_menubutton_on .cke_menubutton_icon\\n{\\n\\tpadding-right: 3px;\\n}\\n\\n.cke_menubutton:hover,\\n.cke_menubutton:focus,\\n.cke_menubutton:active\\n{\\n\\tbackground-color: #EFF0EF;\\n}\\n\\n.cke_panel_frame .cke_menubutton_label\\n{\\n\\tdisplay: none;\\n}\\n\\n/* The separator used to separate menu item groups. */\\n.cke_menuseparator\\n{\\n\\tbackground-color: #D3D3D3;\\n\\theight: 1px;\\n\\tfilter: alpha(opacity=70); /* IE */\\n\\topacity: 0.70; /* Safari, Opera and Mozilla */\\n}\\n\\n/* The small arrow shown for item with sub-menus. */\\n.cke_menuarrow\\n{\\n\\tbackground-image: url(\" + require(\"./images/arrow.png\") + \");\\n\\tbackground-position: 0 10px;\\n\\tbackground-repeat: no-repeat;\\n\\tpadding: 0 5px;\\n}\\n\\n.cke_rtl .cke_menuarrow\\n{\\n\\tbackground-position: 5px -13px;\\n\\tbackground-repeat: no-repeat;\\n}\\n\\n.cke_menuarrow span\\n{\\n\\tdisplay: none;\\n}\\n\\n.cke_hc .cke_menuarrow span\\n{\\n\\tvertical-align: middle;\\n\\tdisplay: inline;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/menu.css\n ** module id = 315\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAeBAMAAAD9Z3KNAAAAKlBMVEUAAAA5OTn///85OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTnrfVW9AAAADXRSTlMAAAAJDCotY2afotj2i0cZjwAAADdJREFUCNdj0DQUYtDdCsR3ioC4iUF3mxCDlqMQg6IgdkwyYJ7AwBB9gYH97AUGDiBmyAZilgUASlUOV46PUdQAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/arrow.png\n ** module id = 316\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\nrichcombo.css (part of editor.css)\\n=================================\\n\\nThis file holds the style set of the \\\"Rich Combo\\\" widget which is commonly used\\nin the toolbar. It doesn't, however, styles the panel that is displayed when\\nclicking on the combo, which is instead styled by panel.css.\\n\\nThe visual representation of a rich combo widget looks as follows:\\n\\n+-- .cke_combo----------------------------------------------------------------------+\\n| +-- .cke_combo_label --+ +-- .cke_combo_button ---------------------------------+ |\\n| |                      | | +-- .cke_combo_text --+ +-- .cke_combo_open -------+ | |\\n| |                      | | |                     | | +-- .cke_combo_arrow --+ | | |\\n| |                      | | |                     | | |                      | | | |\\n| |                      | | |                     | | +----------------------+ | | |\\n| |                      | | +---------------------+ +--------------------------+ | |\\n| +----------------------+ +------------------------------------------------------+ |\\n+-----------------------------------------------------------------------------------+\\n*/\\n\\n/* The box that hold the entire combo widget */\\n.cke_combo\\n{\\n\\tdisplay: inline-block;\\n\\tfloat: left;\\n}\\n\\n.cke_rtl .cke_combo\\n{\\n\\tfloat: right;\\n}\\n\\n.cke_hc .cke_combo\\n{\\n\\tmargin-top: -2px;\\n}\\n\\n/* The label of the combo widget. It is invisible by default, yet\\n   it's important for semantics and accessibility. */\\n.cke_combo_label\\n{\\n\\tdisplay: none;\\n\\tfloat: left;\\n\\tline-height: 26px;\\n\\tvertical-align: top;\\n\\tmargin-right: 5px;\\n}\\n\\n.cke_rtl .cke_combo_label\\n{\\n\\tfloat: right;\\n\\tmargin-left: 5px;\\n\\tmargin-right: 0;\\n}\\n\\n/* The container for combo text and arrow. */\\na.cke_combo_button\\n{\\n\\tcursor: default;\\n\\tdisplay: inline-block;\\n\\tfloat: left;\\n\\tmargin: 0 6px 5px 0;\\n\\n\\tborder: 1px solid #a6a6a6;\\n\\tborder-bottom-color: #979797;\\n\\n\\tborder-radius: 3px;\\n\\n\\tbox-shadow: 0 1px 0 rgba(255,255,255,.5), 0 0 2px rgba(255,255,255,.15) inset, 0 1px 0 rgba(255,255,255,.15) inset;\\n\\n\\tbackground: #e4e4e4;\\n\\tbackground-image: linear-gradient(to bottom, #ffffff, #e4e4e4);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#ffffff', endColorstr='#e4e4e4');\\n}\\n\\n/* Different states of the container. */\\n.cke_combo_off a.cke_combo_button:hover,\\n.cke_combo_off a.cke_combo_button:focus\\n{\\n\\tbackground: #ccc;\\n\\tbackground-image: linear-gradient(to bottom, #f2f2f2, #ccc);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f2f2f2', endColorstr='#cccccc');\\n\\n\\toutline: none;\\n}\\n\\n.cke_combo_off a.cke_combo_button:active,\\n.cke_combo_on a.cke_combo_button\\n{\\n\\tborder: 1px solid #777;\\n\\n\\tbox-shadow: 0 1px 0 rgba(255,255,255,.5), 0 1px 5px rgba(0,0,0,.6) inset;\\n\\n\\tbackground: #b5b5b5;\\n\\tbackground-image: linear-gradient(to bottom, #aaa, #cacaca);\\n\\tfilter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#aaaaaa', endColorstr='#cacaca');\\n}\\n\\n.cke_combo_on a.cke_combo_button:hover,\\n.cke_combo_on a.cke_combo_button:focus,\\n.cke_combo_on a.cke_combo_button:active\\n{\\n\\tbox-shadow: 0 1px 6px rgba(0,0,0,.7) inset, 0 1px 0 rgba(0,0,0,.2);\\n}\\n\\n.cke_rtl .cke_combo_button\\n{\\n\\tfloat: right;\\n\\tmargin-left: 5px;\\n\\tmargin-right: 0;\\n}\\n\\n.cke_hc a.cke_combo_button\\n{\\n\\tpadding: 3px;\\n}\\n\\n.cke_hc .cke_combo_on a.cke_combo_button,\\n.cke_hc .cke_combo_off a.cke_combo_button:hover,\\n.cke_hc .cke_combo_off a.cke_combo_button:focus,\\n.cke_hc .cke_combo_off a.cke_combo_button:active\\n{\\n\\tborder-width: 3px;\\n\\tpadding: 1px;\\n}\\n\\n/* The label that shows the current value of the rich combo.\\n   By default, it holds the name of the property.\\n   See: .cke_combo_inlinelabel */\\n.cke_combo_text\\n{\\n\\tline-height: 26px;\\n\\tpadding-left: 10px;\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n\\tfloat: left;\\n\\tcursor: default;\\n\\tcolor: #474747;\\n\\ttext-shadow: 0 1px 0 rgba(255,255,255,.5);\\n    width: 60px;\\n}\\n\\n.cke_rtl .cke_combo_text\\n{\\n\\tfloat: right;\\n\\ttext-align: right;\\n\\tpadding-left: 0;\\n\\tpadding-right: 10px;\\n}\\n\\n.cke_hc .cke_combo_text\\n{\\n\\tline-height: 18px;\\n\\tfont-size: 12px;\\n}\\n\\n/* The handler which opens the panel of rich combo properties.\\n   It holds an arrow as a visual indicator. */\\n.cke_combo_open\\n{\\n\\tcursor: default;\\n\\tdisplay: inline-block;\\n\\tfont-size: 0;\\n\\theight: 19px;\\n\\tline-height: 17px;\\n\\tmargin: 1px 7px 1px;\\n\\twidth: 5px;\\n}\\n\\n.cke_hc .cke_combo_open\\n{\\n\\theight: 12px;\\n}\\n\\n/* The arrow which is displayed inside of the .cke_combo_open handler. */\\n.cke_combo_arrow\\n{\\n\\tcursor: default;\\n\\tmargin: 11px 0 0;\\n\\tfloat: left;\\n\\n\\t/* Pure CSS Arrow */\\n\\theight: 0;\\n\\twidth: 0;\\n\\tfont-size: 0;\\n\\tborder-left: 3px solid transparent;\\n\\tborder-right: 3px solid transparent;\\n\\tborder-top: 3px solid #474747;\\n}\\n\\n.cke_hc .cke_combo_arrow\\n{\\n\\tfont-size: 10px;\\n\\twidth: auto;\\n\\tborder: 0;\\n\\tmargin-top: 3px;\\n}\\n\\n/* Disabled combo button styles. */\\n.cke_combo_disabled .cke_combo_inlinelabel,\\n.cke_combo_disabled .cke_combo_open\\n{\\n\\topacity: 0.3;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/richcombo.css\n ** module id = 317\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/*\\nelementspath.css (part of editor.css)\\n=======================================\\n\\nThis file styles the \\\"Elements Path\\\", whith is the list of element names\\npresent at the the bottom bar of the CKEditor interface.\\n\\nThe following is a visual representation of its main elements:\\n\\n+-- .cke_path ---------------------------------------------------------------+\\n| +-- .cke_path_item ----+ +-- .cke_path_item ----+ +-- .cke_path_empty ---+ |\\n| |                      | |                      | |                      | |\\n| +----------------------+ +----------------------+ +----------------------+ |\\n+----------------------------------------------------------------------------+\\n*/\\n\\n/* The box that holds the entire elements path. */\\n.cke_path\\n{\\n\\tfloat: left;\\n\\tmargin: -2px 0 2px;\\n}\\n\\n/* Each item of the elements path. */\\na.cke_path_item,\\n/* Empty element available at the end of the elements path, to help us keeping\\n   the proper box size when the elements path is empty. */\\nspan.cke_path_empty\\n{\\n\\tdisplay: inline-block;\\n\\tfloat: left;\\n\\tpadding: 3px 4px;\\n\\tmargin-right: 2px;\\n\\tcursor: default;\\n\\ttext-decoration: none;\\n\\toutline: 0;\\n\\tborder: 0;\\n\\tcolor: #4c4c4c;\\n\\ttext-shadow: 0 1px 0 #fff;\\n\\tfont-weight: bold;\\n\\tfont-size: 11px;\\n}\\n\\n.cke_rtl .cke_path,\\n.cke_rtl .cke_path_item,\\n.cke_rtl .cke_path_empty\\n{\\n\\tfloat: right;\\n}\\n\\n/* The items are <a> elements, so we define its hover states here. */\\na.cke_path_item:hover,\\na.cke_path_item:focus,\\na.cke_path_item:active\\n{\\n\\tbackground-color: #bfbfbf;\\n\\tcolor: #333;\\n\\ttext-shadow: 0 1px 0 rgba(255,255,255,.5);\\n\\n\\tborder-radius: 2px;\\n\\n\\tbox-shadow: 0 0 4px rgba(0,0,0,.5) inset, 0 1px 0 rgba(255,255,255,.5);\\n}\\n\\n.cke_hc a.cke_path_item:hover,\\n.cke_hc a.cke_path_item:focus,\\n.cke_hc a.cke_path_item:active\\n{\\n\\tborder: 2px solid;\\n\\tpadding: 1px 2px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/elementspath.css\n ** module id = 318\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/* \\\"Source\\\" button label */\\n.cke_button__source_label,\\n.cke_button__sourcedialog_label\\n{\\n\\tdisplay: inline;\\n}\\n\\n/* \\\"Font Size\\\" combo width */\\n.cke_combo__fontsize .cke_combo_text\\n{\\n\\twidth: 30px;\\n}\\n\\n/* \\\"Font Size\\\" panel size */\\n.cke_combopanel__fontsize\\n{\\n\\twidth: 120px;\\n}\\n\\n/* Editable regions */\\ntextarea.cke_source\\n{\\n\\tfont-family: 'Courier New', Monospace;\\n\\tfont-size: small;\\n\\tbackground-color: #fff;\\n\\twhite-space: pre-wrap;\\n\\tborder: none;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tdisplay: block;\\n}\\n\\n.cke_wysiwyg_frame, .cke_wysiwyg_div\\n{\\n\\tbackground-color: #fff;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/presets.css\n ** module id = 319\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n\\n/**\\n * Progress notification structure:\\n *\\n * +---div.cke_notification cke_notification_info--------------------------+\\n * |                                                                       |\\n * | +---div.cke_notification_progress-----------------------------------+ |\\n * | |                                                                   | |\\n * | +-------------------------------------------------------------------+ |\\n * |                                                                       |\\n * | +---p.cke_notification_message--------------------------------------+ |\\n * | | Foo                                                               | |\\n * | +-------------------------------------------------------------------+ |\\n * |                                                                       |\\n * | +---a.cke_notification_close----------------------------------------+ |\\n * | | +---span.cke_label----------------------------------------------+ | |\\n * | | | X                                                             | | |\\n * | | +---------------------------------------------------------------+ | |\\n * | +-------------------------------------------------------------------+ |\\n * |                                                                       |\\n * +-----------------------------------------------------------------------+\\n *\\n *\\n * Warning notification structure:\\n *\\n * +---div.cke_notification cke_notification_warning-----------------------+\\n * |                                                                       |\\n * | +---p.cke_notification_message--------------------------------------+ |\\n * | | Foo                                                               | |\\n * | +-------------------------------------------------------------------+ |\\n * |                                                                       |\\n * | +---a.cke_notification_close----------------------------------------+ |\\n * | | +---span.cke_label----------------------------------------------+ | |\\n * | | | X                                                             | | |\\n * | | +---------------------------------------------------------------+ | |\\n * | +-------------------------------------------------------------------+ |\\n * |                                                                       |\\n * +-----------------------------------------------------------------------+\\n *\\n * Success and info notifications have the same structure as warning, but use\\n * `cke_notification_success` and `cke_notification_info` instead of `cke_notification_warning`.\\n */\\n.cke_notifications_area\\n{\\n\\t/* Prevent notification margin capture clicking. */\\n\\tpointer-events: none;\\n}\\n.cke_notification\\n{\\n\\tpointer-events: auto;\\n\\tposition: relative;\\n\\tmargin: 10px;\\n\\twidth: 300px;\\n\\tcolor: white;\\n\\tborder-radius: 3px;\\n\\ttext-align: center;\\n\\topacity: 0.95;\\n\\tfilter: alpha(opacity = 95);\\n\\tbox-shadow: 2px 2px 3px 0px rgba(50, 50, 50, 0.3);\\n\\n\\t-webkit-animation: fadeIn 0.7s;\\n\\tanimation: fadeIn 0.7s;\\n}\\n\\n.cke_notification_message a\\n{\\n\\tcolor: #12306F;\\n}\\n\\n@-webkit-keyframes fadeIn\\n{\\n\\tfrom { opacity: 0.4; }\\n\\tto { opacity: 0.95; }\\n}\\n\\n@keyframes fadeIn\\n{\\n\\tfrom { opacity: 0.4; }\\n\\tto { opacity: 0.95; }\\n}\\n\\n.cke_notification_success\\n{\\n\\tbackground: #72B572;\\n\\tborder: 1px solid #63A563;\\n}\\n\\n.cke_notification_warning\\n{\\n\\tbackground: #C83939;\\n\\tborder: 1px solid #902B2B;\\n}\\n\\n.cke_notification_info\\n{\\n\\tbackground: #2E9AD0;\\n\\tborder: 1px solid #0F74A8;\\n}\\n\\n.cke_notification_info span.cke_notification_progress\\n{\\n\\tbackground-color: #0F74A8;\\n\\tdisplay: block;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\theight: 100%;\\n\\toverflow: hidden;\\n\\tposition: absolute;\\n\\tz-index: 1;\\n}\\n\\n.cke_notification_message\\n{\\n\\tposition: relative;\\n\\tmargin: 4px 23px 3px;\\n\\tfont-family: Arial, Helvetica, sans-serif;\\n\\tfont-size: 12px;\\n\\tline-height: 18px;\\n\\tz-index: 4;\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n}\\n\\n.cke_notification_close\\n{\\n\\tbackground-image: url(\" + require(\"./images/close.png\") + \");\\n\\tbackground-repeat: no-repeat;\\n\\tbackground-position: 50%;\\n\\tposition: absolute;\\n\\tcursor: pointer;\\n\\ttext-align: center;\\n\\theight: 20px;\\n\\twidth: 20px;\\n\\ttop: 1px;\\n\\tright: 1px;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tz-index: 5;\\n\\topacity: 0.6;\\n\\tfilter: alpha(opacity = 60);\\n}\\n\\n.cke_notification_close:hover\\n{\\n\\topacity: 1;\\n\\tfilter: alpha(opacity = 100);\\n}\\n\\n.cke_notification_close span\\n{\\n\\tdisplay: none;\\n}\\n\\n.cke_notification_warning a.cke_notification_close\\n{\\n\\topacity: 0.8;\\n\\tfilter: alpha(opacity = 80);\\n}\\n\\n.cke_notification_warning a.cke_notification_close:hover\\n{\\n\\topacity: 1;\\n\\tfilter: alpha(opacity = 100);\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./skins/moono/notification.css\n ** module id = 320\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAApVBMVEXd3d3e3t7g4ODi4uLj4+Pk5OTl5eXr6+vt7e3u7u7v7+/y8vL19fX29vb39/f4+Pj8/Pz9/f3+/v7///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwcBAQEODg4AAAAAAAAAAAAAAAAVFRUnJycUFBQZGRkdHR0gICAnJydTU1M9PT1ERERPT09YWFhZWVlbW1tCQkJLS0tRUVFVVVVcXFxjY2NlZWVVeueMAAAAMHRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAJXWFteX2JiZWeTnOHn6ez8/Pz8/P3+/v7+/v5vtAXPAAAArklEQVQYGV3BUXKDMAxAwSfJQFwCyfT+Z2xCZ1qwwFL/uwv/CCCQgECCIKKaPRGTiMyCDB/K7oyV+D2zoHXRnzpQdI7sUUSsfI4blMf6ZSKGDtzu4vp8ts09DNKuMmtdj1fbrzRAso91PF9780ABxT3THQUMnaayzt5vckr2NOxu6+LvY6ic5mFSpmX1d7vOoUY7w5BpvL7dO569HVGIXSSPRrDlHhhE0FpkD5onf+3KZv29r87PAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/close.png\n ** module id = 321\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 322\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./node_modules/css-loader/index.js!./node_modules/sass-loader/index.js!./contents.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./node_modules/css-loader/index.js!./node_modules/sass-loader/index.js!./contents.css\", function() {\n\t\t\tvar newContent = require(\"!!./node_modules/css-loader/index.js!./node_modules/sass-loader/index.js!./contents.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./contents.css\n ** module id = 323\n ** module chunks = 0\n **/","exports = module.exports = require(\"./node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\nbody {\\n  /* Font */\\n  font-family: sans-serif, Arial, Verdana, \\\"Trebuchet MS\\\";\\n  font-size: 12px;\\n  /* Text color */\\n  color: #333;\\n  /* Remove the background color to make it transparent */\\n  background-color: #fff;\\n  margin: 20px; }\\n\\n.cke_editable {\\n  font-size: 13px;\\n  line-height: 1.6;\\n  /* Fix for missing scrollbars with RTL texts. (#10488) */\\n  word-wrap: break-word; }\\n\\nblockquote {\\n  font-style: italic;\\n  font-family: Georgia, Times, \\\"Times New Roman\\\", serif;\\n  padding: 2px 0;\\n  border-style: solid;\\n  border-color: #ccc;\\n  border-width: 0; }\\n\\n.cke_contents_ltr blockquote {\\n  padding-left: 20px;\\n  padding-right: 8px;\\n  border-left-width: 5px; }\\n\\n.cke_contents_rtl blockquote {\\n  padding-left: 8px;\\n  padding-right: 20px;\\n  border-right-width: 5px; }\\n\\na {\\n  color: #0782C1; }\\n\\nol, ul, dl {\\n  /* IE7: reset rtl list margin. (#7334) */\\n  *margin-right: 0px;\\n  /* preserved spaces for list items with text direction other than the list. (#6249,#8049)*/\\n  padding: 0 40px; }\\n\\nh1, h2, h3, h4, h5, h6 {\\n  font-weight: normal;\\n  line-height: 1.2; }\\n\\nhr {\\n  border: 0px;\\n  border-top: 1px solid #ccc; }\\n\\nimg.right {\\n  border: 1px solid #ccc;\\n  float: right;\\n  margin-left: 15px;\\n  padding: 5px; }\\n\\nimg.left {\\n  border: 1px solid #ccc;\\n  float: left;\\n  margin-right: 15px;\\n  padding: 5px; }\\n\\npre {\\n  white-space: pre-wrap;\\n  /* CSS 2.1 */\\n  word-wrap: break-word;\\n  /* IE7 */\\n  -moz-tab-size: 4;\\n  tab-size: 4; }\\n\\n.marker {\\n  background-color: Yellow; }\\n\\nspan[lang] {\\n  font-style: italic; }\\n\\nfigure {\\n  text-align: center;\\n  border: solid 1px #ccc;\\n  border-radius: 2px;\\n  background: rgba(0, 0, 0, 0.05);\\n  padding: 10px;\\n  margin: 10px 20px;\\n  display: inline-block; }\\n\\nfigure > figcaption {\\n  text-align: center;\\n  display: block;\\n  /* For IE8 */ }\\n\\na > img {\\n  padding: 1px;\\n  margin: 1px;\\n  border: none;\\n  outline: 1px solid #0782C1; }\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./contents.css\n ** module id = 324\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./dialog.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./dialog.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./dialog.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/dialog.css\n ** module id = 325\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\\nFor licensing, see LICENSE.md or http://ckeditor.com/license\\n*/\\n/*\\ndialog.css\\n============\\n\\nThis file styles dialogs and all widgets available inside of it (tabs, buttons,\\nfields, etc.).\\n\\nDialogs are a complex system because they're very flexible. The CKEditor API\\nmakes it easy to create and customize dialogs by code, by making use of several\\ndifferent widgets inside its contents.\\n\\nAll dialogs share a main dialog strucuture, which can be visually represented\\nas follows:\\n\\n+-- .cke_dialog -------------------------------------------------+\\n| +-- .cke_dialog_body ----------------------------------------+ |\\n| | +-- .cke_dialog_title --+ +-- .cke_dialog_close_button --+ | |\\n| | |                       | |                              | | |\\n| | +-----------------------+ +------------------------------+ | |\\n| | +-- .cke_dialog_tabs ------------------------------------+ | |\\n| | |                                                        | | |\\n| | +--------------------------------------------------------+ | |\\n| | +-- .cke_dialog_contents --------------------------------+ | |\\n| | | +-- .cke_dialog_contents_body -----------------------+ | | |\\n| | | |                                                    | | | |\\n| | | +----------------------------------------------------+ | | |\\n| | | +-- .cke_dialog_footer ------------------------------+ | | |\\n| | | |                                                    | | | |\\n| | | +----------------------------------------------------+ | | |\\n| | +--------------------------------------------------------+ | |\\n| +------------------------------------------------------------+ |\\n+----------------------------------------------------------------+\\n\\nComments in this file will give more details about each of the above blocks.\\n*/\\n/* The outer container of the dialog. */\\n.cke_dialog {\\n  /* Mandatory: Because the dialog.css file is loaded on demand, we avoid\\n\\t\\tshowing an unstyled dialog by hidding it. Here, we restore its visibility. */\\n  visibility: visible; }\\n\\n/* The inner boundary container. */\\n.cke_dialog_body {\\n  z-index: 1;\\n  background: #eaeaea;\\n  border: 1px solid #b2b2b2;\\n  border-bottom-color: #999;\\n  border-radius: 3px;\\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.15); }\\n\\n/* Due to our reset we have to recover the styles of some elements. */\\n.cke_dialog strong {\\n  font-weight: bold; }\\n\\n/* The dialog title. */\\n.cke_dialog_title {\\n  font-weight: bold;\\n  font-size: 13px;\\n  cursor: move;\\n  position: relative;\\n  color: #474747;\\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.75);\\n  border-bottom: 1px solid #999;\\n  padding: 6px 10px;\\n  border-radius: 2px 2px 0 0;\\n  box-shadow: 0 1px 0 #fff inset;\\n  background: #cfd1cf;\\n  background-image: linear-gradient(to bottom, #f5f5f5, #cfd1cf);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f5f5f5', endColorstr='#cfd1cf'); }\\n\\n.cke_dialog_spinner {\\n  border-radius: 50%;\\n  width: 12px;\\n  height: 12px;\\n  overflow: hidden;\\n  text-indent: -9999em;\\n  border-top: 2px solid rgba(102, 102, 102, 0.2);\\n  border-right: 2px solid rgba(102, 102, 102, 0.2);\\n  border-bottom: 2px solid rgba(102, 102, 102, 0.2);\\n  border-left: 2px solid #666666;\\n  -webkit-animation: dialog_spinner 1s infinite linear;\\n  animation: dialog_spinner 1s infinite linear; }\\n\\n/* A GIF fallback for IE8 and IE9 which does not support CSS animations. */\\n.cke_browser_ie8 .cke_dialog_spinner,\\n.cke_browser_ie9 .cke_dialog_spinner {\\n  background: url(\" + require(\"./images/spinner.gif\") + \") center top no-repeat;\\n  width: 16px;\\n  height: 16px;\\n  border: 0; }\\n\\n@-webkit-keyframes dialog_spinner {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n@keyframes dialog_spinner {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg); } }\\n\\n/* The outer part of the dialog contants, which contains the contents body\\n   and the footer. */\\n.cke_dialog_contents {\\n  background-color: #fff;\\n  overflow: auto;\\n  padding: 15px 10px 5px 10px;\\n  margin-top: 30px;\\n  border-top: 1px solid #bfbfbf;\\n  border-radius: 0 0 3px 3px; }\\n\\n/* The contents body part, which will hold all elements available in the dialog. */\\n.cke_dialog_contents_body {\\n  overflow: auto;\\n  padding: 17px 10px 5px 10px;\\n  margin-top: 22px; }\\n\\n/* The dialog footer, which usually contains the \\\"Ok\\\" and \\\"Cancel\\\" buttons as\\n   well as a resize handler. */\\n.cke_dialog_footer {\\n  text-align: right;\\n  position: relative;\\n  border: none;\\n  outline: 1px solid #bfbfbf;\\n  box-shadow: 0 1px 0 #fff inset;\\n  border-radius: 0 0 2px 2px;\\n  background: #cfd1cf;\\n  background-image: linear-gradient(to bottom, #ebebeb, #cfd1cf);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#ebebeb', endColorstr='#cfd1cf'); }\\n\\n.cke_rtl .cke_dialog_footer {\\n  text-align: left; }\\n\\n.cke_hc .cke_dialog_footer {\\n  outline: none;\\n  border-top: 1px solid #fff; }\\n\\n.cke_dialog .cke_resizer {\\n  margin-top: 22px; }\\n\\n.cke_dialog .cke_resizer_rtl {\\n  margin-left: 5px; }\\n\\n.cke_dialog .cke_resizer_ltr {\\n  margin-right: 5px; }\\n\\n/*\\nDialog tabs\\n-------------\\n\\nTabs are presented on some of the dialogs to make it possible to have its\\ncontents split on different groups, visible one after the other.\\n\\nThe main element that holds the tabs can be made hidden, in case of no tabs\\navailable.\\n\\nThe following is the visual representation of the tabs block:\\n\\n+-- .cke_dialog_tabs ------------------------------------+\\n|  +-- .cke_dialog_tab --+ +-- .cke_dialog_tab --+ ...   |\\n|  |                     | |                     |       |\\n|  +---------------------+ +---------------------+       |\\n+--------------------------------------------------------+\\n\\nThe .cke_dialog_tab_selected class is appended to the active tab.\\n*/\\n/* The main tabs container. */\\n.cke_dialog_tabs {\\n  height: 24px;\\n  display: inline-block;\\n  margin: 5px 0 0;\\n  position: absolute;\\n  z-index: 2;\\n  left: 10px; }\\n\\n.cke_rtl .cke_dialog_tabs {\\n  right: 10px; }\\n\\n/* A single tab (an <a> element). */\\na.cke_dialog_tab {\\n  height: 16px;\\n  padding: 4px 8px;\\n  margin-right: 3px;\\n  display: inline-block;\\n  cursor: pointer;\\n  line-height: 16px;\\n  outline: none;\\n  color: #595959;\\n  border: 1px solid #bfbfbf;\\n  border-radius: 3px 3px 0 0;\\n  background: #d4d4d4;\\n  background-image: linear-gradient(to bottom, #fafafa, #ededed);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#fafafa', endColorstr='#ededed'); }\\n\\n.cke_rtl a.cke_dialog_tab {\\n  margin-right: 0;\\n  margin-left: 3px; }\\n\\n/* A hover state of a regular inactive tab. */\\na.cke_dialog_tab:hover,\\na.cke_dialog_tab:focus {\\n  background: #ebebeb;\\n  background: linear-gradient(to bottom, #ebebeb 0%, #dfdfdf 100%);\\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ebebeb', endColorstr='#dfdfdf',GradientType=0 ); }\\n\\na.cke_dialog_tab_selected {\\n  background: #fff;\\n  color: #383838;\\n  border-bottom-color: #fff;\\n  cursor: default;\\n  filter: none; }\\n\\n/* A hover state for selected tab. */\\na.cke_dialog_tab_selected:hover,\\na.cke_dialog_tab_selected:focus {\\n  background: #ededed;\\n  background: linear-gradient(to bottom, #ededed 0%, #ffffff 100%);\\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ededed', endColorstr='#ffffff',GradientType=0 ); }\\n\\n.cke_hc a.cke_dialog_tab:hover,\\n.cke_hc a.cke_dialog_tab:focus,\\n.cke_hc a.cke_dialog_tab_selected {\\n  border: 3px solid;\\n  padding: 2px 6px; }\\n\\na.cke_dialog_tab_disabled {\\n  color: #bababa;\\n  cursor: default; }\\n\\n/* The .cke_single_page class is appended to the dialog outer element in case\\n   of dialogs that has no tabs. */\\n.cke_single_page .cke_dialog_tabs {\\n  display: none; }\\n\\n.cke_single_page .cke_dialog_contents {\\n  padding-top: 5px;\\n  margin-top: 0;\\n  border-top: none; }\\n\\n/* The close button at the top of the dialog. */\\na.cke_dialog_close_button {\\n  background-image: url(\" + require(\"./images/close.png\") + \");\\n  background-repeat: no-repeat;\\n  background-position: 50%;\\n  position: absolute;\\n  cursor: pointer;\\n  text-align: center;\\n  height: 20px;\\n  width: 20px;\\n  top: 4px;\\n  z-index: 5;\\n  opacity: 0.8;\\n  filter: alpha(opacity=80); }\\n\\n.cke_dialog_close_button:hover {\\n  opacity: 1;\\n  filter: alpha(opacity=100); }\\n\\n.cke_hidpi .cke_dialog_close_button {\\n  background-image: url(\" + require(\"./images/hidpi/close.png\") + \");\\n  background-size: 16px; }\\n\\n.cke_dialog_close_button span {\\n  display: none; }\\n\\n.cke_hc .cke_dialog_close_button span {\\n  display: inline;\\n  cursor: pointer;\\n  font-weight: bold;\\n  position: relative;\\n  top: 3px; }\\n\\n.cke_ltr .cke_dialog_close_button {\\n  right: 5px; }\\n\\n.cke_rtl .cke_dialog_close_button {\\n  left: 6px; }\\n\\n.cke_dialog_close_button {\\n  top: 4px; }\\n\\n/*\\nDialog UI Elements\\n--------------------\\n\\nThe remaining styles define the UI elements that can be used inside dialog\\ncontents.\\n\\nMost of the UI elements on dialogs contain a textual label. All of them share\\nthe same labelling structure, having the label text inside an element with\\n.cke_dialog_ui_labeled_label and the element specific part inside the\\n.cke_dialog_ui_labeled_content class.\\n*/\\n/* If an element is supposed to be disabled, the .cke_disabled class is\\n   appended to it. */\\ndiv.cke_disabled .cke_dialog_ui_labeled_content div * {\\n  background-color: #ddd;\\n  cursor: default; }\\n\\n/*\\nHorizontal-Box and Vertical-Box\\n---------------------------------\\n\\nThere are basic layou element used by the editor to properly align elements in\\nthe dialog. They're basically tables that have each cell filled by UI elements.\\n\\nThe following is the visual representation of a H-Box:\\n\\n+-- .cke_dialog_ui_hbox --------------------------------------------------------------------------------+\\n|  +-- .cke_dialog_ui_hbox_first --+ +-- .cke_dialog_ui_hbox_child --+ +-- .cke_dialog_ui_hbox_last --+ |\\n|  +                               + +                               + +                              + |\\n|  +-------------------------------+ +-------------------------------+ +------------------------------+ |\\n+-------------------------------------------------------------------------------------------------------+\\n\\nIt is possible to have nested V/H-Boxes.\\n*/\\n.cke_dialog_ui_vbox table,\\n.cke_dialog_ui_hbox table {\\n  margin: auto; }\\n\\n.cke_dialog_ui_vbox_child {\\n  padding: 5px 0px; }\\n\\n.cke_dialog_ui_hbox {\\n  width: 100%; }\\n\\n.cke_dialog_ui_hbox_first,\\n.cke_dialog_ui_hbox_child,\\n.cke_dialog_ui_hbox_last {\\n  vertical-align: top; }\\n\\n.cke_ltr .cke_dialog_ui_hbox_first,\\n.cke_ltr .cke_dialog_ui_hbox_child {\\n  padding-right: 10px; }\\n\\n.cke_rtl .cke_dialog_ui_hbox_first,\\n.cke_rtl .cke_dialog_ui_hbox_child {\\n  padding-left: 10px; }\\n\\n.cke_ltr .cke_dialog_footer_buttons .cke_dialog_ui_hbox_first,\\n.cke_ltr .cke_dialog_footer_buttons .cke_dialog_ui_hbox_child {\\n  padding-right: 5px; }\\n\\n.cke_rtl .cke_dialog_footer_buttons .cke_dialog_ui_hbox_first,\\n.cke_rtl .cke_dialog_footer_buttons .cke_dialog_ui_hbox_child {\\n  padding-left: 5px;\\n  padding-right: 0; }\\n\\n/* Applies to all labeled dialog fields */\\n.cke_hc div.cke_dialog_ui_input_text,\\n.cke_hc div.cke_dialog_ui_input_password,\\n.cke_hc div.cke_dialog_ui_input_textarea,\\n.cke_hc div.cke_dialog_ui_input_select,\\n.cke_hc div.cke_dialog_ui_input_file {\\n  border: 1px solid; }\\n\\n/*\\nText Input\\n------------\\n\\nThe basic text field to input text.\\n\\n+-- .cke_dialog_ui_text --------------------------+\\n|  +-- .cke_dialog_ui_labeled_label ------------+ |\\n|  |                                            | |\\n|  +--------------------------------------------+ |\\n|  +-- .cke_dialog_ui_labeled_content ----------+ |\\n|  | +-- div.cke_dialog_ui_input_text --------+ | |\\n|  | | +-- input.cke_dialog_ui_input_text --+ | | |\\n|  | | |                                    | | | |\\n|  | | +------------------------------------+ | | |\\n|  | +----------------------------------------+ | |\\n|  +--------------------------------------------+ |\\n+-------------------------------------------------+\\n*/\\n/*\\nTextarea\\n----------\\n\\nThe textarea field to input larger text.\\n\\n+-- .cke_dialog_ui_textarea --------------------------+\\n|  +-- .cke_dialog_ui_labeled_label ----------------+ |\\n|  |                                                | |\\n|  +------------------------------------------------+ |\\n|  +-- .cke_dialog_ui_labeled_content --------------+ |\\n|  | +-- div.cke_dialog_ui_input_textarea --------+ | |\\n|  | | +-- input.cke_dialog_ui_input_textarea --+ | | |\\n|  | | |                                        | | | |\\n|  | | +----------------------------------------+ | | |\\n|  | +--------------------------------------------+ | |\\n|  +------------------------------------------------+ |\\n+-----------------------------------------------------+\\n*/\\ntextarea.cke_dialog_ui_input_textarea {\\n  overflow: auto;\\n  resize: none; }\\n\\ninput.cke_dialog_ui_input_text,\\ninput.cke_dialog_ui_input_password,\\ntextarea.cke_dialog_ui_input_textarea {\\n  background-color: #fff;\\n  border: 1px solid #c9cccf;\\n  border-top-color: #aeb3b9;\\n  padding: 4px 6px;\\n  outline: none;\\n  width: 100%;\\n  *width: 95%;\\n  box-sizing: border-box;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15) inset; }\\n\\ninput.cke_dialog_ui_input_text:hover,\\ninput.cke_dialog_ui_input_password:hover,\\ntextarea.cke_dialog_ui_input_textarea:hover {\\n  border: 1px solid #aeb3b9;\\n  border-top-color: #a0a6ad; }\\n\\ninput.cke_dialog_ui_input_text:focus,\\ninput.cke_dialog_ui_input_password:focus,\\ntextarea.cke_dialog_ui_input_textarea:focus,\\nselect.cke_dialog_ui_input_select:focus {\\n  outline: none;\\n  border: 1px solid #139ff7;\\n  border-top-color: #1392e9; }\\n\\n/*\\nButton\\n--------\\n\\nThe buttons used in the dialog footer or inside the contents.\\n\\n+-- a.cke_dialog_ui_button -----------+\\n|  +-- span.cke_dialog_ui_button --+  |\\n|  |                               |  |\\n|  +-------------------------------+  |\\n+-------------------------------------+\\n*/\\n/* The outer part of the button. */\\na.cke_dialog_ui_button {\\n  display: inline-block;\\n  *display: inline;\\n  *zoom: 1;\\n  padding: 4px 0;\\n  margin: 0;\\n  text-align: center;\\n  color: #333;\\n  vertical-align: middle;\\n  cursor: pointer;\\n  border: 1px solid #b6b6b6;\\n  border-bottom-color: #999;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.5), 0 0 2px rgba(255, 255, 255, 0.15) inset, 0 1px 0 rgba(255, 255, 255, 0.15) inset;\\n  background: #e4e4e4;\\n  background-image: linear-gradient(to bottom, #ffffff, #e4e4e4);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#ffffff', endColorstr='#e4e4e4'); }\\n\\nspan.cke_dialog_ui_button {\\n  padding: 0 10px; }\\n\\na.cke_dialog_ui_button:hover {\\n  border-color: #9e9e9e;\\n  background: #ccc;\\n  background-image: linear-gradient(to bottom, #f2f2f2, #ccc);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#f2f2f2', endColorstr='#cccccc'); }\\n\\n/* \\t:focus/:active styles for dialog buttons: regular and footer. */\\na.cke_dialog_ui_button:focus,\\na.cke_dialog_ui_button:active {\\n  border-color: #969696;\\n  outline: none;\\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.4) inset; }\\n\\n.cke_hc a.cke_dialog_ui_button:hover,\\n.cke_hc a.cke_dialog_ui_button:focus,\\n.cke_hc a.cke_dialog_ui_button:active {\\n  border: 3px solid;\\n  padding-top: 1px;\\n  padding-bottom: 1px; }\\n\\n.cke_hc a.cke_dialog_ui_button:hover span,\\n.cke_hc a.cke_dialog_ui_button:focus span,\\n.cke_hc a.cke_dialog_ui_button:active span {\\n  padding-left: 10px;\\n  padding-right: 10px; }\\n\\n/*\\na.cke_dialog_ui_button[style*=\\\"width\\\"]\\n{\\n\\tdisplay: block !important;\\n\\twidth: auto !important;\\n}\\n*/\\n/* The inner part of the button (both in dialog tabs and dialog footer). */\\n.cke_dialog_footer_buttons a.cke_dialog_ui_button span {\\n  color: inherit;\\n  font-size: 12px;\\n  font-weight: bold;\\n  line-height: 18px;\\n  padding: 0 12px; }\\n\\n/* Special class appended to the Ok button. */\\na.cke_dialog_ui_button_ok {\\n  color: #fff;\\n  text-shadow: 0 -1px 0 #55830c;\\n  border-color: #62a60a #62a60a #4d9200;\\n  background: #69b10b;\\n  background-image: linear-gradient(to bottom, #9ad717, #69b10b);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#9ad717', endColorstr='#69b10b'); }\\n\\na.cke_dialog_ui_button_ok:hover {\\n  border-color: #5b9909 #5b9909 #478500;\\n  background: #88be14;\\n  background: linear-gradient(to bottom, #88be14 0%, #5d9c0a 100%);\\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#88be14', endColorstr='#5d9c0a',GradientType=0 ); }\\n\\na.cke_dialog_ui_button_ok.cke_disabled {\\n  border-color: #7D9F51;\\n  background: #8DAD62;\\n  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#B3D271), to(#8DAD62));\\n  background-image: -webkit-linear-gradient(top, #B3D271, #8DAD62);\\n  background-image: -o-linear-gradient(top, #B3D271, #8DAD62);\\n  background-image: linear-gradient(to bottom, #B3D271, #8DAD62);\\n  background-image: -moz-linear-gradient(top, #B3D271, #8DAD62);\\n  filter: progid:DXImageTransform.Microsoft.gradient(gradientType=0, startColorstr='#B3D271', endColorstr='#8DAD62'); }\\n\\na.cke_dialog_ui_button_ok.cke_disabled span {\\n  color: #E0E8D1; }\\n\\n/* Default text shadow used for inner parts of all dialog buttons (both in dialog tabs and dialog footer). */\\na.cke_dialog_ui_button span {\\n  text-shadow: 0 1px 0 #fff; }\\n\\n/* Text shadow used for inner part of OK dialog button in footer. */\\na.cke_dialog_ui_button_ok span {\\n  text-shadow: 0 -1px 0 #55830c; }\\n\\nspan.cke_dialog_ui_button {\\n  cursor: pointer; }\\n\\n/* \\t:focus/:active styles for dialog footer buttons (ok & cancel) */\\na.cke_dialog_ui_button_ok:focus,\\na.cke_dialog_ui_button_ok:active,\\na.cke_dialog_ui_button_cancel:focus,\\na.cke_dialog_ui_button_cancel:active {\\n  border-width: 2px;\\n  padding: 3px 0; }\\n\\na.cke_dialog_ui_button_ok:focus,\\na.cke_dialog_ui_button_ok:active {\\n  border-color: #568C0A; }\\n\\na.cke_dialog_ui_button_ok.cke_disabled:focus,\\na.cke_dialog_ui_button_ok.cke_disabled:active {\\n  border-color: #6F8C49; }\\n\\n/* \\t:focus/:active styles for dialog footer buttons (ok & cancel) spans */\\na.cke_dialog_ui_button_ok:focus span,\\na.cke_dialog_ui_button_ok:active span,\\na.cke_dialog_ui_button_cancel:focus span,\\na.cke_dialog_ui_button_cancel:active span {\\n  padding: 0 11px;\\n  /* Thick button border must be compensated. */ }\\n\\n/* A special container that holds the footer buttons. */\\n.cke_dialog_footer_buttons {\\n  display: inline-table;\\n  margin: 5px;\\n  width: auto;\\n  position: relative;\\n  vertical-align: middle; }\\n\\n/*\\nStyles for other dialog element types.\\n*/\\ndiv.cke_dialog_ui_input_select {\\n  display: table; }\\n\\nselect.cke_dialog_ui_input_select {\\n  height: 25px;\\n  line-height: 25px;\\n  background-color: #fff;\\n  border: 1px solid #c9cccf;\\n  border-top-color: #aeb3b9;\\n  padding: 3px 3px 3px 6px;\\n  outline: none;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15) inset; }\\n\\n.cke_dialog_ui_input_file {\\n  width: 100%;\\n  height: 25px; }\\n\\n.cke_hc .cke_dialog_ui_labeled_content input:focus,\\n.cke_hc .cke_dialog_ui_labeled_content select:focus,\\n.cke_hc .cke_dialog_ui_labeled_content textarea:focus {\\n  outline: 1px dotted; }\\n\\n/*\\n * Some utility CSS classes for dialog authors.\\n */\\n.cke_dialog .cke_dark_background {\\n  background-color: #DEDEDE; }\\n\\n.cke_dialog .cke_light_background {\\n  background-color: #EBEBEB; }\\n\\n.cke_dialog .cke_centered {\\n  text-align: center; }\\n\\n.cke_dialog a.cke_btn_reset {\\n  float: right;\\n  background: url(\" + require(\"./images/refresh.png\") + \") top left no-repeat;\\n  width: 16px;\\n  height: 16px;\\n  border: 1px none;\\n  font-size: 1px; }\\n\\n.cke_hidpi .cke_dialog a.cke_btn_reset {\\n  background-size: 16px;\\n  background-image: url(\" + require(\"./images/hidpi/refresh.png\") + \"); }\\n\\n.cke_rtl .cke_dialog a.cke_btn_reset {\\n  float: left; }\\n\\n.cke_dialog a.cke_btn_locked,\\n.cke_dialog a.cke_btn_unlocked {\\n  float: left;\\n  width: 16px;\\n  height: 16px;\\n  background-repeat: no-repeat;\\n  border: none 1px;\\n  font-size: 1px; }\\n\\n.cke_dialog a.cke_btn_locked .cke_icon {\\n  display: none; }\\n\\n.cke_rtl .cke_dialog a.cke_btn_locked,\\n.cke_rtl .cke_dialog a.cke_btn_unlocked {\\n  float: right; }\\n\\n.cke_dialog a.cke_btn_locked {\\n  background-image: url(\" + require(\"./images/lock.png\") + \"); }\\n\\n.cke_dialog a.cke_btn_unlocked {\\n  background-image: url(\" + require(\"./images/lock-open.png\") + \"); }\\n\\n.cke_hidpi .cke_dialog a.cke_btn_unlocked,\\n.cke_hidpi .cke_dialog a.cke_btn_locked {\\n  background-size: 16px; }\\n\\n.cke_hidpi .cke_dialog a.cke_btn_locked {\\n  background-image: url(\" + require(\"./images/hidpi/lock.png\") + \"); }\\n\\n.cke_hidpi .cke_dialog a.cke_btn_unlocked {\\n  background-image: url(\" + require(\"./images/hidpi/lock-open.png\") + \"); }\\n\\n.cke_dialog .cke_btn_over {\\n  border: outset 1px;\\n  cursor: pointer; }\\n\\n/*\\nThe rest of the file contains style used on several common plugins. There is a\\ntendency that these will be moved to the plugins code in the future.\\n*/\\n.cke_dialog .ImagePreviewBox {\\n  border: 2px ridge black;\\n  overflow: scroll;\\n  height: 200px;\\n  width: 300px;\\n  padding: 2px;\\n  background-color: white; }\\n\\n.cke_dialog .ImagePreviewBox table td {\\n  white-space: normal; }\\n\\n.cke_dialog .ImagePreviewLoader {\\n  position: absolute;\\n  white-space: normal;\\n  overflow: hidden;\\n  height: 160px;\\n  width: 230px;\\n  margin: 2px;\\n  padding: 2px;\\n  opacity: 0.9;\\n  filter: alpha(opacity=90);\\n  background-color: #e4e4e4; }\\n\\n.cke_dialog .FlashPreviewBox {\\n  white-space: normal;\\n  border: 2px ridge black;\\n  overflow: auto;\\n  height: 160px;\\n  width: 390px;\\n  padding: 2px;\\n  background-color: white; }\\n\\n.cke_dialog .cke_pastetext {\\n  width: 346px;\\n  height: 170px; }\\n\\n.cke_dialog .cke_pastetext textarea {\\n  width: 340px;\\n  height: 170px;\\n  resize: none; }\\n\\n.cke_dialog iframe.cke_pasteframe {\\n  width: 346px;\\n  height: 130px;\\n  background-color: white;\\n  border: 1px solid #aeb3b9;\\n  border-radius: 3px; }\\n\\n.cke_dialog .cke_hand {\\n  cursor: pointer; }\\n\\n.cke_disabled {\\n  color: #a0a0a0; }\\n\\n.cke_dialog_body .cke_label {\\n  display: none; }\\n\\n.cke_dialog_body label {\\n  display: inline;\\n  margin-bottom: auto;\\n  cursor: default; }\\n\\n.cke_dialog_body label.cke_required {\\n  font-weight: bold; }\\n\\na.cke_smile {\\n  overflow: hidden;\\n  display: block;\\n  text-align: center;\\n  padding: 0.3em 0; }\\n\\na.cke_smile img {\\n  vertical-align: middle; }\\n\\na.cke_specialchar {\\n  cursor: inherit;\\n  display: block;\\n  height: 1.25em;\\n  padding: 0.2em 0.3em;\\n  text-align: center; }\\n\\na.cke_smile,\\na.cke_specialchar {\\n  border: 1px solid transparent; }\\n\\na.cke_smile:hover,\\na.cke_smile:focus,\\na.cke_smile:active,\\na.cke_specialchar:hover,\\na.cke_specialchar:focus,\\na.cke_specialchar:active {\\n  background: #fff;\\n  outline: 0; }\\n\\na.cke_smile:hover,\\na.cke_specialchar:hover {\\n  border-color: #888; }\\n\\na.cke_smile:focus,\\na.cke_smile:active,\\na.cke_specialchar:focus,\\na.cke_specialchar:active {\\n  border-color: #139FF7; }\\n\\n/**\\n * Styles specific to \\\"cellProperties\\\" dialog.\\n */\\n.cke_dialog_contents a.colorChooser {\\n  display: block;\\n  margin-top: 6px;\\n  margin-left: 10px;\\n  width: 80px; }\\n\\n.cke_rtl .cke_dialog_contents a.colorChooser {\\n  margin-right: 10px; }\\n\\n/* Compensate focus outline for some input elements. (#6200) */\\n.cke_dialog_ui_checkbox_input:focus,\\n.cke_dialog_ui_radio_input:focus,\\n.cke_btn_over {\\n  outline: 1px dotted #696969; }\\n\\n.cke_iframe_shim {\\n  display: block;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: -1;\\n  filter: alpha(opacity=0);\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./skins/moono/dialog.css\n ** module id = 326\n ** module chunks = 0\n **/","module.exports = \"data:image/gif;base64,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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/spinner.gif\n ** module id = 327\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAB7FBMVEXUqKjVqKjVqanWqqrXqqrYq6vZq6vZrKzarKzara3bra3crq7dr6/hsrLisrLjs7Pks7PktLTltbXmtbXntbXntrbpt7fpuLjrubnsubntu7vuu7vzvr7zv7/0wMD1wcH2wMD2wcH4w8P+x8f/x8f/yMj/ycn/ysr/y8v/zc3/zs7/z8//0ND/09P/1NT/19f/2dkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEEDAwJEREAAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATHh4THh4SHR0RGxsAAgITHR0THR0vOTkAAAAKEBAQFRUQFRUUGBgNExMOFBQPFBQPFRUQFBQbHR1SU1MxOTkeJiYrMzM1Ozs5Pz88QUE9QkJCR0dMTk5QVVVRVVVWV1dRVlZUWVlWXFw/QkJAQ0NBRUVCRERFR0dHR0dHSUlHSkpISEhISUlKSkpKTExLS0tLTExMTU1NTU1NTk5OT09PT09PUFBQUFBRUVFSUlJSU1NTU1NUVFRUVVVVVVVWVlZYWFhYWVlZWVlZW1taWlpaW1tbW1tcXFxcXl5dXV1eXl5fX19fYGBgYGBgYWFiYmJiY2NiZGRjY2NkZGRkZmZnZ2dnaGhqamprbW1sbGyjmi7KAAAApHRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRwmKjI3ODk6Ozw9R0dHR0hJSkyVl5+goaipqquts7W26u/v8PDx8fHx8fHx9PX29vb29vb29vb29/f3/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/ctagL4AAAIWSURBVDjL1ZPdTxNREMXn3u5uP2G3X6jYFoOBYoz/gQmJiQ8mJv7zGqUSTRAbpJTSlm53d+7M8aFLKTz47rzcnDu/3EnOmUv0H1QhP419cH0vDRGRKfjWQFmViIisXUkBEXlERIVKGFh18wUrEVm/uuVZzaaxy0fYUrv5vBtSEQyQ9aOdqNOpGZMKcqDc2D16ByS+MowftWq9/jEncZzlgFer77/Fs/5F4ol42+1a79NT7P4Zx6muAFMohvtOqX+ZeKbc3Op9VHbyZThN8xeM9QLTdGIPLtOgWut+0NTh84/RwuUAADhtwNHL8dLvvpdU9evJ+SSRO6OgmjHVIWZ/Xj+WTHVwcjZZuHsn4TRjNKDU6Sirngx+Xc8dNgA4MJtIWFwmOB38nsydbmYBiDGxF0EV9PPbeDLjVX9l9Soey7cQIircsrXmUZrWD1vbL16JAtA2x1YY2ACsH7WivTeUj32SJlZzorDud18rQ4ezCoR20uyO8IiIbLUZ9frCwGhAaBvxjwyBZ7qOuxXuHWomcjW4SRaloopp8gLJOu5Ko3doGBgPRtexLCtlEhsm8zjDaoQNgjqLYPp9NJ6TIzoIjWo9CKzcxV0ubkNmp6PxjMUpkooPd351sxE3xF6cXV3PWAGnGjsaXtzcMvKt9sr1ailZTuN8aSthuZQsJkt3v/ZFP8g4lZV5D2TuuTVWoet/80j+s/4CkoNSU3tfDN8AAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/hidpi/close.png\n ** module id = 328\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABbUlEQVQYGQXBvUtVAQAH0GNmmJUUhLlpEVQQGbX0IUlqQ0KRVBgSIQQ5RNDQ1j/QFEhTixDOTo0t0RYtDtES93J9fkT59Pk0EDX8dY5CoVAolCp1eyIaakqFgkKhUKosqgsnvNUWmxaUCgqlyrKmiNA9FF/1xoaakkKlLkKf5963T7/KeA40jMaqitKy0G7q2N7FDGc4k5nMRDpj+K95Kk3h49U8y/j6zc93f0zkSe5vGou6iiXhaX/G0/POwdD9OEPfnYmmmpKG2PdtLOc/RYTuUzM6Ysdv80p2te2/svUwHseG0BIRESsq/nF0KKMxEnVrdkWYNefFngXWRV/tTryJbWt2hON9uwMxHkv8Eodnbuf0lksR0dpm9l5u7eiNBRaF7usrI+ncNuWRl61z1zKSI6+jqaLSEAYv/xnOhZzMufTnRro+aI1lJaWaDaHr0PTZn4N7A82eLx5ErKoUFEo1DRGhQ0tE07JKqfAf7ljeJGF2zKEAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/refresh.png\n ** module id = 329\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/hidpi/refresh.png\n ** module id = 330\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAw1BMVEXd3d3e3t7f39/g4ODi4uLj4+Pk5OTl5eXm5ubp6enq6urr6+vv7+/5+fn6+vr8/Pz///8AAAAAAAAAAAAHBwcLCwsAAAARERESEhINDQ0tLS0AAAAAAAAODg4AAAAnJycAAAAPDw8WFhYaGhobGxscHBweHh4gICAiIiInJycpKSkqKiovLy83Nzc9PT0+Pj5BQUFCQkJFRUVHR0dJSUlMTExNTU1OTk5QUFBRUVFSUlJUVFRWVlZXV1dYWFhZWVlaWloZ0shBAAAAIHRSTlMAAAAAAAAAAAAAAAAAAAAAAAwZGhoaSGdnjY24yOLy+cFq//oAAACnSURBVBgZBcExcsMwDEXBBxCkaKWwJ5PUuf+xUttlxiORIn52DcC8OORKgQFWegBcxxIFKLdot16RLxFgHm2bo23gqQCcNk4OteHgmBfKIBmF4uZ4b9yFozute+DxUfcHwP6Yf25W96/vMDNJ1/P1DqBfZgbS1SGAzOW/o/1kJgQgiXkZkiAAZVpkZKYggFm1Pt/7yJwQ0jpkbm2O1Llk+FYdACDn+Q80DlW0GFEdLAAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/lock.png\n ** module id = 331\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAABJElEQVQoz13Qzy4DARDH8e/Nof5EiMMSkV4aEnEUB5IKaUnbWKR4Ak/Tp3HpI3gIu1a3GkpsInEola9Dq1nyu818MjMZIkaJSejSo0ePLgnxuD5pd8hwkozOmIxBwivCATdk3FKVjCQPHniHHe44ZnHherZDVVLi/IQ+X5MF89fcyuMvGJ33xCtvZHwgTJcG0ichhoiEF75zB4rsKvJCAhEpQ2j/FSci7SEpxHSRZU+99GqcSy8MXVa6v2DLmmee27Rp03NPrbmVB+tWbBi62ZoKNluhDSuu50HJQ+uGFgIpBKF1Dy3lQdGyRzacaRHMtBoeWbaYB4Hb7rnvhnNuuO+e2wYjEJEygPaSgSuuuuaqKwYuSXtAChH3PPP571Einzxzzw+UAvaic4IMLwAAAABJRU5ErkJggg==\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/lock-open.png\n ** module id = 332\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACClBMVEXUqKjVqKjVqanWqanXqqrYq6vZq6varKzbrKzbra3cra3drq7fsLDhsbHhsrLisbHktLTmtLTmtbXsurrwvLzyvr7zvr70vb31vb31vr72vr72v7/3v7/3wMD3wcH4wMD4wcH5wMD5wcH5wsL6wsL6w8P7w8P8wsL/xsb/yMj/ysr/y8v/zMz/zc3/0dH/09P/2dn/29sAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABQULExMOFhYPFxcIFRUQGxsUICAHFBQIFRUVIiIXIyNITU1KTk4vOjo5RUVWXFxbYWFBRERHSkodKCgdKSkeKiohLS0jLi4kLy8mMjInMzMpNDQrNzcsODgvOzswPDwyPT03QkI5Pj45REQ8R0c9Pz89QEA+QUE+SUk/SkpAQkJASEhBQ0NDRUVDS0tERERERUVERkZFRUVFR0dHR0dHSEhHSUlHSkpISEhISUlISkpIUVFKSkpKS0tKTExLS0tLTU1LTk5MTExMTk5NTU1NT09NUVFOTk5OUVFPT09PUFBQUlJQU1NQVFRRUVFRUlJSUlJSU1NSVFRTU1NTVVVUVVVUVlZVVVVVVlZWVlZXWVlYWlpYXV1aXFxdXl5eYGBfZGRgYGBgZmZhY2NjZGRjZWVjZmZkZGRkZWVkZ2dlZmZlZ2dmZmZnZ2dnaGhnaWloaWlpa2tpbGxqbW3rboAZAAAArnRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8ZIzQ8V2Z9fZ2dnaaxscfHx8fe3uTk8vL4+P39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3YKB0gAAACCklEQVQ4y22Tz27TQBjE59tdr/O3aSpRqqYSEqqQOCCu3HkPKvFciEOfgwfgxhGEED0FRKWWNHUar73fDgfbTdrgi631TzOe0Vjw4BIAAHdO2mdrDQhBUuV/AOMGfhwreHdb3cW0Axg3ejr0voeyqlZ/io5wm/fDw8nBe63g7cdrctUSnYJko8PDdyMQgKA4v7wsagKAbQE3PNo/68NaZ0XUvvzqQiPRWVg/nGYqH24i3ORMs2n0Nm4piH8yPqM9v6pDZPn9dXr1JRVxW4Hqg+EyzgPy2bJOtW+ruAdCL7GOi7IEF1kw7IUGMF0deqJ6sS4qsirWF6on2iR0bcdZXkdcqToDo3o1Q51nVGUD2H5+kA8MvDtYE9J33mCwl1+HdWxk8vHzvdPjCf7OywTA9GZT3Pz6sfx5G+AAiOmP3+ZiMBlWAADvDMYvnn3qr4RNinREiwTjfRsqwYBH37qPJBmcfTgdaCB53wMjFV2z2h1tihKSBGCEBkmYGl3ZNMkqGADyeRGQ778hgFRtFESoSIDBTVGjFiABUIpsLGJpASNl/I3jsmYCNG5ZGKa0ta9EBVKiweMUzOMxsrwWBfAoRemAKBNW8JOaACIfWiACkFPZNLBtYah1I2UApGYqugXIckQ+qlrisrNgWkzne2z+WeluslwtEttZDfJ97ChgEe7awYi1RnYAJlXiHxEPGumyQhUgAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/hidpi/lock.png\n ** module id = 333\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE+ElEQVRYw51WTWwTVxD+5u3bbLzGP2DF4BY1KMARkAG5DkWoBw5VBeSIVFopJVWkiGtzqNRD1R6qKucqUtUDB0C0l157QDkUSlEErZA4IKGoUiWUxBCI43/vvjc9eNdsnLWzZiQf/Nae+eb7Zr599OT2bbxNUJ9zHjKPHLaoEAKGECDyILBX0vvOzFBaQ2sdCUxkAEQEKQTisRhSto0RKcFaQ2kNAB1QQqDtuijX66g1GnC1BvNgGJEAEAApBBK2jVwmAyoWD0OIqczBg8WjR4++T0IYz549e/Ty+fOHcJxb/ODByurGBir1+q4gIgEQQiA+OuoX/+zTq1d/TNp2XCnVZeD4kSMXhGFc2KrV5qlY/JLv3/8JzKjswoSIAsDwuqdi8Zsvrl27nrTtOCsFMMMAYACA1tCuiz2WFZ+enV2MTU3dyu3bh4RtQwrRd2gjAQjEDz9fv/5tpdFoaCKQYcAwTRimCSEliAisNUwAl6emLtOZM7O5TAbxWAxChJeiKGtoeBJkkknYqRQon39vdGzs6+bm5r9wnN8AlAGc+/jSpe/fzeXGWSkwESqNRu3XGzfylaWlldVXr9B23bebAa01as0m2q4Lu1ZDZWnpP8s0Z4UQEN70w7Z/oWPHfv/o4sV/Dh44MA5mJGw7Dik/sUzzO0EEwk6fiASAgc5uOw4c10W10ehS6ntDwrbBjx+X6cSJrz6fmbnFSkEDSO/ff5oHeMJQRsTMUJ7RdIfK60xrjbhlAcAfjXYbJhGU1hgfHz+ltH5jWD0xcAgJ4Za77YwZDMBRCq+rVfDy8upmtQrHdaGUQjqdzrG3qr5bDmRgh916BXYLIoLrulDNJurNJvaYJgBAKQXDMDBimm+kDEiyA4AQArZlIRWPw5ISzAyO4OsEQBoGjFgMZmDvLSlhJRJ4xzBQa7VQrtVQb7W6BrZjDUekRDadRvr8+bNjExMLRw4fLugBGvaCt6REIhbDqOz01nJd1NptPHn6dHl9ZWV+886de6XNze5KbmOAPCotKTE2MbHwwcmTBQLQ1TBCCKLOanp6j0gJU0pM5vOFP5kXLCknKbCSoVvAzJg4dKgAZkghAMOIDCCYo9sUAOXl7H0nyJB/AsxwHAfKdSEM4827/y2DmaGUguM43fz9AXihmaH9Deijfy+wfm88DuTrjXAARJ1k3od3PKbOb4i6ILrFmcOB+Oc9oPsyoJTqfAJFggCb7bbz18OHN7dKpUUASGazc5OnT18ZHRkxexnzJVBKRWDAn9BA58GOfDAPHj26Wb57dwZbW50HyeRM+tw5fDg5OR0mB3tn5NXYVQKtFHQIA0QECIHy+voiKhWslkoAgBwRyuvri5p5Gj03IGbu5oskAaEzNNxvCAeYkj872wD4IHwGoswA+0lChpC1RjKbnUMqNZPzD1MpJLPZOa01KGQQuc9wDpZAayilQofw1PHjV/YUi6htbCwCQDyTmSvk81e0d1fsLa61Hk6CIOIw5CNSmmcLhWkA00FpuMdoehmIJAERdY0jbHV8FnqTDTItPx9F8gEirK6tLR/Yu7fQr6Ohggiu1lhdW1seKIE/rU3HQfPFi/m/mRf2Z7OFoMuFJd/tGRFhvVRabr18Od90nG0es4MBpTVeV6vYWlq6N2qak32TD8kAADQdB6+r1e5lJBSA1hr1ZhOtdhvU5yo9dP0Au/6VzI//AS5iz037U6xIAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./skins/moono/images/hidpi/lock-open.png\n ** module id = 334\n ** module chunks = 0\n **/"],"sourceRoot":""}